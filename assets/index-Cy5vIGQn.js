(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function tI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Jp={exports:{}},Mu={};var WE;function nI(){if(WE)return Mu;WE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:l}}return Mu.Fragment=e,Mu.jsx=n,Mu.jsxs=n,Mu}var ZE;function iI(){return ZE||(ZE=1,Jp.exports=nI()),Jp.exports}var R=iI(),eg={exports:{}},Ae={};var JE;function rI(){if(JE)return Ae;JE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=E&&j[E]||j["@@iterator"],typeof j=="function"?j:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,N={};function U(j,ee,le){this.props=j,this.context=ee,this.refs=N,this.updater=le||D}U.prototype.isReactComponent={},U.prototype.setState=function(j,ee){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,ee,"setState")},U.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function B(){}B.prototype=U.prototype;function F(j,ee,le){this.props=j,this.context=ee,this.refs=N,this.updater=le||D}var se=F.prototype=new B;se.constructor=F,M(se,U.prototype),se.isPureReactComponent=!0;var re=Array.isArray;function oe(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function x(j,ee,le){var ce=le.ref;return{$$typeof:t,type:j,key:ee,ref:ce!==void 0?ce:null,props:le}}function k(j,ee){return x(j.type,ee,j.props)}function O(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function H(j){var ee={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(le){return ee[le]})}var P=/\/+/g;function Fe(j,ee){return typeof j=="object"&&j!==null&&j.key!=null?H(""+j.key):ee.toString(36)}function Xe(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(oe,oe):(j.status="pending",j.then(function(ee){j.status==="pending"&&(j.status="fulfilled",j.value=ee)},function(ee){j.status==="pending"&&(j.status="rejected",j.reason=ee)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function W(j,ee,le,ce,Ee){var Re=typeof j;(Re==="undefined"||Re==="boolean")&&(j=null);var Ve=!1;if(j===null)Ve=!0;else switch(Re){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(j.$$typeof){case t:case e:Ve=!0;break;case y:return Ve=j._init,W(Ve(j._payload),ee,le,ce,Ee)}}if(Ve)return Ee=Ee(j),Ve=ce===""?"."+Fe(j,0):ce,re(Ee)?(le="",Ve!=null&&(le=Ve.replace(P,"$&/")+"/"),W(Ee,ee,le,"",function(xi){return xi})):Ee!=null&&(O(Ee)&&(Ee=k(Ee,le+(Ee.key==null||j&&j.key===Ee.key?"":(""+Ee.key).replace(P,"$&/")+"/")+Ve)),ee.push(Ee)),1;Ve=0;var gt=ce===""?".":ce+":";if(re(j))for(var nt=0;nt<j.length;nt++)ce=j[nt],Re=gt+Fe(ce,nt),Ve+=W(ce,ee,le,Re,Ee);else if(nt=w(j),typeof nt=="function")for(j=nt.call(j),nt=0;!(ce=j.next()).done;)ce=ce.value,Re=gt+Fe(ce,nt++),Ve+=W(ce,ee,le,Re,Ee);else if(Re==="object"){if(typeof j.then=="function")return W(Xe(j),ee,le,ce,Ee);throw ee=String(j),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function ae(j,ee,le){if(j==null)return j;var ce=[],Ee=0;return W(j,ce,"","",function(Re){return ee.call(le,Re,Ee++)}),ce}function he(j){if(j._status===-1){var ee=j._result;ee=ee(),ee.then(function(le){(j._status===0||j._status===-1)&&(j._status=1,j._result=le)},function(le){(j._status===0||j._status===-1)&&(j._status=2,j._result=le)}),j._status===-1&&(j._status=0,j._result=ee)}if(j._status===1)return j._result.default;throw j._result}var Se=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Ne={map:ae,forEach:function(j,ee,le){ae(j,function(){ee.apply(this,arguments)},le)},count:function(j){var ee=0;return ae(j,function(){ee++}),ee},toArray:function(j){return ae(j,function(ee){return ee})||[]},only:function(j){if(!O(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Ae.Activity=v,Ae.Children=Ne,Ae.Component=U,Ae.Fragment=n,Ae.Profiler=a,Ae.PureComponent=F,Ae.StrictMode=r,Ae.Suspense=d,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(j){return I.H.useMemoCache(j)}},Ae.cache=function(j){return function(){return j.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(j,ee,le){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ce=M({},j.props),Ee=j.key;if(ee!=null)for(Re in ee.key!==void 0&&(Ee=""+ee.key),ee)!A.call(ee,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ee.ref===void 0||(ce[Re]=ee[Re]);var Re=arguments.length-2;if(Re===1)ce.children=le;else if(1<Re){for(var Ve=Array(Re),gt=0;gt<Re;gt++)Ve[gt]=arguments[gt+2];ce.children=Ve}return x(j.type,Ee,ce)},Ae.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:l,_context:j},j},Ae.createElement=function(j,ee,le){var ce,Ee={},Re=null;if(ee!=null)for(ce in ee.key!==void 0&&(Re=""+ee.key),ee)A.call(ee,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Ee[ce]=ee[ce]);var Ve=arguments.length-2;if(Ve===1)Ee.children=le;else if(1<Ve){for(var gt=Array(Ve),nt=0;nt<Ve;nt++)gt[nt]=arguments[nt+2];Ee.children=gt}if(j&&j.defaultProps)for(ce in Ve=j.defaultProps,Ve)Ee[ce]===void 0&&(Ee[ce]=Ve[ce]);return x(j,Re,Ee)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(j){return{$$typeof:h,render:j}},Ae.isValidElement=O,Ae.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:he}},Ae.memo=function(j,ee){return{$$typeof:p,type:j,compare:ee===void 0?null:ee}},Ae.startTransition=function(j){var ee=I.T,le={};I.T=le;try{var ce=j(),Ee=I.S;Ee!==null&&Ee(le,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(oe,Se)}catch(Re){Se(Re)}finally{ee!==null&&le.types!==null&&(ee.types=le.types),I.T=ee}},Ae.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ae.use=function(j){return I.H.use(j)},Ae.useActionState=function(j,ee,le){return I.H.useActionState(j,ee,le)},Ae.useCallback=function(j,ee){return I.H.useCallback(j,ee)},Ae.useContext=function(j){return I.H.useContext(j)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(j,ee){return I.H.useDeferredValue(j,ee)},Ae.useEffect=function(j,ee){return I.H.useEffect(j,ee)},Ae.useEffectEvent=function(j){return I.H.useEffectEvent(j)},Ae.useId=function(){return I.H.useId()},Ae.useImperativeHandle=function(j,ee,le){return I.H.useImperativeHandle(j,ee,le)},Ae.useInsertionEffect=function(j,ee){return I.H.useInsertionEffect(j,ee)},Ae.useLayoutEffect=function(j,ee){return I.H.useLayoutEffect(j,ee)},Ae.useMemo=function(j,ee){return I.H.useMemo(j,ee)},Ae.useOptimistic=function(j,ee){return I.H.useOptimistic(j,ee)},Ae.useReducer=function(j,ee,le){return I.H.useReducer(j,ee,le)},Ae.useRef=function(j){return I.H.useRef(j)},Ae.useState=function(j){return I.H.useState(j)},Ae.useSyncExternalStore=function(j,ee,le){return I.H.useSyncExternalStore(j,ee,le)},Ae.useTransition=function(){return I.H.useTransition()},Ae.version="19.2.0",Ae}var eb;function By(){return eb||(eb=1,eg.exports=rI()),eg.exports}var L=By();const ti=tI(L);var tg={exports:{}},Pu={},ng={exports:{}},ig={};var tb;function sI(){return tb||(tb=1,(function(t){function e(W,ae){var he=W.length;W.push(ae);e:for(;0<he;){var Se=he-1>>>1,Ne=W[Se];if(0<a(Ne,ae))W[Se]=ae,W[he]=Ne,he=Se;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var ae=W[0],he=W.pop();if(he!==ae){W[0]=he;e:for(var Se=0,Ne=W.length,j=Ne>>>1;Se<j;){var ee=2*(Se+1)-1,le=W[ee],ce=ee+1,Ee=W[ce];if(0>a(le,he))ce<Ne&&0>a(Ee,le)?(W[Se]=Ee,W[ce]=he,Se=ce):(W[Se]=le,W[ee]=he,Se=ee);else if(ce<Ne&&0>a(Ee,he))W[Se]=Ee,W[ce]=he,Se=ce;else break e}}return ae}function a(W,ae){var he=W.sortIndex-ae.sortIndex;return he!==0?he:W.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],y=1,v=null,E=3,w=!1,D=!1,M=!1,N=!1,U=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function se(W){for(var ae=n(p);ae!==null;){if(ae.callback===null)r(p);else if(ae.startTime<=W)r(p),ae.sortIndex=ae.expirationTime,e(d,ae);else break;ae=n(p)}}function re(W){if(M=!1,se(W),!D)if(n(d)!==null)D=!0,oe||(oe=!0,H());else{var ae=n(p);ae!==null&&Xe(re,ae.startTime-W)}}var oe=!1,I=-1,A=5,x=-1;function k(){return N?!0:!(t.unstable_now()-x<A)}function O(){if(N=!1,oe){var W=t.unstable_now();x=W;var ae=!0;try{e:{D=!1,M&&(M=!1,B(I),I=-1),w=!0;var he=E;try{t:{for(se(W),v=n(d);v!==null&&!(v.expirationTime>W&&k());){var Se=v.callback;if(typeof Se=="function"){v.callback=null,E=v.priorityLevel;var Ne=Se(v.expirationTime<=W);if(W=t.unstable_now(),typeof Ne=="function"){v.callback=Ne,se(W),ae=!0;break t}v===n(d)&&r(d),se(W)}else r(d);v=n(d)}if(v!==null)ae=!0;else{var j=n(p);j!==null&&Xe(re,j.startTime-W),ae=!1}}break e}finally{v=null,E=he,w=!1}ae=void 0}}finally{ae?H():oe=!1}}}var H;if(typeof F=="function")H=function(){F(O)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Fe=P.port2;P.port1.onmessage=O,H=function(){Fe.postMessage(null)}}else H=function(){U(O,0)};function Xe(W,ae){I=U(function(){W(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(W){switch(E){case 1:case 2:case 3:var ae=3;break;default:ae=E}var he=E;E=ae;try{return W()}finally{E=he}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(W,ae){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var he=E;E=W;try{return ae()}finally{E=he}},t.unstable_scheduleCallback=function(W,ae,he){var Se=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Se+he:Se):he=Se,W){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=he+Ne,W={id:y++,callback:ae,priorityLevel:W,startTime:he,expirationTime:Ne,sortIndex:-1},he>Se?(W.sortIndex=he,e(p,W),n(d)===null&&W===n(p)&&(M?(B(I),I=-1):M=!0,Xe(re,he-Se))):(W.sortIndex=Ne,e(d,W),D||w||(D=!0,oe||(oe=!0,H()))),W},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(W){var ae=E;return function(){var he=E;E=ae;try{return W.apply(this,arguments)}finally{E=he}}}})(ig)),ig}var nb;function aI(){return nb||(nb=1,ng.exports=sI()),ng.exports}var rg={exports:{}},sn={};var ib;function oI(){if(ib)return sn;ib=1;var t=By();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:p,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sn.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,y)},sn.flushSync=function(d){var p=u.T,y=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=p,r.p=y,r.d.f()}},sn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},sn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},sn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:w}):y==="script"&&r.d.X(d,{crossOrigin:v,integrity:E,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},sn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},sn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);r.d.L(d,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},sn.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=h(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},sn.requestFormReset=function(d){r.d.r(d)},sn.unstable_batchedUpdates=function(d,p){return d(p)},sn.useFormState=function(d,p,y){return u.H.useFormState(d,p,y)},sn.useFormStatus=function(){return u.H.useHostTransitionStatus()},sn.version="19.2.0",sn}var rb;function lI(){if(rb)return rg.exports;rb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rg.exports=oI(),rg.exports}var sb;function uI(){if(sb)return Pu;sb=1;var t=aI(),e=By(),n=lI();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,c=s;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return d(m),i;if(g===c)return d(m),s;g=g.sibling}throw Error(r(188))}if(o.return!==c.return)o=m,c=g;else{for(var T=!1,S=m.child;S;){if(S===o){T=!0,o=m,c=g;break}if(S===c){T=!0,c=m,o=g;break}S=S.sibling}if(!T){for(S=g.child;S;){if(S===o){T=!0,o=g,c=m;break}if(S===c){T=!0,c=g,o=m;break}S=S.sibling}if(!T)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function y(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=y(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),F=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=O&&i[O]||i["@@iterator"],typeof i=="function"?i:null)}var P=Symbol.for("react.client.reference");function Fe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===P?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case U:return"Profiler";case N:return"StrictMode";case re:return"Suspense";case oe:return"SuspenseList";case x:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case F:return i.displayName||"Context";case B:return(i._context.displayName||"Context")+".Consumer";case se:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return s=i.displayName||null,s!==null?s:Fe(i.type)||"Memo";case A:s=i._payload,i=i._init;try{return Fe(i(s))}catch{}}return null}var Xe=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Se=[],Ne=-1;function j(i){return{current:i}}function ee(i){0>Ne||(i.current=Se[Ne],Se[Ne]=null,Ne--)}function le(i,s){Ne++,Se[Ne]=i.current,i.current=s}var ce=j(null),Ee=j(null),Re=j(null),Ve=j(null);function gt(i,s){switch(le(Re,s),le(Ee,i),le(ce,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?TE(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=TE(s),i=EE(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ee(ce),le(ce,i)}function nt(){ee(ce),ee(Ee),ee(Re)}function xi(i){i.memoizedState!==null&&le(Ve,i);var s=ce.current,o=EE(s,i.type);s!==o&&(le(Ee,i),le(ce,o))}function hr(i){Ee.current===i&&(ee(ce),ee(Ee)),Ve.current===i&&(ee(Ve),xu._currentValue=he)}var Fr,Hr;function Di(i){if(Fr===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Fr=s&&s[1]||"",Hr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fr+i+Hr}var xl=!1;function ea(i,s){if(!i||xl)return"";xl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Q){var X=Q}Reflect.construct(i,[],te)}else{try{te.call()}catch(Q){X=Q}i.call(te.prototype)}}else{try{throw Error()}catch(Q){X=Q}(te=i())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Q){if(Q&&X&&typeof Q.stack=="string")return[Q.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],S=g[1];if(T&&S){var V=T.split(`
`),K=S.split(`
`);for(m=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;if(c===V.length||m===K.length)for(c=V.length-1,m=K.length-1;1<=c&&0<=m&&V[c]!==K[m];)m--;for(;1<=c&&0<=m;c--,m--)if(V[c]!==K[m]){if(c!==1||m!==1)do if(c--,m--,0>m||V[c]!==K[m]){var Z=`
`+V[c].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=c&&0<=m);break}}}finally{xl=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Di(o):""}function Dl(i,s){switch(i.tag){case 26:case 27:case 5:return Di(i.type);case 16:return Di("Lazy");case 13:return i.child!==s&&s!==null?Di("Suspense Fallback"):Di("Suspense");case 19:return Di("SuspenseList");case 0:case 15:return ea(i.type,!1);case 11:return ea(i.type.render,!1);case 1:return ea(i.type,!0);case 31:return Di("Activity");default:return""}}function Il(i){try{var s="",o=null;do s+=Dl(i,o),o=i,i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Rt=Object.prototype.hasOwnProperty,zt=t.unstable_scheduleCallback,qr=t.unstable_cancelCallback,tm=t.unstable_shouldYield,Lc=t.unstable_requestPaint,hn=t.unstable_now,ta=t.unstable_getCurrentPriorityLevel,Nl=t.unstable_ImmediatePriority,Ml=t.unstable_UserBlockingPriority,Gr=t.unstable_NormalPriority,nm=t.unstable_LowPriority,Uc=t.unstable_IdlePriority,jc=t.log,zc=t.unstable_setDisableYieldValue,li=null,Xt=null;function jn(i){if(typeof jc=="function"&&zc(i),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(li,i)}catch{}}var Tt=Math.clz32?Math.clz32:Fc,Bc=Math.log,to=Math.LN2;function Fc(i){return i>>>=0,i===0?32:31-(Bc(i)/to|0)|0}var Ii=256,na=262144,xt=4194304;function Ni(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Mi(i,s,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var S=c&134217727;return S!==0?(c=S&~g,c!==0?m=Ni(c):(T&=S,T!==0?m=Ni(T):o||(o=S&~i,o!==0&&(m=Ni(o))))):(S=c&~g,S!==0?m=Ni(S):T!==0?m=Ni(T):o||(o=c&~i,o!==0&&(m=Ni(o)))),m===0?0:s!==0&&s!==m&&(s&g)===0&&(g=m&-m,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:m}function ui(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function im(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hc(){var i=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),i}function Pi(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function ia(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function rm(i,s,o,c,m,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,V=i.expirationTimes,K=i.hiddenUpdates;for(o=T&~o;0<o;){var Z=31-Tt(o),te=1<<Z;S[Z]=0,V[Z]=-1;var X=K[Z];if(X!==null)for(K[Z]=null,Z=0;Z<X.length;Z++){var Q=X[Z];Q!==null&&(Q.lane&=-536870913)}o&=~te}c!==0&&ra(i,c,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~s))}function ra(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-Tt(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Pl(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var c=31-Tt(o),m=1<<c;m&s|i[c]&s&&(i[c]|=s),o&=~m}}function Vl(i,s){var o=s&-s;return o=(o&42)!==0?1:sa(o),(o&(i.suspendedLanes|s))!==0?0:o}function sa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function fr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function qc(){var i=ae.p;return i!==0?i:(i=window.event,i===void 0?32:qE(i.type))}function ci(i,s){var o=ae.p;try{return ae.p=i,s()}finally{ae.p=o}}var hi=Math.random().toString(36).slice(2),Dt="__reactFiber$"+hi,qt="__reactProps$"+hi,Vi="__reactContainer$"+hi,no="__reactEvents$"+hi,sm="__reactListeners$"+hi,Gc="__reactHandles$"+hi,Yc="__reactResources$"+hi,Oi="__reactMarker$"+hi;function io(i){delete i[Dt],delete i[qt],delete i[no],delete i[sm],delete i[Gc]}function ki(i){var s=i[Dt];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Vi]||o[Dt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=xE(i);i!==null;){if(o=i[Dt])return o;i=xE(i)}return s}i=o,o=i.parentNode}return null}function zn(i){if(i=i[Dt]||i[Vi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function xn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Li(i){var s=i[Yc];return s||(s=i[Yc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function It(i){i[Oi]=!0}var Ol=new Set,kl={};function Ui(i,s){ji(i,s),ji(i+"Capture",s)}function ji(i,s){for(kl[i]=s,i=0;i<s.length;i++)Ol.add(s[i])}var Ll=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ul={},jl={};function Kc(i){return Rt.call(jl,i)?!0:Rt.call(Ul,i)?!1:Ll.test(i)?jl[i]=!0:(Ul[i]=!0,!1)}function ro(i,s,o){if(Kc(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Dn(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Nt(i,s,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+c)}}function Gt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Yr(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function zl(i,s,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function $e(i){if(!i._valueTracker){var s=Yr(i)?"checked":"value";i._valueTracker=zl(i,s,""+i[s])}}function aa(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return i&&(c=Yr(i)?i.checked?"true":"false":i.value),i=c,i!==o?(s.setValue(i),!0):!1}function zi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var oa=/[\n"\\]/g;function gn(i){return i.replace(oa,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function so(i,s,o,c,m,g,T,S){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),s!=null?T==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Gt(s)):i.value!==""+Gt(s)&&(i.value=""+Gt(s)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),s!=null?Bl(i,T,Gt(s)):o!=null?Bl(i,T,Gt(o)):c!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+Gt(S):i.removeAttribute("name")}function Xc(i,s,o,c,m,g,T,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){$e(i);return}o=o!=null?""+Gt(o):"",s=s!=null?""+Gt(s):o,S||s===i.value||(i.value=s),i.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=S?i.checked:!!c,i.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),$e(i)}function Bl(i,s,o){s==="number"&&zi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Kr(i,s,o,c){if(i=i.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=s.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Gt(o),s=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function $c(i,s,o){if(s!=null&&(s=""+Gt(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+Gt(o):""}function Xr(i,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(r(92));if(Xe(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Gt(s),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),$e(i)}function yn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Qc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fl(i,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,o):typeof o!="number"||o===0||Qc.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Hl(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&o[m]!==c&&Fl(i,m,c)}else for(var g in s)s.hasOwnProperty(g)&&Fl(i,g,s[g])}function ao(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$r=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oo(i){return $r.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function fi(){}var ql=null;function Bn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Qr=null,Bi=null;function la(i){var s=zn(i);if(s&&(i=s.stateNode)){var o=i[qt]||null;e:switch(i=s.stateNode,s.type){case"input":if(so(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+gn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==i&&c.form===i.form){var m=c[qt]||null;if(!m)throw Error(r(90));so(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===i.form&&aa(c)}break e;case"textarea":$c(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Kr(i,!!o.multiple,s,!1)}}}var lo=!1;function Wr(i,s,o){if(lo)return i(s,o);lo=!0;try{var c=i(s);return c}finally{if(lo=!1,(Qr!==null||Bi!==null)&&(qh(),Qr&&(s=Qr,i=Bi,Bi=Qr=null,la(s),i)))for(s=0;s<i.length;s++)la(i[s])}}function di(i,s){var o=i.stateNode;if(o===null)return null;var c=o[qt]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ua=!1;if(Fn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){ua=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{ua=!1}var Fi=null,Gl=null,ca=null;function Yl(){if(ca)return ca;var i,s=Gl,o=s.length,c,m="value"in Fi?Fi.value:Fi.textContent,g=m.length;for(i=0;i<o&&s[i]===m[i];i++);var T=o-i;for(c=1;c<=T&&s[o-c]===m[g-c];c++);return ca=m.slice(i,1<c?1-c:void 0)}function ha(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function dr(){return!0}function mi(){return!1}function $t(i){function s(o,c,m,g,T){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?dr:mi,this.isPropagationStopped=mi,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),s}var mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=$t(mr),Zr=v({},mr,{view:0,detail:0}),Kl=$t(Zr),Jr,uo,qi,co=v({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:es,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==qi&&(qi&&i.type==="mousemove"?(Jr=i.screenX-qi.screenX,uo=i.screenY-qi.screenY):uo=Jr=0,qi=i),Jr)},movementY:function(i){return"movementY"in i?i.movementY:uo}}),Xl=$t(co),fa=v({},co,{dataTransfer:0}),Zc=$t(fa),Jc=v({},Zr,{relatedTarget:0}),da=$t(Jc),$l=v({},mr,{animationName:0,elapsedTime:0,pseudoElement:0}),eh=$t($l),ho=v({},mr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),th=$t(ho),nh=v({},mr,{data:0}),Gi=$t(nh),ih={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ah(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=sh[i])?!!s[i]:!1}function es(){return ah}var fn=v({},Zr,{key:function(i){if(i.key){var s=ih[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ha(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?rh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:es,charCode:function(i){return i.type==="keypress"?ha(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ha(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),oh=$t(fn),lh=v({},co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pr=$t(lh),f=v({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:es}),_=$t(f),b=v({},mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=$t(b),G=v({},co,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$=$t(G),ue=v({},mr,{newState:0,oldState:0}),xe=$t(ue),Et=[9,13,27,32],Ge=Fn&&"CompositionEvent"in window,ut=null;Fn&&"documentMode"in document&&(ut=document.documentMode);var Hn=Fn&&"TextEvent"in window&&!ut,Yi=Fn&&(!Ge||ut&&8<ut&&11>=ut),pi=" ",gi=!1;function ma(i,s){switch(i){case"keyup":return Et.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var mo=!1;function A2(i,s){switch(i){case"compositionend":return fo(s);case"keypress":return s.which!==32?null:(gi=!0,pi);case"textInput":return i=s.data,i===pi&&gi?null:i;default:return null}}function C2(i,s){if(mo)return i==="compositionend"||!Ge&&ma(i,s)?(i=Yl(),ca=Gl=Fi=null,mo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Yi&&s.locale!=="ko"?null:s.data;default:return null}}var R2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N0(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!R2[i.type]:s==="textarea"}function M0(i,s,o,c){Qr?Bi?Bi.push(c):Bi=[c]:Qr=c,s=Wh(s,"onChange"),0<s.length&&(o=new Hi("onChange","change",null,o,c),i.push({event:o,listeners:s}))}var Ql=null,Wl=null;function x2(i){mE(i,0)}function uh(i){var s=xn(i);if(aa(s))return i}function P0(i,s){if(i==="change")return s}var V0=!1;if(Fn){var am;if(Fn){var om="oninput"in document;if(!om){var O0=document.createElement("div");O0.setAttribute("oninput","return;"),om=typeof O0.oninput=="function"}am=om}else am=!1;V0=am&&(!document.documentMode||9<document.documentMode)}function k0(){Ql&&(Ql.detachEvent("onpropertychange",L0),Wl=Ql=null)}function L0(i){if(i.propertyName==="value"&&uh(Wl)){var s=[];M0(s,Wl,i,Bn(i)),Wr(x2,s)}}function D2(i,s,o){i==="focusin"?(k0(),Ql=s,Wl=o,Ql.attachEvent("onpropertychange",L0)):i==="focusout"&&k0()}function I2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return uh(Wl)}function N2(i,s){if(i==="click")return uh(s)}function M2(i,s){if(i==="input"||i==="change")return uh(s)}function P2(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var In=typeof Object.is=="function"?Object.is:P2;function Zl(i,s){if(In(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Rt.call(s,m)||!In(i[m],s[m]))return!1}return!0}function U0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function j0(i,s){var o=U0(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=s&&c>=s)return{node:o,offset:s-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=U0(o)}}function z0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?z0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function B0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=zi(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=zi(i.document)}return s}function lm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var V2=Fn&&"documentMode"in document&&11>=document.documentMode,po=null,um=null,Jl=null,cm=!1;function F0(i,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;cm||po==null||po!==zi(c)||(c=po,"selectionStart"in c&&lm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Jl&&Zl(Jl,c)||(Jl=c,c=Wh(um,"onSelect"),0<c.length&&(s=new Hi("onSelect","select",null,s,o),i.push({event:s,listeners:c}),s.target=po)))}function pa(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var go={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionrun:pa("Transition","TransitionRun"),transitionstart:pa("Transition","TransitionStart"),transitioncancel:pa("Transition","TransitionCancel"),transitionend:pa("Transition","TransitionEnd")},hm={},H0={};Fn&&(H0=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function ga(i){if(hm[i])return hm[i];if(!go[i])return i;var s=go[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in H0)return hm[i]=s[o];return i}var q0=ga("animationend"),G0=ga("animationiteration"),Y0=ga("animationstart"),O2=ga("transitionrun"),k2=ga("transitionstart"),L2=ga("transitioncancel"),K0=ga("transitionend"),X0=new Map,fm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fm.push("scrollEnd");function yi(i,s){X0.set(i,s),Ui(s,[i])}var ch=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},qn=[],yo=0,dm=0;function hh(){for(var i=yo,s=dm=yo=0;s<i;){var o=qn[s];qn[s++]=null;var c=qn[s];qn[s++]=null;var m=qn[s];qn[s++]=null;var g=qn[s];if(qn[s++]=null,c!==null&&m!==null){var T=c.pending;T===null?m.next=m:(m.next=T.next,T.next=m),c.pending=m}g!==0&&$0(o,m,g)}}function fh(i,s,o,c){qn[yo++]=i,qn[yo++]=s,qn[yo++]=o,qn[yo++]=c,dm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function mm(i,s,o,c){return fh(i,s,o,c),dh(i)}function ya(i,s){return fh(i,null,null,s),dh(i)}function $0(i,s,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&s!==null&&(m=31-Tt(o),i=g.hiddenUpdates,c=i[m],c===null?i[m]=[s]:c.push(s),s.lane=o|536870912),g):null}function dh(i){if(50<Eu)throw Eu=0,Sp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var vo={};function U2(i,s,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(i,s,o,c){return new U2(i,s,o,c)}function pm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function gr(i,s){var o=i.alternate;return o===null?(o=Nn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Q0(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function mh(i,s,o,c,m,g){var T=0;if(c=i,typeof i=="function")pm(i)&&(T=1);else if(typeof i=="string")T=HD(i,o,ce.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case x:return i=Nn(31,o,s,m),i.elementType=x,i.lanes=g,i;case M:return va(o.children,m,g,s);case N:T=8,m|=24;break;case U:return i=Nn(12,o,s,m|2),i.elementType=U,i.lanes=g,i;case re:return i=Nn(13,o,s,m),i.elementType=re,i.lanes=g,i;case oe:return i=Nn(19,o,s,m),i.elementType=oe,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:T=10;break e;case B:T=9;break e;case se:T=11;break e;case I:T=14;break e;case A:T=16,c=null;break e}T=29,o=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=Nn(T,o,s,m),s.elementType=i,s.type=c,s.lanes=g,s}function va(i,s,o,c){return i=Nn(7,i,c,s),i.lanes=o,i}function gm(i,s,o){return i=Nn(6,i,null,s),i.lanes=o,i}function W0(i){var s=Nn(18,null,null,0);return s.stateNode=i,s}function ym(i,s,o){return s=Nn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Z0=new WeakMap;function Gn(i,s){if(typeof i=="object"&&i!==null){var o=Z0.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Il(s)},Z0.set(i,s),s)}return{value:i,source:s,stack:Il(s)}}var _o=[],To=0,ph=null,eu=0,Yn=[],Kn=0,ts=null,Ki=1,Xi="";function yr(i,s){_o[To++]=eu,_o[To++]=ph,ph=i,eu=s}function J0(i,s,o){Yn[Kn++]=Ki,Yn[Kn++]=Xi,Yn[Kn++]=ts,ts=i;var c=Ki;i=Xi;var m=32-Tt(c)-1;c&=~(1<<m),o+=1;var g=32-Tt(s)+m;if(30<g){var T=m-m%5;g=(c&(1<<T)-1).toString(32),c>>=T,m-=T,Ki=1<<32-Tt(s)+m|o<<m|c,Xi=g+i}else Ki=1<<g|o<<m|c,Xi=i}function vm(i){i.return!==null&&(yr(i,1),J0(i,1,0))}function _m(i){for(;i===ph;)ph=_o[--To],_o[To]=null,eu=_o[--To],_o[To]=null;for(;i===ts;)ts=Yn[--Kn],Yn[Kn]=null,Xi=Yn[--Kn],Yn[Kn]=null,Ki=Yn[--Kn],Yn[Kn]=null}function e_(i,s){Yn[Kn++]=Ki,Yn[Kn++]=Xi,Yn[Kn++]=ts,Ki=s.id,Xi=s.overflow,ts=i}var Qt=null,st=null,ze=!1,ns=null,Xn=!1,Tm=Error(r(519));function is(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tu(Gn(s,i)),Tm}function t_(i){var s=i.stateNode,o=i.type,c=i.memoizedProps;switch(s[Dt]=i,s[qt]=c,o){case"dialog":Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":case"embed":Pe("load",s);break;case"video":case"audio":for(o=0;o<Su.length;o++)Pe(Su[o],s);break;case"source":Pe("error",s);break;case"img":case"image":case"link":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"input":Pe("invalid",s),Xc(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Pe("invalid",s);break;case"textarea":Pe("invalid",s),Xr(s,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||vE(s.textContent,o)?(c.popover!=null&&(Pe("beforetoggle",s),Pe("toggle",s)),c.onScroll!=null&&Pe("scroll",s),c.onScrollEnd!=null&&Pe("scrollend",s),c.onClick!=null&&(s.onclick=fi),s=!0):s=!1,s||is(i,!0)}function n_(i){for(Qt=i.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Qt=Qt.return}}function Eo(i){if(i!==Qt)return!1;if(!ze)return n_(i),ze=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Up(i.type,i.memoizedProps)),o=!o),o&&st&&is(i),n_(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));st=RE(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));st=RE(i)}else s===27?(s=st,ys(i.type)?(i=Hp,Hp=null,st=i):st=s):st=Qt?Qn(i.stateNode.nextSibling):null;return!0}function _a(){st=Qt=null,ze=!1}function Em(){var i=ns;return i!==null&&(En===null?En=i:En.push.apply(En,i),ns=null),i}function tu(i){ns===null?ns=[i]:ns.push(i)}var bm=j(null),Ta=null,vr=null;function rs(i,s,o){le(bm,s._currentValue),s._currentValue=o}function _r(i){i._currentValue=bm.current,ee(bm)}function Sm(i,s,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===o)break;i=i.return}}function wm(i,s,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var T=m.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=m;for(var V=0;V<s.length;V++)if(S.context===s[V]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),Sm(g.return,o,i),c||(T=null);break e}g=S.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(r(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),Sm(T,o,i),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===i){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function bo(i,s,o,c){i=null;for(var m=s,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var S=m.type;In(m.pendingProps.value,T.value)||(i!==null?i.push(S):i=[S])}}else if(m===Ve.current){if(T=m.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(xu):i=[xu])}m=m.return}i!==null&&wm(s,i,o,c),s.flags|=262144}function gh(i){for(i=i.firstContext;i!==null;){if(!In(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ea(i){Ta=i,vr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Wt(i){return i_(Ta,i)}function yh(i,s){return Ta===null&&Ea(i),i_(i,s)}function i_(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},vr===null){if(i===null)throw Error(r(308));vr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else vr=vr.next=s;return o}var j2=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},z2=t.unstable_scheduleCallback,B2=t.unstable_NormalPriority,Mt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Am(){return{controller:new j2,data:new Map,refCount:0}}function nu(i){i.refCount--,i.refCount===0&&z2(B2,function(){i.controller.abort()})}var iu=null,Cm=0,So=0,wo=null;function F2(i,s){if(iu===null){var o=iu=[];Cm=0,So=Dp(),wo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Cm++,s.then(r_,r_),s}function r_(){if(--Cm===0&&iu!==null){wo!==null&&(wo.status="fulfilled");var i=iu;iu=null,So=0,wo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function H2(i,s){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var s_=W.S;W.S=function(i,s){FT=hn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&F2(i,s),s_!==null&&s_(i,s)};var ba=j(null);function Rm(){var i=ba.current;return i!==null?i:it.pooledCache}function vh(i,s){s===null?le(ba,ba.current):le(ba,s.pool)}function a_(){var i=Rm();return i===null?null:{parent:Mt._currentValue,pool:i}}var Ao=Error(r(460)),xm=Error(r(474)),_h=Error(r(542)),Th={then:function(){}};function o_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function l_(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(fi,fi),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,c_(i),i;default:if(typeof s.status=="string")s.then(fi,fi);else{if(i=it,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,c_(i),i}throw wa=s,Ao}}function Sa(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(wa=o,Ao):o}}var wa=null;function u_(){if(wa===null)throw Error(r(459));var i=wa;return wa=null,i}function c_(i){if(i===Ao||i===_h)throw Error(r(483))}var Co=null,ru=0;function Eh(i){var s=ru;return ru+=1,Co===null&&(Co=[]),l_(Co,i,s)}function su(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function bh(i,s){throw s.$$typeof===E?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function h_(i){function s(q,z){if(i){var Y=q.deletions;Y===null?(q.deletions=[z],q.flags|=16):Y.push(z)}}function o(q,z){if(!i)return null;for(;z!==null;)s(q,z),z=z.sibling;return null}function c(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function m(q,z){return q=gr(q,z),q.index=0,q.sibling=null,q}function g(q,z,Y){return q.index=Y,i?(Y=q.alternate,Y!==null?(Y=Y.index,Y<z?(q.flags|=67108866,z):Y):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function T(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function S(q,z,Y,J){return z===null||z.tag!==6?(z=gm(Y,q.mode,J),z.return=q,z):(z=m(z,Y),z.return=q,z)}function V(q,z,Y,J){var ge=Y.type;return ge===M?Z(q,z,Y.props.children,J,Y.key):z!==null&&(z.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===A&&Sa(ge)===z.type)?(z=m(z,Y.props),su(z,Y),z.return=q,z):(z=mh(Y.type,Y.key,Y.props,null,q.mode,J),su(z,Y),z.return=q,z)}function K(q,z,Y,J){return z===null||z.tag!==4||z.stateNode.containerInfo!==Y.containerInfo||z.stateNode.implementation!==Y.implementation?(z=ym(Y,q.mode,J),z.return=q,z):(z=m(z,Y.children||[]),z.return=q,z)}function Z(q,z,Y,J,ge){return z===null||z.tag!==7?(z=va(Y,q.mode,J,ge),z.return=q,z):(z=m(z,Y),z.return=q,z)}function te(q,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=gm(""+z,q.mode,Y),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return Y=mh(z.type,z.key,z.props,null,q.mode,Y),su(Y,z),Y.return=q,Y;case D:return z=ym(z,q.mode,Y),z.return=q,z;case A:return z=Sa(z),te(q,z,Y)}if(Xe(z)||H(z))return z=va(z,q.mode,Y,null),z.return=q,z;if(typeof z.then=="function")return te(q,Eh(z),Y);if(z.$$typeof===F)return te(q,yh(q,z),Y);bh(q,z)}return null}function X(q,z,Y,J){var ge=z!==null?z.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ge!==null?null:S(q,z,""+Y,J);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:return Y.key===ge?V(q,z,Y,J):null;case D:return Y.key===ge?K(q,z,Y,J):null;case A:return Y=Sa(Y),X(q,z,Y,J)}if(Xe(Y)||H(Y))return ge!==null?null:Z(q,z,Y,J,null);if(typeof Y.then=="function")return X(q,z,Eh(Y),J);if(Y.$$typeof===F)return X(q,z,yh(q,Y),J);bh(q,Y)}return null}function Q(q,z,Y,J,ge){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return q=q.get(Y)||null,S(z,q,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return q=q.get(J.key===null?Y:J.key)||null,V(z,q,J,ge);case D:return q=q.get(J.key===null?Y:J.key)||null,K(z,q,J,ge);case A:return J=Sa(J),Q(q,z,Y,J,ge)}if(Xe(J)||H(J))return q=q.get(Y)||null,Z(z,q,J,ge,null);if(typeof J.then=="function")return Q(q,z,Y,Eh(J),ge);if(J.$$typeof===F)return Q(q,z,Y,yh(z,J),ge);bh(z,J)}return null}function de(q,z,Y,J){for(var ge=null,He=null,pe=z,Ie=z=0,ke=null;pe!==null&&Ie<Y.length;Ie++){pe.index>Ie?(ke=pe,pe=null):ke=pe.sibling;var qe=X(q,pe,Y[Ie],J);if(qe===null){pe===null&&(pe=ke);break}i&&pe&&qe.alternate===null&&s(q,pe),z=g(qe,z,Ie),He===null?ge=qe:He.sibling=qe,He=qe,pe=ke}if(Ie===Y.length)return o(q,pe),ze&&yr(q,Ie),ge;if(pe===null){for(;Ie<Y.length;Ie++)pe=te(q,Y[Ie],J),pe!==null&&(z=g(pe,z,Ie),He===null?ge=pe:He.sibling=pe,He=pe);return ze&&yr(q,Ie),ge}for(pe=c(pe);Ie<Y.length;Ie++)ke=Q(pe,q,Ie,Y[Ie],J),ke!==null&&(i&&ke.alternate!==null&&pe.delete(ke.key===null?Ie:ke.key),z=g(ke,z,Ie),He===null?ge=ke:He.sibling=ke,He=ke);return i&&pe.forEach(function(bs){return s(q,bs)}),ze&&yr(q,Ie),ge}function ve(q,z,Y,J){if(Y==null)throw Error(r(151));for(var ge=null,He=null,pe=z,Ie=z=0,ke=null,qe=Y.next();pe!==null&&!qe.done;Ie++,qe=Y.next()){pe.index>Ie?(ke=pe,pe=null):ke=pe.sibling;var bs=X(q,pe,qe.value,J);if(bs===null){pe===null&&(pe=ke);break}i&&pe&&bs.alternate===null&&s(q,pe),z=g(bs,z,Ie),He===null?ge=bs:He.sibling=bs,He=bs,pe=ke}if(qe.done)return o(q,pe),ze&&yr(q,Ie),ge;if(pe===null){for(;!qe.done;Ie++,qe=Y.next())qe=te(q,qe.value,J),qe!==null&&(z=g(qe,z,Ie),He===null?ge=qe:He.sibling=qe,He=qe);return ze&&yr(q,Ie),ge}for(pe=c(pe);!qe.done;Ie++,qe=Y.next())qe=Q(pe,q,Ie,qe.value,J),qe!==null&&(i&&qe.alternate!==null&&pe.delete(qe.key===null?Ie:qe.key),z=g(qe,z,Ie),He===null?ge=qe:He.sibling=qe,He=qe);return i&&pe.forEach(function(eI){return s(q,eI)}),ze&&yr(q,Ie),ge}function tt(q,z,Y,J){if(typeof Y=="object"&&Y!==null&&Y.type===M&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case w:e:{for(var ge=Y.key;z!==null;){if(z.key===ge){if(ge=Y.type,ge===M){if(z.tag===7){o(q,z.sibling),J=m(z,Y.props.children),J.return=q,q=J;break e}}else if(z.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===A&&Sa(ge)===z.type){o(q,z.sibling),J=m(z,Y.props),su(J,Y),J.return=q,q=J;break e}o(q,z);break}else s(q,z);z=z.sibling}Y.type===M?(J=va(Y.props.children,q.mode,J,Y.key),J.return=q,q=J):(J=mh(Y.type,Y.key,Y.props,null,q.mode,J),su(J,Y),J.return=q,q=J)}return T(q);case D:e:{for(ge=Y.key;z!==null;){if(z.key===ge)if(z.tag===4&&z.stateNode.containerInfo===Y.containerInfo&&z.stateNode.implementation===Y.implementation){o(q,z.sibling),J=m(z,Y.children||[]),J.return=q,q=J;break e}else{o(q,z);break}else s(q,z);z=z.sibling}J=ym(Y,q.mode,J),J.return=q,q=J}return T(q);case A:return Y=Sa(Y),tt(q,z,Y,J)}if(Xe(Y))return de(q,z,Y,J);if(H(Y)){if(ge=H(Y),typeof ge!="function")throw Error(r(150));return Y=ge.call(Y),ve(q,z,Y,J)}if(typeof Y.then=="function")return tt(q,z,Eh(Y),J);if(Y.$$typeof===F)return tt(q,z,yh(q,Y),J);bh(q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,z!==null&&z.tag===6?(o(q,z.sibling),J=m(z,Y),J.return=q,q=J):(o(q,z),J=gm(Y,q.mode,J),J.return=q,q=J),T(q)):o(q,z)}return function(q,z,Y,J){try{ru=0;var ge=tt(q,z,Y,J);return Co=null,ge}catch(pe){if(pe===Ao||pe===_h)throw pe;var He=Nn(29,pe,null,q.mode);return He.lanes=J,He.return=q,He}finally{}}}var Aa=h_(!0),f_=h_(!1),ss=!1;function Dm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Im(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function as(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function os(i,s,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Ye&2)!==0){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=dh(i),$0(i,null,o),s}return fh(i,c,s,o),dh(i)}function au(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,Pl(i,o)}}function Nm(i,s){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?m=g=s:g=g.next=s}else m=g=s;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Mm=!1;function ou(){if(Mm){var i=wo;if(i!==null)throw i}}function lu(i,s,o,c){Mm=!1;var m=i.updateQueue;ss=!1;var g=m.firstBaseUpdate,T=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var V=S,K=V.next;V.next=null,T===null?g=K:T.next=K,T=V;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==T&&(S===null?Z.firstBaseUpdate=K:S.next=K,Z.lastBaseUpdate=V))}if(g!==null){var te=m.baseState;T=0,Z=K=V=null,S=g;do{var X=S.lane&-536870913,Q=X!==S.lane;if(Q?(Oe&X)===X:(c&X)===X){X!==0&&X===So&&(Mm=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var de=i,ve=S;X=s;var tt=o;switch(ve.tag){case 1:if(de=ve.payload,typeof de=="function"){te=de.call(tt,te,X);break e}te=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=ve.payload,X=typeof de=="function"?de.call(tt,te,X):de,X==null)break e;te=v({},te,X);break e;case 2:ss=!0}}X=S.callback,X!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=m.callbacks,Q===null?m.callbacks=[X]:Q.push(X))}else Q={lane:X,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(K=Z=Q,V=te):Z=Z.next=Q,T|=X;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,m.lastBaseUpdate=Q,m.shared.pending=null}}while(!0);Z===null&&(V=te),m.baseState=V,m.firstBaseUpdate=K,m.lastBaseUpdate=Z,g===null&&(m.shared.lanes=0),fs|=T,i.lanes=T,i.memoizedState=te}}function d_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function m_(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)d_(o[i],s)}var Ro=j(null),Sh=j(0);function p_(i,s){i=xr,le(Sh,i),le(Ro,s),xr=i|s.baseLanes}function Pm(){le(Sh,xr),le(Ro,Ro.current)}function Vm(){xr=Sh.current,ee(Ro),ee(Sh)}var Mn=j(null),$n=null;function ls(i){var s=i.alternate;le(bt,bt.current&1),le(Mn,i),$n===null&&(s===null||Ro.current!==null||s.memoizedState!==null)&&($n=i)}function Om(i){le(bt,bt.current),le(Mn,i),$n===null&&($n=i)}function g_(i){i.tag===22?(le(bt,bt.current),le(Mn,i),$n===null&&($n=i)):us()}function us(){le(bt,bt.current),le(Mn,Mn.current)}function Pn(i){ee(Mn),$n===i&&($n=null),ee(bt)}var bt=j(0);function wh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Bp(o)||Fp(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Tr=0,De=null,Je=null,Pt=null,Ah=!1,xo=!1,Ca=!1,Ch=0,uu=0,Do=null,q2=0;function yt(){throw Error(r(321))}function km(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!In(i[o],s[o]))return!1;return!0}function Lm(i,s,o,c,m,g){return Tr=g,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=i===null||i.memoizedState===null?J_:Zm,Ca=!1,g=o(c,m),Ca=!1,xo&&(g=v_(s,o,c,m)),y_(i),g}function y_(i){W.H=fu;var s=Je!==null&&Je.next!==null;if(Tr=0,Pt=Je=De=null,Ah=!1,uu=0,Do=null,s)throw Error(r(300));i===null||Vt||(i=i.dependencies,i!==null&&gh(i)&&(Vt=!0))}function v_(i,s,o,c){De=i;var m=0;do{if(xo&&(Do=null),uu=0,xo=!1,25<=m)throw Error(r(301));if(m+=1,Pt=Je=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=eT,g=s(o,c)}while(xo);return g}function G2(){var i=W.H,s=i.useState()[0];return s=typeof s.then=="function"?cu(s):s,i=i.useState()[0],(Je!==null?Je.memoizedState:null)!==i&&(De.flags|=1024),s}function Um(){var i=Ch!==0;return Ch=0,i}function jm(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function zm(i){if(Ah){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Ah=!1}Tr=0,Pt=Je=De=null,xo=!1,uu=Ch=0,Do=null}function dn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?De.memoizedState=Pt=i:Pt=Pt.next=i,Pt}function St(){if(Je===null){var i=De.alternate;i=i!==null?i.memoizedState:null}else i=Je.next;var s=Pt===null?De.memoizedState:Pt.next;if(s!==null)Pt=s,Je=i;else{if(i===null)throw De.alternate===null?Error(r(467)):Error(r(310));Je=i,i={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Pt===null?De.memoizedState=Pt=i:Pt=Pt.next=i}return Pt}function Rh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cu(i){var s=uu;return uu+=1,Do===null&&(Do=[]),i=l_(Do,i,s),s=De,(Pt===null?s.memoizedState:Pt.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?J_:Zm),i}function xh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return cu(i);if(i.$$typeof===F)return Wt(i)}throw Error(r(438,String(i)))}function Bm(i){var s=null,o=De.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=De.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Rh(),De.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),c=0;c<i;c++)o[c]=k;return s.index++,o}function Er(i,s){return typeof s=="function"?s(i):s}function Dh(i){var s=St();return Fm(s,Je,i)}function Fm(i,s,o){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var m=i.baseQueue,g=c.pending;if(g!==null){if(m!==null){var T=m.next;m.next=g.next,g.next=T}s.baseQueue=m=g,c.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{s=m.next;var S=T=null,V=null,K=s,Z=!1;do{var te=K.lane&-536870913;if(te!==K.lane?(Oe&te)===te:(Tr&te)===te){var X=K.revertLane;if(X===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),te===So&&(Z=!0);else if((Tr&X)===X){K=K.next,X===So&&(Z=!0);continue}else te={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(S=V=te,T=g):V=V.next=te,De.lanes|=X,fs|=X;te=K.action,Ca&&o(g,te),g=K.hasEagerState?K.eagerState:o(g,te)}else X={lane:te,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(S=V=X,T=g):V=V.next=X,De.lanes|=te,fs|=te;K=K.next}while(K!==null&&K!==s);if(V===null?T=g:V.next=S,!In(g,i.memoizedState)&&(Vt=!0,Z&&(o=wo,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=V,c.lastRenderedState=g}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Hm(i){var s=St(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,g=s.memoizedState;if(m!==null){o.pending=null;var T=m=m.next;do g=i(g,T.action),T=T.next;while(T!==m);In(g,s.memoizedState)||(Vt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function __(i,s,o){var c=De,m=St(),g=ze;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var T=!In((Je||m).memoizedState,o);if(T&&(m.memoizedState=o,Vt=!0),m=m.queue,Ym(b_.bind(null,c,m,i),[i]),m.getSnapshot!==s||T||Pt!==null&&Pt.memoizedState.tag&1){if(c.flags|=2048,Io(9,{destroy:void 0},E_.bind(null,c,m,o,s),null),it===null)throw Error(r(349));g||(Tr&127)!==0||T_(c,s,o)}return o}function T_(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=De.updateQueue,s===null?(s=Rh(),De.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function E_(i,s,o,c){s.value=o,s.getSnapshot=c,S_(s)&&w_(i)}function b_(i,s,o){return o(function(){S_(s)&&w_(i)})}function S_(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!In(i,o)}catch{return!0}}function w_(i){var s=ya(i,2);s!==null&&bn(s,i,2)}function qm(i){var s=dn();if(typeof i=="function"){var o=i;if(i=o(),Ca){jn(!0);try{o()}finally{jn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:i},s}function A_(i,s,o,c){return i.baseState=o,Fm(i,Je,typeof c=="function"?c:Er)}function Y2(i,s,o,c,m){if(Mh(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};W.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,C_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function C_(i,s){var o=s.action,c=s.payload,m=i.state;if(s.isTransition){var g=W.T,T={};W.T=T;try{var S=o(m,c),V=W.S;V!==null&&V(T,S),R_(i,s,S)}catch(K){Gm(i,s,K)}finally{g!==null&&T.types!==null&&(g.types=T.types),W.T=g}}else try{g=o(m,c),R_(i,s,g)}catch(K){Gm(i,s,K)}}function R_(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){x_(i,s,c)},function(c){return Gm(i,s,c)}):x_(i,s,o)}function x_(i,s,o){s.status="fulfilled",s.value=o,D_(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,C_(i,o)))}function Gm(i,s,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,D_(s),s=s.next;while(s!==c)}i.action=null}function D_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function I_(i,s){return s}function N_(i,s){if(ze){var o=it.formState;if(o!==null){e:{var c=De;if(ze){if(st){t:{for(var m=st,g=Xn;m.nodeType!==8;){if(!g){m=null;break t}if(m=Qn(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){st=Qn(m.nextSibling),c=m.data==="F!";break e}}is(c)}c=!1}c&&(s=o[0])}}return o=dn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:I_,lastRenderedState:s},o.queue=c,o=Q_.bind(null,De,c),c.dispatch=o,c=qm(!1),g=Wm.bind(null,De,!1,c.queue),c=dn(),m={state:s,dispatch:null,action:i,pending:null},c.queue=m,o=Y2.bind(null,De,m,g,o),m.dispatch=o,c.memoizedState=i,[s,o,!1]}function M_(i){var s=St();return P_(s,Je,i)}function P_(i,s,o){if(s=Fm(i,s,I_)[0],i=Dh(Er)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=cu(s)}catch(T){throw T===Ao?_h:T}else c=s;s=St();var m=s.queue,g=m.dispatch;return o!==s.memoizedState&&(De.flags|=2048,Io(9,{destroy:void 0},K2.bind(null,m,o),null)),[c,g,i]}function K2(i,s){i.action=s}function V_(i){var s=St(),o=Je;if(o!==null)return P_(s,o,i);St(),s=s.memoizedState,o=St();var c=o.queue.dispatch;return o.memoizedState=i,[s,c,!1]}function Io(i,s,o,c){return i={tag:i,create:o,deps:c,inst:s,next:null},s=De.updateQueue,s===null&&(s=Rh(),De.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,s.lastEffect=i),i}function O_(){return St().memoizedState}function Ih(i,s,o,c){var m=dn();De.flags|=i,m.memoizedState=Io(1|s,{destroy:void 0},o,c===void 0?null:c)}function Nh(i,s,o,c){var m=St();c=c===void 0?null:c;var g=m.memoizedState.inst;Je!==null&&c!==null&&km(c,Je.memoizedState.deps)?m.memoizedState=Io(s,g,o,c):(De.flags|=i,m.memoizedState=Io(1|s,g,o,c))}function k_(i,s){Ih(8390656,8,i,s)}function Ym(i,s){Nh(2048,8,i,s)}function X2(i){De.flags|=4;var s=De.updateQueue;if(s===null)s=Rh(),De.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function L_(i){var s=St().memoizedState;return X2({ref:s,nextImpl:i}),function(){if((Ye&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function U_(i,s){return Nh(4,2,i,s)}function j_(i,s){return Nh(4,4,i,s)}function z_(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function B_(i,s,o){o=o!=null?o.concat([i]):null,Nh(4,4,z_.bind(null,s,i),o)}function Km(){}function F_(i,s){var o=St();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&km(s,c[1])?c[0]:(o.memoizedState=[i,s],i)}function H_(i,s){var o=St();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&km(s,c[1]))return c[0];if(c=i(),Ca){jn(!0);try{i()}finally{jn(!1)}}return o.memoizedState=[c,s],c}function Xm(i,s,o){return o===void 0||(Tr&1073741824)!==0&&(Oe&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=qT(),De.lanes|=i,fs|=i,o)}function q_(i,s,o,c){return In(o,s)?o:Ro.current!==null?(i=Xm(i,o,c),In(i,s)||(Vt=!0),i):(Tr&42)===0||(Tr&1073741824)!==0&&(Oe&261930)===0?(Vt=!0,i.memoizedState=o):(i=qT(),De.lanes|=i,fs|=i,s)}function G_(i,s,o,c,m){var g=ae.p;ae.p=g!==0&&8>g?g:8;var T=W.T,S={};W.T=S,Wm(i,!1,s,o);try{var V=m(),K=W.S;if(K!==null&&K(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var Z=H2(V,c);hu(i,s,Z,kn(i))}else hu(i,s,c,kn(i))}catch(te){hu(i,s,{then:function(){},status:"rejected",reason:te},kn())}finally{ae.p=g,T!==null&&S.types!==null&&(T.types=S.types),W.T=T}}function $2(){}function $m(i,s,o,c){if(i.tag!==5)throw Error(r(476));var m=Y_(i).queue;G_(i,m,s,he,o===null?$2:function(){return K_(i),o(c)})}function Y_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:he},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Er,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function K_(i){var s=Y_(i);s.next===null&&(s=i.alternate.memoizedState),hu(i,s.next.queue,{},kn())}function Qm(){return Wt(xu)}function X_(){return St().memoizedState}function $_(){return St().memoizedState}function Q2(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=kn();i=as(o);var c=os(s,i,o);c!==null&&(bn(c,s,o),au(c,s,o)),s={cache:Am()},i.payload=s;return}s=s.return}}function W2(i,s,o){var c=kn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Mh(i)?W_(s,o):(o=mm(i,s,o,c),o!==null&&(bn(o,i,c),Z_(o,s,c)))}function Q_(i,s,o){var c=kn();hu(i,s,o,c)}function hu(i,s,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Mh(i))W_(s,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,S=g(T,o);if(m.hasEagerState=!0,m.eagerState=S,In(S,T))return fh(i,s,m,0),it===null&&hh(),!1}catch{}finally{}if(o=mm(i,s,m,c),o!==null)return bn(o,i,c),Z_(o,s,c),!0}return!1}function Wm(i,s,o,c){if(c={lane:2,revertLane:Dp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Mh(i)){if(s)throw Error(r(479))}else s=mm(i,o,c,2),s!==null&&bn(s,i,2)}function Mh(i){var s=i.alternate;return i===De||s!==null&&s===De}function W_(i,s){xo=Ah=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function Z_(i,s,o){if((o&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,Pl(i,o)}}var fu={readContext:Wt,use:xh,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};fu.useEffectEvent=yt;var J_={readContext:Wt,use:xh,useCallback:function(i,s){return dn().memoizedState=[i,s===void 0?null:s],i},useContext:Wt,useEffect:k_,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,Ih(4194308,4,z_.bind(null,s,i),o)},useLayoutEffect:function(i,s){return Ih(4194308,4,i,s)},useInsertionEffect:function(i,s){Ih(4,2,i,s)},useMemo:function(i,s){var o=dn();s=s===void 0?null:s;var c=i();if(Ca){jn(!0);try{i()}finally{jn(!1)}}return o.memoizedState=[c,s],c},useReducer:function(i,s,o){var c=dn();if(o!==void 0){var m=o(s);if(Ca){jn(!0);try{o(s)}finally{jn(!1)}}}else m=s;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=W2.bind(null,De,i),[c.memoizedState,i]},useRef:function(i){var s=dn();return i={current:i},s.memoizedState=i},useState:function(i){i=qm(i);var s=i.queue,o=Q_.bind(null,De,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Km,useDeferredValue:function(i,s){var o=dn();return Xm(o,i,s)},useTransition:function(){var i=qm(!1);return i=G_.bind(null,De,i.queue,!0,!1),dn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var c=De,m=dn();if(ze){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),it===null)throw Error(r(349));(Oe&127)!==0||T_(c,s,o)}m.memoizedState=o;var g={value:o,getSnapshot:s};return m.queue=g,k_(b_.bind(null,c,g,i),[i]),c.flags|=2048,Io(9,{destroy:void 0},E_.bind(null,c,g,o,s),null),o},useId:function(){var i=dn(),s=it.identifierPrefix;if(ze){var o=Xi,c=Ki;o=(c&~(1<<32-Tt(c)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Ch++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=q2++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Qm,useFormState:N_,useActionState:N_,useOptimistic:function(i){var s=dn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Wm.bind(null,De,!0,o),o.dispatch=s,[i,s]},useMemoCache:Bm,useCacheRefresh:function(){return dn().memoizedState=Q2.bind(null,De)},useEffectEvent:function(i){var s=dn(),o={impl:i};return s.memoizedState=o,function(){if((Ye&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},Zm={readContext:Wt,use:xh,useCallback:F_,useContext:Wt,useEffect:Ym,useImperativeHandle:B_,useInsertionEffect:U_,useLayoutEffect:j_,useMemo:H_,useReducer:Dh,useRef:O_,useState:function(){return Dh(Er)},useDebugValue:Km,useDeferredValue:function(i,s){var o=St();return q_(o,Je.memoizedState,i,s)},useTransition:function(){var i=Dh(Er)[0],s=St().memoizedState;return[typeof i=="boolean"?i:cu(i),s]},useSyncExternalStore:__,useId:X_,useHostTransitionStatus:Qm,useFormState:M_,useActionState:M_,useOptimistic:function(i,s){var o=St();return A_(o,Je,i,s)},useMemoCache:Bm,useCacheRefresh:$_};Zm.useEffectEvent=L_;var eT={readContext:Wt,use:xh,useCallback:F_,useContext:Wt,useEffect:Ym,useImperativeHandle:B_,useInsertionEffect:U_,useLayoutEffect:j_,useMemo:H_,useReducer:Hm,useRef:O_,useState:function(){return Hm(Er)},useDebugValue:Km,useDeferredValue:function(i,s){var o=St();return Je===null?Xm(o,i,s):q_(o,Je.memoizedState,i,s)},useTransition:function(){var i=Hm(Er)[0],s=St().memoizedState;return[typeof i=="boolean"?i:cu(i),s]},useSyncExternalStore:__,useId:X_,useHostTransitionStatus:Qm,useFormState:V_,useActionState:V_,useOptimistic:function(i,s){var o=St();return Je!==null?A_(o,Je,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Bm,useCacheRefresh:$_};eT.useEffectEvent=L_;function Jm(i,s,o,c){s=i.memoizedState,o=o(c,s),o=o==null?s:v({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var ep={enqueueSetState:function(i,s,o){i=i._reactInternals;var c=kn(),m=as(c);m.payload=s,o!=null&&(m.callback=o),s=os(i,m,c),s!==null&&(bn(s,i,c),au(s,i,c))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var c=kn(),m=as(c);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=os(i,m,c),s!==null&&(bn(s,i,c),au(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=kn(),c=as(o);c.tag=2,s!=null&&(c.callback=s),s=os(i,c,o),s!==null&&(bn(s,i,o),au(s,i,o))}};function tT(i,s,o,c,m,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,T):s.prototype&&s.prototype.isPureReactComponent?!Zl(o,c)||!Zl(m,g):!0}function nT(i,s,o,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==i&&ep.enqueueReplaceState(s,s.state,null)}function Ra(i,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(i=i.defaultProps){o===s&&(o=v({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function iT(i){ch(i)}function rT(i){console.error(i)}function sT(i){ch(i)}function Ph(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function aT(i,s,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function tp(i,s,o){return o=as(o),o.tag=3,o.payload={element:null},o.callback=function(){Ph(i,s)},o}function oT(i){return i=as(i),i.tag=3,i}function lT(i,s,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;i.payload=function(){return m(g)},i.callback=function(){aT(s,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){aT(s,o,c),typeof m!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function Z2(i,s,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&bo(s,o,m,!0),o=Mn.current,o!==null){switch(o.tag){case 31:case 13:return $n===null?Gh():o.alternate===null&&vt===0&&(vt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Th?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Cp(i,c,m)),!1;case 22:return o.flags|=65536,c===Th?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Cp(i,c,m)),!1}throw Error(r(435,o.tag))}return Cp(i,c,m),Gh(),!1}if(ze)return s=Mn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==Tm&&(i=Error(r(422),{cause:c}),tu(Gn(i,o)))):(c!==Tm&&(s=Error(r(423),{cause:c}),tu(Gn(s,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=Gn(c,o),m=tp(i.stateNode,c,m),Nm(i,m),vt!==4&&(vt=2)),!1;var g=Error(r(520),{cause:c});if(g=Gn(g,o),Tu===null?Tu=[g]:Tu.push(g),vt!==4&&(vt=2),s===null)return!0;c=Gn(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=tp(o.stateNode,c,i),Nm(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ds===null||!ds.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=oT(m),lT(m,i,o,c),Nm(o,m),!1}o=o.return}while(o!==null);return!1}var np=Error(r(461)),Vt=!1;function Zt(i,s,o,c){s.child=i===null?f_(s,null,o,c):Aa(s,i.child,o,c)}function uT(i,s,o,c,m){o=o.render;var g=s.ref;if("ref"in c){var T={};for(var S in c)S!=="ref"&&(T[S]=c[S])}else T=c;return Ea(s),c=Lm(i,s,o,T,g,m),S=Um(),i!==null&&!Vt?(jm(i,s,m),br(i,s,m)):(ze&&S&&vm(s),s.flags|=1,Zt(i,s,c,m),s.child)}function cT(i,s,o,c,m){if(i===null){var g=o.type;return typeof g=="function"&&!pm(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,hT(i,s,g,c,m)):(i=mh(o.type,null,c,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!cp(i,m)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Zl,o(T,c)&&i.ref===s.ref)return br(i,s,m)}return s.flags|=1,i=gr(g,c),i.ref=s.ref,i.return=s,s.child=i}function hT(i,s,o,c,m){if(i!==null){var g=i.memoizedProps;if(Zl(g,c)&&i.ref===s.ref)if(Vt=!1,s.pendingProps=c=g,cp(i,m))(i.flags&131072)!==0&&(Vt=!0);else return s.lanes=i.lanes,br(i,s,m)}return ip(i,s,o,c,m)}function fT(i,s,o,c){var m=c.children,g=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=s.child=i.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,s.child=null;return dT(i,s,g,o,c)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&vh(s,g!==null?g.cachePool:null),g!==null?p_(s,g):Pm(),g_(s);else return c=s.lanes=536870912,dT(i,s,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(vh(s,g.cachePool),p_(s,g),us(),s.memoizedState=null):(i!==null&&vh(s,null),Pm(),us());return Zt(i,s,m,o),s.child}function du(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function dT(i,s,o,c,m){var g=Rm();return g=g===null?null:{parent:Mt._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},i!==null&&vh(s,null),Pm(),g_(s),i!==null&&bo(i,s,c,!0),s.childLanes=m,null}function Vh(i,s){return s=kh({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function mT(i,s,o){return Aa(s,i.child,null,o),i=Vh(s,s.pendingProps),i.flags|=2,Pn(s),s.memoizedState=null,i}function J2(i,s,o){var c=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(ze){if(c.mode==="hidden")return i=Vh(s,c),s.lanes=536870912,du(null,i);if(Om(s),(i=st)?(i=CE(i,Xn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ts!==null?{id:Ki,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},o=W0(i),o.return=s,s.child=o,Qt=s,st=null)):i=null,i===null)throw is(s);return s.lanes=536870912,null}return Vh(s,c)}var g=i.memoizedState;if(g!==null){var T=g.dehydrated;if(Om(s),m)if(s.flags&256)s.flags&=-257,s=mT(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Vt||bo(i,s,o,!1),m=(o&i.childLanes)!==0,Vt||m){if(c=it,c!==null&&(T=Vl(c,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,ya(i,T),bn(c,i,T),np;Gh(),s=mT(i,s,o)}else i=g.treeContext,st=Qn(T.nextSibling),Qt=s,ze=!0,ns=null,Xn=!1,i!==null&&e_(s,i),s=Vh(s,c),s.flags|=4096;return s}return i=gr(i.child,{mode:c.mode,children:c.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Oh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function ip(i,s,o,c,m){return Ea(s),o=Lm(i,s,o,c,void 0,m),c=Um(),i!==null&&!Vt?(jm(i,s,m),br(i,s,m)):(ze&&c&&vm(s),s.flags|=1,Zt(i,s,o,m),s.child)}function pT(i,s,o,c,m,g){return Ea(s),s.updateQueue=null,o=v_(s,c,o,m),y_(i),c=Um(),i!==null&&!Vt?(jm(i,s,g),br(i,s,g)):(ze&&c&&vm(s),s.flags|=1,Zt(i,s,o,g),s.child)}function gT(i,s,o,c,m){if(Ea(s),s.stateNode===null){var g=vo,T=o.contextType;typeof T=="object"&&T!==null&&(g=Wt(T)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ep,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},Dm(s),T=o.contextType,g.context=typeof T=="object"&&T!==null?Wt(T):vo,g.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Jm(s,o,T,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&ep.enqueueReplaceState(g,g.state,null),lu(s,c,g,m),ou(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){g=s.stateNode;var S=s.memoizedProps,V=Ra(o,S);g.props=V;var K=g.context,Z=o.contextType;T=vo,typeof Z=="object"&&Z!==null&&(T=Wt(Z));var te=o.getDerivedStateFromProps;Z=typeof te=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||K!==T)&&nT(s,g,c,T),ss=!1;var X=s.memoizedState;g.state=X,lu(s,c,g,m),ou(),K=s.memoizedState,S||X!==K||ss?(typeof te=="function"&&(Jm(s,o,te,c),K=s.memoizedState),(V=ss||tT(s,o,V,c,X,K,T))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=K),g.props=c,g.state=K,g.context=T,c=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,Im(i,s),T=s.memoizedProps,Z=Ra(o,T),g.props=Z,te=s.pendingProps,X=g.context,K=o.contextType,V=vo,typeof K=="object"&&K!==null&&(V=Wt(K)),S=o.getDerivedStateFromProps,(K=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==te||X!==V)&&nT(s,g,c,V),ss=!1,X=s.memoizedState,g.state=X,lu(s,c,g,m),ou();var Q=s.memoizedState;T!==te||X!==Q||ss||i!==null&&i.dependencies!==null&&gh(i.dependencies)?(typeof S=="function"&&(Jm(s,o,S,c),Q=s.memoizedState),(Z=ss||tT(s,o,Z,c,X,Q,V)||i!==null&&i.dependencies!==null&&gh(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,Q,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,Q,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Q),g.props=c,g.state=Q,g.context=V,c=Z):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),c=!1)}return g=c,Oh(i,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&c?(s.child=Aa(s,i.child,null,m),s.child=Aa(s,null,o,m)):Zt(i,s,o,m),s.memoizedState=g.state,i=s.child):i=br(i,s,m),i}function yT(i,s,o,c){return _a(),s.flags|=256,Zt(i,s,o,c),s.child}var rp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sp(i){return{baseLanes:i,cachePool:a_()}}function ap(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=On),i}function vT(i,s,o){var c=s.pendingProps,m=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(bt.current&2)!==0),T&&(m=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,i===null){if(ze){if(m?ls(s):us(),(i=st)?(i=CE(i,Xn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:ts!==null?{id:Ki,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},o=W0(i),o.return=s,s.child=o,Qt=s,st=null)):i=null,i===null)throw is(s);return Fp(i)?s.lanes=32:s.lanes=536870912,null}var S=c.children;return c=c.fallback,m?(us(),m=s.mode,S=kh({mode:"hidden",children:S},m),c=va(c,m,o,null),S.return=s,c.return=s,S.sibling=c,s.child=S,c=s.child,c.memoizedState=sp(o),c.childLanes=ap(i,T,o),s.memoizedState=rp,du(null,c)):(ls(s),op(s,S))}var V=i.memoizedState;if(V!==null&&(S=V.dehydrated,S!==null)){if(g)s.flags&256?(ls(s),s.flags&=-257,s=lp(i,s,o)):s.memoizedState!==null?(us(),s.child=i.child,s.flags|=128,s=null):(us(),S=c.fallback,m=s.mode,c=kh({mode:"visible",children:c.children},m),S=va(S,m,o,null),S.flags|=2,c.return=s,S.return=s,c.sibling=S,s.child=c,Aa(s,i.child,null,o),c=s.child,c.memoizedState=sp(o),c.childLanes=ap(i,T,o),s.memoizedState=rp,s=du(null,c));else if(ls(s),Fp(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var K=T.dgst;T=K,c=Error(r(419)),c.stack="",c.digest=T,tu({value:c,source:null,stack:null}),s=lp(i,s,o)}else if(Vt||bo(i,s,o,!1),T=(o&i.childLanes)!==0,Vt||T){if(T=it,T!==null&&(c=Vl(T,o),c!==0&&c!==V.retryLane))throw V.retryLane=c,ya(i,c),bn(T,i,c),np;Bp(S)||Gh(),s=lp(i,s,o)}else Bp(S)?(s.flags|=192,s.child=i.child,s=null):(i=V.treeContext,st=Qn(S.nextSibling),Qt=s,ze=!0,ns=null,Xn=!1,i!==null&&e_(s,i),s=op(s,c.children),s.flags|=4096);return s}return m?(us(),S=c.fallback,m=s.mode,V=i.child,K=V.sibling,c=gr(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,K!==null?S=gr(K,S):(S=va(S,m,o,null),S.flags|=2),S.return=s,c.return=s,c.sibling=S,s.child=c,du(null,c),c=s.child,S=i.child.memoizedState,S===null?S=sp(o):(m=S.cachePool,m!==null?(V=Mt._currentValue,m=m.parent!==V?{parent:V,pool:V}:m):m=a_(),S={baseLanes:S.baseLanes|o,cachePool:m}),c.memoizedState=S,c.childLanes=ap(i,T,o),s.memoizedState=rp,du(i.child,c)):(ls(s),o=i.child,i=o.sibling,o=gr(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,i!==null&&(T=s.deletions,T===null?(s.deletions=[i],s.flags|=16):T.push(i)),s.child=o,s.memoizedState=null,o)}function op(i,s){return s=kh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function kh(i,s){return i=Nn(22,i,null,s),i.lanes=0,i}function lp(i,s,o){return Aa(s,i.child,null,o),i=op(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function _T(i,s,o){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),Sm(i.return,s,o)}function up(i,s,o,c,m,g){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=m,T.treeForkCount=g)}function TT(i,s,o){var c=s.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var T=bt.current,S=(T&2)!==0;if(S?(T=T&1|2,s.flags|=128):T&=1,le(bt,T),Zt(i,s,c,o),c=ze?eu:0,!S&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&_T(i,o,s);else if(i.tag===19)_T(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=s.child,m=null;o!==null;)i=o.alternate,i!==null&&wh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),up(s,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&wh(i)===null){s.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}up(s,!0,o,null,g,c);break;case"together":up(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function br(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),fs|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(bo(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=gr(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=gr(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function cp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&gh(i)))}function eD(i,s,o){switch(s.tag){case 3:gt(s,s.stateNode.containerInfo),rs(s,Mt,i.memoizedState.cache),_a();break;case 27:case 5:xi(s);break;case 4:gt(s,s.stateNode.containerInfo);break;case 10:rs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Om(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ls(s),s.flags|=128,null):(o&s.child.childLanes)!==0?vT(i,s,o):(ls(s),i=br(i,s,o),i!==null?i.sibling:null);ls(s);break;case 19:var m=(i.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(bo(i,s,o,!1),c=(o&s.childLanes)!==0),m){if(c)return TT(i,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),le(bt,bt.current),c)break;return null;case 22:return s.lanes=0,fT(i,s,o,s.pendingProps);case 24:rs(s,Mt,i.memoizedState.cache)}return br(i,s,o)}function ET(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Vt=!0;else{if(!cp(i,o)&&(s.flags&128)===0)return Vt=!1,eD(i,s,o);Vt=(i.flags&131072)!==0}else Vt=!1,ze&&(s.flags&1048576)!==0&&J0(s,eu,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(i=Sa(s.elementType),s.type=i,typeof i=="function")pm(i)?(c=Ra(i,c),s.tag=1,s=gT(null,s,i,c,o)):(s.tag=0,s=ip(null,s,i,c,o));else{if(i!=null){var m=i.$$typeof;if(m===se){s.tag=11,s=uT(null,s,i,c,o);break e}else if(m===I){s.tag=14,s=cT(null,s,i,c,o);break e}}throw s=Fe(i)||i,Error(r(306,s,""))}}return s;case 0:return ip(i,s,s.type,s.pendingProps,o);case 1:return c=s.type,m=Ra(c,s.pendingProps),gT(i,s,c,m,o);case 3:e:{if(gt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var g=s.memoizedState;m=g.element,Im(i,s),lu(s,c,null,o);var T=s.memoizedState;if(c=T.cache,rs(s,Mt,c),c!==g.cache&&wm(s,[Mt],o,!0),ou(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=yT(i,s,c,o);break e}else if(c!==m){m=Gn(Error(r(424)),s),tu(m),s=yT(i,s,c,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(st=Qn(i.firstChild),Qt=s,ze=!0,ns=null,Xn=!0,o=f_(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(_a(),c===m){s=br(i,s,o);break e}Zt(i,s,c,o)}s=s.child}return s;case 26:return Oh(i,s),i===null?(o=ME(s.type,null,s.pendingProps,null))?s.memoizedState=o:ze||(o=s.type,i=s.pendingProps,c=Zh(Re.current).createElement(o),c[Dt]=s,c[qt]=i,Jt(c,o,i),It(c),s.stateNode=c):s.memoizedState=ME(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return xi(s),i===null&&ze&&(c=s.stateNode=DE(s.type,s.pendingProps,Re.current),Qt=s,Xn=!0,m=st,ys(s.type)?(Hp=m,st=Qn(c.firstChild)):st=m),Zt(i,s,s.pendingProps.children,o),Oh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&ze&&((m=c=st)&&(c=ID(c,s.type,s.pendingProps,Xn),c!==null?(s.stateNode=c,Qt=s,st=Qn(c.firstChild),Xn=!1,m=!0):m=!1),m||is(s)),xi(s),m=s.type,g=s.pendingProps,T=i!==null?i.memoizedProps:null,c=g.children,Up(m,g)?c=null:T!==null&&Up(m,T)&&(s.flags|=32),s.memoizedState!==null&&(m=Lm(i,s,G2,null,null,o),xu._currentValue=m),Oh(i,s),Zt(i,s,c,o),s.child;case 6:return i===null&&ze&&((i=o=st)&&(o=ND(o,s.pendingProps,Xn),o!==null?(s.stateNode=o,Qt=s,st=null,i=!0):i=!1),i||is(s)),null;case 13:return vT(i,s,o);case 4:return gt(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=Aa(s,null,c,o):Zt(i,s,c,o),s.child;case 11:return uT(i,s,s.type,s.pendingProps,o);case 7:return Zt(i,s,s.pendingProps,o),s.child;case 8:return Zt(i,s,s.pendingProps.children,o),s.child;case 12:return Zt(i,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,rs(s,s.type,c.value),Zt(i,s,c.children,o),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,Ea(s),m=Wt(m),c=c(m),s.flags|=1,Zt(i,s,c,o),s.child;case 14:return cT(i,s,s.type,s.pendingProps,o);case 15:return hT(i,s,s.type,s.pendingProps,o);case 19:return TT(i,s,o);case 31:return J2(i,s,o);case 22:return fT(i,s,o,s.pendingProps);case 24:return Ea(s),c=Wt(Mt),i===null?(m=Rm(),m===null&&(m=it,g=Am(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),s.memoizedState={parent:c,cache:m},Dm(s),rs(s,Mt,m)):((i.lanes&o)!==0&&(Im(i,s),lu(s,null,null,o),ou()),m=i.memoizedState,g=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),rs(s,Mt,c)):(c=g.cache,rs(s,Mt,c),c!==m.cache&&wm(s,[Mt],o,!0))),Zt(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Sr(i){i.flags|=4}function hp(i,s,o,c,m){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(XT())i.flags|=8192;else throw wa=Th,xm}else i.flags&=-16777217}function bT(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!LE(s))if(XT())i.flags|=8192;else throw wa=Th,xm}function Lh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Hc():536870912,i.lanes|=s,Vo|=s)}function mu(i,s){if(!ze)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function at(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(s)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,s}function tD(i,s,o){var c=s.pendingProps;switch(_m(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(s),null;case 1:return at(s),null;case 3:return o=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),_r(Mt),nt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Eo(s)?Sr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Em())),at(s),null;case 26:var m=s.type,g=s.memoizedState;return i===null?(Sr(s),g!==null?(at(s),bT(s,g)):(at(s),hp(s,m,null,c,o))):g?g!==i.memoizedState?(Sr(s),at(s),bT(s,g)):(at(s),s.flags&=-16777217):(i=i.memoizedProps,i!==c&&Sr(s),at(s),hp(s,m,i,c,o)),null;case 27:if(hr(s),o=Re.current,m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Sr(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return at(s),null}i=ce.current,Eo(s)?t_(s):(i=DE(m,c,o),s.stateNode=i,Sr(s))}return at(s),null;case 5:if(hr(s),m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Sr(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return at(s),null}if(g=ce.current,Eo(s))t_(s);else{var T=Zh(Re.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(m,{is:c.is}):T.createElement(m)}}g[Dt]=s,g[qt]=c;e:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break e;for(;T.sibling===null;){if(T.return===null||T.return===s)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=g;e:switch(Jt(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Sr(s)}}return at(s),hp(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&Sr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=Re.current,Eo(s)){if(i=s.stateNode,o=s.memoizedProps,c=null,m=Qt,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[Dt]=s,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||vE(i.nodeValue,o)),i||is(s,!0)}else i=Zh(i).createTextNode(c),i[Dt]=s,s.stateNode=i}return at(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(c=Eo(s),o!==null){if(i===null){if(!c)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Dt]=s}else _a(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;at(s),i=!1}else o=Em(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(Pn(s),s):(Pn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return at(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Eo(s),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Dt]=s}else _a(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;at(s),m=!1}else m=Em(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Pn(s),s):(Pn(s),null)}return Pn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),Lh(s,s.updateQueue),at(s),null);case 4:return nt(),i===null&&Pp(s.stateNode.containerInfo),at(s),null;case 10:return _r(s.type),at(s),null;case 19:if(ee(bt),c=s.memoizedState,c===null)return at(s),null;if(m=(s.flags&128)!==0,g=c.rendering,g===null)if(m)mu(c,!1);else{if(vt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=wh(i),g!==null){for(s.flags|=128,mu(c,!1),i=g.updateQueue,s.updateQueue=i,Lh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)Q0(o,i),o=o.sibling;return le(bt,bt.current&1|2),ze&&yr(s,c.treeForkCount),s.child}i=i.sibling}c.tail!==null&&hn()>Fh&&(s.flags|=128,m=!0,mu(c,!1),s.lanes=4194304)}else{if(!m)if(i=wh(g),i!==null){if(s.flags|=128,m=!0,i=i.updateQueue,s.updateQueue=i,Lh(s,i),mu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!ze)return at(s),null}else 2*hn()-c.renderingStartTime>Fh&&o!==536870912&&(s.flags|=128,m=!0,mu(c,!1),s.lanes=4194304);c.isBackwards?(g.sibling=s.child,s.child=g):(i=c.last,i!==null?i.sibling=g:s.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=hn(),i.sibling=null,o=bt.current,le(bt,m?o&1|2:o&1),ze&&yr(s,c.treeForkCount),i):(at(s),null);case 22:case 23:return Pn(s),Vm(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(at(s),s.subtreeFlags&6&&(s.flags|=8192)):at(s),o=s.updateQueue,o!==null&&Lh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),i!==null&&ee(ba),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),_r(Mt),at(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function nD(i,s){switch(_m(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return _r(Mt),nt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return hr(s),null;case 31:if(s.memoizedState!==null){if(Pn(s),s.alternate===null)throw Error(r(340));_a()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Pn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));_a()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ee(bt),null;case 4:return nt(),null;case 10:return _r(s.type),null;case 22:case 23:return Pn(s),Vm(),i!==null&&ee(ba),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return _r(Mt),null;case 25:return null;default:return null}}function ST(i,s){switch(_m(s),s.tag){case 3:_r(Mt),nt();break;case 26:case 27:case 5:hr(s);break;case 4:nt();break;case 31:s.memoizedState!==null&&Pn(s);break;case 13:Pn(s);break;case 19:ee(bt);break;case 10:_r(s.type);break;case 22:case 23:Pn(s),Vm(),i!==null&&ee(ba);break;case 24:_r(Mt)}}function pu(i,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var g=o.create,T=o.inst;c=g(),T.destroy=c}o=o.next}while(o!==m)}}catch(S){We(s,s.return,S)}}function cs(i,s,o){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&i)===i){var T=c.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,m=s;var V=o,K=S;try{K()}catch(Z){We(m,V,Z)}}}c=c.next}while(c!==g)}}catch(Z){We(s,s.return,Z)}}function wT(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{m_(s,o)}catch(c){We(i,i.return,c)}}}function AT(i,s,o){o.props=Ra(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){We(i,s,c)}}function gu(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(m){We(i,s,m)}}function $i(i,s){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){We(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){We(i,s,m)}else o.current=null}function CT(i){var s=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){We(i,i.return,m)}}function fp(i,s,o){try{var c=i.stateNode;wD(c,i.type,o,s),c[qt]=s}catch(m){We(i,i.return,m)}}function RT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ys(i.type)||i.tag===4}function dp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||RT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ys(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function mp(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=fi));else if(c!==4&&(c===27&&ys(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(mp(i,s,o),i=i.sibling;i!==null;)mp(i,s,o),i=i.sibling}function Uh(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(c!==4&&(c===27&&ys(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Uh(i,s,o),i=i.sibling;i!==null;)Uh(i,s,o),i=i.sibling}function xT(i){var s=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);Jt(s,c,o),s[Dt]=i,s[qt]=o}catch(g){We(i,i.return,g)}}var wr=!1,Ot=!1,pp=!1,DT=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function iD(i,s){if(i=i.containerInfo,kp=af,i=B0(i),lm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var T=0,S=-1,V=-1,K=0,Z=0,te=i,X=null;t:for(;;){for(var Q;te!==o||m!==0&&te.nodeType!==3||(S=T+m),te!==g||c!==0&&te.nodeType!==3||(V=T+c),te.nodeType===3&&(T+=te.nodeValue.length),(Q=te.firstChild)!==null;)X=te,te=Q;for(;;){if(te===i)break t;if(X===o&&++K===m&&(S=T),X===g&&++Z===c&&(V=T),(Q=te.nextSibling)!==null)break;te=X,X=te.parentNode}te=Q}o=S===-1||V===-1?null:{start:S,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(Lp={focusedElem:i,selectionRange:o},af=!1,Yt=s;Yt!==null;)if(s=Yt,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Yt=i;else for(;Yt!==null;){switch(s=Yt,g=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var de=Ra(o.type,m);i=c.getSnapshotBeforeUpdate(de,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(ve){We(o,o.return,ve)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)zp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":zp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Yt=i;break}Yt=s.return}}function IT(i,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Cr(i,o),c&4&&pu(5,o);break;case 1:if(Cr(i,o),c&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(T){We(o,o.return,T)}else{var m=Ra(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(T){We(o,o.return,T)}}c&64&&wT(o),c&512&&gu(o,o.return);break;case 3:if(Cr(i,o),c&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{m_(i,s)}catch(T){We(o,o.return,T)}}break;case 27:s===null&&c&4&&xT(o);case 26:case 5:Cr(i,o),s===null&&c&4&&CT(o),c&512&&gu(o,o.return);break;case 12:Cr(i,o);break;case 31:Cr(i,o),c&4&&PT(i,o);break;case 13:Cr(i,o),c&4&&VT(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=fD.bind(null,o),MD(i,o))));break;case 22:if(c=o.memoizedState!==null||wr,!c){s=s!==null&&s.memoizedState!==null||Ot,m=wr;var g=Ot;wr=c,(Ot=s)&&!g?Rr(i,o,(o.subtreeFlags&8772)!==0):Cr(i,o),wr=m,Ot=g}break;case 30:break;default:Cr(i,o)}}function NT(i){var s=i.alternate;s!==null&&(i.alternate=null,NT(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&io(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ct=null,vn=!1;function Ar(i,s,o){for(o=o.child;o!==null;)MT(i,s,o),o=o.sibling}function MT(i,s,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(li,o)}catch{}switch(o.tag){case 26:Ot||$i(o,s),Ar(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ot||$i(o,s);var c=ct,m=vn;ys(o.type)&&(ct=o.stateNode,vn=!1),Ar(i,s,o),Au(o.stateNode),ct=c,vn=m;break;case 5:Ot||$i(o,s);case 6:if(c=ct,m=vn,ct=null,Ar(i,s,o),ct=c,vn=m,ct!==null)if(vn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(o.stateNode)}catch(g){We(o,s,g)}else try{ct.removeChild(o.stateNode)}catch(g){We(o,s,g)}break;case 18:ct!==null&&(vn?(i=ct,wE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Fo(i)):wE(ct,o.stateNode));break;case 4:c=ct,m=vn,ct=o.stateNode.containerInfo,vn=!0,Ar(i,s,o),ct=c,vn=m;break;case 0:case 11:case 14:case 15:cs(2,o,s),Ot||cs(4,o,s),Ar(i,s,o);break;case 1:Ot||($i(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&AT(o,s,c)),Ar(i,s,o);break;case 21:Ar(i,s,o);break;case 22:Ot=(c=Ot)||o.memoizedState!==null,Ar(i,s,o),Ot=c;break;default:Ar(i,s,o)}}function PT(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Fo(i)}catch(o){We(s,s.return,o)}}}function VT(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Fo(i)}catch(o){We(s,s.return,o)}}function rD(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new DT),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new DT),s;default:throw Error(r(435,i.tag))}}function jh(i,s){var o=rD(i);s.forEach(function(c){if(!o.has(c)){o.add(c);var m=dD.bind(null,i,c);c.then(m,m)}})}function _n(i,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=i,T=s,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(ys(S.type)){ct=S.stateNode,vn=!1;break e}break;case 5:ct=S.stateNode,vn=!1;break e;case 3:case 4:ct=S.stateNode.containerInfo,vn=!0;break e}S=S.return}if(ct===null)throw Error(r(160));MT(g,T,m),ct=null,vn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)OT(s,i),s=s.sibling}var vi=null;function OT(i,s){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:_n(s,i),Tn(i),c&4&&(cs(3,i,i.return),pu(3,i),cs(5,i,i.return));break;case 1:_n(s,i),Tn(i),c&512&&(Ot||o===null||$i(o,o.return)),c&64&&wr&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=vi;if(_n(s,i),Tn(i),c&512&&(Ot||o===null||$i(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Oi]||g[Dt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),Jt(g,c,o),g[Dt]=i,It(g),c=g;break e;case"link":var T=OE("link","href",m).get(c+(o.href||""));if(T){for(var S=0;S<T.length;S++)if(g=T[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(S,1);break t}}g=m.createElement(c),Jt(g,c,o),m.head.appendChild(g);break;case"meta":if(T=OE("meta","content",m).get(c+(o.content||""))){for(S=0;S<T.length;S++)if(g=T[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(S,1);break t}}g=m.createElement(c),Jt(g,c,o),m.head.appendChild(g);break;default:throw Error(r(468,c))}g[Dt]=i,It(g),c=g}i.stateNode=c}else kE(m,i.type,i.stateNode);else i.stateNode=VE(m,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?kE(m,i.type,i.stateNode):VE(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&fp(i,i.memoizedProps,o.memoizedProps)}break;case 27:_n(s,i),Tn(i),c&512&&(Ot||o===null||$i(o,o.return)),o!==null&&c&4&&fp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(_n(s,i),Tn(i),c&512&&(Ot||o===null||$i(o,o.return)),i.flags&32){m=i.stateNode;try{yn(m,"")}catch(de){We(i,i.return,de)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,fp(i,m,o!==null?o.memoizedProps:m)),c&1024&&(pp=!0);break;case 6:if(_n(s,i),Tn(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(de){We(i,i.return,de)}}break;case 3:if(tf=null,m=vi,vi=Jh(s.containerInfo),_n(s,i),vi=m,Tn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Fo(s.containerInfo)}catch(de){We(i,i.return,de)}pp&&(pp=!1,kT(i));break;case 4:c=vi,vi=Jh(i.stateNode.containerInfo),_n(s,i),Tn(i),vi=c;break;case 12:_n(s,i),Tn(i);break;case 31:_n(s,i),Tn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,jh(i,c)));break;case 13:_n(s,i),Tn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Bh=hn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,jh(i,c)));break;case 22:m=i.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,K=wr,Z=Ot;if(wr=K||m,Ot=Z||V,_n(s,i),Ot=Z,wr=K,Tn(i),c&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||V||wr||Ot||xa(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){V=o=s;try{if(g=V.stateNode,m)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=V.stateNode;var te=V.memoizedProps.style,X=te!=null&&te.hasOwnProperty("display")?te.display:null;S.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(de){We(V,V.return,de)}}}else if(s.tag===6){if(o===null){V=s;try{V.stateNode.nodeValue=m?"":V.memoizedProps}catch(de){We(V,V.return,de)}}}else if(s.tag===18){if(o===null){V=s;try{var Q=V.stateNode;m?AE(Q,!0):AE(V.stateNode,!1)}catch(de){We(V,V.return,de)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,jh(i,o))));break;case 19:_n(s,i),Tn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,jh(i,c)));break;case 30:break;case 21:break;default:_n(s,i),Tn(i)}}function Tn(i){var s=i.flags;if(s&2){try{for(var o,c=i.return;c!==null;){if(RT(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var m=o.stateNode,g=dp(i);Uh(i,g,m);break;case 5:var T=o.stateNode;o.flags&32&&(yn(T,""),o.flags&=-33);var S=dp(i);Uh(i,S,T);break;case 3:case 4:var V=o.stateNode.containerInfo,K=dp(i);mp(i,K,V);break;default:throw Error(r(161))}}catch(Z){We(i,i.return,Z)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function kT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;kT(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Cr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)IT(i,s.alternate,s),s=s.sibling}function xa(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:cs(4,s,s.return),xa(s);break;case 1:$i(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&AT(s,s.return,o),xa(s);break;case 27:Au(s.stateNode);case 26:case 5:$i(s,s.return),xa(s);break;case 22:s.memoizedState===null&&xa(s);break;case 30:xa(s);break;default:xa(s)}i=i.sibling}}function Rr(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=i,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:Rr(m,g,o),pu(4,g);break;case 1:if(Rr(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(K){We(c,c.return,K)}if(c=g,m=c.updateQueue,m!==null){var S=c.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)d_(V[m],S)}catch(K){We(c,c.return,K)}}o&&T&64&&wT(g),gu(g,g.return);break;case 27:xT(g);case 26:case 5:Rr(m,g,o),o&&c===null&&T&4&&CT(g),gu(g,g.return);break;case 12:Rr(m,g,o);break;case 31:Rr(m,g,o),o&&T&4&&PT(m,g);break;case 13:Rr(m,g,o),o&&T&4&&VT(m,g);break;case 22:g.memoizedState===null&&Rr(m,g,o),gu(g,g.return);break;case 30:break;default:Rr(m,g,o)}s=s.sibling}}function gp(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&nu(o))}function yp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&nu(i))}function _i(i,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)LT(i,s,o,c),s=s.sibling}function LT(i,s,o,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:_i(i,s,o,c),m&2048&&pu(9,s);break;case 1:_i(i,s,o,c);break;case 3:_i(i,s,o,c),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&nu(i)));break;case 12:if(m&2048){_i(i,s,o,c),i=s.stateNode;try{var g=s.memoizedProps,T=g.id,S=g.onPostCommit;typeof S=="function"&&S(T,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){We(s,s.return,V)}}else _i(i,s,o,c);break;case 31:_i(i,s,o,c);break;case 13:_i(i,s,o,c);break;case 23:break;case 22:g=s.stateNode,T=s.alternate,s.memoizedState!==null?g._visibility&2?_i(i,s,o,c):yu(i,s):g._visibility&2?_i(i,s,o,c):(g._visibility|=2,No(i,s,o,c,(s.subtreeFlags&10256)!==0||!1)),m&2048&&gp(T,s);break;case 24:_i(i,s,o,c),m&2048&&yp(s.alternate,s);break;default:_i(i,s,o,c)}}function No(i,s,o,c,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=i,T=s,S=o,V=c,K=T.flags;switch(T.tag){case 0:case 11:case 15:No(g,T,S,V,m),pu(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?No(g,T,S,V,m):yu(g,T):(Z._visibility|=2,No(g,T,S,V,m)),m&&K&2048&&gp(T.alternate,T);break;case 24:No(g,T,S,V,m),m&&K&2048&&yp(T.alternate,T);break;default:No(g,T,S,V,m)}s=s.sibling}}function yu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,c=s,m=c.flags;switch(c.tag){case 22:yu(o,c),m&2048&&gp(c.alternate,c);break;case 24:yu(o,c),m&2048&&yp(c.alternate,c);break;default:yu(o,c)}s=s.sibling}}var vu=8192;function Mo(i,s,o){if(i.subtreeFlags&vu)for(i=i.child;i!==null;)UT(i,s,o),i=i.sibling}function UT(i,s,o){switch(i.tag){case 26:Mo(i,s,o),i.flags&vu&&i.memoizedState!==null&&qD(o,vi,i.memoizedState,i.memoizedProps);break;case 5:Mo(i,s,o);break;case 3:case 4:var c=vi;vi=Jh(i.stateNode.containerInfo),Mo(i,s,o),vi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=vu,vu=16777216,Mo(i,s,o),vu=c):Mo(i,s,o));break;default:Mo(i,s,o)}}function jT(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function _u(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Yt=c,BT(c,i)}jT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)zT(i),i=i.sibling}function zT(i){switch(i.tag){case 0:case 11:case 15:_u(i),i.flags&2048&&cs(9,i,i.return);break;case 3:_u(i);break;case 12:_u(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,zh(i)):_u(i);break;default:_u(i)}}function zh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Yt=c,BT(c,i)}jT(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:cs(8,s,s.return),zh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,zh(s));break;default:zh(s)}i=i.sibling}}function BT(i,s){for(;Yt!==null;){var o=Yt;switch(o.tag){case 0:case 11:case 15:cs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:nu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Yt=c;else e:for(o=i;Yt!==null;){c=Yt;var m=c.sibling,g=c.return;if(NT(c),c===o){Yt=null;break e}if(m!==null){m.return=g,Yt=m;break e}Yt=g}}}var sD={getCacheForType:function(i){var s=Wt(Mt),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return Wt(Mt).controller.signal}},aD=typeof WeakMap=="function"?WeakMap:Map,Ye=0,it=null,Me=null,Oe=0,Qe=0,Vn=null,hs=!1,Po=!1,vp=!1,xr=0,vt=0,fs=0,Da=0,_p=0,On=0,Vo=0,Tu=null,En=null,Tp=!1,Bh=0,FT=0,Fh=1/0,Hh=null,ds=null,Bt=0,ms=null,Oo=null,Dr=0,Ep=0,bp=null,HT=null,Eu=0,Sp=null;function kn(){return(Ye&2)!==0&&Oe!==0?Oe&-Oe:W.T!==null?Dp():qc()}function qT(){if(On===0)if((Oe&536870912)===0||ze){var i=na;na<<=1,(na&3932160)===0&&(na=262144),On=i}else On=536870912;return i=Mn.current,i!==null&&(i.flags|=32),On}function bn(i,s,o){(i===it&&(Qe===2||Qe===9)||i.cancelPendingCommit!==null)&&(ko(i,0),ps(i,Oe,On,!1)),ia(i,o),((Ye&2)===0||i!==it)&&(i===it&&((Ye&2)===0&&(Da|=o),vt===4&&ps(i,Oe,On,!1)),Qi(i))}function GT(i,s,o){if((Ye&6)!==0)throw Error(r(327));var c=!o&&(s&127)===0&&(s&i.expiredLanes)===0||ui(i,s),m=c?uD(i,s):Ap(i,s,!0),g=c;do{if(m===0){Po&&!c&&ps(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!oD(o)){m=Ap(i,s,!1),g=!1;continue}if(m===2){if(g=s,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var S=i;m=Tu;var V=S.current.memoizedState.isDehydrated;if(V&&(ko(S,T).flags|=256),T=Ap(S,T,!1),T!==2){if(vp&&!V){S.errorRecoveryDisabledLanes|=g,Da|=g,m=4;break e}g=En,En=m,g!==null&&(En===null?En=g:En.push.apply(En,g))}m=T}if(g=!1,m!==2)continue}}if(m===1){ko(i,0),ps(i,s,0,!0);break}e:{switch(c=i,g=m,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ps(c,s,On,!hs);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=Bh+300-hn(),10<m)){if(ps(c,s,On,!hs),Mi(c,0,!0)!==0)break e;Dr=s,c.timeoutHandle=bE(YT.bind(null,c,o,En,Hh,Tp,s,On,Da,Vo,hs,g,"Throttled",-0,0),m);break e}YT(c,o,En,Hh,Tp,s,On,Da,Vo,hs,g,null,-0,0)}}break}while(!0);Qi(i)}function YT(i,s,o,c,m,g,T,S,V,K,Z,te,X,Q){if(i.timeoutHandle=-1,te=s.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},UT(s,g,te);var de=(g&62914560)===g?Bh-hn():(g&4194048)===g?FT-hn():0;if(de=GD(te,de),de!==null){Dr=g,i.cancelPendingCommit=de(eE.bind(null,i,s,g,o,c,m,T,S,V,Z,te,null,X,Q)),ps(i,g,T,!K);return}}eE(i,s,g,o,c,m,T,S,V)}function oD(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!In(g(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ps(i,s,o,c){s&=~_p,s&=~Da,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var m=s;0<m;){var g=31-Tt(m),T=1<<g;c[g]=-1,m&=~T}o!==0&&ra(i,o,s)}function qh(){return(Ye&6)===0?(bu(0),!1):!0}function wp(){if(Me!==null){if(Qe===0)var i=Me.return;else i=Me,vr=Ta=null,zm(i),Co=null,ru=0,i=Me;for(;i!==null;)ST(i.alternate,i),i=i.return;Me=null}}function ko(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,RD(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Dr=0,wp(),it=i,Me=o=gr(i.current,null),Oe=s,Qe=0,Vn=null,hs=!1,Po=ui(i,s),vp=!1,Vo=On=_p=Da=fs=vt=0,En=Tu=null,Tp=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var m=31-Tt(c),g=1<<m;s|=i[m],c&=~g}return xr=s,hh(),o}function KT(i,s){De=null,W.H=fu,s===Ao||s===_h?(s=u_(),Qe=3):s===xm?(s=u_(),Qe=4):Qe=s===np?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Vn=s,Me===null&&(vt=1,Ph(i,Gn(s,i.current)))}function XT(){var i=Mn.current;return i===null?!0:(Oe&4194048)===Oe?$n===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?i===$n:!1}function $T(){var i=W.H;return W.H=fu,i===null?fu:i}function QT(){var i=W.A;return W.A=sD,i}function Gh(){vt=4,hs||(Oe&4194048)!==Oe&&Mn.current!==null||(Po=!0),(fs&134217727)===0&&(Da&134217727)===0||it===null||ps(it,Oe,On,!1)}function Ap(i,s,o){var c=Ye;Ye|=2;var m=$T(),g=QT();(it!==i||Oe!==s)&&(Hh=null,ko(i,s)),s=!1;var T=vt;e:do try{if(Qe!==0&&Me!==null){var S=Me,V=Vn;switch(Qe){case 8:wp(),T=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(s=!0);var K=Qe;if(Qe=0,Vn=null,Lo(i,S,V,K),o&&Po){T=0;break e}break;default:K=Qe,Qe=0,Vn=null,Lo(i,S,V,K)}}lD(),T=vt;break}catch(Z){KT(i,Z)}while(!0);return s&&i.shellSuspendCounter++,vr=Ta=null,Ye=c,W.H=m,W.A=g,Me===null&&(it=null,Oe=0,hh()),T}function lD(){for(;Me!==null;)WT(Me)}function uD(i,s){var o=Ye;Ye|=2;var c=$T(),m=QT();it!==i||Oe!==s?(Hh=null,Fh=hn()+500,ko(i,s)):Po=ui(i,s);e:do try{if(Qe!==0&&Me!==null){s=Me;var g=Vn;t:switch(Qe){case 1:Qe=0,Vn=null,Lo(i,s,g,1);break;case 2:case 9:if(o_(g)){Qe=0,Vn=null,ZT(s);break}s=function(){Qe!==2&&Qe!==9||it!==i||(Qe=7),Qi(i)},g.then(s,s);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:o_(g)?(Qe=0,Vn=null,ZT(s)):(Qe=0,Vn=null,Lo(i,s,g,7));break;case 5:var T=null;switch(Me.tag){case 26:T=Me.memoizedState;case 5:case 27:var S=Me;if(T?LE(T):S.stateNode.complete){Qe=0,Vn=null;var V=S.sibling;if(V!==null)Me=V;else{var K=S.return;K!==null?(Me=K,Yh(K)):Me=null}break t}}Qe=0,Vn=null,Lo(i,s,g,5);break;case 6:Qe=0,Vn=null,Lo(i,s,g,6);break;case 8:wp(),vt=6;break e;default:throw Error(r(462))}}cD();break}catch(Z){KT(i,Z)}while(!0);return vr=Ta=null,W.H=c,W.A=m,Ye=o,Me!==null?0:(it=null,Oe=0,hh(),vt)}function cD(){for(;Me!==null&&!tm();)WT(Me)}function WT(i){var s=ET(i.alternate,i,xr);i.memoizedProps=i.pendingProps,s===null?Yh(i):Me=s}function ZT(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=pT(o,s,s.pendingProps,s.type,void 0,Oe);break;case 11:s=pT(o,s,s.pendingProps,s.type.render,s.ref,Oe);break;case 5:zm(s);default:ST(o,s),s=Me=Q0(s,xr),s=ET(o,s,xr)}i.memoizedProps=i.pendingProps,s===null?Yh(i):Me=s}function Lo(i,s,o,c){vr=Ta=null,zm(s),Co=null,ru=0;var m=s.return;try{if(Z2(i,m,s,o,Oe)){vt=1,Ph(i,Gn(o,i.current)),Me=null;return}}catch(g){if(m!==null)throw Me=m,g;vt=1,Ph(i,Gn(o,i.current)),Me=null;return}s.flags&32768?(ze||c===1?i=!0:Po||(Oe&536870912)!==0?i=!1:(hs=i=!0,(c===2||c===9||c===3||c===6)&&(c=Mn.current,c!==null&&c.tag===13&&(c.flags|=16384))),JT(s,i)):Yh(s)}function Yh(i){var s=i;do{if((s.flags&32768)!==0){JT(s,hs);return}i=s.return;var o=tD(s.alternate,s,xr);if(o!==null){Me=o;return}if(s=s.sibling,s!==null){Me=s;return}Me=s=i}while(s!==null);vt===0&&(vt=5)}function JT(i,s){do{var o=nD(i.alternate,i);if(o!==null){o.flags&=32767,Me=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Me=i;return}Me=i=o}while(i!==null);vt=6,Me=null}function eE(i,s,o,c,m,g,T,S,V){i.cancelPendingCommit=null;do Kh();while(Bt!==0);if((Ye&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=dm,rm(i,o,g,T,S,V),i===it&&(Me=it=null,Oe=0),Oo=s,ms=i,Dr=o,Ep=g,bp=m,HT=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,mD(Gr,function(){return sE(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=W.T,W.T=null,m=ae.p,ae.p=2,T=Ye,Ye|=4;try{iD(i,s,o)}finally{Ye=T,ae.p=m,W.T=c}}Bt=1,tE(),nE(),iE()}}function tE(){if(Bt===1){Bt=0;var i=ms,s=Oo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var c=ae.p;ae.p=2;var m=Ye;Ye|=4;try{OT(s,i);var g=Lp,T=B0(i.containerInfo),S=g.focusedElem,V=g.selectionRange;if(T!==S&&S&&S.ownerDocument&&z0(S.ownerDocument.documentElement,S)){if(V!==null&&lm(S)){var K=V.start,Z=V.end;if(Z===void 0&&(Z=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(Z,S.value.length);else{var te=S.ownerDocument||document,X=te&&te.defaultView||window;if(X.getSelection){var Q=X.getSelection(),de=S.textContent.length,ve=Math.min(V.start,de),tt=V.end===void 0?ve:Math.min(V.end,de);!Q.extend&&ve>tt&&(T=tt,tt=ve,ve=T);var q=j0(S,ve),z=j0(S,tt);if(q&&z&&(Q.rangeCount!==1||Q.anchorNode!==q.node||Q.anchorOffset!==q.offset||Q.focusNode!==z.node||Q.focusOffset!==z.offset)){var Y=te.createRange();Y.setStart(q.node,q.offset),Q.removeAllRanges(),ve>tt?(Q.addRange(Y),Q.extend(z.node,z.offset)):(Y.setEnd(z.node,z.offset),Q.addRange(Y))}}}}for(te=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&te.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<te.length;S++){var J=te[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}af=!!kp,Lp=kp=null}finally{Ye=m,ae.p=c,W.T=o}}i.current=s,Bt=2}}function nE(){if(Bt===2){Bt=0;var i=ms,s=Oo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var c=ae.p;ae.p=2;var m=Ye;Ye|=4;try{IT(i,s.alternate,s)}finally{Ye=m,ae.p=c,W.T=o}}Bt=3}}function iE(){if(Bt===4||Bt===3){Bt=0,Lc();var i=ms,s=Oo,o=Dr,c=HT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Bt=5:(Bt=0,Oo=ms=null,rE(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(ds=null),fr(o),s=s.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(li,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=W.T,m=ae.p,ae.p=2,W.T=null;try{for(var g=i.onRecoverableError,T=0;T<c.length;T++){var S=c[T];g(S.value,{componentStack:S.stack})}}finally{W.T=s,ae.p=m}}(Dr&3)!==0&&Kh(),Qi(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===Sp?Eu++:(Eu=0,Sp=i):Eu=0,bu(0)}}function rE(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,nu(s)))}function Kh(){return tE(),nE(),iE(),sE()}function sE(){if(Bt!==5)return!1;var i=ms,s=Ep;Ep=0;var o=fr(Dr),c=W.T,m=ae.p;try{ae.p=32>o?32:o,W.T=null,o=bp,bp=null;var g=ms,T=Dr;if(Bt=0,Oo=ms=null,Dr=0,(Ye&6)!==0)throw Error(r(331));var S=Ye;if(Ye|=4,zT(g.current),LT(g,g.current,T,o),Ye=S,bu(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(li,g)}catch{}return!0}finally{ae.p=m,W.T=c,rE(i,s)}}function aE(i,s,o){s=Gn(o,s),s=tp(i.stateNode,s,2),i=os(i,s,2),i!==null&&(ia(i,2),Qi(i))}function We(i,s,o){if(i.tag===3)aE(i,i,o);else for(;s!==null;){if(s.tag===3){aE(s,i,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ds===null||!ds.has(c))){i=Gn(o,i),o=oT(2),c=os(s,o,2),c!==null&&(lT(o,c,s,i),ia(c,2),Qi(c));break}}s=s.return}}function Cp(i,s,o){var c=i.pingCache;if(c===null){c=i.pingCache=new aD;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(o)||(vp=!0,m.add(o),i=hD.bind(null,i,s,o),s.then(i,i))}function hD(i,s,o){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,it===i&&(Oe&o)===o&&(vt===4||vt===3&&(Oe&62914560)===Oe&&300>hn()-Bh?(Ye&2)===0&&ko(i,0):_p|=o,Vo===Oe&&(Vo=0)),Qi(i)}function oE(i,s){s===0&&(s=Hc()),i=ya(i,s),i!==null&&(ia(i,s),Qi(i))}function fD(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),oE(i,o)}function dD(i,s){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),oE(i,o)}function mD(i,s){return zt(i,s)}var Xh=null,Uo=null,Rp=!1,$h=!1,xp=!1,gs=0;function Qi(i){i!==Uo&&i.next===null&&(Uo===null?Xh=Uo=i:Uo=Uo.next=i),$h=!0,Rp||(Rp=!0,gD())}function bu(i,s){if(!xp&&$h){xp=!0;do for(var o=!1,c=Xh;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var T=c.suspendedLanes,S=c.pingedLanes;g=(1<<31-Tt(42|i)+1)-1,g&=m&~(T&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,hE(c,g))}else g=Oe,g=Mi(c,c===it?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||ui(c,g)||(o=!0,hE(c,g));c=c.next}while(o);xp=!1}}function pD(){lE()}function lE(){$h=Rp=!1;var i=0;gs!==0&&CD()&&(i=gs);for(var s=hn(),o=null,c=Xh;c!==null;){var m=c.next,g=uE(c,s);g===0?(c.next=null,o===null?Xh=m:o.next=m,m===null&&(Uo=o)):(o=c,(i!==0||(g&3)!==0)&&($h=!0)),c=m}Bt!==0&&Bt!==5||bu(i),gs!==0&&(gs=0)}function uE(i,s){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-Tt(g),S=1<<T,V=m[T];V===-1?((S&o)===0||(S&c)!==0)&&(m[T]=im(S,s)):V<=s&&(i.expiredLanes|=S),g&=~S}if(s=it,o=Oe,o=Mi(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===s&&(Qe===2||Qe===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&qr(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ui(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(c!==null&&qr(c),fr(o)){case 2:case 8:o=Ml;break;case 32:o=Gr;break;case 268435456:o=Uc;break;default:o=Gr}return c=cE.bind(null,i),o=zt(o,c),i.callbackPriority=s,i.callbackNode=o,s}return c!==null&&c!==null&&qr(c),i.callbackPriority=2,i.callbackNode=null,2}function cE(i,s){if(Bt!==0&&Bt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Kh()&&i.callbackNode!==o)return null;var c=Oe;return c=Mi(i,i===it?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(GT(i,c,s),uE(i,hn()),i.callbackNode!=null&&i.callbackNode===o?cE.bind(null,i):null)}function hE(i,s){if(Kh())return null;GT(i,s,!0)}function gD(){xD(function(){(Ye&6)!==0?zt(Nl,pD):lE()})}function Dp(){if(gs===0){var i=So;i===0&&(i=Ii,Ii<<=1,(Ii&261888)===0&&(Ii=256)),gs=i}return gs}function fE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:oo(""+i)}function dE(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function yD(i,s,o,c,m){if(s==="submit"&&o&&o.stateNode===m){var g=fE((m[qt]||null).action),T=c.submitter;T&&(s=(s=T[qt]||null)?fE(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var S=new Hi("action","action",null,c,m);i.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(gs!==0){var V=T?dE(m,T):new FormData(m);$m(o,{pending:!0,data:V,method:m.method,action:g},null,V)}}else typeof g=="function"&&(S.preventDefault(),V=T?dE(m,T):new FormData(m),$m(o,{pending:!0,data:V,method:m.method,action:g},g,V))},currentTarget:m}]})}}for(var Ip=0;Ip<fm.length;Ip++){var Np=fm[Ip],vD=Np.toLowerCase(),_D=Np[0].toUpperCase()+Np.slice(1);yi(vD,"on"+_D)}yi(q0,"onAnimationEnd"),yi(G0,"onAnimationIteration"),yi(Y0,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(O2,"onTransitionRun"),yi(k2,"onTransitionStart"),yi(L2,"onTransitionCancel"),yi(K0,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),Ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Su));function mE(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var T=c.length-1;0<=T;T--){var S=c[T],V=S.instance,K=S.currentTarget;if(S=S.listener,V!==g&&m.isPropagationStopped())break e;g=S,m.currentTarget=K;try{g(m)}catch(Z){ch(Z)}m.currentTarget=null,g=V}else for(T=0;T<c.length;T++){if(S=c[T],V=S.instance,K=S.currentTarget,S=S.listener,V!==g&&m.isPropagationStopped())break e;g=S,m.currentTarget=K;try{g(m)}catch(Z){ch(Z)}m.currentTarget=null,g=V}}}}function Pe(i,s){var o=s[no];o===void 0&&(o=s[no]=new Set);var c=i+"__bubble";o.has(c)||(pE(s,i,2,!1),o.add(c))}function Mp(i,s,o){var c=0;s&&(c|=4),pE(o,i,c,s)}var Qh="_reactListening"+Math.random().toString(36).slice(2);function Pp(i){if(!i[Qh]){i[Qh]=!0,Ol.forEach(function(o){o!=="selectionchange"&&(TD.has(o)||Mp(o,!1,i),Mp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Qh]||(s[Qh]=!0,Mp("selectionchange",!1,s))}}function pE(i,s,o,c){switch(qE(s)){case 2:var m=XD;break;case 8:m=$D;break;default:m=Xp}o=m.bind(null,s,o,i),m=void 0,!ua||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(s,o,{capture:!0,passive:m}):i.addEventListener(s,o,!0):m!==void 0?i.addEventListener(s,o,{passive:m}):i.addEventListener(s,o,!1)}function Vp(i,s,o,c,m){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var S=c.stateNode.containerInfo;if(S===m)break;if(T===4)for(T=c.return;T!==null;){var V=T.tag;if((V===3||V===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;S!==null;){if(T=ki(S),T===null)return;if(V=T.tag,V===5||V===6||V===26||V===27){c=g=T;continue e}S=S.parentNode}}c=c.return}Wr(function(){var K=g,Z=Bn(o),te=[];e:{var X=X0.get(i);if(X!==void 0){var Q=Hi,de=i;switch(i){case"keypress":if(ha(o)===0)break e;case"keydown":case"keyup":Q=oh;break;case"focusin":de="focus",Q=da;break;case"focusout":de="blur",Q=da;break;case"beforeblur":case"afterblur":Q=da;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Zc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=_;break;case q0:case G0:case Y0:Q=eh;break;case K0:Q=C;break;case"scroll":case"scrollend":Q=Kl;break;case"wheel":Q=$;break;case"copy":case"cut":case"paste":Q=th;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=pr;break;case"toggle":case"beforetoggle":Q=xe}var ve=(s&4)!==0,tt=!ve&&(i==="scroll"||i==="scrollend"),q=ve?X!==null?X+"Capture":null:X;ve=[];for(var z=K,Y;z!==null;){var J=z;if(Y=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||Y===null||q===null||(J=di(z,q),J!=null&&ve.push(wu(z,J,Y))),tt)break;z=z.return}0<ve.length&&(X=new Q(X,de,null,o,Z),te.push({event:X,listeners:ve}))}}if((s&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",X&&o!==ql&&(de=o.relatedTarget||o.fromElement)&&(ki(de)||de[Vi]))break e;if((Q||X)&&(X=Z.window===Z?Z:(X=Z.ownerDocument)?X.defaultView||X.parentWindow:window,Q?(de=o.relatedTarget||o.toElement,Q=K,de=de?ki(de):null,de!==null&&(tt=l(de),ve=de.tag,de!==tt||ve!==5&&ve!==27&&ve!==6)&&(de=null)):(Q=null,de=K),Q!==de)){if(ve=Xl,J="onMouseLeave",q="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(ve=pr,J="onPointerLeave",q="onPointerEnter",z="pointer"),tt=Q==null?X:xn(Q),Y=de==null?X:xn(de),X=new ve(J,z+"leave",Q,o,Z),X.target=tt,X.relatedTarget=Y,J=null,ki(Z)===K&&(ve=new ve(q,z+"enter",de,o,Z),ve.target=Y,ve.relatedTarget=tt,J=ve),tt=J,Q&&de)t:{for(ve=ED,q=Q,z=de,Y=0,J=q;J;J=ve(J))Y++;J=0;for(var ge=z;ge;ge=ve(ge))J++;for(;0<Y-J;)q=ve(q),Y--;for(;0<J-Y;)z=ve(z),J--;for(;Y--;){if(q===z||z!==null&&q===z.alternate){ve=q;break t}q=ve(q),z=ve(z)}ve=null}else ve=null;Q!==null&&gE(te,X,Q,ve,!1),de!==null&&tt!==null&&gE(te,tt,de,ve,!0)}}e:{if(X=K?xn(K):window,Q=X.nodeName&&X.nodeName.toLowerCase(),Q==="select"||Q==="input"&&X.type==="file")var He=P0;else if(N0(X))if(V0)He=M2;else{He=I2;var pe=D2}else Q=X.nodeName,!Q||Q.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?K&&ao(K.elementType)&&(He=P0):He=N2;if(He&&(He=He(i,K))){M0(te,He,o,Z);break e}pe&&pe(i,X,K),i==="focusout"&&K&&X.type==="number"&&K.memoizedProps.value!=null&&Bl(X,"number",X.value)}switch(pe=K?xn(K):window,i){case"focusin":(N0(pe)||pe.contentEditable==="true")&&(po=pe,um=K,Jl=null);break;case"focusout":Jl=um=po=null;break;case"mousedown":cm=!0;break;case"contextmenu":case"mouseup":case"dragend":cm=!1,F0(te,o,Z);break;case"selectionchange":if(V2)break;case"keydown":case"keyup":F0(te,o,Z)}var Ie;if(Ge)e:{switch(i){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else mo?ma(i,o)&&(ke="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(ke="onCompositionStart");ke&&(Yi&&o.locale!=="ko"&&(mo||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&mo&&(Ie=Yl()):(Fi=Z,Gl="value"in Fi?Fi.value:Fi.textContent,mo=!0)),pe=Wh(K,ke),0<pe.length&&(ke=new Gi(ke,i,null,o,Z),te.push({event:ke,listeners:pe}),Ie?ke.data=Ie:(Ie=fo(o),Ie!==null&&(ke.data=Ie)))),(Ie=Hn?A2(i,o):C2(i,o))&&(ke=Wh(K,"onBeforeInput"),0<ke.length&&(pe=new Gi("onBeforeInput","beforeinput",null,o,Z),te.push({event:pe,listeners:ke}),pe.data=Ie)),yD(te,i,K,o,Z)}mE(te,s)})}function wu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Wh(i,s){for(var o=s+"Capture",c=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=di(i,o),m!=null&&c.unshift(wu(i,m,g)),m=di(i,s),m!=null&&c.push(wu(i,m,g))),i.tag===3)return c;i=i.return}return[]}function ED(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function gE(i,s,o,c,m){for(var g=s._reactName,T=[];o!==null&&o!==c;){var S=o,V=S.alternate,K=S.stateNode;if(S=S.tag,V!==null&&V===c)break;S!==5&&S!==26&&S!==27||K===null||(V=K,m?(K=di(o,g),K!=null&&T.unshift(wu(o,K,V))):m||(K=di(o,g),K!=null&&T.push(wu(o,K,V)))),o=o.return}T.length!==0&&i.push({event:s,listeners:T})}var bD=/\r\n?/g,SD=/\u0000|\uFFFD/g;function yE(i){return(typeof i=="string"?i:""+i).replace(bD,`
`).replace(SD,"")}function vE(i,s){return s=yE(s),yE(i)===s}function et(i,s,o,c,m,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||yn(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&yn(i,""+c);break;case"className":Dn(i,"class",c);break;case"tabIndex":Dn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(i,o,c);break;case"style":Hl(i,c,g);break;case"data":if(s!=="object"){Dn(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=oo(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&et(i,s,"name",m.name,m,null),et(i,s,"formEncType",m.formEncType,m,null),et(i,s,"formMethod",m.formMethod,m,null),et(i,s,"formTarget",m.formTarget,m,null)):(et(i,s,"encType",m.encType,m,null),et(i,s,"method",m.method,m,null),et(i,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=oo(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=fi);break;case"onScroll":c!=null&&Pe("scroll",i);break;case"onScrollEnd":c!=null&&Pe("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=oo(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Pe("beforetoggle",i),Pe("toggle",i),ro(i,"popover",c);break;case"xlinkActuate":Nt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Nt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Nt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Nt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Nt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Nt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Nt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Nt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Nt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ro(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Wc.get(o)||o,ro(i,o,c))}}function Op(i,s,o,c,m,g){switch(o){case"style":Hl(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof c=="string"?yn(i,c):(typeof c=="number"||typeof c=="bigint")&&yn(i,""+c);break;case"onScroll":c!=null&&Pe("scroll",i);break;case"onScrollEnd":c!=null&&Pe("scrollend",i);break;case"onClick":c!=null&&(i.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),g=i[qt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,c,m);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):ro(i,o,c)}}}function Jt(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",i),Pe("load",i);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:et(i,s,g,T,o,null)}}m&&et(i,s,"srcSet",o.srcSet,o,null),c&&et(i,s,"src",o.src,o,null);return;case"input":Pe("invalid",i);var S=g=T=m=null,V=null,K=null;for(c in o)if(o.hasOwnProperty(c)){var Z=o[c];if(Z!=null)switch(c){case"name":m=Z;break;case"type":T=Z;break;case"checked":V=Z;break;case"defaultChecked":K=Z;break;case"value":g=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:et(i,s,c,Z,o,null)}}Xc(i,g,S,V,K,T,m,!1);return;case"select":Pe("invalid",i),c=T=g=null;for(m in o)if(o.hasOwnProperty(m)&&(S=o[m],S!=null))switch(m){case"value":g=S;break;case"defaultValue":T=S;break;case"multiple":c=S;default:et(i,s,m,S,o,null)}s=g,o=T,i.multiple=!!c,s!=null?Kr(i,!!c,s,!1):o!=null&&Kr(i,!!c,o,!0);return;case"textarea":Pe("invalid",i),g=m=c=null;for(T in o)if(o.hasOwnProperty(T)&&(S=o[T],S!=null))switch(T){case"value":c=S;break;case"defaultValue":m=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:et(i,s,T,S,o,null)}Xr(i,c,m,g);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(c=o[V],c!=null))switch(V){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:et(i,s,V,c,o,null)}return;case"dialog":Pe("beforetoggle",i),Pe("toggle",i),Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":Pe("load",i);break;case"video":case"audio":for(c=0;c<Su.length;c++)Pe(Su[c],i);break;case"image":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"embed":case"source":case"link":Pe("error",i),Pe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(c=o[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:et(i,s,K,c,o,null)}return;default:if(ao(s)){for(Z in o)o.hasOwnProperty(Z)&&(c=o[Z],c!==void 0&&Op(i,s,Z,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&et(i,s,S,c,o,null))}function wD(i,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,T=null,S=null,V=null,K=null,Z=null;for(Q in o){var te=o[Q];if(o.hasOwnProperty(Q)&&te!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":V=te;default:c.hasOwnProperty(Q)||et(i,s,Q,null,c,te)}}for(var X in c){var Q=c[X];if(te=o[X],c.hasOwnProperty(X)&&(Q!=null||te!=null))switch(X){case"type":g=Q;break;case"name":m=Q;break;case"checked":K=Q;break;case"defaultChecked":Z=Q;break;case"value":T=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==te&&et(i,s,X,Q,c,te)}}so(i,T,S,V,K,Z,g,m);return;case"select":Q=T=S=X=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":Q=V;default:c.hasOwnProperty(g)||et(i,s,g,null,c,V)}for(m in c)if(g=c[m],V=o[m],c.hasOwnProperty(m)&&(g!=null||V!=null))switch(m){case"value":X=g;break;case"defaultValue":S=g;break;case"multiple":T=g;default:g!==V&&et(i,s,m,g,c,V)}s=S,o=T,c=Q,X!=null?Kr(i,!!o,X,!1):!!c!=!!o&&(s!=null?Kr(i,!!o,s,!0):Kr(i,!!o,o?[]:"",!1));return;case"textarea":Q=X=null;for(S in o)if(m=o[S],o.hasOwnProperty(S)&&m!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:et(i,s,S,null,c,m)}for(T in c)if(m=c[T],g=o[T],c.hasOwnProperty(T)&&(m!=null||g!=null))switch(T){case"value":X=m;break;case"defaultValue":Q=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==g&&et(i,s,T,m,c,g)}$c(i,X,Q);return;case"option":for(var de in o)if(X=o[de],o.hasOwnProperty(de)&&X!=null&&!c.hasOwnProperty(de))switch(de){case"selected":i.selected=!1;break;default:et(i,s,de,null,c,X)}for(V in c)if(X=c[V],Q=o[V],c.hasOwnProperty(V)&&X!==Q&&(X!=null||Q!=null))switch(V){case"selected":i.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:et(i,s,V,X,c,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in o)X=o[ve],o.hasOwnProperty(ve)&&X!=null&&!c.hasOwnProperty(ve)&&et(i,s,ve,null,c,X);for(K in c)if(X=c[K],Q=o[K],c.hasOwnProperty(K)&&X!==Q&&(X!=null||Q!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:et(i,s,K,X,c,Q)}return;default:if(ao(s)){for(var tt in o)X=o[tt],o.hasOwnProperty(tt)&&X!==void 0&&!c.hasOwnProperty(tt)&&Op(i,s,tt,void 0,c,X);for(Z in c)X=c[Z],Q=o[Z],!c.hasOwnProperty(Z)||X===Q||X===void 0&&Q===void 0||Op(i,s,Z,X,c,Q);return}}for(var q in o)X=o[q],o.hasOwnProperty(q)&&X!=null&&!c.hasOwnProperty(q)&&et(i,s,q,null,c,X);for(te in c)X=c[te],Q=o[te],!c.hasOwnProperty(te)||X===Q||X==null&&Q==null||et(i,s,te,X,c,Q)}function _E(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function AD(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,T=m.initiatorType,S=m.duration;if(g&&S&&_E(T)){for(T=0,S=m.responseEnd,c+=1;c<o.length;c++){var V=o[c],K=V.startTime;if(K>S)break;var Z=V.transferSize,te=V.initiatorType;Z&&_E(te)&&(V=V.responseEnd,T+=Z*(V<S?1:(S-K)/(V-K)))}if(--c,s+=8*(g+T)/(m.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var kp=null,Lp=null;function Zh(i){return i.nodeType===9?i:i.ownerDocument}function TE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function EE(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Up(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var jp=null;function CD(){var i=window.event;return i&&i.type==="popstate"?i===jp?!1:(jp=i,!0):(jp=null,!1)}var bE=typeof setTimeout=="function"?setTimeout:void 0,RD=typeof clearTimeout=="function"?clearTimeout:void 0,SE=typeof Promise=="function"?Promise:void 0,xD=typeof queueMicrotask=="function"?queueMicrotask:typeof SE<"u"?function(i){return SE.resolve(null).then(i).catch(DD)}:bE;function DD(i){setTimeout(function(){throw i})}function ys(i){return i==="head"}function wE(i,s){var o=s,c=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(m),Fo(s);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Au(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Au(o);for(var g=o.firstChild;g;){var T=g.nextSibling,S=g.nodeName;g[Oi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&Au(i.ownerDocument.body);o=m}while(o);Fo(s)}function AE(i,s){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function zp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":zp(o),io(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function ID(i,s,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Oi])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Qn(i.nextSibling),i===null)break}return null}function ND(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Qn(i.nextSibling),i===null))return null;return i}function CE(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Qn(i.nextSibling),i===null))return null;return i}function Bp(i){return i.data==="$?"||i.data==="$~"}function Fp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function MD(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Qn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Hp=null;function RE(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return Qn(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function xE(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function DE(i,s,o){switch(s=Zh(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Au(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);io(i)}var Wn=new Map,IE=new Set;function Jh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ir=ae.d;ae.d={f:PD,r:VD,D:OD,C:kD,L:LD,m:UD,X:zD,S:jD,M:BD};function PD(){var i=Ir.f(),s=qh();return i||s}function VD(i){var s=zn(i);s!==null&&s.tag===5&&s.type==="form"?K_(s):Ir.r(i)}var jo=typeof document>"u"?null:document;function NE(i,s,o){var c=jo;if(c&&typeof s=="string"&&s){var m=gn(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),IE.has(m)||(IE.add(m),i={rel:i,crossOrigin:o,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),Jt(s,"link",i),It(s),c.head.appendChild(s)))}}function OD(i){Ir.D(i),NE("dns-prefetch",i,null)}function kD(i,s){Ir.C(i,s),NE("preconnect",i,s)}function LD(i,s,o){Ir.L(i,s,o);var c=jo;if(c&&i&&s){var m='link[rel="preload"][as="'+gn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+gn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+gn(o.imageSizes)+'"]')):m+='[href="'+gn(i)+'"]';var g=m;switch(s){case"style":g=zo(i);break;case"script":g=Bo(i)}Wn.has(g)||(i=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Wn.set(g,i),c.querySelector(m)!==null||s==="style"&&c.querySelector(Cu(g))||s==="script"&&c.querySelector(Ru(g))||(s=c.createElement("link"),Jt(s,"link",i),It(s),c.head.appendChild(s)))}}function UD(i,s){Ir.m(i,s);var o=jo;if(o&&i){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+gn(c)+'"][href="'+gn(i)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Bo(i)}if(!Wn.has(g)&&(i=v({rel:"modulepreload",href:i},s),Wn.set(g,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ru(g)))return}c=o.createElement("link"),Jt(c,"link",i),It(c),o.head.appendChild(c)}}}function jD(i,s,o){Ir.S(i,s,o);var c=jo;if(c&&i){var m=Li(c).hoistableStyles,g=zo(i);s=s||"default";var T=m.get(g);if(!T){var S={loading:0,preload:null};if(T=c.querySelector(Cu(g)))S.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Wn.get(g))&&qp(i,o);var V=T=c.createElement("link");It(V),Jt(V,"link",i),V._p=new Promise(function(K,Z){V.onload=K,V.onerror=Z}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,ef(T,s,c)}T={type:"stylesheet",instance:T,count:1,state:S},m.set(g,T)}}}function zD(i,s){Ir.X(i,s);var o=jo;if(o&&i){var c=Li(o).hoistableScripts,m=Bo(i),g=c.get(m);g||(g=o.querySelector(Ru(m)),g||(i=v({src:i,async:!0},s),(s=Wn.get(m))&&Gp(i,s),g=o.createElement("script"),It(g),Jt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function BD(i,s){Ir.M(i,s);var o=jo;if(o&&i){var c=Li(o).hoistableScripts,m=Bo(i),g=c.get(m);g||(g=o.querySelector(Ru(m)),g||(i=v({src:i,async:!0,type:"module"},s),(s=Wn.get(m))&&Gp(i,s),g=o.createElement("script"),It(g),Jt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function ME(i,s,o,c){var m=(m=Re.current)?Jh(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=zo(o.href),o=Li(m).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=zo(o.href);var g=Li(m).hoistableStyles,T=g.get(i);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=m.querySelector(Cu(i)))&&!g._p&&(T.instance=g,T.state.loading=5),Wn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Wn.set(i,o),g||FD(m,i,o,T.state))),s&&c===null)throw Error(r(528,""));return T}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Bo(o),o=Li(m).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function zo(i){return'href="'+gn(i)+'"'}function Cu(i){return'link[rel="stylesheet"]['+i+"]"}function PE(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function FD(i,s,o,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Jt(s,"link",o),It(s),i.head.appendChild(s))}function Bo(i){return'[src="'+gn(i)+'"]'}function Ru(i){return"script[async]"+i}function VE(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+gn(o.href)+'"]');if(c)return s.instance=c,It(c),c;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),It(c),Jt(c,"style",m),ef(c,o.precedence,i),s.instance=c;case"stylesheet":m=zo(o.href);var g=i.querySelector(Cu(m));if(g)return s.state.loading|=4,s.instance=g,It(g),g;c=PE(o),(m=Wn.get(m))&&qp(c,m),g=(i.ownerDocument||i).createElement("link"),It(g);var T=g;return T._p=new Promise(function(S,V){T.onload=S,T.onerror=V}),Jt(g,"link",c),s.state.loading|=4,ef(g,o.precedence,i),s.instance=g;case"script":return g=Bo(o.src),(m=i.querySelector(Ru(g)))?(s.instance=m,It(m),m):(c=o,(m=Wn.get(g))&&(c=v({},o),Gp(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),It(m),Jt(m,"link",c),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,ef(c,o.precedence,i));return s.instance}function ef(i,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,T=0;T<c.length;T++){var S=c[T];if(S.dataset.precedence===s)g=S;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function qp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Gp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var tf=null;function OE(i,s,o){if(tf===null){var c=new Map,m=tf=new Map;m.set(o,c)}else m=tf,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[Oi]||g[Dt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=i+T;var S=c.get(T);S?S.push(g):c.set(T,[g])}}return c}function kE(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function HD(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function LE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function qD(i,s,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=zo(c.href),g=s.querySelector(Cu(m));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=nf.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=g,It(g);return}g=s.ownerDocument||s,c=PE(c),(m=Wn.get(m))&&qp(c,m),g=g.createElement("link"),It(g);var T=g;T._p=new Promise(function(S,V){T.onload=S,T.onerror=V}),Jt(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=nf.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var Yp=0;function GD(i,s){return i.stylesheets&&i.count===0&&sf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&sf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+s);0<i.imgBytes&&Yp===0&&(Yp=62500*AD());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&sf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Yp?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function nf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var rf=null;function sf(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,rf=new Map,s.forEach(YD,i),rf=null,nf.call(i))}function YD(i,s){if(!(s.state.loading&4)){var o=rf.get(i);if(o)var c=o.get(null);else{o=new Map,rf.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var T=m[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}m=s.instance,T=m.getAttribute("data-precedence"),g=o.get(T)||c,g===c&&o.set(null,m),o.set(T,m),this.count++,c=nf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var xu={$$typeof:F,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function KD(i,s,o,c,m,g,T,S,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.hiddenUpdates=Pi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function UE(i,s,o,c,m,g,T,S,V,K,Z,te){return i=new KD(i,s,o,T,V,K,Z,te,S),s=1,g===!0&&(s|=24),g=Nn(3,null,null,s),i.current=g,g.stateNode=i,s=Am(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},Dm(g),i}function jE(i){return i?(i=vo,i):vo}function zE(i,s,o,c,m,g){m=jE(m),c.context===null?c.context=m:c.pendingContext=m,c=as(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=os(i,c,s),o!==null&&(bn(o,i,s),au(o,i,s))}function BE(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Kp(i,s){BE(i,s),(i=i.alternate)&&BE(i,s)}function FE(i){if(i.tag===13||i.tag===31){var s=ya(i,67108864);s!==null&&bn(s,i,67108864),Kp(i,67108864)}}function HE(i){if(i.tag===13||i.tag===31){var s=kn();s=sa(s);var o=ya(i,s);o!==null&&bn(o,i,s),Kp(i,s)}}var af=!0;function XD(i,s,o,c){var m=W.T;W.T=null;var g=ae.p;try{ae.p=2,Xp(i,s,o,c)}finally{ae.p=g,W.T=m}}function $D(i,s,o,c){var m=W.T;W.T=null;var g=ae.p;try{ae.p=8,Xp(i,s,o,c)}finally{ae.p=g,W.T=m}}function Xp(i,s,o,c){if(af){var m=$p(c);if(m===null)Vp(i,s,c,of,o),GE(i,c);else if(WD(m,i,s,o,c))c.stopPropagation();else if(GE(i,c),s&4&&-1<QD.indexOf(i)){for(;m!==null;){var g=zn(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Ni(g.pendingLanes);if(T!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var V=1<<31-Tt(T);S.entanglements[1]|=V,T&=~V}Qi(g),(Ye&6)===0&&(Fh=hn()+500,bu(0))}}break;case 31:case 13:S=ya(g,2),S!==null&&bn(S,g,2),qh(),Kp(g,2)}if(g=$p(c),g===null&&Vp(i,s,c,of,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else Vp(i,s,c,null,o)}}function $p(i){return i=Bn(i),Qp(i)}var of=null;function Qp(i){if(of=null,i=ki(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=u(s),i!==null)return i;i=null}else if(o===31){if(i=h(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return of=i,null}function qE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ta()){case Nl:return 2;case Ml:return 8;case Gr:case nm:return 32;case Uc:return 268435456;default:return 32}default:return 32}}var Wp=!1,vs=null,_s=null,Ts=null,Du=new Map,Iu=new Map,Es=[],QD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function GE(i,s){switch(i){case"focusin":case"focusout":vs=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":Du.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Iu.delete(s.pointerId)}}function Nu(i,s,o,c,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},s!==null&&(s=zn(s),s!==null&&FE(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function WD(i,s,o,c,m){switch(s){case"focusin":return vs=Nu(vs,i,s,o,c,m),!0;case"dragenter":return _s=Nu(_s,i,s,o,c,m),!0;case"mouseover":return Ts=Nu(Ts,i,s,o,c,m),!0;case"pointerover":var g=m.pointerId;return Du.set(g,Nu(Du.get(g)||null,i,s,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,Iu.set(g,Nu(Iu.get(g)||null,i,s,o,c,m)),!0}return!1}function YE(i){var s=ki(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){i.blockedOn=s,ci(i.priority,function(){HE(o)});return}}else if(s===31){if(s=h(o),s!==null){i.blockedOn=s,ci(i.priority,function(){HE(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function lf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=$p(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);ql=c,o.target.dispatchEvent(c),ql=null}else return s=zn(o),s!==null&&FE(s),i.blockedOn=o,!1;s.shift()}return!0}function KE(i,s,o){lf(i)&&o.delete(s)}function ZD(){Wp=!1,vs!==null&&lf(vs)&&(vs=null),_s!==null&&lf(_s)&&(_s=null),Ts!==null&&lf(Ts)&&(Ts=null),Du.forEach(KE),Iu.forEach(KE)}function uf(i,s){i.blockedOn===s&&(i.blockedOn=null,Wp||(Wp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ZD)))}var cf=null;function XE(i){cf!==i&&(cf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){cf===i&&(cf=null);for(var s=0;s<i.length;s+=3){var o=i[s],c=i[s+1],m=i[s+2];if(typeof c!="function"){if(Qp(c||o)===null)continue;break}var g=zn(o);g!==null&&(i.splice(s,3),s-=3,$m(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Fo(i){function s(V){return uf(V,i)}vs!==null&&uf(vs,i),_s!==null&&uf(_s,i),Ts!==null&&uf(Ts,i),Du.forEach(s),Iu.forEach(s);for(var o=0;o<Es.length;o++){var c=Es[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Es.length&&(o=Es[0],o.blockedOn===null);)YE(o),o.blockedOn===null&&Es.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],T=m[qt]||null;if(typeof g=="function")T||XE(o);else if(T){var S=null;if(g&&g.hasAttribute("formAction")){if(m=g,T=g[qt]||null)S=T.formAction;else if(Qp(m)!==null)continue}else S=T.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),XE(o)}}}function $E(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return m=T})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function Zp(i){this._internalRoot=i}hf.prototype.render=Zp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,c=kn();zE(o,c,i,s,null,null)},hf.prototype.unmount=Zp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;zE(i.current,2,null,i,null,null),qh(),s[Vi]=null}};function hf(i){this._internalRoot=i}hf.prototype.unstable_scheduleHydration=function(i){if(i){var s=qc();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Es.length&&s!==0&&s<Es[o].priority;o++);Es.splice(o,0,i),o===0&&YE(i)}};var QE=e.version;if(QE!=="19.2.0")throw Error(r(527,QE,"19.2.0"));ae.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var JD={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ff.isDisabled&&ff.supportsFiber)try{li=ff.inject(JD),Xt=ff}catch{}}return Pu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,c="",m=iT,g=rT,T=sT;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=UE(i,1,!1,null,null,o,c,null,m,g,T,$E),i[Vi]=s.current,Pp(i),new Zp(s)},Pu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var c=!1,m="",g=iT,T=rT,S=sT,V=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),s=UE(i,1,!0,s,o??null,c,m,V,g,T,S,$E),s.context=jE(null),o=s.current,c=kn(),c=sa(c),m=as(c),m.callback=null,os(o,m,c),o=c,s.current.lanes=o,ia(s,o),Qi(s),i[Vi]=s.current,Pp(i),new hf(s)},Pu.version="19.2.0",Pu}var ab;function cI(){if(ab)return tg.exports;ab=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tg.exports=uI(),tg.exports}var hI=cI();var ob="popstate";function fI(t={}){function e(a,l){let{pathname:u="/",search:h="",hash:d=""}=Xa(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),zg("",{pathname:u,search:h,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let u=a.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let d=a.location.href,p=d.indexOf("#");h=p===-1?d:d.slice(0,p)}return h+"#"+(typeof l=="string"?l:nc(l))}function r(a,l){oi(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return mI(e,n,r,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function oi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dI(){return Math.random().toString(36).substring(2,10)}function lb(t,e){return{usr:t.state,key:t.key,idx:e}}function zg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Xa(e):e,state:n,key:e&&e.key||r||dI()}}function nc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Xa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function mI(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,u=a.history,h="POP",d=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let N=y(),U=N==null?null:N-p;p=N,d&&d({action:h,location:M.location,delta:U})}function E(N,U){h="PUSH";let B=zg(M.location,N,U);n&&n(B,N),p=y()+1;let F=lb(B,p),se=M.createHref(B);try{u.pushState(F,"",se)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;a.location.assign(se)}l&&d&&d({action:h,location:M.location,delta:1})}function w(N,U){h="REPLACE";let B=zg(M.location,N,U);n&&n(B,N),p=y();let F=lb(B,p),se=M.createHref(B);u.replaceState(F,"",se),l&&d&&d({action:h,location:M.location,delta:0})}function D(N){return pI(N)}let M={get action(){return h},get location(){return t(a,u)},listen(N){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(ob,v),d=N,()=>{a.removeEventListener(ob,v),d=null}},createHref(N){return e(a,N)},createURL:D,encodeLocation(N){let U=D(N);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:E,replace:w,go(N){return u.go(N)}};return M}function pI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),mt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:nc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function EA(t,e,n="/"){return gI(t,e,n,!1)}function gI(t,e,n,r){let a=typeof e=="string"?Xa(e):e,l=Or(a.pathname||"/",n);if(l==null)return null;let u=bA(t);yI(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=xI(l);h=CI(u[d],p,r)}return h}function bA(t,e=[],n=[],r="",a=!1){let l=(u,h,d=a,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&d)return;mt(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let v=Pr([r,y.relativePath]),E=n.concat(y);u.children&&u.children.length>0&&(mt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),bA(u.children,e,E,v,d)),!(u.path==null&&!u.index)&&e.push({path:v,score:wI(v,u.index),routesMeta:E})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let d of SA(u.path))l(u,h,!0,d)}),e}function SA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let u=SA(r.join("/")),h=[];return h.push(...u.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function yI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:AI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var vI=/^:[\w-]+$/,_I=3,TI=2,EI=1,bI=10,SI=-2,ub=t=>t==="*";function wI(t,e){let n=t.split("/"),r=n.length;return n.some(ub)&&(r+=SI),e&&(r+=TI),n.filter(a=>!ub(a)).reduce((a,l)=>a+(vI.test(l)?_I:l===""?EI:bI),r)}function AI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function CI(t,e,n=!1){let{routesMeta:r}=t,a={},l="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=Hf({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},y),E=d.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=Hf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:Pr([l,v.pathname]),pathnameBase:PI(Pr([l,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(l=Pr([l,v.pathnameBase]))}return u}function Hf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=RI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:v},E)=>{if(y==="*"){let D=h[E]||"";u=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const w=h[E];return v&&!w?p[y]=void 0:p[y]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function RI(t,e=!1,n=!0){oi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function xI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Or(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var DI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,II=t=>DI.test(t);function NI(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Xa(t):t,l;if(n)if(II(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),oi(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=cb(n.substring(1),"/"):l=cb(n,e)}else l=e;return{pathname:l,search:VI(r),hash:OI(a)}}function cb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function sg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function MI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wA(t){let e=MI(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function AA(t,e,n,r=!1){let a;typeof t=="string"?a=Xa(t):(a={...t},mt(!a.pathname||!a.pathname.includes("?"),sg("?","pathname","search",a)),mt(!a.pathname||!a.pathname.includes("#"),sg("#","pathname","hash",a)),mt(!a.search||!a.search.includes("#"),sg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=n;else{let v=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),v-=1;a.pathname=E.join("/")}h=v>=0?e[v]:"/"}let d=NI(a,h),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||y)&&(d.pathname+="/"),d}var Pr=t=>t.join("/").replace(/\/\/+/g,"/"),PI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),VI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,OI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var CA=["POST","PUT","PATCH","DELETE"];new Set(CA);var LI=["GET",...CA];new Set(LI);var gl=L.createContext(null);gl.displayName="DataRouter";var Td=L.createContext(null);Td.displayName="DataRouterState";L.createContext(!1);var RA=L.createContext({isTransitioning:!1});RA.displayName="ViewTransition";var UI=L.createContext(new Map);UI.displayName="Fetchers";var jI=L.createContext(null);jI.displayName="Await";var ur=L.createContext(null);ur.displayName="Navigation";var vc=L.createContext(null);vc.displayName="Location";var cr=L.createContext({outlet:null,matches:[],isDataRoute:!1});cr.displayName="Route";var Fy=L.createContext(null);Fy.displayName="RouteError";function zI(t,{relative:e}={}){mt(_c(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=L.useContext(ur),{hash:a,pathname:l,search:u}=Tc(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Pr([n,l])),r.createHref({pathname:h,search:u,hash:a})}function _c(){return L.useContext(vc)!=null}function $a(){return mt(_c(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(vc).location}var xA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DA(t){L.useContext(ur).static||L.useLayoutEffect(t)}function Hy(){let{isDataRoute:t}=L.useContext(cr);return t?eN():BI()}function BI(){mt(_c(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(gl),{basename:e,navigator:n}=L.useContext(ur),{matches:r}=L.useContext(cr),{pathname:a}=$a(),l=JSON.stringify(wA(r)),u=L.useRef(!1);return DA(()=>{u.current=!0}),L.useCallback((d,p={})=>{if(oi(u.current,xA),!u.current)return;if(typeof d=="number"){n.go(d);return}let y=AA(d,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Pr([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}L.createContext(null);function FI(){let{matches:t}=L.useContext(cr),e=t[t.length-1];return e?e.params:{}}function Tc(t,{relative:e}={}){let{matches:n}=L.useContext(cr),{pathname:r}=$a(),a=JSON.stringify(wA(n));return L.useMemo(()=>AA(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function HI(t,e){return IA(t,e)}function IA(t,e,n,r,a){mt(_c(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=L.useContext(ur),{matches:u}=L.useContext(cr),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let B=v&&v.path||"";NA(p,!v||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let E=$a(),w;if(e){let B=typeof e=="string"?Xa(e):e;mt(y==="/"||B.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${B.pathname}" was given in the \`location\` prop.`),w=B}else w=E;let D=w.pathname||"/",M=D;if(y!=="/"){let B=y.replace(/^\//,"").split("/");M="/"+D.replace(/^\//,"").split("/").slice(B.length).join("/")}let N=EA(t,{pathname:M});oi(v||N!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),oi(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=XI(N&&N.map(B=>Object.assign({},B,{params:Object.assign({},d,B.params),pathname:Pr([y,l.encodeLocation?l.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:Pr([y,l.encodeLocation?l.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),u,n,r,a);return e&&U?L.createElement(vc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},U):U}function qI(){let t=JI(),e=kI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:l},"ErrorBoundary")," or"," ",L.createElement("code",{style:l},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:a},n):null,u)}var GI=L.createElement(qI,null),YI=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?L.createElement(cr.Provider,{value:this.props.routeContext},L.createElement(Fy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KI({routeContext:t,match:e,children:n}){let r=L.useContext(gl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(cr.Provider,{value:t},n)}function XI(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let y=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);mt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let h=!1,d=-1;if(n)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=y),v.route.id){let{loaderData:E,errors:w}=n,D=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||D){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let p=n&&r?(y,v)=>{r(y,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:v})}:void 0;return l.reduceRight((y,v,E)=>{let w,D=!1,M=null,N=null;n&&(w=u&&v.route.id?u[v.route.id]:void 0,M=v.route.errorElement||GI,h&&(d<0&&E===0?(NA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,N=null):d===E&&(D=!0,N=v.route.hydrateFallbackElement||null)));let U=e.concat(l.slice(0,E+1)),B=()=>{let F;return w?F=M:D?F=N:v.route.Component?F=L.createElement(v.route.Component,null):v.route.element?F=v.route.element:F=y,L.createElement(KI,{match:v,routeContext:{outlet:y,matches:U,isDataRoute:n!=null},children:F})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?L.createElement(YI,{location:n.location,revalidation:n.revalidation,component:M,error:w,children:B(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:p}):B()},null)}function qy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $I(t){let e=L.useContext(gl);return mt(e,qy(t)),e}function QI(t){let e=L.useContext(Td);return mt(e,qy(t)),e}function WI(t){let e=L.useContext(cr);return mt(e,qy(t)),e}function Gy(t){let e=WI(t),n=e.matches[e.matches.length-1];return mt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ZI(){return Gy("useRouteId")}function JI(){let t=L.useContext(Fy),e=QI("useRouteError"),n=Gy("useRouteError");return t!==void 0?t:e.errors?.[n]}function eN(){let{router:t}=$I("useNavigate"),e=Gy("useNavigate"),n=L.useRef(!1);return DA(()=>{n.current=!0}),L.useCallback(async(a,l={})=>{oi(n.current,xA),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var hb={};function NA(t,e,n){!e&&!hb[t]&&(hb[t]=!0,oi(!1,n))}L.memo(tN);function tN({routes:t,future:e,state:n,unstable_onError:r}){return IA(t,void 0,n,r,e)}function Lu(t){mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nN({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:l=!1}){mt(!_c(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=L.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=Xa(n));let{pathname:d="/",search:p="",hash:y="",state:v=null,key:E="default"}=n,w=L.useMemo(()=>{let D=Or(d,u);return D==null?null:{location:{pathname:D,search:p,hash:y,state:v,key:E},navigationType:r}},[u,d,p,y,v,E,r]);return oi(w!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:L.createElement(ur.Provider,{value:h},L.createElement(vc.Provider,{children:e,value:w}))}function iN({children:t,location:e}){return HI(Bg(t),e)}function Bg(t,e=[]){let n=[];return L.Children.forEach(t,(r,a)=>{if(!L.isValidElement(r))return;let l=[...e,a];if(r.type===L.Fragment){n.push.apply(n,Bg(r.props.children,l));return}mt(r.type===Lu,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Bg(r.props.children,l)),n.push(u)}),n}var Cf="get",Rf="application/x-www-form-urlencoded";function Ed(t){return t!=null&&typeof t.tagName=="string"}function rN(t){return Ed(t)&&t.tagName.toLowerCase()==="button"}function sN(t){return Ed(t)&&t.tagName.toLowerCase()==="form"}function aN(t){return Ed(t)&&t.tagName.toLowerCase()==="input"}function oN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lN(t,e){return t.button===0&&(!e||e==="_self")&&!oN(t)}var df=null;function uN(){if(df===null)try{new FormData(document.createElement("form"),0),df=!1}catch{df=!0}return df}var cN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ag(t){return t!=null&&!cN.has(t)?(oi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rf}"`),null):t}function hN(t,e){let n,r,a,l,u;if(sN(t)){let h=t.getAttribute("action");r=h?Or(h,e):null,n=t.getAttribute("method")||Cf,a=ag(t.getAttribute("enctype"))||Rf,l=new FormData(t)}else if(rN(t)||aN(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?Or(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Cf,a=ag(t.getAttribute("formenctype"))||ag(h.getAttribute("enctype"))||Rf,l=new FormData(h,t),!uN()){let{name:p,type:y,value:v}=t;if(y==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,v)}}else{if(Ed(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Cf,r=null,a=Rf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fN(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Or(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function dN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function pN(t,e,n){let r=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await dN(l,n);return u.links?u.links():[]}return[]}));return _N(r.flat(1).filter(mN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function fb(t,e,n,r,a,l){let u=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>n[p].pathname!==d.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,p)=>u(d,p)||h(d,p)):l==="data"?e.filter((d,p)=>{let y=r.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function gN(t,e,{includeHydrateFallback:n}={}){return yN(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function yN(t){return[...new Set(t)]}function vN(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function _N(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let l=JSON.stringify(vN(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function MA(){let t=L.useContext(gl);return Yy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function TN(){let t=L.useContext(Td);return Yy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ky=L.createContext(void 0);Ky.displayName="FrameworkContext";function PA(){let t=L.useContext(Ky);return Yy(t,"You must render this element inside a <HydratedRouter> element"),t}function EN(t,e){let n=L.useContext(Ky),[r,a]=L.useState(!1),[l,u]=L.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,E=L.useRef(null);L.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let M=U=>{U.forEach(B=>{u(B.isIntersecting)})},N=new IntersectionObserver(M,{threshold:.5});return E.current&&N.observe(E.current),()=>{N.disconnect()}}},[t]),L.useEffect(()=>{if(r){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[r]);let w=()=>{a(!0)},D=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,E,{}]:[l,E,{onFocus:Vu(h,w),onBlur:Vu(d,D),onMouseEnter:Vu(p,w),onMouseLeave:Vu(y,D),onTouchStart:Vu(v,w)}]:[!1,E,{}]}function Vu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function bN({page:t,...e}){let{router:n}=MA(),r=L.useMemo(()=>EA(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?L.createElement(wN,{page:t,matches:r,...e}):null}function SN(t){let{manifest:e,routeModules:n}=PA(),[r,a]=L.useState([]);return L.useEffect(()=>{let l=!1;return pN(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),r}function wN({page:t,matches:e,...n}){let r=$a(),{manifest:a,routeModules:l}=PA(),{basename:u}=MA(),{loaderData:h,matches:d}=TN(),p=L.useMemo(()=>fb(t,e,d,a,r,"data"),[t,e,d,a,r]),y=L.useMemo(()=>fb(t,e,d,a,r,"assets"),[t,e,d,a,r]),v=L.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let D=new Set,M=!1;if(e.forEach(U=>{let B=a.routes[U.route.id];!B||!B.hasLoader||(!p.some(F=>F.route.id===U.route.id)&&U.route.id in h&&l[U.route.id]?.shouldRevalidate||B.hasClientLoader?M=!0:D.add(U.route.id))}),D.size===0)return[];let N=fN(t,u,"data");return M&&D.size>0&&N.searchParams.set("_routes",e.filter(U=>D.has(U.route.id)).map(U=>U.route.id).join(",")),[N.pathname+N.search]},[u,h,r,a,p,e,t,l]),E=L.useMemo(()=>gN(y,a),[y,a]),w=SN(y);return L.createElement(L.Fragment,null,v.map(D=>L.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),E.map(D=>L.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),w.map(({key:D,link:M})=>L.createElement("link",{key:D,nonce:n.nonce,...M})))}function AN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var VA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{VA&&(window.__reactRouterVersion="7.9.6")}catch{}function CN({basename:t,children:e,window:n}){let r=L.useRef();r.current==null&&(r.current=fI({window:n,v5Compat:!0}));let a=r.current,[l,u]=L.useState({action:a.action,location:a.location}),h=L.useCallback(d=>{L.startTransition(()=>u(d))},[u]);return L.useLayoutEffect(()=>a.listen(h),[a,h]),L.createElement(nN,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var OA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,La=L.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:u,state:h,target:d,to:p,preventScrollReset:y,viewTransition:v,...E},w){let{basename:D}=L.useContext(ur),M=typeof p=="string"&&OA.test(p),N,U=!1;if(typeof p=="string"&&M&&(N=p,VA))try{let x=new URL(window.location.href),k=p.startsWith("//")?new URL(x.protocol+p):new URL(p),O=Or(k.pathname,D);k.origin===x.origin&&O!=null?p=O+k.search+k.hash:U=!0}catch{oi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=zI(p,{relative:a}),[F,se,re]=EN(r,E),oe=IN(p,{replace:u,state:h,target:d,preventScrollReset:y,relative:a,viewTransition:v});function I(x){e&&e(x),x.defaultPrevented||oe(x)}let A=L.createElement("a",{...E,...re,href:N||B,onClick:U||l?e:I,ref:AN(w,se),target:d,"data-discover":!M&&n==="render"?"true":void 0});return F&&!M?L.createElement(L.Fragment,null,A,L.createElement(bN,{page:B})):A});La.displayName="Link";var RN=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:u,viewTransition:h,children:d,...p},y){let v=Tc(u,{relative:p.relative}),E=$a(),w=L.useContext(Td),{navigator:D,basename:M}=L.useContext(ur),N=w!=null&&ON(v)&&h===!0,U=D.encodeLocation?D.encodeLocation(v).pathname:v.pathname,B=E.pathname,F=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(B=B.toLowerCase(),F=F?F.toLowerCase():null,U=U.toLowerCase()),F&&M&&(F=Or(F,M)||F);const se=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let re=B===U||!a&&B.startsWith(U)&&B.charAt(se)==="/",oe=F!=null&&(F===U||!a&&F.startsWith(U)&&F.charAt(U.length)==="/"),I={isActive:re,isPending:oe,isTransitioning:N},A=re?e:void 0,x;typeof r=="function"?x=r(I):x=[r,re?"active":null,oe?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(I):l;return L.createElement(La,{...p,"aria-current":A,className:x,ref:y,style:k,to:u,viewTransition:h},typeof d=="function"?d(I):d)});RN.displayName="NavLink";var xN=L.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:l,method:u=Cf,action:h,onSubmit:d,relative:p,preventScrollReset:y,viewTransition:v,...E},w)=>{let D=PN(),M=VN(h,{relative:p}),N=u.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&OA.test(h),B=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let se=F.nativeEvent.submitter,re=se?.getAttribute("formmethod")||u;D(se||F.currentTarget,{fetcherKey:e,method:re,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:v})};return L.createElement("form",{ref:w,method:N,action:M,onSubmit:r?d:B,...E,"data-discover":!U&&t==="render"?"true":void 0})});xN.displayName="Form";function DN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kA(t){let e=L.useContext(gl);return mt(e,DN(t)),e}function IN(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:u}={}){let h=Hy(),d=$a(),p=Tc(t,{relative:l});return L.useCallback(y=>{if(lN(y,e)){y.preventDefault();let v=n!==void 0?n:nc(d)===nc(p);h(t,{replace:v,state:r,preventScrollReset:a,relative:l,viewTransition:u})}},[d,h,p,n,r,e,t,a,l,u])}var NN=0,MN=()=>`__${String(++NN)}__`;function PN(){let{router:t}=kA("useSubmit"),{basename:e}=L.useContext(ur),n=ZI();return L.useCallback(async(r,a={})=>{let{action:l,method:u,encType:h,formData:d,body:p}=hN(r,e);if(a.navigate===!1){let y=a.fetcherKey||MN();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function VN(t,{relative:e}={}){let{basename:n}=L.useContext(ur),r=L.useContext(cr);mt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Tc(t||".",{relative:e})},u=$a();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Pr([n,l.pathname])),nc(l)}function ON(t,{relative:e}={}){let n=L.useContext(RA);mt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=kA("useViewTransitionState"),a=Tc(t,{relative:e});if(!n.isTransitioning)return!1;let l=Or(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Or(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Hf(a.pathname,u)!=null||Hf(a.pathname,l)!=null}const kN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LN=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),db=t=>{const e=LN(t);return e.charAt(0).toUpperCase()+e.slice(1)},LA=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),UN=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var jN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zN=L.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:u,...h},d)=>L.createElement("svg",{ref:d,...jN,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:LA("lucide",a),...!l&&!UN(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,y])=>L.createElement(p,y)),...Array.isArray(l)?l:[l]]));const Rn=(t,e)=>{const n=L.forwardRef(({className:r,...a},l)=>L.createElement(zN,{ref:l,iconNode:e,className:LA(`lucide-${kN(db(t))}`,`lucide-${t}`,r),...a}));return n.displayName=db(t),n};const BN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],FN=Rn("arrow-left",BN);const HN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],UA=Rn("arrow-right",HN);const qN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],GN=Rn("circle-check-big",qN);const YN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jA=Rn("clock",YN);const KN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],XN=Rn("file-text",KN);const $N=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],QN=Rn("lock",$N);const WN=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],ZN=Rn("map",WN);const JN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],eM=Rn("plus",JN);const tM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],og=Rn("search",tM);const nM=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],iM=Rn("store",nM);const rM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],sM=Rn("trash-2",rM);const aM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],mb=Rn("upload",aM);const oM=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],Fg=Rn("utensils-crossed",oM);const lM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qf=Rn("x",lM),Xy=L.createContext({});function $y(t){const e=L.useRef(null);return e.current===null&&(e.current=t()),e.current}const Qy=typeof window<"u",zA=Qy?L.useLayoutEffect:L.useEffect,bd=L.createContext(null);function Wy(t,e){t.indexOf(e)===-1&&t.push(e)}function Zy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const kr=(t,e,n)=>n>e?e:n<t?t:n;let Jy=()=>{};const Lr={},BA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function FA(t){return typeof t=="object"&&t!==null}const HA=t=>/^0[^.\s]+$/u.test(t);function ev(t){let e;return()=>(e===void 0&&(e=t()),e)}const ri=t=>t,uM=(t,e)=>n=>e(t(n)),Ec=(...t)=>t.reduce(uM),ic=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class tv{constructor(){this.subscriptions=[]}add(e){return Wy(this.subscriptions,e),()=>Zy(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zi=t=>t*1e3,ni=t=>t/1e3;function qA(t,e){return e?t*(1e3/e):0}const GA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,cM=1e-7,hM=12;function fM(t,e,n,r,a){let l,u,h=0;do u=e+(n-e)/2,l=GA(u,r,a)-t,l>0?n=u:e=u;while(Math.abs(l)>cM&&++h<hM);return u}function bc(t,e,n,r){if(t===e&&n===r)return ri;const a=l=>fM(l,0,1,t,n);return l=>l===0||l===1?l:GA(a(l),e,r)}const YA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,KA=t=>e=>1-t(1-e),XA=bc(.33,1.53,.69,.99),nv=KA(XA),$A=YA(nv),QA=t=>(t*=2)<1?.5*nv(t):.5*(2-Math.pow(2,-10*(t-1))),iv=t=>1-Math.sin(Math.acos(t)),WA=KA(iv),ZA=YA(iv),dM=bc(.42,0,1,1),mM=bc(0,0,.58,1),JA=bc(.42,0,.58,1),pM=t=>Array.isArray(t)&&typeof t[0]!="number",e1=t=>Array.isArray(t)&&typeof t[0]=="number",gM={linear:ri,easeIn:dM,easeInOut:JA,easeOut:mM,circIn:iv,circInOut:ZA,circOut:WA,backIn:nv,backInOut:$A,backOut:XA,anticipate:QA},yM=t=>typeof t=="string",pb=t=>{if(e1(t)){Jy(t.length===4);const[e,n,r,a]=t;return bc(e,n,r,a)}else if(yM(t))return gM[t];return t},mf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function vM(t,e){let n=new Set,r=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(y){u.has(y)&&(p.schedule(y),t()),y(h)}const p={schedule:(y,v=!1,E=!1)=>{const D=E&&a?n:r;return v&&u.add(y),D.has(y)||D.add(y),y},cancel:y=>{r.delete(y),u.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const _M=40;function t1(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=mf.reduce((F,se)=>(F[se]=vM(l),F),{}),{setup:h,read:d,resolveKeyframes:p,preUpdate:y,update:v,preRender:E,render:w,postRender:D}=u,M=()=>{const F=Lr.useManualTiming?a.timestamp:performance.now();n=!1,Lr.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(F-a.timestamp,_M),1)),a.timestamp=F,a.isProcessing=!0,h.process(a),d.process(a),p.process(a),y.process(a),v.process(a),E.process(a),w.process(a),D.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(M))},N=()=>{n=!0,r=!0,a.isProcessing||t(M)};return{schedule:mf.reduce((F,se)=>{const re=u[se];return F[se]=(oe,I=!1,A=!1)=>(n||N(),re.schedule(oe,I,A)),F},{}),cancel:F=>{for(let se=0;se<mf.length;se++)u[mf[se]].cancel(F)},state:a,steps:u}}const{schedule:ft,cancel:Us,state:en,steps:lg}=t1(typeof requestAnimationFrame<"u"?requestAnimationFrame:ri,!0);let xf;function TM(){xf=void 0}const Cn={now:()=>(xf===void 0&&Cn.set(en.isProcessing||Lr.useManualTiming?en.timestamp:performance.now()),xf),set:t=>{xf=t,queueMicrotask(TM)}},n1=t=>e=>typeof e=="string"&&e.startsWith(t),rv=n1("--"),EM=n1("var(--"),sv=t=>EM(t)?bM.test(t.split("/*")[0].trim()):!1,bM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},rc={...yl,transform:t=>kr(0,1,t)},pf={...yl,default:1},Gu=t=>Math.round(t*1e5)/1e5,av=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SM(t){return t==null}const wM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ov=(t,e)=>n=>!!(typeof n=="string"&&wM.test(n)&&n.startsWith(t)||e&&!SM(n)&&Object.prototype.hasOwnProperty.call(n,e)),i1=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,l,u,h]=r.match(av);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},AM=t=>kr(0,255,t),ug={...yl,transform:t=>Math.round(AM(t))},Pa={test:ov("rgb","red"),parse:i1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ug.transform(t)+", "+ug.transform(e)+", "+ug.transform(n)+", "+Gu(rc.transform(r))+")"};function CM(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Hg={test:ov("#"),parse:CM,transform:Pa.transform},Sc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ws=Sc("deg"),Ji=Sc("%"),be=Sc("px"),RM=Sc("vh"),xM=Sc("vw"),gb={...Ji,parse:t=>Ji.parse(t)/100,transform:t=>Ji.transform(t*100)},Ko={test:ov("hsl","hue"),parse:i1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ji.transform(Gu(e))+", "+Ji.transform(Gu(n))+", "+Gu(rc.transform(r))+")"},Lt={test:t=>Pa.test(t)||Hg.test(t)||Ko.test(t),parse:t=>Pa.test(t)?Pa.parse(t):Ko.test(t)?Ko.parse(t):Hg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Pa.transform(t):Ko.transform(t),getAnimatableNone:t=>{const e=Lt.parse(t);return e.alpha=0,Lt.transform(e)}},DM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function IM(t){return isNaN(t)&&typeof t=="string"&&(t.match(av)?.length||0)+(t.match(DM)?.length||0)>0}const r1="number",s1="color",NM="var",MM="var(",yb="${}",PM=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(PM,d=>(Lt.test(d)?(r.color.push(l),a.push(s1),n.push(Lt.parse(d))):d.startsWith(MM)?(r.var.push(l),a.push(NM),n.push(d)):(r.number.push(l),a.push(r1),n.push(parseFloat(d))),++l,yb)).split(yb);return{values:n,split:h,indexes:r,types:a}}function a1(t){return sc(t).values}function o1(t){const{split:e,types:n}=sc(t),r=e.length;return a=>{let l="";for(let u=0;u<r;u++)if(l+=e[u],a[u]!==void 0){const h=n[u];h===r1?l+=Gu(a[u]):h===s1?l+=Lt.transform(a[u]):l+=a[u]}return l}}const VM=t=>typeof t=="number"?0:Lt.test(t)?Lt.getAnimatableNone(t):t;function OM(t){const e=a1(t);return o1(t)(e.map(VM))}const js={test:IM,parse:a1,createTransformer:o1,getAnimatableNone:OM};function cg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function kM({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=cg(d,h,t+1/3),l=cg(d,h,t),u=cg(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:r}}function Gf(t,e){return n=>n>0?e:t}const dt=(t,e,n)=>t+(e-t)*n,hg=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},LM=[Hg,Pa,Ko],UM=t=>LM.find(e=>e.test(t));function vb(t){const e=UM(t);if(!e)return!1;let n=e.parse(t);return e===Ko&&(n=kM(n)),n}const _b=(t,e)=>{const n=vb(t),r=vb(e);if(!n||!r)return Gf(t,e);const a={...n};return l=>(a.red=hg(n.red,r.red,l),a.green=hg(n.green,r.green,l),a.blue=hg(n.blue,r.blue,l),a.alpha=dt(n.alpha,r.alpha,l),Pa.transform(a))},qg=new Set(["none","hidden"]);function jM(t,e){return qg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function zM(t,e){return n=>dt(t,e,n)}function lv(t){return typeof t=="number"?zM:typeof t=="string"?sv(t)?Gf:Lt.test(t)?_b:HM:Array.isArray(t)?l1:typeof t=="object"?Lt.test(t)?_b:BM:Gf}function l1(t,e){const n=[...t],r=n.length,a=t.map((l,u)=>lv(l)(l,e[u]));return l=>{for(let u=0;u<r;u++)n[u]=a[u](l);return n}}function BM(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=lv(t[a])(t[a],e[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function FM(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][r[l]],h=t.values[u]??0;n[a]=h,r[l]++}return n}const HM=(t,e)=>{const n=js.createTransformer(e),r=sc(t),a=sc(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?qg.has(t)&&!a.values.length||qg.has(e)&&!r.values.length?jM(t,e):Ec(l1(FM(r,a),a.values),n):Gf(t,e)};function u1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?dt(t,e,n):lv(t)(t,e)}const qM=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ft.update(e,n),stop:()=>Us(e),now:()=>en.isProcessing?en.timestamp:Cn.now()}},c1=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)r+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Yf=2e4;function uv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Yf;)e+=n,r=t.next(e);return e>=Yf?1/0:e}function GM(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(uv(r),Yf);return{type:"keyframes",ease:l=>r.next(a*l).value/e,duration:ni(a)}}const YM=5;function h1(t,e,n){const r=Math.max(e-YM,0);return qA(n-t(r),e-r)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fg=.001;function KM({duration:t=_t.duration,bounce:e=_t.bounce,velocity:n=_t.velocity,mass:r=_t.mass}){let a,l,u=1-e;u=kr(_t.minDamping,_t.maxDamping,u),t=kr(_t.minDuration,_t.maxDuration,ni(t)),u<1?(a=p=>{const y=p*u,v=y*t,E=y-n,w=Gg(p,u),D=Math.exp(-v);return fg-E/w*D},l=p=>{const v=p*u*t,E=v*n+n,w=Math.pow(u,2)*Math.pow(p,2)*t,D=Math.exp(-v),M=Gg(Math.pow(p,2),u);return(-a(p)+fg>0?-1:1)*((E-w)*D)/M}):(a=p=>{const y=Math.exp(-p*t),v=(p-n)*t+1;return-fg+y*v},l=p=>{const y=Math.exp(-p*t),v=(n-p)*(t*t);return y*v});const h=5/t,d=$M(a,l,h);if(t=Zi(t),isNaN(d))return{stiffness:_t.stiffness,damping:_t.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:t}}}const XM=12;function $M(t,e,n){let r=n;for(let a=1;a<XM;a++)r=r-t(r)/e(r);return r}function Gg(t,e){return t*Math.sqrt(1-e*e)}const QM=["duration","bounce"],WM=["stiffness","damping","mass"];function Tb(t,e){return e.some(n=>t[n]!==void 0)}function ZM(t){let e={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...t};if(!Tb(t,WM)&&Tb(t,QM))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*kr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:_t.mass,stiffness:a,damping:l}}else{const n=KM(t);e={...e,...n,mass:_t.mass},e.isResolvedFromDuration=!0}return e}function Kf(t=_t.visualDuration,e=_t.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:p,mass:y,duration:v,velocity:E,isResolvedFromDuration:w}=ZM({...n,velocity:-ni(n.velocity||0)}),D=E||0,M=p/(2*Math.sqrt(d*y)),N=u-l,U=ni(Math.sqrt(d/y)),B=Math.abs(N)<5;r||(r=B?_t.restSpeed.granular:_t.restSpeed.default),a||(a=B?_t.restDelta.granular:_t.restDelta.default);let F;if(M<1){const re=Gg(U,M);F=oe=>{const I=Math.exp(-M*U*oe);return u-I*((D+M*U*N)/re*Math.sin(re*oe)+N*Math.cos(re*oe))}}else if(M===1)F=re=>u-Math.exp(-U*re)*(N+(D+U*N)*re);else{const re=U*Math.sqrt(M*M-1);F=oe=>{const I=Math.exp(-M*U*oe),A=Math.min(re*oe,300);return u-I*((D+M*U*N)*Math.sinh(A)+re*N*Math.cosh(A))/re}}const se={calculatedDuration:w&&v||null,next:re=>{const oe=F(re);if(w)h.done=re>=v;else{let I=re===0?D:0;M<1&&(I=re===0?Zi(D):h1(F,re,oe));const A=Math.abs(I)<=r,x=Math.abs(u-oe)<=a;h.done=A&&x}return h.value=h.done?u:oe,h},toString:()=>{const re=Math.min(uv(se),Yf),oe=c1(I=>se.next(re*I).value,re,30);return re+"ms "+oe},toTransition:()=>{}};return se}Kf.applyToOptions=t=>{const e=GM(t,100,Kf);return t.ease=e.ease,t.duration=Zi(e.duration),t.type="keyframes",t};function Yg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:d,restDelta:p=.5,restSpeed:y}){const v=t[0],E={done:!1,value:v},w=A=>h!==void 0&&A<h||d!==void 0&&A>d,D=A=>h===void 0?d:d===void 0||Math.abs(h-A)<Math.abs(d-A)?h:d;let M=n*e;const N=v+M,U=u===void 0?N:u(N);U!==N&&(M=U-v);const B=A=>-M*Math.exp(-A/r),F=A=>U+B(A),se=A=>{const x=B(A),k=F(A);E.done=Math.abs(x)<=p,E.value=E.done?U:k};let re,oe;const I=A=>{w(E.value)&&(re=A,oe=Kf({keyframes:[E.value,D(E.value)],velocity:h1(F,A,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return I(0),{calculatedDuration:null,next:A=>{let x=!1;return!oe&&re===void 0&&(x=!0,se(A),I(A)),re!==void 0&&A>=re?oe.next(A-re):(!x&&se(A),E)}}}function JM(t,e,n){const r=[],a=n||Lr.mix||u1,l=t.length-1;for(let u=0;u<l;u++){let h=a(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||ri:e;h=Ec(d,h)}r.push(h)}return r}function eP(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const l=t.length;if(Jy(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=JM(e,r,a),d=h.length,p=y=>{if(u&&y<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const E=ic(t[v],t[v+1],y);return h[v](E)};return n?y=>p(kr(t[0],t[l-1],y)):p}function tP(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=ic(0,e,r);t.push(dt(n,1,a))}}function nP(t){const e=[0];return tP(e,t.length-1),e}function iP(t,e){return t.map(n=>n*e)}function rP(t,e){return t.map(()=>e||JA).splice(0,t.length-1)}function Yu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=pM(r)?r.map(pb):pb(r),l={done:!1,value:e[0]},u=iP(n&&n.length===e.length?n:nP(e),t),h=eP(u,e,{ease:Array.isArray(a)?a:rP(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const sP=t=>t!==null;function cv(t,{repeat:e,repeatType:n="loop"},r,a=1){const l=t.filter(sP),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||r===void 0?l[h]:r}const aP={decay:Yg,inertia:Yg,tween:Yu,keyframes:Yu,spring:Kf};function f1(t){typeof t.type=="string"&&(t.type=aP[t.type])}class hv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const oP=t=>t/100;class fv extends hv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Cn.now()&&this.tick(Cn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;f1(e);const{type:n=Yu,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:h}=e;const d=n||Yu;d!==Yu&&typeof h[0]!="number"&&(this.mixKeyframes=Ec(oP,u1(h[0],h[1])),h=[0,100]);const p=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=uv(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:E,repeatDelay:w,type:D,onUpdate:M,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const U=this.currentTime-p*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?U<0:U>a;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,se=r;if(v){const A=Math.min(this.currentTime,a)/h;let x=Math.floor(A),k=A%1;!k&&A>=1&&(k=1),k===1&&x--,x=Math.min(x,v+1),!!(x%2)&&(E==="reverse"?(k=1-k,w&&(k-=w/h)):E==="mirror"&&(se=u)),F=kr(0,1,k)*h}const re=B?{done:!1,value:y[0]}:se.next(F);l&&(re.value=l(re.value));let{done:oe}=re;!B&&d!==null&&(oe=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&oe);return I&&D!==Yg&&(re.value=cv(y,this.options,N,this.speed)),M&&M(re.value),I&&this.finish(),re}then(e,n){return this.finished.then(e,n)}get duration(){return ni(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ni(e)}get time(){return ni(this.currentTime)}set time(e){e=Zi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Cn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ni(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=qM,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function lP(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Va=t=>t*180/Math.PI,Kg=t=>{const e=Va(Math.atan2(t[1],t[0]));return Xg(e)},uP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Kg,rotateZ:Kg,skewX:t=>Va(Math.atan(t[1])),skewY:t=>Va(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Xg=t=>(t=t%360,t<0&&(t+=360),t),Eb=Kg,bb=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Sb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),cP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bb,scaleY:Sb,scale:t=>(bb(t)+Sb(t))/2,rotateX:t=>Xg(Va(Math.atan2(t[6],t[5]))),rotateY:t=>Xg(Va(Math.atan2(-t[2],t[0]))),rotateZ:Eb,rotate:Eb,skewX:t=>Va(Math.atan(t[4])),skewY:t=>Va(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function $g(t){return t.includes("scale")?1:0}function Qg(t,e){if(!t||t==="none")return $g(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=cP,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=uP,a=h}if(!a)return $g(e);const l=r[e],u=a[1].split(",").map(fP);return typeof l=="function"?l(u):u[l]}const hP=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Qg(n,e)};function fP(t){return parseFloat(t.trim())}const vl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_l=new Set(vl),wb=t=>t===yl||t===be,dP=new Set(["x","y","z"]),mP=vl.filter(t=>!dP.has(t));function pP(t){const e=[];return mP.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ua={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Qg(e,"x"),y:(t,{transform:e})=>Qg(e,"y")};Ua.translateX=Ua.x;Ua.translateY=Ua.y;const ja=new Set;let Wg=!1,Zg=!1,Jg=!1;function d1(){if(Zg){const t=Array.from(ja).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=pP(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,u])=>{r.getValue(l)?.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Zg=!1,Wg=!1,ja.forEach(t=>t.complete(Jg)),ja.clear()}function m1(){ja.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Zg=!0)})}function gP(){Jg=!0,m1(),d1(),Jg=!1}class dv{constructor(e,n,r,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(ja.add(this),Wg||(Wg=!0,ft.read(m1),ft.resolveKeyframes(d1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const h=r.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}lP(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ja.delete(this)}cancel(){this.state==="scheduled"&&(ja.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const yP=t=>t.startsWith("--");function vP(t,e,n){yP(e)?t.style.setProperty(e,n):t.style[e]=n}const _P=ev(()=>window.ScrollTimeline!==void 0),TP={};function EP(t,e){const n=ev(t);return()=>TP[e]??n()}const p1=EP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Uu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Ab={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Uu([0,.65,.55,1]),circOut:Uu([.55,0,1,.45]),backIn:Uu([.31,.01,.66,-.59]),backOut:Uu([.33,1.53,.69,.99])};function g1(t,e){if(t)return typeof t=="function"?p1()?c1(t,e):"ease-out":e1(t)?Uu(t):Array.isArray(t)?t.map(n=>g1(n,e)||Ab.easeOut):Ab[t]}function bP(t,e,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:d}={},p=void 0){const y={[e]:n};d&&(y.offset=d);const v=g1(h,a);Array.isArray(v)&&(y.easing=v);const E={delay:r,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),t.animate(y,E)}function y1(t){return typeof t=="function"&&"applyToOptions"in t}function SP({type:t,...e}){return y1(t)&&p1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class wP extends hv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,Jy(typeof e.type!="string");const p=SP(e);this.animation=bP(n,r,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=cv(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):vP(n,r,y),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ni(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ni(e)}get time(){return ni(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Zi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&_P()?(this.animation.timeline=e,ri):n(this)}}const v1={anticipate:QA,backInOut:$A,circInOut:ZA};function AP(t){return t in v1}function CP(t){typeof t.ease=="string"&&AP(t.ease)&&(t.ease=v1[t.ease])}const Cb=10;class RP extends wP{constructor(e){CP(e),f1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new fv({...u,autoplay:!1}),d=Zi(this.finishedTime??this.time);n.setWithVelocity(h.sample(d-Cb).value,h.sample(d).value,Cb),h.stop()}}const Rb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(js.test(t)||t==="0")&&!t.startsWith("url("));function xP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function DP(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=Rb(a,e),h=Rb(l,e);return!u||!h?!1:xP(t)||(n==="spring"||y1(n))&&r}function ey(t){t.duration=0,t.type="keyframes"}const IP=new Set(["opacity","clipPath","filter","transform"]),NP=ev(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function MP(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return NP()&&n&&IP.has(n)&&(n!=="transform"||!p)&&!d&&!r&&a!=="mirror"&&l!==0&&u!=="inertia"}const PP=40;class VP extends hv{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:d,motionValue:p,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Cn.now();const E={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:u,name:d,motionValue:p,element:y,...v},w=y?.KeyframeResolver||dv;this.keyframeResolver=new w(h,(D,M,N)=>this.onKeyframesResolved(D,M,E,!N),d,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:d,isHandoff:p,onUpdate:y}=r;this.resolvedAt=Cn.now(),DP(e,l,u,h)||((Lr.instantAnimations||!d)&&y?.(cv(e,r,n)),e[0]=e[e.length-1],ey(r),r.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>PP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},w=!p&&MP(E)?new RP({...E,element:E.motionValue.owner.current}):new fv(E);w.finished.then(()=>this.notifyFinished()).catch(ri),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),gP()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const OP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function kP(t){const e=OP.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function _1(t,e,n=1){const[r,a]=kP(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const u=l.trim();return BA(u)?parseFloat(u):u}return sv(a)?_1(a,e,n+1):a}function mv(t,e){return t?.[e]??t?.default??t}const T1=new Set(["width","height","top","left","right","bottom",...vl]),LP={test:t=>t==="auto",parse:t=>t},E1=t=>e=>e.test(t),b1=[yl,be,Ji,ws,xM,RM,LP],xb=t=>b1.find(E1(t));function UP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||HA(t):!0}const jP=new Set(["brightness","contrast","saturate","opacity"]);function zP(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(av)||[];if(!r)return t;const a=n.replace(r,"");let l=jP.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+a+")"}const BP=/\b([a-z-]*)\(.*?\)/gu,ty={...js,getAnimatableNone:t=>{const e=t.match(BP);return e?e.map(zP).join(" "):t}},Db={...yl,transform:Math.round},FP={rotate:ws,rotateX:ws,rotateY:ws,rotateZ:ws,scale:pf,scaleX:pf,scaleY:pf,scaleZ:pf,skew:ws,skewX:ws,skewY:ws,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:rc,originX:gb,originY:gb,originZ:be},pv={borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,radius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,top:be,right:be,bottom:be,left:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,backgroundPositionX:be,backgroundPositionY:be,...FP,zIndex:Db,fillOpacity:rc,strokeOpacity:rc,numOctaves:Db},HP={...pv,color:Lt,backgroundColor:Lt,outlineColor:Lt,fill:Lt,stroke:Lt,borderColor:Lt,borderTopColor:Lt,borderRightColor:Lt,borderBottomColor:Lt,borderLeftColor:Lt,filter:ty,WebkitFilter:ty},S1=t=>HP[t];function w1(t,e){let n=S1(t);return n!==ty&&(n=js),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const qP=new Set(["auto","none","0"]);function GP(t,e,n){let r=0,a;for(;r<t.length&&!a;){const l=t[r];typeof l=="string"&&!qP.has(l)&&sc(l).values.length&&(a=t[r]),r++}if(a&&n)for(const l of e)t[l]=w1(n,a)}class YP extends dv{constructor(e,n,r,a,l){super(e,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),sv(p))){const y=_1(p,n.current);y!==void 0&&(e[d]=y),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!T1.has(r)||e.length!==2)return;const[a,l]=e,u=xb(a),h=xb(l);if(u!==h)if(wb(u)&&wb(h))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else Ua[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||UP(e[a]))&&r.push(a);r.length&&GP(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ua[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,u=r[l];r[l]=Ua[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function KP(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=n?.[t]??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const A1=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function C1(t){return FA(t)&&"offsetHeight"in t}const Ib=30,XP=t=>!isNaN(parseFloat(t));class $P{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const a=Cn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Cn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=XP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new tv);const r=this.events[e].add(n);return e==="change"?()=>{r(),ft.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Cn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Ib)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Ib);return qA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ol(t,e){return new $P(t,e)}const{schedule:gv}=t1(queueMicrotask,!1),Ti={x:!1,y:!1};function R1(){return Ti.x||Ti.y}function QP(t){return t==="x"||t==="y"?Ti[t]?null:(Ti[t]=!0,()=>{Ti[t]=!1}):Ti.x||Ti.y?null:(Ti.x=Ti.y=!0,()=>{Ti.x=Ti.y=!1})}function x1(t,e){const n=KP(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function Nb(t){return!(t.pointerType==="touch"||R1())}function WP(t,e,n={}){const[r,a,l]=x1(t,n),u=h=>{if(!Nb(h))return;const{target:d}=h,p=e(d,h);if(typeof p!="function"||!d)return;const y=v=>{Nb(v)&&(p(v),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,a)};return r.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const D1=(t,e)=>e?t===e?!0:D1(t,e.parentElement):!1,yv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ZP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function JP(t){return ZP.has(t.tagName)||t.tabIndex!==-1}const Df=new WeakSet;function Mb(t){return e=>{e.key==="Enter"&&t(e)}}function dg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const eV=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Mb(()=>{if(Df.has(n))return;dg(n,"down");const a=Mb(()=>{dg(n,"up")}),l=()=>dg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Pb(t){return yv(t)&&!R1()}function tV(t,e,n={}){const[r,a,l]=x1(t,n),u=h=>{const d=h.currentTarget;if(!Pb(h))return;Df.add(d);const p=e(d,h),y=(w,D)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",E),Df.has(d)&&Df.delete(d),Pb(w)&&typeof p=="function"&&p(w,{success:D})},v=w=>{y(w,d===window||d===document||n.useGlobalTarget||D1(d,w.target))},E=w=>{y(w,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",E,a)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),C1(h)&&(h.addEventListener("focus",p=>eV(p,a)),!JP(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function I1(t){return FA(t)&&"ownerSVGElement"in t}function nV(t){return I1(t)&&t.tagName==="svg"}const un=t=>!!(t&&t.getVelocity),iV=[...b1,Lt,js],rV=t=>iV.find(E1(t)),vv=L.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Vb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function sV(...t){return e=>{let n=!1;const r=t.map(a=>{const l=Vb(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<r.length;a++){const l=r[a];typeof l=="function"?l():Vb(t[a],null)}}}}function aV(...t){return L.useCallback(sV(...t),t)}class oV extends L.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=C1(r)&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function lV({children:t,isPresent:e,anchorX:n,root:r}){const a=L.useId(),l=L.useRef(null),u=L.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=L.useContext(vv),d=aV(l,t?.ref);return L.useInsertionEffect(()=>{const{width:p,height:y,top:v,left:E,right:w}=u.current;if(e||!l.current||!p||!y)return;const D=n==="left"?`left: ${E}`:`right: ${w}`;l.current.dataset.motionPopId=a;const M=document.createElement("style");h&&(M.nonce=h);const N=r??document.head;return N.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${D}px !important;
            top: ${v}px !important;
          }
        `),()=>{N.contains(M)&&N.removeChild(M)}},[e]),R.jsx(oV,{isPresent:e,childRef:l,sizeRef:u,children:L.cloneElement(t,{ref:d})})}const uV=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h,root:d})=>{const p=$y(cV),y=L.useId();let v=!0,E=L.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:w=>{p.set(w,!0);for(const D of p.values())if(!D)return;r&&r()},register:w=>(p.set(w,!1),()=>p.delete(w))}),[n,p,r]);return l&&v&&(E={...E}),L.useMemo(()=>{p.forEach((w,D)=>p.set(D,!1))},[n]),L.useEffect(()=>{!n&&!p.size&&r&&r()},[n]),u==="popLayout"&&(t=R.jsx(lV,{isPresent:n,anchorX:h,root:d,children:t})),R.jsx(bd.Provider,{value:E,children:t})};function cV(){return new Map}function N1(t=!0){const e=L.useContext(bd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,l=L.useId();L.useEffect(()=>{if(t)return a(l)},[t]);const u=L.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,u]:[!0]}const gf=t=>t.key||"";function Ob(t){const e=[];return L.Children.forEach(t,n=>{L.isValidElement(n)&&e.push(n)}),e}const el=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",root:d})=>{const[p,y]=N1(u),v=L.useMemo(()=>Ob(t),[t]),E=u&&!p?[]:v.map(gf),w=L.useRef(!0),D=L.useRef(v),M=$y(()=>new Map),[N,U]=L.useState(v),[B,F]=L.useState(v);zA(()=>{w.current=!1,D.current=v;for(let oe=0;oe<B.length;oe++){const I=gf(B[oe]);E.includes(I)?M.delete(I):M.get(I)!==!0&&M.set(I,!1)}},[B,E.length,E.join("-")]);const se=[];if(v!==N){let oe=[...v];for(let I=0;I<B.length;I++){const A=B[I],x=gf(A);E.includes(x)||(oe.splice(I,0,A),se.push(A))}return l==="wait"&&se.length&&(oe=se),F(Ob(oe)),U(v),null}const{forceRender:re}=L.useContext(Xy);return R.jsx(R.Fragment,{children:B.map(oe=>{const I=gf(oe),A=u&&!p?!1:v===B||E.includes(I),x=()=>{if(M.has(I))M.set(I,!0);else return;let k=!0;M.forEach(O=>{O||(k=!1)}),k&&(re?.(),F(D.current),u&&y?.(),r&&r())};return R.jsx(uV,{isPresent:A,initial:!w.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:A?void 0:x,anchorX:h,children:oe},I)})})},M1=L.createContext({strict:!1}),kb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ll={};for(const t in kb)ll[t]={isEnabled:e=>kb[t].some(n=>!!e[n])};function hV(t){for(const e in t)ll[e]={...ll[e],...t[e]}}const fV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||fV.has(t)}let P1=t=>!Xf(t);function dV(t){typeof t=="function"&&(P1=e=>e.startsWith("on")?!Xf(e):t(e))}try{dV(require("@emotion/is-prop-valid").default)}catch{}function mV(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(P1(a)||n===!0&&Xf(a)||!e&&!Xf(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}const Sd=L.createContext({});function wd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ac(t){return typeof t=="string"||Array.isArray(t)}const _v=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Tv=["initial",..._v];function Ad(t){return wd(t.animate)||Tv.some(e=>ac(t[e]))}function V1(t){return!!(Ad(t)||t.variants)}function pV(t,e){if(Ad(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ac(n)?n:void 0,animate:ac(r)?r:void 0}}return t.inherit!==!1?e:{}}function gV(t){const{initial:e,animate:n}=pV(t,L.useContext(Sd));return L.useMemo(()=>({initial:e,animate:n}),[Lb(e),Lb(n)])}function Lb(t){return Array.isArray(t)?t.join(" "):t}const oc={};function yV(t){for(const e in t)oc[e]=t[e],rv(e)&&(oc[e].isCSSVariable=!0)}function O1(t,{layout:e,layoutId:n}){return _l.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!oc[t]||t==="opacity")}const vV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_V=vl.length;function TV(t,e,n){let r="",a=!0;for(let l=0;l<_V;l++){const u=vl[l],h=t[u];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(u.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const p=A1(h,pv[u]);if(!d){a=!1;const y=vV[u]||u;r+=`${y}(${p}) `}n&&(e[u]=p)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function Ev(t,e,n){const{style:r,vars:a,transformOrigin:l}=t;let u=!1,h=!1;for(const d in e){const p=e[d];if(_l.has(d)){u=!0;continue}else if(rv(d)){a[d]=p;continue}else{const y=A1(p,pv[d]);d.startsWith("origin")?(h=!0,l[d]=y):r[d]=y}}if(e.transform||(u||n?r.transform=TV(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${d} ${p} ${y}`}}const bv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function k1(t,e,n){for(const r in e)!un(e[r])&&!O1(r,n)&&(t[r]=e[r])}function EV({transformTemplate:t},e){return L.useMemo(()=>{const n=bv();return Ev(n,e,t),Object.assign({},n.vars,n.style)},[e])}function bV(t,e){const n=t.style||{},r={};return k1(r,n,t),Object.assign(r,EV(t,e)),r}function SV(t,e){const n={},r=bV(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const wV={offset:"stroke-dashoffset",array:"stroke-dasharray"},AV={offset:"strokeDashoffset",array:"strokeDasharray"};function CV(t,e,n=1,r=0,a=!0){t.pathLength=1;const l=a?wV:AV;t[l.offset]=be.transform(-r);const u=be.transform(e),h=be.transform(n);t[l.array]=`${u} ${h}`}function L1(t,{attrX:e,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},d,p,y){if(Ev(t,h,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:E}=t;v.transform&&(E.transform=v.transform,delete v.transform),(E.transform||v.transformOrigin)&&(E.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),a!==void 0&&CV(v,a,l,u,!1)}const U1=()=>({...bv(),attrs:{}}),j1=t=>typeof t=="string"&&t.toLowerCase()==="svg";function RV(t,e,n,r){const a=L.useMemo(()=>{const l=U1();return L1(l,e,j1(r),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};k1(l,t.style,t),a.style={...l,...a.style}}return a}const xV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Sv(t){return typeof t!="string"||t.includes("-")?!1:!!(xV.indexOf(t)>-1||/[A-Z]/u.test(t))}function DV(t,e,n,{latestValues:r},a,l=!1){const h=(Sv(t)?RV:SV)(e,r,a,t),d=mV(e,typeof t=="string",l),p=t!==L.Fragment?{...d,...h,ref:n}:{},{children:y}=e,v=L.useMemo(()=>un(y)?y.get():y,[y]);return L.createElement(t,{...p,children:v})}function Ub(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function wv(t,e,n,r){if(typeof e=="function"){const[a,l]=Ub(r);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=Ub(r);e=e(n!==void 0?n:t.custom,a,l)}return e}function If(t){return un(t)?t.get():t}function IV({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,a){return{latestValues:NV(n,r,a,t),renderState:e()}}function NV(t,e,n,r){const a={},l=r(t,{});for(const E in l)a[E]=If(l[E]);let{initial:u,animate:h}=t;const d=Ad(t),p=V1(t);e&&p&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const v=y?h:u;if(v&&typeof v!="boolean"&&!wd(v)){const E=Array.isArray(v)?v:[v];for(let w=0;w<E.length;w++){const D=wv(t,E[w]);if(D){const{transitionEnd:M,transition:N,...U}=D;for(const B in U){let F=U[B];if(Array.isArray(F)){const se=y?F.length-1:0;F=F[se]}F!==null&&(a[B]=F)}for(const B in M)a[B]=M[B]}}}return a}const z1=t=>(e,n)=>{const r=L.useContext(Sd),a=L.useContext(bd),l=()=>IV(t,e,r,a);return n?l():$y(l)};function Av(t,e,n){const{style:r}=t,a={};for(const l in r)(un(r[l])||e.style&&un(e.style[l])||O1(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=r[l]);return a}const MV=z1({scrapeMotionValuesFromProps:Av,createRenderState:bv});function B1(t,e,n){const r=Av(t,e,n);for(const a in t)if(un(t[a])||un(e[a])){const l=vl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=t[a]}return r}const PV=z1({scrapeMotionValuesFromProps:B1,createRenderState:U1}),VV=Symbol.for("motionComponentSymbol");function Xo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function OV(t,e,n){return L.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Xo(n)&&(n.current=r))},[e])}const Cv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),kV="framerAppearId",F1="data-"+Cv(kV),H1=L.createContext({});function LV(t,e,n,r,a){const{visualElement:l}=L.useContext(Sd),u=L.useContext(M1),h=L.useContext(bd),d=L.useContext(vv).reducedMotion,p=L.useRef(null);r=r||u.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const y=p.current,v=L.useContext(H1);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&UV(p.current,n,a,v);const E=L.useRef(!1);L.useInsertionEffect(()=>{y&&E.current&&y.update(n,h)});const w=n[F1],D=L.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return zA(()=>{y&&(E.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),D.current&&y.animationState&&y.animationState.animateChanges())}),L.useEffect(()=>{y&&(!D.current&&y.animationState&&y.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),D.current=!1),y.enteringChildren=void 0)}),y}function UV(t,e,n,r){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:q1(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&Xo(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:d,layoutRoot:p})}function q1(t){if(t)return t.options.allowProjection!==!1?t.projection:q1(t.parent)}function mg(t,{forwardMotionProps:e=!1}={},n,r){n&&hV(n);const a=Sv(t)?PV:MV;function l(h,d){let p;const y={...L.useContext(vv),...h,layoutId:jV(h)},{isStatic:v}=y,E=gV(h),w=a(h,v);if(!v&&Qy){zV();const D=BV(y);p=D.MeasureLayout,E.visualElement=LV(t,w,y,r,D.ProjectionNode)}return R.jsxs(Sd.Provider,{value:E,children:[p&&E.visualElement?R.jsx(p,{visualElement:E.visualElement,...y}):null,DV(t,h,OV(w,E.visualElement,d),w,v,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=L.forwardRef(l);return u[VV]=t,u}function jV({layoutId:t}){const e=L.useContext(Xy).id;return e&&t!==void 0?e+"-"+t:t}function zV(t,e){L.useContext(M1).strict}function BV(t){const{drag:e,layout:n}=ll;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function FV(t,e){if(typeof Proxy>"u")return mg;const n=new Map,r=(l,u)=>mg(l,u,t,e),a=(l,u)=>r(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?r:(n.has(u)||n.set(u,mg(u,void 0,t,e)),n.get(u))})}function G1({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function HV({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function qV(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function pg(t){return t===void 0||t===1}function ny({scale:t,scaleX:e,scaleY:n}){return!pg(t)||!pg(e)||!pg(n)}function Na(t){return ny(t)||Y1(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Y1(t){return jb(t.x)||jb(t.y)}function jb(t){return t&&t!=="0%"}function $f(t,e,n){const r=t-n,a=e*r;return n+a}function zb(t,e,n,r,a){return a!==void 0&&(t=$f(t,a,r)),$f(t,n,r)+e}function iy(t,e=0,n=1,r,a){t.min=zb(t.min,e,n,r,a),t.max=zb(t.max,e,n,r,a)}function K1(t,{x:e,y:n}){iy(t.x,e.translate,e.scale,e.originPoint),iy(t.y,n.translate,n.scale,n.originPoint)}const Bb=.999999999999,Fb=1.0000000000001;function GV(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let h=0;h<a;h++){l=n[h],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Qo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,K1(t,u)),r&&Na(l.latestValues)&&Qo(t,l.latestValues))}e.x<Fb&&e.x>Bb&&(e.x=1),e.y<Fb&&e.y>Bb&&(e.y=1)}function $o(t,e){t.min=t.min+e,t.max=t.max+e}function Hb(t,e,n,r,a=.5){const l=dt(t.min,t.max,a);iy(t,e,n,l,r)}function Qo(t,e){Hb(t.x,e.x,e.scaleX,e.scale,e.originX),Hb(t.y,e.y,e.scaleY,e.scale,e.originY)}function X1(t,e){return G1(qV(t.getBoundingClientRect(),e))}function YV(t,e,n){const r=X1(t,n),{scroll:a}=e;return a&&($o(r.x,a.offset.x),$o(r.y,a.offset.y)),r}const qb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wo=()=>({x:qb(),y:qb()}),Gb=()=>({min:0,max:0}),wt=()=>({x:Gb(),y:Gb()}),ry={current:null},$1={current:!1};function KV(){if($1.current=!0,!!Qy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ry.current=t.matches;t.addEventListener("change",e),e()}else ry.current=!1}const XV=new WeakMap;function $V(t,e,n){for(const r in e){const a=e[r],l=n[r];if(un(a))t.addValue(r,a);else if(un(l))t.addValue(r,ol(a,{owner:t}));else if(l!==a)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(r);t.addValue(r,ol(u!==void 0?u:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Yb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class QV{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=dv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Cn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,ft.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Ad(n),this.isVariantNode=V1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in v){const w=v[E];d[E]!==void 0&&un(w)&&w.set(d[E])}}mount(e){this.current=e,XV.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),$1.current||KV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ry.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Us(this.notifyUpdate),Us(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=_l.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&ft.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ll){const n=ll[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Yb.length;r++){const a=Yb[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=$V(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ol(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(BA(r)||HA(r))?r=parseFloat(r):!rV(r)&&js.test(n)&&(r=w1(e,n)),this.setBaseTarget(e,un(r)?r.get():r)),un(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=wv(this.props,n,this.presenceContext?.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!un(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new tv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){gv.render(this.render)}}class Q1 extends QV{constructor(){super(...arguments),this.KeyframeResolver=YP}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;un(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function W1(t,{style:e,vars:n},r,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,r);for(u in n)l.setProperty(u,n[u])}function WV(t){return window.getComputedStyle(t)}class ZV extends Q1{constructor(){super(...arguments),this.type="html",this.renderInstance=W1}readValueFromInstance(e,n){if(_l.has(n))return this.projection?.isProjecting?$g(n):hP(e,n);{const r=WV(e),a=(rv(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return X1(e,n)}build(e,n,r){Ev(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Av(e,n,r)}}const Z1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function JV(t,e,n,r){W1(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(Z1.has(a)?a:Cv(a),e.attrs[a])}class eO extends Q1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=wt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(_l.has(n)){const r=S1(n);return r&&r.default||0}return n=Z1.has(n)?n:Cv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return B1(e,n,r)}build(e,n,r){L1(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,a){JV(e,n,r,a)}mount(e){this.isSVGTag=j1(e.tagName),super.mount(e)}}const tO=(t,e)=>Sv(t)?new eO(e):new ZV(e,{allowProjection:t!==L.Fragment});function tl(t,e,n){const r=t.getProps();return wv(r,e,n!==void 0?n:r.custom,t)}const sy=t=>Array.isArray(t);function nO(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ol(n))}function iO(t){return sy(t)?t[t.length-1]||0:t}function rO(t,e){const n=tl(t,e);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const u in l){const h=iO(l[u]);nO(t,u,h)}}function sO(t){return!!(un(t)&&t.add)}function ay(t,e){const n=t.getValue("willChange");if(sO(n))return n.add(e);if(!n&&Lr.WillChange){const r=new Lr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function J1(t){return t.props[F1]}const aO=t=>t!==null;function oO(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(aO),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const lO={type:"spring",stiffness:500,damping:25,restSpeed:10},uO=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),cO={type:"keyframes",duration:.8},hO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fO=(t,{keyframes:e})=>e.length>2?cO:_l.has(t)?t.startsWith("scale")?uO(e[1]):lO:hO;function dO({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:d,elapsed:p,...y}){return!!Object.keys(y).length}const Rv=(t,e,n,r={},a,l)=>u=>{const h=mv(r,t)||{},d=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Zi(d);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};dO(h)||Object.assign(y,fO(t,y)),y.duration&&(y.duration=Zi(y.duration)),y.repeatDelay&&(y.repeatDelay=Zi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(ey(y),y.delay===0&&(v=!0)),(Lr.instantAnimations||Lr.skipAnimations)&&(v=!0,ey(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const E=oO(y.keyframes,h);if(E!==void 0){ft.update(()=>{y.onUpdate(E),y.onComplete()});return}}return h.isSync?new fv(y):new VP(y)};function mO({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function eC(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;r&&(l=r);const d=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in h){const v=t.getValue(y,t.latestValues[y]??null),E=h[y];if(E===void 0||p&&mO(p,y))continue;const w={delay:n,...mv(l||{},y)},D=v.get();if(D!==void 0&&!v.isAnimating&&!Array.isArray(E)&&E===D&&!w.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const U=J1(t);if(U){const B=window.MotionHandoffAnimation(U,y,ft);B!==null&&(w.startTime=B,M=!0)}}ay(t,y),v.start(Rv(y,v,E,t.shouldReduceMotion&&T1.has(y)?{type:!1}:w,t,M));const N=v.animation;N&&d.push(N)}return u&&Promise.all(d).then(()=>{ft.update(()=>{u&&rO(t,u)})}),d}function tC(t,e,n,r=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),u=t.size,h=(u-1)*r;return typeof n=="function"?n(l,u):a===1?l*r:h-l*r}function oy(t,e,n={}){const r=tl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(eC(t,r,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=a;return pO(t,e,d,p,y,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,p]=h==="beforeChildren"?[l,u]:[u,l];return d().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function pO(t,e,n=0,r=0,a=0,l=1,u){const h=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),h.push(oy(d,e,{...u,delay:n+(typeof r=="function"?0:r)+tC(t.variantChildren,d,r,a,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function gO(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(l=>oy(t,l,n));r=Promise.all(a)}else if(typeof e=="string")r=oy(t,e,n);else{const a=typeof e=="function"?tl(t,e,n.custom):e;r=Promise.all(eC(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function nC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const yO=Tv.length;function iC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?iC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<yO;n++){const r=Tv[n],a=t.props[r];(ac(a)||a===!1)&&(e[r]=a)}return e}const vO=[..._v].reverse(),_O=_v.length;function TO(t){return e=>Promise.all(e.map(({animation:n,options:r})=>gO(t,n,r)))}function EO(t){let e=TO(t),n=Kb(),r=!0;const a=d=>(p,y)=>{const v=tl(t,y,d==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:E,transitionEnd:w,...D}=v;p={...p,...D,...w}}return p};function l(d){e=d(t)}function u(d){const{props:p}=t,y=iC(t.parent)||{},v=[],E=new Set;let w={},D=1/0;for(let N=0;N<_O;N++){const U=vO[N],B=n[U],F=p[U]!==void 0?p[U]:y[U],se=ac(F),re=U===d?B.isActive:null;re===!1&&(D=N);let oe=F===y[U]&&F!==p[U]&&se;if(oe&&r&&t.manuallyAnimateOnMount&&(oe=!1),B.protectedKeys={...w},!B.isActive&&re===null||!F&&!B.prevProp||wd(F)||typeof F=="boolean")continue;const I=bO(B.prevProp,F);let A=I||U===d&&B.isActive&&!oe&&se||N>D&&se,x=!1;const k=Array.isArray(F)?F:[F];let O=k.reduce(a(U),{});re===!1&&(O={});const{prevResolvedValues:H={}}=B,P={...H,...O},Fe=ae=>{A=!0,E.has(ae)&&(x=!0,E.delete(ae)),B.needsAnimating[ae]=!0;const he=t.getValue(ae);he&&(he.liveStyle=!1)};for(const ae in P){const he=O[ae],Se=H[ae];if(w.hasOwnProperty(ae))continue;let Ne=!1;sy(he)&&sy(Se)?Ne=!nC(he,Se):Ne=he!==Se,Ne?he!=null?Fe(ae):E.add(ae):he!==void 0&&E.has(ae)?Fe(ae):B.protectedKeys[ae]=!0}B.prevProp=F,B.prevResolvedValues=O,B.isActive&&(w={...w,...O}),r&&t.blockInitialAnimation&&(A=!1);const Xe=oe&&I;A&&(!Xe||x)&&v.push(...k.map(ae=>{const he={type:U};if(typeof ae=="string"&&r&&!Xe&&t.manuallyAnimateOnMount&&t.parent){const{parent:Se}=t,Ne=tl(Se,ae);if(Se.enteringChildren&&Ne){const{delayChildren:j}=Ne.transition||{};he.delay=tC(Se.enteringChildren,t,j)}}return{animation:ae,options:he}}))}if(E.size){const N={};if(typeof p.initial!="boolean"){const U=tl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);U&&U.transition&&(N.transition=U.transition)}E.forEach(U=>{const B=t.getBaseTarget(U),F=t.getValue(U);F&&(F.liveStyle=!0),N[U]=B??null}),v.push({animation:N})}let M=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(M=!1),r=!1,M?e(v):Promise.resolve()}function h(d,p){if(n[d].isActive===p)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(d,p)),n[d].isActive=p;const y=u(d);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Kb()}}}function bO(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!nC(e,t):!1}function Ia(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Kb(){return{animate:Ia(!0),whileInView:Ia(),whileHover:Ia(),whileTap:Ia(),whileDrag:Ia(),whileFocus:Ia(),exit:Ia()}}class $s{constructor(e){this.isMounted=!1,this.node=e}update(){}}class SO extends $s{constructor(e){super(e),e.animationState||(e.animationState=EO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();wd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let wO=0;class AO extends $s{constructor(){super(...arguments),this.id=wO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const CO={animation:{Feature:SO},exit:{Feature:AO}};function lc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function wc(t){return{point:{x:t.pageX,y:t.pageY}}}const RO=t=>e=>yv(e)&&t(e,wc(e));function Ku(t,e,n,r){return lc(t,e,RO(n),r)}const rC=1e-4,xO=1-rC,DO=1+rC,sC=.01,IO=0-sC,NO=0+sC;function mn(t){return t.max-t.min}function MO(t,e,n){return Math.abs(t-e)<=n}function Xb(t,e,n,r=.5){t.origin=r,t.originPoint=dt(e.min,e.max,t.origin),t.scale=mn(n)/mn(e),t.translate=dt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=xO&&t.scale<=DO||isNaN(t.scale))&&(t.scale=1),(t.translate>=IO&&t.translate<=NO||isNaN(t.translate))&&(t.translate=0)}function Xu(t,e,n,r){Xb(t.x,e.x,n.x,r?r.originX:void 0),Xb(t.y,e.y,n.y,r?r.originY:void 0)}function $b(t,e,n){t.min=n.min+e.min,t.max=t.min+mn(e)}function PO(t,e,n){$b(t.x,e.x,n.x),$b(t.y,e.y,n.y)}function Qb(t,e,n){t.min=e.min-n.min,t.max=t.min+mn(e)}function $u(t,e,n){Qb(t.x,e.x,n.x),Qb(t.y,e.y,n.y)}function Jn(t){return[t("x"),t("y")]}const aC=({current:t})=>t?t.ownerDocument.defaultView:null,Wb=(t,e)=>Math.abs(t-e);function VO(t,e){const n=Wb(t.x,e.x),r=Wb(t.y,e.y);return Math.sqrt(n**2+r**2)}class oC{constructor(e,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=yg(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,D=VO(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!D)return;const{point:M}=E,{timestamp:N}=en;this.history.push({...M,timestamp:N});const{onStart:U,onMove:B}=this.handlers;w||(U&&U(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,E)},this.handlePointerMove=(E,w)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=gg(w,this.transformPagePoint),ft.update(this.updatePoint,!0)},this.handlePointerUp=(E,w)=>{this.end();const{onEnd:D,onSessionEnd:M,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const U=yg(E.type==="pointercancel"?this.lastMoveEventInfo:gg(w,this.transformPagePoint),this.history);this.startEvent&&D&&D(E,U),M&&M(E,U)},!yv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=a||window;const h=wc(e),d=gg(h,this.transformPagePoint),{point:p}=d,{timestamp:y}=en;this.history=[{...p,timestamp:y}];const{onSessionStart:v}=n;v&&v(e,yg(d,this.history)),this.removeListeners=Ec(Ku(this.contextWindow,"pointermove",this.handlePointerMove),Ku(this.contextWindow,"pointerup",this.handlePointerUp),Ku(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Us(this.updatePoint)}}function gg(t,e){return e?{point:e(t.point)}:t}function Zb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function yg({point:t},e){return{point:t,delta:Zb(t,lC(e)),offset:Zb(t,OO(e)),velocity:kO(e,.1)}}function OO(t){return t[0]}function lC(t){return t[t.length-1]}function kO(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=lC(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>Zi(e)));)n--;if(!r)return{x:0,y:0};const l=ni(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function LO(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?dt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?dt(n,t,r.max):Math.min(t,n)),t}function Jb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function UO(t,{top:e,left:n,bottom:r,right:a}){return{x:Jb(t.x,n,a),y:Jb(t.y,e,r)}}function eS(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function jO(t,e){return{x:eS(t.x,e.x),y:eS(t.y,e.y)}}function zO(t,e){let n=.5;const r=mn(t),a=mn(e);return a>r?n=ic(e.min,e.max-r,t.min):r>a&&(n=ic(t.min,t.max-a,e.min)),kr(0,1,n)}function BO(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const ly=.35;function FO(t=ly){return t===!1?t=0:t===!0&&(t=ly),{x:tS(t,"left","right"),y:tS(t,"top","bottom")}}function tS(t,e,n){return{min:nS(t,e),max:nS(t,n)}}function nS(t,e){return typeof t=="number"?t:t[e]||0}const HO=new WeakMap;class qO{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=wt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(wc(v).point)},u=(v,E)=>{const{drag:w,dragPropagation:D,onDragStart:M}=this.getProps();if(w&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=QP(w),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jn(U=>{let B=this.getAxisMotionValue(U).get()||0;if(Ji.test(B)){const{projection:F}=this.visualElement;if(F&&F.layout){const se=F.layout.layoutBox[U];se&&(B=mn(se)*(parseFloat(B)/100))}}this.originPoint[U]=B}),M&&ft.postRender(()=>M(v,E)),ay(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},h=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E;const{dragPropagation:w,dragDirectionLock:D,onDirectionLock:M,onDrag:N}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:U}=E;if(D&&this.currentDirection===null){this.currentDirection=GO(U),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",E.point,U),this.updateAxis("y",E.point,U),this.visualElement.render(),N&&N(v,E)},d=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E,this.stop(v,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Jn(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new oC(e,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:aC(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!r)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&ft.postRender(()=>h(r,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!yf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=LO(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Xo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=UO(r.layoutBox,e):this.constraints=!1,this.elastic=FO(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Jn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=BO(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Xo(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=YV(r,a.root,this.visualElement.getTransformPagePoint());let u=jO(a.layout.layoutBox,l);if(n){const h=n(HV(u));this.hasMutatedConstraints=!!h,h&&(u=G1(h))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=Jn(y=>{if(!yf(y,n,this.currentDirection))return;let v=d&&d[y]||{};u&&(v={min:0,max:0});const E=a?200:1e6,w=a?40:1e7,D={type:"inertia",velocity:r?e[y]:0,bounceStiffness:E,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,D)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return ay(this.visualElement,e),r.start(Rv(e,r,0,n,this.visualElement,!1))}stopAnimation(){Jn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Jn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Jn(n=>{const{drag:r}=this.getProps();if(!yf(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];l.set(e[n]-dt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Xo(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Jn(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=zO({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Jn(u=>{if(!yf(u,e,null))return;const h=this.getAxisMotionValue(u),{min:d,max:p}=this.constraints[u];h.set(dt(d,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;HO.set(this.visualElement,this);const e=this.visualElement.current,n=Ku(e,"pointerdown",d=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Xo(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ft.read(r);const u=lc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Jn(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=d[y].translate,v.set(v.get()+d[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=ly,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function yf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function GO(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class YO extends $s{constructor(e){super(e),this.removeGroupControls=ri,this.removeListeners=ri,this.controls=new qO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ri}unmount(){this.removeGroupControls(),this.removeListeners()}}const iS=t=>(e,n)=>{t&&ft.postRender(()=>t(e,n))};class KO extends $s{constructor(){super(...arguments),this.removePointerDownListener=ri}onPointerDown(e){this.session=new oC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:aC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:iS(e),onStart:iS(n),onMove:r,onEnd:(l,u)=>{delete this.session,a&&ft.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Ku(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ou={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(be.test(t))t=parseFloat(t);else return t;const n=rS(t,e.target.x),r=rS(t,e.target.y);return`${n}% ${r}%`}},XO={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=js.parse(t);if(a.length>5)return r;const l=js.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=d;const p=dt(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}};let vg=!1;class $O extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=e;yV(QO),l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),vg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Nf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,{projection:u}=r;return u&&(u.isPresent=l,vg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||ft.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),gv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;vg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function uC(t){const[e,n]=N1(),r=L.useContext(Xy);return R.jsx($O,{...t,layoutGroup:r,switchLayoutGroup:L.useContext(H1),isPresent:e,safeToRemove:n})}const QO={borderRadius:{...Ou,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ou,borderTopRightRadius:Ou,borderBottomLeftRadius:Ou,borderBottomRightRadius:Ou,boxShadow:XO};function WO(t,e,n){const r=un(t)?t:ol(t);return r.start(Rv("",r,e,n)),r.animation}const ZO=(t,e)=>t.depth-e.depth;class JO{constructor(){this.children=[],this.isDirty=!1}add(e){Wy(this.children,e),this.isDirty=!0}remove(e){Zy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ZO),this.isDirty=!1,this.children.forEach(e)}}function ek(t,e){const n=Cn.now(),r=({timestamp:a})=>{const l=a-n;l>=e&&(Us(r),t(l-e))};return ft.setup(r,!0),()=>Us(r)}const cC=["TopLeft","TopRight","BottomLeft","BottomRight"],tk=cC.length,sS=t=>typeof t=="string"?parseFloat(t):t,aS=t=>typeof t=="number"||be.test(t);function nk(t,e,n,r,a,l){a?(t.opacity=dt(0,n.opacity??1,ik(r)),t.opacityExit=dt(e.opacity??1,0,rk(r))):l&&(t.opacity=dt(e.opacity??1,n.opacity??1,r));for(let u=0;u<tk;u++){const h=`border${cC[u]}Radius`;let d=oS(e,h),p=oS(n,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||aS(d)===aS(p)?(t[h]=Math.max(dt(sS(d),sS(p),r),0),(Ji.test(p)||Ji.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=dt(e.rotate||0,n.rotate||0,r))}function oS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ik=hC(0,.5,WA),rk=hC(.5,.95,ri);function hC(t,e,n){return r=>r<t?0:r>e?1:n(ic(t,e,r))}function lS(t,e){t.min=e.min,t.max=e.max}function Zn(t,e){lS(t.x,e.x),lS(t.y,e.y)}function uS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function cS(t,e,n,r,a){return t-=e,t=$f(t,1/n,r),a!==void 0&&(t=$f(t,1/a,r)),t}function sk(t,e=0,n=1,r=.5,a,l=t,u=t){if(Ji.test(e)&&(e=parseFloat(e),e=dt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=dt(l.min,l.max,r);t===l&&(h-=e),t.min=cS(t.min,e,n,h,a),t.max=cS(t.max,e,n,h,a)}function hS(t,e,[n,r,a],l,u){sk(t,e[n],e[r],e[a],e.scale,l,u)}const ak=["x","scaleX","originX"],ok=["y","scaleY","originY"];function fS(t,e,n,r){hS(t.x,e,ak,n?n.x:void 0,r?r.x:void 0),hS(t.y,e,ok,n?n.y:void 0,r?r.y:void 0)}function dS(t){return t.translate===0&&t.scale===1}function fC(t){return dS(t.x)&&dS(t.y)}function mS(t,e){return t.min===e.min&&t.max===e.max}function lk(t,e){return mS(t.x,e.x)&&mS(t.y,e.y)}function pS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function dC(t,e){return pS(t.x,e.x)&&pS(t.y,e.y)}function gS(t){return mn(t.x)/mn(t.y)}function yS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class uk{constructor(){this.members=[]}add(e){Wy(this.members,e),e.scheduleRender()}remove(e){if(Zy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ck(t,e,n){let r="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(r=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:E,skewX:w,skewY:D}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),v&&(r+=`rotateX(${v}deg) `),E&&(r+=`rotateY(${E}deg) `),w&&(r+=`skewX(${w}deg) `),D&&(r+=`skewY(${D}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(r+=`scale(${h}, ${d})`),r||"none"}const _g=["","X","Y","Z"],hk=1e3;let fk=0;function Tg(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function mC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=J1(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ft,!(a||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&mC(r)}function pC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(u={},h=e?.()){this.id=fk++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(pk),this.nodes.forEach(_k),this.nodes.forEach(Tk),this.nodes.forEach(gk)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new JO)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new tv),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=I1(u)&&!nV(u),this.instance=u;const{layoutId:h,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let y,v=0;const E=()=>this.root.updateBlockedByResize=!1;ft.read(()=>{v=window.innerWidth}),t(u,()=>{const w=window.innerWidth;w!==v&&(v=w,this.root.updateBlockedByResize=!0,y&&y(),y=ek(E,250),Nf.hasAnimatedSinceResize&&(Nf.hasAnimatedSinceResize=!1,this.nodes.forEach(TS)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:E,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||p.getDefaultTransition()||Ak,{onLayoutAnimationStart:M,onLayoutAnimationComplete:N}=p.getProps(),U=!this.targetLayout||!dC(this.targetLayout,w),B=!v&&E;if(this.options.layoutRoot||this.resumeFrom||B||v&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...mv(D,"layout"),onPlay:M,onComplete:N};(p.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(y,B)}else v||TS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Us(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ek),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&mC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(_S);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(vk),this.nodes.forEach(dk),this.nodes.forEach(mk)):this.nodes.forEach(_S),this.clearAllSnapshots();const h=Cn.now();en.delta=kr(0,1e3/60,h-en.timestamp),en.timestamp=h,en.isProcessing=!0,lg.update.process(en),lg.preRender.process(en),lg.render.process(en),en.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yk),this.sharedNodes.forEach(bk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!mn(this.snapshot.measuredBox.x)&&!mn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!fC(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||Na(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),Ck(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return wt();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Rk))){const{scroll:p}=this.root;p&&($o(h.x,p.offset.x),$o(h.y,p.offset.y))}return h}removeElementScroll(u){const h=wt();if(Zn(h,u),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Zn(h,u),$o(h.x,y.offset.x),$o(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const d=wt();Zn(d,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Qo(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Na(y.latestValues)&&Qo(d,y.latestValues)}return Na(this.latestValues)&&Qo(d,this.latestValues),d}removeTransform(u){const h=wt();Zn(h,u);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Na(p.latestValues))continue;ny(p.latestValues)&&p.updateSnapshot();const y=wt(),v=p.measurePageBox();Zn(y,v),fS(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Na(this.latestValues)&&fS(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==en.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=en.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),$u(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=wt(),this.targetWithTransforms=wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),PO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zn(this.target,this.layout.layoutBox),K1(this.target,this.targetDelta)):Zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=wt(),this.relativeTargetOrigin=wt(),$u(this.relativeTargetOrigin,this.target,E.target),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ny(this.parent.latestValues)||Y1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===en.timestamp&&(d=!1),d)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Zn(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,E=this.treeScale.y;GV(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=wt());const{target:w}=u;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(uS(this.prevProjectionDelta.x,this.projectionDelta.x),uS(this.prevProjectionDelta.y,this.projectionDelta.y)),Xu(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==E||!yS(this.projectionDelta.x,this.prevProjectionDelta.x)||!yS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wo(),this.projectionDelta=Wo(),this.projectionDeltaWithTransform=Wo()}setAnimationOrigin(u,h=!1){const d=this.snapshot,p=d?d.latestValues:{},y={...this.latestValues},v=Wo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=wt(),w=d?d.source:void 0,D=this.layout?this.layout.source:void 0,M=w!==D,N=this.getStack(),U=!N||N.members.length<=1,B=!!(M&&!U&&this.options.crossfade===!0&&!this.path.some(wk));this.animationProgress=0;let F;this.mixTargetDelta=se=>{const re=se/1e3;ES(v.x,u.x,re),ES(v.y,u.y,re),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($u(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Sk(this.relativeTarget,this.relativeTargetOrigin,E,re),F&&lk(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=wt()),Zn(F,this.relativeTarget)),M&&(this.animationValues=y,nk(y,p,this.latestValues,re,B,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Us(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ft.update(()=>{Nf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ol(0)),this.currentAnimation=WO(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:y}=u;if(!(!h||!d||!p)){if(this!==u&&this.layout&&p&&gC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||wt();const v=mn(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+v;const E=mn(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+E}Zn(h,d),Qo(h,y),Xu(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new uk),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&Tg("z",u,p,this.animationValues);for(let y=0;y<_g.length;y++)Tg(`rotate${_g[y]}`,u,p,this.animationValues),Tg(`skew${_g[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=If(h?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=If(h?.pointerEvents)||""),this.hasProjected&&!Na(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=ck(this.projectionDeltaWithTransform,this.treeScale,y);d&&(v=d(y,v)),u.transform=v;const{x:E,y:w}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${w.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const D in oc){if(y[D]===void 0)continue;const{correct:M,applyTo:N,isCSSVariable:U}=oc[D],B=v==="none"?y[D]:M(y[D],p);if(N){const F=N.length;for(let se=0;se<F;se++)u[N[se]]=B}else U?this.options.visualElement.renderState.vars[D]=B:u[D]=B}this.options.layoutId&&(u.pointerEvents=p===this?If(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(vS),this.root.sharedNodes.clear()}}}function dk(t){t.updateLayout()}function mk(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Jn(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],E=mn(v);v.min=n[y].min,v.max=v.min+E}):gC(a,e.layoutBox,n)&&Jn(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],E=mn(n[y]);v.max=v.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+E)});const u=Wo();Xu(u,n,e.layoutBox);const h=Wo();l?Xu(h,t.applyTransform(r,!0),e.measuredBox):Xu(h,n,e.layoutBox);const d=!fC(u);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:E}=y;if(v&&E){const w=wt();$u(w,e.layoutBox,v.layoutBox);const D=wt();$u(D,n,E.layoutBox),dC(w,D)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=w,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function pk(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function gk(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function yk(t){t.clearSnapshot()}function vS(t){t.clearMeasurements()}function _S(t){t.isLayoutDirty=!1}function vk(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function TS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function _k(t){t.resolveTargetDelta()}function Tk(t){t.calcProjection()}function Ek(t){t.resetSkewAndRotation()}function bk(t){t.removeLeadSnapshot()}function ES(t,e,n){t.translate=dt(e.translate,0,n),t.scale=dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function bS(t,e,n,r){t.min=dt(e.min,n.min,r),t.max=dt(e.max,n.max,r)}function Sk(t,e,n,r){bS(t.x,e.x,n.x,r),bS(t.y,e.y,n.y,r)}function wk(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Ak={duration:.45,ease:[.4,0,.1,1]},SS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),wS=SS("applewebkit/")&&!SS("chrome/")?Math.round:ri;function AS(t){t.min=wS(t.min),t.max=wS(t.max)}function Ck(t){AS(t.x),AS(t.y)}function gC(t,e,n){return t==="position"||t==="preserve-aspect"&&!MO(gS(e),gS(n),.2)}function Rk(t){return t!==t.root&&t.scroll?.wasRoot}const xk=pC({attachResizeListener:(t,e)=>lc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Eg={current:void 0},yC=pC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Eg.current){const t=new xk({});t.mount(window),t.setOptions({layoutScroll:!0}),Eg.current=t}return Eg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Dk={pan:{Feature:KO},drag:{Feature:YO,ProjectionNode:yC,MeasureLayout:uC}};function CS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&ft.postRender(()=>l(e,wc(e)))}class Ik extends $s{mount(){const{current:e}=this.node;e&&(this.unmount=WP(e,(n,r)=>(CS(this.node,r,"Start"),a=>CS(this.node,a,"End"))))}unmount(){}}class Nk extends $s{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ec(lc(this.node.current,"focus",()=>this.onFocus()),lc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function RS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&ft.postRender(()=>l(e,wc(e)))}class Mk extends $s{mount(){const{current:e}=this.node;e&&(this.unmount=tV(e,(n,r)=>(RS(this.node,r,"Start"),(a,{success:l})=>RS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const uy=new WeakMap,bg=new WeakMap,Pk=t=>{const e=uy.get(t.target);e&&e(t)},Vk=t=>{t.forEach(Pk)};function Ok({root:t,...e}){const n=t||document;bg.has(n)||bg.set(n,{});const r=bg.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(Vk,{root:t,...e})),r[a]}function kk(t,e,n){const r=Ok(e);return uy.set(t,n),r.observe(t),()=>{uy.delete(t),r.unobserve(t)}}const Lk={some:0,all:1};class Uk extends $s{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Lk[a]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),E=p?y:v;E&&E(d)};return kk(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(jk(e,n))&&this.startObserver()}unmount(){}}function jk({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const zk={inView:{Feature:Uk},tap:{Feature:Mk},focus:{Feature:Nk},hover:{Feature:Ik}},Bk={layout:{ProjectionNode:yC,MeasureLayout:uC}},Fk={...CO,...zk,...Dk,...Bk},wn=FV(Fk,tO),Cd=({searchTerm:t,setSearchTerm:e})=>{const[n,r]=L.useState(!1),[a,l]=L.useState(!1),u=[{name:"Taco House",phone:"+91 7795815315"},{name:"Hungry House",phone:"+91 9820243177"},{name:"MFC",phone:"+91 7338334970"},{name:"Hit&Run",phone:"+91 7406330088"},{name:"Janani Canteen",phone:"+91 8660138488"},{name:"Dollar Cafe",phone:"+91 8105306109"},{name:"Kamath Cafe",phone:"+91 8217044886"},{name:"Aditya Mess",phone:"+91 7483644586"},{name:"Apoorva Mess",phone:"+91 9108888320"},{name:"FC 2",phone:"+91 8861953102"},{name:"Poornima",phone:"+91 70906 41985"},{name:"Nom Nom cafe",phone:"+91 7619422026"},{name:"Ashraya",phone:"+91 6361201519"}];return R.jsxs(R.Fragment,{children:[R.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white/10 backdrop-blur-md border-b border-white/20 shadow-lg",children:R.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:R.jsxs("div",{className:"flex items-center justify-between h-16",children:[R.jsx(el,{mode:"wait",children:(!n||window.innerWidth>=768)&&R.jsx(wn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center gap-2",children:R.jsxs(La,{to:"/",className:"flex items-center gap-2",children:[R.jsx("div",{className:"hidden md:block p-2 bg-orange-500 rounded-lg text-white",children:R.jsx(Fg,{size:24})}),R.jsx(La,{to:"/admin",className:"md:hidden p-2 bg-orange-500 rounded-lg text-white",onClick:h=>h.stopPropagation(),children:R.jsx(Fg,{size:24})}),R.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent",children:"MIT Mess"})]})})}),e&&R.jsxs("div",{className:"hidden md:flex flex-1 max-w-md mx-8 relative group",children:[R.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:R.jsx(og,{className:"h-4 w-4 text-gray-400 group-focus-within:text-orange-500 transition-colors"})}),R.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-200/50 rounded-full leading-5 bg-white/50 backdrop-blur-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 sm:text-sm shadow-sm transition-all duration-300 hover:bg-white/80 focus:bg-white",placeholder:"Search messes...",value:t,onChange:h=>e(h.target.value)})]}),R.jsx(el,{children:n&&R.jsxs(wn.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:"100%"},exit:{opacity:0,width:0},className:"absolute inset-0 flex items-center px-4 bg-white md:hidden z-20",children:[R.jsx(og,{className:"text-gray-400 mr-2",size:20}),R.jsx("input",{type:"text",placeholder:"Search...",value:t,onChange:h=>e(h.target.value),className:"flex-1 bg-transparent border-none focus:ring-0 text-gray-800 placeholder-gray-500 outline-none",autoFocus:!0}),R.jsx("button",{onClick:()=>r(!1),className:"p-2 text-gray-500 hover:text-orange-600",children:R.jsx(qf,{size:20})})]})}),R.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[R.jsx("a",{href:"https://mit.nakshatramaps.com/",target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-orange-600 transition-colors",title:"Campus Map",children:R.jsx(ZN,{size:20})}),R.jsx("button",{onClick:()=>l(!0),className:"md:hidden p-2 text-gray-600 hover:text-orange-600 transition-colors",title:"Restaurants",children:R.jsx(iM,{size:20})}),e&&!n&&R.jsx("button",{onClick:()=>r(!0),className:"md:hidden p-2 text-gray-600 hover:text-orange-600 transition-colors",children:R.jsx(og,{size:20})}),R.jsx("button",{onClick:()=>l(!0),className:"hidden md:block px-4 py-2 text-sm font-medium text-gray-700 hover:text-orange-600 transition-colors",children:"Restaurants"}),R.jsx(La,{to:"/admin",children:R.jsx("button",{className:"hidden md:block px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-orange-500 to-red-500 rounded-full hover:shadow-lg hover:scale-105 transition-all duration-300",children:"Admin Login"})})]})]})})}),R.jsx(el,{children:a&&R.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>l(!1),children:R.jsxs(wn.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},onClick:h=>h.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[80vh] overflow-hidden flex flex-col",children:[R.jsxs("div",{className:"p-6 bg-gradient-to-r from-orange-500 to-red-500 text-white flex justify-between items-center shrink-0",children:[R.jsxs("div",{children:[R.jsx("h3",{className:"text-2xl font-bold",children:"Nearby Restaurants"}),R.jsx("p",{className:"text-white/80 text-sm",children:"Tap a card to call"})]}),R.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:R.jsx(qf,{size:24})})]}),R.jsx("div",{className:"p-6 overflow-y-auto",children:R.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map((h,d)=>R.jsxs("a",{href:`tel:${h.phone}`,className:"block p-4 rounded-xl bg-white border border-gray-100 shadow-sm hover:shadow-md hover:border-orange-200 transition-all duration-300 group",children:[R.jsx("h4",{className:"font-bold text-gray-800 group-hover:text-orange-600 transition-colors mb-1",children:h.name}),R.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[R.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),h.phone]})]},d))})})]})})})]})};function vC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=vC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ds(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=vC(t))&&(r&&(r+=" "),r+=e);return r}const Hk=({mess:t})=>{const[e,n]=L.useState(new Date().toLocaleDateString("en-US",{weekday:"long"})),r=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],a=t.menu[e]||t.menu.Monday,l=p=>{const y=["chicken","paneer","egg","sewaiya","kebab","ice cream"],v=["chapati","steam rice","steamed rice","rice"],E=N=>{if(!N)return null;const U=N.split(",").map(B=>B.trim());for(const B of U){const F=B.toLowerCase();if(y.some(se=>F.includes(se)))return B}for(const B of U){const F=B.toLowerCase();if(!v.some(se=>F.includes(se)))return B}return U[0]},w=E(p.Lunch),D=E(p.Dinner),M=N=>N?y.some(U=>N.toLowerCase().includes(U)):!1;return M(w)?w:M(D)?D:w||D||"Special Meal"},u={"from-orange-500 to-red-500":{text:"text-orange-600",shadow:"hover:shadow-orange-500/40",bg:"bg-orange-50"},"from-blue-500 to-cyan-500":{text:"text-blue-600",shadow:"hover:shadow-blue-500/40",bg:"bg-blue-50"},"from-green-500 to-emerald-500":{text:"text-green-600",shadow:"hover:shadow-green-500/40",bg:"bg-green-50"},"from-purple-500 to-pink-500":{text:"text-purple-600",shadow:"hover:shadow-purple-500/40",bg:"bg-purple-50"},"from-pink-500 to-rose-500":{text:"text-pink-600",shadow:"hover:shadow-pink-500/40",bg:"bg-pink-50"}},h=u[t.color]||u["from-orange-500 to-red-500"],d=p=>p?p.toLowerCase().split(" ").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" "):"";return R.jsx(La,{to:`/mess/${t.id}`,className:"h-auto md:h-[32rem] block",children:R.jsxs(wn.div,{layout:!0,whileHover:{y:-5,transition:{duration:.1}},className:Ds("relative overflow-hidden rounded-2xl bg-white/40 backdrop-blur-lg border border-white/50 shadow-xl hover:shadow-2xl transition-all duration-100 cursor-pointer group h-full flex flex-col min-h-[32rem] md:min-h-0",h.shadow),children:[R.jsxs("div",{className:Ds("px-5 py-3 bg-gradient-to-r text-white transition-all duration-300",t.color),children:[R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsx("h3",{className:"text-xl font-bold group-hover:scale-105 transition-transform duration-300",children:t.name}),R.jsx("div",{className:"p-1.5 bg-white/20 rounded-full group-hover:bg-white/30 transition-colors",children:R.jsx(UA,{size:16})})]}),R.jsxs("p",{className:"mt-1 text-white/90 text-xs flex items-center gap-1",children:[R.jsx(jA,{size:12}),"Today's Special: ",(()=>{const p=()=>{const D=new Date,M=D.getDay(),N=D.getDate()-M+(M===0?-6:1),U=new Date(D.setDate(N));return U.setHours(0,0,0,0),U},y=t.lastUpdated?new Date(t.lastUpdated):null,v=p(),E=!y||y<v,w=t.menu&&Object.keys(t.menu).some(D=>{const M=t.menu[D];return M?Object.values(M).some(N=>N&&N!=="N/A"&&N.trim()!==""):!1});return E||!w?"N/A":d(l(a))})()]})]}),R.jsx("div",{className:"p-5 flex-1 flex flex-col",children:(()=>{const p=()=>{const D=new Date,M=D.getDay(),N=D.getDate()-M+(M===0?-6:1),U=new Date(D.setDate(N));return U.setHours(0,0,0,0),U},y=t.lastUpdated?new Date(t.lastUpdated):null,v=p(),E=!y||y<v,w=t.menu&&Object.keys(t.menu).some(D=>{const M=t.menu[D];return M?Object.values(M).some(N=>N&&N!=="N/A"&&N.trim()!==""):!1});return E||!w?R.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center opacity-70",children:[R.jsx("div",{className:Ds("text-lg font-bold mb-1 bg-clip-text text-transparent bg-gradient-to-r",t.color),children:"Menu Not Uploaded"}),R.jsx("p",{className:"text-xs text-gray-400",children:"Check back later"})]}):R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"flex justify-between items-center w-full mb-3",onClick:D=>D.preventDefault(),children:r.map(D=>R.jsx("button",{onClick:M=>{M.preventDefault(),M.stopPropagation(),n(D)},className:Ds("px-1.5 py-1 rounded-md text-[10px] font-medium transition-all",e===D?"bg-gray-800 text-white shadow-md":"bg-white/50 text-gray-600 hover:bg-white/80"),children:D.slice(0,3)},D))}),R.jsxs("div",{className:"flex flex-col gap-2.5 flex-1 overflow-y-auto pr-1 pb-4 custom-scrollbar scrollbar-hide",children:[R.jsx("style",{jsx:!0,children:`
                                        .scrollbar-hide::-webkit-scrollbar {
                                            display: none;
                                        }
                                        .scrollbar-hide {
                                            -ms-overflow-style: none;
                                            scrollbar-width: none;
                                        }
                                    `}),R.jsxs("div",{className:"p-3 rounded-xl bg-white/60 border border-white/40 flex-1 min-h-0 shrink-0",children:[R.jsx("h4",{className:"text-[10px] font-bold text-orange-600 uppercase tracking-wider mb-0.5",children:"Breakfast"}),R.jsx("p",{className:"text-gray-800 font-medium text-xs leading-tight",children:d(a.Breakfast)})]}),R.jsxs("div",{className:"p-3 rounded-xl bg-white/60 border border-white/40 flex-1 min-h-0 shrink-0",children:[R.jsx("h4",{className:"text-[10px] font-bold text-green-600 uppercase tracking-wider mb-0.5",children:"Lunch"}),R.jsx("p",{className:"text-gray-800 font-medium text-xs leading-tight",children:d(a.Lunch)})]}),R.jsxs("div",{className:"p-3 rounded-xl bg-white/60 border border-white/40 flex-1 min-h-0 shrink-0",children:[R.jsx("h4",{className:"text-[10px] font-bold text-yellow-600 uppercase tracking-wider mb-0.5",children:"Snacks"}),R.jsx("p",{className:"text-gray-800 font-medium text-xs leading-tight",children:d(a.Snacks)})]}),R.jsxs("div",{className:"p-3 rounded-xl bg-white/60 border border-white/40 flex-1 min-h-0 shrink-0",children:[R.jsx("h4",{className:"text-[10px] font-bold text-blue-600 uppercase tracking-wider mb-0.5",children:"Dinner"}),R.jsx("p",{className:"text-gray-800 font-medium text-xs leading-tight",children:d(a.Dinner)})]})]})]})})()})]})})},qk=()=>{};var xS={};const _C=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Gk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},TC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,d=a+2<t.length,p=d?t[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let E=(h&15)<<2|p>>6,w=p&63;d||(w=64,u||(E=64)),r.push(n[y],n[v],n[E],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_C(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Gk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||v==null)throw new Yk;const E=l<<2|h>>4;if(r.push(E),p!==64){const w=h<<4&240|p>>2;if(r.push(w),v!==64){const D=p<<6&192|v;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Yk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kk=function(t){const e=_C(t);return TC.encodeByteArray(e,!0)},Qf=function(t){return Kk(t).replace(/\./g,"")},EC=function(t){try{return TC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Xk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $k=()=>Xk().__FIREBASE_DEFAULTS__,Qk=()=>{if(typeof process>"u"||typeof xS>"u")return;const t=xS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Wk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&EC(t[1]);return e&&JSON.parse(e)},Rd=()=>{try{return qk()||$k()||Qk()||Wk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bC=t=>Rd()?.emulatorHosts?.[t],Zk=t=>{const e=bC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},SC=()=>Rd()?.config,wC=t=>Rd()?.[`_${t}`];class Jk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Tl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function AC(t){return(await fetch(t,{credentials:"include"})).ok}function e4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Qf(JSON.stringify(n)),Qf(JSON.stringify(u)),""].join(".")}const Qu={};function t4(){const t={prod:[],emulator:[]};for(const e of Object.keys(Qu))Qu[e]?t.emulator.push(e):t.prod.push(e);return t}function n4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let DS=!1;function CC(t,e){if(typeof window>"u"||typeof document>"u"||!Tl(window.location.host)||Qu[t]===e||Qu[t]||DS)return;Qu[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",l=t4().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,w){E.setAttribute("width","24"),E.setAttribute("id",w),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{DS=!0,u()},E}function y(E,w){E.setAttribute("id",w),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=n4(r),w=n("text"),D=document.getElementById(w)||document.createElement("span"),M=n("learnmore"),N=document.getElementById(M)||document.createElement("a"),U=n("preprendIcon"),B=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const F=E.element;h(F),y(N,M);const se=p();d(B,U),F.append(B,D,N,se),document.body.appendChild(F)}l?(D.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function i4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function r4(){const t=Rd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function s4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function a4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function o4(){const t=cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function l4(){return!r4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xC(){try{return typeof indexedDB=="object"}catch{return!1}}function DC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}function u4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const c4="FirebaseError";class Ri extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=c4,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qa.prototype.create)}}class Qa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?h4(l,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Ri(a,h,r)}}function h4(t,e){return t.replace(f4,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const f4=/\{\$([^}]+)}/g;function d4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],u=e[a];if(IS(l)&&IS(u)){if(!zs(l,u))return!1}else if(l!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function IS(t){return t!==null&&typeof t=="object"}function Ac(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ju(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function zu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function m4(t,e){const n=new p4(t,e);return n.subscribe.bind(n)}class p4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");g4(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Sg),a.error===void 0&&(a.error=Sg),a.complete===void 0&&(a.complete=Sg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function g4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sg(){}const y4=1e3,v4=2,_4=14400*1e3,T4=.5;function NS(t,e=y4,n=v4){const r=e*Math.pow(n,t),a=Math.round(T4*r*(Math.random()-.5)*2);return Math.min(_4,r+a)}function Ct(t){return t&&t._delegate?t._delegate:t}class Ai{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ma="[DEFAULT]";class E4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Jk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(S4(e))try{this.getOrInitializeService({instanceIdentifier:Ma})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ma){return this.instances.has(e)}getOptions(e=Ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&u.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:b4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ma){return this.component?this.component.multipleInstances?e:Ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function b4(t){return t===Ma?void 0:t}function S4(t){return t.instantiationMode==="EAGER"}class w4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new E4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const A4={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},C4=Le.INFO,R4={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},x4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=R4[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xd{constructor(e){this.name=e,this._logLevel=C4,this._logHandler=x4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?A4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const D4=(t,e)=>e.some(n=>t instanceof n);let MS,PS;function I4(){return MS||(MS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function N4(){return PS||(PS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IC=new WeakMap,cy=new WeakMap,NC=new WeakMap,wg=new WeakMap,xv=new WeakMap;function M4(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Ms(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&IC.set(n,t)}).catch(()=>{}),xv.set(e,t),e}function P4(t){if(cy.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});cy.set(t,e)}let hy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ms(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function V4(t){hy=t(hy)}function O4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ag(this),e,...n);return NC.set(r,e.sort?e.sort():[e]),Ms(r)}:N4().includes(t)?function(...e){return t.apply(Ag(this),e),Ms(IC.get(this))}:function(...e){return Ms(t.apply(Ag(this),e))}}function k4(t){return typeof t=="function"?O4(t):(t instanceof IDBTransaction&&P4(t),D4(t,I4())?new Proxy(t,hy):t)}function Ms(t){if(t instanceof IDBRequest)return M4(t);if(wg.has(t))return wg.get(t);const e=k4(t);return e!==t&&(wg.set(t,e),xv.set(e,t)),e}const Ag=t=>xv.get(t);function MC(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=Ms(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Ms(u.result),d.oldVersion,d.newVersion,Ms(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const L4=["get","getKey","getAll","getAllKeys","count"],U4=["put","add","delete","clear"],Cg=new Map;function VS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cg.get(e))return Cg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=U4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||L4.includes(n)))return;const l=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&d.done]))[0]};return Cg.set(e,l),l}V4(t=>({...t,get:(e,n,r)=>VS(e,n)||t.get(e,n,r),has:(e,n)=>!!VS(e,n)||t.has(e,n)}));class j4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(z4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function z4(t){return t.getComponent()?.type==="VERSION"}const fy="@firebase/app",OS="0.14.6";const Ur=new xd("@firebase/app"),B4="@firebase/app-compat",F4="@firebase/analytics-compat",H4="@firebase/analytics",q4="@firebase/app-check-compat",G4="@firebase/app-check",Y4="@firebase/auth",K4="@firebase/auth-compat",X4="@firebase/database",$4="@firebase/data-connect",Q4="@firebase/database-compat",W4="@firebase/functions",Z4="@firebase/functions-compat",J4="@firebase/installations",eL="@firebase/installations-compat",tL="@firebase/messaging",nL="@firebase/messaging-compat",iL="@firebase/performance",rL="@firebase/performance-compat",sL="@firebase/remote-config",aL="@firebase/remote-config-compat",oL="@firebase/storage",lL="@firebase/storage-compat",uL="@firebase/firestore",cL="@firebase/ai",hL="@firebase/firestore-compat",fL="firebase",dL="12.6.0";const dy="[DEFAULT]",mL={[fy]:"fire-core",[B4]:"fire-core-compat",[H4]:"fire-analytics",[F4]:"fire-analytics-compat",[G4]:"fire-app-check",[q4]:"fire-app-check-compat",[Y4]:"fire-auth",[K4]:"fire-auth-compat",[X4]:"fire-rtdb",[$4]:"fire-data-connect",[Q4]:"fire-rtdb-compat",[W4]:"fire-fn",[Z4]:"fire-fn-compat",[J4]:"fire-iid",[eL]:"fire-iid-compat",[tL]:"fire-fcm",[nL]:"fire-fcm-compat",[iL]:"fire-perf",[rL]:"fire-perf-compat",[sL]:"fire-rc",[aL]:"fire-rc-compat",[oL]:"fire-gcs",[lL]:"fire-gcs-compat",[uL]:"fire-fst",[hL]:"fire-fst-compat",[cL]:"fire-vertex","fire-js":"fire-js",[fL]:"fire-js-all"};const Wf=new Map,pL=new Map,my=new Map;function kS(t,e){try{t.container.addComponent(e)}catch(n){Ur.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ar(t){const e=t.name;if(my.has(e))return Ur.debug(`There were multiple attempts to register component ${e}.`),!1;my.set(e,t);for(const n of Wf.values())kS(n,t);for(const n of pL.values())kS(n,t);return!0}function Wa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bi(t){return t==null?!1:t.settings!==void 0}const gL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ps=new Qa("app","Firebase",gL);class yL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ai("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ps.create("app-deleted",{appName:this._name})}}const El=dL;function PC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:dy,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Ps.create("bad-app-name",{appName:String(a)});if(n||(n=SC()),!n)throw Ps.create("no-options");const l=Wf.get(a);if(l){if(zs(n,l.options)&&zs(r,l.config))return l;throw Ps.create("duplicate-app",{appName:a})}const u=new w4(a);for(const d of my.values())u.addComponent(d);const h=new yL(n,r,u);return Wf.set(a,h),h}function Dv(t=dy){const e=Wf.get(t);if(!e&&t===dy&&SC())return PC();if(!e)throw Ps.create("no-app",{appName:t});return e}function si(t,e,n){let r=mL[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ur.warn(u.join(" "));return}ar(new Ai(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const vL="firebase-heartbeat-database",_L=1,uc="firebase-heartbeat-store";let Rg=null;function VC(){return Rg||(Rg=MC(vL,_L,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(uc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ps.create("idb-open",{originalErrorMessage:t.message})})),Rg}async function TL(t){try{const n=(await VC()).transaction(uc),r=await n.objectStore(uc).get(OC(t));return await n.done,r}catch(e){if(e instanceof Ri)Ur.warn(e.message);else{const n=Ps.create("idb-get",{originalErrorMessage:e?.message});Ur.warn(n.message)}}}async function LS(t,e){try{const r=(await VC()).transaction(uc,"readwrite");await r.objectStore(uc).put(e,OC(t)),await r.done}catch(n){if(n instanceof Ri)Ur.warn(n.message);else{const r=Ps.create("idb-set",{originalErrorMessage:n?.message});Ur.warn(r.message)}}}function OC(t){return`${t.name}!${t.options.appId}`}const EL=1024,bL=30;class SL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=US();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>bL){const a=CL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ur.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=US(),{heartbeatsToSend:n,unsentEntries:r}=wL(this._heartbeatsCache.heartbeats),a=Qf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Ur.warn(e),""}}}function US(){return new Date().toISOString().substring(0,10)}function wL(t,e=EL){const n=[];let r=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),jS(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),jS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class AL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xC()?DC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return LS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return LS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function jS(t){return Qf(JSON.stringify({version:2,heartbeats:t})).length}function CL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function RL(t){ar(new Ai("platform-logger",e=>new j4(e),"PRIVATE")),ar(new Ai("heartbeat",e=>new SL(e),"PRIVATE")),si(fy,OS,t),si(fy,OS,"esm2020"),si("fire-js","")}RL("");var xL="firebase",DL="12.6.0";si(xL,DL,"app");var zS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Vs,kC;(function(){var t;function e(I,A){function x(){}x.prototype=A.prototype,I.F=A.prototype,I.prototype=new x,I.prototype.constructor=I,I.D=function(k,O,H){for(var P=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)P[Fe-2]=arguments[Fe];return A.prototype[O].apply(k,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,A,x){x||(x=0);const k=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)k[O]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(O=0;O<16;++O)k[O]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=I.g[0],x=I.g[1],O=I.g[2];let H=I.g[3],P;P=A+(H^x&(O^H))+k[0]+3614090360&4294967295,A=x+(P<<7&4294967295|P>>>25),P=H+(O^A&(x^O))+k[1]+3905402710&4294967295,H=A+(P<<12&4294967295|P>>>20),P=O+(x^H&(A^x))+k[2]+606105819&4294967295,O=H+(P<<17&4294967295|P>>>15),P=x+(A^O&(H^A))+k[3]+3250441966&4294967295,x=O+(P<<22&4294967295|P>>>10),P=A+(H^x&(O^H))+k[4]+4118548399&4294967295,A=x+(P<<7&4294967295|P>>>25),P=H+(O^A&(x^O))+k[5]+1200080426&4294967295,H=A+(P<<12&4294967295|P>>>20),P=O+(x^H&(A^x))+k[6]+2821735955&4294967295,O=H+(P<<17&4294967295|P>>>15),P=x+(A^O&(H^A))+k[7]+4249261313&4294967295,x=O+(P<<22&4294967295|P>>>10),P=A+(H^x&(O^H))+k[8]+1770035416&4294967295,A=x+(P<<7&4294967295|P>>>25),P=H+(O^A&(x^O))+k[9]+2336552879&4294967295,H=A+(P<<12&4294967295|P>>>20),P=O+(x^H&(A^x))+k[10]+4294925233&4294967295,O=H+(P<<17&4294967295|P>>>15),P=x+(A^O&(H^A))+k[11]+2304563134&4294967295,x=O+(P<<22&4294967295|P>>>10),P=A+(H^x&(O^H))+k[12]+1804603682&4294967295,A=x+(P<<7&4294967295|P>>>25),P=H+(O^A&(x^O))+k[13]+4254626195&4294967295,H=A+(P<<12&4294967295|P>>>20),P=O+(x^H&(A^x))+k[14]+2792965006&4294967295,O=H+(P<<17&4294967295|P>>>15),P=x+(A^O&(H^A))+k[15]+1236535329&4294967295,x=O+(P<<22&4294967295|P>>>10),P=A+(O^H&(x^O))+k[1]+4129170786&4294967295,A=x+(P<<5&4294967295|P>>>27),P=H+(x^O&(A^x))+k[6]+3225465664&4294967295,H=A+(P<<9&4294967295|P>>>23),P=O+(A^x&(H^A))+k[11]+643717713&4294967295,O=H+(P<<14&4294967295|P>>>18),P=x+(H^A&(O^H))+k[0]+3921069994&4294967295,x=O+(P<<20&4294967295|P>>>12),P=A+(O^H&(x^O))+k[5]+3593408605&4294967295,A=x+(P<<5&4294967295|P>>>27),P=H+(x^O&(A^x))+k[10]+38016083&4294967295,H=A+(P<<9&4294967295|P>>>23),P=O+(A^x&(H^A))+k[15]+3634488961&4294967295,O=H+(P<<14&4294967295|P>>>18),P=x+(H^A&(O^H))+k[4]+3889429448&4294967295,x=O+(P<<20&4294967295|P>>>12),P=A+(O^H&(x^O))+k[9]+568446438&4294967295,A=x+(P<<5&4294967295|P>>>27),P=H+(x^O&(A^x))+k[14]+3275163606&4294967295,H=A+(P<<9&4294967295|P>>>23),P=O+(A^x&(H^A))+k[3]+4107603335&4294967295,O=H+(P<<14&4294967295|P>>>18),P=x+(H^A&(O^H))+k[8]+1163531501&4294967295,x=O+(P<<20&4294967295|P>>>12),P=A+(O^H&(x^O))+k[13]+2850285829&4294967295,A=x+(P<<5&4294967295|P>>>27),P=H+(x^O&(A^x))+k[2]+4243563512&4294967295,H=A+(P<<9&4294967295|P>>>23),P=O+(A^x&(H^A))+k[7]+1735328473&4294967295,O=H+(P<<14&4294967295|P>>>18),P=x+(H^A&(O^H))+k[12]+2368359562&4294967295,x=O+(P<<20&4294967295|P>>>12),P=A+(x^O^H)+k[5]+4294588738&4294967295,A=x+(P<<4&4294967295|P>>>28),P=H+(A^x^O)+k[8]+2272392833&4294967295,H=A+(P<<11&4294967295|P>>>21),P=O+(H^A^x)+k[11]+1839030562&4294967295,O=H+(P<<16&4294967295|P>>>16),P=x+(O^H^A)+k[14]+4259657740&4294967295,x=O+(P<<23&4294967295|P>>>9),P=A+(x^O^H)+k[1]+2763975236&4294967295,A=x+(P<<4&4294967295|P>>>28),P=H+(A^x^O)+k[4]+1272893353&4294967295,H=A+(P<<11&4294967295|P>>>21),P=O+(H^A^x)+k[7]+4139469664&4294967295,O=H+(P<<16&4294967295|P>>>16),P=x+(O^H^A)+k[10]+3200236656&4294967295,x=O+(P<<23&4294967295|P>>>9),P=A+(x^O^H)+k[13]+681279174&4294967295,A=x+(P<<4&4294967295|P>>>28),P=H+(A^x^O)+k[0]+3936430074&4294967295,H=A+(P<<11&4294967295|P>>>21),P=O+(H^A^x)+k[3]+3572445317&4294967295,O=H+(P<<16&4294967295|P>>>16),P=x+(O^H^A)+k[6]+76029189&4294967295,x=O+(P<<23&4294967295|P>>>9),P=A+(x^O^H)+k[9]+3654602809&4294967295,A=x+(P<<4&4294967295|P>>>28),P=H+(A^x^O)+k[12]+3873151461&4294967295,H=A+(P<<11&4294967295|P>>>21),P=O+(H^A^x)+k[15]+530742520&4294967295,O=H+(P<<16&4294967295|P>>>16),P=x+(O^H^A)+k[2]+3299628645&4294967295,x=O+(P<<23&4294967295|P>>>9),P=A+(O^(x|~H))+k[0]+4096336452&4294967295,A=x+(P<<6&4294967295|P>>>26),P=H+(x^(A|~O))+k[7]+1126891415&4294967295,H=A+(P<<10&4294967295|P>>>22),P=O+(A^(H|~x))+k[14]+2878612391&4294967295,O=H+(P<<15&4294967295|P>>>17),P=x+(H^(O|~A))+k[5]+4237533241&4294967295,x=O+(P<<21&4294967295|P>>>11),P=A+(O^(x|~H))+k[12]+1700485571&4294967295,A=x+(P<<6&4294967295|P>>>26),P=H+(x^(A|~O))+k[3]+2399980690&4294967295,H=A+(P<<10&4294967295|P>>>22),P=O+(A^(H|~x))+k[10]+4293915773&4294967295,O=H+(P<<15&4294967295|P>>>17),P=x+(H^(O|~A))+k[1]+2240044497&4294967295,x=O+(P<<21&4294967295|P>>>11),P=A+(O^(x|~H))+k[8]+1873313359&4294967295,A=x+(P<<6&4294967295|P>>>26),P=H+(x^(A|~O))+k[15]+4264355552&4294967295,H=A+(P<<10&4294967295|P>>>22),P=O+(A^(H|~x))+k[6]+2734768916&4294967295,O=H+(P<<15&4294967295|P>>>17),P=x+(H^(O|~A))+k[13]+1309151649&4294967295,x=O+(P<<21&4294967295|P>>>11),P=A+(O^(x|~H))+k[4]+4149444226&4294967295,A=x+(P<<6&4294967295|P>>>26),P=H+(x^(A|~O))+k[11]+3174756917&4294967295,H=A+(P<<10&4294967295|P>>>22),P=O+(A^(H|~x))+k[2]+718787259&4294967295,O=H+(P<<15&4294967295|P>>>17),P=x+(H^(O|~A))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(O+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+H&4294967295}r.prototype.v=function(I,A){A===void 0&&(A=I.length);const x=A-this.blockSize,k=this.C;let O=this.h,H=0;for(;H<A;){if(O==0)for(;H<=x;)a(this,I,H),H+=this.blockSize;if(typeof I=="string"){for(;H<A;)if(k[O++]=I.charCodeAt(H++),O==this.blockSize){a(this,k),O=0;break}}else for(;H<A;)if(k[O++]=I[H++],O==this.blockSize){a(this,k),O=0;break}}this.h=O,this.o+=A},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var x=I.length-8;x<I.length;++x)I[x]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,x=0;x<4;++x)for(let k=0;k<32;k+=8)I[A++]=this.g[x]>>>k&255;return I};function l(I,A){var x=h;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=A(I)}function u(I,A){this.h=A;const x=[];let k=!0;for(let O=I.length-1;O>=0;O--){const H=I[O]|0;k&&H==A||(x[O]=H,k=!1)}this.g=x}var h={};function d(I){return-128<=I&&I<128?l(I,function(A){return new u([A|0],A<0?-1:0)}):new u([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return v;if(I<0)return N(p(-I));const A=[];let x=1;for(let k=0;I>=x;k++)A[k]=I/x|0,x*=4294967296;return new u(A,0)}function y(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return N(y(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=p(Math.pow(A,8));let k=v;for(let H=0;H<I.length;H+=8){var O=Math.min(8,I.length-H);const P=parseInt(I.substring(H,H+O),A);O<8?(O=p(Math.pow(A,O)),k=k.j(O).add(p(P))):(k=k.j(x),k=k.add(p(P)))}return k}var v=d(0),E=d(1),w=d(16777216);t=u.prototype,t.m=function(){if(M(this))return-N(this).m();let I=0,A=1;for(let x=0;x<this.g.length;x++){const k=this.i(x);I+=(k>=0?k:4294967296+k)*A,A*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(D(this))return"0";if(M(this))return"-"+N(this).toString(I);const A=p(Math.pow(I,6));var x=this;let k="";for(;;){const O=se(x,A).g;x=U(x,O.j(A));let H=((x.g.length>0?x.g[0]:x.h)>>>0).toString(I);if(x=O,D(x))return H+k;for(;H.length<6;)H="0"+H;k=H+k}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function D(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function M(I){return I.h==-1}t.l=function(I){return I=U(this,I),M(I)?-1:D(I)?0:1};function N(I){const A=I.g.length,x=[];for(let k=0;k<A;k++)x[k]=~I.g[k];return new u(x,~I.h).add(E)}t.abs=function(){return M(this)?N(this):this},t.add=function(I){const A=Math.max(this.g.length,I.g.length),x=[];let k=0;for(let O=0;O<=A;O++){let H=k+(this.i(O)&65535)+(I.i(O)&65535),P=(H>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);k=P>>>16,H&=65535,P&=65535,x[O]=P<<16|H}return new u(x,x[x.length-1]&-2147483648?-1:0)};function U(I,A){return I.add(N(A))}t.j=function(I){if(D(this)||D(I))return v;if(M(this))return M(I)?N(this).j(N(I)):N(N(this).j(I));if(M(I))return N(this.j(N(I)));if(this.l(w)<0&&I.l(w)<0)return p(this.m()*I.m());const A=this.g.length+I.g.length,x=[];for(var k=0;k<2*A;k++)x[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<I.g.length;O++){const H=this.i(k)>>>16,P=this.i(k)&65535,Fe=I.i(O)>>>16,Xe=I.i(O)&65535;x[2*k+2*O]+=P*Xe,B(x,2*k+2*O),x[2*k+2*O+1]+=H*Xe,B(x,2*k+2*O+1),x[2*k+2*O+1]+=P*Fe,B(x,2*k+2*O+1),x[2*k+2*O+2]+=H*Fe,B(x,2*k+2*O+2)}for(I=0;I<A;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=A;I<2*A;I++)x[I]=0;return new u(x,0)};function B(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function F(I,A){this.g=I,this.h=A}function se(I,A){if(D(A))throw Error("division by zero");if(D(I))return new F(v,v);if(M(I))return A=se(N(I),A),new F(N(A.g),N(A.h));if(M(A))return A=se(I,N(A)),new F(N(A.g),A.h);if(I.g.length>30){if(M(I)||M(A))throw Error("slowDivide_ only works with positive integers.");for(var x=E,k=A;k.l(I)<=0;)x=re(x),k=re(k);var O=oe(x,1),H=oe(k,1);for(k=oe(k,2),x=oe(x,2);!D(k);){var P=H.add(k);P.l(I)<=0&&(O=O.add(x),H=P),k=oe(k,1),x=oe(x,1)}return A=U(I,O.j(A)),new F(O,A)}for(O=v;I.l(A)>=0;){for(x=Math.max(1,Math.floor(I.m()/A.m())),k=Math.ceil(Math.log(x)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),H=p(x),P=H.j(A);M(P)||P.l(I)>0;)x-=k,H=p(x),P=H.j(A);D(H)&&(H=E),O=O.add(H),I=U(I,P)}return new F(O,I)}t.B=function(I){return se(this,I).h},t.and=function(I){const A=Math.max(this.g.length,I.g.length),x=[];for(let k=0;k<A;k++)x[k]=this.i(k)&I.i(k);return new u(x,this.h&I.h)},t.or=function(I){const A=Math.max(this.g.length,I.g.length),x=[];for(let k=0;k<A;k++)x[k]=this.i(k)|I.i(k);return new u(x,this.h|I.h)},t.xor=function(I){const A=Math.max(this.g.length,I.g.length),x=[];for(let k=0;k<A;k++)x[k]=this.i(k)^I.i(k);return new u(x,this.h^I.h)};function re(I){const A=I.g.length+1,x=[];for(let k=0;k<A;k++)x[k]=I.i(k)<<1|I.i(k-1)>>>31;return new u(x,I.h)}function oe(I,A){const x=A>>5;A%=32;const k=I.g.length-x,O=[];for(let H=0;H<k;H++)O[H]=A>0?I.i(H+x)>>>A|I.i(H+x+1)<<32-A:I.i(H+x);return new u(O,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,kC=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Vs=u}).apply(typeof zS<"u"?zS:typeof self<"u"?self:typeof window<"u"?window:{});var vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var LC,Bu,UC,Mf,py,jC,zC,BC;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof vf=="object"&&vf];for(var _=0;_<f.length;++_){var b=f[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function a(f,_){if(_)e:{var b=r;f=f.split(".");for(var C=0;C<f.length-1;C++){var G=f[C];if(!(G in b))break e;b=b[G]}f=f[f.length-1],C=b[f],_=_(C),_!=C&&_!=null&&e(b,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var b=[],C;for(C in _)Object.prototype.hasOwnProperty.call(_,C)&&b.push([C,_[C]]);return b}});var l=l||{},u=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,b){return f.call.apply(f.bind,arguments)}function p(f,_,b){return p=d,p.apply(null,arguments)}function y(f,_){var b=Array.prototype.slice.call(arguments,1);return function(){var C=b.slice();return C.push.apply(C,arguments),f.apply(this,C)}}function v(f,_){function b(){}b.prototype=_.prototype,f.Z=_.prototype,f.prototype=new b,f.prototype.constructor=f,f.Ob=function(C,G,$){for(var ue=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)ue[xe-2]=arguments[xe];return _.prototype[G].apply(C,ue)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function w(f){const _=f.length;if(_>0){const b=Array(_);for(let C=0;C<_;C++)b[C]=f[C];return b}return[]}function D(f,_){for(let C=1;C<arguments.length;C++){const G=arguments[C];var b=typeof G;if(b=b!="object"?b:G?Array.isArray(G)?"array":b:"null",b=="array"||b=="object"&&typeof G.length=="number"){b=f.length||0;const $=G.length||0;f.length=b+$;for(let ue=0;ue<$;ue++)f[b+ue]=G[ue]}else f.push(G)}}class M{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function N(f){u.setTimeout(()=>{throw f},0)}function U(){var f=I;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class B{constructor(){this.h=this.g=null}add(_,b){const C=F.get();C.set(_,b),this.h?this.h.next=C:this.g=C,this.h=C}}var F=new M(()=>new se,f=>f.reset());class se{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let re,oe=!1,I=new B,A=()=>{const f=Promise.resolve(void 0);re=()=>{f.then(x)}};function x(){for(var f;f=U();){try{f.h.call(f.g)}catch(b){N(b)}var _=F;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}oe=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};u.addEventListener("test",b,_),u.removeEventListener("test",b,_)}catch{}return f})();function P(f){return/^[\s\xa0]*$/.test(f)}function Fe(f,_){O.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(Fe,O),Fe.prototype.init=function(f,_){const b=this.type=f.type,C=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(b=="mouseover"?_=f.fromElement:b=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Fe.Z.h.call(this)},Fe.prototype.h=function(){Fe.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Xe="closure_listenable_"+(Math.random()*1e6|0),W=0;function ae(f,_,b,C,G){this.listener=f,this.proxy=null,this.src=_,this.type=b,this.capture=!!C,this.ha=G,this.key=++W,this.da=this.fa=!1}function he(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Se(f,_,b){for(const C in f)_.call(b,f[C],C,f)}function Ne(f,_){for(const b in f)_.call(void 0,f[b],b,f)}function j(f){const _={};for(const b in f)_[b]=f[b];return _}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(f,_){let b,C;for(let G=1;G<arguments.length;G++){C=arguments[G];for(b in C)f[b]=C[b];for(let $=0;$<ee.length;$++)b=ee[$],Object.prototype.hasOwnProperty.call(C,b)&&(f[b]=C[b])}}function ce(f){this.src=f,this.g={},this.h=0}ce.prototype.add=function(f,_,b,C,G){const $=f.toString();f=this.g[$],f||(f=this.g[$]=[],this.h++);const ue=Re(f,_,C,G);return ue>-1?(_=f[ue],b||(_.fa=!1)):(_=new ae(_,this.src,$,!!C,G),_.fa=b,f.push(_)),_};function Ee(f,_){const b=_.type;if(b in f.g){var C=f.g[b],G=Array.prototype.indexOf.call(C,_,void 0),$;($=G>=0)&&Array.prototype.splice.call(C,G,1),$&&(he(_),f.g[b].length==0&&(delete f.g[b],f.h--))}}function Re(f,_,b,C){for(let G=0;G<f.length;++G){const $=f[G];if(!$.da&&$.listener==_&&$.capture==!!b&&$.ha==C)return G}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),gt={};function nt(f,_,b,C,G){if(Array.isArray(_)){for(let $=0;$<_.length;$++)nt(f,_[$],b,C,G);return null}return b=Il(b),f&&f[Xe]?f.J(_,b,h(C)?!!C.capture:!1,G):xi(f,_,b,!1,C,G)}function xi(f,_,b,C,G,$){if(!_)throw Error("Invalid event type");const ue=h(G)?!!G.capture:!!G;let xe=ea(f);if(xe||(f[Ve]=xe=new ce(f)),b=xe.add(_,b,C,ue,$),b.proxy)return b;if(C=hr(),b.proxy=C,C.src=f,C.listener=b,f.addEventListener)H||(G=ue),G===void 0&&(G=!1),f.addEventListener(_.toString(),C,G);else if(f.attachEvent)f.attachEvent(Di(_.toString()),C);else if(f.addListener&&f.removeListener)f.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return b}function hr(){function f(b){return _.call(f.src,f.listener,b)}const _=xl;return f}function Fr(f,_,b,C,G){if(Array.isArray(_))for(var $=0;$<_.length;$++)Fr(f,_[$],b,C,G);else C=h(C)?!!C.capture:!!C,b=Il(b),f&&f[Xe]?(f=f.i,$=String(_).toString(),$ in f.g&&(_=f.g[$],b=Re(_,b,C,G),b>-1&&(he(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete f.g[$],f.h--)))):f&&(f=ea(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Re(_,b,C,G)),(b=f>-1?_[f]:null)&&Hr(b))}function Hr(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Xe])Ee(_.i,f);else{var b=f.type,C=f.proxy;_.removeEventListener?_.removeEventListener(b,C,f.capture):_.detachEvent?_.detachEvent(Di(b),C):_.addListener&&_.removeListener&&_.removeListener(C),(b=ea(_))?(Ee(b,f),b.h==0&&(b.src=null,_[Ve]=null)):he(f)}}}function Di(f){return f in gt?gt[f]:gt[f]="on"+f}function xl(f,_){if(f.da)f=!0;else{_=new Fe(_,this);const b=f.listener,C=f.ha||f.src;f.fa&&Hr(f),f=b.call(C,_)}return f}function ea(f){return f=f[Ve],f instanceof ce?f:null}var Dl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Il(f){return typeof f=="function"?f:(f[Dl]||(f[Dl]=function(_){return f.handleEvent(_)}),f[Dl])}function Rt(){k.call(this),this.i=new ce(this),this.M=this,this.G=null}v(Rt,k),Rt.prototype[Xe]=!0,Rt.prototype.removeEventListener=function(f,_,b,C){Fr(this,f,_,b,C)};function zt(f,_){var b,C=f.G;if(C)for(b=[];C;C=C.G)b.push(C);if(f=f.M,C=_.type||_,typeof _=="string")_=new O(_,f);else if(_ instanceof O)_.target=_.target||f;else{var G=_;_=new O(C,f),le(_,G)}G=!0;let $,ue;if(b)for(ue=b.length-1;ue>=0;ue--)$=_.g=b[ue],G=qr($,C,!0,_)&&G;if($=_.g=f,G=qr($,C,!0,_)&&G,G=qr($,C,!1,_)&&G,b)for(ue=0;ue<b.length;ue++)$=_.g=b[ue],G=qr($,C,!1,_)&&G}Rt.prototype.N=function(){if(Rt.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const b=f.g[_];for(let C=0;C<b.length;C++)he(b[C]);delete f.g[_],f.h--}}this.G=null},Rt.prototype.J=function(f,_,b,C){return this.i.add(String(f),_,!1,b,C)},Rt.prototype.K=function(f,_,b,C){return this.i.add(String(f),_,!0,b,C)};function qr(f,_,b,C){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let G=!0;for(let $=0;$<_.length;++$){const ue=_[$];if(ue&&!ue.da&&ue.capture==b){const xe=ue.listener,Et=ue.ha||ue.src;ue.fa&&Ee(f.i,ue),G=xe.call(Et,C)!==!1&&G}}return G&&!C.defaultPrevented}function tm(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(f,_||0)}function Lc(f){f.g=tm(()=>{f.g=null,f.i&&(f.i=!1,Lc(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class hn extends k{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Lc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ta(f){k.call(this),this.h=f,this.g={}}v(ta,k);var Nl=[];function Ml(f){Se(f.g,function(_,b){this.g.hasOwnProperty(b)&&Hr(_)},f),f.g={}}ta.prototype.N=function(){ta.Z.N.call(this),Ml(this)},ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gr=u.JSON.stringify,nm=u.JSON.parse,Uc=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function jc(){}function zc(){}var li={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xt(){O.call(this,"d")}v(Xt,O);function jn(){O.call(this,"c")}v(jn,O);var Tt={},Bc=null;function to(){return Bc=Bc||new Rt}Tt.Ia="serverreachability";function Fc(f){O.call(this,Tt.Ia,f)}v(Fc,O);function Ii(f){const _=to();zt(_,new Fc(_))}Tt.STAT_EVENT="statevent";function na(f,_){O.call(this,Tt.STAT_EVENT,f),this.stat=_}v(na,O);function xt(f){const _=to();zt(_,new na(_,f))}Tt.Ja="timingevent";function Ni(f,_){O.call(this,Tt.Ja,f),this.size=_}v(Ni,O);function Mi(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},_)}function ui(){this.g=!0}ui.prototype.ua=function(){this.g=!1};function im(f,_,b,C,G,$){f.info(function(){if(f.g)if($){var ue="",xe=$.split("&");for(let Ge=0;Ge<xe.length;Ge++){var Et=xe[Ge].split("=");if(Et.length>1){const ut=Et[0];Et=Et[1];const Hn=ut.split("_");ue=Hn.length>=2&&Hn[1]=="type"?ue+(ut+"="+Et+"&"):ue+(ut+"=redacted&")}}}else ue=null;else ue=$;return"XMLHTTP REQ ("+C+") [attempt "+G+"]: "+_+`
`+b+`
`+ue})}function Hc(f,_,b,C,G,$,ue){f.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+G+"]: "+_+`
`+b+`
`+$+" "+ue})}function Pi(f,_,b,C){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+rm(f,b)+(C?" "+C:"")})}function ia(f,_){f.info(function(){return"TIMEOUT: "+_})}ui.prototype.info=function(){};function rm(f,_){if(!f.g)return _;if(!_)return null;try{const $=JSON.parse(_);if($){for(f=0;f<$.length;f++)if(Array.isArray($[f])){var b=$[f];if(!(b.length<2)){var C=b[1];if(Array.isArray(C)&&!(C.length<1)){var G=C[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ue=1;ue<C.length;ue++)C[ue]=""}}}}return Gr($)}catch{return _}}var ra={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Vl;function sa(){}v(sa,jc),sa.prototype.g=function(){return new XMLHttpRequest},Vl=new sa;function fr(f){return encodeURIComponent(String(f))}function qc(f){var _=1;f=f.split(":");const b=[];for(;_>0&&f.length;)b.push(f.shift()),_--;return f.length&&b.push(f.join(":")),b}function ci(f,_,b,C){this.j=f,this.i=_,this.l=b,this.S=C||1,this.V=new ta(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hi}function hi(){this.i=null,this.g="",this.h=!1}var Dt={},qt={};function Vi(f,_,b){f.M=1,f.A=aa(Nt(_)),f.u=b,f.R=!0,no(f,null)}function no(f,_){f.F=Date.now(),Oi(f),f.B=Nt(f.A);var b=f.B,C=f.S;Array.isArray(C)||(C=[String(C)]),ao(b.i,"t",C),f.C=0,b=f.j.L,f.h=new hi,f.g=sh(f.j,b?_:null,!f.u),f.P>0&&(f.O=new hn(p(f.Y,f,f.g),f.P)),_=f.V,b=f.g,C=f.ba;var G="readystatechange";Array.isArray(G)||(G&&(Nl[0]=G.toString()),G=Nl);for(let $=0;$<G.length;$++){const ue=nt(b,G[$],C||_.handleEvent,!1,_.h||_);if(!ue)break;_.g[ue.key]=ue}_=f.J?j(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),Ii(),im(f.i,f.v,f.B,f.l,f.S,f.u)}ci.prototype.ba=function(f){f=f.target;const _=this.O;_&&mi(f)==3?_.j():this.Y(f)},ci.prototype.Y=function(f){try{if(f==this.g)e:{const xe=mi(this.g),Et=this.g.ya(),Ge=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||xe!=4||Et==7||(Et==8||Ge<=0?Ii(3):Ii(2)),ki(this);var _=this.g.ca();this.X=_;var b=sm(this);if(this.o=_==200,Hc(this.i,this.v,this.B,this.l,this.S,xe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var C,G=this.g;if((C=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(C)){var $=C;break t}}$=null}if(f=$)Pi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Li(this,f);else{this.o=!1,this.m=3,xt(12),xn(this),zn(this);break e}}if(this.R){f=!0;let ut;for(;!this.K&&this.C<b.length;)if(ut=Yc(this,b),ut==qt){xe==4&&(this.m=4,xt(14),f=!1),Pi(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==Dt){this.m=4,xt(15),Pi(this.i,this.l,b,"[Invalid Chunk]"),f=!1;break}else Pi(this.i,this.l,ut,null),Li(this,ut);if(Gc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||b.length!=0||this.h.h||(this.m=1,xt(16),f=!1),this.o=this.o&&f,!f)Pi(this.i,this.l,b,"[Invalid Chunked Response]"),xn(this),zn(this);else if(b.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),$l(ue),ue.P=!0,xt(11))}}else Pi(this.i,this.l,b,null),Li(this,b);xe==4&&xn(this),this.o&&!this.K&&(xe==4?th(this.j,this):(this.o=!1,Oi(this)))}else mr(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),xn(this),zn(this)}}}catch{}finally{}};function sm(f){if(!Gc(f))return f.g.la();const _=$t(f.g);if(_==="")return"";let b="";const C=_.length,G=mi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return xn(f),zn(f),"";f.h.i=new u.TextDecoder}for(let $=0;$<C;$++)f.h.h=!0,b+=f.h.i.decode(_[$],{stream:!(G&&$==C-1)});return _.length=0,f.h.g+=b,f.C=0,f.h.g}function Gc(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Yc(f,_){var b=f.C,C=_.indexOf(`
`,b);return C==-1?qt:(b=Number(_.substring(b,C)),isNaN(b)?Dt:(C+=1,C+b>_.length?qt:(_=_.slice(C,C+b),f.C=C+b,_)))}ci.prototype.cancel=function(){this.K=!0,xn(this)};function Oi(f){f.T=Date.now()+f.H,io(f,f.H)}function io(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Mi(p(f.aa,f),_)}function ki(f){f.D&&(u.clearTimeout(f.D),f.D=null)}ci.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ia(this.i,this.B),this.M!=2&&(Ii(),xt(17)),xn(this),this.m=2,zn(this)):io(this,this.T-f)};function zn(f){f.j.I==0||f.K||th(f.j,f)}function xn(f){ki(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,Ml(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function Li(f,_){try{var b=f.j;if(b.I!=0&&(b.g==f||ji(b.h,f))){if(!f.L&&ji(b.h,f)&&b.I==3){try{var C=b.Ba.g.parse(_)}catch{C=null}if(Array.isArray(C)&&C.length==3){var G=C;if(G[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<f.F)ho(b),Jr(b);else break e;da(b),xt(18)}}else b.xa=G[1],0<b.xa-b.K&&G[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Mi(p(b.Va,b),6e3));Ui(b.h)<=1&&b.ta&&(b.ta=void 0)}else Gi(b,11)}else if((f.L||b.g==f)&&ho(b),!P(_))for(G=b.Ba.g.parse(_),_=0;_<G.length;_++){let Ge=G[_];const ut=Ge[0];if(!(ut<=b.K))if(b.K=ut,Ge=Ge[1],b.I==2)if(Ge[0]=="c"){b.M=Ge[1],b.ba=Ge[2];const Hn=Ge[3];Hn!=null&&(b.ka=Hn,b.j.info("VER="+b.ka));const Yi=Ge[4];Yi!=null&&(b.za=Yi,b.j.info("SVER="+b.za));const pi=Ge[5];pi!=null&&typeof pi=="number"&&pi>0&&(C=1.5*pi,b.O=C,b.j.info("backChannelRequestTimeoutMs_="+C)),C=b;const gi=f.g;if(gi){const ma=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ma){var $=C.h;$.g||ma.indexOf("spdy")==-1&&ma.indexOf("quic")==-1&&ma.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Ll($,$.h),$.h=null))}if(C.G){const fo=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;fo&&(C.wa=fo,$e(C.J,C.G,fo))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-f.F,b.j.info("Handshake RTT: "+b.T+"ms")),C=b;var ue=f;if(C.na=rh(C,C.L?C.ba:null,C.W),ue.L){Ul(C.h,ue);var xe=ue,Et=C.O;Et&&(xe.H=Et),xe.D&&(ki(xe),Oi(xe)),C.g=ue}else Jc(C);b.i.length>0&&qi(b)}else Ge[0]!="stop"&&Ge[0]!="close"||Gi(b,7);else b.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Gi(b,7):Kl(b):Ge[0]!="noop"&&b.l&&b.l.qa(Ge),b.A=0)}}Ii(4)}catch{}}var It=class{constructor(f,_){this.g=f,this.map=_}};function Ol(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ui(f){return f.h?1:f.g?f.g.size:0}function ji(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Ll(f,_){f.g?f.g.add(_):f.h=_}function Ul(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Ol.prototype.cancel=function(){if(this.i=jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function jl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const b of f.g.values())_=_.concat(b.G);return _}return w(f.i)}var Kc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ro(f,_){if(f){f=f.split("&");for(let b=0;b<f.length;b++){const C=f[b].indexOf("=");let G,$=null;C>=0?(G=f[b].substring(0,C),$=f[b].substring(C+1)):G=f[b],_(G,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Dn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof Dn?(this.l=f.l,Gt(this,f.j),this.o=f.o,this.g=f.g,Yr(this,f.u),this.h=f.h,zl(this,Wc(f.i)),this.m=f.m):f&&(_=String(f).match(Kc))?(this.l=!1,Gt(this,_[1]||"",!0),this.o=zi(_[2]||""),this.g=zi(_[3]||"",!0),Yr(this,_[4]),this.h=zi(_[5]||"",!0),zl(this,_[6]||"",!0),this.m=zi(_[7]||"")):(this.l=!1,this.i=new Xr(null,this.l))}Dn.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(oa(_,so,!0),":");var b=this.g;return(b||_=="file")&&(f.push("//"),(_=this.o)&&f.push(oa(_,so,!0),"@"),f.push(fr(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&f.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(oa(b,b.charAt(0)=="/"?Bl:Xc,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",oa(b,$c)),f.join("")},Dn.prototype.resolve=function(f){const _=Nt(this);let b=!!f.j;b?Gt(_,f.j):b=!!f.o,b?_.o=f.o:b=!!f.g,b?_.g=f.g:b=f.u!=null;var C=f.h;if(b)Yr(_,f.u);else if(b=!!f.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var G=_.h.lastIndexOf("/");G!=-1&&(C=_.h.slice(0,G+1)+C)}if(G=C,G==".."||G==".")C="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){C=G.lastIndexOf("/",0)==0,G=G.split("/");const $=[];for(let ue=0;ue<G.length;){const xe=G[ue++];xe=="."?C&&ue==G.length&&$.push(""):xe==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),C&&ue==G.length&&$.push("")):($.push(xe),C=!0)}C=$.join("/")}else C=G}return b?_.h=C:b=f.i.toString()!=="",b?zl(_,Wc(f.i)):b=!!f.m,b&&(_.m=f.m),_};function Nt(f){return new Dn(f)}function Gt(f,_,b){f.j=b?zi(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Yr(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function zl(f,_,b){_ instanceof Xr?(f.i=_,oo(f.i,f.l)):(b||(_=oa(_,Kr)),f.i=new Xr(_,f.l))}function $e(f,_,b){f.i.set(_,b)}function aa(f){return $e(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function zi(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function oa(f,_,b){return typeof f=="string"?(f=encodeURI(f).replace(_,gn),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function gn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var so=/[#\/\?@]/g,Xc=/[#\?:]/g,Bl=/[#\?]/g,Kr=/[#\?@]/g,$c=/#/g;function Xr(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function yn(f){f.g||(f.g=new Map,f.h=0,f.i&&ro(f.i,function(_,b){f.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}t=Xr.prototype,t.add=function(f,_){yn(this),this.i=null,f=$r(this,f);let b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(_),this.h+=1,this};function Qc(f,_){yn(f),_=$r(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Fl(f,_){return yn(f),_=$r(f,_),f.g.has(_)}t.forEach=function(f,_){yn(this),this.g.forEach(function(b,C){b.forEach(function(G){f.call(_,G,C,this)},this)},this)};function Hl(f,_){yn(f);let b=[];if(typeof _=="string")Fl(f,_)&&(b=b.concat(f.g.get($r(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)b=b.concat(f[_]);return b}t.set=function(f,_){return yn(this),this.i=null,f=$r(this,f),Fl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=Hl(this,f),f.length>0?String(f[0]):_):_};function ao(f,_,b){Qc(f,_),b.length>0&&(f.i=null,f.g.set($r(f,_),w(b)),f.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let C=0;C<_.length;C++){var b=_[C];const G=fr(b);b=Hl(this,b);for(let $=0;$<b.length;$++){let ue=G;b[$]!==""&&(ue+="="+fr(b[$])),f.push(ue)}}return this.i=f.join("&")};function Wc(f){const _=new Xr;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function $r(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function oo(f,_){_&&!f.j&&(yn(f),f.i=null,f.g.forEach(function(b,C){const G=C.toLowerCase();C!=G&&(Qc(this,C),ao(this,G,b))},f)),f.j=_}function fi(f,_){const b=new ui;if(u.Image){const C=new Image;C.onload=y(Bn,b,"TestLoadImage: loaded",!0,_,C),C.onerror=y(Bn,b,"TestLoadImage: error",!1,_,C),C.onabort=y(Bn,b,"TestLoadImage: abort",!1,_,C),C.ontimeout=y(Bn,b,"TestLoadImage: timeout",!1,_,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=f}else _(!1)}function ql(f,_){const b=new ui,C=new AbortController,G=setTimeout(()=>{C.abort(),Bn(b,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:C.signal}).then($=>{clearTimeout(G),$.ok?Bn(b,"TestPingServer: ok",!0,_):Bn(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),Bn(b,"TestPingServer: error",!1,_)})}function Bn(f,_,b,C,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),C(b)}catch{}}function Qr(){this.g=new Uc}function Bi(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Bi,jc),Bi.prototype.g=function(){return new la(this.i,this.h)};function la(f,_){Rt.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(la,Rt),t=la.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,di(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Wr(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;lo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function lo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Wr(this):di(this),this.readyState==3&&lo(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,Wr(this))},t.Na=function(f){this.g&&(this.response=f,Wr(this))},t.ga=function(){this.g&&Wr(this)};function Wr(f){f.readyState=4,f.l=null,f.j=null,f.B=null,di(f)}t.setRequestHeader=function(f,_){this.A.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=_.next();return f.join(`\r
`)};function di(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(la.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Fn(f){let _="";return Se(f,function(b,C){_+=C,_+=":",_+=b,_+=`\r
`}),_}function ua(f,_,b){e:{for(C in b){var C=!1;break e}C=!0}C||(b=Fn(b),typeof f=="string"?b!=null&&fr(b):$e(f,_,b))}function Ze(f){Rt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Ze,Rt);var Fi=/^https?$/i,Gl=["POST","PUT"];t=Ze.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,_,b,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Vl.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch($){ca(this,$);return}if(f=b||"",b=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var G in C)b.set(G,C[G]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const $ of C.keys())b.set($,C.get($));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(b.keys()).find($=>$.toLowerCase()=="content-type"),G=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(Gl,_,void 0)>=0)||C||G||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ue]of b)this.g.setRequestHeader($,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch($){ca(this,$)}};function ca(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,Yl(f),dr(f)}function Yl(f){f.A||(f.A=!0,zt(f,"complete"),zt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,zt(this,"complete"),zt(this,"abort"),dr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dr(this,!0)),Ze.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ha(this):this.Xa())},t.Xa=function(){ha(this)};function ha(f){if(f.h&&typeof l<"u"){if(f.v&&mi(f)==4)setTimeout(f.Ca.bind(f),0);else if(zt(f,"readystatechange"),mi(f)==4){f.h=!1;try{const $=f.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var b;if(!(b=_)){var C;if(C=$===0){let ue=String(f.D).match(Kc)[1]||null;!ue&&u.self&&u.self.location&&(ue=u.self.location.protocol.slice(0,-1)),C=!Fi.test(ue?ue.toLowerCase():"")}b=C}if(b)zt(f,"complete"),zt(f,"success");else{f.o=6;try{var G=mi(f)>2?f.g.statusText:""}catch{G=""}f.l=G+" ["+f.ca()+"]",Yl(f)}}finally{dr(f)}}}}function dr(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const b=f.g;f.g=null,_||zt(f,"ready");try{b.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function mi(f){return f.g?f.g.readyState:0}t.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),nm(_)}};function $t(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function mr(f){const _={};f=(f.g&&mi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<f.length;C++){if(P(f[C]))continue;var b=qc(f[C]);const G=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const $=_[G]||[];_[G]=$,$.push(b)}Ne(_,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hi(f,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||_}function Zr(f){this.za=0,this.i=[],this.j=new ui,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hi("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hi("baseRetryDelayMs",5e3,f),this.Za=Hi("retryDelaySeedMs",1e4,f),this.Ta=Hi("forwardChannelMaxRetries",2,f),this.va=Hi("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Ol(f&&f.concurrentRequestLimit),this.Ba=new Qr,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Zr.prototype,t.ka=8,t.I=1,t.connect=function(f,_,b,C){xt(0),this.W=f,this.H=_||{},b&&C!==void 0&&(this.H.OSID=b,this.H.OAID=C),this.F=this.X,this.J=rh(this,null,this.W),qi(this)};function Kl(f){if(uo(f),f.I==3){var _=f.V++,b=Nt(f.J);if($e(b,"SID",f.M),$e(b,"RID",_),$e(b,"TYPE","terminate"),fa(f,b),_=new ci(f,f.j,_),_.M=2,_.A=aa(Nt(b)),b=!1,u.navigator&&u.navigator.sendBeacon)try{b=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&u.Image&&(new Image().src=_.A,b=!0),b||(_.g=sh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Oi(_)}ih(f)}function Jr(f){f.g&&($l(f),f.g.cancel(),f.g=null)}function uo(f){Jr(f),f.v&&(u.clearTimeout(f.v),f.v=null),ho(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function qi(f){if(!kl(f.h)&&!f.m){f.m=!0;var _=f.Ea;re||A(),oe||(re(),oe=!0),I.add(_,f),f.D=0}}function co(f,_){return Ui(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Mi(p(f.Ea,f,_),nh(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const G=new ci(this,this.j,f);let $=this.o;if(this.U&&($?($=j($),le($,this.U)):$=this.U),this.u!==null||this.R||(G.J=$,$=null),this.S)e:{for(var _=0,b=0;b<this.i.length;b++){t:{var C=this.i[b];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(_+=C,_>4096){_=b;break e}if(_===4096||b===this.i.length-1){_=b+1;break e}}_=1e3}else _=1e3;_=Zc(this,G,_),b=Nt(this.J),$e(b,"RID",f),$e(b,"CVER",22),this.G&&$e(b,"X-HTTP-Session-Id",this.G),fa(this,b),$&&(this.R?_="headers="+fr(Fn($))+"&"+_:this.u&&ua(b,this.u,$)),Ll(this.h,G),this.Ra&&$e(b,"TYPE","init"),this.S?($e(b,"$req",_),$e(b,"SID","null"),G.U=!0,Vi(G,b,null)):Vi(G,b,_),this.I=2}}else this.I==3&&(f?Xl(this,f):this.i.length==0||kl(this.h)||Xl(this))};function Xl(f,_){var b;_?b=_.l:b=f.V++;const C=Nt(f.J);$e(C,"SID",f.M),$e(C,"RID",b),$e(C,"AID",f.K),fa(f,C),f.u&&f.o&&ua(C,f.u,f.o),b=new ci(f,f.j,b,f.D+1),f.u===null&&(b.J=f.o),_&&(f.i=_.G.concat(f.i)),_=Zc(f,b,1e3),b.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Ll(f.h,b),Vi(b,C,_)}function fa(f,_){f.H&&Se(f.H,function(b,C){$e(_,C,b)}),f.l&&Se({},function(b,C){$e(_,C,b)})}function Zc(f,_,b){b=Math.min(f.i.length,b);const C=f.l?p(f.l.Ka,f.l,f):null;e:{var G=f.i;let xe=-1;for(;;){const Et=["count="+b];xe==-1?b>0?(xe=G[0].g,Et.push("ofs="+xe)):xe=0:Et.push("ofs="+xe);let Ge=!0;for(let ut=0;ut<b;ut++){var $=G[ut].g;const Hn=G[ut].map;if($-=xe,$<0)xe=Math.max(0,G[ut].g-100),Ge=!1;else try{$="req"+$+"_"||"";try{var ue=Hn instanceof Map?Hn:Object.entries(Hn);for(const[Yi,pi]of ue){let gi=pi;h(pi)&&(gi=Gr(pi)),Et.push($+Yi+"="+encodeURIComponent(gi))}}catch(Yi){throw Et.push($+"type="+encodeURIComponent("_badmap")),Yi}}catch{C&&C(Hn)}}if(Ge){ue=Et.join("&");break e}}ue=void 0}return f=f.i.splice(0,b),_.G=f,ue}function Jc(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;re||A(),oe||(re(),oe=!0),I.add(_,f),f.A=0}}function da(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Mi(p(f.Da,f),nh(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,eh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Mi(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),Jr(this),eh(this))};function $l(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function eh(f){f.g=new ci(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=Nt(f.na);$e(_,"RID","rpc"),$e(_,"SID",f.M),$e(_,"AID",f.K),$e(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&$e(_,"TO",f.ia),$e(_,"TYPE","xmlhttp"),fa(f,_),f.u&&f.o&&ua(_,f.u,f.o),f.O&&(f.g.H=f.O);var b=f.g;f=f.ba,b.M=1,b.A=aa(Nt(_)),b.u=null,b.R=!0,no(b,f)}t.Va=function(){this.C!=null&&(this.C=null,Jr(this),da(this),xt(19))};function ho(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function th(f,_){var b=null;if(f.g==_){ho(f),$l(f),f.g=null;var C=2}else if(ji(f.h,_))b=_.G,Ul(f.h,_),C=1;else return;if(f.I!=0){if(_.o)if(C==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var G=f.D;C=to(),zt(C,new Ni(C,b)),qi(f)}else Jc(f);else if(G=_.m,G==3||G==0&&_.X>0||!(C==1&&co(f,_)||C==2&&da(f)))switch(b&&b.length>0&&(_=f.h,_.i=_.i.concat(b)),G){case 1:Gi(f,5);break;case 4:Gi(f,10);break;case 3:Gi(f,6);break;default:Gi(f,2)}}}function nh(f,_){let b=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(b*=2),b*_}function Gi(f,_){if(f.j.info("Error code "+_),_==2){var b=p(f.bb,f),C=f.Ua;const G=!C;C=new Dn(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Gt(C,"https"),aa(C),G?fi(C.toString(),b):ql(C.toString(),b)}else xt(2);f.I=0,f.l&&f.l.pa(_),ih(f),uo(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function ih(f){if(f.I=0,f.ja=[],f.l){const _=jl(f.h);(_.length!=0||f.i.length!=0)&&(D(f.ja,_),D(f.ja,f.i),f.h.i.length=0,w(f.i),f.i.length=0),f.l.oa()}}function rh(f,_,b){var C=b instanceof Dn?Nt(b):new Dn(b);if(C.g!="")_&&(C.g=_+"."+C.g),Yr(C,C.u);else{var G=u.location;C=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;const $=new Dn(null);C&&Gt($,C),_&&($.g=_),G&&Yr($,G),b&&($.h=b),C=$}return b=f.G,_=f.wa,b&&_&&$e(C,b,_),$e(C,"VER",f.ka),fa(f,C),C}function sh(f,_,b){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new Ze(new Bi({ab:b})):new Ze(f.ma),_.Fa(f.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ah(){}t=ah.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function es(){}es.prototype.g=function(f,_){return new fn(f,_)};function fn(f,_){Rt.call(this),this.g=new Zr(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!P(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new pr(this)}v(fn,Rt),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Kl(this.g)},fn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.v&&(b={},b.__data__=Gr(f),f=b);_.i.push(new It(_.Ya++,f)),_.I==3&&qi(_)},fn.prototype.N=function(){this.g.l=null,delete this.j,Kl(this.g),delete this.g,fn.Z.N.call(this)};function oh(f){Xt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const b in _){f=b;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(oh,Xt);function lh(){jn.call(this),this.status=1}v(lh,jn);function pr(f){this.g=f}v(pr,ah),pr.prototype.ra=function(){zt(this.g,"a")},pr.prototype.qa=function(f){zt(this.g,new oh(f))},pr.prototype.pa=function(f){zt(this.g,new lh)},pr.prototype.oa=function(){zt(this.g,"b")},es.prototype.createWebChannel=es.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,BC=function(){return new es},zC=function(){return to()},jC=Tt,py={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ra.NO_ERROR=0,ra.TIMEOUT=8,ra.HTTP_ERROR=6,Mf=ra,Pl.COMPLETE="complete",UC=Pl,zc.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",Rt.prototype.listen=Rt.prototype.J,Bu=zc,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,LC=Ze}).apply(typeof vf<"u"?vf:typeof self<"u"?self:typeof window<"u"?window:{});const BS="@firebase/firestore",FS="4.9.2";class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");let bl="12.3.0";const Ha=new xd("@firebase/firestore");function Ho(){return Ha.logLevel}function fe(t,...e){if(Ha.logLevel<=Le.DEBUG){const n=e.map(Iv);Ha.debug(`Firestore (${bl}): ${t}`,...n)}}function jr(t,...e){if(Ha.logLevel<=Le.ERROR){const n=e.map(Iv);Ha.error(`Firestore (${bl}): ${t}`,...n)}}function ul(t,...e){if(Ha.logLevel<=Le.WARN){const n=e.map(Iv);Ha.warn(`Firestore (${bl}): ${t}`,...n)}}function Iv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Te(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,FC(t,r,n)}function FC(t,e,n){let r=`FIRESTORE (${bl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw jr(r),new Error(r)}function Ke(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||FC(e,a,r)}function Ce(t,e){return t}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class HC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(on.UNAUTHENTICATED)))}shutdown(){}}class NL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class ML{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let l=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Vr,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Vr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new HC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class PL{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class VL{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new PL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class HS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const r=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new HS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new HS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Nv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=kL(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%62))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function gy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),l=e.charAt(r);if(a!==l)return xg(a)===xg(l)?Ue(a,l):xg(a)?1:-1}return Ue(t.length,e.length)}const LL=55296,UL=57343;function xg(t){const e=t.charCodeAt(0);return e>=LL&&e<=UL}function cl(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}const qS="__name__";class Wi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Wi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=Wi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ue(e.length,n.length)}static compareSegments(e,n){const r=Wi.isNumericId(e),a=Wi.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Wi.extractNumericId(e).compare(Wi.extractNumericId(n)):gy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vs.fromString(e.substring(4,e.length-2))}}class ot extends Wi{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const jL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Wi{construct(e,n,r){return new nn(e,n,r)}static isValidIdentifier(e){return jL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qS}static keyField(){return new nn([qS])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new me(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new me(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(l(),a++)}if(l(),u)throw new me(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ot.fromString(e))}static fromName(e){return new ye(ot.fromString(e).popFirst(5))}static empty(){return new ye(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ot(e.slice()))}}function qC(t,e,n){if(!n)throw new me(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zL(t,e,n,r){if(e===!0&&r===!0)throw new me(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function GS(t){if(!ye.isDocumentKey(t))throw new me(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function YS(t){if(ye.isDocumentKey(t))throw new me(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function GC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Mv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te(12329,{type:typeof t})}function ai(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mv(t);throw new me(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Ut(t,e){const n={typeString:t};return e&&(n.value=e),n}function Cc(t,e){if(!GC(t))throw new me(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(a&&typeof u!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new me(ie.INVALID_ARGUMENT,n);return!0}const KS=-62135596800,XS=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*XS);return new lt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<KS)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/XS}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cc(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-KS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Ut("string",lt._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new lt(0,0))}static max(){return new we(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const cc=-1;function BL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=we.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new Bs(a,ye.empty(),e)}function FL(t){return new Bs(t.readTime,t.key,cc)}class Bs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Bs(we.min(),ye.empty(),cc)}static max(){return new Bs(we.max(),ye.empty(),cc)}}function HL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}const qL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Sl(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==qL)throw t;fe("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,r)=>{n(e)}))}static reject(e){return new ne(((n,r)=>{r(e)}))}static waitFor(e){return new ne(((n,r)=>{let a=0,l=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&n()}),(d=>r(d)))})),u=!0,l===a&&n()}))}static or(e){let n=ne.resolve(!1);for(const r of e)n=n.next((a=>a?ne.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,l)=>{r.push(n.call(this,a,l))})),this.waitFor(r)}static mapArray(e,n){return new ne(((r,a)=>{const l=e.length,u=new Array(l);let h=0;for(let d=0;d<l;d++){const p=d;n(e[p]).next((y=>{u[p]=y,++h,h===l&&r(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new ne(((r,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):r()};l()}))}}function YL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wl(t){return t.name==="IndexedDbTransactionError"}class Dd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Dd.ce=-1;const Pv=-1;function Id(t){return t==null}function Zf(t){return t===0&&1/t==-1/0}function KL(t){return typeof t=="number"&&Number.isInteger(t)&&!Zf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const YC="";function XL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$S(e)),e=$L(t.get(n),e);return $S(e)}function $L(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case YC:n+="";break;default:n+=l}}return n}function $S(t){return t+YC+""}function QS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function KC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class pt{constructor(e,n){this.comparator=e,this.root=n||tn.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _f(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _f(this.root,e,this.comparator,!1)}getReverseIterator(){return new _f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _f(this.root,e,this.comparator,!0)}}class _f{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??tn.RED,this.left=a??tn.EMPTY,this.right=l??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new tn(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return tn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,r,a,l){return this}insert(e,n,r){return new tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new WS(this.data.getIterator())}getIteratorFrom(e){return new WS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class WS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ln{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new Ht(nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class XC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new XC("Invalid base64 string: "+l):l}})(e);return new rn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const QL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(t){if(Ke(!!t,39018),typeof t=="string"){let e=0;const n=QL.exec(t);if(Ke(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(t.seconds),nanos:At(t.nanos)}}function At(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hs(t){return typeof t=="string"?rn.fromBase64String(t):rn.fromUint8Array(t)}const $C="server_timestamp",QC="__type__",WC="__previous_value__",ZC="__local_write_time__";function Vv(t){return(t?.mapValue?.fields||{})[QC]?.stringValue===$C}function Nd(t){const e=t.mapValue.fields[WC];return Vv(e)?Nd(e):e}function hc(t){const e=Fs(t.mapValue.fields[ZC].timestampValue);return new lt(e.seconds,e.nanos)}class WL{constructor(e,n,r,a,l,u,h,d,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=y}}const Jf="(default)";class fc{constructor(e,n){this.projectId=e,this.database=n||Jf}static empty(){return new fc("","")}get isDefaultDatabase(){return this.database===Jf}isEqual(e){return e instanceof fc&&e.projectId===this.projectId&&e.database===this.database}}const JC="__type__",ZL="__max__",Tf={mapValue:{}},eR="__vector__",ed="value";function qs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vv(t)?4:e3(t)?9007199254740991:JL(t)?10:11:Te(28295,{value:t})}function or(t,e){if(t===e)return!0;const n=qs(t);if(n!==qs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hc(t).isEqual(hc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Fs(a.timestampValue),h=Fs(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Hs(a.bytesValue).isEqual(Hs(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return At(a.geoPointValue.latitude)===At(l.geoPointValue.latitude)&&At(a.geoPointValue.longitude)===At(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return At(a.integerValue)===At(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=At(a.doubleValue),h=At(l.doubleValue);return u===h?Zf(u)===Zf(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return cl(t.arrayValue.values||[],e.arrayValue.values||[],or);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(QS(u)!==QS(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!or(u[d],h[d])))return!1;return!0})(t,e);default:return Te(52216,{left:t})}}function dc(t,e){return(t.values||[]).find((n=>or(n,e)))!==void 0}function hl(t,e){if(t===e)return 0;const n=qs(t),r=qs(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=At(l.integerValue||l.doubleValue),d=At(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return ZS(t.timestampValue,e.timestampValue);case 4:return ZS(hc(t),hc(e));case 5:return gy(t.stringValue,e.stringValue);case 6:return(function(l,u){const h=Hs(l),d=Hs(u);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),d=u.split("/");for(let p=0;p<h.length&&p<d.length;p++){const y=Ue(h[p],d[p]);if(y!==0)return y}return Ue(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=Ue(At(l.latitude),At(u.latitude));return h!==0?h:Ue(At(l.longitude),At(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return JS(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const h=l.fields||{},d=u.fields||{},p=h[ed]?.arrayValue,y=d[ed]?.arrayValue,v=Ue(p?.values?.length||0,y?.values?.length||0);return v!==0?v:JS(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Tf.mapValue&&u===Tf.mapValue)return 0;if(l===Tf.mapValue)return 1;if(u===Tf.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),p=u.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const E=gy(d[v],y[v]);if(E!==0)return E;const w=hl(h[d[v]],p[y[v]]);if(w!==0)return w}return Ue(d.length,y.length)})(t.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function ZS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=Fs(t),r=Fs(e),a=Ue(n.seconds,r.seconds);return a!==0?a:Ue(n.nanos,r.nanos)}function JS(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=hl(n[a],r[a]);if(l)return l}return Ue(n.length,r.length)}function fl(t){return yy(t)}function yy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Fs(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Hs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ye.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=yy(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of r)l?l=!1:a+=",",a+=`${u}:${yy(n.fields[u])}`;return a+"}"})(t.mapValue):Te(61005,{value:t})}function Pf(t){switch(qs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nd(t);return e?16+Pf(e):16;case 5:return 2*t.stringValue.length;case 6:return Hs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+Pf(l)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return Qs(r.fields,((l,u)=>{a+=l.length+Pf(u)})),a})(t.mapValue);default:throw Te(13486,{value:t})}}function vy(t){return!!t&&"integerValue"in t}function Ov(t){return!!t&&"arrayValue"in t}function ew(t){return!!t&&"nullValue"in t}function tw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vf(t){return!!t&&"mapValue"in t}function JL(t){return(t?.mapValue?.fields||{})[JC]?.stringValue===eR}function Wu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Qs(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Wu(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wu(t.arrayValue.values[n]);return e}return{...t}}function e3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ZL}class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wu(n)}setAll(e){let n=nn.emptyPath(),r={},a=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=h.popLast()}u?r[h.lastSegment()]=Wu(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());Vf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return or(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Vf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Qs(n,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new An(Wu(this.value))}}function tR(t){const e=[];return Qs(t.fields,((n,r)=>{const a=new nn([n]);if(Vf(r)){const l=tR(r.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Ln(e)}class ln{constructor(e,n,r,a,l,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new ln(e,0,we.min(),we.min(),we.min(),An.empty(),0)}static newFoundDocument(e,n,r,a){return new ln(e,1,n,we.min(),r,a,0)}static newNoDocument(e,n){return new ln(e,2,n,we.min(),we.min(),An.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,we.min(),we.min(),An.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class td{constructor(e,n){this.position=e,this.inclusive=n}}function nw(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?r=ye.comparator(ye.fromName(u.referenceValue),n.key):r=hl(u,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function iw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!or(t.position[n],e.position[n]))return!1;return!0}class nd{constructor(e,n="asc"){this.field=e,this.dir=n}}function t3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class nR{}class Ft extends nR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new i3(e,n,r):n==="array-contains"?new a3(e,r):n==="in"?new o3(e,r):n==="not-in"?new l3(e,r):n==="array-contains-any"?new u3(e,r):new Ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new r3(e,r):new s3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(hl(n,this.value)):n!==null&&qs(this.value)===qs(n)&&this.matchesComparison(hl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lr extends nR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new lr(e,n)}matches(e){return iR(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iR(t){return t.op==="and"}function rR(t){return n3(t)&&iR(t)}function n3(t){for(const e of t.filters)if(e instanceof lr)return!1;return!0}function _y(t){if(t instanceof Ft)return t.field.canonicalString()+t.op.toString()+fl(t.value);if(rR(t))return t.filters.map((e=>_y(e))).join(",");{const e=t.filters.map((n=>_y(n))).join(",");return`${t.op}(${e})`}}function sR(t,e){return t instanceof Ft?(function(r,a){return a instanceof Ft&&r.op===a.op&&r.field.isEqual(a.field)&&or(r.value,a.value)})(t,e):t instanceof lr?(function(r,a){return a instanceof lr&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,u,h)=>l&&sR(u,a.filters[h])),!0):!1})(t,e):void Te(19439)}function aR(t){return t instanceof Ft?(function(n){return`${n.field.canonicalString()} ${n.op} ${fl(n.value)}`})(t):t instanceof lr?(function(n){return n.op.toString()+" {"+n.getFilters().map(aR).join(" ,")+"}"})(t):"Filter"}class i3 extends Ft{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class r3 extends Ft{constructor(e,n){super(e,"in",n),this.keys=oR("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class s3 extends Ft{constructor(e,n){super(e,"not-in",n),this.keys=oR("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function oR(t,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class a3 extends Ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ov(n)&&dc(n.arrayValue,this.value)}}class o3 extends Ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dc(this.value.arrayValue,n)}}class l3 extends Ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!dc(this.value.arrayValue,n)}}class u3 extends Ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ov(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>dc(this.value.arrayValue,r)))}}class c3{constructor(e,n=null,r=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function rw(t,e=null,n=[],r=[],a=null,l=null,u=null){return new c3(t,e,n,r,a,l,u)}function kv(t){const e=Ce(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>_y(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Id(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>fl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>fl(r))).join(",")),e.Te=n}return e.Te}function Lv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!t3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iw(t.startAt,e.startAt)&&iw(t.endAt,e.endAt)}function Ty(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Md{constructor(e,n=null,r=[],a=[],l=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function h3(t,e,n,r,a,l,u,h){return new Md(t,e,n,r,a,l,u,h)}function Pd(t){return new Md(t)}function sw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function f3(t){return t.collectionGroup!==null}function Zu(t){const e=Ce(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Ht(nn.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new nd(l,r))})),n.has(nn.keyField().canonicalString())||e.Ie.push(new nd(nn.keyField(),r))}return e.Ie}function er(t){const e=Ce(t);return e.Ee||(e.Ee=d3(e,Zu(t))),e.Ee}function d3(t,e){if(t.limitType==="F")return rw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new nd(a.field,l)}));const n=t.endAt?new td(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new td(t.startAt.position,t.startAt.inclusive):null;return rw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ey(t,e,n){return new Md(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vd(t,e){return Lv(er(t),er(e))&&t.limitType===e.limitType}function lR(t){return`${kv(er(t))}|lt:${t.limitType}`}function qo(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>aR(a))).join(", ")}]`),Id(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>fl(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>fl(a))).join(",")),`Target(${r})`})(er(t))}; limitType=${t.limitType})`}function Od(t,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):ye.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,a){for(const l of Zu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(u,h,d){const p=nw(u,h,d);return u.inclusive?p<=0:p<0})(r.startAt,Zu(r),a)||r.endAt&&!(function(u,h,d){const p=nw(u,h,d);return u.inclusive?p>=0:p>0})(r.endAt,Zu(r),a))})(t,e)}function m3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uR(t){return(e,n)=>{let r=!1;for(const a of Zu(t)){const l=p3(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function p3(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):(function(l,u,h){const d=u.data.field(l),p=h.data.field(l);return d!==null&&p!==null?hl(d,p):Te(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:t.dir})}}class Za{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,((n,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return KC(this.inner)}size(){return this.innerSize}}const g3=new pt(ye.comparator);function zr(){return g3}const cR=new pt(ye.comparator);function Fu(...t){let e=cR;for(const n of t)e=e.insert(n.key,n);return e}function hR(t){let e=cR;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Oa(){return Ju()}function fR(){return Ju()}function Ju(){return new Za((t=>t.toString()),((t,e)=>t.isEqual(e)))}const y3=new pt(ye.comparator),v3=new Ht(ye.comparator);function je(...t){let e=v3;for(const n of t)e=e.add(n);return e}const _3=new Ht(Ue);function T3(){return _3}function Uv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zf(e)?"-0":e}}function dR(t){return{integerValue:""+t}}function E3(t,e){return KL(e)?dR(e):Uv(t,e)}class kd{constructor(){this._=void 0}}function b3(t,e,n){return t instanceof id?(function(a,l){const u={fields:{[QC]:{stringValue:$C},[ZC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Vv(l)&&(l=Nd(l)),l&&(u.fields[WC]=l),{mapValue:u}})(n,e):t instanceof mc?pR(t,e):t instanceof pc?gR(t,e):(function(a,l){const u=mR(a,l),h=aw(u)+aw(a.Ae);return vy(u)&&vy(a.Ae)?dR(h):Uv(a.serializer,h)})(t,e)}function S3(t,e,n){return t instanceof mc?pR(t,e):t instanceof pc?gR(t,e):n}function mR(t,e){return t instanceof rd?(function(r){return vy(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class id extends kd{}class mc extends kd{constructor(e){super(),this.elements=e}}function pR(t,e){const n=yR(e);for(const r of t.elements)n.some((a=>or(a,r)))||n.push(r);return{arrayValue:{values:n}}}class pc extends kd{constructor(e){super(),this.elements=e}}function gR(t,e){let n=yR(e);for(const r of t.elements)n=n.filter((a=>!or(a,r)));return{arrayValue:{values:n}}}class rd extends kd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function aw(t){return At(t.integerValue||t.doubleValue)}function yR(t){return Ov(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function w3(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof mc&&a instanceof mc||r instanceof pc&&a instanceof pc?cl(r.elements,a.elements,or):r instanceof rd&&a instanceof rd?or(r.Ae,a.Ae):r instanceof id&&a instanceof id})(t.transform,e.transform)}class A3{constructor(e,n){this.version=e,this.transformResults=n}}class wi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Of(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ld{}function vR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jv(t.key,wi.none()):new Rc(t.key,t.data,wi.none());{const n=t.data,r=An.empty();let a=new Ht(nn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?r.delete(l):r.set(l,u),a=a.add(l)}return new Ws(t.key,r,new Ln(a.toArray()),wi.none())}}function C3(t,e,n){t instanceof Rc?(function(a,l,u){const h=a.value.clone(),d=lw(a.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Ws?(function(a,l,u){if(!Of(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=lw(a.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(_R(a)),d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function ec(t,e,n,r){return t instanceof Rc?(function(l,u,h,d){if(!Of(l.precondition,u))return h;const p=l.value.clone(),y=uw(l.fieldTransforms,d,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ws?(function(l,u,h,d){if(!Of(l.precondition,u))return h;const p=uw(l.fieldTransforms,d,u),y=u.data;return y.setAll(_R(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(l,u,h){return Of(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function R3(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=mR(r.transform,a||null);l!=null&&(n===null&&(n=An.empty()),n.set(r.field,l))}return n||null}function ow(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&cl(r,a,((l,u)=>w3(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Rc extends Ld{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ws extends Ld{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function _R(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function lw(t,e,n){const r=new Map;Ke(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,h=e.data.field(l.field);r.set(l.field,S3(u,h,n[a]))}return r}function uw(t,e,n){const r=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);r.set(a.field,b3(l,u,e))}return r}class jv extends Ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class x3 extends Ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class D3{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&C3(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ec(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ec(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fR();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const d=vR(u,h);d!==null&&r.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(we.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),je())}isEqual(e){return this.batchId===e.batchId&&cl(this.mutations,e.mutations,((n,r)=>ow(n,r)))&&cl(this.baseMutations,e.baseMutations,((n,r)=>ow(n,r)))}}class zv{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return y3})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,r[u].version);return new zv(e,n,r,a)}}class I3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class N3{constructor(e,n){this.count=e,this.unchangedNames=n}}var kt,Be;function M3(t){switch(t){case ie.OK:return Te(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Te(15467,{code:t})}}function TR(t){if(t===void 0)return jr("GRPC error has no .code"),ie.UNKNOWN;switch(t){case kt.OK:return ie.OK;case kt.CANCELLED:return ie.CANCELLED;case kt.UNKNOWN:return ie.UNKNOWN;case kt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case kt.INTERNAL:return ie.INTERNAL;case kt.UNAVAILABLE:return ie.UNAVAILABLE;case kt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case kt.NOT_FOUND:return ie.NOT_FOUND;case kt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case kt.ABORTED:return ie.ABORTED;case kt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case kt.DATA_LOSS:return ie.DATA_LOSS;default:return Te(39323,{code:t})}}(Be=kt||(kt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function P3(){return new TextEncoder}const V3=new Vs([4294967295,4294967295],0);function cw(t){const e=P3().encode(t),n=new kC;return n.update(e),new Uint8Array(n.digest())}function hw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Vs([n,r],0),new Vs([a,l],0)]}class Bv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hu(`Invalid padding: ${n}`);if(r<0)throw new Hu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Hu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Vs.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Vs.fromNumber(r)));return a.compare(V3)===1&&(a=new Vs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=cw(e),[r,a]=hw(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);if(!this.we(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Bv(l,a,n);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=cw(e),[r,a]=hw(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ud{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,xc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ud(we.min(),a,new pt(Ue),zr(),je())}}class xc{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xc(r,n,je(),je(),je())}}class kf{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class ER{constructor(e,n){this.targetId=e,this.Ce=n}}class bR{constructor(e,n,r=rn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class fw{constructor(){this.ve=0,this.Fe=dw(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),r=je();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Te(38017,{changeType:l})}})),new xc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=dw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class O3{constructor(e){this.Ge=e,this.ze=new Map,this.je=zr(),this.Je=Ef(),this.He=Ef(),this.Ye=new pt(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Ty(l))if(r===0){const u=new ye(l.path);this.et(n,u,ln.newNoDocument(u,we.min()))}else Ke(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const h=this.ut(e),d=h?this.ct(h,e,u):1;if(d!==0){this.it(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=Hs(r).toUint8Array()}catch(d){if(d instanceof XC)return ul("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Bv(u,a,l)}catch(d){return ul(d instanceof Hu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Ty(h.target)){const d=new ye(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,ln.newNoDocument(d,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let r=je();this.He.forEach(((l,u)=>{let h=!0;u.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Ud(e,n,this.Ye,this.je,r);return this.je=zr(),this.Je=Ef(),this.He=Ef(),this.Ye=new pt(Ue),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new fw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ht(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ht(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new fw),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ef(){return new pt(ye.comparator)}function dw(){return new pt(ye.comparator)}const k3={asc:"ASCENDING",desc:"DESCENDING"},L3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},U3={and:"AND",or:"OR"};class j3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function by(t,e){return t.useProto3Json||Id(e)?e:{value:e}}function sd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function z3(t,e){return sd(t,e.toTimestamp())}function tr(t){return Ke(!!t,49232),we.fromTimestamp((function(n){const r=Fs(n);return new lt(r.seconds,r.nanos)})(t))}function Fv(t,e){return Sy(t,e).canonicalString()}function Sy(t,e){const n=(function(a){return new ot(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function wR(t){const e=ot.fromString(t);return Ke(DR(e),10190,{key:e.toString()}),e}function wy(t,e){return Fv(t.databaseId,e.path)}function Dg(t,e){const n=wR(e);if(n.get(1)!==t.databaseId.projectId)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(CR(n))}function AR(t,e){return Fv(t.databaseId,e)}function B3(t){const e=wR(t);return e.length===4?ot.emptyPath():CR(e)}function Ay(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CR(t){return Ke(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function mw(t,e,n){return{name:wy(t,e),fields:n.value.mapValue.fields}}function F3(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(Ke(y===void 0||typeof y=="string",58123),rn.fromBase64String(y||"")):(Ke(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),rn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const y=p.code===void 0?ie.UNKNOWN:TR(p.code);return new me(y,p.message||"")})(u);n=new bR(r,a,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Dg(t,r.document.name),l=tr(r.document.updateTime),u=r.document.createTime?tr(r.document.createTime):we.min(),h=new An({mapValue:{fields:r.document.fields}}),d=ln.newFoundDocument(a,l,u,h),p=r.targetIds||[],y=r.removedTargetIds||[];n=new kf(p,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Dg(t,r.document),l=r.readTime?tr(r.readTime):we.min(),u=ln.newNoDocument(a,l),h=r.removedTargetIds||[];n=new kf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Dg(t,r.document),l=r.removedTargetIds||[];n=new kf([],l,a,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,u=new N3(a,l),h=r.targetId;n=new ER(h,u)}}return n}function H3(t,e){let n;if(e instanceof Rc)n={update:mw(t,e.key,e.value)};else if(e instanceof jv)n={delete:wy(t,e.key)};else if(e instanceof Ws)n={update:mw(t,e.key,e.data),updateMask:Z3(e.fieldMask)};else{if(!(e instanceof x3))return Te(16599,{Vt:e.type});n={verify:wy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,u){const h=u.transform;if(h instanceof id)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof mc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof pc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof rd)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Te(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:z3(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te(27497)})(t,e.precondition)),n}function q3(t,e){return t&&t.length>0?(Ke(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?tr(a.updateTime):tr(l);return u.isEqual(we.min())&&(u=tr(l)),new A3(u,a.transformResults||[])})(n,e)))):[]}function G3(t,e){return{documents:[AR(t,e.path)]}}function Y3(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AR(t,a);const l=(function(p){if(p.length!==0)return xR(lr.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(E){return{field:Go(E.field),direction:$3(E.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=by(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function K3(t){let e=B3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Ke(r===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const E=RR(v);return E instanceof lr&&rR(E)?E.getFilters():[E]})(n.where));let u=[];n.orderBy&&(u=(function(v){return v.map((E=>(function(D){return new nd(Yo(D.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(E)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let E;return E=typeof v=="object"?v.value:v,Id(E)?null:E})(n.limit));let d=null;n.startAt&&(d=(function(v){const E=!!v.before,w=v.values||[];return new td(w,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const E=!v.before,w=v.values||[];return new td(w,E)})(n.endAt)),h3(e,a,u,l,h,"F",d,p)}function X3(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RR(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Yo(n.unaryFilter.field);return Ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Yo(n.unaryFilter.field);return Ft.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Yo(n.unaryFilter.field);return Ft.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Yo(n.unaryFilter.field);return Ft.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ft.create(Yo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return lr.create(n.compositeFilter.filters.map((r=>RR(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(t):Te(30097,{filter:t})}function $3(t){return k3[t]}function Q3(t){return L3[t]}function W3(t){return U3[t]}function Go(t){return{fieldPath:t.canonicalString()}}function Yo(t){return nn.fromServerFormat(t.fieldPath)}function xR(t){return t instanceof Ft?(function(n){if(n.op==="=="){if(tw(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NAN"}};if(ew(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tw(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NOT_NAN"}};if(ew(n.value))return{unaryFilter:{field:Go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Go(n.field),op:Q3(n.op),value:n.value}}})(t):t instanceof lr?(function(n){const r=n.getFilters().map((a=>xR(a)));return r.length===1?r[0]:{compositeFilter:{op:W3(n.op),filters:r}}})(t):Te(54877,{filter:t})}function Z3(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function DR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Is{constructor(e,n,r,a,l=we.min(),u=we.min(),h=rn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class J3{constructor(e){this.yt=e}}function e6(t){const e=K3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ey(e,e.limit,"L"):e}class t6{constructor(){this.Cn=new n6}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Bs.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Bs.min())}updateCollectionGroup(e,n,r){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class n6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Ht(ot.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Ht(ot.comparator)).toArray()}}const pw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IR=41943040;class Sn{static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(IR,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class dl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new dl(0)}static cr(){return new dl(-1)}}const gw="LruGarbageCollector",i6=1048576;function yw([t,e],[n,r]){const a=Ue(t,n);return a===0?Ue(e,r):a}class r6{constructor(e){this.Ir=e,this.buffer=new Ht(yw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();yw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class s6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(gw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wl(n)?fe(gw,"Ignoring IndexedDB error during garbage collection: ",n):await Sl(n)}await this.Vr(3e5)}))}}class a6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Dd.ce);const r=new r6(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(pw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pw):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,l,u,h,d,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(r=v,h=Date.now(),this.removeTargets(e,r,n)))).next((v=>(l=v,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(p=Date.now(),Ho()<=Le.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-y}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function o6(t,e){return new a6(t,e)}class l6{constructor(){this.changes=new Za((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ne.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class u6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class c6{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&ec(r.mutation,a,Ln.empty(),lt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,je()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=je()){const a=Oa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((l=>{let u=Fu();return l.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=Oa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,je())))}populateOverlays(e,n,r){const a=[];return r.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,r,a){let l=zr();const u=Ju(),h=(function(){return Ju()})();return n.forEach(((d,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Ws)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),ec(y.mutation,p,y.mutation.getFieldMask(),lt.now())):u.set(p.key,Ln.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((p,y)=>u.set(p,y))),n.forEach(((p,y)=>h.set(p,new u6(y,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=Ju();let a=new pt(((u,h)=>u-h)),l=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let y=r.get(d)||Ln.empty();y=h.applyToLocalView(p,y),r.set(d,y);const v=(a.get(h.batchId)||je()).add(d);a=a.insert(h.batchId,v)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,y=d.value,v=fR();y.forEach((E=>{if(!l.has(E)){const w=vR(n.get(E),r.get(E));w!==null&&v.set(E,w),l=l.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return ne.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):f3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):ne.resolve(Oa());let h=cc,d=l;return u.next((p=>ne.forEach(p,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?ne.resolve():this.remoteDocumentCache.getEntry(e,y).next((E=>{d=d.insert(y,E)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,d,p,je()))).next((y=>({batchId:h,changes:hR(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((r=>{let a=Fu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let u=Fu();return this.indexManager.getCollectionParents(e,l).next((h=>ne.forEach(h,(d=>{const p=(function(v,E){return new Md(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((y=>{y.forEach(((v,E)=>{u=u.insert(v,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a)))).next((u=>{l.forEach(((d,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,ln.newInvalidDocument(y)))}));let h=Fu();return u.forEach(((d,p)=>{const y=l.get(d);y!==void 0&&ec(y.mutation,p,Ln.empty(),lt.now()),Od(n,p)&&(h=h.insert(d,p))})),h}))}}class h6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:tr(a.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:e6(a.bundledQuery),readTime:tr(a.readTime)}})(n)),ne.resolve()}}class f6{constructor(){this.overlays=new pt(ye.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Oa();return ne.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,l)=>{this.St(e,n,l)})),ne.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),ne.resolve()}getOverlaysForCollection(e,n,r){const a=Oa(),l=n.length+1,u=new ye(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>r&&a.set(d.getKey(),d)}return ne.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new pt(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=Oa(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=Oa(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=a)););return ne.resolve(h)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new I3(n,r));let l=this.qr.get(n);l===void 0&&(l=je(),this.qr.set(n,l)),this.qr.set(n,l.add(r.key))}}class d6{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class Hv{constructor(){this.Qr=new Ht(Kt.$r),this.Ur=new Ht(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Kt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Kt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ye(new ot([])),r=new Kt(n,e),a=new Kt(n,e+1),l=[];return this.Ur.forEachInRange([r,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new ot([])),r=new Kt(n,e),a=new Kt(n,e+1);let l=je();return this.Ur.forEachInRange([r,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new Kt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class m6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ht(Kt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new D3(l,n,r,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new Kt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ne.resolve(u)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),l=a<0?0:a;return ne.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Pv:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kt(n,0),a=new Kt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(u=>{const h=this.Xr(u.Yr);l.push(h)})),ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ht(Ue);return n.forEach((a=>{const l=new Kt(a,0),u=new Kt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(h=>{r=r.add(h.Yr)}))})),ne.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;ye.isDocumentKey(l)||(l=l.child(""));const u=new Kt(new ye(l),0);let h=new Ht(Ue);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Yr)),!0)}),u),ne.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ne.forEach(n.mutations,(a=>{const l=new Kt(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Kt(n,0),a=this.Zr.firstAfterOrEqual(r);return ne.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class p6{constructor(e){this.ri=e,this.docs=(function(){return new pt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ne.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let r=zr();return n.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():ln.newInvalidDocument(a))})),ne.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=zr();const u=n.path,h=new ye(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||HL(FL(y),r)<=0||(a.has(y.key)||Od(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ne.resolve(l)}getAllFromCollectionGroup(e,n,r,a){Te(9500)}ii(e,n){return ne.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new g6(this)}getSize(e){return ne.resolve(this.size)}}class g6 extends l6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class y6{constructor(e){this.persistence=e,this.si=new Za((n=>kv(n)),Lv),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Hv,this.targetCount=0,this.ai=dl.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new dl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),ne.waitFor(l).next((()=>a))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ne.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ne.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),ne.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ne.resolve(r)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}class NR{constructor(e,n){this.ui={},this.overlays={},this.ci=new Dd(0),this.li=!1,this.li=!0,this.hi=new d6,this.referenceDelegate=e(this),this.Pi=new y6(this),this.indexManager=new t6,this.remoteDocumentCache=(function(a){return new p6(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new J3(n),this.Ii=new h6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new f6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new m6(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const a=new v6(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return ne.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class v6 extends GL{constructor(e){super(),this.currentSequenceNumber=e}}class qv{constructor(e){this.persistence=e,this.Ri=new Hv,this.Vi=null}static mi(e){return new qv(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ne.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(r=>{const a=ye.fromPath(r);return this.gi(e,a).next((l=>{l||n.removeEntry(a,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ad{constructor(e,n){this.persistence=e,this.pi=new Za((r=>XL(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=o6(this,n)}static mi(e,n){return new ad(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((r,a)=>this.br(e,r,a).next((l=>l?ne.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((h=>{h||(r++,l.removeEntry(u,we.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Pf(e.data.value)),n}br(e,n,r){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ne.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Gv{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=je(),a=je();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Gv(e,n.fromCache,r,a)}}class _6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class T6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return l4()?8:YL(cn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,r).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new _6;return this.Ss(e,n,u).next((h=>{if(l.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>l.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(Ho()<=Le.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",qo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Ho()<=Le.DEBUG&&fe("QueryEngine","Query:",qo(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(Ho()<=Le.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",qo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,er(n))):ne.resolve())}ys(e,n){if(sw(n))return ne.resolve(null);let r=er(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Ey(n,null,"F"),r=er(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const u=je(...l);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((d=>{const p=this.Ds(n,h);return this.Cs(n,p,u,d.readTime)?this.ys(e,Ey(n,null,"F")):this.vs(e,p,n,d)}))))})))))}ws(e,n,r,a){return sw(n)||a.isEqual(we.min())?ne.resolve(null):this.ps.getDocuments(e,r).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,r,a)?ne.resolve(null):(Ho()<=Le.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),qo(n)),this.vs(e,u,n,BL(a,cc)).next((h=>h)))}))}Ds(e,n){let r=new Ht(uR(e));return n.forEach(((a,l)=>{Od(e,l)&&(r=r.add(l))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,r){return Ho()<=Le.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",qo(n)),this.ps.getDocumentsMatchingQuery(e,n,Bs.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const Yv="LocalStore",E6=3e8;class b6{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new pt(Ue),this.xs=new Za((l=>kv(l)),Lv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new c6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function S6(t,e,n,r){return new b6(t,e,n,r)}async function MR(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const u=[],h=[];let d=je();for(const p of a){u.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(r,d).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function w6(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,p,y){const v=p.batch,E=v.keys();let w=ne.resolve();return E.forEach((D=>{w=w.next((()=>y.getEntry(d,D))).next((M=>{const N=p.docVersions.get(D);Ke(N!==null,48541),M.version.compareTo(N)<0&&(v.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),y.addEntry(M)))}))})),w.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=je();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function PR(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function A6(t,e){const n=Ce(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((y,v)=>{const E=a.get(v);if(!E)return;h.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,v))));let w=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?w=w.withResumeToken(rn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,r)),a=a.insert(v,w),(function(M,N,U){return M.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=E6?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(E,w,y)&&h.push(n.Pi.updateTargetData(l,w))}));let d=zr(),p=je();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(C6(l,u,e.documentUpdates).next((y=>{d=y.ks,p=y.qs}))),!r.isEqual(we.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((v=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));h.push(y)}return ne.waitFor(h).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,p))).next((()=>d))})).then((l=>(n.Ms=a,l)))}function C6(t,e,n){let r=je(),a=je();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let u=zr();return n.forEach(((h,d)=>{const p=l.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(we.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):fe(Yv,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)})),{ks:u,qs:a}}))}function R6(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Pv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function x6(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((l=>l?(a=l,ne.resolve(a)):n.Pi.allocateTargetId(r).next((u=>(a=new Is(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Cy(t,e,n){const r=Ce(t),a=r.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!wl(u))throw u;fe(Yv,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function vw(t,e,n){const r=Ce(t);let a=we.min(),l=je();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,p,y){const v=Ce(d),E=v.xs.get(y);return E!==void 0?ne.resolve(v.Ms.get(E)):v.Pi.getTargetData(p,y)})(r,u,er(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((d=>{l=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,n?a:we.min(),n?l:je()))).next((h=>(D6(r,m3(e),h),{documents:h,Qs:l})))))}function D6(t,e,n){let r=t.Os.get(e)||we.min();n.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.Os.set(e,r)}class _w{constructor(){this.activeTargetIds=T3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class I6{constructor(){this.Mo=new _w,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _w,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class N6{Oo(e){}shutdown(){}}const Tw="ConnectivityMonitor";class Ew{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(Tw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(Tw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let bf=null;function Ry(){return bf===null?bf=(function(){return 268435456+Math.round(2147483648*Math.random())})():bf++,"0x"+bf.toString(16)}const Ig="RestConnection",M6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class P6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Jf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,l){const u=Ry(),h=this.zo(e,n.toUriEncodedString());fe(Ig,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,l);const{host:p}=new URL(h),y=Tl(p);return this.Jo(e,h,d,r,y).then((v=>(fe(Ig,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw ul(Ig,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",r),v}))}Ho(e,n,r,a,l,u){return this.Go(e,n,r,a,l)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const r=M6[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class V6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const an="WebChannelConnection";class O6 extends P6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,l){const u=Ry();return new Promise(((h,d)=>{const p=new LC;p.setWithCredentials(!0),p.listenOnce(UC.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Mf.NO_ERROR:const v=p.getResponseJson();fe(an,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case Mf.TIMEOUT:fe(an,`RPC '${e}' ${u} timed out`),d(new me(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Mf.HTTP_ERROR:const E=p.getStatus();if(fe(an,`RPC '${e}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const D=w?.error;if(D&&D.status&&D.message){const M=(function(U){const B=U.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(B)>=0?B:ie.UNKNOWN})(D.status);d(new me(M,D.message))}else d(new me(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new me(ie.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{fe(an,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);fe(an,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",y,r,15)}))}T_(e,n,r){const a=Ry(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=BC(),h=zC(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const y=l.join("");fe(an,`Creating RPC '${e}' stream ${a}: ${y}`,d);const v=u.createWebChannel(y,d);this.I_(v);let E=!1,w=!1;const D=new V6({Yo:N=>{w?fe(an,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(E||(fe(an,`Opening RPC '${e}' stream ${a} transport.`),v.open(),E=!0),fe(an,`RPC '${e}' stream ${a} sending:`,N),v.send(N))},Zo:()=>v.close()}),M=(N,U,B)=>{N.listen(U,(F=>{try{B(F)}catch(se){setTimeout((()=>{throw se}),0)}}))};return M(v,Bu.EventType.OPEN,(()=>{w||(fe(an,`RPC '${e}' stream ${a} transport opened.`),D.o_())})),M(v,Bu.EventType.CLOSE,(()=>{w||(w=!0,fe(an,`RPC '${e}' stream ${a} transport closed`),D.a_(),this.E_(v))})),M(v,Bu.EventType.ERROR,(N=>{w||(w=!0,ul(an,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),D.a_(new me(ie.UNAVAILABLE,"The operation could not be completed")))})),M(v,Bu.EventType.MESSAGE,(N=>{if(!w){const U=N.data[0];Ke(!!U,16349);const B=U,F=B?.error||B[0]?.error;if(F){fe(an,`RPC '${e}' stream ${a} received error:`,F);const se=F.status;let re=(function(A){const x=kt[A];if(x!==void 0)return TR(x)})(se),oe=F.message;re===void 0&&(re=ie.INTERNAL,oe="Unknown error status: "+se+" with message "+F.message),w=!0,D.a_(new me(re,oe)),v.close()}else fe(an,`RPC '${e}' stream ${a} received:`,U),D.u_(U)}})),M(h,jC.STAT_EVENT,(N=>{N.stat===py.PROXY?fe(an,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===py.NOPROXY&&fe(an,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Ng(){return typeof document<"u"?document:null}function jd(t){return new j3(t,!0)}class VR{constructor(e,n,r=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const bw="PersistentStream";class OR{constructor(e,n,r,a,l,u,h,d){this.Mi=e,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new VR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(jr(n.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new me(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(bw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(bw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class k6 extends OR{constructor(e,n,r,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=F3(this.serializer,e),r=(function(l){if(!("targetChange"in l))return we.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?we.min():u.readTime?tr(u.readTime):we.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Ay(this.serializer),n.addTarget=(function(l,u){let h;const d=u.target;if(h=Ty(d)?{documents:G3(l,d)}:{query:Y3(l,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=SR(l,u.resumeToken);const p=by(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(we.min())>0){h.readTime=sd(l,u.snapshotVersion.toTimestamp());const p=by(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=X3(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Ay(this.serializer),n.removeTarget=e,this.q_(n)}}class L6 extends OR{constructor(e,n,r,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=q3(e.writeResults,e.commitTime),r=tr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ay(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>H3(this.serializer,r)))};this.q_(n)}}class U6{}class j6 extends U6{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Sy(n,r),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(ie.UNKNOWN,l.toString())}))}Ho(e,n,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,Sy(n,r),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(ie.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class z6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(jr(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qa="RemoteStore";class B6{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Ja(this)&&(fe(qa,"Restarting streams for network reachability change."),await(async function(d){const p=Ce(d);p.Ea.add(4),await Dc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await zd(p)})(this))}))})),this.Ra=new z6(r,a)}}async function zd(t){if(Ja(t))for(const e of t.da)await e(!0)}async function Dc(t){for(const e of t.da)await e(!1)}function kR(t,e){const n=Ce(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Qv(n)?$v(n):Al(n).O_()&&Xv(n,e))}function Kv(t,e){const n=Ce(t),r=Al(n);n.Ia.delete(e),r.O_()&&LR(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ja(n)&&n.Ra.set("Unknown"))}function Xv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Al(t).Y_(e)}function LR(t,e){t.Va.Ue(e),Al(t).Z_(e)}function $v(t){t.Va=new O3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Al(t).start(),t.Ra.ua()}function Qv(t){return Ja(t)&&!Al(t).x_()&&t.Ia.size>0}function Ja(t){return Ce(t).Ea.size===0}function UR(t){t.Va=void 0}async function F6(t){t.Ra.set("Online")}async function H6(t){t.Ia.forEach(((e,n)=>{Xv(t,e)}))}async function q6(t,e){UR(t),Qv(t)?(t.Ra.ha(e),$v(t)):t.Ra.set("Unknown")}async function G6(t,e,n){if(t.Ra.set("Online"),e instanceof bR&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(r){fe(qa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await od(t,r)}else if(e instanceof kf?t.Va.Ze(e):e instanceof ER?t.Va.st(e):t.Va.tt(e),!n.isEqual(we.min()))try{const r=await PR(t.localStore);n.compareTo(r)>=0&&await(function(l,u){const h=l.Va.Tt(u);return h.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,p)=>{const y=l.Ia.get(d);if(!y)return;l.Ia.set(d,y.withResumeToken(rn.EMPTY_BYTE_STRING,y.snapshotVersion)),LR(l,d);const v=new Is(y.target,d,p,y.sequenceNumber);Xv(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){fe(qa,"Failed to raise snapshot:",r),await od(t,r)}}async function od(t,e,n){if(!wl(e))throw e;t.Ea.add(1),await Dc(t),t.Ra.set("Offline"),n||(n=()=>PR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{fe(qa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await zd(t)}))}function jR(t,e){return e().catch((n=>od(t,n,e)))}async function Bd(t){const e=Ce(t),n=Gs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Pv;for(;Y6(e);)try{const a=await R6(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,K6(e,a)}catch(a){await od(e,a)}zR(e)&&BR(e)}function Y6(t){return Ja(t)&&t.Ta.length<10}function K6(t,e){t.Ta.push(e);const n=Gs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function zR(t){return Ja(t)&&!Gs(t).x_()&&t.Ta.length>0}function BR(t){Gs(t).start()}async function X6(t){Gs(t).ra()}async function $6(t){const e=Gs(t);for(const n of t.Ta)e.ea(n.mutations)}async function Q6(t,e,n){const r=t.Ta.shift(),a=zv.from(r,e,n);await jR(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Bd(t)}async function W6(t,e){e&&Gs(t).X_&&await(async function(r,a){if((function(u){return M3(u)&&u!==ie.ABORTED})(a.code)){const l=r.Ta.shift();Gs(r).B_(),await jR(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Bd(r)}})(t,e),zR(t)&&BR(t)}async function Sw(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),fe(qa,"RemoteStore received new credentials");const r=Ja(n);n.Ea.add(3),await Dc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await zd(n)}async function Z6(t,e){const n=Ce(t);e?(n.Ea.delete(2),await zd(n)):e||(n.Ea.add(2),await Dc(n),n.Ra.set("Unknown"))}function Al(t){return t.ma||(t.ma=(function(n,r,a){const l=Ce(n);return l.sa(),new k6(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:F6.bind(null,t),t_:H6.bind(null,t),r_:q6.bind(null,t),H_:G6.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Qv(t)?$v(t):t.Ra.set("Unknown")):(await t.ma.stop(),UR(t))}))),t.ma}function Gs(t){return t.fa||(t.fa=(function(n,r,a){const l=Ce(n);return l.sa(),new L6(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:X6.bind(null,t),r_:W6.bind(null,t),ta:$6.bind(null,t),na:Q6.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Bd(t)):(await t.fa.stop(),t.Ta.length>0&&(fe(qa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class Wv{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const u=Date.now()+r,h=new Wv(e,n,u,a,l);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zv(t,e){if(jr("AsyncQueue",`${e}: ${t}`),wl(t))return new me(ie.UNAVAILABLE,`${e}: ${t}`);throw t}class nl{static emptySet(e){return new nl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=Fu(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class ww{constructor(){this.ga=new pt(ye.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class ml{constructor(e,n,r,a,l,u,h,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,a,l){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new ml(e,n,nl.emptySet(n),u,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class J6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class e5{constructor(){this.queries=Aw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Ce(n),l=a.queries;a.queries=Aw(),l.forEach(((u,h)=>{for(const d of h.Sa)d.onError(r)}))})(this,new me(ie.ABORTED,"Firestore shutting down"))}}function Aw(){return new Za((t=>lR(t)),Vd)}async function Jv(t,e){const n=Ce(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(r=2):(l=new J6,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=Zv(u,`Initialization of query '${qo(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&t0(n)}async function e0(t,e){const n=Ce(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function t5(t,e){const n=Ce(t);let r=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.Sa)h.Fa(a)&&(r=!0);u.wa=a}}r&&t0(n)}function n5(t,e,n){const r=Ce(t),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);r.queries.delete(e)}function t0(t){t.Ca.forEach((e=>{e.next()}))}var xy,Cw;(Cw=xy||(xy={})).Ma="default",Cw.Cache="cache";class n0{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new ml(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xy.Cache}}class FR{constructor(e){this.key=e}}class HR{constructor(e){this.key=e}}class i5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=uR(e),this.tu=new nl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new ww,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const E=a.get(y),w=Od(this.query,v)?v:null,D=!!E&&this.mutatedKeys.has(E.key),M=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let N=!1;E&&w?E.data.isEqual(w.data)?D!==M&&(r.track({type:3,doc:w}),N=!0):this.su(E,w)||(r.track({type:2,doc:w}),N=!0,(d&&this.eu(w,d)>0||p&&this.eu(w,p)<0)&&(h=!0)):!E&&w?(r.track({type:0,doc:w}),N=!0):E&&!w&&(r.track({type:1,doc:E}),N=!0,(d||p)&&(h=!0)),N&&(w?(u=u.add(w),l=M?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{tu:u,iu:r,Cs:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(w,D){const M=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:N})}};return M(w)-M(D)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(r),a=a??!1;const h=n&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,p=d!==this.Za;return this.Za=d,u.length!==0||p?{snapshot:new ml(this.query,e.tu,l,u,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ww,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new HR(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new FR(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ml.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const i0="SyncEngine";class r5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class s5{constructor(e){this.key=e,this.hu=!1}}class a5{constructor(e,n,r,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Za((h=>lR(h)),Vd),this.Iu=new Map,this.Eu=new Set,this.du=new pt(ye.comparator),this.Au=new Map,this.Ru=new Hv,this.Vu={},this.mu=new Map,this.fu=dl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function o5(t,e,n=!0){const r=$R(t);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await qR(r,e,n,!0),a}async function l5(t,e){const n=$R(t);await qR(n,e,!0,!1)}async function qR(t,e,n,r){const a=await x6(t.localStore,er(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return r&&(h=await u5(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&kR(t.remoteStore,a),h}async function u5(t,e,n,r,a){t.pu=(v,E,w)=>(async function(M,N,U,B){let F=N.view.ru(U);F.Cs&&(F=await vw(M.localStore,N.query,!1).then((({documents:I})=>N.view.ru(I,F))));const se=B&&B.targetChanges.get(N.targetId),re=B&&B.targetMismatches.get(N.targetId)!=null,oe=N.view.applyChanges(F,M.isPrimaryClient,se,re);return xw(M,N.targetId,oe.au),oe.snapshot})(t,v,E,w);const l=await vw(t.localStore,e,!0),u=new i5(e,l.Qs),h=u.ru(l.documents),d=xc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),p=u.applyChanges(h,t.isPrimaryClient,d);xw(t,n,p.au);const y=new r5(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function c5(t,e,n){const r=Ce(t),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((u=>!Vd(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Cy(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Kv(r.remoteStore,a.targetId),Dy(r,a.targetId)})).catch(Sl)):(Dy(r,a.targetId),await Cy(r.localStore,a.targetId,!0))}async function h5(t,e){const n=Ce(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Kv(n.remoteStore,r.targetId))}async function f5(t,e,n){const r=_5(t);try{const a=await(function(u,h){const d=Ce(u),p=lt.now(),y=h.reduce(((w,D)=>w.add(D.key)),je());let v,E;return d.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let D=zr(),M=je();return d.Ns.getEntries(w,y).next((N=>{D=N,D.forEach(((U,B)=>{B.isValidDocument()||(M=M.add(U))}))})).next((()=>d.localDocuments.getOverlayedDocuments(w,D))).next((N=>{v=N;const U=[];for(const B of h){const F=R3(B,v.get(B.key).overlayedDocument);F!=null&&U.push(new Ws(B.key,F,tR(F.value.mapValue),wi.exists(!0)))}return d.mutationQueue.addMutationBatch(w,p,U,h)})).next((N=>{E=N;const U=N.applyToLocalDocumentSet(v,M);return d.documentOverlayCache.saveOverlays(w,N.batchId,U)}))})).then((()=>({batchId:E.batchId,changes:hR(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,h,d){let p=u.Vu[u.currentUser.toKey()];p||(p=new pt(Ue)),p=p.insert(h,d),u.Vu[u.currentUser.toKey()]=p})(r,a.batchId,n),await Ic(r,a.changes),await Bd(r.remoteStore)}catch(a){const l=Zv(a,"Failed to persist write");n.reject(l)}}async function GR(t,e){const n=Ce(t);try{const r=await A6(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(Ke(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Ke(u.hu,14607):a.removedDocuments.size>0&&(Ke(u.hu,42227),u.hu=!1))})),await Ic(n,r,e)}catch(r){await Sl(r)}}function Rw(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const d=Ce(u);d.onlineState=h;let p=!1;d.queries.forEach(((y,v)=>{for(const E of v.Sa)E.va(h)&&(p=!0)})),p&&t0(d)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function d5(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),l=a&&a.key;if(l){let u=new pt(ye.comparator);u=u.insert(l,ln.newNoDocument(l,we.min()));const h=je().add(l),d=new Ud(we.min(),new Map,new pt(Ue),u,h);await GR(r,d),r.du=r.du.remove(l),r.Au.delete(e),r0(r)}else await Cy(r.localStore,e,!1).then((()=>Dy(r,e,n))).catch(Sl)}async function m5(t,e){const n=Ce(t),r=e.batch.batchId;try{const a=await w6(n.localStore,e);KR(n,r,null),YR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ic(n,a)}catch(a){await Sl(a)}}async function p5(t,e,n){const r=Ce(t);try{const a=await(function(u,h){const d=Ce(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return d.mutationQueue.lookupMutationBatch(p,h).next((v=>(Ke(v!==null,37113),y=v.keys(),d.mutationQueue.removeMutationBatch(p,v)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>d.localDocuments.getDocuments(p,y)))}))})(r.localStore,e);KR(r,e,n),YR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ic(r,a)}catch(a){await Sl(a)}}function YR(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function KR(t,e,n){const r=Ce(t);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function Dy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||XR(t,r)}))}function XR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Kv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),r0(t))}function xw(t,e,n){for(const r of n)r instanceof FR?(t.Ru.addReference(r.key,e),g5(t,r)):r instanceof HR?(fe(i0,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||XR(t,r.key)):Te(19791,{wu:r})}function g5(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(fe(i0,"New document in limbo: "+n),t.Eu.add(r),r0(t))}function r0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(ot.fromString(e)),r=t.fu.next();t.Au.set(r,new s5(n)),t.du=t.du.insert(n,r),kR(t.remoteStore,new Is(er(Pd(n.path)),r,"TargetPurposeLimboResolution",Dd.ce))}}async function Ic(t,e,n){const r=Ce(t),a=[],l=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{u.push(r.pu(d,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){a.push(p);const y=Gv.As(d.targetId,p);l.push(y)}})))})),await Promise.all(u),r.Pu.H_(a),await(async function(d,p){const y=Ce(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ne.forEach(p,(E=>ne.forEach(E.Es,(w=>y.persistence.referenceDelegate.addReference(v,E.targetId,w))).next((()=>ne.forEach(E.ds,(w=>y.persistence.referenceDelegate.removeReference(v,E.targetId,w)))))))))}catch(v){if(!wl(v))throw v;fe(Yv,"Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const w=y.Ms.get(E),D=w.snapshotVersion,M=w.withLastLimboFreeSnapshotVersion(D);y.Ms=y.Ms.insert(E,M)}}})(r.localStore,l))}async function y5(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){fe(i0,"User change. New user:",e.toKey());const r=await MR(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new me(ie.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ic(n,r.Ls)}}function v5(t,e){const n=Ce(t),r=n.Au.get(e);if(r&&r.hu)return je().add(r.key);{let a=je();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function $R(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=GR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=v5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d5.bind(null,e),e.Pu.H_=t5.bind(null,e.eventManager),e.Pu.yu=n5.bind(null,e.eventManager),e}function _5(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=m5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p5.bind(null,e),e}class ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return S6(this.persistence,new T6,e.initialUser,this.serializer)}Cu(e){return new NR(qv.mi,this.serializer)}Du(e){return new I6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ld.provider={build:()=>new ld};class T5 extends ld{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof ad,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new s6(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new NR((r=>ad.mi(r,n)),this.serializer)}}class Iy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Rw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=y5.bind(null,this.syncEngine),await Z6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new e5})()}createDatastore(e){const n=jd(e.databaseInfo.databaseId),r=(function(l){return new O6(l)})(e.databaseInfo);return(function(l,u,h,d){return new j6(l,u,h,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,l,u,h){return new B6(r,a,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>Rw(this.syncEngine,n,0)),(function(){return Ew.v()?new Ew:new N6})())}createSyncEngine(e,n){return(function(a,l,u,h,d,p,y){const v=new a5(a,l,u,h,d,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ce(n);fe(qa,"RemoteStore shutting down."),r.Ea.add(5),await Dc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Iy.provider={build:()=>new Iy};class s0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ys="FirestoreClient";class E5{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=on.UNAUTHENTICATED,this.clientId=Nv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async u=>{fe(Ys,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(fe(Ys,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Zv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Mg(t,e){t.asyncQueue.verifyOperationInProgress(),fe(Ys,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await MR(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Dw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await b5(t);fe(Ys,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>Sw(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>Sw(e.remoteStore,a))),t._onlineComponents=e}async function b5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(Ys,"Using user provided OfflineComponentProvider");try{await Mg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;ul("Error using user provided cache. Falling back to memory cache: "+n),await Mg(t,new ld)}}else fe(Ys,"Using default OfflineComponentProvider"),await Mg(t,new T5(void 0));return t._offlineComponents}async function QR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(Ys,"Using user provided OnlineComponentProvider"),await Dw(t,t._uninitializedComponentsProvider._online)):(fe(Ys,"Using default OnlineComponentProvider"),await Dw(t,new Iy))),t._onlineComponents}function S5(t){return QR(t).then((e=>e.syncEngine))}async function ud(t){const e=await QR(t),n=e.eventManager;return n.onListen=o5.bind(null,e.syncEngine),n.onUnlisten=c5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=l5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=h5.bind(null,e.syncEngine),n}function w5(t,e,n={}){const r=new Vr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,p){const y=new s0({next:E=>{y.Nu(),u.enqueueAndForget((()=>e0(l,v)));const w=E.docs.has(h);!w&&E.fromCache?p.reject(new me(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&E.fromCache&&d&&d.source==="server"?p.reject(new me(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new n0(Pd(h.path),y,{includeMetadataChanges:!0,qa:!0});return Jv(l,v)})(await ud(t),t.asyncQueue,e,n,r))),r.promise}function A5(t,e,n={}){const r=new Vr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,p){const y=new s0({next:E=>{y.Nu(),u.enqueueAndForget((()=>e0(l,v))),E.fromCache&&d.source==="server"?p.reject(new me(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new n0(h,y,{includeMetadataChanges:!0,qa:!0});return Jv(l,v)})(await ud(t),t.asyncQueue,e,n,r))),r.promise}function WR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Iw=new Map;const ZR="firestore.googleapis.com",Nw=!0;class Mw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZR,this.ssl=Nw}else this.host=e.host,this.ssl=e.ssl??Nw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=IR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<i6)throw new me(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fd{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new IL;switch(r.type){case"firstParty":return new VL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Iw.get(n);r&&(fe("ComponentProvider","Removing Datastore"),Iw.delete(n),r.terminate())})(this),Promise.resolve()}}function C5(t,e,n,r={}){t=ai(t,Fd);const a=Tl(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(AC(`https://${h}`),CC("Firestore",!0)),l.host!==ZR&&l.host!==h&&ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:a,emulatorOptions:r};if(!zs(d,u)&&(t._setSettings(d),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=on.MOCK_USER;else{p=e4(r.mockUserToken,t._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new me(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new on(v)}t._authCredentials=new NL(new HC(p,y))}}class Nc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Nc(this.firestore,e,this._query)}}class jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Cc(n,jt._jsonSchema))return new jt(e,r||null,new ye(ot.fromString(n.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:Ut("string",jt._jsonSchemaVersion),referencePath:Ut("string")};class Os extends Nc{constructor(e,n,r){super(e,n,Pd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new ye(e))}withConverter(e){return new Os(this.firestore,e,this._path)}}function Ny(t,e,...n){if(t=Ct(t),qC("collection","path",e),t instanceof Fd){const r=ot.fromString(e,...n);return YS(r),new Os(t,null,r)}{if(!(t instanceof jt||t instanceof Os))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return YS(r),new Os(t.firestore,null,r)}}function cd(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=Nv.newId()),qC("doc","path",e),t instanceof Fd){const r=ot.fromString(e,...n);return GS(r),new jt(t,null,new ye(r))}{if(!(t instanceof jt||t instanceof Os))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return GS(r),new jt(t.firestore,t instanceof Os?t.converter:null,new ye(r))}}const Pw="AsyncQueue";class Vw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new VR(this,"async_queue_retry"),this._c=()=>{const r=Ng();r&&fe(Pw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ng();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ng();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Vr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wl(e))throw e;fe(Pw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,jr("INTERNAL UNHANDLED ERROR: ",Ow(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Wv.createAndSchedule(this,e,n,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Te(47125,{Pc:Ow(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Ow(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function kw(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class Ks extends Fd{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new Vw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Vw(e),this._firestoreClient=void 0,await e}}}function R5(t,e){const n=typeof t=="object"?t:Dv(),r=typeof t=="string"?t:Jf,a=Wa(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=Zk("firestore");l&&C5(a,...l)}return a}function Hd(t){if(t._terminated)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||x5(t),t._firestoreClient}function x5(t){const e=t._freezeSettings(),n=(function(a,l,u,h){return new WL(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,WR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new E5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ei(rn.fromBase64String(e))}catch(n){throw new me(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ei(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cc(e,ei._jsonSchema))return ei.fromBase64String(e.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:Ut("string",ei._jsonSchemaVersion),bytes:Ut("string")};class qd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class a0{constructor(e){this._methodName=e}}class nr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:nr._jsonSchemaVersion}}static fromJSON(e){if(Cc(e,nr._jsonSchema))return new nr(e.latitude,e.longitude)}}nr._jsonSchemaVersion="firestore/geoPoint/1.0",nr._jsonSchema={type:Ut("string",nr._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};class ir{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ir._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cc(e,ir._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ir(e.vectorValues);throw new me(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ir._jsonSchemaVersion="firestore/vectorValue/1.0",ir._jsonSchema={type:Ut("string",ir._jsonSchemaVersion),vectorValues:Ut("object")};const D5=/^__.*__$/;class I5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ws(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rc(e,this.data,n,this.fieldTransforms)}}class JR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ws(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ex(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:t})}}class o0{constructor(e,n,r,a,l,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new o0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ex(this.Ac)&&D5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class N5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jd(e)}Cc(e,n,r,a=!1){return new o0({Ac:e,methodName:n,Dc:r,path:nn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tx(t){const e=t._freezeSettings(),n=jd(t._databaseId);return new N5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function M5(t,e,n,r,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);l0("Data must be an object, but it was:",u,r);const h=nx(r,u);let d,p;if(l.merge)d=new Ln(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const E=My(e,v,n);if(!u.contains(E))throw new me(ie.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);rx(y,E)||y.push(E)}d=new Ln(y),p=u.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,p=u.fieldTransforms;return new I5(new An(h),d,p)}class Gd extends a0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gd}}function P5(t,e,n,r){const a=t.Cc(1,e,n);l0("Data must be an object, but it was:",a,r);const l=[],u=An.empty();Qs(r,((d,p)=>{const y=u0(e,d,n);p=Ct(p);const v=a.yc(y);if(p instanceof Gd)l.push(y);else{const E=Yd(p,v);E!=null&&(l.push(y),u.set(y,E))}}));const h=new Ln(l);return new JR(u,h,a.fieldTransforms)}function V5(t,e,n,r,a,l){const u=t.Cc(1,e,n),h=[My(e,r,n)],d=[a];if(l.length%2!=0)throw new me(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)h.push(My(e,l[E])),d.push(l[E+1]);const p=[],y=An.empty();for(let E=h.length-1;E>=0;--E)if(!rx(p,h[E])){const w=h[E];let D=d[E];D=Ct(D);const M=u.yc(w);if(D instanceof Gd)p.push(w);else{const N=Yd(D,M);N!=null&&(p.push(w),y.set(w,N))}}const v=new Ln(p);return new JR(y,v,u.fieldTransforms)}function Yd(t,e){if(ix(t=Ct(t)))return l0("Unsupported field value:",e,t),nx(t,e);if(t instanceof a0)return(function(r,a){if(!ex(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let u=0;for(const h of r){let d=Yd(h,a.wc(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}})(t,e)}return(function(r,a){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return E3(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=lt.fromDate(r);return{timestampValue:sd(a.serializer,l)}}if(r instanceof lt){const l=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sd(a.serializer,l)}}if(r instanceof nr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ei)return{bytesValue:SR(a.serializer,r._byteString)};if(r instanceof jt){const l=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Fv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof ir)return(function(u,h){return{mapValue:{fields:{[JC]:{stringValue:eR},[ed]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return Uv(h.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Mv(r)}`)})(t,e)}function nx(t,e){const n={};return KC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(t,((r,a)=>{const l=Yd(a,e.mc(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function ix(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof nr||t instanceof ei||t instanceof jt||t instanceof a0||t instanceof ir)}function l0(t,e,n){if(!ix(n)||!GC(n)){const r=Mv(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function My(t,e,n){if((e=Ct(e))instanceof qd)return e._internalPath;if(typeof e=="string")return u0(t,e);throw hd("Field path arguments must be of type string or ",t,!1,void 0,n)}const O5=new RegExp("[~\\*/\\[\\]]");function u0(t,e,n){if(e.search(O5)>=0)throw hd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qd(...e.split("."))._internalPath}catch{throw hd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hd(t,e,n,r,a){const l=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${r}`),u&&(d+=` in document ${a}`),d+=")"),new me(ie.INVALID_ARGUMENT,h+t+d)}function rx(t,e){return t.some((n=>n.isEqual(e)))}class sx{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new k5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ax("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class k5 extends sx{data(){return super.data()}}function ax(t,e){return typeof e=="string"?u0(t,e):e instanceof qd?e._internalPath:e._delegate._internalPath}function ox(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class L5{convertValue(e,n="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qs(e,((a,l)=>{r[a]=this.convertValue(l,n)})),r}convertVectorValue(e){const n=e.fields?.[ed].arrayValue?.values?.map((r=>At(r.doubleValue)));return new ir(n)}convertGeoPoint(e){return new nr(At(e.latitude),At(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Nd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hc(e));default:return null}}convertTimestamp(e){const n=Fs(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);Ke(DR(r),9688,{name:e});const a=new fc(r.get(1),r.get(3)),l=new ye(r.popFirst(5));return a.isEqual(n)||jr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function U5(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class qu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class za extends sx{constructor(e,n,r,a,l,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ax("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=za._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}za._jsonSchemaVersion="firestore/documentSnapshot/1.0",za._jsonSchema={type:Ut("string",za._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class Lf extends za{data(e={}){return super.data(e)}}class Ba{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new qu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Lf(this._firestore,this._userDataWriter,r.key,r,new qu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const d=new Lf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new qu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new Lf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new qu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:j5(h.type),doc:d,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ba._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Nv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function j5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:t})}}function z5(t){t=ai(t,jt);const e=ai(t.firestore,Ks);return w5(Hd(e),t._key).then((n=>lx(e,t,n)))}Ba._jsonSchemaVersion="firestore/querySnapshot/1.0",Ba._jsonSchema={type:Ut("string",Ba._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class c0 extends L5{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}function B5(t){t=ai(t,Nc);const e=ai(t.firestore,Ks),n=Hd(e),r=new c0(e);return ox(t._query),A5(n,t._query).then((a=>new Ba(e,r,t,a)))}function F5(t,e,n,...r){t=ai(t,jt);const a=ai(t.firestore,Ks),l=tx(a);let u;return u=typeof(e=Ct(e))=="string"||e instanceof qd?V5(l,"updateDoc",t._key,e,n,r):P5(l,"updateDoc",t._key,e),h0(a,[u.toMutation(t._key,wi.exists(!0))])}function H5(t){return h0(ai(t.firestore,Ks),[new jv(t._key,wi.none())])}function q5(t,e){const n=ai(t.firestore,Ks),r=cd(t),a=U5(t.converter,e);return h0(n,[M5(tx(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,wi.exists(!1))]).then((()=>r))}function G5(t,...e){t=Ct(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||kw(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(kw(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let l,u,h;if(t instanceof jt)u=ai(t.firestore,Ks),h=Pd(t._key.path),l={next:d=>{e[r]&&e[r](lx(u,t,d))},error:e[r+1],complete:e[r+2]};else{const d=ai(t,Nc);u=ai(d.firestore,Ks),h=d._query;const p=new c0(u);l={next:y=>{e[r]&&e[r](new Ba(u,p,d,y))},error:e[r+1],complete:e[r+2]},ox(t._query)}return(function(p,y,v,E){const w=new s0(E),D=new n0(y,w,v);return p.asyncQueue.enqueueAndForget((async()=>Jv(await ud(p),D))),()=>{w.Nu(),p.asyncQueue.enqueueAndForget((async()=>e0(await ud(p),D)))}})(Hd(u),h,a,l)}function h0(t,e){return(function(r,a){const l=new Vr;return r.asyncQueue.enqueueAndForget((async()=>f5(await S5(r),a,l))),l.promise})(Hd(t),e)}function lx(t,e,n){const r=n.docs.get(e._key),a=new c0(t);return new za(t,a,e._key,r,new qu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){bl=a})(El),ar(new Ai("firestore",((r,{instanceIdentifier:a,options:l})=>{const u=r.getProvider("app").getImmediate(),h=new Ks(new ML(r.getProvider("auth-internal")),new OL(u,r.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new me(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fc(p.options.projectId,y)})(u,a),u);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),si(BS,FS,e),si(BS,FS,"esm2020")})();function ux(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Y5=ux,cx=new Qa("auth","Firebase",ux());const fd=new xd("@firebase/auth");function K5(t,...e){fd.logLevel<=Le.WARN&&fd.warn(`Auth (${El}): ${t}`,...e)}function Uf(t,...e){fd.logLevel<=Le.ERROR&&fd.error(`Auth (${El}): ${t}`,...e)}function Ci(t,...e){throw f0(t,...e)}function rr(t,...e){return f0(t,...e)}function hx(t,e,n){const r={...Y5(),[e]:n};return new Qa("auth","Firebase",r).create(e,{appName:t.name})}function ks(t){return hx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function f0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return cx.create(t,...e)}function _e(t,e,...n){if(!t)throw f0(e,...n)}function Nr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uf(e),new Error(e)}function Br(t,e){t||Nr(e)}function Py(){return typeof self<"u"&&self.location?.href||""}function X5(){return Lw()==="http:"||Lw()==="https:"}function Lw(){return typeof self<"u"&&self.location?.protocol||null}function $5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X5()||RC()||"connection"in navigator)?navigator.onLine:!0}function Q5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Mc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Br(n>e,"Short delay should be less than long delay!"),this.isMobile=i4()||a4()}get(){return $5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function d0(t,e){Br(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class fx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const W5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Z5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],J5=new Mc(3e4,6e4);function eo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Zs(t,e,n,r,a={}){return dx(t,a,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const h=Ac({key:t.config.apiKey,...u}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:d,...l};return s4()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Tl(t.emulatorConfig.host)&&(p.credentials="include"),fx.fetch()(await mx(t,t.config.apiHost,n,h),p)})}async function dx(t,e,n){t._canInitEmulator=!1;const r={...W5,...e};try{const a=new tU(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Sf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sf(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Sf(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw Sf(t,"user-disabled",u);const y=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw hx(t,y,p);Ci(t,y)}}catch(a){if(a instanceof Ri)throw a;Ci(t,"network-request-failed",{message:String(a)})}}async function Kd(t,e,n,r,a={}){const l=await Zs(t,e,n,r,a);return"mfaPendingCredential"in l&&Ci(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function mx(t,e,n,r){const a=`${e}${n}?${r}`,l=t,u=l.config.emulator?d0(t.config,a):`${t.config.apiScheme}://${a}`;return Z5.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function eU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class tU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(rr(this.auth,"network-request-failed")),J5.get())})}}function Sf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=rr(t,e,r);return a.customData._tokenResponse=n,a}function Uw(t){return t!==void 0&&t.enterprise!==void 0}class nU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return eU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function iU(t,e){return Zs(t,"GET","/v2/recaptchaConfig",eo(t,e))}async function rU(t,e){return Zs(t,"POST","/v1/accounts:delete",e)}async function dd(t,e){return Zs(t,"POST","/v1/accounts:lookup",e)}function tc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sU(t,e=!1){const n=Ct(t),r=await n.getIdToken(e),a=m0(r);_e(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:r,authTime:tc(Pg(a.auth_time)),issuedAtTime:tc(Pg(a.iat)),expirationTime:tc(Pg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Pg(t){return Number(t)*1e3}function m0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Uf("JWT malformed, contained fewer than 3 sections"),null;try{const a=EC(n);return a?JSON.parse(a):(Uf("Failed to decode base64 JWT payload"),null)}catch(a){return Uf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function jw(t){const e=m0(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function gc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ri&&aU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function aU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class oU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Vy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tc(this.lastLoginAt),this.creationTime=tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function md(t){const e=t.auth,n=await t.getIdToken(),r=await gc(t,dd(e,{idToken:n}));_e(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?px(a.providerUserInfo):[],u=uU(t.providerData,l),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!u?.length,p=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Vy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function lU(t){const e=Ct(t);await md(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function uU(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function px(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function cU(t,e){const n=await dx(t,{},async()=>{const r=Ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await mx(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return t.emulatorConfig&&Tl(t.emulatorConfig.host)&&(d.credentials="include"),fx.fetch()(u,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hU(t,e){return Zs(t,"POST","/v2/accounts:revokeToken",eo(t,e))}class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=jw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await cU(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,u=new il;return r&&(_e(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(_e(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(_e(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return Nr("not implemented")}}function Ss(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Si{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new oU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Vy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await gc(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sU(this,e)}reload(){return lU(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await md(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bi(this.auth.app))return Promise.reject(ks(this.auth));const e=await this.getIdToken();return await gc(this,rU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:w,providerData:D,stsTokenManager:M}=n;_e(v&&M,e,"internal-error");const N=il.fromJSON(this.name,M);_e(typeof v=="string",e,"internal-error"),Ss(r,e.name),Ss(a,e.name),_e(typeof E=="boolean",e,"internal-error"),_e(typeof w=="boolean",e,"internal-error"),Ss(l,e.name),Ss(u,e.name),Ss(h,e.name),Ss(d,e.name),Ss(p,e.name),Ss(y,e.name);const U=new Si({uid:v,auth:e,email:a,emailVerified:E,displayName:r,isAnonymous:w,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:N,createdAt:p,lastLoginAt:y});return D&&Array.isArray(D)&&(U.providerData=D.map(B=>({...B}))),d&&(U._redirectEventId=d),U}static async _fromIdTokenResponse(e,n,r=!1){const a=new il;a.updateFromServerResponse(n);const l=new Si({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await md(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];_e(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?px(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new il;h.updateFromIdToken(r);const d=new Si({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Vy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,p),d}}const zw=new Map;function Mr(t){Br(t instanceof Function,"Expected a class definition");let e=zw.get(t);return e?(Br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zw.set(t,e),e)}class gx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gx.type="NONE";const Bw=gx;function jf(t,e,n){return`firebase:${t}:${e}:${n}`}class rl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=jf(this.userKey,a.apiKey,l),this.fullPersistenceKey=jf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await dd(this.auth,{idToken:e}).catch(()=>{});return n?Si._fromGetAccountInfoResponse(this.auth,n,e):null}return Si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new rl(Mr(Bw),e,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Mr(Bw);const u=jf(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const y=await p._get(u);if(y){let v;if(typeof y=="string"){const E=await dd(e,{idToken:y}).catch(()=>{});if(!E)break;v=await Si._fromGetAccountInfoResponse(e,E,y)}else v=Si._fromJSON(e,y);p!==l&&(h=v),l=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new rl(l,e,r):(l=d[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new rl(l,e,r))}}function Fw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Tx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bx(e))return"Blackberry";if(Sx(e))return"Webos";if(vx(e))return"Safari";if((e.includes("chrome/")||_x(e))&&!e.includes("edge/"))return"Chrome";if(Ex(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function yx(t=cn()){return/firefox\//i.test(t)}function vx(t=cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _x(t=cn()){return/crios\//i.test(t)}function Tx(t=cn()){return/iemobile/i.test(t)}function Ex(t=cn()){return/android/i.test(t)}function bx(t=cn()){return/blackberry/i.test(t)}function Sx(t=cn()){return/webos/i.test(t)}function p0(t=cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fU(t=cn()){return p0(t)&&!!window.navigator?.standalone}function dU(){return o4()&&document.documentMode===10}function wx(t=cn()){return p0(t)||Ex(t)||Sx(t)||bx(t)||/windows phone/i.test(t)||Tx(t)}function Ax(t,e=[]){let n;switch(t){case"Browser":n=Fw(cn());break;case"Worker":n=`${Fw(cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${El}/${r}`}class mU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((u,h)=>{try{const d=e(l);u(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function pU(t,e={}){return Zs(t,"GET","/v2/passwordPolicy",eo(t,e))}const gU=6;class yU{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??gU,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class vU{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hw(this),this.idTokenSubscription=new Hw(this),this.beforeStateQueue=new mU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await rl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dd(this,{idToken:e}),r=await Si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(bi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await md(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Q5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bi(this.app))return Promise.reject(ks(this));const n=e?Ct(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bi(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bi(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pU(this),n=new yU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await hU(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mr(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await rl.create(this,[Mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ax(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(bi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&K5(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Cl(t){return Ct(t)}class Hw{constructor(e){this.auth=e,this.observer=null,this.addObserver=m4(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Xd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _U(t){Xd=t}function Cx(t){return Xd.loadJS(t)}function TU(){return Xd.recaptchaEnterpriseScript}function EU(){return Xd.gapiScript}function bU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class SU{constructor(){this.enterprise=new wU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class wU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const AU="recaptcha-enterprise",Rx="NO_RECAPTCHA";class CU{constructor(e){this.type=AU,this.auth=Cl(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{iU(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new nU(d);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(d=>{h(d)})})}function a(l,u,h){const d=window.grecaptcha;Uw(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(Rx)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new SU().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{r(this.auth).then(h=>{if(!n&&Uw(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=TU();d.length!==0&&(d+=h),Cx(d).then(()=>{a(h,l,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function qw(t,e,n,r=!1,a=!1){const l=new CU(t);let u;if(a)u=Rx;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Gw(t,e,n,r,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await qw(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await qw(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(l)})}function RU(t,e){const n=Wa(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(zs(l,e??{}))return a;Ci(a,"already-initialized")}return n.initialize({options:e})}function xU(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Mr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function DU(t,e,n){const r=Cl(t);_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=xx(e),{host:u,port:h}=IU(e),d=h===null?"":`:${h}`,p={url:`${l}//${u}${d}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){_e(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),_e(zs(p,r.config.emulator)&&zs(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Tl(u)?(AC(`${l}//${u}${d}`),CC("Auth",!0)):NU()}function xx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function IU(t){const e=xx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:Yw(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:Yw(u)}}}function Yw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function NU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class g0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Nr("not implemented")}_getIdTokenResponse(e){return Nr("not implemented")}_linkToIdToken(e,n){return Nr("not implemented")}_getReauthenticationResolver(e){return Nr("not implemented")}}async function MU(t,e){return Zs(t,"POST","/v1/accounts:signUp",e)}async function PU(t,e){return Kd(t,"POST","/v1/accounts:signInWithPassword",eo(t,e))}async function VU(t,e){return Kd(t,"POST","/v1/accounts:signInWithEmailLink",eo(t,e))}async function OU(t,e){return Kd(t,"POST","/v1/accounts:signInWithEmailLink",eo(t,e))}class yc extends g0{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new yc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new yc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gw(e,n,"signInWithPassword",PU);case"emailLink":return VU(e,{email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gw(e,r,"signUpPassword",MU);case"emailLink":return OU(e,{idToken:n,email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function sl(t,e){return Kd(t,"POST","/v1/accounts:signInWithIdp",eo(t,e))}const kU="http://localhost";class Ga extends g0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=n;if(!r||!a)return null;const u=new Ga(r,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return sl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,sl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,sl(e,n)}buildRequest(){const e={requestUri:kU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ac(n)}return e}}function LU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UU(t){const e=ju(zu(t)).link,n=e?ju(zu(e)).deep_link_id:null,r=ju(zu(t)).deep_link_id;return(r?ju(zu(r)).link:null)||r||n||e||t}class y0{constructor(e){const n=ju(zu(e)),r=n.apiKey??null,a=n.oobCode??null,l=LU(n.mode??null);_e(r&&a&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=UU(e);try{return new y0(n)}catch{return null}}}class Rl{constructor(){this.providerId=Rl.PROVIDER_ID}static credential(e,n){return yc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=y0.parseLink(n);return _e(r,"argument-error"),yc._fromEmailAndCode(e,r.code,r.tenantId)}}Rl.PROVIDER_ID="password";Rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Dx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Pc extends Dx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class As extends Pc{constructor(){super("facebook.com")}static credential(e){return Ga._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.FACEBOOK_SIGN_IN_METHOD="facebook.com";As.PROVIDER_ID="facebook.com";class Cs extends Pc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ga._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Cs.credential(n,r)}catch{return null}}}Cs.GOOGLE_SIGN_IN_METHOD="google.com";Cs.PROVIDER_ID="google.com";class Rs extends Pc{constructor(){super("github.com")}static credential(e){return Ga._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.GITHUB_SIGN_IN_METHOD="github.com";Rs.PROVIDER_ID="github.com";class xs extends Pc{constructor(){super("twitter.com")}static credential(e,n){return Ga._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return xs.credential(n,r)}catch{return null}}}xs.TWITTER_SIGN_IN_METHOD="twitter.com";xs.PROVIDER_ID="twitter.com";class pl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await Si._fromIdTokenResponse(e,r,a),u=Kw(r);return new pl({user:l,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=Kw(r);return new pl({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function Kw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class pd extends Ri{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,pd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new pd(e,n,r,a)}}function Ix(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?pd._fromErrorAndOperation(t,l,e,r):l})}async function jU(t,e,n=!1){const r=await gc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return pl._forOperation(t,"link",r)}async function zU(t,e,n=!1){const{auth:r}=t;if(bi(r.app))return Promise.reject(ks(r));const a="reauthenticate";try{const l=await gc(t,Ix(r,a,e,t),n);_e(l.idToken,r,"internal-error");const u=m0(l.idToken);_e(u,r,"internal-error");const{sub:h}=u;return _e(t.uid===h,r,"user-mismatch"),pl._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ci(r,"user-mismatch"),l}}async function Nx(t,e,n=!1){if(bi(t.app))return Promise.reject(ks(t));const r="signIn",a=await Ix(t,r,e),l=await pl._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}async function BU(t,e){return Nx(Cl(t),e)}async function FU(t){const e=Cl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function HU(t,e,n){return bi(t.app)?Promise.reject(ks(t)):BU(Ct(t),Rl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&FU(t),r})}function qU(t,e){return Ct(t).setPersistence(e)}function GU(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function YU(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function Mx(t,e,n,r){return Ct(t).onAuthStateChanged(e,n,r)}const gd="__sak";class Px{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gd,"1"),this.storage.removeItem(gd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const KU=1e3,XU=10;class Vx extends Px{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);dU()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,XU):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},KU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Vx.type="LOCAL";const Ox=Vx;class kx extends Px{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kx.type="SESSION";const Lx=kx;function $U(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class $d{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new $d(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async p=>p(n.origin,l)),d=await $U(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$d.receivers=[];function v0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class QU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,d)=>{const p=v0("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(E.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function sr(){return window}function WU(t){sr().location.href=t}function Ux(){return typeof sr().WorkerGlobalScope<"u"&&typeof sr().importScripts=="function"}async function ZU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JU(){return navigator?.serviceWorker?.controller||null}function e9(){return Ux()?self:null}const jx="firebaseLocalStorageDb",t9=1,yd="firebaseLocalStorage",zx="fbase_key";class Vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qd(t,e){return t.transaction([yd],e?"readwrite":"readonly").objectStore(yd)}function n9(){const t=indexedDB.deleteDatabase(jx);return new Vc(t).toPromise()}function Oy(){const t=indexedDB.open(jx,t9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yd,{keyPath:zx})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yd)?e(r):(r.close(),await n9(),e(await Oy()))})})}async function Xw(t,e,n){const r=Qd(t,!0).put({[zx]:e,value:n});return new Vc(r).toPromise()}async function i9(t,e){const n=Qd(t,!1).get(e),r=await new Vc(n).toPromise();return r===void 0?null:r.value}function $w(t,e){const n=Qd(t,!0).delete(e);return new Vc(n).toPromise()}const r9=800,s9=3;class Bx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Oy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>s9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ux()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$d._getInstance(e9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ZU(),!this.activeServiceWorker)return;this.sender=new QU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Oy();return await Xw(e,gd,"1"),await $w(e,gd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Xw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>i9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$w(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Qd(a,!1).getAll();return new Vc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),r9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Bx.type="LOCAL";const a9=Bx;new Mc(3e4,6e4);function o9(t,e){return e?Mr(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class _0 extends g0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return sl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function l9(t){return Nx(t.auth,new _0(t),t.bypassAuthState)}function u9(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),zU(n,new _0(t),t.bypassAuthState)}async function c9(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),jU(n,new _0(t),t.bypassAuthState)}class Fx{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return l9;case"linkViaPopup":case"linkViaRedirect":return c9;case"reauthViaPopup":case"reauthViaRedirect":return u9;default:Ci(this.auth,"internal-error")}}resolve(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const h9=new Mc(2e3,1e4);class Zo extends Fx{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Zo.currentPopupAction&&Zo.currentPopupAction.cancel(),Zo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Br(this.filter.length===1,"Popup operations only handle one event");const e=v0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,h9.get())};e()}}Zo.currentPopupAction=null;const f9="pendingRedirect",zf=new Map;class d9 extends Fx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zf.get(this.auth._key());if(!e){try{const r=await m9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zf.set(this.auth._key(),e)}return this.bypassAuthState||zf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function m9(t,e){const n=y9(e),r=g9(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function p9(t,e){zf.set(t._key(),e)}function g9(t){return Mr(t._redirectPersistence)}function y9(t){return jf(f9,t.config.apiKey,t.name)}async function v9(t,e,n=!1){if(bi(t.app))return Promise.reject(ks(t));const r=Cl(t),a=o9(r,e),u=await new d9(r,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const _9=600*1e3;class T9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!E9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Hx(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(rr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_9&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qw(e))}saveEventToCache(e){this.cachedEventUids.add(Qw(e)),this.lastProcessedEventTime=Date.now()}}function Qw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Hx({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function E9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hx(t);default:return!1}}async function b9(t,e={}){return Zs(t,"GET","/v1/projects",e)}const S9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,w9=/^https?/;async function A9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await b9(t);for(const n of e)try{if(C9(n))return}catch{}Ci(t,"unauthorized-domain")}function C9(t){const e=Py(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!w9.test(n))return!1;if(S9.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const R9=new Mc(3e4,6e4);function Ww(){const t=sr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function x9(t){return new Promise((e,n)=>{function r(){Ww(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ww(),n(rr(t,"network-request-failed"))},timeout:R9.get()})}if(sr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(sr().gapi?.load)r();else{const a=bU("iframefcb");return sr()[a]=()=>{gapi.load?r():n(rr(t,"network-request-failed"))},Cx(`${EU()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Bf=null,e})}let Bf=null;function D9(t){return Bf=Bf||x9(t),Bf}const I9=new Mc(5e3,15e3),N9="__/auth/iframe",M9="emulator/auth/iframe",P9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O9(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?d0(e,M9):`https://${t.config.authDomain}/${N9}`,r={apiKey:e.apiKey,appName:t.name,v:El},a=V9.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Ac(r).slice(1)}`}async function k9(t){const e=await D9(t),n=sr().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:O9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P9,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const u=rr(t,"network-request-failed"),h=sr().setTimeout(()=>{l(u)},I9.get());function d(){sr().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{l(u)})}))}const L9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},U9=500,j9=600,z9="_blank",B9="http://localhost";class Zw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function F9(t,e,n,r=U9,a=j9){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d={...L9,width:r.toString(),height:a.toString(),top:l,left:u},p=cn().toLowerCase();n&&(h=_x(p)?z9:n),yx(p)&&(e=e||B9,d.scrollbars="yes");const y=Object.entries(d).reduce((E,[w,D])=>`${E}${w}=${D},`,"");if(fU(p)&&h!=="_self")return H9(e||"",h),new Zw(null);const v=window.open(e||"",h,y);_e(v,t,"popup-blocked");try{v.focus()}catch{}return new Zw(v)}function H9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const q9="__/auth/handler",G9="emulator/auth/handler",Y9=encodeURIComponent("fac");async function Jw(t,e,n,r,a,l){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:El,eventId:a};if(e instanceof Dx){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",d4(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof Pc){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await t._getAppCheckToken(),p=d?`#${Y9}=${encodeURIComponent(d)}`:"";return`${K9(t)}?${Ac(h).slice(1)}${p}`}function K9({config:t}){return t.emulator?d0(t,G9):`https://${t.authDomain}/${q9}`}const Vg="webStorageSupport";class X9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lx,this._completeRedirectFn=v9,this._overrideRedirectResult=p9}async _openPopup(e,n,r,a){Br(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Jw(e,n,r,Py(),a);return F9(e,l,v0())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await Jw(e,n,r,Py(),a);return WU(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Br(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await k9(e),r=new T9(e);return n.register("authEvent",a=>(_e(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vg,{type:Vg},a=>{const l=a?.[0]?.[Vg];l!==void 0&&n(!!l),Ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=A9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wx()||vx()||p0()}}const $9=X9;var eA="@firebase/auth",tA="1.11.1";class Q9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function W9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Z9(t){ar(new Ai("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;_e(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ax(t)},p=new vU(r,a,l,d);return xU(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ar(new Ai("auth-internal",e=>{const n=Cl(e.getProvider("auth").getImmediate());return(r=>new Q9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),si(eA,tA,W9(t)),si(eA,tA,"esm2020")}const J9=300,ej=wC("authIdTokenMaxAge")||J9;let nA=null;const tj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ej)return;const a=n?.token;nA!==a&&(nA=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function nj(t=Dv()){const e=Wa(t,"auth");if(e.isInitialized())return e.getImmediate();const n=RU(t,{popupRedirectResolver:$9,persistence:[a9,Ox,Lx]}),r=wC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=tj(l.toString());YU(n,u,()=>u(n.currentUser)),GU(n,h=>u(h))}}const a=bC("auth");return a&&DU(n,`http://${a}`),n}function ij(){return document.getElementsByTagName("head")?.[0]??document}_U({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=rr("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",ij().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Z9("Browser");const qx="@firebase/installations",T0="0.6.19";const Gx=1e4,Yx=`w:${T0}`,Kx="FIS_v2",rj="https://firebaseinstallations.googleapis.com/v1",sj=3600*1e3,aj="installations",oj="Installations";const lj={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ya=new Qa(aj,oj,lj);function Xx(t){return t instanceof Ri&&t.code.includes("request-failed")}function $x({projectId:t}){return`${rj}/projects/${t}/installations`}function Qx(t){return{token:t.token,requestStatus:2,expiresIn:cj(t.expiresIn),creationTime:Date.now()}}async function Wx(t,e){const r=(await e.json()).error;return Ya.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Zx({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function uj(t,{refreshToken:e}){const n=Zx(t);return n.append("Authorization",hj(e)),n}async function Jx(t){const e=await t();return e.status>=500&&e.status<600?t():e}function cj(t){return Number(t.replace("s","000"))}function hj(t){return`${Kx} ${t}`}async function fj({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=$x(t),a=Zx(t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={fid:n,authVersion:Kx,appId:t.appId,sdkVersion:Yx},h={method:"POST",headers:a,body:JSON.stringify(u)},d=await Jx(()=>fetch(r,h));if(d.ok){const p=await d.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:Qx(p.authToken)}}else throw await Wx("Create Installation",d)}function e2(t){return new Promise(e=>{setTimeout(e,t)})}function dj(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const mj=/^[cdef][\w-]{21}$/,ky="";function pj(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=gj(t);return mj.test(n)?n:ky}catch{return ky}}function gj(t){return dj(t).substr(0,22)}function Wd(t){return`${t.appName}!${t.appId}`}const t2=new Map;function n2(t,e){const n=Wd(t);i2(n,e),yj(n,e)}function i2(t,e){const n=t2.get(t);if(n)for(const r of n)r(e)}function yj(t,e){const n=vj();n&&n.postMessage({key:t,fid:e}),_j()}let ka=null;function vj(){return!ka&&"BroadcastChannel"in self&&(ka=new BroadcastChannel("[Firebase] FID Change"),ka.onmessage=t=>{i2(t.data.key,t.data.fid)}),ka}function _j(){t2.size===0&&ka&&(ka.close(),ka=null)}const Tj="firebase-installations-database",Ej=1,Ka="firebase-installations-store";let Og=null;function E0(){return Og||(Og=MC(Tj,Ej,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ka)}}})),Og}async function vd(t,e){const n=Wd(t),a=(await E0()).transaction(Ka,"readwrite"),l=a.objectStore(Ka),u=await l.get(n);return await l.put(e,n),await a.done,(!u||u.fid!==e.fid)&&n2(t,e.fid),e}async function r2(t){const e=Wd(t),r=(await E0()).transaction(Ka,"readwrite");await r.objectStore(Ka).delete(e),await r.done}async function Zd(t,e){const n=Wd(t),a=(await E0()).transaction(Ka,"readwrite"),l=a.objectStore(Ka),u=await l.get(n),h=e(u);return h===void 0?await l.delete(n):await l.put(h,n),await a.done,h&&(!u||u.fid!==h.fid)&&n2(t,h.fid),h}async function b0(t){let e;const n=await Zd(t.appConfig,r=>{const a=bj(r),l=Sj(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===ky?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function bj(t){const e=t||{fid:pj(),registrationStatus:0};return s2(e)}function Sj(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Ya.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=wj(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Aj(t)}:{installationEntry:e}}async function wj(t,e){try{const n=await fj(t,e);return vd(t.appConfig,n)}catch(n){throw Xx(n)&&n.customData.serverCode===409?await r2(t.appConfig):await vd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Aj(t){let e=await iA(t.appConfig);for(;e.registrationStatus===1;)await e2(100),e=await iA(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await b0(t);return r||n}return e}function iA(t){return Zd(t,e=>{if(!e)throw Ya.create("installation-not-found");return s2(e)})}function s2(t){return Cj(t)?{fid:t.fid,registrationStatus:0}:t}function Cj(t){return t.registrationStatus===1&&t.registrationTime+Gx<Date.now()}async function Rj({appConfig:t,heartbeatServiceProvider:e},n){const r=xj(t,n),a=uj(t,n),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={installation:{sdkVersion:Yx,appId:t.appId}},h={method:"POST",headers:a,body:JSON.stringify(u)},d=await Jx(()=>fetch(r,h));if(d.ok){const p=await d.json();return Qx(p)}else throw await Wx("Generate Auth Token",d)}function xj(t,{fid:e}){return`${$x(t)}/${e}/authTokens:generate`}async function S0(t,e=!1){let n;const r=await Zd(t.appConfig,l=>{if(!a2(l))throw Ya.create("not-registered");const u=l.authToken;if(!e&&Nj(u))return l;if(u.requestStatus===1)return n=Dj(t,e),l;{if(!navigator.onLine)throw Ya.create("app-offline");const h=Pj(l);return n=Ij(t,h),h}});return n?await n:r.authToken}async function Dj(t,e){let n=await rA(t.appConfig);for(;n.authToken.requestStatus===1;)await e2(100),n=await rA(t.appConfig);const r=n.authToken;return r.requestStatus===0?S0(t,e):r}function rA(t){return Zd(t,e=>{if(!a2(e))throw Ya.create("not-registered");const n=e.authToken;return Vj(n)?{...e,authToken:{requestStatus:0}}:e})}async function Ij(t,e){try{const n=await Rj(t,e),r={...e,authToken:n};return await vd(t.appConfig,r),n}catch(n){if(Xx(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await r2(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await vd(t.appConfig,r)}throw n}}function a2(t){return t!==void 0&&t.registrationStatus===2}function Nj(t){return t.requestStatus===2&&!Mj(t)}function Mj(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+sj}function Pj(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Vj(t){return t.requestStatus===1&&t.requestTime+Gx<Date.now()}async function Oj(t){const e=t,{installationEntry:n,registrationPromise:r}=await b0(e);return r?r.catch(console.error):S0(e).catch(console.error),n.fid}async function kj(t,e=!1){const n=t;return await Lj(n),(await S0(n,e)).token}async function Lj(t){const{registrationPromise:e}=await b0(t);e&&await e}function Uj(t){if(!t||!t.options)throw kg("App Configuration");if(!t.name)throw kg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw kg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function kg(t){return Ya.create("missing-app-config-values",{valueName:t})}const o2="installations",jj="installations-internal",zj=t=>{const e=t.getProvider("app").getImmediate(),n=Uj(e),r=Wa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Bj=t=>{const e=t.getProvider("app").getImmediate(),n=Wa(e,o2).getImmediate();return{getId:()=>Oj(n),getToken:a=>kj(n,a)}};function Fj(){ar(new Ai(o2,zj,"PUBLIC")),ar(new Ai(jj,Bj,"PRIVATE"))}Fj();si(qx,T0);si(qx,T0,"esm2020");const _d="analytics",Hj="firebase_id",qj="origin",Gj=60*1e3,Yj="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",w0="https://www.googletagmanager.com/gtag/js";const pn=new xd("@firebase/analytics");const Kj={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Un=new Qa("analytics","Analytics",Kj);function Xj(t){if(!t.startsWith(w0)){const e=Un.create("invalid-gtag-resource",{gtagURL:t});return pn.warn(e.message),""}return t}function l2(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function $j(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Qj(t,e){const n=$j("firebase-js-sdk-policy",{createScriptURL:Xj}),r=document.createElement("script"),a=`${w0}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function Wj(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Zj(t,e,n,r,a,l){const u=r[a];try{if(u)await e[u];else{const d=(await l2(n)).find(p=>p.measurementId===a);d&&await e[d.appId]}}catch(h){pn.error(h)}t("config",a,l)}async function Jj(t,e,n,r,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const h=await l2(n);for(const d of u){const p=h.find(v=>v.measurementId===d),y=p&&e[p.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",r,a||{})}catch(l){pn.error(l)}}function ez(t,e,n,r){async function a(l,...u){try{if(l==="event"){const[h,d]=u;await Jj(t,e,n,h,d)}else if(l==="config"){const[h,d]=u;await Zj(t,e,n,r,h,d)}else if(l==="consent"){const[h,d]=u;t("consent",h,d)}else if(l==="get"){const[h,d,p]=u;t("get",h,d,p)}else if(l==="set"){const[h]=u;t("set",h)}else t(l,...u)}catch(h){pn.error(h)}}return a}function tz(t,e,n,r,a){let l=function(...u){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=ez(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function nz(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(w0)&&n.src.includes(t))return n;return null}const iz=30,rz=1e3;class sz{constructor(e={},n=rz){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const u2=new sz;function az(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function oz(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:az(n)},a=Yj.replace("{app-id}",e),l=await fetch(a,r);if(l.status!==200&&l.status!==304){let u="";try{const h=await l.json();h.error?.message&&(u=h.error.message)}catch{}throw Un.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function lz(t,e=u2,n){const{appId:r,apiKey:a,measurementId:l}=t.options;if(!r)throw Un.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:r};throw Un.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new hz;return setTimeout(async()=>{h.abort()},Gj),c2({appId:r,apiKey:a,measurementId:l},u,h,e)}async function c2(t,{throttleEndTimeMillis:e,backoffCount:n},r,a=u2){const{appId:l,measurementId:u}=t;try{await uz(r,e)}catch(h){if(u)return pn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:l,measurementId:u};throw h}try{const h=await oz(t);return a.deleteThrottleMetadata(l),h}catch(h){const d=h;if(!cz(d)){if(a.deleteThrottleMetadata(l),u)return pn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:u};throw h}const p=Number(d?.customData?.httpStatus)===503?NS(n,a.intervalMillis,iz):NS(n,a.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return a.setThrottleMetadata(l,y),pn.debug(`Calling attemptFetch again in ${p} millis`),c2(t,y,r,a)}}function uz(t,e){return new Promise((n,r)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),r(Un.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function cz(t){if(!(t instanceof Ri)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class hz{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function fz(t,e,n,r,a){if(a&&a.global){t("event",n,r);return}else{const l=await e,u={...r,send_to:l};t("event",n,u)}}async function dz(t,e,n,r){if(r&&r.global){const a={};for(const l of Object.keys(n))a[`user_properties.${l}`]=n[l];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}async function mz(){if(xC())try{await DC()}catch(t){return pn.warn(Un.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return pn.warn(Un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function pz(t,e,n,r,a,l,u){const h=lz(t);h.then(E=>{n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&pn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>pn.error(E)),e.push(h);const d=mz().then(E=>{if(E)return r.getId()}),[p,y]=await Promise.all([h,d]);nz(l)||Qj(l,p.measurementId),a("js",new Date);const v=u?.config??{};return v[qj]="firebase",v.update=!0,y!=null&&(v[Hj]=y),a("config",p.measurementId,v),p.measurementId}class gz{constructor(e){this.app=e}_delete(){return delete al[this.app.options.appId],Promise.resolve()}}let al={},sA=[];const aA={};let Lg="dataLayer",yz="gtag",oA,A0,lA=!1;function vz(){const t=[];if(RC()&&t.push("This is a browser extension environment."),u4()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,a)=>`(${a+1}) ${r}`).join(" "),n=Un.create("invalid-analytics-context",{errorInfo:e});pn.warn(n.message)}}function _z(t,e,n){vz();const r=t.options.appId;if(!r)throw Un.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)pn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Un.create("no-api-key");if(al[r]!=null)throw Un.create("already-exists",{id:r});if(!lA){Wj(Lg);const{wrappedGtag:l,gtagCore:u}=tz(al,sA,aA,Lg,yz);A0=l,oA=u,lA=!0}return al[r]=pz(t,sA,aA,e,oA,Lg,n),new gz(t)}function Tz(t=Dv()){t=Ct(t);const e=Wa(t,_d);return e.isInitialized()?e.getImmediate():Ez(t)}function Ez(t,e={}){const n=Wa(t,_d);if(n.isInitialized()){const a=n.getImmediate();if(zs(e,n.getOptions()))return a;throw Un.create("already-initialized")}return n.initialize({options:e})}function bz(t,e,n){t=Ct(t),dz(A0,al[t.app.options.appId],e,n).catch(r=>pn.error(r))}function Sz(t,e,n,r){t=Ct(t),fz(A0,al[t.app.options.appId],e,n,r).catch(a=>pn.error(a))}const uA="@firebase/analytics",cA="0.10.19";function wz(){ar(new Ai(_d,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return _z(r,a,n)},"PUBLIC")),ar(new Ai("analytics-internal",t,"PRIVATE")),si(uA,cA),si(uA,cA,"esm2020");function t(e){try{const n=e.getProvider(_d).getImmediate();return{logEvent:(r,a,l)=>Sz(n,r,a,l),setUserProperties:(r,a)=>bz(n,r,a)}}catch(n){throw Un.create("interop-component-reg-failed",{reason:n})}}}wz();const Az={apiKey:"AIzaSyD-GIU-_XMDNkFNyYpBGfrcuAqypNCboxk",authDomain:"mit-mess-23f98.firebaseapp.com",projectId:"mit-mess-23f98",storageBucket:"mit-mess-23f98.firebasestorage.app",messagingSenderId:"286644195454",appId:"1:286644195454:web:97f456209765291e37082f",measurementId:"G-2TSYYR3ZYM"},C0=PC(Az),Jo=R5(C0),Ff=nj(C0);Tz(C0);const Cz=()=>{const[t,e]=L.useState(""),[n,r]=L.useState([]),[a,l]=L.useState(!0);L.useEffect(()=>{const d=G5(Ny(Jo,"messes"),p=>{const y=p.docs.map(v=>({id:v.id,...v.data()}));r(y),l(!1)});return()=>d()},[]);const h=[...n.filter(d=>{const p=t.toLowerCase();return d.name.toLowerCase().includes(p)?!0:d.menu?Object.values(d.menu).some(y=>Object.values(y).some(v=>v&&v.toLowerCase().includes(p))):!1})].sort((d,p)=>{const y=localStorage.getItem("lastViewedMess");return y?d.id===y?-1:p.id===y?1:0:0});return R.jsxs("div",{className:"min-h-screen bg-gray-50 relative selection:bg-orange-200 selection:text-orange-900",children:[R.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[R.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),R.jsx("div",{className:"absolute top-0 -left-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"}),R.jsx("div",{className:"absolute -bottom-40 left-20 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-4000"})]}),R.jsx(Cd,{searchTerm:t,setSearchTerm:e}),R.jsxs("main",{className:"relative z-10 pt-20 pb-12 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto flex flex-col min-h-[calc(100vh-80px)]",children:[R.jsx("div",{className:"flex-grow",children:a?R.jsx("div",{className:"flex justify-center items-center h-64",children:R.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):R.jsxs(wn.div,{layout:!0,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-8",children:[h.map(d=>R.jsx(Hk,{mess:d},d.id)),h.length===0&&R.jsx("div",{className:"col-span-full text-center py-12",children:R.jsx("p",{className:"text-gray-500 text-lg",children:"No messes found matching your search."})})]})}),R.jsxs("footer",{className:"text-center py-8 mt-8 border-t border-gray-200/50",children:[R.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 tracking-tight mb-2",children:["What's on the ",R.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-red-600",children:"Menu?"})]}),R.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto px-4",children:"Daily menus for all hostel messes. Click a card for the full weekly schedule."})]})]})]})};var ii=function(t,e){return Number(t.toFixed(e))},Rz=function(t,e){return e},ht=function(t,e,n){n&&typeof n=="function"&&n(t,e)},xz=function(t){return-Math.cos(t*Math.PI)/2+.5},Dz=function(t){return t},Iz=function(t){return t*t},Nz=function(t){return t*(2-t)},Mz=function(t){return t<.5?2*t*t:-1+(4-2*t)*t},Pz=function(t){return t*t*t},Vz=function(t){return--t*t*t+1},Oz=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},kz=function(t){return t*t*t*t},Lz=function(t){return 1- --t*t*t*t},Uz=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},jz=function(t){return t*t*t*t*t},zz=function(t){return 1+--t*t*t*t*t},Bz=function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},h2={easeOut:xz,linear:Dz,easeInQuad:Iz,easeOutQuad:Nz,easeInOutQuad:Mz,easeInCubic:Pz,easeOutCubic:Vz,easeInOutCubic:Oz,easeInQuart:kz,easeOutQuart:Lz,easeInOutQuart:Uz,easeInQuint:jz,easeOutQuint:zz,easeInOutQuint:Bz},f2=function(t){typeof t=="number"&&cancelAnimationFrame(t)},Ei=function(t){t.mounted&&(f2(t.animation),t.animate=!1,t.animation=null,t.velocity=null)};function d2(t,e,n,r){if(t.mounted){var a=new Date().getTime(),l=1;Ei(t),t.animation=function(){if(!t.mounted)return f2(t.animation);var u=new Date().getTime()-a,h=u/n,d=h2[e],p=d(h);u>=n?(r(l),t.animation=null):t.animation&&(r(p),requestAnimationFrame(t.animation))},requestAnimationFrame(t.animation)}}function Fz(t){var e=t.scale,n=t.positionX,r=t.positionY;return!(Number.isNaN(e)||Number.isNaN(n)||Number.isNaN(r))}function Js(t,e,n,r){var a=Fz(e);if(!(!t.mounted||!a)){var l=t.setTransformState,u=t.transformState,h=u.scale,d=u.positionX,p=u.positionY,y=e.scale-h,v=e.positionX-d,E=e.positionY-p;n===0?l(e.scale,e.positionX,e.positionY):d2(t,r,n,function(w){var D=h+y*w,M=d+v*w,N=p+E*w;l(D,M,N)})}}function Hz(t,e,n){var r=t.offsetWidth,a=t.offsetHeight,l=e.offsetWidth,u=e.offsetHeight,h=l*n,d=u*n,p=r-h,y=a-d;return{wrapperWidth:r,wrapperHeight:a,newContentWidth:h,newDiffWidth:p,newContentHeight:d,newDiffHeight:y}}var qz=function(t,e,n,r,a,l,u){var h=t>e?n*(u?1:.5):0,d=r>a?l*(u?1:.5):0,p=t-e-h,y=h,v=r-a-d,E=d;return{minPositionX:p,maxPositionX:y,minPositionY:v,maxPositionY:E}},R0=function(t,e){var n=t.wrapperComponent,r=t.contentComponent,a=t.setup.centerZoomedOut;if(!n||!r)throw new Error("Components are not mounted");var l=Hz(n,r,e),u=l.wrapperWidth,h=l.wrapperHeight,d=l.newContentWidth,p=l.newDiffWidth,y=l.newContentHeight,v=l.newDiffHeight,E=qz(u,d,p,h,y,v,!!a);return E},Ly=function(t,e,n,r){return r?t<e?ii(e,2):t>n?ii(n,2):ii(t,2):ii(t,2)},Fa=function(t,e){var n=R0(t,e);return t.bounds=n,n};function Oc(t,e,n,r,a,l,u){var h=n.minPositionX,d=n.minPositionY,p=n.maxPositionX,y=n.maxPositionY,v=0,E=0;u&&(v=a,E=l);var w=Ly(t,h-v,p+v,r),D=Ly(e,d-E,y+E,r);return{x:w,y:D}}function Jd(t,e,n,r,a,l){var u=t.transformState,h=u.scale,d=u.positionX,p=u.positionY,y=r-h;if(typeof e!="number"||typeof n!="number")return console.error("Mouse X and Y position were not provided!"),{x:d,y:p};var v=d-e*y,E=p-n*y,w=Oc(v,E,a,l,0,0,null);return w}function kc(t,e,n,r,a){var l=a?r:0,u=e-l;return!Number.isNaN(n)&&t>=n?n:!Number.isNaN(e)&&t<=u?u:t}var hA=function(t,e){var n=t.setup.panning.excluded,r=t.isInitialized,a=t.wrapperComponent,l=e.target,u="shadowRoot"in l&&"composedPath"in e,h=u?e.composedPath().some(function(y){return y instanceof Element?a?.contains(y):!1}):a?.contains(l),d=r&&l&&h;if(!d)return!1;var p=em(l,n);return!p},fA=function(t){var e=t.isInitialized,n=t.isPanning,r=t.setup,a=r.panning.disabled,l=e&&n&&!a;return!!l},Gz=function(t,e){var n=t.transformState,r=n.positionX,a=n.positionY;t.isPanning=!0;var l=e.clientX,u=e.clientY;t.startCoords={x:l-r,y:u-a}},Yz=function(t,e){var n=e.touches,r=t.transformState,a=r.positionX,l=r.positionY;t.isPanning=!0;var u=n.length===1;if(u){var h=n[0].clientX,d=n[0].clientY;t.startCoords={x:h-a,y:d-l}}};function Kz(t){var e=t.transformState,n=e.positionX,r=e.positionY,a=e.scale,l=t.setup,u=l.disabled,h=l.limitToBounds,d=l.centerZoomedOut,p=t.wrapperComponent;if(!(u||!p||!t.bounds)){var y=t.bounds,v=y.maxPositionX,E=y.minPositionX,w=y.maxPositionY,D=y.minPositionY,M=n>v||n<E,N=r>w||r<D,U=n>v?p.offsetWidth:t.setup.minPositionX||0,B=r>w?p.offsetHeight:t.setup.minPositionY||0,F=Jd(t,U,B,a,t.bounds,h||d),se=F.x,re=F.y;return{scale:a,positionX:M?se:n,positionY:N?re:r}}}function m2(t,e,n,r,a){var l=t.setup.limitToBounds,u=t.wrapperComponent,h=t.bounds,d=t.transformState,p=d.scale,y=d.positionX,v=d.positionY;if(!(u===null||h===null||e===y&&n===v)){var E=Oc(e,n,h,l,r,a,u),w=E.x,D=E.y;t.setTransformState(p,w,D)}}var Xz=function(t,e,n){var r=t.startCoords,a=t.transformState,l=t.setup.panning,u=l.lockAxisX,h=l.lockAxisY,d=a.positionX,p=a.positionY;if(!r)return{x:d,y:p};var y=e-r.x,v=n-r.y,E=u?d:y,w=h?p:v;return{x:E,y:w}},Xs=function(t,e){var n=t.setup,r=t.transformState,a=r.scale,l=n.minScale,u=n.disablePadding;return e>0&&a>=l&&!u?e:0},$z=function(t){var e=t.mounted,n=t.setup,r=n.disabled,a=n.velocityAnimation,l=t.transformState.scale,u=a.disabled,h=!u||l>1||!r||e;return!!h},Qz=function(t){var e=t.mounted,n=t.velocity,r=t.bounds,a=t.setup,l=a.disabled,u=a.velocityAnimation,h=t.transformState.scale,d=u.disabled,p=!d||h>1||!l||e;return!(!p||!n||!r)};function Wz(t,e){var n=t.setup.velocityAnimation,r=n.equalToMove,a=n.animationTime,l=n.sensitivity;return r?a*e*l:a}function dA(t,e,n,r,a,l,u,h,d,p){if(a){if(e>u&&n>u){var y=u+(t-u)*p;return y>d?d:y<u?u:y}if(e<l&&n<l){var y=l+(t-l)*p;return y<h?h:y>l?l:y}}return r?e:Ly(t,l,u,a)}function Zz(t,e){var n=1;return e?Math.min(n,t.offsetWidth/window.innerWidth):n}function Jz(t,e){var n=$z(t);if(n){var r=t.lastMousePosition,a=t.velocityTime,l=t.setup,u=t.wrapperComponent,h=l.velocityAnimation.equalToMove,d=Date.now();if(r&&a&&u){var p=Zz(u,h),y=e.x-r.x,v=e.y-r.y,E=y/p,w=v/p,D=d-a,M=y*y+v*v,N=Math.sqrt(M)/D;t.velocity={velocityX:E,velocityY:w,total:N}}t.lastMousePosition=e,t.velocityTime=d}}function eB(t){var e=t.velocity,n=t.bounds,r=t.setup,a=t.wrapperComponent,l=Qz(t);if(!(!l||!e||!n||!a)){var u=e.velocityX,h=e.velocityY,d=e.total,p=n.maxPositionX,y=n.minPositionX,v=n.maxPositionY,E=n.minPositionY,w=r.limitToBounds,D=r.alignmentAnimation,M=r.zoomAnimation,N=r.panning,U=N.lockAxisY,B=N.lockAxisX,F=M.animationType,se=D.sizeX,re=D.sizeY,oe=D.velocityAlignmentTime,I=oe,A=Wz(t,d),x=Math.max(A,I),k=Xs(t,se),O=Xs(t,re),H=k*a.offsetWidth/100,P=O*a.offsetHeight/100,Fe=p+H,Xe=y-H,W=v+P,ae=E-P,he=t.transformState,Se=new Date().getTime();d2(t,F,x,function(Ne){var j=t.transformState,ee=j.scale,le=j.positionX,ce=j.positionY,Ee=new Date().getTime()-Se,Re=Ee/I,Ve=h2[D.animationType],gt=1-Ve(Math.min(1,Re)),nt=1-Ne,xi=le+u*nt,hr=ce+h*nt,Fr=dA(xi,he.positionX,le,B,w,y,p,Xe,Fe,gt),Hr=dA(hr,he.positionY,ce,U,w,E,v,ae,W,gt);(le!==xi||ce!==hr)&&t.setTransformState(ee,Fr,Hr)})}}function mA(t,e){var n=t.transformState.scale;Ei(t),Fa(t,n),window.TouchEvent!==void 0&&e instanceof TouchEvent?Yz(t,e):Gz(t,e)}function x0(t,e){var n=t.transformState.scale,r=t.setup,a=r.minScale,l=r.alignmentAnimation,u=l.disabled,h=l.sizeX,d=l.sizeY,p=l.animationTime,y=l.animationType,v=u||n<a||!h&&!d;if(!v){var E=Kz(t);E&&Js(t,E,e??p,y)}}function pA(t,e,n){var r=t.startCoords,a=t.setup,l=a.alignmentAnimation,u=l.sizeX,h=l.sizeY;if(r){var d=Xz(t,e,n),p=d.x,y=d.y,v=Xs(t,u),E=Xs(t,h);Jz(t,{x:p,y}),m2(t,p,y,v,E)}}function tB(t){if(t.isPanning){var e=t.setup.panning.velocityDisabled,n=t.velocity,r=t.wrapperComponent,a=t.contentComponent;t.isPanning=!1,t.animate=!1,t.animation=null;var l=r?.getBoundingClientRect(),u=a?.getBoundingClientRect(),h=l?.width||0,d=l?.height||0,p=u?.width||0,y=u?.height||0,v=h<p||d<y,E=!e&&n&&n?.total>.1&&v;E?eB(t):x0(t)}}function D0(t,e,n,r){var a=t.setup,l=a.minScale,u=a.maxScale,h=a.limitToBounds,d=kc(ii(e,2),l,u,0,!1),p=Fa(t,d),y=Jd(t,n,r,d,p,h),v=y.x,E=y.y;return{scale:d,positionX:v,positionY:E}}function p2(t,e,n){var r=t.transformState.scale,a=t.wrapperComponent,l=t.setup,u=l.minScale,h=l.limitToBounds,d=l.zoomAnimation,p=d.disabled,y=d.animationTime,v=d.animationType,E=p||r>=u;if((r>=1||h)&&x0(t),!(E||!a||!t.mounted)){var w=e||a.offsetWidth/2,D=n||a.offsetHeight/2,M=D0(t,u,w,D);M&&Js(t,M,y,v)}}var Ls=function(){return Ls=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Ls.apply(this,arguments)};function gA(t,e,n){for(var r=0,a=e.length,l;r<a;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return t.concat(l||Array.prototype.slice.call(e))}var wf={scale:1,positionX:0,positionY:0},ku={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},Uy={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},g2=function(t){var e,n,r,a;return{previousScale:(e=t.initialScale)!==null&&e!==void 0?e:wf.scale,scale:(n=t.initialScale)!==null&&n!==void 0?n:wf.scale,positionX:(r=t.initialPositionX)!==null&&r!==void 0?r:wf.positionX,positionY:(a=t.initialPositionY)!==null&&a!==void 0?a:wf.positionY}},yA=function(t){var e=Ls({},ku);return Object.keys(t).forEach(function(n){var r=typeof t[n]<"u",a=typeof ku[n]<"u";if(a&&r){var l=Object.prototype.toString.call(ku[n]),u=l==="[object Object]",h=l==="[object Array]";u?e[n]=Ls(Ls({},ku[n]),t[n]):h?e[n]=gA(gA([],ku[n],!0),t[n]):e[n]=t[n]}}),e},y2=function(t,e,n){var r=t.transformState.scale,a=t.wrapperComponent,l=t.setup,u=l.maxScale,h=l.minScale,d=l.zoomAnimation,p=l.smooth,y=d.size;if(!a)throw new Error("Wrapper is not mounted");var v=p?r*Math.exp(e*n):r+e*n,E=kc(ii(v,3),h,u,y,!1);return E};function v2(t,e,n,r,a){var l=t.wrapperComponent,u=t.transformState,h=u.scale,d=u.positionX,p=u.positionY;if(!l)return console.error("No WrapperComponent found");var y=l.offsetWidth,v=l.offsetHeight,E=(y/2-d)/h,w=(v/2-p)/h,D=y2(t,e,n),M=D0(t,D,E,w);if(!M)return console.error("Error during zoom event. New transformation state was not calculated.");Js(t,M,r,a)}function _2(t,e,n,r){var a=t.setup,l=t.wrapperComponent,u=a.limitToBounds,h=g2(t.props),d=t.transformState,p=d.scale,y=d.positionX,v=d.positionY;if(l){var E=R0(t,h.scale),w=Oc(h.positionX,h.positionY,E,u,0,0,l),D={scale:h.scale,positionX:w.x,positionY:w.y};p===h.scale&&y===h.positionX&&v===h.positionY||(r?.(),Js(t,D,e,n))}}function nB(t,e,n,r){var a=t.getBoundingClientRect(),l=e.getBoundingClientRect(),u=n.getBoundingClientRect(),h=l.x*r.scale,d=l.y*r.scale;return{x:(a.x-u.x+h)/r.scale,y:(a.y-u.y+d)/r.scale}}function iB(t,e,n){var r=t.wrapperComponent,a=t.contentComponent,l=t.transformState,u=t.setup,h=u.limitToBounds,d=u.minScale,p=u.maxScale;if(!r||!a)return l;var y=r.getBoundingClientRect(),v=e.getBoundingClientRect(),E=nB(e,r,a,l),w=E.x,D=E.y,M=v.width/l.scale,N=v.height/l.scale,U=r.offsetWidth/M,B=r.offsetHeight/N,F=kc(n||Math.min(U,B),d,p,0,!1),se=(y.width-M*F)/2,re=(y.height-N*F)/2,oe=(y.left-w)*F+se,I=(y.top-D)*F+re,A=R0(t,F),x=Oc(oe,I,A,h,0,0,r),k=x.x,O=x.y;return{positionX:k,positionY:O,scale:F}}var rB=function(t){return function(e,n,r){e===void 0&&(e=.5),n===void 0&&(n=300),r===void 0&&(r="easeOut"),v2(t,1,e,n,r)}},sB=function(t){return function(e,n,r){e===void 0&&(e=.5),n===void 0&&(n=300),r===void 0&&(r="easeOut"),v2(t,-1,e,n,r)}},aB=function(t){return function(e,n,r,a,l){a===void 0&&(a=300),l===void 0&&(l="easeOut");var u=t.transformState,h=u.positionX,d=u.positionY,p=u.scale,y=t.wrapperComponent,v=t.contentComponent,E=t.setup.disabled;if(!(E||!y||!v)){var w={positionX:Number.isNaN(e)?h:e,positionY:Number.isNaN(n)?d:n,scale:Number.isNaN(r)?p:r};Js(t,w,a,l)}}},oB=function(t){return function(e,n){e===void 0&&(e=200),n===void 0&&(n="easeOut"),_2(t,e,n)}},lB=function(t){return function(e,n,r){n===void 0&&(n=200),r===void 0&&(r="easeOut");var a=t.transformState,l=t.wrapperComponent,u=t.contentComponent;if(l&&u){var h=T2(e||a.scale,l,u);Js(t,h,n,r)}}},uB=function(t){return function(e,n,r,a){r===void 0&&(r=600),a===void 0&&(a="easeOut"),Ei(t);var l=t.wrapperComponent,u=typeof e=="string"?document.getElementById(e):e;if(l&&u&&l.contains(u)){var h=iB(t,u,n);Js(t,h,r,a)}}},jy=function(t){return{instance:t,zoomIn:rB(t),zoomOut:sB(t),setTransform:aB(t),resetTransform:oB(t),centerView:lB(t),zoomToElement:uB(t)}},cB=function(t){return{instance:t,state:t.transformState}},rt=function(t){var e={};return Object.assign(e,cB(t)),Object.assign(e,jy(t)),e},Ug=!1;function jg(){try{var t={get passive(){return Ug=!0,!1}};return t}catch{return Ug=!1,Ug}}var Af=".".concat(Uy.wrapperClass),em=function(t,e){return e.some(function(n){return t.matches("".concat(Af," ").concat(n,", ").concat(Af," .").concat(n,", ").concat(Af," ").concat(n," *, ").concat(Af," .").concat(n," *"))})},zy=function(t){t&&clearTimeout(t)},hB=function(t,e,n){return"translate(".concat(t,"px, ").concat(e,"px) scale(").concat(n,")")},T2=function(t,e,n){var r=n.offsetWidth*t,a=n.offsetHeight*t,l=(e.offsetWidth-r)/2,u=(e.offsetHeight-a)/2;return{scale:t,positionX:l,positionY:u}};function fB(t){return function(e){t.forEach(function(n){typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var dB=function(t,e){var n=t.setup.wheel,r=n.disabled,a=n.wheelDisabled,l=n.touchPadDisabled,u=n.excluded,h=t.isInitialized,d=t.isPanning,p=e.target,y=h&&!d&&!r&&p;if(!y||a&&!e.ctrlKey||l&&e.ctrlKey)return!1;var v=em(p,u);return!v},mB=function(t){return t?t.deltaY<0?1:-1:0};function pB(t,e){var n=mB(t),r=Rz(e,n);return r}function E2(t,e,n){var r=e.getBoundingClientRect(),a=0,l=0;if("clientX"in t)a=(t.clientX-r.left)/n,l=(t.clientY-r.top)/n;else{var u=t.touches[0];a=(u.clientX-r.left)/n,l=(u.clientY-r.top)/n}return(Number.isNaN(a)||Number.isNaN(l))&&console.error("No mouse or touch offset found"),{x:a,y:l}}var gB=function(t,e,n,r,a){var l=t.transformState.scale,u=t.wrapperComponent,h=t.setup,d=h.maxScale,p=h.minScale,y=h.zoomAnimation,v=h.disablePadding,E=y.size,w=y.disabled;if(!u)throw new Error("Wrapper is not mounted");var D=l+e*n,M=r?!1:!w,N=kc(ii(D,3),p,d,E,M&&!v);return N},yB=function(t,e){var n=t.previousWheelEvent,r=t.transformState.scale,a=t.setup,l=a.maxScale,u=a.minScale;return n?r<l||r>u||Math.sign(n.deltaY)!==Math.sign(e.deltaY)||n.deltaY>0&&n.deltaY<e.deltaY||n.deltaY<0&&n.deltaY>e.deltaY||Math.sign(n.deltaY)!==Math.sign(e.deltaY):!1},vB=function(t,e){var n=t.setup.pinch,r=n.disabled,a=n.excluded,l=t.isInitialized,u=e.target,h=l&&!r&&u;if(!h)return!1;var d=em(u,a);return!d},_B=function(t){var e=t.setup.pinch.disabled,n=t.isInitialized,r=t.pinchStartDistance,a=n&&!e&&r;return!!a},TB=function(t,e,n){var r=n.getBoundingClientRect(),a=t.touches,l=ii(a[0].clientX-r.left,5),u=ii(a[0].clientY-r.top,5),h=ii(a[1].clientX-r.left,5),d=ii(a[1].clientY-r.top,5);return{x:(l+h)/2/e,y:(u+d)/2/e}},b2=function(t){return Math.sqrt(Math.pow(t.touches[0].pageX-t.touches[1].pageX,2)+Math.pow(t.touches[0].pageY-t.touches[1].pageY,2))},EB=function(t,e){var n=t.pinchStartScale,r=t.pinchStartDistance,a=t.setup,l=a.maxScale,u=a.minScale,h=a.zoomAnimation,d=a.disablePadding,p=h.size,y=h.disabled;if(!n||r===null||!e)throw new Error("Pinch touches distance was not provided");if(e<0)return t.transformState.scale;var v=e/r,E=v*n;return kc(ii(E,2),u,l,p,!y&&!d)},bB=160,SB=100,wB=function(t,e){var n=t.props,r=n.onWheelStart,a=n.onZoomStart;t.wheelStopEventTimer||(Ei(t),ht(rt(t),e,r),ht(rt(t),e,a))},AB=function(t,e){var n=t.props,r=n.onWheel,a=n.onZoom,l=t.contentComponent,u=t.setup,h=t.transformState,d=h.scale,p=u.limitToBounds,y=u.centerZoomedOut,v=u.zoomAnimation,E=u.wheel,w=u.disablePadding,D=u.smooth,M=v.size,N=v.disabled,U=E.step,B=E.smoothStep;if(!l)throw new Error("Component not mounted");e.preventDefault(),e.stopPropagation();var F=pB(e,null),se=D?B*Math.abs(e.deltaY):U,re=gB(t,F,se,!e.ctrlKey);if(d!==re){var oe=Fa(t,re),I=E2(e,l,d),A=N||M===0||y||w,x=p&&A,k=Jd(t,I.x,I.y,re,oe,x),O=k.x,H=k.y;t.previousWheelEvent=e,t.setTransformState(re,O,H),ht(rt(t),e,r),ht(rt(t),e,a)}},CB=function(t,e){var n=t.props,r=n.onWheelStop,a=n.onZoomStop;zy(t.wheelAnimationTimer),t.wheelAnimationTimer=setTimeout(function(){t.mounted&&(p2(t,e.x,e.y),t.wheelAnimationTimer=null)},SB);var l=yB(t,e);l&&(zy(t.wheelStopEventTimer),t.wheelStopEventTimer=setTimeout(function(){t.mounted&&(t.wheelStopEventTimer=null,ht(rt(t),e,r),ht(rt(t),e,a))},bB))},S2=function(t){for(var e=0,n=0,r=0;r<2;r+=1)e+=t.touches[r].clientX,n+=t.touches[r].clientY;var a=e/2,l=n/2;return{x:a,y:l}},RB=function(t,e){var n=b2(e);t.pinchStartDistance=n,t.lastDistance=n,t.pinchStartScale=t.transformState.scale,t.isPanning=!1;var r=S2(e);t.pinchLastCenterX=r.x,t.pinchLastCenterY=r.y,Ei(t)},xB=function(t,e){var n=t.contentComponent,r=t.pinchStartDistance,a=t.wrapperComponent,l=t.transformState.scale,u=t.setup,h=u.limitToBounds,d=u.centerZoomedOut,p=u.zoomAnimation,y=u.alignmentAnimation,v=p.disabled,E=p.size;if(!(r===null||!n)){var w=TB(e,l,n);if(!(!Number.isFinite(w.x)||!Number.isFinite(w.y))){var D=b2(e),M=EB(t,D),N=S2(e),U=N.x-(t.pinchLastCenterX||0),B=N.y-(t.pinchLastCenterY||0);if(!(M===l&&U===0&&B===0)){t.pinchLastCenterX=N.x,t.pinchLastCenterY=N.y;var F=Fa(t,M),se=v||E===0||d,re=h&&se,oe=Jd(t,w.x,w.y,M,F,re),I=oe.x,A=oe.y;t.pinchMidpoint=w,t.lastDistance=D;var x=y.sizeX,k=y.sizeY,O=Xs(t,x),H=Xs(t,k),P=I+U,Fe=A+B,Xe=Oc(P,Fe,F,h,O,H,a),W=Xe.x,ae=Xe.y;t.setTransformState(M,W,ae)}}}},DB=function(t){var e=t.pinchMidpoint;t.velocity=null,t.lastDistance=null,t.pinchMidpoint=null,t.pinchStartScale=null,t.pinchStartDistance=null,p2(t,e?.x,e?.y)},w2=function(t,e){var n=t.props.onZoomStop,r=t.setup.doubleClick.animationTime;zy(t.doubleClickStopEventTimer),t.doubleClickStopEventTimer=setTimeout(function(){t.doubleClickStopEventTimer=null,ht(rt(t),e,n)},r)},IB=function(t,e){var n=t.props,r=n.onZoomStart,a=n.onZoom,l=t.setup.doubleClick,u=l.animationTime,h=l.animationType;ht(rt(t),e,r),_2(t,u,h,function(){return ht(rt(t),e,a)}),w2(t,e)};function NB(t,e){return t==="toggle"?e===1?1:-1:t==="zoomOut"?-1:1}function MB(t,e){var n=t.setup,r=t.doubleClickStopEventTimer,a=t.transformState,l=t.contentComponent,u=a.scale,h=t.props,d=h.onZoomStart,p=h.onZoom,y=n.doubleClick,v=y.disabled,E=y.mode,w=y.step,D=y.animationTime,M=y.animationType;if(!v&&!r){if(E==="reset")return IB(t,e);if(!l)return console.error("No ContentComponent found");var N=NB(E,t.transformState.scale),U=y2(t,N,w);if(u!==U){ht(rt(t),e,d);var B=E2(e,l,u),F=D0(t,U,B.x,B.y);if(!F)return console.error("Error during zoom event. New transformation state was not calculated.");ht(rt(t),e,p),Js(t,F,D,M),w2(t,e)}}}var PB=function(t,e){var n=t.isInitialized,r=t.setup,a=t.wrapperComponent,l=r.doubleClick,u=l.disabled,h=l.excluded,d=e.target,p=a?.contains(d),y=n&&d&&p&&!u;if(!y)return!1;var v=em(d,h);return!v},VB=(function(){function t(e){var n=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){n.initializeWindowEvents()},this.unmount=function(){n.cleanupWindowEvents()},this.update=function(r){n.props=r,Fa(n,n.transformState.scale),n.setup=yA(r)},this.initializeWindowEvents=function(){var r,a,l=jg(),u=(r=n.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,h=u?.defaultView;(a=n.wrapperComponent)===null||a===void 0||a.addEventListener("wheel",n.onWheelPanning,l),h?.addEventListener("mousedown",n.onPanningStart,l),h?.addEventListener("mousemove",n.onPanning,l),h?.addEventListener("mouseup",n.onPanningStop,l),u?.addEventListener("mouseleave",n.clearPanning,l),h?.addEventListener("keyup",n.setKeyUnPressed,l),h?.addEventListener("keydown",n.setKeyPressed,l)},this.cleanupWindowEvents=function(){var r,a,l=jg(),u=(r=n.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,h=u?.defaultView;h?.removeEventListener("mousedown",n.onPanningStart,l),h?.removeEventListener("mousemove",n.onPanning,l),h?.removeEventListener("mouseup",n.onPanningStop,l),u?.removeEventListener("mouseleave",n.clearPanning,l),h?.removeEventListener("keyup",n.setKeyUnPressed,l),h?.removeEventListener("keydown",n.setKeyPressed,l),document.removeEventListener("mouseleave",n.clearPanning,l),Ei(n),(a=n.observer)===null||a===void 0||a.disconnect()},this.handleInitializeWrapperEvents=function(r){var a=jg();r.addEventListener("wheel",n.onWheelZoom,a),r.addEventListener("dblclick",n.onDoubleClick,a),r.addEventListener("touchstart",n.onTouchPanningStart,a),r.addEventListener("touchmove",n.onTouchPanning,a),r.addEventListener("touchend",n.onTouchPanningStop,a)},this.handleInitialize=function(r,a){var l=!1,u=n.setup.centerOnInit,h=function(d,p){for(var y=0,v=d;y<v.length;y++){var E=v[y];if(E.target===p)return!0}return!1};n.applyTransformation(),n.onInitCallbacks.forEach(function(d){d(rt(n))}),n.observer=new ResizeObserver(function(d){if(h(d,r)||h(d,a))if(u&&!l){var p=a.offsetWidth,y=a.offsetHeight;(p>0||y>0)&&(l=!0,n.setCenter())}else Ei(n),Fa(n,n.transformState.scale),x0(n,0)}),n.observer.observe(r),n.observer.observe(a)},this.onWheelZoom=function(r){var a=n.setup.disabled;if(!a){var l=dB(n,r);if(l){var u=n.isPressingKeys(n.setup.wheel.activationKeys);u&&(wB(n,r),AB(n,r),CB(n,r))}}},this.onWheelPanning=function(r){var a=n.setup,l=a.disabled,u=a.wheel,h=a.panning;if(!(!n.wrapperComponent||!n.contentComponent||l||!u.wheelDisabled||h.disabled||!h.wheelPanning||r.ctrlKey)){r.preventDefault(),r.stopPropagation();var d=n.transformState,p=d.positionX,y=d.positionY,v=p-r.deltaX,E=y-r.deltaY,w=h.lockAxisX?p:v,D=h.lockAxisY?y:E,M=n.setup.alignmentAnimation,N=M.sizeX,U=M.sizeY,B=Xs(n,N),F=Xs(n,U);w===p&&D===y||m2(n,w,D,B,F)}},this.onPanningStart=function(r){var a=n.setup.disabled,l=n.props.onPanningStart;if(!a){var u=hA(n,r);if(u){var h=n.isPressingKeys(n.setup.panning.activationKeys);h&&(r.button===0&&!n.setup.panning.allowLeftClickPan||r.button===1&&!n.setup.panning.allowMiddleClickPan||r.button===2&&!n.setup.panning.allowRightClickPan||(r.preventDefault(),r.stopPropagation(),Ei(n),mA(n,r),ht(rt(n),r,l)))}}},this.onPanning=function(r){var a=n.setup.disabled,l=n.props.onPanning;if(!a){var u=fA(n);if(u){var h=n.isPressingKeys(n.setup.panning.activationKeys);h&&(r.preventDefault(),r.stopPropagation(),pA(n,r.clientX,r.clientY),ht(rt(n),r,l))}}},this.onPanningStop=function(r){var a=n.props.onPanningStop;n.isPanning&&(tB(n),ht(rt(n),r,a))},this.onPinchStart=function(r){var a=n.setup.disabled,l=n.props,u=l.onPinchingStart,h=l.onZoomStart;if(!a){var d=vB(n,r);d&&(RB(n,r),Ei(n),ht(rt(n),r,u),ht(rt(n),r,h))}},this.onPinch=function(r){var a=n.setup.disabled,l=n.props,u=l.onPinching,h=l.onZoom;if(!a){var d=_B(n);d&&(r.preventDefault(),r.stopPropagation(),xB(n,r),ht(rt(n),r,u),ht(rt(n),r,h))}},this.onPinchStop=function(r){var a=n.props,l=a.onPinchingStop,u=a.onZoomStop;n.pinchStartScale&&(DB(n),ht(rt(n),r,l),ht(rt(n),r,u))},this.onTouchPanningStart=function(r){var a=n.setup.disabled,l=n.props.onPanningStart;if(!a){var u=hA(n,r);if(u){var h=n.lastTouch&&+new Date-n.lastTouch<200&&r.touches.length===1;if(!h){n.lastTouch=+new Date,Ei(n);var d=r.touches,p=d.length===1,y=d.length===2;p&&(Ei(n),mA(n,r),ht(rt(n),r,l)),y&&n.onPinchStart(r)}}}},this.onTouchPanning=function(r){var a=n.setup.disabled,l=n.props.onPanning;if(n.isPanning&&r.touches.length===1){if(a)return;var u=fA(n);if(!u)return;r.preventDefault(),r.stopPropagation();var h=r.touches[0];pA(n,h.clientX,h.clientY),ht(rt(n),r,l)}else r.touches.length>1&&n.onPinch(r)},this.onTouchPanningStop=function(r){n.onPanningStop(r),n.onPinchStop(r)},this.onDoubleClick=function(r){var a=n.setup.disabled;if(!a){var l=PB(n,r);l&&MB(n,r)}},this.clearPanning=function(r){n.isPanning&&n.onPanningStop(r)},this.setKeyPressed=function(r){n.pressedKeys[r.key]=!0},this.setKeyUnPressed=function(r){n.pressedKeys[r.key]=!1},this.isPressingKeys=function(r){return r.length?!!r.find(function(a){return n.pressedKeys[a]}):!0},this.setTransformState=function(r,a,l){var u=n.props.onTransformed;if(!Number.isNaN(r)&&!Number.isNaN(a)&&!Number.isNaN(l)){r!==n.transformState.scale&&(n.transformState.previousScale=n.transformState.scale,n.transformState.scale=r),n.transformState.positionX=a,n.transformState.positionY=l,n.applyTransformation();var h=rt(n);n.onChangeCallbacks.forEach(function(d){return d(h)}),ht(h,{scale:r,positionX:a,positionY:l},u)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(n.wrapperComponent&&n.contentComponent){var r=T2(n.transformState.scale,n.wrapperComponent,n.contentComponent);n.setTransformState(r.scale,r.positionX,r.positionY)}},this.handleTransformStyles=function(r,a,l){return n.props.customTransform?n.props.customTransform(r,a,l):hB(r,a,l)},this.applyTransformation=function(){if(!(!n.mounted||!n.contentComponent)){var r=n.transformState,a=r.scale,l=r.positionX,u=r.positionY,h=n.handleTransformStyles(l,u,a);n.contentComponent.style.transform=h}},this.getContext=function(){return rt(n)},this.onChange=function(r){return n.onChangeCallbacks.has(r)||n.onChangeCallbacks.add(r),function(){n.onChangeCallbacks.delete(r)}},this.onInit=function(r){return n.onInitCallbacks.has(r)||n.onInitCallbacks.add(r),function(){n.onInitCallbacks.delete(r)}},this.init=function(r,a){n.cleanupWindowEvents(),n.wrapperComponent=r,n.contentComponent=a,Fa(n,n.transformState.scale),n.handleInitializeWrapperEvents(r),n.handleInitialize(r,a),n.initializeWindowEvents(),n.isInitialized=!0;var l=rt(n);ht(l,void 0,n.props.onInit)},this.props=e,this.setup=yA(this.props),this.transformState=g2(this.props)}return t})(),I0=ti.createContext(null),OB=function(t,e){return typeof t=="function"?t(e):t},kB=ti.forwardRef(function(t,e){var n=L.useRef(new VB(t)).current,r=OB(t.children,jy(n));return L.useImperativeHandle(e,function(){return jy(n)},[n]),L.useEffect(function(){n.update(t)},[n,t]),ti.createElement(I0.Provider,{value:n},r)});ti.forwardRef(function(t,e){var n=L.useRef(null),r=L.useContext(I0);return L.useEffect(function(){return r.onChange(function(a){if(n.current){var l=0,u=0;n.current.style.transform=r.handleTransformStyles(l,u,1/a.instance.transformState.scale)}})},[r]),ti.createElement("div",Ls({},t,{ref:fB([n,e])}))});function LB(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",n==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}}var UB=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,vA={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};LB(UB);var jB=function(t){var e=t.children,n=t.wrapperClass,r=n===void 0?"":n,a=t.contentClass,l=a===void 0?"":a,u=t.wrapperStyle,h=t.contentStyle,d=t.wrapperProps,p=d===void 0?{}:d,y=t.contentProps,v=y===void 0?{}:y,E=L.useContext(I0),w=E.init,D=E.cleanupWindowEvents,M=L.useRef(null),N=L.useRef(null);return L.useEffect(function(){var U=M.current,B=N.current;return U!==null&&B!==null&&w&&w?.(U,B),function(){D?.()}},[]),ti.createElement("div",Ls({},p,{ref:M,className:"".concat(Uy.wrapperClass," ").concat(vA.wrapper," ").concat(r),style:u}),ti.createElement("div",Ls({},v,{ref:N,className:"".concat(Uy.contentClass," ").concat(vA.content," ").concat(l),style:h}),e))};const zB=()=>{const{id:t}=FI(),[e,n]=L.useState(null),[r,a]=L.useState(!0),l=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],u=ti.useRef(null),[h,d]=ti.useState(window.innerWidth<768),[p,y]=ti.useState(!1);return L.useEffect(()=>{(async()=>{try{const E=cd(Jo,"messes",t),w=await z5(E);w.exists()&&n({id:w.id,...w.data()})}catch(E){console.error("Error fetching mess:",E)}finally{a(!1)}})()},[t]),ti.useEffect(()=>{const v=()=>d(window.innerWidth<768);return window.addEventListener("resize",v),t&&localStorage.setItem("lastViewedMess",t),()=>window.removeEventListener("resize",v)},[t]),r?R.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:R.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):e?R.jsxs("div",{className:"min-h-screen bg-gray-50 relative",children:[R.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[R.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),R.jsx("div",{className:"absolute top-0 -left-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"})]}),R.jsx(Cd,{}),R.jsxs("main",{className:"relative z-10 pt-20 pb-4 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto h-[calc(100vh-20px)] flex flex-col",children:[R.jsxs(La,{to:"/",className:"inline-flex items-center text-gray-600 hover:text-orange-600 mb-2 transition-colors text-sm",children:[R.jsx(FN,{size:16,className:"mr-1"}),"Back"]}),R.jsxs(wn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/60 backdrop-blur-xl rounded-2xl shadow-2xl overflow-hidden border border-white/50 flex flex-col flex-1 min-h-0",children:[R.jsx("div",{className:Ds("px-4 py-2 md:px-6 md:py-3 bg-gradient-to-r text-white shrink-0",e.color),children:R.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-2 md:gap-0",children:[R.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:e.name}),R.jsxs("div",{className:"flex items-center gap-2 md:gap-3 w-full md:w-auto",children:[R.jsxs("button",{onClick:()=>u.current?.resetTransform(),className:"flex-1 md:flex-none justify-center px-3 py-1 bg-white/20 hover:bg-white/30 text-white rounded-full text-[10px] md:text-xs font-medium transition-colors backdrop-blur-sm border border-white/20 flex items-center gap-1 cursor-pointer",title:"Click to reset view",children:[R.jsx(jA,{size:12}),"Weekly Menu"]}),R.jsxs("button",{onClick:()=>y(!0),className:"flex-1 md:flex-none justify-center px-3 py-1 bg-white/20 hover:bg-white/30 text-white rounded-full text-[10px] md:text-xs font-medium transition-colors backdrop-blur-sm border border-white/20 flex items-center gap-1",children:[R.jsx(Fg,{size:12}),"Today's Menu"]})]})]})}),R.jsx("div",{className:Ds("flex-1 relative bg-gray-50/50",h?"overflow-hidden":"overflow-auto"),children:(()=>{const v=()=>{const N=new Date,U=N.getDay(),B=N.getDate()-U+(U===0?-6:1),F=new Date(N.setDate(B));return F.setHours(0,0,0,0),F},E=e.lastUpdated?new Date(e.lastUpdated):null,w=v(),D=!E||E<w,M=e.menu&&Object.keys(e.menu).some(N=>{const U=e.menu[N];return U?Object.values(U).some(B=>B&&B!=="N/A"&&B.trim()!==""):!1});return D||!M?R.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[R.jsx("div",{className:Ds("text-3xl md:text-4xl font-bold mb-2 bg-clip-text text-transparent bg-gradient-to-r",e.color),children:"Menu Not Uploaded"}),R.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Check back later for this week's menu"})]}):h?R.jsx(kB,{ref:u,initialScale:1,minScale:.5,maxScale:3,centerOnInit:!1,wheel:{step:.1},limitToBounds:!1,children:R.jsx(jB,{wrapperClass:"!w-full !h-full",contentClass:"!w-full",children:R.jsx(_A,{days:l,mess:e})})}):R.jsx(_A,{days:l,mess:e})})()})]})]}),R.jsx(el,{children:p&&R.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>y(!1),children:R.jsxs(wn.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},onClick:v=>v.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[R.jsxs("div",{className:Ds("p-4 bg-gradient-to-r text-white flex justify-between items-center",e.color),children:[R.jsxs("h3",{className:"text-lg font-bold",children:["Today's Menu (",new Date().toLocaleDateString("en-US",{weekday:"long"}),")"]}),R.jsx("button",{onClick:()=>y(!1),className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:R.jsx(qf,{size:20})})]}),R.jsx("div",{className:"p-6 space-y-4",children:(()=>{const v=()=>{const B=new Date,F=B.getDay(),se=B.getDate()-F+(F===0?-6:1),re=new Date(B.setDate(se));return re.setHours(0,0,0,0),re},E=e.lastUpdated?new Date(e.lastUpdated):null,w=v(),D=!E||E<w,M=e.menu&&Object.keys(e.menu).some(B=>{const F=e.menu[B];return F?Object.values(F).some(se=>se&&se!=="N/A"&&se.trim()!==""):!1});if(D||!M)return R.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[R.jsx("div",{className:"text-xl font-bold text-gray-400 mb-2",children:"Menu Not Uploaded"}),R.jsx("p",{className:"text-sm text-gray-400",children:"Check back later"})]});const N=new Date().toLocaleDateString("en-US",{weekday:"long"}),U=e.menu[N]||e.menu.Monday;return R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"p-3 rounded-xl bg-orange-50 border border-orange-100",children:[R.jsx("h4",{className:"text-xs font-bold text-orange-600 uppercase tracking-wider mb-1",children:"Breakfast"}),R.jsx("p",{className:"text-gray-800 text-sm",children:Ns(U.Breakfast)})]}),R.jsxs("div",{className:"p-3 rounded-xl bg-green-50 border border-green-100",children:[R.jsx("h4",{className:"text-xs font-bold text-green-600 uppercase tracking-wider mb-1",children:"Lunch"}),R.jsx("p",{className:"text-gray-800 text-sm",children:Ns(U.Lunch)})]}),R.jsxs("div",{className:"p-3 rounded-xl bg-yellow-50 border border-yellow-100",children:[R.jsx("h4",{className:"text-xs font-bold text-yellow-600 uppercase tracking-wider mb-1",children:"Snacks"}),R.jsx("p",{className:"text-gray-800 text-sm",children:Ns(U.Snacks)})]}),R.jsxs("div",{className:"p-3 rounded-xl bg-blue-50 border border-blue-100",children:[R.jsx("h4",{className:"text-xs font-bold text-blue-600 uppercase tracking-wider mb-1",children:"Dinner"}),R.jsx("p",{className:"text-gray-800 text-sm",children:Ns(U.Dinner)})]})]})})()})]})})})]}):R.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Mess not found"})},Ns=t=>t?t.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"",_A=({days:t,mess:e})=>R.jsxs("table",{className:"w-full text-left border-collapse min-w-[600px] bg-white origin-top-left h-full",children:[R.jsx("thead",{className:"bg-white/95 backdrop-blur-sm shadow-sm sticky top-0 z-10",children:R.jsxs("tr",{className:"border-b border-gray-200",children:[R.jsx("th",{className:"py-2 px-3 font-bold text-gray-500 uppercase tracking-wider text-[10px]",children:"Day"}),R.jsx("th",{className:"py-2 px-3 font-bold text-orange-600 uppercase tracking-wider text-[10px]",children:"Breakfast"}),R.jsx("th",{className:"py-2 px-3 font-bold text-green-600 uppercase tracking-wider text-[10px]",children:"Lunch"}),R.jsx("th",{className:"py-2 px-3 font-bold text-yellow-600 uppercase tracking-wider text-[10px]",children:"Snacks"}),R.jsx("th",{className:"py-2 px-3 font-bold text-blue-600 uppercase tracking-wider text-[10px]",children:"Dinner"})]})}),R.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(n=>R.jsxs("tr",{id:`row-${n}`,className:"hover:bg-gray-50 transition-colors group duration-300",children:[R.jsx("td",{className:"py-1.5 px-3 font-bold text-gray-800 text-[10px]",children:n}),R.jsx("td",{className:"py-1.5 px-3 text-gray-600 group-hover:text-gray-900 text-[10px] leading-tight",children:Ns(e.menu[n]?.Breakfast)}),R.jsx("td",{className:"py-1.5 px-3 text-gray-600 group-hover:text-gray-900 text-[10px] leading-tight",children:Ns(e.menu[n]?.Lunch)}),R.jsx("td",{className:"py-1.5 px-3 text-gray-600 group-hover:text-gray-900 text-[10px] leading-tight",children:Ns(e.menu[n]?.Snacks)}),R.jsx("td",{className:"py-1.5 px-3 text-gray-600 group-hover:text-gray-900 text-[10px] leading-tight",children:Ns(e.menu[n]?.Dinner)})]},n))})]}),BB=()=>{const[t,e]=L.useState("admin@mitmess.com"),[n,r]=L.useState(""),[a,l]=L.useState(""),[u,h]=L.useState(!0),d=Hy();L.useEffect(()=>{const v=Mx(Ff,E=>{E?d("/admin/dashboard"):h(!1)});return()=>v()},[d]);const p=async v=>{v.preventDefault(),h(!0),l("");try{await qU(Ff,Ox),await HU(Ff,t,n)}catch(E){console.error("Login error:",E),l("Invalid password"),h(!1)}},y=v=>{window.innerWidth<768&&v.target===v.currentTarget&&d("/")};return R.jsxs("div",{className:"min-h-screen bg-gray-50 relative flex flex-col",children:[R.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[R.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),R.jsx("div",{className:"absolute top-0 -left-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"})]}),R.jsx(Cd,{}),R.jsx("div",{className:"flex-1 flex items-center justify-center relative z-10 px-4 cursor-pointer md:cursor-default",onClick:y,children:R.jsxs(wn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-xl p-8 rounded-2xl shadow-2xl w-full max-w-md border border-white/50 cursor-default",onClick:v=>v.stopPropagation(),children:[R.jsxs("div",{className:"text-center mb-8",children:[R.jsx("div",{className:"bg-orange-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:R.jsx(QN,{className:"text-orange-600",size:32})}),R.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Admin Login"}),R.jsx("p",{className:"text-gray-500 mt-2",children:"Enter your password to access the dashboard"})]}),R.jsxs("form",{onSubmit:p,className:"space-y-6",children:[R.jsxs("div",{children:[R.jsx("input",{type:"password",value:n,onChange:v=>r(v.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-all bg-white/50",placeholder:"Password",autoFocus:!0}),a&&R.jsx("p",{className:"text-red-500 text-sm mt-2 ml-1",children:a})]}),R.jsx("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-orange-600 to-red-600 text-white py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:u?R.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):R.jsxs(R.Fragment,{children:["Login ",R.jsx(UA,{size:20})]})})]})]})})]})},FB="modulepreload",HB=function(t,e){return new URL(t,e).href},TA={},qB=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let p=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};const u=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");a=p(n.map(y=>{if(y=HB(y,r),y in TA)return;TA[y]=!0;const v=y.endsWith(".css"),E=v?'[rel="stylesheet"]':"";if(r)for(let D=u.length-1;D>=0;D--){const M=u[D];if(M.href===y&&(!v||M.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${y}"]${E}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":FB,v||(w.as="script"),w.crossOrigin="",w.href=y,d&&w.setAttribute("nonce",d),document.head.appendChild(w),v)return new Promise((D,M)=>{w.addEventListener("load",D),w.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},GB=()=>{const[t,e]=L.useState([]),[n,r]=L.useState(""),[a,l]=L.useState(!1),[u,h]=L.useState("idle"),[d,p]=L.useState(""),[y,v]=L.useState(!1),[E,w]=L.useState(""),[D,M]=L.useState("from-orange-500 to-red-500"),N=Hy(),U=async()=>{const x=(await B5(Ny(Jo,"messes"))).docs.map(k=>({id:k.id,...k.data()}));e(x),x.length>0&&!n&&r(x[0].id)};L.useEffect(()=>{const A=Mx(Ff,x=>{x||N("/admin")});return U(),()=>A()},[N]);const B=A=>{A.preventDefault(),l(!0)},F=()=>{l(!1)},se=A=>{A.preventDefault(),l(!1);const x=A.dataTransfer.files;x.length>0&&I(x[0])},re=async A=>{if(A.preventDefault(),!!E)try{const x={Monday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Tuesday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Wednesday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Thursday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Friday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Saturday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Sunday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"}},k=await q5(Ny(Jo,"messes"),{name:E,color:D,menu:x,lastUpdated:new Date().toISOString()});w(""),v(!1),await U(),r(k.id),alert("Mess added successfully!")}catch(x){console.error("Error adding mess: ",x),alert("Failed to add mess.")}},oe=async()=>{if(n&&window.confirm("Are you sure you want to delete this mess? This action cannot be undone."))try{await H5(cd(Jo,"messes",n)),await U(),t.length>1?r(t[0].id===n?t[1].id:t[0].id):r(""),alert("Mess deleted successfully.")}catch(A){console.error("Error deleting mess: ",A),alert("Failed to delete mess.")}},I=async A=>{h("uploading"),p("");try{const x=new FileReader;x.readAsDataURL(A),x.onload=async()=>{const k=x.result.split(",")[1];h("processing");try{console.log("VERSION: GEMINI-2.0-FLASH-FINAL");const{GoogleGenerativeAI:O}=await qB(async()=>{const{GoogleGenerativeAI:le}=await import("./index-eZp-A-GY.js");return{GoogleGenerativeAI:le}},[],import.meta.url),P=new O("AIzaSyBiZukqBjGS2nd2lyyVTCle02aHth6jrLQ").getGenerativeModel({model:"gemini-2.0-flash"}),Fe=`
                    Extract the weekly menu from this image and return it as a strictly valid JSON object.
                    
                    CRITICAL INSTRUCTION: You must extract EVERY SINGLE DISH listed for each meal. 
                    - Do NOT summarize. 
                    - Do NOT truncate. 
                    - List all items separated by commas exactly as they appear in the image.
                    - If there are multiple items (e.g., "Rice, Dal, Curd"), include ALL of them.
                    - **IMPORTANT: Format all text in Sentence case (e.g., "Paneer butter masala", "Mix veg paratha"). Do NOT use ALL CAPS.**

                    The JSON structure must be exactly like this:
                    {
                        "Monday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Tuesday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Wednesday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Thursday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Friday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Saturday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Sunday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." }
                    }
                    If a meal is missing, use "N/A".
                    Do not include any markdown formatting (like \`\`\`json), just the raw JSON string.
                    `,Xe=new Promise((le,ce)=>setTimeout(()=>ce(new Error("Request timed out (30s)")),3e4)),W=P.generateContent([Fe,{inlineData:{data:k,mimeType:A.type}}]),Se=(await(await Promise.race([W,Xe])).response).text();console.log("Gemini Response:",Se);const Ne=Se.replace(/```json/g,"").replace(/```/g,"").trim();let j;try{j=JSON.parse(Ne)}catch(le){throw console.error("JSON Parse Error:",le),new Error("AI returned invalid data. Try a clearer image.")}const ee=cd(Jo,"messes",n);await F5(ee,{menu:j,lastUpdated:new Date().toISOString()}),h("success")}catch(O){console.error("Gemini/Firestore Error:",O),h("error"),p(O.message||"Unknown error occurred")}}}catch(x){console.error("File Reading Error:",x),h("error"),p("Failed to read the file.")}};return R.jsxs("div",{className:"min-h-screen bg-gray-50 relative",children:[R.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[R.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),R.jsx("div",{className:"absolute top-0 -left-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"})]}),R.jsx(Cd,{}),R.jsx("main",{className:"relative z-10 pt-24 pb-12 px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto",children:R.jsxs(wn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/50 overflow-hidden",children:[R.jsxs("div",{className:"p-8 border-b border-gray-100",children:[R.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Menu Dashboard"}),R.jsx("p",{className:"text-gray-500 mt-2",children:"Update weekly menus using AI-powered image recognition"})]}),R.jsxs("div",{className:"p-8",children:[R.jsxs("div",{className:"mb-8 flex items-end gap-4",children:[R.jsxs("div",{className:"flex-1",children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Mess"}),R.jsx("select",{value:n,onChange:A=>r(A.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none bg-white/50",children:t.map(A=>R.jsx("option",{value:A.id,children:A.name},A.id))})]}),R.jsx("button",{onClick:()=>v(!0),className:"p-3 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",title:"Add New Mess",children:R.jsx(eM,{size:24})}),R.jsx("button",{onClick:oe,className:"p-3 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",title:"Delete Selected Mess",children:R.jsx(sM,{size:24})})]}),R.jsxs(el,{mode:"wait",children:[u==="idle"&&R.jsxs(wn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`border-3 border-dashed rounded-2xl p-12 text-center transition-all duration-300 ${a?"border-orange-500 bg-orange-50":"border-gray-300 hover:border-orange-400 hover:bg-gray-50"}`,onDragOver:B,onDragLeave:F,onDrop:se,children:[R.jsx("div",{className:"bg-orange-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:R.jsx(mb,{className:"text-orange-600",size:40})}),R.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Drag & Drop Menu Image"}),R.jsx("p",{className:"text-gray-500 mb-6",children:"or click to browse files"}),R.jsx("input",{type:"file",id:"file-upload",className:"hidden",onChange:A=>{A.target.files.length>0&&I(A.target.files[0])},accept:"image/*"}),R.jsx("label",{htmlFor:"file-upload",className:"px-6 py-2 bg-white border border-gray-200 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors shadow-sm cursor-pointer",children:"Browse Files"})]}),(u==="uploading"||u==="processing")&&R.jsxs(wn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0},className:"border rounded-2xl p-12 text-center bg-white/50",children:[R.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-6",children:[R.jsx("div",{className:"absolute inset-0 border-4 border-orange-100 rounded-full"}),R.jsx("div",{className:"absolute inset-0 border-4 border-orange-500 rounded-full border-t-transparent animate-spin"}),R.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u==="uploading"?R.jsx(mb,{className:"text-orange-500 animate-pulse",size:32}):R.jsx(XN,{className:"text-orange-500 animate-pulse",size:32})})]}),R.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:u==="uploading"?"Uploading Image...":"AI Processing..."}),R.jsx("p",{className:"text-gray-500",children:u==="uploading"?"Sending to server":"Extracting menu items from image"})]}),u==="success"&&R.jsxs(wn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"border border-green-200 bg-green-50/50 rounded-2xl p-12 text-center",children:[R.jsx("div",{className:"bg-green-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:R.jsx(GN,{className:"text-green-600",size:40})}),R.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Menu Updated Successfully!"}),R.jsxs("p",{className:"text-gray-600 mb-6",children:["The menu for ",R.jsx("span",{className:"font-semibold",children:t.find(A=>A.id===n)?.name})," has been updated."]}),R.jsx("button",{onClick:()=>h("idle"),className:"px-6 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors shadow-lg",children:"Upload Another"})]}),u==="error"&&R.jsxs(wn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"border border-red-200 bg-red-50/50 rounded-2xl p-8 text-center",children:[R.jsx("h3",{className:"text-xl font-semibold text-red-900 mb-2",children:"Upload Failed"}),R.jsx("p",{className:"text-red-600 mb-6 font-mono text-sm bg-red-100 p-3 rounded",children:d}),R.jsx("button",{onClick:()=>h("idle"),className:"px-6 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors shadow-lg",children:"Try Again"})]})]})]})]})}),R.jsx(el,{children:y&&R.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:R.jsxs(wn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:[R.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[R.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add New Mess"}),R.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:R.jsx(qf,{size:24})})]}),R.jsxs("form",{onSubmit:re,className:"p-6 space-y-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mess Name"}),R.jsx("input",{type:"text",value:E,onChange:A=>w(A.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",placeholder:"e.g., New Hostel Mess",required:!0})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Theme Color"}),R.jsxs("select",{value:D,onChange:A=>M(A.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",children:[R.jsx("option",{value:"from-orange-500 to-red-500",children:"Orange (Default)"}),R.jsx("option",{value:"from-blue-500 to-cyan-500",children:"Blue"}),R.jsx("option",{value:"from-green-500 to-emerald-500",children:"Green"}),R.jsx("option",{value:"from-purple-500 to-pink-500",children:"Purple"}),R.jsx("option",{value:"from-pink-500 to-rose-500",children:"Pink"})]})]}),R.jsxs("div",{className:"pt-4 flex gap-3",children:[R.jsx("button",{type:"button",onClick:()=>v(!1),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),R.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-colors",children:"Create Mess"})]})]})]})})})]})};class YB extends ti.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){this.setState({error:e,errorInfo:n}),console.error("Uncaught error:",e,n)}render(){return this.state.hasError?R.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:R.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-lg w-full border border-red-100",children:[R.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),R.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg overflow-auto max-h-64 mb-4 text-sm font-mono text-gray-800",children:[this.state.error&&this.state.error.toString(),R.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]}),R.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Reload Page"})]})}):this.props.children}}function KB(){return R.jsx(YB,{children:R.jsx(CN,{children:R.jsxs(iN,{children:[R.jsx(Lu,{path:"/",element:R.jsx(Cz,{})}),R.jsx(Lu,{path:"/mess/:id",element:R.jsx(zB,{})}),R.jsx(Lu,{path:"/admin",element:R.jsx(BB,{})}),R.jsx(Lu,{path:"/admin/dashboard",element:R.jsx(GB,{})})]})})})}hI.createRoot(document.getElementById("root")).render(R.jsx(L.StrictMode,{children:R.jsx(KB,{})}));
