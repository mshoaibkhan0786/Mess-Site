(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function MI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fg={exports:{}},Fu={};var gE;function PI(){if(gE)return Fu;gE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Fu.Fragment=e,Fu.jsx=n,Fu.jsxs=n,Fu}var yE;function VI(){return yE||(yE=1,fg.exports=PI()),fg.exports}var E=VI(),dg={exports:{}},Ne={};var vE;function OI(){if(vE)return Ne;vE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),T=Symbol.iterator;function S(U){return U===null||typeof U!="object"?null:(U=T&&U[T]||U["@@iterator"],typeof U=="function"?U:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,M={};function k(U,ee,ce){this.props=U,this.context=ee,this.refs=M,this.updater=ce||R}k.prototype.isReactComponent={},k.prototype.setState=function(U,ee){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ee,"setState")},k.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function B(){}B.prototype=k.prototype;function F(U,ee,ce){this.props=U,this.context=ee,this.refs=M,this.updater=ce||R}var oe=F.prototype=new B;oe.constructor=F,D(oe,k.prototype),oe.isPureReactComponent=!0;var re=Array.isArray;function te(){}var N={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function I(U,ee,ce){var he=ce.ref;return{$$typeof:t,type:U,key:ee,ref:he!==void 0?he:null,props:ce}}function j(U,ee){return I(U.type,ee,U.props)}function L(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function H(U){var ee={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ce){return ee[ce]})}var P=/\/+/g;function Fe(U,ee){return typeof U=="object"&&U!==null&&U.key!=null?H(""+U.key):ee.toString(36)}function Qe(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(te,te):(U.status="pending",U.then(function(ee){U.status==="pending"&&(U.status="fulfilled",U.value=ee)},function(ee){U.status==="pending"&&(U.status="rejected",U.reason=ee)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function W(U,ee,ce,he,Te){var Ce=typeof U;(Ce==="undefined"||Ce==="boolean")&&(U=null);var ae=!1;if(U===null)ae=!0;else switch(Ce){case"bigint":case"string":case"number":ae=!0;break;case"object":switch(U.$$typeof){case t:case e:ae=!0;break;case y:return ae=U._init,W(ae(U._payload),ee,ce,he,Te)}}if(ae)return Te=Te(U),ae=he===""?"."+Fe(U,0):he,re(Te)?(ce="",ae!=null&&(ce=ae.replace(P,"$&/")+"/"),W(Te,ee,ce,"",function(mt){return mt})):Te!=null&&(L(Te)&&(Te=j(Te,ce+(Te.key==null||U&&U.key===Te.key?"":(""+Te.key).replace(P,"$&/")+"/")+ae)),ee.push(Te)),1;ae=0;var _e=he===""?".":he+":";if(re(U))for(var Ee=0;Ee<U.length;Ee++)he=U[Ee],Ce=_e+Fe(he,Ee),ae+=W(he,ee,ce,Ce,Te);else if(Ee=S(U),typeof Ee=="function")for(U=Ee.call(U),Ee=0;!(he=U.next()).done;)he=he.value,Ce=_e+Fe(he,Ee++),ae+=W(he,ee,ce,Ce,Te);else if(Ce==="object"){if(typeof U.then=="function")return W(Qe(U),ee,ce,he,Te);throw ee=String(U),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ae}function le(U,ee,ce){if(U==null)return U;var he=[],Te=0;return W(U,he,"","",function(Ce){return ee.call(ce,Ce,Te++)}),he}function de(U){if(U._status===-1){var ee=U._result;ee=ee(),ee.then(function(ce){(U._status===0||U._status===-1)&&(U._status=1,U._result=ce)},function(ce){(U._status===0||U._status===-1)&&(U._status=2,U._result=ce)}),U._status===-1&&(U._status=0,U._result=ee)}if(U._status===1)return U._result.default;throw U._result}var xe=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Ve={map:le,forEach:function(U,ee,ce){le(U,function(){ee.apply(this,arguments)},ce)},count:function(U){var ee=0;return le(U,function(){ee++}),ee},toArray:function(U){return le(U,function(ee){return ee})||[]},only:function(U){if(!L(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Ne.Activity=v,Ne.Children=Ve,Ne.Component=k,Ne.Fragment=n,Ne.Profiler=a,Ne.PureComponent=F,Ne.StrictMode=s,Ne.Suspense=d,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(U){return N.H.useMemoCache(U)}},Ne.cache=function(U){return function(){return U.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(U,ee,ce){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var he=D({},U.props),Te=U.key;if(ee!=null)for(Ce in ee.key!==void 0&&(Te=""+ee.key),ee)!x.call(ee,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ee.ref===void 0||(he[Ce]=ee[Ce]);var Ce=arguments.length-2;if(Ce===1)he.children=ce;else if(1<Ce){for(var ae=Array(Ce),_e=0;_e<Ce;_e++)ae[_e]=arguments[_e+2];he.children=ae}return I(U.type,Te,he)},Ne.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Ne.createElement=function(U,ee,ce){var he,Te={},Ce=null;if(ee!=null)for(he in ee.key!==void 0&&(Ce=""+ee.key),ee)x.call(ee,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Te[he]=ee[he]);var ae=arguments.length-2;if(ae===1)Te.children=ce;else if(1<ae){for(var _e=Array(ae),Ee=0;Ee<ae;Ee++)_e[Ee]=arguments[Ee+2];Te.children=_e}if(U&&U.defaultProps)for(he in ae=U.defaultProps,ae)Te[he]===void 0&&(Te[he]=ae[he]);return I(U,Ce,Te)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(U){return{$$typeof:h,render:U}},Ne.isValidElement=L,Ne.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:de}},Ne.memo=function(U,ee){return{$$typeof:p,type:U,compare:ee===void 0?null:ee}},Ne.startTransition=function(U){var ee=N.T,ce={};N.T=ce;try{var he=U(),Te=N.S;Te!==null&&Te(ce,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(te,xe)}catch(Ce){xe(Ce)}finally{ee!==null&&ce.types!==null&&(ee.types=ce.types),N.T=ee}},Ne.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ne.use=function(U){return N.H.use(U)},Ne.useActionState=function(U,ee,ce){return N.H.useActionState(U,ee,ce)},Ne.useCallback=function(U,ee){return N.H.useCallback(U,ee)},Ne.useContext=function(U){return N.H.useContext(U)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(U,ee){return N.H.useDeferredValue(U,ee)},Ne.useEffect=function(U,ee){return N.H.useEffect(U,ee)},Ne.useEffectEvent=function(U){return N.H.useEffectEvent(U)},Ne.useId=function(){return N.H.useId()},Ne.useImperativeHandle=function(U,ee,ce){return N.H.useImperativeHandle(U,ee,ce)},Ne.useInsertionEffect=function(U,ee){return N.H.useInsertionEffect(U,ee)},Ne.useLayoutEffect=function(U,ee){return N.H.useLayoutEffect(U,ee)},Ne.useMemo=function(U,ee){return N.H.useMemo(U,ee)},Ne.useOptimistic=function(U,ee){return N.H.useOptimistic(U,ee)},Ne.useReducer=function(U,ee,ce){return N.H.useReducer(U,ee,ce)},Ne.useRef=function(U){return N.H.useRef(U)},Ne.useState=function(U){return N.H.useState(U)},Ne.useSyncExternalStore=function(U,ee,ce){return N.H.useSyncExternalStore(U,ee,ce)},Ne.useTransition=function(){return N.H.useTransition()},Ne.version="19.2.0",Ne}var _E;function ev(){return _E||(_E=1,dg.exports=OI()),dg.exports}var V=ev();const hi=MI(V);var mg={exports:{}},Hu={},pg={exports:{}},gg={};var TE;function kI(){return TE||(TE=1,(function(t){function e(W,le){var de=W.length;W.push(le);e:for(;0<de;){var xe=de-1>>>1,Ve=W[xe];if(0<a(Ve,le))W[xe]=le,W[de]=Ve,de=xe;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var le=W[0],de=W.pop();if(de!==le){W[0]=de;e:for(var xe=0,Ve=W.length,U=Ve>>>1;xe<U;){var ee=2*(xe+1)-1,ce=W[ee],he=ee+1,Te=W[he];if(0>a(ce,de))he<Ve&&0>a(Te,ce)?(W[xe]=Te,W[he]=de,xe=he):(W[xe]=ce,W[ee]=de,xe=ee);else if(he<Ve&&0>a(Te,de))W[xe]=Te,W[he]=de,xe=he;else break e}}return le}function a(W,le){var de=W.sortIndex-le.sortIndex;return de!==0?de:W.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],y=1,v=null,T=3,S=!1,R=!1,D=!1,M=!1,k=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function oe(W){for(var le=n(p);le!==null;){if(le.callback===null)s(p);else if(le.startTime<=W)s(p),le.sortIndex=le.expirationTime,e(d,le);else break;le=n(p)}}function re(W){if(D=!1,oe(W),!R)if(n(d)!==null)R=!0,te||(te=!0,H());else{var le=n(p);le!==null&&Qe(re,le.startTime-W)}}var te=!1,N=-1,x=5,I=-1;function j(){return M?!0:!(t.unstable_now()-I<x)}function L(){if(M=!1,te){var W=t.unstable_now();I=W;var le=!0;try{e:{R=!1,D&&(D=!1,B(N),N=-1),S=!0;var de=T;try{t:{for(oe(W),v=n(d);v!==null&&!(v.expirationTime>W&&j());){var xe=v.callback;if(typeof xe=="function"){v.callback=null,T=v.priorityLevel;var Ve=xe(v.expirationTime<=W);if(W=t.unstable_now(),typeof Ve=="function"){v.callback=Ve,oe(W),le=!0;break t}v===n(d)&&s(d),oe(W)}else s(d);v=n(d)}if(v!==null)le=!0;else{var U=n(p);U!==null&&Qe(re,U.startTime-W),le=!1}}break e}finally{v=null,T=de,S=!1}le=void 0}}finally{le?H():te=!1}}}var H;if(typeof F=="function")H=function(){F(L)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Fe=P.port2;P.port1.onmessage=L,H=function(){Fe.postMessage(null)}}else H=function(){k(L,0)};function Qe(W,le){N=k(function(){W(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(W){switch(T){case 1:case 2:case 3:var le=3;break;default:le=T}var de=T;T=le;try{return W()}finally{T=de}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(W,le){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var de=T;T=W;try{return le()}finally{T=de}},t.unstable_scheduleCallback=function(W,le,de){var xe=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?xe+de:xe):de=xe,W){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=de+Ve,W={id:y++,callback:le,priorityLevel:W,startTime:de,expirationTime:Ve,sortIndex:-1},de>xe?(W.sortIndex=de,e(p,W),n(d)===null&&W===n(p)&&(D?(B(N),N=-1):D=!0,Qe(re,de-xe))):(W.sortIndex=Ve,e(d,W),R||S||(R=!0,te||(te=!0,H()))),W},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(W){var le=T;return function(){var de=T;T=le;try{return W.apply(this,arguments)}finally{T=de}}}})(gg)),gg}var bE;function LI(){return bE||(bE=1,pg.exports=kI()),pg.exports}var yg={exports:{}},hn={};var EE;function jI(){if(EE)return hn;EE=1;var t=ev();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:p,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,hn.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,y)},hn.flushSync=function(d){var p=u.T,y=s.p;try{if(u.T=null,s.p=2,d)return d()}finally{u.T=p,s.p=y,s.d.f()}},hn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(d,p))},hn.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},hn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:S}):y==="script"&&s.d.X(d,{crossOrigin:v,integrity:T,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},hn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);s.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(d)},hn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);s.d.L(d,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},hn.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=h(p.as,p.crossOrigin);s.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(d)},hn.requestFormReset=function(d){s.d.r(d)},hn.unstable_batchedUpdates=function(d,p){return d(p)},hn.useFormState=function(d,p,y){return u.H.useFormState(d,p,y)},hn.useFormStatus=function(){return u.H.useHostTransitionStatus()},hn.version="19.2.0",hn}var wE;function UI(){if(wE)return yg.exports;wE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),yg.exports=jI(),yg.exports}var SE;function zI(){if(SE)return Hu;SE=1;var t=LI(),e=ev(),n=UI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return d(m),i;if(g===c)return d(m),r;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=m,c=g;else{for(var b=!1,A=m.child;A;){if(A===o){b=!0,o=m,c=g;break}if(A===c){b=!0,c=m,o=g;break}A=A.sibling}if(!b){for(A=g.child;A;){if(A===o){b=!0,o=g,c=m;break}if(A===c){b=!0,c=g,o=m;break}A=A.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),F=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var P=Symbol.for("react.client.reference");function Fe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===P?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case k:return"Profiler";case M:return"StrictMode";case re:return"Suspense";case te:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case R:return"Portal";case F:return i.displayName||"Context";case B:return(i._context.displayName||"Context")+".Consumer";case oe:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return r=i.displayName||null,r!==null?r:Fe(i.type)||"Memo";case x:r=i._payload,i=i._init;try{return Fe(i(r))}catch{}}return null}var Qe=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},xe=[],Ve=-1;function U(i){return{current:i}}function ee(i){0>Ve||(i.current=xe[Ve],xe[Ve]=null,Ve--)}function ce(i,r){Ve++,xe[Ve]=i.current,i.current=r}var he=U(null),Te=U(null),Ce=U(null),ae=U(null);function _e(i,r){switch(ce(Ce,r),ce(Te,i),ce(he,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Ub(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Ub(r),i=zb(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ee(he),ce(he,i)}function Ee(){ee(he),ee(Te),ee(Ce)}function mt(i){i.memoizedState!==null&&ce(ae,i);var r=he.current,o=zb(r,i.type);r!==o&&(ce(Te,i),ce(he,o))}function bn(i){Te.current===i&&(ee(he),ee(Te)),ae.current===i&&(ee(ae),ju._currentValue=de)}var Yn,Kn;function Mt(i){if(Yn===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Yn=r&&r[1]||"",Kn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yn+i+Kn}var Ui=!1;function Pn(i,r){if(!i||Ui)return"";Ui=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Q){var X=Q}Reflect.construct(i,[],ie)}else{try{ie.call()}catch(Q){X=Q}i.call(ie.prototype)}}else{try{throw Error()}catch(Q){X=Q}(ie=i())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Q){if(Q&&X&&typeof Q.stack=="string")return[Q.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),b=g[0],A=g[1];if(b&&A){var O=b.split(`
`),K=A.split(`
`);for(m=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;if(c===O.length||m===K.length)for(c=O.length-1,m=K.length-1;1<=c&&0<=m&&O[c]!==K[m];)m--;for(;1<=c&&0<=m;c--,m--)if(O[c]!==K[m]){if(c!==1||m!==1)do if(c--,m--,0>m||O[c]!==K[m]){var Z=`
`+O[c].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=c&&0<=m);break}}}finally{Ui=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Mt(o):""}function zi(i,r){switch(i.tag){case 26:case 27:case 5:return Mt(i.type);case 16:return Mt("Lazy");case 13:return i.child!==r&&r!==null?Mt("Suspense Fallback"):Mt("Suspense");case 19:return Mt("SuspenseList");case 0:case 15:return Pn(i.type,!1);case 11:return Pn(i.type.render,!1);case 1:return Pn(i.type,!0);case 31:return Mt("Activity");default:return""}}function nr(i){try{var r="",o=null;do r+=zi(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Tt=Object.prototype.hasOwnProperty,bt=t.unstable_scheduleCallback,Bi=t.unstable_cancelCallback,zl=t.unstable_shouldYield,_i=t.unstable_requestPaint,Jt=t.unstable_now,da=t.unstable_getCurrentPriorityLevel,Bl=t.unstable_ImmediatePriority,Fl=t.unstable_UserBlockingPriority,ir=t.unstable_NormalPriority,pm=t.unstable_LowPriority,$c=t.unstable_IdlePriority,Qc=t.log,Wc=t.unstable_setDisableYieldValue,Ti=null,en=null;function Xn(i){if(typeof Qc=="function"&&Wc(i),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(Ti,i)}catch{}}var xt=Math.clz32?Math.clz32:Jc,Zc=Math.log,po=Math.LN2;function Jc(i){return i>>>=0,i===0?32:31-(Zc(i)/po|0)|0}var Fi=256,ma=262144,Pt=4194304;function Hi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function qi(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~g,c!==0?m=Hi(c):(b&=A,b!==0?m=Hi(b):o||(o=A&~i,o!==0&&(m=Hi(o))))):(A=c&~g,A!==0?m=Hi(A):b!==0?m=Hi(b):o||(o=c&~i,o!==0&&(m=Hi(o)))),m===0?0:r!==0&&r!==m&&(r&g)===0&&(g=m&-m,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:m}function bi(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function gm(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eh(){var i=Pt;return Pt<<=1,(Pt&62914560)===0&&(Pt=4194304),i}function Gi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function pa(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ym(i,r,o,c,m,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,O=i.expirationTimes,K=i.hiddenUpdates;for(o=b&~o;0<o;){var Z=31-xt(o),ie=1<<Z;A[Z]=0,O[Z]=-1;var X=K[Z];if(X!==null)for(K[Z]=null,Z=0;Z<X.length;Z++){var Q=X[Z];Q!==null&&(Q.lane&=-536870913)}o&=~ie}c!==0&&ga(i,c,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~r))}function ga(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-xt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Hl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-xt(o),m=1<<c;m&r|i[c]&r&&(i[c]|=r),o&=~m}}function ql(i,r){var o=r&-r;return o=(o&42)!==0?1:ya(o),(o&(i.suspendedLanes|r))!==0?0:o}function ya(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Es(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function th(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:uE(i.type))}function Ei(i,r){var o=le.p;try{return le.p=i,r()}finally{le.p=o}}var wi=Math.random().toString(36).slice(2),Vt="__reactFiber$"+wi,$t="__reactProps$"+wi,Yi="__reactContainer$"+wi,go="__reactEvents$"+wi,vm="__reactListeners$"+wi,nh="__reactHandles$"+wi,ih="__reactResources$"+wi,Ki="__reactMarker$"+wi;function yo(i){delete i[Vt],delete i[$t],delete i[go],delete i[vm],delete i[nh]}function Xi(i){var r=i[Vt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Yi]||o[Vt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=Kb(i);i!==null;){if(o=i[Vt])return o;i=Kb(i)}return r}i=o,o=i.parentNode}return null}function $n(i){if(i=i[Vt]||i[Yi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Vn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function $i(i){var r=i[ih];return r||(r=i[ih]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ot(i){i[Ki]=!0}var Gl=new Set,Yl={};function Qi(i,r){Wi(i,r),Wi(i+"Capture",r)}function Wi(i,r){for(Yl[i]=r,i=0;i<r.length;i++)Gl.add(r[i])}var Kl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xl={},$l={};function sh(i){return Tt.call($l,i)?!0:Tt.call(Xl,i)?!1:Kl.test(i)?$l[i]=!0:(Xl[i]=!0,!1)}function vo(i,r,o){if(sh(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function On(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function kt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function Qt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function sr(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ql(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return m.call(this)},set:function(b){o=""+b,g.call(this,b)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function We(i){if(!i._valueTracker){var r=sr(i)?"checked":"value";i._valueTracker=Ql(i,r,""+i[r])}}function va(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=sr(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function Zi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var _a=/[\n"\\]/g;function En(i){return i.replace(_a,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function _o(i,r,o,c,m,g,b,A){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Qt(r)):i.value!==""+Qt(r)&&(i.value=""+Qt(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?Wl(i,b,Qt(r)):o!=null?Wl(i,b,Qt(o)):c!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+Qt(A):i.removeAttribute("name")}function rh(i,r,o,c,m,g,b,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){We(i);return}o=o!=null?""+Qt(o):"",r=r!=null?""+Qt(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),We(i)}function Wl(i,r,o){r==="number"&&Zi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function rr(i,r,o,c){if(i=i.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=r.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Qt(o),r=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}r!==null||i[m].disabled||(r=i[m])}r!==null&&(r.selected=!0)}}function ah(i,r,o){if(r!=null&&(r=""+Qt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Qt(o):""}function ar(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(Qe(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=Qt(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),We(i)}function wn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var oh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zl(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||oh.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Jl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in r)c=r[m],r.hasOwnProperty(m)&&o[m]!==c&&Zl(i,m,c)}else for(var g in r)r.hasOwnProperty(g)&&Zl(i,g,r[g])}function To(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bo(i){return or.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Si(){}var eu=null;function Qn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var lr=null,Ji=null;function Ta(i){var r=$n(i);if(r&&(i=r.stateNode)){var o=i[$t]||null;e:switch(i=r.stateNode,r.type){case"input":if(_o(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+En(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var m=c[$t]||null;if(!m)throw Error(s(90));_o(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&va(c)}break e;case"textarea":ah(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&rr(i,!!o.multiple,r,!1)}}}var Eo=!1;function ur(i,r,o){if(Eo)return i(r,o);Eo=!0;try{var c=i(r);return c}finally{if(Eo=!1,(lr!==null||Ji!==null)&&(tf(),lr&&(r=lr,i=Ji,Ji=lr=null,Ta(r),i)))for(r=0;r<i.length;r++)Ta(i[r])}}function Ai(i,r){var o=i.stateNode;if(o===null)return null;var c=o[$t]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ba=!1;if(Wn)try{var et={};Object.defineProperty(et,"passive",{get:function(){ba=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{ba=!1}var es=null,tu=null,Ea=null;function nu(){if(Ea)return Ea;var i,r=tu,o=r.length,c,m="value"in es?es.value:es.textContent,g=m.length;for(i=0;i<o&&r[i]===m[i];i++);var b=o-i;for(c=1;c<=b&&r[o-c]===m[g-c];c++);return Ea=m.slice(i,1<c?1-c:void 0)}function wa(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function ws(){return!0}function xi(){return!1}function tn(i){function r(o,c,m,g,b){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ws:xi,this.isPropagationStopped=xi,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),r}var Ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ts=tn(Ss),cr=v({},Ss,{view:0,detail:0}),iu=tn(cr),hr,wo,ns,So=v({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ns&&(ns&&i.type==="mousemove"?(hr=i.screenX-ns.screenX,wo=i.screenY-ns.screenY):wo=hr=0,ns=i),hr)},movementY:function(i){return"movementY"in i?i.movementY:wo}}),su=tn(So),Sa=v({},So,{dataTransfer:0}),uh=tn(Sa),ch=v({},cr,{relatedTarget:0}),Aa=tn(ch),ru=v({},Ss,{animationName:0,elapsedTime:0,pseudoElement:0}),hh=tn(ru),Ao=v({},Ss,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),fh=tn(Ao),dh=v({},Ss,{data:0}),is=tn(dh),mh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ph={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=gh[i])?!!r[i]:!1}function fr(){return yh}var yn=v({},cr,{key:function(i){if(i.key){var r=mh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=wa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ph[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(i){return i.type==="keypress"?wa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?wa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),vh=tn(yn),_h=v({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),As=tn(_h),f=v({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr}),_=tn(f),w=v({},Ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=tn(w),G=v({},So,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$=tn(G),ue=v({},Ss,{newState:0,oldState:0}),De=tn(ue),Ct=[9,13,27,32],Ke=Wn&&"CompositionEvent"in window,ct=null;Wn&&"documentMode"in document&&(ct=document.documentMode);var Zn=Wn&&"TextEvent"in window&&!ct,ss=Wn&&(!Ke||ct&&8<ct&&11>=ct),Ci=" ",Ri=!1;function xa(i,r){switch(i){case"keyup":return Ct.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Co=!1;function nN(i,r){switch(i){case"compositionend":return xo(r);case"keypress":return r.which!==32?null:(Ri=!0,Ci);case"textInput":return i=r.data,i===Ci&&Ri?null:i;default:return null}}function iN(i,r){if(Co)return i==="compositionend"||!Ke&&xa(i,r)?(i=nu(),Ea=tu=es=null,Co=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ss&&r.locale!=="ko"?null:r.data;default:return null}}var sN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q0(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!sN[i.type]:r==="textarea"}function W0(i,r,o,c){lr?Ji?Ji.push(c):Ji=[c]:lr=c,r=uf(r,"onChange"),0<r.length&&(o=new ts("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var au=null,ou=null;function rN(i){Pb(i,0)}function Th(i){var r=Vn(i);if(va(r))return i}function Z0(i,r){if(i==="change")return r}var J0=!1;if(Wn){var _m;if(Wn){var Tm="oninput"in document;if(!Tm){var e_=document.createElement("div");e_.setAttribute("oninput","return;"),Tm=typeof e_.oninput=="function"}_m=Tm}else _m=!1;J0=_m&&(!document.documentMode||9<document.documentMode)}function t_(){au&&(au.detachEvent("onpropertychange",n_),ou=au=null)}function n_(i){if(i.propertyName==="value"&&Th(ou)){var r=[];W0(r,ou,i,Qn(i)),ur(rN,r)}}function aN(i,r,o){i==="focusin"?(t_(),au=r,ou=o,au.attachEvent("onpropertychange",n_)):i==="focusout"&&t_()}function oN(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Th(ou)}function lN(i,r){if(i==="click")return Th(r)}function uN(i,r){if(i==="input"||i==="change")return Th(r)}function cN(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var kn=typeof Object.is=="function"?Object.is:cN;function lu(i,r){if(kn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Tt.call(r,m)||!kn(i[m],r[m]))return!1}return!0}function i_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function s_(i,r){var o=i_(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=i_(o)}}function r_(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?r_(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function a_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Zi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Zi(i.document)}return r}function bm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var hN=Wn&&"documentMode"in document&&11>=document.documentMode,Ro=null,Em=null,uu=null,wm=!1;function o_(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;wm||Ro==null||Ro!==Zi(c)||(c=Ro,"selectionStart"in c&&bm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),uu&&lu(uu,c)||(uu=c,c=uf(Em,"onSelect"),0<c.length&&(r=new ts("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=Ro)))}function Ca(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var No={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionrun:Ca("Transition","TransitionRun"),transitionstart:Ca("Transition","TransitionStart"),transitioncancel:Ca("Transition","TransitionCancel"),transitionend:Ca("Transition","TransitionEnd")},Sm={},l_={};Wn&&(l_=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function Ra(i){if(Sm[i])return Sm[i];if(!No[i])return i;var r=No[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in l_)return Sm[i]=r[o];return i}var u_=Ra("animationend"),c_=Ra("animationiteration"),h_=Ra("animationstart"),fN=Ra("transitionrun"),dN=Ra("transitionstart"),mN=Ra("transitioncancel"),f_=Ra("transitionend"),d_=new Map,Am="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Am.push("scrollEnd");function Ni(i,r){d_.set(i,r),Qi(r,[i])}var bh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Jn=[],Io=0,xm=0;function Eh(){for(var i=Io,r=xm=Io=0;r<i;){var o=Jn[r];Jn[r++]=null;var c=Jn[r];Jn[r++]=null;var m=Jn[r];Jn[r++]=null;var g=Jn[r];if(Jn[r++]=null,c!==null&&m!==null){var b=c.pending;b===null?m.next=m:(m.next=b.next,b.next=m),c.pending=m}g!==0&&m_(o,m,g)}}function wh(i,r,o,c){Jn[Io++]=i,Jn[Io++]=r,Jn[Io++]=o,Jn[Io++]=c,xm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Cm(i,r,o,c){return wh(i,r,o,c),Sh(i)}function Na(i,r){return wh(i,null,null,r),Sh(i)}function m_(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&r!==null&&(m=31-xt(o),i=g.hiddenUpdates,c=i[m],c===null?i[m]=[r]:c.push(r),r.lane=o|536870912),g):null}function Sh(i){if(50<Du)throw Du=0,kp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Do={};function pN(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(i,r,o,c){return new pN(i,r,o,c)}function Rm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function xs(i,r){var o=i.alternate;return o===null?(o=Ln(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function p_(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Ah(i,r,o,c,m,g){var b=0;if(c=i,typeof i=="function")Rm(i)&&(b=1);else if(typeof i=="string")b=TI(i,o,he.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=Ln(31,o,r,m),i.elementType=I,i.lanes=g,i;case D:return Ia(o.children,m,g,r);case M:b=8,m|=24;break;case k:return i=Ln(12,o,r,m|2),i.elementType=k,i.lanes=g,i;case re:return i=Ln(13,o,r,m),i.elementType=re,i.lanes=g,i;case te:return i=Ln(19,o,r,m),i.elementType=te,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:b=10;break e;case B:b=9;break e;case oe:b=11;break e;case N:b=14;break e;case x:b=16,c=null;break e}b=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=Ln(b,o,r,m),r.elementType=i,r.type=c,r.lanes=g,r}function Ia(i,r,o,c){return i=Ln(7,i,c,r),i.lanes=o,i}function Nm(i,r,o){return i=Ln(6,i,null,r),i.lanes=o,i}function g_(i){var r=Ln(18,null,null,0);return r.stateNode=i,r}function Im(i,r,o){return r=Ln(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var y_=new WeakMap;function ei(i,r){if(typeof i=="object"&&i!==null){var o=y_.get(i);return o!==void 0?o:(r={value:i,source:r,stack:nr(r)},y_.set(i,r),r)}return{value:i,source:r,stack:nr(r)}}var Mo=[],Po=0,xh=null,cu=0,ti=[],ni=0,dr=null,rs=1,as="";function Cs(i,r){Mo[Po++]=cu,Mo[Po++]=xh,xh=i,cu=r}function v_(i,r,o){ti[ni++]=rs,ti[ni++]=as,ti[ni++]=dr,dr=i;var c=rs;i=as;var m=32-xt(c)-1;c&=~(1<<m),o+=1;var g=32-xt(r)+m;if(30<g){var b=m-m%5;g=(c&(1<<b)-1).toString(32),c>>=b,m-=b,rs=1<<32-xt(r)+m|o<<m|c,as=g+i}else rs=1<<g|o<<m|c,as=i}function Dm(i){i.return!==null&&(Cs(i,1),v_(i,1,0))}function Mm(i){for(;i===xh;)xh=Mo[--Po],Mo[Po]=null,cu=Mo[--Po],Mo[Po]=null;for(;i===dr;)dr=ti[--ni],ti[ni]=null,as=ti[--ni],ti[ni]=null,rs=ti[--ni],ti[ni]=null}function __(i,r){ti[ni++]=rs,ti[ni++]=as,ti[ni++]=dr,rs=r.id,as=r.overflow,dr=i}var nn=null,ot=null,He=!1,mr=null,ii=!1,Pm=Error(s(519));function pr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hu(ei(r,i)),Pm}function T_(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[Vt]=i,r[$t]=c,o){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(o=0;o<Pu.length;o++)ke(Pu[o],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),rh(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),ar(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||Lb(r.textContent,o)?(c.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),c.onScroll!=null&&ke("scroll",r),c.onScrollEnd!=null&&ke("scrollend",r),c.onClick!=null&&(r.onclick=Si),r=!0):r=!1,r||pr(i,!0)}function b_(i){for(nn=i.return;nn;)switch(nn.tag){case 5:case 31:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:nn=nn.return}}function Vo(i){if(i!==nn)return!1;if(!He)return b_(i),He=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Wp(i.type,i.memoizedProps)),o=!o),o&&ot&&pr(i),b_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ot=Yb(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ot=Yb(i)}else r===27?(r=ot,Nr(i.type)?(i=ng,ng=null,ot=i):ot=r):ot=nn?ri(i.stateNode.nextSibling):null;return!0}function Da(){ot=nn=null,He=!1}function Vm(){var i=mr;return i!==null&&(Cn===null?Cn=i:Cn.push.apply(Cn,i),mr=null),i}function hu(i){mr===null?mr=[i]:mr.push(i)}var Om=U(null),Ma=null,Rs=null;function gr(i,r,o){ce(Om,r._currentValue),r._currentValue=o}function Ns(i){i._currentValue=Om.current,ee(Om)}function km(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function Lm(i,r,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var b=m.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=m;for(var O=0;O<r.length;O++)if(A.context===r[O]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),km(g.return,o,i),c||(b=null);break e}g=A.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(s(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),km(b,o,i),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===i){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function Oo(i,r,o,c){i=null;for(var m=r,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var A=m.type;kn(m.pendingProps.value,b.value)||(i!==null?i.push(A):i=[A])}}else if(m===ae.current){if(b=m.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(ju):i=[ju])}m=m.return}i!==null&&Lm(r,i,o,c),r.flags|=262144}function Ch(i){for(i=i.firstContext;i!==null;){if(!kn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Pa(i){Ma=i,Rs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function sn(i){return E_(Ma,i)}function Rh(i,r){return Ma===null&&Pa(i),E_(i,r)}function E_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Rs===null){if(i===null)throw Error(s(308));Rs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Rs=Rs.next=r;return o}var gN=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},yN=t.unstable_scheduleCallback,vN=t.unstable_NormalPriority,Lt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jm(){return{controller:new gN,data:new Map,refCount:0}}function fu(i){i.refCount--,i.refCount===0&&yN(vN,function(){i.controller.abort()})}var du=null,Um=0,ko=0,Lo=null;function _N(i,r){if(du===null){var o=du=[];Um=0,ko=Fp(),Lo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Um++,r.then(w_,w_),r}function w_(){if(--Um===0&&du!==null){Lo!==null&&(Lo.status="fulfilled");var i=du;du=null,ko=0,Lo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function TN(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var S_=W.S;W.S=function(i,r){ob=Jt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&_N(i,r),S_!==null&&S_(i,r)};var Va=U(null);function zm(){var i=Va.current;return i!==null?i:st.pooledCache}function Nh(i,r){r===null?ce(Va,Va.current):ce(Va,r.pool)}function A_(){var i=zm();return i===null?null:{parent:Lt._currentValue,pool:i}}var jo=Error(s(460)),Bm=Error(s(474)),Ih=Error(s(542)),Dh={then:function(){}};function x_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function C_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Si,Si),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,N_(i),i;default:if(typeof r.status=="string")r.then(Si,Si);else{if(i=st,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=c}},function(c){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,N_(i),i}throw ka=r,jo}}function Oa(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ka=o,jo):o}}var ka=null;function R_(){if(ka===null)throw Error(s(459));var i=ka;return ka=null,i}function N_(i){if(i===jo||i===Ih)throw Error(s(483))}var Uo=null,mu=0;function Mh(i){var r=mu;return mu+=1,Uo===null&&(Uo=[]),C_(Uo,i,r)}function pu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ph(i,r){throw r.$$typeof===T?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function I_(i){function r(q,z){if(i){var Y=q.deletions;Y===null?(q.deletions=[z],q.flags|=16):Y.push(z)}}function o(q,z){if(!i)return null;for(;z!==null;)r(q,z),z=z.sibling;return null}function c(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function m(q,z){return q=xs(q,z),q.index=0,q.sibling=null,q}function g(q,z,Y){return q.index=Y,i?(Y=q.alternate,Y!==null?(Y=Y.index,Y<z?(q.flags|=67108866,z):Y):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function b(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function A(q,z,Y,J){return z===null||z.tag!==6?(z=Nm(Y,q.mode,J),z.return=q,z):(z=m(z,Y),z.return=q,z)}function O(q,z,Y,J){var ye=Y.type;return ye===D?Z(q,z,Y.props.children,J,Y.key):z!==null&&(z.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&Oa(ye)===z.type)?(z=m(z,Y.props),pu(z,Y),z.return=q,z):(z=Ah(Y.type,Y.key,Y.props,null,q.mode,J),pu(z,Y),z.return=q,z)}function K(q,z,Y,J){return z===null||z.tag!==4||z.stateNode.containerInfo!==Y.containerInfo||z.stateNode.implementation!==Y.implementation?(z=Im(Y,q.mode,J),z.return=q,z):(z=m(z,Y.children||[]),z.return=q,z)}function Z(q,z,Y,J,ye){return z===null||z.tag!==7?(z=Ia(Y,q.mode,J,ye),z.return=q,z):(z=m(z,Y),z.return=q,z)}function ie(q,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Nm(""+z,q.mode,Y),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return Y=Ah(z.type,z.key,z.props,null,q.mode,Y),pu(Y,z),Y.return=q,Y;case R:return z=Im(z,q.mode,Y),z.return=q,z;case x:return z=Oa(z),ie(q,z,Y)}if(Qe(z)||H(z))return z=Ia(z,q.mode,Y,null),z.return=q,z;if(typeof z.then=="function")return ie(q,Mh(z),Y);if(z.$$typeof===F)return ie(q,Rh(q,z),Y);Ph(q,z)}return null}function X(q,z,Y,J){var ye=z!==null?z.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ye!==null?null:A(q,z,""+Y,J);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return Y.key===ye?O(q,z,Y,J):null;case R:return Y.key===ye?K(q,z,Y,J):null;case x:return Y=Oa(Y),X(q,z,Y,J)}if(Qe(Y)||H(Y))return ye!==null?null:Z(q,z,Y,J,null);if(typeof Y.then=="function")return X(q,z,Mh(Y),J);if(Y.$$typeof===F)return X(q,z,Rh(q,Y),J);Ph(q,Y)}return null}function Q(q,z,Y,J,ye){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return q=q.get(Y)||null,A(z,q,""+J,ye);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case S:return q=q.get(J.key===null?Y:J.key)||null,O(z,q,J,ye);case R:return q=q.get(J.key===null?Y:J.key)||null,K(z,q,J,ye);case x:return J=Oa(J),Q(q,z,Y,J,ye)}if(Qe(J)||H(J))return q=q.get(Y)||null,Z(z,q,J,ye,null);if(typeof J.then=="function")return Q(q,z,Y,Mh(J),ye);if(J.$$typeof===F)return Q(q,z,Y,Rh(z,J),ye);Ph(z,J)}return null}function pe(q,z,Y,J){for(var ye=null,Ge=null,ge=z,Pe=z=0,je=null;ge!==null&&Pe<Y.length;Pe++){ge.index>Pe?(je=ge,ge=null):je=ge.sibling;var Ye=X(q,ge,Y[Pe],J);if(Ye===null){ge===null&&(ge=je);break}i&&ge&&Ye.alternate===null&&r(q,ge),z=g(Ye,z,Pe),Ge===null?ye=Ye:Ge.sibling=Ye,Ge=Ye,ge=je}if(Pe===Y.length)return o(q,ge),He&&Cs(q,Pe),ye;if(ge===null){for(;Pe<Y.length;Pe++)ge=ie(q,Y[Pe],J),ge!==null&&(z=g(ge,z,Pe),Ge===null?ye=ge:Ge.sibling=ge,Ge=ge);return He&&Cs(q,Pe),ye}for(ge=c(ge);Pe<Y.length;Pe++)je=Q(ge,q,Pe,Y[Pe],J),je!==null&&(i&&je.alternate!==null&&ge.delete(je.key===null?Pe:je.key),z=g(je,z,Pe),Ge===null?ye=je:Ge.sibling=je,Ge=je);return i&&ge.forEach(function(Vr){return r(q,Vr)}),He&&Cs(q,Pe),ye}function be(q,z,Y,J){if(Y==null)throw Error(s(151));for(var ye=null,Ge=null,ge=z,Pe=z=0,je=null,Ye=Y.next();ge!==null&&!Ye.done;Pe++,Ye=Y.next()){ge.index>Pe?(je=ge,ge=null):je=ge.sibling;var Vr=X(q,ge,Ye.value,J);if(Vr===null){ge===null&&(ge=je);break}i&&ge&&Vr.alternate===null&&r(q,ge),z=g(Vr,z,Pe),Ge===null?ye=Vr:Ge.sibling=Vr,Ge=Vr,ge=je}if(Ye.done)return o(q,ge),He&&Cs(q,Pe),ye;if(ge===null){for(;!Ye.done;Pe++,Ye=Y.next())Ye=ie(q,Ye.value,J),Ye!==null&&(z=g(Ye,z,Pe),Ge===null?ye=Ye:Ge.sibling=Ye,Ge=Ye);return He&&Cs(q,Pe),ye}for(ge=c(ge);!Ye.done;Pe++,Ye=Y.next())Ye=Q(ge,q,Pe,Ye.value,J),Ye!==null&&(i&&Ye.alternate!==null&&ge.delete(Ye.key===null?Pe:Ye.key),z=g(Ye,z,Pe),Ge===null?ye=Ye:Ge.sibling=Ye,Ge=Ye);return i&&ge.forEach(function(DI){return r(q,DI)}),He&&Cs(q,Pe),ye}function it(q,z,Y,J){if(typeof Y=="object"&&Y!==null&&Y.type===D&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:e:{for(var ye=Y.key;z!==null;){if(z.key===ye){if(ye=Y.type,ye===D){if(z.tag===7){o(q,z.sibling),J=m(z,Y.props.children),J.return=q,q=J;break e}}else if(z.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&Oa(ye)===z.type){o(q,z.sibling),J=m(z,Y.props),pu(J,Y),J.return=q,q=J;break e}o(q,z);break}else r(q,z);z=z.sibling}Y.type===D?(J=Ia(Y.props.children,q.mode,J,Y.key),J.return=q,q=J):(J=Ah(Y.type,Y.key,Y.props,null,q.mode,J),pu(J,Y),J.return=q,q=J)}return b(q);case R:e:{for(ye=Y.key;z!==null;){if(z.key===ye)if(z.tag===4&&z.stateNode.containerInfo===Y.containerInfo&&z.stateNode.implementation===Y.implementation){o(q,z.sibling),J=m(z,Y.children||[]),J.return=q,q=J;break e}else{o(q,z);break}else r(q,z);z=z.sibling}J=Im(Y,q.mode,J),J.return=q,q=J}return b(q);case x:return Y=Oa(Y),it(q,z,Y,J)}if(Qe(Y))return pe(q,z,Y,J);if(H(Y)){if(ye=H(Y),typeof ye!="function")throw Error(s(150));return Y=ye.call(Y),be(q,z,Y,J)}if(typeof Y.then=="function")return it(q,z,Mh(Y),J);if(Y.$$typeof===F)return it(q,z,Rh(q,Y),J);Ph(q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,z!==null&&z.tag===6?(o(q,z.sibling),J=m(z,Y),J.return=q,q=J):(o(q,z),J=Nm(Y,q.mode,J),J.return=q,q=J),b(q)):o(q,z)}return function(q,z,Y,J){try{mu=0;var ye=it(q,z,Y,J);return Uo=null,ye}catch(ge){if(ge===jo||ge===Ih)throw ge;var Ge=Ln(29,ge,null,q.mode);return Ge.lanes=J,Ge.return=q,Ge}finally{}}}var La=I_(!0),D_=I_(!1),yr=!1;function Fm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function vr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function _r(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Xe&2)!==0){var m=c.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),c.pending=r,r=Sh(i),m_(i,null,o),r}return wh(i,c,r,o),Sh(i)}function gu(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Hl(i,o)}}function qm(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?m=g=r:g=g.next=r}else m=g=r;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Gm=!1;function yu(){if(Gm){var i=Lo;if(i!==null)throw i}}function vu(i,r,o,c){Gm=!1;var m=i.updateQueue;yr=!1;var g=m.firstBaseUpdate,b=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var O=A,K=O.next;O.next=null,b===null?g=K:b.next=K,b=O;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==b&&(A===null?Z.firstBaseUpdate=K:A.next=K,Z.lastBaseUpdate=O))}if(g!==null){var ie=m.baseState;b=0,Z=K=O=null,A=g;do{var X=A.lane&-536870913,Q=X!==A.lane;if(Q?(Le&X)===X:(c&X)===X){X!==0&&X===ko&&(Gm=!0),Z!==null&&(Z=Z.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var pe=i,be=A;X=r;var it=o;switch(be.tag){case 1:if(pe=be.payload,typeof pe=="function"){ie=pe.call(it,ie,X);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=be.payload,X=typeof pe=="function"?pe.call(it,ie,X):pe,X==null)break e;ie=v({},ie,X);break e;case 2:yr=!0}}X=A.callback,X!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=m.callbacks,Q===null?m.callbacks=[X]:Q.push(X))}else Q={lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(K=Z=Q,O=ie):Z=Z.next=Q,b|=X;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,m.lastBaseUpdate=Q,m.shared.pending=null}}while(!0);Z===null&&(O=ie),m.baseState=O,m.firstBaseUpdate=K,m.lastBaseUpdate=Z,g===null&&(m.shared.lanes=0),Sr|=b,i.lanes=b,i.memoizedState=ie}}function M_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function P_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)M_(o[i],r)}var zo=U(null),Vh=U(0);function V_(i,r){i=js,ce(Vh,i),ce(zo,r),js=i|r.baseLanes}function Ym(){ce(Vh,js),ce(zo,zo.current)}function Km(){js=Vh.current,ee(zo),ee(Vh)}var jn=U(null),si=null;function Tr(i){var r=i.alternate;ce(Rt,Rt.current&1),ce(jn,i),si===null&&(r===null||zo.current!==null||r.memoizedState!==null)&&(si=i)}function Xm(i){ce(Rt,Rt.current),ce(jn,i),si===null&&(si=i)}function O_(i){i.tag===22?(ce(Rt,Rt.current),ce(jn,i),si===null&&(si=i)):br()}function br(){ce(Rt,Rt.current),ce(jn,jn.current)}function Un(i){ee(jn),si===i&&(si=null),ee(Rt)}var Rt=U(0);function Oh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||eg(o)||tg(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Is=0,Me=null,tt=null,jt=null,kh=!1,Bo=!1,ja=!1,Lh=0,_u=0,Fo=null,bN=0;function Et(){throw Error(s(321))}function $m(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!kn(i[o],r[o]))return!1;return!0}function Qm(i,r,o,c,m,g){return Is=g,Me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=i===null||i.memoizedState===null?vT:hp,ja=!1,g=o(c,m),ja=!1,Bo&&(g=L_(r,o,c,m)),k_(i),g}function k_(i){W.H=Eu;var r=tt!==null&&tt.next!==null;if(Is=0,jt=tt=Me=null,kh=!1,_u=0,Fo=null,r)throw Error(s(300));i===null||Ut||(i=i.dependencies,i!==null&&Ch(i)&&(Ut=!0))}function L_(i,r,o,c){Me=i;var m=0;do{if(Bo&&(Fo=null),_u=0,Bo=!1,25<=m)throw Error(s(301));if(m+=1,jt=tt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=_T,g=r(o,c)}while(Bo);return g}function EN(){var i=W.H,r=i.useState()[0];return r=typeof r.then=="function"?Tu(r):r,i=i.useState()[0],(tt!==null?tt.memoizedState:null)!==i&&(Me.flags|=1024),r}function Wm(){var i=Lh!==0;return Lh=0,i}function Zm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Jm(i){if(kh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}kh=!1}Is=0,jt=tt=Me=null,Bo=!1,_u=Lh=0,Fo=null}function vn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Me.memoizedState=jt=i:jt=jt.next=i,jt}function Nt(){if(tt===null){var i=Me.alternate;i=i!==null?i.memoizedState:null}else i=tt.next;var r=jt===null?Me.memoizedState:jt.next;if(r!==null)jt=r,tt=i;else{if(i===null)throw Me.alternate===null?Error(s(467)):Error(s(310));tt=i,i={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},jt===null?Me.memoizedState=jt=i:jt=jt.next=i}return jt}function jh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tu(i){var r=_u;return _u+=1,Fo===null&&(Fo=[]),i=C_(Fo,i,r),r=Me,(jt===null?r.memoizedState:jt.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?vT:hp),i}function Uh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Tu(i);if(i.$$typeof===F)return sn(i)}throw Error(s(438,String(i)))}function ep(i){var r=null,o=Me.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Me.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=jh(),Me.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=j;return r.index++,o}function Ds(i,r){return typeof r=="function"?r(i):r}function zh(i){var r=Nt();return tp(r,tt,i)}function tp(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var m=i.baseQueue,g=c.pending;if(g!==null){if(m!==null){var b=m.next;m.next=g.next,g.next=b}r.baseQueue=m=g,c.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{r=m.next;var A=b=null,O=null,K=r,Z=!1;do{var ie=K.lane&-536870913;if(ie!==K.lane?(Le&ie)===ie:(Is&ie)===ie){var X=K.revertLane;if(X===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ie===ko&&(Z=!0);else if((Is&X)===X){K=K.next,X===ko&&(Z=!0);continue}else ie={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(A=O=ie,b=g):O=O.next=ie,Me.lanes|=X,Sr|=X;ie=K.action,ja&&o(g,ie),g=K.hasEagerState?K.eagerState:o(g,ie)}else X={lane:ie,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(A=O=X,b=g):O=O.next=X,Me.lanes|=ie,Sr|=ie;K=K.next}while(K!==null&&K!==r);if(O===null?b=g:O.next=A,!kn(g,i.memoizedState)&&(Ut=!0,Z&&(o=Lo,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=O,c.lastRenderedState=g}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function np(i){var r=Nt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,g=r.memoizedState;if(m!==null){o.pending=null;var b=m=m.next;do g=i(g,b.action),b=b.next;while(b!==m);kn(g,r.memoizedState)||(Ut=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function j_(i,r,o){var c=Me,m=Nt(),g=He;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!kn((tt||m).memoizedState,o);if(b&&(m.memoizedState=o,Ut=!0),m=m.queue,rp(B_.bind(null,c,m,i),[i]),m.getSnapshot!==r||b||jt!==null&&jt.memoizedState.tag&1){if(c.flags|=2048,Ho(9,{destroy:void 0},z_.bind(null,c,m,o,r),null),st===null)throw Error(s(349));g||(Is&127)!==0||U_(c,r,o)}return o}function U_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Me.updateQueue,r===null?(r=jh(),Me.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function z_(i,r,o,c){r.value=o,r.getSnapshot=c,F_(r)&&H_(i)}function B_(i,r,o){return o(function(){F_(r)&&H_(i)})}function F_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!kn(i,o)}catch{return!0}}function H_(i){var r=Na(i,2);r!==null&&Rn(r,i,2)}function ip(i){var r=vn();if(typeof i=="function"){var o=i;if(i=o(),ja){Xn(!0);try{o()}finally{Xn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:i},r}function q_(i,r,o,c){return i.baseState=o,tp(i,tt,typeof c=="function"?c:Ds)}function wN(i,r,o,c,m){if(Hh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};W.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,G_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function G_(i,r){var o=r.action,c=r.payload,m=i.state;if(r.isTransition){var g=W.T,b={};W.T=b;try{var A=o(m,c),O=W.S;O!==null&&O(b,A),Y_(i,r,A)}catch(K){sp(i,r,K)}finally{g!==null&&b.types!==null&&(g.types=b.types),W.T=g}}else try{g=o(m,c),Y_(i,r,g)}catch(K){sp(i,r,K)}}function Y_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){K_(i,r,c)},function(c){return sp(i,r,c)}):K_(i,r,o)}function K_(i,r,o){r.status="fulfilled",r.value=o,X_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,G_(i,o)))}function sp(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,X_(r),r=r.next;while(r!==c)}i.action=null}function X_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function $_(i,r){return r}function Q_(i,r){if(He){var o=st.formState;if(o!==null){e:{var c=Me;if(He){if(ot){t:{for(var m=ot,g=ii;m.nodeType!==8;){if(!g){m=null;break t}if(m=ri(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){ot=ri(m.nextSibling),c=m.data==="F!";break e}}pr(c)}c=!1}c&&(r=o[0])}}return o=vn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$_,lastRenderedState:r},o.queue=c,o=pT.bind(null,Me,c),c.dispatch=o,c=ip(!1),g=cp.bind(null,Me,!1,c.queue),c=vn(),m={state:r,dispatch:null,action:i,pending:null},c.queue=m,o=wN.bind(null,Me,m,g,o),m.dispatch=o,c.memoizedState=i,[r,o,!1]}function W_(i){var r=Nt();return Z_(r,tt,i)}function Z_(i,r,o){if(r=tp(i,r,$_)[0],i=zh(Ds)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Tu(r)}catch(b){throw b===jo?Ih:b}else c=r;r=Nt();var m=r.queue,g=m.dispatch;return o!==r.memoizedState&&(Me.flags|=2048,Ho(9,{destroy:void 0},SN.bind(null,m,o),null)),[c,g,i]}function SN(i,r){i.action=r}function J_(i){var r=Nt(),o=tt;if(o!==null)return Z_(r,o,i);Nt(),r=r.memoizedState,o=Nt();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function Ho(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=Me.updateQueue,r===null&&(r=jh(),Me.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function eT(){return Nt().memoizedState}function Bh(i,r,o,c){var m=vn();Me.flags|=i,m.memoizedState=Ho(1|r,{destroy:void 0},o,c===void 0?null:c)}function Fh(i,r,o,c){var m=Nt();c=c===void 0?null:c;var g=m.memoizedState.inst;tt!==null&&c!==null&&$m(c,tt.memoizedState.deps)?m.memoizedState=Ho(r,g,o,c):(Me.flags|=i,m.memoizedState=Ho(1|r,g,o,c))}function tT(i,r){Bh(8390656,8,i,r)}function rp(i,r){Fh(2048,8,i,r)}function AN(i){Me.flags|=4;var r=Me.updateQueue;if(r===null)r=jh(),Me.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function nT(i){var r=Nt().memoizedState;return AN({ref:r,nextImpl:i}),function(){if((Xe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function iT(i,r){return Fh(4,2,i,r)}function sT(i,r){return Fh(4,4,i,r)}function rT(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function aT(i,r,o){o=o!=null?o.concat([i]):null,Fh(4,4,rT.bind(null,r,i),o)}function ap(){}function oT(i,r){var o=Nt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&$m(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function lT(i,r){var o=Nt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&$m(r,c[1]))return c[0];if(c=i(),ja){Xn(!0);try{i()}finally{Xn(!1)}}return o.memoizedState=[c,r],c}function op(i,r,o){return o===void 0||(Is&1073741824)!==0&&(Le&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=ub(),Me.lanes|=i,Sr|=i,o)}function uT(i,r,o,c){return kn(o,r)?o:zo.current!==null?(i=op(i,o,c),kn(i,r)||(Ut=!0),i):(Is&42)===0||(Is&1073741824)!==0&&(Le&261930)===0?(Ut=!0,i.memoizedState=o):(i=ub(),Me.lanes|=i,Sr|=i,r)}function cT(i,r,o,c,m){var g=le.p;le.p=g!==0&&8>g?g:8;var b=W.T,A={};W.T=A,cp(i,!1,r,o);try{var O=m(),K=W.S;if(K!==null&&K(A,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Z=TN(O,c);bu(i,r,Z,Fn(i))}else bu(i,r,c,Fn(i))}catch(ie){bu(i,r,{then:function(){},status:"rejected",reason:ie},Fn())}finally{le.p=g,b!==null&&A.types!==null&&(b.types=A.types),W.T=b}}function xN(){}function lp(i,r,o,c){if(i.tag!==5)throw Error(s(476));var m=hT(i).queue;cT(i,m,r,de,o===null?xN:function(){return fT(i),o(c)})}function hT(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:de},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function fT(i){var r=hT(i);r.next===null&&(r=i.alternate.memoizedState),bu(i,r.next.queue,{},Fn())}function up(){return sn(ju)}function dT(){return Nt().memoizedState}function mT(){return Nt().memoizedState}function CN(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Fn();i=vr(o);var c=_r(r,i,o);c!==null&&(Rn(c,r,o),gu(c,r,o)),r={cache:jm()},i.payload=r;return}r=r.return}}function RN(i,r,o){var c=Fn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Hh(i)?gT(r,o):(o=Cm(i,r,o,c),o!==null&&(Rn(o,i,c),yT(o,r,c)))}function pT(i,r,o){var c=Fn();bu(i,r,o,c)}function bu(i,r,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Hh(i))gT(r,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var b=r.lastRenderedState,A=g(b,o);if(m.hasEagerState=!0,m.eagerState=A,kn(A,b))return wh(i,r,m,0),st===null&&Eh(),!1}catch{}finally{}if(o=Cm(i,r,m,c),o!==null)return Rn(o,i,c),yT(o,r,c),!0}return!1}function cp(i,r,o,c){if(c={lane:2,revertLane:Fp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Hh(i)){if(r)throw Error(s(479))}else r=Cm(i,o,c,2),r!==null&&Rn(r,i,2)}function Hh(i){var r=i.alternate;return i===Me||r!==null&&r===Me}function gT(i,r){Bo=kh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function yT(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Hl(i,o)}}var Eu={readContext:sn,use:Uh,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};Eu.useEffectEvent=Et;var vT={readContext:sn,use:Uh,useCallback:function(i,r){return vn().memoizedState=[i,r===void 0?null:r],i},useContext:sn,useEffect:tT,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Bh(4194308,4,rT.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Bh(4194308,4,i,r)},useInsertionEffect:function(i,r){Bh(4,2,i,r)},useMemo:function(i,r){var o=vn();r=r===void 0?null:r;var c=i();if(ja){Xn(!0);try{i()}finally{Xn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=vn();if(o!==void 0){var m=o(r);if(ja){Xn(!0);try{o(r)}finally{Xn(!1)}}}else m=r;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=RN.bind(null,Me,i),[c.memoizedState,i]},useRef:function(i){var r=vn();return i={current:i},r.memoizedState=i},useState:function(i){i=ip(i);var r=i.queue,o=pT.bind(null,Me,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:ap,useDeferredValue:function(i,r){var o=vn();return op(o,i,r)},useTransition:function(){var i=ip(!1);return i=cT.bind(null,Me,i.queue,!0,!1),vn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=Me,m=vn();if(He){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),st===null)throw Error(s(349));(Le&127)!==0||U_(c,r,o)}m.memoizedState=o;var g={value:o,getSnapshot:r};return m.queue=g,tT(B_.bind(null,c,g,i),[i]),c.flags|=2048,Ho(9,{destroy:void 0},z_.bind(null,c,g,o,r),null),o},useId:function(){var i=vn(),r=st.identifierPrefix;if(He){var o=as,c=rs;o=(c&~(1<<32-xt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Lh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=bN++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:up,useFormState:Q_,useActionState:Q_,useOptimistic:function(i){var r=vn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=cp.bind(null,Me,!0,o),o.dispatch=r,[i,r]},useMemoCache:ep,useCacheRefresh:function(){return vn().memoizedState=CN.bind(null,Me)},useEffectEvent:function(i){var r=vn(),o={impl:i};return r.memoizedState=o,function(){if((Xe&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},hp={readContext:sn,use:Uh,useCallback:oT,useContext:sn,useEffect:rp,useImperativeHandle:aT,useInsertionEffect:iT,useLayoutEffect:sT,useMemo:lT,useReducer:zh,useRef:eT,useState:function(){return zh(Ds)},useDebugValue:ap,useDeferredValue:function(i,r){var o=Nt();return uT(o,tt.memoizedState,i,r)},useTransition:function(){var i=zh(Ds)[0],r=Nt().memoizedState;return[typeof i=="boolean"?i:Tu(i),r]},useSyncExternalStore:j_,useId:dT,useHostTransitionStatus:up,useFormState:W_,useActionState:W_,useOptimistic:function(i,r){var o=Nt();return q_(o,tt,i,r)},useMemoCache:ep,useCacheRefresh:mT};hp.useEffectEvent=nT;var _T={readContext:sn,use:Uh,useCallback:oT,useContext:sn,useEffect:rp,useImperativeHandle:aT,useInsertionEffect:iT,useLayoutEffect:sT,useMemo:lT,useReducer:np,useRef:eT,useState:function(){return np(Ds)},useDebugValue:ap,useDeferredValue:function(i,r){var o=Nt();return tt===null?op(o,i,r):uT(o,tt.memoizedState,i,r)},useTransition:function(){var i=np(Ds)[0],r=Nt().memoizedState;return[typeof i=="boolean"?i:Tu(i),r]},useSyncExternalStore:j_,useId:dT,useHostTransitionStatus:up,useFormState:J_,useActionState:J_,useOptimistic:function(i,r){var o=Nt();return tt!==null?q_(o,tt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:ep,useCacheRefresh:mT};_T.useEffectEvent=nT;function fp(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var dp={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=Fn(),m=vr(c);m.payload=r,o!=null&&(m.callback=o),r=_r(i,m,c),r!==null&&(Rn(r,i,c),gu(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=Fn(),m=vr(c);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=_r(i,m,c),r!==null&&(Rn(r,i,c),gu(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Fn(),c=vr(o);c.tag=2,r!=null&&(c.callback=r),r=_r(i,c,o),r!==null&&(Rn(r,i,o),gu(r,i,o))}};function TT(i,r,o,c,m,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,b):r.prototype&&r.prototype.isPureReactComponent?!lu(o,c)||!lu(m,g):!0}function bT(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&dp.enqueueReplaceState(r,r.state,null)}function Ua(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function ET(i){bh(i)}function wT(i){console.error(i)}function ST(i){bh(i)}function qh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function AT(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function mp(i,r,o){return o=vr(o),o.tag=3,o.payload={element:null},o.callback=function(){qh(i,r)},o}function xT(i){return i=vr(i),i.tag=3,i}function CT(i,r,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;i.payload=function(){return m(g)},i.callback=function(){AT(r,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){AT(r,o,c),typeof m!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function NN(i,r,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Oo(r,o,m,!0),o=jn.current,o!==null){switch(o.tag){case 31:case 13:return si===null?nf():o.alternate===null&&wt===0&&(wt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Dh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),Up(i,c,m)),!1;case 22:return o.flags|=65536,c===Dh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),Up(i,c,m)),!1}throw Error(s(435,o.tag))}return Up(i,c,m),nf(),!1}if(He)return r=jn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,c!==Pm&&(i=Error(s(422),{cause:c}),hu(ei(i,o)))):(c!==Pm&&(r=Error(s(423),{cause:c}),hu(ei(r,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=ei(c,o),m=mp(i.stateNode,c,m),qm(i,m),wt!==4&&(wt=2)),!1;var g=Error(s(520),{cause:c});if(g=ei(g,o),Iu===null?Iu=[g]:Iu.push(g),wt!==4&&(wt=2),r===null)return!0;c=ei(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=mp(o.stateNode,c,i),qm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ar===null||!Ar.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=xT(m),CT(m,i,o,c),qm(o,m),!1}o=o.return}while(o!==null);return!1}var pp=Error(s(461)),Ut=!1;function rn(i,r,o,c){r.child=i===null?D_(r,null,o,c):La(r,i.child,o,c)}function RT(i,r,o,c,m){o=o.render;var g=r.ref;if("ref"in c){var b={};for(var A in c)A!=="ref"&&(b[A]=c[A])}else b=c;return Pa(r),c=Qm(i,r,o,b,g,m),A=Wm(),i!==null&&!Ut?(Zm(i,r,m),Ms(i,r,m)):(He&&A&&Dm(r),r.flags|=1,rn(i,r,c,m),r.child)}function NT(i,r,o,c,m){if(i===null){var g=o.type;return typeof g=="function"&&!Rm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,IT(i,r,g,c,m)):(i=Ah(o.type,null,c,r,r.mode,m),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!wp(i,m)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:lu,o(b,c)&&i.ref===r.ref)return Ms(i,r,m)}return r.flags|=1,i=xs(g,c),i.ref=r.ref,i.return=r,r.child=i}function IT(i,r,o,c,m){if(i!==null){var g=i.memoizedProps;if(lu(g,c)&&i.ref===r.ref)if(Ut=!1,r.pendingProps=c=g,wp(i,m))(i.flags&131072)!==0&&(Ut=!0);else return r.lanes=i.lanes,Ms(i,r,m)}return gp(i,r,o,c,m)}function DT(i,r,o,c){var m=c.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=r.child=i.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,r.child=null;return MT(i,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Nh(r,g!==null?g.cachePool:null),g!==null?V_(r,g):Ym(),O_(r);else return c=r.lanes=536870912,MT(i,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Nh(r,g.cachePool),V_(r,g),br(),r.memoizedState=null):(i!==null&&Nh(r,null),Ym(),br());return rn(i,r,m,o),r.child}function wu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function MT(i,r,o,c,m){var g=zm();return g=g===null?null:{parent:Lt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&Nh(r,null),Ym(),O_(r),i!==null&&Oo(i,r,c,!0),r.childLanes=m,null}function Gh(i,r){return r=Kh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function PT(i,r,o){return La(r,i.child,null,o),i=Gh(r,r.pendingProps),i.flags|=2,Un(r),r.memoizedState=null,i}function IN(i,r,o){var c=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(He){if(c.mode==="hidden")return i=Gh(r,c),r.lanes=536870912,wu(null,i);if(Xm(r),(i=ot)?(i=Gb(i,ii),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:dr!==null?{id:rs,overflow:as}:null,retryLane:536870912,hydrationErrors:null},o=g_(i),o.return=r,r.child=o,nn=r,ot=null)):i=null,i===null)throw pr(r);return r.lanes=536870912,null}return Gh(r,c)}var g=i.memoizedState;if(g!==null){var b=g.dehydrated;if(Xm(r),m)if(r.flags&256)r.flags&=-257,r=PT(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ut||Oo(i,r,o,!1),m=(o&i.childLanes)!==0,Ut||m){if(c=st,c!==null&&(b=ql(c,o),b!==0&&b!==g.retryLane))throw g.retryLane=b,Na(i,b),Rn(c,i,b),pp;nf(),r=PT(i,r,o)}else i=g.treeContext,ot=ri(b.nextSibling),nn=r,He=!0,mr=null,ii=!1,i!==null&&__(r,i),r=Gh(r,c),r.flags|=4096;return r}return i=xs(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Yh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function gp(i,r,o,c,m){return Pa(r),o=Qm(i,r,o,c,void 0,m),c=Wm(),i!==null&&!Ut?(Zm(i,r,m),Ms(i,r,m)):(He&&c&&Dm(r),r.flags|=1,rn(i,r,o,m),r.child)}function VT(i,r,o,c,m,g){return Pa(r),r.updateQueue=null,o=L_(r,c,o,m),k_(i),c=Wm(),i!==null&&!Ut?(Zm(i,r,g),Ms(i,r,g)):(He&&c&&Dm(r),r.flags|=1,rn(i,r,o,g),r.child)}function OT(i,r,o,c,m){if(Pa(r),r.stateNode===null){var g=Do,b=o.contextType;typeof b=="object"&&b!==null&&(g=sn(b)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=dp,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},Fm(r),b=o.contextType,g.context=typeof b=="object"&&b!==null?sn(b):Do,g.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(fp(r,o,b,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&dp.enqueueReplaceState(g,g.state,null),vu(r,c,g,m),yu(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){g=r.stateNode;var A=r.memoizedProps,O=Ua(o,A);g.props=O;var K=g.context,Z=o.contextType;b=Do,typeof Z=="object"&&Z!==null&&(b=sn(Z));var ie=o.getDerivedStateFromProps;Z=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||K!==b)&&bT(r,g,c,b),yr=!1;var X=r.memoizedState;g.state=X,vu(r,c,g,m),yu(),K=r.memoizedState,A||X!==K||yr?(typeof ie=="function"&&(fp(r,o,ie,c),K=r.memoizedState),(O=yr||TT(r,o,O,c,X,K,b))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=K),g.props=c,g.state=K,g.context=b,c=O):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,Hm(i,r),b=r.memoizedProps,Z=Ua(o,b),g.props=Z,ie=r.pendingProps,X=g.context,K=o.contextType,O=Do,typeof K=="object"&&K!==null&&(O=sn(K)),A=o.getDerivedStateFromProps,(K=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==ie||X!==O)&&bT(r,g,c,O),yr=!1,X=r.memoizedState,g.state=X,vu(r,c,g,m),yu();var Q=r.memoizedState;b!==ie||X!==Q||yr||i!==null&&i.dependencies!==null&&Ch(i.dependencies)?(typeof A=="function"&&(fp(r,o,A,c),Q=r.memoizedState),(Z=yr||TT(r,o,Z,c,X,Q,O)||i!==null&&i.dependencies!==null&&Ch(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,Q,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,Q,O)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=Q),g.props=c,g.state=Q,g.context=O,c=Z):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(r.flags|=1024),c=!1)}return g=c,Yh(i,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&c?(r.child=La(r,i.child,null,m),r.child=La(r,null,o,m)):rn(i,r,o,m),r.memoizedState=g.state,i=r.child):i=Ms(i,r,m),i}function kT(i,r,o,c){return Da(),r.flags|=256,rn(i,r,o,c),r.child}var yp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vp(i){return{baseLanes:i,cachePool:A_()}}function _p(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Bn),i}function LT(i,r,o){var c=r.pendingProps,m=!1,g=(r.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(Rt.current&2)!==0),b&&(m=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(He){if(m?Tr(r):br(),(i=ot)?(i=Gb(i,ii),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:dr!==null?{id:rs,overflow:as}:null,retryLane:536870912,hydrationErrors:null},o=g_(i),o.return=r,r.child=o,nn=r,ot=null)):i=null,i===null)throw pr(r);return tg(i)?r.lanes=32:r.lanes=536870912,null}var A=c.children;return c=c.fallback,m?(br(),m=r.mode,A=Kh({mode:"hidden",children:A},m),c=Ia(c,m,o,null),A.return=r,c.return=r,A.sibling=c,r.child=A,c=r.child,c.memoizedState=vp(o),c.childLanes=_p(i,b,o),r.memoizedState=yp,wu(null,c)):(Tr(r),Tp(r,A))}var O=i.memoizedState;if(O!==null&&(A=O.dehydrated,A!==null)){if(g)r.flags&256?(Tr(r),r.flags&=-257,r=bp(i,r,o)):r.memoizedState!==null?(br(),r.child=i.child,r.flags|=128,r=null):(br(),A=c.fallback,m=r.mode,c=Kh({mode:"visible",children:c.children},m),A=Ia(A,m,o,null),A.flags|=2,c.return=r,A.return=r,c.sibling=A,r.child=c,La(r,i.child,null,o),c=r.child,c.memoizedState=vp(o),c.childLanes=_p(i,b,o),r.memoizedState=yp,r=wu(null,c));else if(Tr(r),tg(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var K=b.dgst;b=K,c=Error(s(419)),c.stack="",c.digest=b,hu({value:c,source:null,stack:null}),r=bp(i,r,o)}else if(Ut||Oo(i,r,o,!1),b=(o&i.childLanes)!==0,Ut||b){if(b=st,b!==null&&(c=ql(b,o),c!==0&&c!==O.retryLane))throw O.retryLane=c,Na(i,c),Rn(b,i,c),pp;eg(A)||nf(),r=bp(i,r,o)}else eg(A)?(r.flags|=192,r.child=i.child,r=null):(i=O.treeContext,ot=ri(A.nextSibling),nn=r,He=!0,mr=null,ii=!1,i!==null&&__(r,i),r=Tp(r,c.children),r.flags|=4096);return r}return m?(br(),A=c.fallback,m=r.mode,O=i.child,K=O.sibling,c=xs(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,K!==null?A=xs(K,A):(A=Ia(A,m,o,null),A.flags|=2),A.return=r,c.return=r,c.sibling=A,r.child=c,wu(null,c),c=r.child,A=i.child.memoizedState,A===null?A=vp(o):(m=A.cachePool,m!==null?(O=Lt._currentValue,m=m.parent!==O?{parent:O,pool:O}:m):m=A_(),A={baseLanes:A.baseLanes|o,cachePool:m}),c.memoizedState=A,c.childLanes=_p(i,b,o),r.memoizedState=yp,wu(i.child,c)):(Tr(r),o=i.child,i=o.sibling,o=xs(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function Tp(i,r){return r=Kh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Kh(i,r){return i=Ln(22,i,null,r),i.lanes=0,i}function bp(i,r,o){return La(r,i.child,null,o),i=Tp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function jT(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),km(i.return,r,o)}function Ep(i,r,o,c,m,g){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=o,b.tailMode=m,b.treeForkCount=g)}function UT(i,r,o){var c=r.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var b=Rt.current,A=(b&2)!==0;if(A?(b=b&1|2,r.flags|=128):b&=1,ce(Rt,b),rn(i,r,c,o),c=He?cu:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&jT(i,o,r);else if(i.tag===19)jT(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)i=o.alternate,i!==null&&Oh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),Ep(r,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(i=m.alternate,i!==null&&Oh(i)===null){r.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}Ep(r,!0,o,null,g,c);break;case"together":Ep(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Ms(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Sr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Oo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=xs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=xs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function wp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Ch(i)))}function DN(i,r,o){switch(r.tag){case 3:_e(r,r.stateNode.containerInfo),gr(r,Lt,i.memoizedState.cache),Da();break;case 27:case 5:mt(r);break;case 4:_e(r,r.stateNode.containerInfo);break;case 10:gr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Xm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Tr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?LT(i,r,o):(Tr(r),i=Ms(i,r,o),i!==null?i.sibling:null);Tr(r);break;case 19:var m=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Oo(i,r,o,!1),c=(o&r.childLanes)!==0),m){if(c)return UT(i,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ce(Rt,Rt.current),c)break;return null;case 22:return r.lanes=0,DT(i,r,o,r.pendingProps);case 24:gr(r,Lt,i.memoizedState.cache)}return Ms(i,r,o)}function zT(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ut=!0;else{if(!wp(i,o)&&(r.flags&128)===0)return Ut=!1,DN(i,r,o);Ut=(i.flags&131072)!==0}else Ut=!1,He&&(r.flags&1048576)!==0&&v_(r,cu,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=Oa(r.elementType),r.type=i,typeof i=="function")Rm(i)?(c=Ua(i,c),r.tag=1,r=OT(null,r,i,c,o)):(r.tag=0,r=gp(null,r,i,c,o));else{if(i!=null){var m=i.$$typeof;if(m===oe){r.tag=11,r=RT(null,r,i,c,o);break e}else if(m===N){r.tag=14,r=NT(null,r,i,c,o);break e}}throw r=Fe(i)||i,Error(s(306,r,""))}}return r;case 0:return gp(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,m=Ua(c,r.pendingProps),OT(i,r,c,m,o);case 3:e:{if(_e(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var g=r.memoizedState;m=g.element,Hm(i,r),vu(r,c,null,o);var b=r.memoizedState;if(c=b.cache,gr(r,Lt,c),c!==g.cache&&Lm(r,[Lt],o,!0),yu(),c=b.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=kT(i,r,c,o);break e}else if(c!==m){m=ei(Error(s(424)),r),hu(m),r=kT(i,r,c,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ot=ri(i.firstChild),nn=r,He=!0,mr=null,ii=!0,o=D_(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Da(),c===m){r=Ms(i,r,o);break e}rn(i,r,c,o)}r=r.child}return r;case 26:return Yh(i,r),i===null?(o=Wb(r.type,null,r.pendingProps,null))?r.memoizedState=o:He||(o=r.type,i=r.pendingProps,c=cf(Ce.current).createElement(o),c[Vt]=r,c[$t]=i,an(c,o,i),Ot(c),r.stateNode=c):r.memoizedState=Wb(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return mt(r),i===null&&He&&(c=r.stateNode=Xb(r.type,r.pendingProps,Ce.current),nn=r,ii=!0,m=ot,Nr(r.type)?(ng=m,ot=ri(c.firstChild)):ot=m),rn(i,r,r.pendingProps.children,o),Yh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&He&&((m=c=ot)&&(c=oI(c,r.type,r.pendingProps,ii),c!==null?(r.stateNode=c,nn=r,ot=ri(c.firstChild),ii=!1,m=!0):m=!1),m||pr(r)),mt(r),m=r.type,g=r.pendingProps,b=i!==null?i.memoizedProps:null,c=g.children,Wp(m,g)?c=null:b!==null&&Wp(m,b)&&(r.flags|=32),r.memoizedState!==null&&(m=Qm(i,r,EN,null,null,o),ju._currentValue=m),Yh(i,r),rn(i,r,c,o),r.child;case 6:return i===null&&He&&((i=o=ot)&&(o=lI(o,r.pendingProps,ii),o!==null?(r.stateNode=o,nn=r,ot=null,i=!0):i=!1),i||pr(r)),null;case 13:return LT(i,r,o);case 4:return _e(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=La(r,null,c,o):rn(i,r,c,o),r.child;case 11:return RT(i,r,r.type,r.pendingProps,o);case 7:return rn(i,r,r.pendingProps,o),r.child;case 8:return rn(i,r,r.pendingProps.children,o),r.child;case 12:return rn(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,gr(r,r.type,c.value),rn(i,r,c.children,o),r.child;case 9:return m=r.type._context,c=r.pendingProps.children,Pa(r),m=sn(m),c=c(m),r.flags|=1,rn(i,r,c,o),r.child;case 14:return NT(i,r,r.type,r.pendingProps,o);case 15:return IT(i,r,r.type,r.pendingProps,o);case 19:return UT(i,r,o);case 31:return IN(i,r,o);case 22:return DT(i,r,o,r.pendingProps);case 24:return Pa(r),c=sn(Lt),i===null?(m=zm(),m===null&&(m=st,g=jm(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),r.memoizedState={parent:c,cache:m},Fm(r),gr(r,Lt,m)):((i.lanes&o)!==0&&(Hm(i,r),vu(r,null,null,o),yu()),m=i.memoizedState,g=r.memoizedState,m.parent!==c?(m={parent:c,cache:c},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),gr(r,Lt,c)):(c=g.cache,gr(r,Lt,c),c!==m.cache&&Lm(r,[Lt],o,!0))),rn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ps(i){i.flags|=4}function Sp(i,r,o,c,m){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(db())i.flags|=8192;else throw ka=Dh,Bm}else i.flags&=-16777217}function BT(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!nE(r))if(db())i.flags|=8192;else throw ka=Dh,Bm}function Xh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?eh():536870912,i.lanes|=r,Ko|=r)}function Su(i,r){if(!He)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function lt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function MN(i,r,o){var c=r.pendingProps;switch(Mm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Ns(Lt),Ee(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Vo(r)?Ps(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Vm())),lt(r),null;case 26:var m=r.type,g=r.memoizedState;return i===null?(Ps(r),g!==null?(lt(r),BT(r,g)):(lt(r),Sp(r,m,null,c,o))):g?g!==i.memoizedState?(Ps(r),lt(r),BT(r,g)):(lt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&Ps(r),lt(r),Sp(r,m,i,c,o)),null;case 27:if(bn(r),o=Ce.current,m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Ps(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return lt(r),null}i=he.current,Vo(r)?T_(r):(i=Xb(m,c,o),r.stateNode=i,Ps(r))}return lt(r),null;case 5:if(bn(r),m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Ps(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return lt(r),null}if(g=he.current,Vo(r))T_(r);else{var b=cf(Ce.current);switch(g){case 1:g=b.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=b.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=b.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?b.createElement(m,{is:c.is}):b.createElement(m)}}g[Vt]=r,g[$t]=c;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)g.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=g;e:switch(an(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ps(r)}}return lt(r),Sp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&Ps(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ce.current,Vo(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,m=nn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[Vt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Lb(i.nodeValue,o)),i||pr(r,!0)}else i=cf(i).createTextNode(c),i[Vt]=r,r.stateNode=i}return lt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=Vo(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Vt]=r}else Da(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),i=!1}else o=Vm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Un(r),r):(Un(r),null);if((r.flags&128)!==0)throw Error(s(558))}return lt(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Vo(r),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[Vt]=r}else Da(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),m=!1}else m=Vm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(Un(r),r):(Un(r),null)}return Un(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Xh(r,r.updateQueue),lt(r),null);case 4:return Ee(),i===null&&Yp(r.stateNode.containerInfo),lt(r),null;case 10:return Ns(r.type),lt(r),null;case 19:if(ee(Rt),c=r.memoizedState,c===null)return lt(r),null;if(m=(r.flags&128)!==0,g=c.rendering,g===null)if(m)Su(c,!1);else{if(wt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Oh(i),g!==null){for(r.flags|=128,Su(c,!1),i=g.updateQueue,r.updateQueue=i,Xh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)p_(o,i),o=o.sibling;return ce(Rt,Rt.current&1|2),He&&Cs(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&Jt()>Jh&&(r.flags|=128,m=!0,Su(c,!1),r.lanes=4194304)}else{if(!m)if(i=Oh(g),i!==null){if(r.flags|=128,m=!0,i=i.updateQueue,r.updateQueue=i,Xh(r,i),Su(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!He)return lt(r),null}else 2*Jt()-c.renderingStartTime>Jh&&o!==536870912&&(r.flags|=128,m=!0,Su(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(i=c.last,i!==null?i.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=Jt(),i.sibling=null,o=Rt.current,ce(Rt,m?o&1|2:o&1),He&&Cs(r,c.treeForkCount),i):(lt(r),null);case 22:case 23:return Un(r),Km(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),o=r.updateQueue,o!==null&&Xh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&ee(Va),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ns(Lt),lt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function PN(i,r){switch(Mm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Ns(Lt),Ee(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return bn(r),null;case 31:if(r.memoizedState!==null){if(Un(r),r.alternate===null)throw Error(s(340));Da()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Un(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Da()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ee(Rt),null;case 4:return Ee(),null;case 10:return Ns(r.type),null;case 22:case 23:return Un(r),Km(),i!==null&&ee(Va),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Ns(Lt),null;case 25:return null;default:return null}}function FT(i,r){switch(Mm(r),r.tag){case 3:Ns(Lt),Ee();break;case 26:case 27:case 5:bn(r);break;case 4:Ee();break;case 31:r.memoizedState!==null&&Un(r);break;case 13:Un(r);break;case 19:ee(Rt);break;case 10:Ns(r.type);break;case 22:case 23:Un(r),Km(),i!==null&&ee(Va);break;case 24:Ns(Lt)}}function Au(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var g=o.create,b=o.inst;c=g(),b.destroy=c}o=o.next}while(o!==m)}}catch(A){Je(r,r.return,A)}}function Er(i,r,o){try{var c=r.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&i)===i){var b=c.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,m=r;var O=o,K=A;try{K()}catch(Z){Je(m,O,Z)}}}c=c.next}while(c!==g)}}catch(Z){Je(r,r.return,Z)}}function HT(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{P_(r,o)}catch(c){Je(i,i.return,c)}}}function qT(i,r,o){o.props=Ua(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){Je(i,r,c)}}function xu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(m){Je(i,r,m)}}function os(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Je(i,r,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Je(i,r,m)}else o.current=null}function GT(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Je(i,i.return,m)}}function Ap(i,r,o){try{var c=i.stateNode;tI(c,i.type,o,r),c[$t]=r}catch(m){Je(i,i.return,m)}}function YT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Nr(i.type)||i.tag===4}function xp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||YT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Nr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Cp(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Si));else if(c!==4&&(c===27&&Nr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Cp(i,r,o),i=i.sibling;i!==null;)Cp(i,r,o),i=i.sibling}function $h(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&Nr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for($h(i,r,o),i=i.sibling;i!==null;)$h(i,r,o),i=i.sibling}function KT(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);an(r,c,o),r[Vt]=i,r[$t]=o}catch(g){Je(i,i.return,g)}}var Vs=!1,zt=!1,Rp=!1,XT=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function VN(i,r){if(i=i.containerInfo,$p=yf,i=a_(i),bm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,A=-1,O=-1,K=0,Z=0,ie=i,X=null;t:for(;;){for(var Q;ie!==o||m!==0&&ie.nodeType!==3||(A=b+m),ie!==g||c!==0&&ie.nodeType!==3||(O=b+c),ie.nodeType===3&&(b+=ie.nodeValue.length),(Q=ie.firstChild)!==null;)X=ie,ie=Q;for(;;){if(ie===i)break t;if(X===o&&++K===m&&(A=b),X===g&&++Z===c&&(O=b),(Q=ie.nextSibling)!==null)break;ie=X,X=ie.parentNode}ie=Q}o=A===-1||O===-1?null:{start:A,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(Qp={focusedElem:i,selectionRange:o},yf=!1,Wt=r;Wt!==null;)if(r=Wt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Wt=i;else for(;Wt!==null;){switch(r=Wt,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var pe=Ua(o.type,m);i=c.getSnapshotBeforeUpdate(pe,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(be){Je(o,o.return,be)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Jp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Jp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Wt=i;break}Wt=r.return}}function $T(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ks(i,o),c&4&&Au(5,o);break;case 1:if(ks(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){Je(o,o.return,b)}else{var m=Ua(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(m,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){Je(o,o.return,b)}}c&64&&HT(o),c&512&&xu(o,o.return);break;case 3:if(ks(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{P_(i,r)}catch(b){Je(o,o.return,b)}}break;case 27:r===null&&c&4&&KT(o);case 26:case 5:ks(i,o),r===null&&c&4&&GT(o),c&512&&xu(o,o.return);break;case 12:ks(i,o);break;case 31:ks(i,o),c&4&&ZT(i,o);break;case 13:ks(i,o),c&4&&JT(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=HN.bind(null,o),uI(i,o))));break;case 22:if(c=o.memoizedState!==null||Vs,!c){r=r!==null&&r.memoizedState!==null||zt,m=Vs;var g=zt;Vs=c,(zt=r)&&!g?Ls(i,o,(o.subtreeFlags&8772)!==0):ks(i,o),Vs=m,zt=g}break;case 30:break;default:ks(i,o)}}function QT(i){var r=i.alternate;r!==null&&(i.alternate=null,QT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&yo(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ht=null,Sn=!1;function Os(i,r,o){for(o=o.child;o!==null;)WT(i,r,o),o=o.sibling}function WT(i,r,o){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Ti,o)}catch{}switch(o.tag){case 26:zt||os(o,r),Os(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:zt||os(o,r);var c=ht,m=Sn;Nr(o.type)&&(ht=o.stateNode,Sn=!1),Os(i,r,o),Ou(o.stateNode),ht=c,Sn=m;break;case 5:zt||os(o,r);case 6:if(c=ht,m=Sn,ht=null,Os(i,r,o),ht=c,Sn=m,ht!==null)if(Sn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(o.stateNode)}catch(g){Je(o,r,g)}else try{ht.removeChild(o.stateNode)}catch(g){Je(o,r,g)}break;case 18:ht!==null&&(Sn?(i=ht,Hb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),tl(i)):Hb(ht,o.stateNode));break;case 4:c=ht,m=Sn,ht=o.stateNode.containerInfo,Sn=!0,Os(i,r,o),ht=c,Sn=m;break;case 0:case 11:case 14:case 15:Er(2,o,r),zt||Er(4,o,r),Os(i,r,o);break;case 1:zt||(os(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&qT(o,r,c)),Os(i,r,o);break;case 21:Os(i,r,o);break;case 22:zt=(c=zt)||o.memoizedState!==null,Os(i,r,o),zt=c;break;default:Os(i,r,o)}}function ZT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{tl(i)}catch(o){Je(r,r.return,o)}}}function JT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{tl(i)}catch(o){Je(r,r.return,o)}}function ON(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new XT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new XT),r;default:throw Error(s(435,i.tag))}}function Qh(i,r){var o=ON(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var m=qN.bind(null,i,c);c.then(m,m)}})}function An(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=i,b=r,A=b;e:for(;A!==null;){switch(A.tag){case 27:if(Nr(A.type)){ht=A.stateNode,Sn=!1;break e}break;case 5:ht=A.stateNode,Sn=!1;break e;case 3:case 4:ht=A.stateNode.containerInfo,Sn=!0;break e}A=A.return}if(ht===null)throw Error(s(160));WT(g,b,m),ht=null,Sn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)eb(r,i),r=r.sibling}var Ii=null;function eb(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:An(r,i),xn(i),c&4&&(Er(3,i,i.return),Au(3,i),Er(5,i,i.return));break;case 1:An(r,i),xn(i),c&512&&(zt||o===null||os(o,o.return)),c&64&&Vs&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Ii;if(An(r,i),xn(i),c&512&&(zt||o===null||os(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Ki]||g[Vt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),an(g,c,o),g[Vt]=i,Ot(g),c=g;break e;case"link":var b=eE("link","href",m).get(c+(o.href||""));if(b){for(var A=0;A<b.length;A++)if(g=b[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(A,1);break t}}g=m.createElement(c),an(g,c,o),m.head.appendChild(g);break;case"meta":if(b=eE("meta","content",m).get(c+(o.content||""))){for(A=0;A<b.length;A++)if(g=b[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(A,1);break t}}g=m.createElement(c),an(g,c,o),m.head.appendChild(g);break;default:throw Error(s(468,c))}g[Vt]=i,Ot(g),c=g}i.stateNode=c}else tE(m,i.type,i.stateNode);else i.stateNode=Jb(m,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?tE(m,i.type,i.stateNode):Jb(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Ap(i,i.memoizedProps,o.memoizedProps)}break;case 27:An(r,i),xn(i),c&512&&(zt||o===null||os(o,o.return)),o!==null&&c&4&&Ap(i,i.memoizedProps,o.memoizedProps);break;case 5:if(An(r,i),xn(i),c&512&&(zt||o===null||os(o,o.return)),i.flags&32){m=i.stateNode;try{wn(m,"")}catch(pe){Je(i,i.return,pe)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,Ap(i,m,o!==null?o.memoizedProps:m)),c&1024&&(Rp=!0);break;case 6:if(An(r,i),xn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(pe){Je(i,i.return,pe)}}break;case 3:if(df=null,m=Ii,Ii=hf(r.containerInfo),An(r,i),Ii=m,xn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{tl(r.containerInfo)}catch(pe){Je(i,i.return,pe)}Rp&&(Rp=!1,tb(i));break;case 4:c=Ii,Ii=hf(i.stateNode.containerInfo),An(r,i),xn(i),Ii=c;break;case 12:An(r,i),xn(i);break;case 31:An(r,i),xn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Qh(i,c)));break;case 13:An(r,i),xn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Zh=Jt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Qh(i,c)));break;case 22:m=i.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,K=Vs,Z=zt;if(Vs=K||m,zt=Z||O,An(r,i),zt=Z,Vs=K,xn(i),c&8192)e:for(r=i.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||O||Vs||zt||za(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){O=o=r;try{if(g=O.stateNode,m)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=O.stateNode;var ie=O.memoizedProps.style,X=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;A.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(pe){Je(O,O.return,pe)}}}else if(r.tag===6){if(o===null){O=r;try{O.stateNode.nodeValue=m?"":O.memoizedProps}catch(pe){Je(O,O.return,pe)}}}else if(r.tag===18){if(o===null){O=r;try{var Q=O.stateNode;m?qb(Q,!0):qb(O.stateNode,!1)}catch(pe){Je(O,O.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Qh(i,o))));break;case 19:An(r,i),xn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Qh(i,c)));break;case 30:break;case 21:break;default:An(r,i),xn(i)}}function xn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(YT(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,g=xp(i);$h(i,g,m);break;case 5:var b=o.stateNode;o.flags&32&&(wn(b,""),o.flags&=-33);var A=xp(i);$h(i,A,b);break;case 3:case 4:var O=o.stateNode.containerInfo,K=xp(i);Cp(i,K,O);break;default:throw Error(s(161))}}catch(Z){Je(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function tb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;tb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ks(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)$T(i,r.alternate,r),r=r.sibling}function za(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Er(4,r,r.return),za(r);break;case 1:os(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&qT(r,r.return,o),za(r);break;case 27:Ou(r.stateNode);case 26:case 5:os(r,r.return),za(r);break;case 22:r.memoizedState===null&&za(r);break;case 30:za(r);break;default:za(r)}i=i.sibling}}function Ls(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,m=i,g=r,b=g.flags;switch(g.tag){case 0:case 11:case 15:Ls(m,g,o),Au(4,g);break;case 1:if(Ls(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(K){Je(c,c.return,K)}if(c=g,m=c.updateQueue,m!==null){var A=c.stateNode;try{var O=m.shared.hiddenCallbacks;if(O!==null)for(m.shared.hiddenCallbacks=null,m=0;m<O.length;m++)M_(O[m],A)}catch(K){Je(c,c.return,K)}}o&&b&64&&HT(g),xu(g,g.return);break;case 27:KT(g);case 26:case 5:Ls(m,g,o),o&&c===null&&b&4&&GT(g),xu(g,g.return);break;case 12:Ls(m,g,o);break;case 31:Ls(m,g,o),o&&b&4&&ZT(m,g);break;case 13:Ls(m,g,o),o&&b&4&&JT(m,g);break;case 22:g.memoizedState===null&&Ls(m,g,o),xu(g,g.return);break;case 30:break;default:Ls(m,g,o)}r=r.sibling}}function Np(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&fu(o))}function Ip(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&fu(i))}function Di(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)nb(i,r,o,c),r=r.sibling}function nb(i,r,o,c){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Di(i,r,o,c),m&2048&&Au(9,r);break;case 1:Di(i,r,o,c);break;case 3:Di(i,r,o,c),m&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&fu(i)));break;case 12:if(m&2048){Di(i,r,o,c),i=r.stateNode;try{var g=r.memoizedProps,b=g.id,A=g.onPostCommit;typeof A=="function"&&A(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){Je(r,r.return,O)}}else Di(i,r,o,c);break;case 31:Di(i,r,o,c);break;case 13:Di(i,r,o,c);break;case 23:break;case 22:g=r.stateNode,b=r.alternate,r.memoizedState!==null?g._visibility&2?Di(i,r,o,c):Cu(i,r):g._visibility&2?Di(i,r,o,c):(g._visibility|=2,qo(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),m&2048&&Np(b,r);break;case 24:Di(i,r,o,c),m&2048&&Ip(r.alternate,r);break;default:Di(i,r,o,c)}}function qo(i,r,o,c,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,b=r,A=o,O=c,K=b.flags;switch(b.tag){case 0:case 11:case 15:qo(g,b,A,O,m),Au(8,b);break;case 23:break;case 22:var Z=b.stateNode;b.memoizedState!==null?Z._visibility&2?qo(g,b,A,O,m):Cu(g,b):(Z._visibility|=2,qo(g,b,A,O,m)),m&&K&2048&&Np(b.alternate,b);break;case 24:qo(g,b,A,O,m),m&&K&2048&&Ip(b.alternate,b);break;default:qo(g,b,A,O,m)}r=r.sibling}}function Cu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,m=c.flags;switch(c.tag){case 22:Cu(o,c),m&2048&&Np(c.alternate,c);break;case 24:Cu(o,c),m&2048&&Ip(c.alternate,c);break;default:Cu(o,c)}r=r.sibling}}var Ru=8192;function Go(i,r,o){if(i.subtreeFlags&Ru)for(i=i.child;i!==null;)ib(i,r,o),i=i.sibling}function ib(i,r,o){switch(i.tag){case 26:Go(i,r,o),i.flags&Ru&&i.memoizedState!==null&&bI(o,Ii,i.memoizedState,i.memoizedProps);break;case 5:Go(i,r,o);break;case 3:case 4:var c=Ii;Ii=hf(i.stateNode.containerInfo),Go(i,r,o),Ii=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Ru,Ru=16777216,Go(i,r,o),Ru=c):Go(i,r,o));break;default:Go(i,r,o)}}function sb(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Nu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Wt=c,ab(c,i)}sb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)rb(i),i=i.sibling}function rb(i){switch(i.tag){case 0:case 11:case 15:Nu(i),i.flags&2048&&Er(9,i,i.return);break;case 3:Nu(i);break;case 12:Nu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Wh(i)):Nu(i);break;default:Nu(i)}}function Wh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Wt=c,ab(c,i)}sb(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Er(8,r,r.return),Wh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Wh(r));break;default:Wh(r)}i=i.sibling}}function ab(i,r){for(;Wt!==null;){var o=Wt;switch(o.tag){case 0:case 11:case 15:Er(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:fu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Wt=c;else e:for(o=i;Wt!==null;){c=Wt;var m=c.sibling,g=c.return;if(QT(c),c===o){Wt=null;break e}if(m!==null){m.return=g,Wt=m;break e}Wt=g}}}var kN={getCacheForType:function(i){var r=sn(Lt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return sn(Lt).controller.signal}},LN=typeof WeakMap=="function"?WeakMap:Map,Xe=0,st=null,Oe=null,Le=0,Ze=0,zn=null,wr=!1,Yo=!1,Dp=!1,js=0,wt=0,Sr=0,Ba=0,Mp=0,Bn=0,Ko=0,Iu=null,Cn=null,Pp=!1,Zh=0,ob=0,Jh=1/0,ef=null,Ar=null,Gt=0,xr=null,Xo=null,Us=0,Vp=0,Op=null,lb=null,Du=0,kp=null;function Fn(){return(Xe&2)!==0&&Le!==0?Le&-Le:W.T!==null?Fp():th()}function ub(){if(Bn===0)if((Le&536870912)===0||He){var i=ma;ma<<=1,(ma&3932160)===0&&(ma=262144),Bn=i}else Bn=536870912;return i=jn.current,i!==null&&(i.flags|=32),Bn}function Rn(i,r,o){(i===st&&(Ze===2||Ze===9)||i.cancelPendingCommit!==null)&&($o(i,0),Cr(i,Le,Bn,!1)),pa(i,o),((Xe&2)===0||i!==st)&&(i===st&&((Xe&2)===0&&(Ba|=o),wt===4&&Cr(i,Le,Bn,!1)),ls(i))}function cb(i,r,o){if((Xe&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||bi(i,r),m=c?zN(i,r):jp(i,r,!0),g=c;do{if(m===0){Yo&&!c&&Cr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!jN(o)){m=jp(i,r,!1),g=!1;continue}if(m===2){if(g=r,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var A=i;m=Iu;var O=A.current.memoizedState.isDehydrated;if(O&&($o(A,b).flags|=256),b=jp(A,b,!1),b!==2){if(Dp&&!O){A.errorRecoveryDisabledLanes|=g,Ba|=g,m=4;break e}g=Cn,Cn=m,g!==null&&(Cn===null?Cn=g:Cn.push.apply(Cn,g))}m=b}if(g=!1,m!==2)continue}}if(m===1){$o(i,0),Cr(i,r,0,!0);break}e:{switch(c=i,g=m,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Cr(c,r,Bn,!wr);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(m=Zh+300-Jt(),10<m)){if(Cr(c,r,Bn,!wr),qi(c,0,!0)!==0)break e;Us=r,c.timeoutHandle=Bb(hb.bind(null,c,o,Cn,ef,Pp,r,Bn,Ba,Ko,wr,g,"Throttled",-0,0),m);break e}hb(c,o,Cn,ef,Pp,r,Bn,Ba,Ko,wr,g,null,-0,0)}}break}while(!0);ls(i)}function hb(i,r,o,c,m,g,b,A,O,K,Z,ie,X,Q){if(i.timeoutHandle=-1,ie=r.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Si},ib(r,g,ie);var pe=(g&62914560)===g?Zh-Jt():(g&4194048)===g?ob-Jt():0;if(pe=EI(ie,pe),pe!==null){Us=g,i.cancelPendingCommit=pe(_b.bind(null,i,r,g,o,c,m,b,A,O,Z,ie,null,X,Q)),Cr(i,g,b,!K);return}}_b(i,r,g,o,c,m,b,A,O)}function jN(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!kn(g(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Cr(i,r,o,c){r&=~Mp,r&=~Ba,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var m=r;0<m;){var g=31-xt(m),b=1<<g;c[g]=-1,m&=~b}o!==0&&ga(i,o,r)}function tf(){return(Xe&6)===0?(Mu(0),!1):!0}function Lp(){if(Oe!==null){if(Ze===0)var i=Oe.return;else i=Oe,Rs=Ma=null,Jm(i),Uo=null,mu=0,i=Oe;for(;i!==null;)FT(i.alternate,i),i=i.return;Oe=null}}function $o(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,sI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Us=0,Lp(),st=i,Oe=o=xs(i.current,null),Le=r,Ze=0,zn=null,wr=!1,Yo=bi(i,r),Dp=!1,Ko=Bn=Mp=Ba=Sr=wt=0,Cn=Iu=null,Pp=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var m=31-xt(c),g=1<<m;r|=i[m],c&=~g}return js=r,Eh(),o}function fb(i,r){Me=null,W.H=Eu,r===jo||r===Ih?(r=R_(),Ze=3):r===Bm?(r=R_(),Ze=4):Ze=r===pp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,zn=r,Oe===null&&(wt=1,qh(i,ei(r,i.current)))}function db(){var i=jn.current;return i===null?!0:(Le&4194048)===Le?si===null:(Le&62914560)===Le||(Le&536870912)!==0?i===si:!1}function mb(){var i=W.H;return W.H=Eu,i===null?Eu:i}function pb(){var i=W.A;return W.A=kN,i}function nf(){wt=4,wr||(Le&4194048)!==Le&&jn.current!==null||(Yo=!0),(Sr&134217727)===0&&(Ba&134217727)===0||st===null||Cr(st,Le,Bn,!1)}function jp(i,r,o){var c=Xe;Xe|=2;var m=mb(),g=pb();(st!==i||Le!==r)&&(ef=null,$o(i,r)),r=!1;var b=wt;e:do try{if(Ze!==0&&Oe!==null){var A=Oe,O=zn;switch(Ze){case 8:Lp(),b=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(r=!0);var K=Ze;if(Ze=0,zn=null,Qo(i,A,O,K),o&&Yo){b=0;break e}break;default:K=Ze,Ze=0,zn=null,Qo(i,A,O,K)}}UN(),b=wt;break}catch(Z){fb(i,Z)}while(!0);return r&&i.shellSuspendCounter++,Rs=Ma=null,Xe=c,W.H=m,W.A=g,Oe===null&&(st=null,Le=0,Eh()),b}function UN(){for(;Oe!==null;)gb(Oe)}function zN(i,r){var o=Xe;Xe|=2;var c=mb(),m=pb();st!==i||Le!==r?(ef=null,Jh=Jt()+500,$o(i,r)):Yo=bi(i,r);e:do try{if(Ze!==0&&Oe!==null){r=Oe;var g=zn;t:switch(Ze){case 1:Ze=0,zn=null,Qo(i,r,g,1);break;case 2:case 9:if(x_(g)){Ze=0,zn=null,yb(r);break}r=function(){Ze!==2&&Ze!==9||st!==i||(Ze=7),ls(i)},g.then(r,r);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:x_(g)?(Ze=0,zn=null,yb(r)):(Ze=0,zn=null,Qo(i,r,g,7));break;case 5:var b=null;switch(Oe.tag){case 26:b=Oe.memoizedState;case 5:case 27:var A=Oe;if(b?nE(b):A.stateNode.complete){Ze=0,zn=null;var O=A.sibling;if(O!==null)Oe=O;else{var K=A.return;K!==null?(Oe=K,sf(K)):Oe=null}break t}}Ze=0,zn=null,Qo(i,r,g,5);break;case 6:Ze=0,zn=null,Qo(i,r,g,6);break;case 8:Lp(),wt=6;break e;default:throw Error(s(462))}}BN();break}catch(Z){fb(i,Z)}while(!0);return Rs=Ma=null,W.H=c,W.A=m,Xe=o,Oe!==null?0:(st=null,Le=0,Eh(),wt)}function BN(){for(;Oe!==null&&!zl();)gb(Oe)}function gb(i){var r=zT(i.alternate,i,js);i.memoizedProps=i.pendingProps,r===null?sf(i):Oe=r}function yb(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=VT(o,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=VT(o,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:Jm(r);default:FT(o,r),r=Oe=p_(r,js),r=zT(o,r,js)}i.memoizedProps=i.pendingProps,r===null?sf(i):Oe=r}function Qo(i,r,o,c){Rs=Ma=null,Jm(r),Uo=null,mu=0;var m=r.return;try{if(NN(i,m,r,o,Le)){wt=1,qh(i,ei(o,i.current)),Oe=null;return}}catch(g){if(m!==null)throw Oe=m,g;wt=1,qh(i,ei(o,i.current)),Oe=null;return}r.flags&32768?(He||c===1?i=!0:Yo||(Le&536870912)!==0?i=!1:(wr=i=!0,(c===2||c===9||c===3||c===6)&&(c=jn.current,c!==null&&c.tag===13&&(c.flags|=16384))),vb(r,i)):sf(r)}function sf(i){var r=i;do{if((r.flags&32768)!==0){vb(r,wr);return}i=r.return;var o=MN(r.alternate,r,js);if(o!==null){Oe=o;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=i}while(r!==null);wt===0&&(wt=5)}function vb(i,r){do{var o=PN(i.alternate,i);if(o!==null){o.flags&=32767,Oe=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Oe=i;return}Oe=i=o}while(i!==null);wt=6,Oe=null}function _b(i,r,o,c,m,g,b,A,O){i.cancelPendingCommit=null;do rf();while(Gt!==0);if((Xe&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=xm,ym(i,o,g,b,A,O),i===st&&(Oe=st=null,Le=0),Xo=r,xr=i,Us=o,Vp=g,Op=m,lb=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,GN(ir,function(){return Sb(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=W.T,W.T=null,m=le.p,le.p=2,b=Xe,Xe|=4;try{VN(i,r,o)}finally{Xe=b,le.p=m,W.T=c}}Gt=1,Tb(),bb(),Eb()}}function Tb(){if(Gt===1){Gt=0;var i=xr,r=Xo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var c=le.p;le.p=2;var m=Xe;Xe|=4;try{eb(r,i);var g=Qp,b=a_(i.containerInfo),A=g.focusedElem,O=g.selectionRange;if(b!==A&&A&&A.ownerDocument&&r_(A.ownerDocument.documentElement,A)){if(O!==null&&bm(A)){var K=O.start,Z=O.end;if(Z===void 0&&(Z=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(Z,A.value.length);else{var ie=A.ownerDocument||document,X=ie&&ie.defaultView||window;if(X.getSelection){var Q=X.getSelection(),pe=A.textContent.length,be=Math.min(O.start,pe),it=O.end===void 0?be:Math.min(O.end,pe);!Q.extend&&be>it&&(b=it,it=be,be=b);var q=s_(A,be),z=s_(A,it);if(q&&z&&(Q.rangeCount!==1||Q.anchorNode!==q.node||Q.anchorOffset!==q.offset||Q.focusNode!==z.node||Q.focusOffset!==z.offset)){var Y=ie.createRange();Y.setStart(q.node,q.offset),Q.removeAllRanges(),be>it?(Q.addRange(Y),Q.extend(z.node,z.offset)):(Y.setEnd(z.node,z.offset),Q.addRange(Y))}}}}for(ie=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&ie.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ie.length;A++){var J=ie[A];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}yf=!!$p,Qp=$p=null}finally{Xe=m,le.p=c,W.T=o}}i.current=r,Gt=2}}function bb(){if(Gt===2){Gt=0;var i=xr,r=Xo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var c=le.p;le.p=2;var m=Xe;Xe|=4;try{$T(i,r.alternate,r)}finally{Xe=m,le.p=c,W.T=o}}Gt=3}}function Eb(){if(Gt===4||Gt===3){Gt=0,_i();var i=xr,r=Xo,o=Us,c=lb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Gt=5:(Gt=0,Xo=xr=null,wb(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Ar=null),Es(o),r=r.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Ti,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=W.T,m=le.p,le.p=2,W.T=null;try{for(var g=i.onRecoverableError,b=0;b<c.length;b++){var A=c[b];g(A.value,{componentStack:A.stack})}}finally{W.T=r,le.p=m}}(Us&3)!==0&&rf(),ls(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===kp?Du++:(Du=0,kp=i):Du=0,Mu(0)}}function wb(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,fu(r)))}function rf(){return Tb(),bb(),Eb(),Sb()}function Sb(){if(Gt!==5)return!1;var i=xr,r=Vp;Vp=0;var o=Es(Us),c=W.T,m=le.p;try{le.p=32>o?32:o,W.T=null,o=Op,Op=null;var g=xr,b=Us;if(Gt=0,Xo=xr=null,Us=0,(Xe&6)!==0)throw Error(s(331));var A=Xe;if(Xe|=4,rb(g.current),nb(g,g.current,b,o),Xe=A,Mu(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Ti,g)}catch{}return!0}finally{le.p=m,W.T=c,wb(i,r)}}function Ab(i,r,o){r=ei(o,r),r=mp(i.stateNode,r,2),i=_r(i,r,2),i!==null&&(pa(i,2),ls(i))}function Je(i,r,o){if(i.tag===3)Ab(i,i,o);else for(;r!==null;){if(r.tag===3){Ab(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ar===null||!Ar.has(c))){i=ei(o,i),o=xT(2),c=_r(r,o,2),c!==null&&(CT(o,c,r,i),pa(c,2),ls(c));break}}r=r.return}}function Up(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new LN;var m=new Set;c.set(r,m)}else m=c.get(r),m===void 0&&(m=new Set,c.set(r,m));m.has(o)||(Dp=!0,m.add(o),i=FN.bind(null,i,r,o),r.then(i,i))}function FN(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,st===i&&(Le&o)===o&&(wt===4||wt===3&&(Le&62914560)===Le&&300>Jt()-Zh?(Xe&2)===0&&$o(i,0):Mp|=o,Ko===Le&&(Ko=0)),ls(i)}function xb(i,r){r===0&&(r=eh()),i=Na(i,r),i!==null&&(pa(i,r),ls(i))}function HN(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),xb(i,o)}function qN(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),xb(i,o)}function GN(i,r){return bt(i,r)}var af=null,Wo=null,zp=!1,of=!1,Bp=!1,Rr=0;function ls(i){i!==Wo&&i.next===null&&(Wo===null?af=Wo=i:Wo=Wo.next=i),of=!0,zp||(zp=!0,KN())}function Mu(i,r){if(!Bp&&of){Bp=!0;do for(var o=!1,c=af;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var b=c.suspendedLanes,A=c.pingedLanes;g=(1<<31-xt(42|i)+1)-1,g&=m&~(b&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Ib(c,g))}else g=Le,g=qi(c,c===st?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||bi(c,g)||(o=!0,Ib(c,g));c=c.next}while(o);Bp=!1}}function YN(){Cb()}function Cb(){of=zp=!1;var i=0;Rr!==0&&iI()&&(i=Rr);for(var r=Jt(),o=null,c=af;c!==null;){var m=c.next,g=Rb(c,r);g===0?(c.next=null,o===null?af=m:o.next=m,m===null&&(Wo=o)):(o=c,(i!==0||(g&3)!==0)&&(of=!0)),c=m}Gt!==0&&Gt!==5||Mu(i),Rr!==0&&(Rr=0)}function Rb(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-xt(g),A=1<<b,O=m[b];O===-1?((A&o)===0||(A&c)!==0)&&(m[b]=gm(A,r)):O<=r&&(i.expiredLanes|=A),g&=~A}if(r=st,o=Le,o=qi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(Ze===2||Ze===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Bi(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||bi(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&Bi(c),Es(o)){case 2:case 8:o=Fl;break;case 32:o=ir;break;case 268435456:o=$c;break;default:o=ir}return c=Nb.bind(null,i),o=bt(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&Bi(c),i.callbackPriority=2,i.callbackNode=null,2}function Nb(i,r){if(Gt!==0&&Gt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(rf()&&i.callbackNode!==o)return null;var c=Le;return c=qi(i,i===st?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(cb(i,c,r),Rb(i,Jt()),i.callbackNode!=null&&i.callbackNode===o?Nb.bind(null,i):null)}function Ib(i,r){if(rf())return null;cb(i,r,!0)}function KN(){rI(function(){(Xe&6)!==0?bt(Bl,YN):Cb()})}function Fp(){if(Rr===0){var i=ko;i===0&&(i=Fi,Fi<<=1,(Fi&261888)===0&&(Fi=256)),Rr=i}return Rr}function Db(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:bo(""+i)}function Mb(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function XN(i,r,o,c,m){if(r==="submit"&&o&&o.stateNode===m){var g=Db((m[$t]||null).action),b=c.submitter;b&&(r=(r=b[$t]||null)?Db(r.formAction):b.getAttribute("formAction"),r!==null&&(g=r,b=null));var A=new ts("action","action",null,c,m);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Rr!==0){var O=b?Mb(m,b):new FormData(m);lp(o,{pending:!0,data:O,method:m.method,action:g},null,O)}}else typeof g=="function"&&(A.preventDefault(),O=b?Mb(m,b):new FormData(m),lp(o,{pending:!0,data:O,method:m.method,action:g},g,O))},currentTarget:m}]})}}for(var Hp=0;Hp<Am.length;Hp++){var qp=Am[Hp],$N=qp.toLowerCase(),QN=qp[0].toUpperCase()+qp.slice(1);Ni($N,"on"+QN)}Ni(u_,"onAnimationEnd"),Ni(c_,"onAnimationIteration"),Ni(h_,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(fN,"onTransitionRun"),Ni(dN,"onTransitionStart"),Ni(mN,"onTransitionCancel"),Ni(f_,"onTransitionEnd"),Wi("onMouseEnter",["mouseout","mouseover"]),Wi("onMouseLeave",["mouseout","mouseover"]),Wi("onPointerEnter",["pointerout","pointerover"]),Wi("onPointerLeave",["pointerout","pointerover"]),Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pu));function Pb(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var b=c.length-1;0<=b;b--){var A=c[b],O=A.instance,K=A.currentTarget;if(A=A.listener,O!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=K;try{g(m)}catch(Z){bh(Z)}m.currentTarget=null,g=O}else for(b=0;b<c.length;b++){if(A=c[b],O=A.instance,K=A.currentTarget,A=A.listener,O!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=K;try{g(m)}catch(Z){bh(Z)}m.currentTarget=null,g=O}}}}function ke(i,r){var o=r[go];o===void 0&&(o=r[go]=new Set);var c=i+"__bubble";o.has(c)||(Vb(r,i,2,!1),o.add(c))}function Gp(i,r,o){var c=0;r&&(c|=4),Vb(o,i,c,r)}var lf="_reactListening"+Math.random().toString(36).slice(2);function Yp(i){if(!i[lf]){i[lf]=!0,Gl.forEach(function(o){o!=="selectionchange"&&(WN.has(o)||Gp(o,!1,i),Gp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[lf]||(r[lf]=!0,Gp("selectionchange",!1,r))}}function Vb(i,r,o,c){switch(uE(r)){case 2:var m=AI;break;case 8:m=xI;break;default:m=og}o=m.bind(null,r,o,i),m=void 0,!ba||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(r,o,{capture:!0,passive:m}):i.addEventListener(r,o,!0):m!==void 0?i.addEventListener(r,o,{passive:m}):i.addEventListener(r,o,!1)}function Kp(i,r,o,c,m){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var A=c.stateNode.containerInfo;if(A===m)break;if(b===4)for(b=c.return;b!==null;){var O=b.tag;if((O===3||O===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;A!==null;){if(b=Xi(A),b===null)return;if(O=b.tag,O===5||O===6||O===26||O===27){c=g=b;continue e}A=A.parentNode}}c=c.return}ur(function(){var K=g,Z=Qn(o),ie=[];e:{var X=d_.get(i);if(X!==void 0){var Q=ts,pe=i;switch(i){case"keypress":if(wa(o)===0)break e;case"keydown":case"keyup":Q=vh;break;case"focusin":pe="focus",Q=Aa;break;case"focusout":pe="blur",Q=Aa;break;case"beforeblur":case"afterblur":Q=Aa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=su;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=_;break;case u_:case c_:case h_:Q=hh;break;case f_:Q=C;break;case"scroll":case"scrollend":Q=iu;break;case"wheel":Q=$;break;case"copy":case"cut":case"paste":Q=fh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=As;break;case"toggle":case"beforetoggle":Q=De}var be=(r&4)!==0,it=!be&&(i==="scroll"||i==="scrollend"),q=be?X!==null?X+"Capture":null:X;be=[];for(var z=K,Y;z!==null;){var J=z;if(Y=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||Y===null||q===null||(J=Ai(z,q),J!=null&&be.push(Vu(z,J,Y))),it)break;z=z.return}0<be.length&&(X=new Q(X,pe,null,o,Z),ie.push({event:X,listeners:be}))}}if((r&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",X&&o!==eu&&(pe=o.relatedTarget||o.fromElement)&&(Xi(pe)||pe[Yi]))break e;if((Q||X)&&(X=Z.window===Z?Z:(X=Z.ownerDocument)?X.defaultView||X.parentWindow:window,Q?(pe=o.relatedTarget||o.toElement,Q=K,pe=pe?Xi(pe):null,pe!==null&&(it=l(pe),be=pe.tag,pe!==it||be!==5&&be!==27&&be!==6)&&(pe=null)):(Q=null,pe=K),Q!==pe)){if(be=su,J="onMouseLeave",q="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(be=As,J="onPointerLeave",q="onPointerEnter",z="pointer"),it=Q==null?X:Vn(Q),Y=pe==null?X:Vn(pe),X=new be(J,z+"leave",Q,o,Z),X.target=it,X.relatedTarget=Y,J=null,Xi(Z)===K&&(be=new be(q,z+"enter",pe,o,Z),be.target=Y,be.relatedTarget=it,J=be),it=J,Q&&pe)t:{for(be=ZN,q=Q,z=pe,Y=0,J=q;J;J=be(J))Y++;J=0;for(var ye=z;ye;ye=be(ye))J++;for(;0<Y-J;)q=be(q),Y--;for(;0<J-Y;)z=be(z),J--;for(;Y--;){if(q===z||z!==null&&q===z.alternate){be=q;break t}q=be(q),z=be(z)}be=null}else be=null;Q!==null&&Ob(ie,X,Q,be,!1),pe!==null&&it!==null&&Ob(ie,it,pe,be,!0)}}e:{if(X=K?Vn(K):window,Q=X.nodeName&&X.nodeName.toLowerCase(),Q==="select"||Q==="input"&&X.type==="file")var Ge=Z0;else if(Q0(X))if(J0)Ge=uN;else{Ge=oN;var ge=aN}else Q=X.nodeName,!Q||Q.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?K&&To(K.elementType)&&(Ge=Z0):Ge=lN;if(Ge&&(Ge=Ge(i,K))){W0(ie,Ge,o,Z);break e}ge&&ge(i,X,K),i==="focusout"&&K&&X.type==="number"&&K.memoizedProps.value!=null&&Wl(X,"number",X.value)}switch(ge=K?Vn(K):window,i){case"focusin":(Q0(ge)||ge.contentEditable==="true")&&(Ro=ge,Em=K,uu=null);break;case"focusout":uu=Em=Ro=null;break;case"mousedown":wm=!0;break;case"contextmenu":case"mouseup":case"dragend":wm=!1,o_(ie,o,Z);break;case"selectionchange":if(hN)break;case"keydown":case"keyup":o_(ie,o,Z)}var Pe;if(Ke)e:{switch(i){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Co?xa(i,o)&&(je="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(je="onCompositionStart");je&&(ss&&o.locale!=="ko"&&(Co||je!=="onCompositionStart"?je==="onCompositionEnd"&&Co&&(Pe=nu()):(es=Z,tu="value"in es?es.value:es.textContent,Co=!0)),ge=uf(K,je),0<ge.length&&(je=new is(je,i,null,o,Z),ie.push({event:je,listeners:ge}),Pe?je.data=Pe:(Pe=xo(o),Pe!==null&&(je.data=Pe)))),(Pe=Zn?nN(i,o):iN(i,o))&&(je=uf(K,"onBeforeInput"),0<je.length&&(ge=new is("onBeforeInput","beforeinput",null,o,Z),ie.push({event:ge,listeners:je}),ge.data=Pe)),XN(ie,i,K,o,Z)}Pb(ie,r)})}function Vu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function uf(i,r){for(var o=r+"Capture",c=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Ai(i,o),m!=null&&c.unshift(Vu(i,m,g)),m=Ai(i,r),m!=null&&c.push(Vu(i,m,g))),i.tag===3)return c;i=i.return}return[]}function ZN(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Ob(i,r,o,c,m){for(var g=r._reactName,b=[];o!==null&&o!==c;){var A=o,O=A.alternate,K=A.stateNode;if(A=A.tag,O!==null&&O===c)break;A!==5&&A!==26&&A!==27||K===null||(O=K,m?(K=Ai(o,g),K!=null&&b.unshift(Vu(o,K,O))):m||(K=Ai(o,g),K!=null&&b.push(Vu(o,K,O)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var JN=/\r\n?/g,eI=/\u0000|\uFFFD/g;function kb(i){return(typeof i=="string"?i:""+i).replace(JN,`
`).replace(eI,"")}function Lb(i,r){return r=kb(r),kb(i)===r}function nt(i,r,o,c,m,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||wn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&wn(i,""+c);break;case"className":On(i,"class",c);break;case"tabIndex":On(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":On(i,o,c);break;case"style":Jl(i,c,g);break;case"data":if(r!=="object"){On(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=bo(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&nt(i,r,"name",m.name,m,null),nt(i,r,"formEncType",m.formEncType,m,null),nt(i,r,"formMethod",m.formMethod,m,null),nt(i,r,"formTarget",m.formTarget,m,null)):(nt(i,r,"encType",m.encType,m,null),nt(i,r,"method",m.method,m,null),nt(i,r,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=bo(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Si);break;case"onScroll":c!=null&&ke("scroll",i);break;case"onScrollEnd":c!=null&&ke("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=bo(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":ke("beforetoggle",i),ke("toggle",i),vo(i,"popover",c);break;case"xlinkActuate":kt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":kt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":kt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":kt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":kt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":kt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":kt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":kt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":kt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":vo(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=lh.get(o)||o,vo(i,o,c))}}function Xp(i,r,o,c,m,g){switch(o){case"style":Jl(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?wn(i,c):(typeof c=="number"||typeof c=="bigint")&&wn(i,""+c);break;case"onScroll":c!=null&&ke("scroll",i);break;case"onScrollEnd":c!=null&&ke("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),g=i[$t]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,m);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):vo(i,o,c)}}}function an(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",i),ke("load",i);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(i,r,g,b,o,null)}}m&&nt(i,r,"srcSet",o.srcSet,o,null),c&&nt(i,r,"src",o.src,o,null);return;case"input":ke("invalid",i);var A=g=b=m=null,O=null,K=null;for(c in o)if(o.hasOwnProperty(c)){var Z=o[c];if(Z!=null)switch(c){case"name":m=Z;break;case"type":b=Z;break;case"checked":O=Z;break;case"defaultChecked":K=Z;break;case"value":g=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:nt(i,r,c,Z,o,null)}}rh(i,g,A,O,K,b,m,!1);return;case"select":ke("invalid",i),c=b=g=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":g=A;break;case"defaultValue":b=A;break;case"multiple":c=A;default:nt(i,r,m,A,o,null)}r=g,o=b,i.multiple=!!c,r!=null?rr(i,!!c,r,!1):o!=null&&rr(i,!!c,o,!0);return;case"textarea":ke("invalid",i),g=m=c=null;for(b in o)if(o.hasOwnProperty(b)&&(A=o[b],A!=null))switch(b){case"value":c=A;break;case"defaultValue":m=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:nt(i,r,b,A,o,null)}ar(i,c,m,g);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(c=o[O],c!=null))switch(O){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:nt(i,r,O,c,o,null)}return;case"dialog":ke("beforetoggle",i),ke("toggle",i),ke("cancel",i),ke("close",i);break;case"iframe":case"object":ke("load",i);break;case"video":case"audio":for(c=0;c<Pu.length;c++)ke(Pu[c],i);break;case"image":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"embed":case"source":case"link":ke("error",i),ke("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(c=o[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(i,r,K,c,o,null)}return;default:if(To(r)){for(Z in o)o.hasOwnProperty(Z)&&(c=o[Z],c!==void 0&&Xp(i,r,Z,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&nt(i,r,A,c,o,null))}function tI(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,b=null,A=null,O=null,K=null,Z=null;for(Q in o){var ie=o[Q];if(o.hasOwnProperty(Q)&&ie!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":O=ie;default:c.hasOwnProperty(Q)||nt(i,r,Q,null,c,ie)}}for(var X in c){var Q=c[X];if(ie=o[X],c.hasOwnProperty(X)&&(Q!=null||ie!=null))switch(X){case"type":g=Q;break;case"name":m=Q;break;case"checked":K=Q;break;case"defaultChecked":Z=Q;break;case"value":b=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==ie&&nt(i,r,X,Q,c,ie)}}_o(i,b,A,O,K,Z,g,m);return;case"select":Q=b=A=X=null;for(g in o)if(O=o[g],o.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":Q=O;default:c.hasOwnProperty(g)||nt(i,r,g,null,c,O)}for(m in c)if(g=c[m],O=o[m],c.hasOwnProperty(m)&&(g!=null||O!=null))switch(m){case"value":X=g;break;case"defaultValue":A=g;break;case"multiple":b=g;default:g!==O&&nt(i,r,m,g,c,O)}r=A,o=b,c=Q,X!=null?rr(i,!!o,X,!1):!!c!=!!o&&(r!=null?rr(i,!!o,r,!0):rr(i,!!o,o?[]:"",!1));return;case"textarea":Q=X=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:nt(i,r,A,null,c,m)}for(b in c)if(m=c[b],g=o[b],c.hasOwnProperty(b)&&(m!=null||g!=null))switch(b){case"value":X=m;break;case"defaultValue":Q=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==g&&nt(i,r,b,m,c,g)}ah(i,X,Q);return;case"option":for(var pe in o)if(X=o[pe],o.hasOwnProperty(pe)&&X!=null&&!c.hasOwnProperty(pe))switch(pe){case"selected":i.selected=!1;break;default:nt(i,r,pe,null,c,X)}for(O in c)if(X=c[O],Q=o[O],c.hasOwnProperty(O)&&X!==Q&&(X!=null||Q!=null))switch(O){case"selected":i.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:nt(i,r,O,X,c,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in o)X=o[be],o.hasOwnProperty(be)&&X!=null&&!c.hasOwnProperty(be)&&nt(i,r,be,null,c,X);for(K in c)if(X=c[K],Q=o[K],c.hasOwnProperty(K)&&X!==Q&&(X!=null||Q!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:nt(i,r,K,X,c,Q)}return;default:if(To(r)){for(var it in o)X=o[it],o.hasOwnProperty(it)&&X!==void 0&&!c.hasOwnProperty(it)&&Xp(i,r,it,void 0,c,X);for(Z in c)X=c[Z],Q=o[Z],!c.hasOwnProperty(Z)||X===Q||X===void 0&&Q===void 0||Xp(i,r,Z,X,c,Q);return}}for(var q in o)X=o[q],o.hasOwnProperty(q)&&X!=null&&!c.hasOwnProperty(q)&&nt(i,r,q,null,c,X);for(ie in c)X=c[ie],Q=o[ie],!c.hasOwnProperty(ie)||X===Q||X==null&&Q==null||nt(i,r,ie,X,c,Q)}function jb(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,b=m.initiatorType,A=m.duration;if(g&&A&&jb(b)){for(b=0,A=m.responseEnd,c+=1;c<o.length;c++){var O=o[c],K=O.startTime;if(K>A)break;var Z=O.transferSize,ie=O.initiatorType;Z&&jb(ie)&&(O=O.responseEnd,b+=Z*(O<A?1:(A-K)/(O-K)))}if(--c,r+=8*(g+b)/(m.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var $p=null,Qp=null;function cf(i){return i.nodeType===9?i:i.ownerDocument}function Ub(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zb(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Wp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Zp=null;function iI(){var i=window.event;return i&&i.type==="popstate"?i===Zp?!1:(Zp=i,!0):(Zp=null,!1)}var Bb=typeof setTimeout=="function"?setTimeout:void 0,sI=typeof clearTimeout=="function"?clearTimeout:void 0,Fb=typeof Promise=="function"?Promise:void 0,rI=typeof queueMicrotask=="function"?queueMicrotask:typeof Fb<"u"?function(i){return Fb.resolve(null).then(i).catch(aI)}:Bb;function aI(i){setTimeout(function(){throw i})}function Nr(i){return i==="head"}function Hb(i,r){var o=r,c=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(m),tl(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Ou(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Ou(o);for(var g=o.firstChild;g;){var b=g.nextSibling,A=g.nodeName;g[Ki]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=b}}else o==="body"&&Ou(i.ownerDocument.body);o=m}while(o);tl(r)}function qb(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function Jp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Jp(o),yo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function oI(i,r,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Ki])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=ri(i.nextSibling),i===null)break}return null}function lI(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ri(i.nextSibling),i===null))return null;return i}function Gb(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=ri(i.nextSibling),i===null))return null;return i}function eg(i){return i.data==="$?"||i.data==="$~"}function tg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function uI(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function ri(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var ng=null;function Yb(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return ri(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function Kb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function Xb(i,r,o){switch(r=cf(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Ou(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);yo(i)}var ai=new Map,$b=new Set;function hf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var zs=le.d;le.d={f:cI,r:hI,D:fI,C:dI,L:mI,m:pI,X:yI,S:gI,M:vI};function cI(){var i=zs.f(),r=tf();return i||r}function hI(i){var r=$n(i);r!==null&&r.tag===5&&r.type==="form"?fT(r):zs.r(i)}var Zo=typeof document>"u"?null:document;function Qb(i,r,o){var c=Zo;if(c&&typeof r=="string"&&r){var m=En(r);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),$b.has(m)||($b.add(m),i={rel:i,crossOrigin:o,href:r},c.querySelector(m)===null&&(r=c.createElement("link"),an(r,"link",i),Ot(r),c.head.appendChild(r)))}}function fI(i){zs.D(i),Qb("dns-prefetch",i,null)}function dI(i,r){zs.C(i,r),Qb("preconnect",i,r)}function mI(i,r,o){zs.L(i,r,o);var c=Zo;if(c&&i&&r){var m='link[rel="preload"][as="'+En(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+En(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+En(o.imageSizes)+'"]')):m+='[href="'+En(i)+'"]';var g=m;switch(r){case"style":g=Jo(i);break;case"script":g=el(i)}ai.has(g)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ai.set(g,i),c.querySelector(m)!==null||r==="style"&&c.querySelector(ku(g))||r==="script"&&c.querySelector(Lu(g))||(r=c.createElement("link"),an(r,"link",i),Ot(r),c.head.appendChild(r)))}}function pI(i,r){zs.m(i,r);var o=Zo;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+En(c)+'"][href="'+En(i)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=el(i)}if(!ai.has(g)&&(i=v({rel:"modulepreload",href:i},r),ai.set(g,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Lu(g)))return}c=o.createElement("link"),an(c,"link",i),Ot(c),o.head.appendChild(c)}}}function gI(i,r,o){zs.S(i,r,o);var c=Zo;if(c&&i){var m=$i(c).hoistableStyles,g=Jo(i);r=r||"default";var b=m.get(g);if(!b){var A={loading:0,preload:null};if(b=c.querySelector(ku(g)))A.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ai.get(g))&&ig(i,o);var O=b=c.createElement("link");Ot(O),an(O,"link",i),O._p=new Promise(function(K,Z){O.onload=K,O.onerror=Z}),O.addEventListener("load",function(){A.loading|=1}),O.addEventListener("error",function(){A.loading|=2}),A.loading|=4,ff(b,r,c)}b={type:"stylesheet",instance:b,count:1,state:A},m.set(g,b)}}}function yI(i,r){zs.X(i,r);var o=Zo;if(o&&i){var c=$i(o).hoistableScripts,m=el(i),g=c.get(m);g||(g=o.querySelector(Lu(m)),g||(i=v({src:i,async:!0},r),(r=ai.get(m))&&sg(i,r),g=o.createElement("script"),Ot(g),an(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function vI(i,r){zs.M(i,r);var o=Zo;if(o&&i){var c=$i(o).hoistableScripts,m=el(i),g=c.get(m);g||(g=o.querySelector(Lu(m)),g||(i=v({src:i,async:!0,type:"module"},r),(r=ai.get(m))&&sg(i,r),g=o.createElement("script"),Ot(g),an(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function Wb(i,r,o,c){var m=(m=Ce.current)?hf(m):null;if(!m)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Jo(o.href),o=$i(m).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Jo(o.href);var g=$i(m).hoistableStyles,b=g.get(i);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=m.querySelector(ku(i)))&&!g._p&&(b.instance=g,b.state.loading=5),ai.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ai.set(i,o),g||_I(m,i,o,b.state))),r&&c===null)throw Error(s(528,""));return b}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=el(o),o=$i(m).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Jo(i){return'href="'+En(i)+'"'}function ku(i){return'link[rel="stylesheet"]['+i+"]"}function Zb(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function _I(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),an(r,"link",o),Ot(r),i.head.appendChild(r))}function el(i){return'[src="'+En(i)+'"]'}function Lu(i){return"script[async]"+i}function Jb(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+En(o.href)+'"]');if(c)return r.instance=c,Ot(c),c;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Ot(c),an(c,"style",m),ff(c,o.precedence,i),r.instance=c;case"stylesheet":m=Jo(o.href);var g=i.querySelector(ku(m));if(g)return r.state.loading|=4,r.instance=g,Ot(g),g;c=Zb(o),(m=ai.get(m))&&ig(c,m),g=(i.ownerDocument||i).createElement("link"),Ot(g);var b=g;return b._p=new Promise(function(A,O){b.onload=A,b.onerror=O}),an(g,"link",c),r.state.loading|=4,ff(g,o.precedence,i),r.instance=g;case"script":return g=el(o.src),(m=i.querySelector(Lu(g)))?(r.instance=m,Ot(m),m):(c=o,(m=ai.get(g))&&(c=v({},o),sg(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),Ot(m),an(m,"link",c),i.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,ff(c,o.precedence,i));return r.instance}function ff(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,b=0;b<c.length;b++){var A=c[b];if(A.dataset.precedence===r)g=A;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function ig(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function sg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var df=null;function eE(i,r,o){if(df===null){var c=new Map,m=df=new Map;m.set(o,c)}else m=df,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[Ki]||g[Vt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(r)||"";b=i+b;var A=c.get(b);A?A.push(g):c.set(b,[g])}}return c}function tE(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function TI(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function nE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function bI(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Jo(c.href),g=r.querySelector(ku(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=mf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Ot(g);return}g=r.ownerDocument||r,c=Zb(c),(m=ai.get(m))&&ig(c,m),g=g.createElement("link"),Ot(g);var b=g;b._p=new Promise(function(A,O){b.onload=A,b.onerror=O}),an(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=mf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var rg=0;function EI(i,r){return i.stylesheets&&i.count===0&&gf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&gf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&rg===0&&(rg=62500*nI());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&gf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>rg?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function mf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var pf=null;function gf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,pf=new Map,r.forEach(wI,i),pf=null,mf.call(i))}function wI(i,r){if(!(r.state.loading&4)){var o=pf.get(i);if(o)var c=o.get(null);else{o=new Map,pf.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var b=m[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}m=r.instance,b=m.getAttribute("data-precedence"),g=o.get(b)||c,g===c&&o.set(null,m),o.set(b,m),this.count++,c=mf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),r.state.loading|=4}}var ju={$$typeof:F,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function SI(i,r,o,c,m,g,b,A,O){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function iE(i,r,o,c,m,g,b,A,O,K,Z,ie){return i=new SI(i,r,o,b,O,K,Z,ie,A),r=1,g===!0&&(r|=24),g=Ln(3,null,null,r),i.current=g,g.stateNode=i,r=jm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},Fm(g),i}function sE(i){return i?(i=Do,i):Do}function rE(i,r,o,c,m,g){m=sE(m),c.context===null?c.context=m:c.pendingContext=m,c=vr(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=_r(i,c,r),o!==null&&(Rn(o,i,r),gu(o,i,r))}function aE(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function ag(i,r){aE(i,r),(i=i.alternate)&&aE(i,r)}function oE(i){if(i.tag===13||i.tag===31){var r=Na(i,67108864);r!==null&&Rn(r,i,67108864),ag(i,67108864)}}function lE(i){if(i.tag===13||i.tag===31){var r=Fn();r=ya(r);var o=Na(i,r);o!==null&&Rn(o,i,r),ag(i,r)}}var yf=!0;function AI(i,r,o,c){var m=W.T;W.T=null;var g=le.p;try{le.p=2,og(i,r,o,c)}finally{le.p=g,W.T=m}}function xI(i,r,o,c){var m=W.T;W.T=null;var g=le.p;try{le.p=8,og(i,r,o,c)}finally{le.p=g,W.T=m}}function og(i,r,o,c){if(yf){var m=lg(c);if(m===null)Kp(i,r,c,vf,o),cE(i,c);else if(RI(m,i,r,o,c))c.stopPropagation();else if(cE(i,c),r&4&&-1<CI.indexOf(i)){for(;m!==null;){var g=$n(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=Hi(g.pendingLanes);if(b!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var O=1<<31-xt(b);A.entanglements[1]|=O,b&=~O}ls(g),(Xe&6)===0&&(Jh=Jt()+500,Mu(0))}}break;case 31:case 13:A=Na(g,2),A!==null&&Rn(A,g,2),tf(),ag(g,2)}if(g=lg(c),g===null&&Kp(i,r,c,vf,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else Kp(i,r,c,null,o)}}function lg(i){return i=Qn(i),ug(i)}var vf=null;function ug(i){if(vf=null,i=Xi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=h(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return vf=i,null}function uE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(da()){case Bl:return 2;case Fl:return 8;case ir:case pm:return 32;case $c:return 268435456;default:return 32}default:return 32}}var cg=!1,Ir=null,Dr=null,Mr=null,Uu=new Map,zu=new Map,Pr=[],CI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cE(i,r){switch(i){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":Uu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":zu.delete(r.pointerId)}}function Bu(i,r,o,c,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},r!==null&&(r=$n(r),r!==null&&oE(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),i)}function RI(i,r,o,c,m){switch(r){case"focusin":return Ir=Bu(Ir,i,r,o,c,m),!0;case"dragenter":return Dr=Bu(Dr,i,r,o,c,m),!0;case"mouseover":return Mr=Bu(Mr,i,r,o,c,m),!0;case"pointerover":var g=m.pointerId;return Uu.set(g,Bu(Uu.get(g)||null,i,r,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,zu.set(g,Bu(zu.get(g)||null,i,r,o,c,m)),!0}return!1}function hE(i){var r=Xi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,Ei(i.priority,function(){lE(o)});return}}else if(r===31){if(r=h(o),r!==null){i.blockedOn=r,Ei(i.priority,function(){lE(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function _f(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=lg(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);eu=c,o.target.dispatchEvent(c),eu=null}else return r=$n(o),r!==null&&oE(r),i.blockedOn=o,!1;r.shift()}return!0}function fE(i,r,o){_f(i)&&o.delete(r)}function NI(){cg=!1,Ir!==null&&_f(Ir)&&(Ir=null),Dr!==null&&_f(Dr)&&(Dr=null),Mr!==null&&_f(Mr)&&(Mr=null),Uu.forEach(fE),zu.forEach(fE)}function Tf(i,r){i.blockedOn===r&&(i.blockedOn=null,cg||(cg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,NI)))}var bf=null;function dE(i){bf!==i&&(bf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){bf===i&&(bf=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],m=i[r+2];if(typeof c!="function"){if(ug(c||o)===null)continue;break}var g=$n(o);g!==null&&(i.splice(r,3),r-=3,lp(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function tl(i){function r(O){return Tf(O,i)}Ir!==null&&Tf(Ir,i),Dr!==null&&Tf(Dr,i),Mr!==null&&Tf(Mr,i),Uu.forEach(r),zu.forEach(r);for(var o=0;o<Pr.length;o++){var c=Pr[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Pr.length&&(o=Pr[0],o.blockedOn===null);)hE(o),o.blockedOn===null&&Pr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],b=m[$t]||null;if(typeof g=="function")b||dE(o);else if(b){var A=null;if(g&&g.hasAttribute("formAction")){if(m=g,b=g[$t]||null)A=b.formAction;else if(ug(m)!==null)continue}else A=b.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),dE(o)}}}function mE(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(b){return m=b})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function hg(i){this._internalRoot=i}Ef.prototype.render=hg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=Fn();rE(o,c,i,r,null,null)},Ef.prototype.unmount=hg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;rE(i.current,2,null,i,null,null),tf(),r[Yi]=null}};function Ef(i){this._internalRoot=i}Ef.prototype.unstable_scheduleHydration=function(i){if(i){var r=th();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Pr.length&&r!==0&&r<Pr[o].priority;o++);Pr.splice(o,0,i),o===0&&hE(i)}};var pE=e.version;if(pE!=="19.2.0")throw Error(s(527,pE,"19.2.0"));le.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var II={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wf.isDisabled&&wf.supportsFiber)try{Ti=wf.inject(II),en=wf}catch{}}return Hu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",m=ET,g=wT,b=ST;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=iE(i,1,!1,null,null,o,c,null,m,g,b,mE),i[Yi]=r.current,Yp(i),new hg(r)},Hu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,m="",g=ET,b=wT,A=ST,O=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(O=o.formState)),r=iE(i,1,!0,r,o??null,c,m,O,g,b,A,mE),r.context=sE(null),o=r.current,c=Fn(),c=ya(c),m=vr(c),m.callback=null,_r(o,m,c),o=c,r.current.lanes=o,pa(r,o),ls(r),i[Yi]=r.current,Yp(i),new Ef(r)},Hu.version="19.2.0",Hu}var AE;function BI(){if(AE)return mg.exports;AE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mg.exports=zI(),mg.exports}var FI=BI();var xE="popstate";function HI(t={}){function e(a,l){let{pathname:u="/",search:h="",hash:d=""}=oo(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Zg("",{pathname:u,search:h,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let u=a.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let d=a.location.href,p=d.indexOf("#");h=p===-1?d:d.slice(0,p)}return h+"#"+(typeof l=="string"?l:hc(l))}function s(a,l){vi(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return GI(e,n,s,t)}function gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qI(){return Math.random().toString(36).substring(2,10)}function CE(t,e){return{usr:t.state,key:t.key,idx:e}}function Zg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?oo(e):e,state:n,key:e&&e.key||s||qI()}}function hc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function oo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function GI(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,h="POP",d=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let M=y(),k=M==null?null:M-p;p=M,d&&d({action:h,location:D.location,delta:k})}function T(M,k){h="PUSH";let B=Zg(D.location,M,k);n&&n(B,M),p=y()+1;let F=CE(B,p),oe=D.createHref(B);try{u.pushState(F,"",oe)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;a.location.assign(oe)}l&&d&&d({action:h,location:D.location,delta:1})}function S(M,k){h="REPLACE";let B=Zg(D.location,M,k);n&&n(B,M),p=y();let F=CE(B,p),oe=D.createHref(B);u.replaceState(F,"",oe),l&&d&&d({action:h,location:D.location,delta:0})}function R(M){return YI(M)}let D={get action(){return h},get location(){return t(a,u)},listen(M){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(xE,v),d=M,()=>{a.removeEventListener(xE,v),d=null}},createHref(M){return e(a,M)},createURL:R,encodeLocation(M){let k=R(M);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:T,replace:S,go(M){return u.go(M)}};return D}function YI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),gt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:hc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function qA(t,e,n="/"){return KI(t,e,n,!1)}function KI(t,e,n,s){let a=typeof e=="string"?oo(e):e,l=Ks(a.pathname||"/",n);if(l==null)return null;let u=GA(t);XI(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=rD(l);h=iD(u[d],p,s)}return h}function GA(t,e=[],n=[],s="",a=!1){let l=(u,h,d=a,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&d)return;gt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let v=qs([s,y.relativePath]),T=n.concat(y);u.children&&u.children.length>0&&(gt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),GA(u.children,e,T,v,d)),!(u.path==null&&!u.index)&&e.push({path:v,score:tD(v,u.index),routesMeta:T})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let d of YA(u.path))l(u,h,!0,d)}),e}function YA(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=YA(s.join("/")),h=[];return h.push(...u.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function XI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nD(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var $I=/^:[\w-]+$/,QI=3,WI=2,ZI=1,JI=10,eD=-2,RE=t=>t==="*";function tD(t,e){let n=t.split("/"),s=n.length;return n.some(RE)&&(s+=eD),e&&(s+=WI),n.filter(a=>!RE(a)).reduce((a,l)=>a+($I.test(l)?QI:l===""?ZI:JI),s)}function nD(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function iD(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let h=0;h<s.length;++h){let d=s[h],p=h===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=ed({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},y),T=d.route;if(!v&&p&&n&&!s[s.length-1].route.index&&(v=ed({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:qs([l,v.pathname]),pathnameBase:cD(qs([l,v.pathnameBase])),route:T}),v.pathnameBase!=="/"&&(l=qs([l,v.pathnameBase]))}return u}function ed(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=sD(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:v},T)=>{if(y==="*"){let R=h[T]||"";u=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const S=h[T];return v&&!S?p[y]=void 0:p[y]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function sD(t,e=!1,n=!0){vi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(s.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function rD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ks(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var aD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oD=t=>aD.test(t);function lD(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?oo(t):t,l;if(n)if(oD(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),vi(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=NE(n.substring(1),"/"):l=NE(n,e)}else l=e;return{pathname:l,search:hD(s),hash:fD(a)}}function NE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function vg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function KA(t){let e=uD(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function XA(t,e,n,s=!1){let a;typeof t=="string"?a=oo(t):(a={...t},gt(!a.pathname||!a.pathname.includes("?"),vg("?","pathname","search",a)),gt(!a.pathname||!a.pathname.includes("#"),vg("#","pathname","hash",a)),gt(!a.search||!a.search.includes("#"),vg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=n;else{let v=e.length-1;if(!s&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),v-=1;a.pathname=T.join("/")}h=v>=0?e[v]:"/"}let d=lD(a,h),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||y)&&(d.pathname+="/"),d}var qs=t=>t.join("/").replace(/\/\/+/g,"/"),cD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $A=["POST","PUT","PATCH","DELETE"];new Set($A);var mD=["GET",...$A];new Set(mD);var Rl=V.createContext(null);Rl.displayName="DataRouter";var Vd=V.createContext(null);Vd.displayName="DataRouterState";V.createContext(!1);var QA=V.createContext({isTransitioning:!1});QA.displayName="ViewTransition";var pD=V.createContext(new Map);pD.displayName="Fetchers";var gD=V.createContext(null);gD.displayName="Await";var Ts=V.createContext(null);Ts.displayName="Navigation";var Nc=V.createContext(null);Nc.displayName="Location";var bs=V.createContext({outlet:null,matches:[],isDataRoute:!1});bs.displayName="Route";var tv=V.createContext(null);tv.displayName="RouteError";function yD(t,{relative:e}={}){gt(Ic(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=V.useContext(Ts),{hash:a,pathname:l,search:u}=Dc(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:qs([n,l])),s.createHref({pathname:h,search:u,hash:a})}function Ic(){return V.useContext(Nc)!=null}function lo(){return gt(Ic(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Nc).location}var WA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ZA(t){V.useContext(Ts).static||V.useLayoutEffect(t)}function nv(){let{isDataRoute:t}=V.useContext(bs);return t?DD():vD()}function vD(){gt(Ic(),"useNavigate() may be used only in the context of a <Router> component.");let t=V.useContext(Rl),{basename:e,navigator:n}=V.useContext(Ts),{matches:s}=V.useContext(bs),{pathname:a}=lo(),l=JSON.stringify(KA(s)),u=V.useRef(!1);return ZA(()=>{u.current=!0}),V.useCallback((d,p={})=>{if(vi(u.current,WA),!u.current)return;if(typeof d=="number"){n.go(d);return}let y=XA(d,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:qs([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}V.createContext(null);function _D(){let{matches:t}=V.useContext(bs),e=t[t.length-1];return e?e.params:{}}function Dc(t,{relative:e}={}){let{matches:n}=V.useContext(bs),{pathname:s}=lo(),a=JSON.stringify(KA(n));return V.useMemo(()=>XA(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function TD(t,e){return JA(t,e)}function JA(t,e,n,s,a){gt(Ic(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=V.useContext(Ts),{matches:u}=V.useContext(bs),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let B=v&&v.path||"";e1(p,!v||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let T=lo(),S;if(e){let B=typeof e=="string"?oo(e):e;gt(y==="/"||B.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${B.pathname}" was given in the \`location\` prop.`),S=B}else S=T;let R=S.pathname||"/",D=R;if(y!=="/"){let B=y.replace(/^\//,"").split("/");D="/"+R.replace(/^\//,"").split("/").slice(B.length).join("/")}let M=qA(t,{pathname:D});vi(v||M!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),vi(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=AD(M&&M.map(B=>Object.assign({},B,{params:Object.assign({},d,B.params),pathname:qs([y,l.encodeLocation?l.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:qs([y,l.encodeLocation?l.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),u,n,s,a);return e&&k?V.createElement(Nc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},k):k}function bD(){let t=ID(),e=dD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:l},"ErrorBoundary")," or"," ",V.createElement("code",{style:l},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:a},n):null,u)}var ED=V.createElement(bD,null),wD=class extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?V.createElement(bs.Provider,{value:this.props.routeContext},V.createElement(tv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SD({routeContext:t,match:e,children:n}){let s=V.useContext(Rl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(bs.Provider,{value:t},n)}function AD(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let y=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);gt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let h=!1,d=-1;if(n)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=y),v.route.id){let{loaderData:T,errors:S}=n,R=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||R){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let p=n&&s?(y,v)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:v})}:void 0;return l.reduceRight((y,v,T)=>{let S,R=!1,D=null,M=null;n&&(S=u&&v.route.id?u[v.route.id]:void 0,D=v.route.errorElement||ED,h&&(d<0&&T===0?(e1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,M=null):d===T&&(R=!0,M=v.route.hydrateFallbackElement||null)));let k=e.concat(l.slice(0,T+1)),B=()=>{let F;return S?F=D:R?F=M:v.route.Component?F=V.createElement(v.route.Component,null):v.route.element?F=v.route.element:F=y,V.createElement(SD,{match:v,routeContext:{outlet:y,matches:k,isDataRoute:n!=null},children:F})};return n&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?V.createElement(wD,{location:n.location,revalidation:n.revalidation,component:D,error:S,children:B(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:p}):B()},null)}function iv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xD(t){let e=V.useContext(Rl);return gt(e,iv(t)),e}function CD(t){let e=V.useContext(Vd);return gt(e,iv(t)),e}function RD(t){let e=V.useContext(bs);return gt(e,iv(t)),e}function sv(t){let e=RD(t),n=e.matches[e.matches.length-1];return gt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ND(){return sv("useRouteId")}function ID(){let t=V.useContext(tv),e=CD("useRouteError"),n=sv("useRouteError");return t!==void 0?t:e.errors?.[n]}function DD(){let{router:t}=xD("useNavigate"),e=sv("useNavigate"),n=V.useRef(!1);return ZA(()=>{n.current=!0}),V.useCallback(async(a,l={})=>{vi(n.current,WA),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var IE={};function e1(t,e,n){!e&&!IE[t]&&(IE[t]=!0,vi(!1,n))}V.memo(MD);function MD({routes:t,future:e,state:n,unstable_onError:s}){return JA(t,void 0,n,s,e)}function nl(t){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PD({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){gt(!Ic(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=V.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=oo(n));let{pathname:d="/",search:p="",hash:y="",state:v=null,key:T="default"}=n,S=V.useMemo(()=>{let R=Ks(d,u);return R==null?null:{location:{pathname:R,search:p,hash:y,state:v,key:T},navigationType:s}},[u,d,p,y,v,T,s]);return vi(S!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:V.createElement(Ts.Provider,{value:h},V.createElement(Nc.Provider,{children:e,value:S}))}function VD({children:t,location:e}){return TD(Jg(t),e)}function Jg(t,e=[]){let n=[];return V.Children.forEach(t,(s,a)=>{if(!V.isValidElement(s))return;let l=[...e,a];if(s.type===V.Fragment){n.push.apply(n,Jg(s.props.children,l));return}gt(s.type===nl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Jg(s.props.children,l)),n.push(u)}),n}var jf="get",Uf="application/x-www-form-urlencoded";function Od(t){return t!=null&&typeof t.tagName=="string"}function OD(t){return Od(t)&&t.tagName.toLowerCase()==="button"}function kD(t){return Od(t)&&t.tagName.toLowerCase()==="form"}function LD(t){return Od(t)&&t.tagName.toLowerCase()==="input"}function jD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function UD(t,e){return t.button===0&&(!e||e==="_self")&&!jD(t)}var Sf=null;function zD(){if(Sf===null)try{new FormData(document.createElement("form"),0),Sf=!1}catch{Sf=!0}return Sf}var BD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _g(t){return t!=null&&!BD.has(t)?(vi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uf}"`),null):t}function FD(t,e){let n,s,a,l,u;if(kD(t)){let h=t.getAttribute("action");s=h?Ks(h,e):null,n=t.getAttribute("method")||jf,a=_g(t.getAttribute("enctype"))||Uf,l=new FormData(t)}else if(OD(t)||LD(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(s=d?Ks(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||jf,a=_g(t.getAttribute("formenctype"))||_g(h.getAttribute("enctype"))||Uf,l=new FormData(h,t),!zD()){let{name:p,type:y,value:v}=t;if(y==="image"){let T=p?`${p}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else p&&l.append(p,v)}}else{if(Od(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jf,s=null,a=Uf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function HD(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Ks(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function qD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function YD(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await qD(l,n);return u.links?u.links():[]}return[]}));return QD(s.flat(1).filter(GD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function DE(t,e,n,s,a,l){let u=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>n[p].pathname!==d.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,p)=>u(d,p)||h(d,p)):l==="data"?e.filter((d,p)=>{let y=s.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function KD(t,e,{includeHydrateFallback:n}={}){return XD(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function XD(t){return[...new Set(t)]}function $D(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function QD(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify($D(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function t1(){let t=V.useContext(Rl);return rv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function WD(){let t=V.useContext(Vd);return rv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var av=V.createContext(void 0);av.displayName="FrameworkContext";function n1(){let t=V.useContext(av);return rv(t,"You must render this element inside a <HydratedRouter> element"),t}function ZD(t,e){let n=V.useContext(av),[s,a]=V.useState(!1),[l,u]=V.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,T=V.useRef(null);V.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let D=k=>{k.forEach(B=>{u(B.isIntersecting)})},M=new IntersectionObserver(D,{threshold:.5});return T.current&&M.observe(T.current),()=>{M.disconnect()}}},[t]),V.useEffect(()=>{if(s){let D=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(D)}}},[s]);let S=()=>{a(!0)},R=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:qu(h,S),onBlur:qu(d,R),onMouseEnter:qu(p,S),onMouseLeave:qu(y,R),onTouchStart:qu(v,S)}]:[!1,T,{}]}function qu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function JD({page:t,...e}){let{router:n}=t1(),s=V.useMemo(()=>qA(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?V.createElement(tM,{page:t,matches:s,...e}):null}function eM(t){let{manifest:e,routeModules:n}=n1(),[s,a]=V.useState([]);return V.useEffect(()=>{let l=!1;return YD(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function tM({page:t,matches:e,...n}){let s=lo(),{manifest:a,routeModules:l}=n1(),{basename:u}=t1(),{loaderData:h,matches:d}=WD(),p=V.useMemo(()=>DE(t,e,d,a,s,"data"),[t,e,d,a,s]),y=V.useMemo(()=>DE(t,e,d,a,s,"assets"),[t,e,d,a,s]),v=V.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let R=new Set,D=!1;if(e.forEach(k=>{let B=a.routes[k.route.id];!B||!B.hasLoader||(!p.some(F=>F.route.id===k.route.id)&&k.route.id in h&&l[k.route.id]?.shouldRevalidate||B.hasClientLoader?D=!0:R.add(k.route.id))}),R.size===0)return[];let M=HD(t,u,"data");return D&&R.size>0&&M.searchParams.set("_routes",e.filter(k=>R.has(k.route.id)).map(k=>k.route.id).join(",")),[M.pathname+M.search]},[u,h,s,a,p,e,t,l]),T=V.useMemo(()=>KD(y,a),[y,a]),S=eM(y);return V.createElement(V.Fragment,null,v.map(R=>V.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),T.map(R=>V.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),S.map(({key:R,link:D})=>V.createElement("link",{key:R,nonce:n.nonce,...D})))}function nM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var i1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{i1&&(window.__reactRouterVersion="7.9.6")}catch{}function iM({basename:t,children:e,window:n}){let s=V.useRef();s.current==null&&(s.current=HI({window:n,v5Compat:!0}));let a=s.current,[l,u]=V.useState({action:a.action,location:a.location}),h=V.useCallback(d=>{V.startTransition(()=>u(d))},[u]);return V.useLayoutEffect(()=>a.listen(h),[a,h]),V.createElement(PD,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var s1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gr=V.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:h,target:d,to:p,preventScrollReset:y,viewTransition:v,...T},S){let{basename:R}=V.useContext(Ts),D=typeof p=="string"&&s1.test(p),M,k=!1;if(typeof p=="string"&&D&&(M=p,i1))try{let I=new URL(window.location.href),j=p.startsWith("//")?new URL(I.protocol+p):new URL(p),L=Ks(j.pathname,R);j.origin===I.origin&&L!=null?p=L+j.search+j.hash:k=!0}catch{vi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=yD(p,{relative:a}),[F,oe,re]=ZD(s,T),te=oM(p,{replace:u,state:h,target:d,preventScrollReset:y,relative:a,viewTransition:v});function N(I){e&&e(I),I.defaultPrevented||te(I)}let x=V.createElement("a",{...T,...re,href:M||B,onClick:k||l?e:N,ref:nM(S,oe),target:d,"data-discover":!D&&n==="render"?"true":void 0});return F&&!D?V.createElement(V.Fragment,null,x,V.createElement(JD,{page:B})):x});Gr.displayName="Link";var sM=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:h,children:d,...p},y){let v=Dc(u,{relative:p.relative}),T=lo(),S=V.useContext(Vd),{navigator:R,basename:D}=V.useContext(Ts),M=S!=null&&fM(v)&&h===!0,k=R.encodeLocation?R.encodeLocation(v).pathname:v.pathname,B=T.pathname,F=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(B=B.toLowerCase(),F=F?F.toLowerCase():null,k=k.toLowerCase()),F&&D&&(F=Ks(F,D)||F);const oe=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let re=B===k||!a&&B.startsWith(k)&&B.charAt(oe)==="/",te=F!=null&&(F===k||!a&&F.startsWith(k)&&F.charAt(k.length)==="/"),N={isActive:re,isPending:te,isTransitioning:M},x=re?e:void 0,I;typeof s=="function"?I=s(N):I=[s,re?"active":null,te?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let j=typeof l=="function"?l(N):l;return V.createElement(Gr,{...p,"aria-current":x,className:I,ref:y,style:j,to:u,viewTransition:h},typeof d=="function"?d(N):d)});sM.displayName="NavLink";var rM=V.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=jf,action:h,onSubmit:d,relative:p,preventScrollReset:y,viewTransition:v,...T},S)=>{let R=cM(),D=hM(h,{relative:p}),M=u.toLowerCase()==="get"?"get":"post",k=typeof h=="string"&&s1.test(h),B=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let oe=F.nativeEvent.submitter,re=oe?.getAttribute("formmethod")||u;R(oe||F.currentTarget,{fetcherKey:e,method:re,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:v})};return V.createElement("form",{ref:S,method:M,action:D,onSubmit:s?d:B,...T,"data-discover":!k&&t==="render"?"true":void 0})});rM.displayName="Form";function aM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r1(t){let e=V.useContext(Rl);return gt(e,aM(t)),e}function oM(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u}={}){let h=nv(),d=lo(),p=Dc(t,{relative:l});return V.useCallback(y=>{if(UD(y,e)){y.preventDefault();let v=n!==void 0?n:hc(d)===hc(p);h(t,{replace:v,state:s,preventScrollReset:a,relative:l,viewTransition:u})}},[d,h,p,n,s,e,t,a,l,u])}var lM=0,uM=()=>`__${String(++lM)}__`;function cM(){let{router:t}=r1("useSubmit"),{basename:e}=V.useContext(Ts),n=ND();return V.useCallback(async(s,a={})=>{let{action:l,method:u,encType:h,formData:d,body:p}=FD(s,e);if(a.navigate===!1){let y=a.fetcherKey||uM();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function hM(t,{relative:e}={}){let{basename:n}=V.useContext(Ts),s=V.useContext(bs);gt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Dc(t||".",{relative:e})},u=lo();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:qs([n,l.pathname])),hc(l)}function fM(t,{relative:e}={}){let n=V.useContext(QA);gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=r1("useViewTransitionState"),a=Dc(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ks(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=Ks(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ed(a.pathname,u)!=null||ed(a.pathname,l)!=null}const dM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mM=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),ME=t=>{const e=mM(t);return e.charAt(0).toUpperCase()+e.slice(1)},a1=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),pM=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var gM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const yM=V.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...h},d)=>V.createElement("svg",{ref:d,...gM,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:a1("lucide",a),...!l&&!pM(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,y])=>V.createElement(p,y)),...Array.isArray(l)?l:[l]]));const _t=(t,e)=>{const n=V.forwardRef(({className:s,...a},l)=>V.createElement(yM,{ref:l,iconNode:e,className:a1(`lucide-${dM(ME(t))}`,`lucide-${t}`,s),...a}));return n.displayName=ME(t),n};const vM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],_M=_t("arrow-left",vM);const TM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ov=_t("arrow-right",TM);const bM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],o1=_t("circle-check-big",bM);const EM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],td=_t("clock",EM);const wM=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],SM=_t("eye-off",wM);const AM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xM=_t("eye",AM);const CM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],PE=_t("history",CM);const RM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],NM=_t("loader-circle",RM);const IM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ey=_t("lock",IM);const DM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],MM=_t("log-out",DM);const PM=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],VM=_t("map",PM);const OM=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],kM=_t("phone",OM);const LM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],jM=_t("plus",LM);const UM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],zM=_t("refresh-cw",UM);const BM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Af=_t("search",BM);const FM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],l1=_t("shield",FM);const HM=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],VE=_t("store",HM);const qM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],u1=_t("trash-2",qM);const GM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],c1=_t("triangle-alert",GM);const YM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],KM=_t("upload",YM);const XM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ty=_t("user-plus",XM);const $M=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],nd=_t("utensils-crossed",$M);const QM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],eo=_t("x",QM),lv=V.createContext({});function uv(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}const cv=typeof window<"u",h1=cv?V.useLayoutEffect:V.useEffect,kd=V.createContext(null);function hv(t,e){t.indexOf(e)===-1&&t.push(e)}function fv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Xs=(t,e,n)=>n>e?e:n<t?t:n;let dv=()=>{};const $s={},f1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function d1(t){return typeof t=="object"&&t!==null}const m1=t=>/^0[^.\s]+$/u.test(t);function mv(t){let e;return()=>(e===void 0&&(e=t()),e)}const pi=t=>t,WM=(t,e)=>n=>e(t(n)),Mc=(...t)=>t.reduce(WM),fc=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class pv{constructor(){this.subscriptions=[]}add(e){return hv(this.subscriptions,e),()=>fv(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cs=t=>t*1e3,fi=t=>t/1e3;function p1(t,e){return e?t*(1e3/e):0}const g1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,ZM=1e-7,JM=12;function eP(t,e,n,s,a){let l,u,h=0;do u=e+(n-e)/2,l=g1(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>ZM&&++h<JM);return u}function Pc(t,e,n,s){if(t===e&&n===s)return pi;const a=l=>eP(l,0,1,t,n);return l=>l===0||l===1?l:g1(a(l),e,s)}const y1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,v1=t=>e=>1-t(1-e),_1=Pc(.33,1.53,.69,.99),gv=v1(_1),T1=y1(gv),b1=t=>(t*=2)<1?.5*gv(t):.5*(2-Math.pow(2,-10*(t-1))),yv=t=>1-Math.sin(Math.acos(t)),E1=v1(yv),w1=y1(yv),tP=Pc(.42,0,1,1),nP=Pc(0,0,.58,1),S1=Pc(.42,0,.58,1),iP=t=>Array.isArray(t)&&typeof t[0]!="number",A1=t=>Array.isArray(t)&&typeof t[0]=="number",sP={linear:pi,easeIn:tP,easeInOut:S1,easeOut:nP,circIn:yv,circInOut:w1,circOut:E1,backIn:gv,backInOut:T1,backOut:_1,anticipate:b1},rP=t=>typeof t=="string",OE=t=>{if(A1(t)){dv(t.length===4);const[e,n,s,a]=t;return Pc(e,n,s,a)}else if(rP(t))return sP[t];return t},xf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function aP(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(y){u.has(y)&&(p.schedule(y),t()),y(h)}const p={schedule:(y,v=!1,T=!1)=>{const R=T&&a?n:s;return v&&u.add(y),R.has(y)||R.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const oP=40;function x1(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=xf.reduce((F,oe)=>(F[oe]=aP(l),F),{}),{setup:h,read:d,resolveKeyframes:p,preUpdate:y,update:v,preRender:T,render:S,postRender:R}=u,D=()=>{const F=$s.useManualTiming?a.timestamp:performance.now();n=!1,$s.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(F-a.timestamp,oP),1)),a.timestamp=F,a.isProcessing=!0,h.process(a),d.process(a),p.process(a),y.process(a),v.process(a),T.process(a),S.process(a),R.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(D))},M=()=>{n=!0,s=!0,a.isProcessing||t(D)};return{schedule:xf.reduce((F,oe)=>{const re=u[oe];return F[oe]=(te,N=!1,x=!1)=>(n||M(),re.schedule(te,N,x)),F},{}),cancel:F=>{for(let oe=0;oe<xf.length;oe++)u[xf[oe]].cancel(F)},state:a,steps:u}}const{schedule:dt,cancel:Wr,state:on,steps:Tg}=x1(typeof requestAnimationFrame<"u"?requestAnimationFrame:pi,!0);let zf;function lP(){zf=void 0}const Dn={now:()=>(zf===void 0&&Dn.set(on.isProcessing||$s.useManualTiming?on.timestamp:performance.now()),zf),set:t=>{zf=t,queueMicrotask(lP)}},C1=t=>e=>typeof e=="string"&&e.startsWith(t),vv=C1("--"),uP=C1("var(--"),_v=t=>uP(t)?cP.test(t.split("/*")[0].trim()):!1,cP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Nl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},dc={...Nl,transform:t=>Xs(0,1,t)},Cf={...Nl,default:1},ec=t=>Math.round(t*1e5)/1e5,Tv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hP(t){return t==null}const fP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bv=(t,e)=>n=>!!(typeof n=="string"&&fP.test(n)&&n.startsWith(t)||e&&!hP(n)&&Object.prototype.hasOwnProperty.call(n,e)),R1=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,h]=s.match(Tv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},dP=t=>Xs(0,255,t),bg={...Nl,transform:t=>Math.round(dP(t))},Ga={test:bv("rgb","red"),parse:R1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+bg.transform(t)+", "+bg.transform(e)+", "+bg.transform(n)+", "+ec(dc.transform(s))+")"};function mP(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const ny={test:bv("#"),parse:mP,transform:Ga.transform},Vc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),kr=Vc("deg"),hs=Vc("%"),Ae=Vc("px"),pP=Vc("vh"),gP=Vc("vw"),kE={...hs,parse:t=>hs.parse(t)/100,transform:t=>hs.transform(t*100)},ol={test:bv("hsl","hue"),parse:R1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+hs.transform(ec(e))+", "+hs.transform(ec(n))+", "+ec(dc.transform(s))+")"},Ft={test:t=>Ga.test(t)||ny.test(t)||ol.test(t),parse:t=>Ga.test(t)?Ga.parse(t):ol.test(t)?ol.parse(t):ny.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ga.transform(t):ol.transform(t),getAnimatableNone:t=>{const e=Ft.parse(t);return e.alpha=0,Ft.transform(e)}},yP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vP(t){return isNaN(t)&&typeof t=="string"&&(t.match(Tv)?.length||0)+(t.match(yP)?.length||0)>0}const N1="number",I1="color",_P="var",TP="var(",LE="${}",bP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(bP,d=>(Ft.test(d)?(s.color.push(l),a.push(I1),n.push(Ft.parse(d))):d.startsWith(TP)?(s.var.push(l),a.push(_P),n.push(d)):(s.number.push(l),a.push(N1),n.push(parseFloat(d))),++l,LE)).split(LE);return{values:n,split:h,indexes:s,types:a}}function D1(t){return mc(t).values}function M1(t){const{split:e,types:n}=mc(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const h=n[u];h===N1?l+=ec(a[u]):h===I1?l+=Ft.transform(a[u]):l+=a[u]}return l}}const EP=t=>typeof t=="number"?0:Ft.test(t)?Ft.getAnimatableNone(t):t;function wP(t){const e=D1(t);return M1(t)(e.map(EP))}const Zr={test:vP,parse:D1,createTransformer:M1,getAnimatableNone:wP};function Eg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function SP({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=Eg(d,h,t+1/3),l=Eg(d,h,t),u=Eg(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function id(t,e){return n=>n>0?e:t}const pt=(t,e,n)=>t+(e-t)*n,wg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},AP=[ny,Ga,ol],xP=t=>AP.find(e=>e.test(t));function jE(t){const e=xP(t);if(!e)return!1;let n=e.parse(t);return e===ol&&(n=SP(n)),n}const UE=(t,e)=>{const n=jE(t),s=jE(e);if(!n||!s)return id(t,e);const a={...n};return l=>(a.red=wg(n.red,s.red,l),a.green=wg(n.green,s.green,l),a.blue=wg(n.blue,s.blue,l),a.alpha=pt(n.alpha,s.alpha,l),Ga.transform(a))},iy=new Set(["none","hidden"]);function CP(t,e){return iy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function RP(t,e){return n=>pt(t,e,n)}function Ev(t){return typeof t=="number"?RP:typeof t=="string"?_v(t)?id:Ft.test(t)?UE:DP:Array.isArray(t)?P1:typeof t=="object"?Ft.test(t)?UE:NP:id}function P1(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>Ev(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function NP(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Ev(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function IP(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],h=t.values[u]??0;n[a]=h,s[l]++}return n}const DP=(t,e)=>{const n=Zr.createTransformer(e),s=mc(t),a=mc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?iy.has(t)&&!a.values.length||iy.has(e)&&!s.values.length?CP(t,e):Mc(P1(IP(s,a),a.values),n):id(t,e)};function V1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?pt(t,e,n):Ev(t)(t,e)}const MP=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>dt.update(e,n),stop:()=>Wr(e),now:()=>on.isProcessing?on.timestamp:Dn.now()}},O1=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},sd=2e4;function wv(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<sd;)e+=n,s=t.next(e);return e>=sd?1/0:e}function PP(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(wv(s),sd);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:fi(a)}}const VP=5;function k1(t,e,n){const s=Math.max(e-VP,0);return p1(n-t(s),e-s)}const St={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sg=.001;function OP({duration:t=St.duration,bounce:e=St.bounce,velocity:n=St.velocity,mass:s=St.mass}){let a,l,u=1-e;u=Xs(St.minDamping,St.maxDamping,u),t=Xs(St.minDuration,St.maxDuration,fi(t)),u<1?(a=p=>{const y=p*u,v=y*t,T=y-n,S=sy(p,u),R=Math.exp(-v);return Sg-T/S*R},l=p=>{const v=p*u*t,T=v*n+n,S=Math.pow(u,2)*Math.pow(p,2)*t,R=Math.exp(-v),D=sy(Math.pow(p,2),u);return(-a(p)+Sg>0?-1:1)*((T-S)*R)/D}):(a=p=>{const y=Math.exp(-p*t),v=(p-n)*t+1;return-Sg+y*v},l=p=>{const y=Math.exp(-p*t),v=(n-p)*(t*t);return y*v});const h=5/t,d=LP(a,l,h);if(t=cs(t),isNaN(d))return{stiffness:St.stiffness,damping:St.damping,duration:t};{const p=Math.pow(d,2)*s;return{stiffness:p,damping:u*2*Math.sqrt(s*p),duration:t}}}const kP=12;function LP(t,e,n){let s=n;for(let a=1;a<kP;a++)s=s-t(s)/e(s);return s}function sy(t,e){return t*Math.sqrt(1-e*e)}const jP=["duration","bounce"],UP=["stiffness","damping","mass"];function zE(t,e){return e.some(n=>t[n]!==void 0)}function zP(t){let e={velocity:St.velocity,stiffness:St.stiffness,damping:St.damping,mass:St.mass,isResolvedFromDuration:!1,...t};if(!zE(t,UP)&&zE(t,jP))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Xs(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:St.mass,stiffness:a,damping:l}}else{const n=OP(t);e={...e,...n,mass:St.mass},e.isResolvedFromDuration=!0}return e}function rd(t=St.visualDuration,e=St.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:p,mass:y,duration:v,velocity:T,isResolvedFromDuration:S}=zP({...n,velocity:-fi(n.velocity||0)}),R=T||0,D=p/(2*Math.sqrt(d*y)),M=u-l,k=fi(Math.sqrt(d/y)),B=Math.abs(M)<5;s||(s=B?St.restSpeed.granular:St.restSpeed.default),a||(a=B?St.restDelta.granular:St.restDelta.default);let F;if(D<1){const re=sy(k,D);F=te=>{const N=Math.exp(-D*k*te);return u-N*((R+D*k*M)/re*Math.sin(re*te)+M*Math.cos(re*te))}}else if(D===1)F=re=>u-Math.exp(-k*re)*(M+(R+k*M)*re);else{const re=k*Math.sqrt(D*D-1);F=te=>{const N=Math.exp(-D*k*te),x=Math.min(re*te,300);return u-N*((R+D*k*M)*Math.sinh(x)+re*M*Math.cosh(x))/re}}const oe={calculatedDuration:S&&v||null,next:re=>{const te=F(re);if(S)h.done=re>=v;else{let N=re===0?R:0;D<1&&(N=re===0?cs(R):k1(F,re,te));const x=Math.abs(N)<=s,I=Math.abs(u-te)<=a;h.done=x&&I}return h.value=h.done?u:te,h},toString:()=>{const re=Math.min(wv(oe),sd),te=O1(N=>oe.next(re*N).value,re,30);return re+"ms "+te},toTransition:()=>{}};return oe}rd.applyToOptions=t=>{const e=PP(t,100,rd);return t.ease=e.ease,t.duration=cs(e.duration),t.type="keyframes",t};function ry({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:d,restDelta:p=.5,restSpeed:y}){const v=t[0],T={done:!1,value:v},S=x=>h!==void 0&&x<h||d!==void 0&&x>d,R=x=>h===void 0?d:d===void 0||Math.abs(h-x)<Math.abs(d-x)?h:d;let D=n*e;const M=v+D,k=u===void 0?M:u(M);k!==M&&(D=k-v);const B=x=>-D*Math.exp(-x/s),F=x=>k+B(x),oe=x=>{const I=B(x),j=F(x);T.done=Math.abs(I)<=p,T.value=T.done?k:j};let re,te;const N=x=>{S(T.value)&&(re=x,te=rd({keyframes:[T.value,R(T.value)],velocity:k1(F,x,T.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return N(0),{calculatedDuration:null,next:x=>{let I=!1;return!te&&re===void 0&&(I=!0,oe(x),N(x)),re!==void 0&&x>=re?te.next(x-re):(!I&&oe(x),T)}}}function BP(t,e,n){const s=[],a=n||$s.mix||V1,l=t.length-1;for(let u=0;u<l;u++){let h=a(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||pi:e;h=Mc(d,h)}s.push(h)}return s}function FP(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(dv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=BP(e,s,a),d=h.length,p=y=>{if(u&&y<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const T=fc(t[v],t[v+1],y);return h[v](T)};return n?y=>p(Xs(t[0],t[l-1],y)):p}function HP(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=fc(0,e,s);t.push(pt(n,1,a))}}function qP(t){const e=[0];return HP(e,t.length-1),e}function GP(t,e){return t.map(n=>n*e)}function YP(t,e){return t.map(()=>e||S1).splice(0,t.length-1)}function tc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=iP(s)?s.map(OE):OE(s),l={done:!1,value:e[0]},u=GP(n&&n.length===e.length?n:qP(e),t),h=FP(u,e,{ease:Array.isArray(a)?a:YP(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const KP=t=>t!==null;function Sv(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(KP),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||s===void 0?l[h]:s}const XP={decay:ry,inertia:ry,tween:tc,keyframes:tc,spring:rd};function L1(t){typeof t.type=="string"&&(t.type=XP[t.type])}class Av{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const $P=t=>t/100;class xv extends Av{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Dn.now()&&this.tick(Dn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;L1(e);const{type:n=tc,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:h}=e;const d=n||tc;d!==tc&&typeof h[0]!="number"&&(this.mixKeyframes=Mc($P,V1(h[0],h[1])),h=[0,100]);const p=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=wv(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:T,repeatDelay:S,type:R,onUpdate:D,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const k=this.currentTime-p*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?k<0:k>a;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,oe=s;if(v){const x=Math.min(this.currentTime,a)/h;let I=Math.floor(x),j=x%1;!j&&x>=1&&(j=1),j===1&&I--,I=Math.min(I,v+1),!!(I%2)&&(T==="reverse"?(j=1-j,S&&(j-=S/h)):T==="mirror"&&(oe=u)),F=Xs(0,1,j)*h}const re=B?{done:!1,value:y[0]}:oe.next(F);l&&(re.value=l(re.value));let{done:te}=re;!B&&d!==null&&(te=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&te);return N&&R!==ry&&(re.value=Sv(y,this.options,M,this.speed)),D&&D(re.value),N&&this.finish(),re}then(e,n){return this.finished.then(e,n)}get duration(){return fi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+fi(e)}get time(){return fi(this.currentTime)}set time(e){e=cs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Dn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=fi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=MP,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Dn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function QP(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ya=t=>t*180/Math.PI,ay=t=>{const e=Ya(Math.atan2(t[1],t[0]));return oy(e)},WP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ay,rotateZ:ay,skewX:t=>Ya(Math.atan(t[1])),skewY:t=>Ya(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},oy=t=>(t=t%360,t<0&&(t+=360),t),BE=ay,FE=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),HE=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),ZP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:FE,scaleY:HE,scale:t=>(FE(t)+HE(t))/2,rotateX:t=>oy(Ya(Math.atan2(t[6],t[5]))),rotateY:t=>oy(Ya(Math.atan2(-t[2],t[0]))),rotateZ:BE,rotate:BE,skewX:t=>Ya(Math.atan(t[4])),skewY:t=>Ya(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ly(t){return t.includes("scale")?1:0}function uy(t,e){if(!t||t==="none")return ly(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=ZP,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=WP,a=h}if(!a)return ly(e);const l=s[e],u=a[1].split(",").map(eV);return typeof l=="function"?l(u):u[l]}const JP=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return uy(n,e)};function eV(t){return parseFloat(t.trim())}const Il=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dl=new Set(Il),qE=t=>t===Nl||t===Ae,tV=new Set(["x","y","z"]),nV=Il.filter(t=>!tV.has(t));function iV(t){const e=[];return nV.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const $a={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>uy(e,"x"),y:(t,{transform:e})=>uy(e,"y")};$a.translateX=$a.x;$a.translateY=$a.y;const Qa=new Set;let cy=!1,hy=!1,fy=!1;function j1(){if(hy){const t=Array.from(Qa).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=iV(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}hy=!1,cy=!1,Qa.forEach(t=>t.complete(fy)),Qa.clear()}function U1(){Qa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(hy=!0)})}function sV(){fy=!0,U1(),j1(),fy=!1}class Cv{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Qa.add(this),cy||(cy=!0,dt.read(U1),dt.resolveKeyframes(j1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const h=s.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}QP(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Qa.delete(this)}cancel(){this.state==="scheduled"&&(Qa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const rV=t=>t.startsWith("--");function aV(t,e,n){rV(e)?t.style.setProperty(e,n):t.style[e]=n}const oV=mv(()=>window.ScrollTimeline!==void 0),lV={};function uV(t,e){const n=mv(t);return()=>lV[e]??n()}const z1=uV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ku=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,GE={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ku([0,.65,.55,1]),circOut:Ku([.55,0,1,.45]),backIn:Ku([.31,.01,.66,-.59]),backOut:Ku([.33,1.53,.69,.99])};function B1(t,e){if(t)return typeof t=="function"?z1()?O1(t,e):"ease-out":A1(t)?Ku(t):Array.isArray(t)?t.map(n=>B1(n,e)||GE.easeOut):GE[t]}function cV(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:d}={},p=void 0){const y={[e]:n};d&&(y.offset=d);const v=B1(h,a);Array.isArray(v)&&(y.easing=v);const T={delay:s,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(T.pseudoElement=p),t.animate(y,T)}function F1(t){return typeof t=="function"&&"applyToOptions"in t}function hV({type:t,...e}){return F1(t)&&z1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class fV extends Av{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,dv(typeof e.type!="string");const p=hV(e);this.animation=cV(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Sv(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):aV(n,s,y),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return fi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+fi(e)}get time(){return fi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=cs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&oV()?(this.animation.timeline=e,pi):n(this)}}const H1={anticipate:b1,backInOut:T1,circInOut:w1};function dV(t){return t in H1}function mV(t){typeof t.ease=="string"&&dV(t.ease)&&(t.ease=H1[t.ease])}const YE=10;class pV extends fV{constructor(e){mV(e),L1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new xv({...u,autoplay:!1}),d=cs(this.finishedTime??this.time);n.setWithVelocity(h.sample(d-YE).value,h.sample(d).value,YE),h.stop()}}const KE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Zr.test(t)||t==="0")&&!t.startsWith("url("));function gV(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function yV(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=KE(a,e),h=KE(l,e);return!u||!h?!1:gV(t)||(n==="spring"||F1(n))&&s}function dy(t){t.duration=0,t.type="keyframes"}const vV=new Set(["opacity","clipPath","filter","transform"]),_V=mv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function TV(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return _V()&&n&&vV.has(n)&&(n!=="transform"||!p)&&!d&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const bV=40;class EV extends Av{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:d,motionValue:p,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Dn.now();const T={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:d,motionValue:p,element:y,...v},S=y?.KeyframeResolver||Cv;this.keyframeResolver=new S(h,(R,D,M)=>this.onKeyframesResolved(R,D,T,!M),d,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:d,isHandoff:p,onUpdate:y}=s;this.resolvedAt=Dn.now(),yV(e,l,u,h)||(($s.instantAnimations||!d)&&y?.(Sv(e,s,n)),e[0]=e[e.length-1],dy(s),s.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>bV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},S=!p&&TV(T)?new pV({...T,element:T.motionValue.owner.current}):new xv(T);S.finished.then(()=>this.notifyFinished()).catch(pi),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),sV()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const wV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function SV(t){const e=wV.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function q1(t,e,n=1){const[s,a]=SV(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return f1(u)?parseFloat(u):u}return _v(a)?q1(a,e,n+1):a}function Rv(t,e){return t?.[e]??t?.default??t}const G1=new Set(["width","height","top","left","right","bottom",...Il]),AV={test:t=>t==="auto",parse:t=>t},Y1=t=>e=>e.test(t),K1=[Nl,Ae,hs,kr,gP,pP,AV],XE=t=>K1.find(Y1(t));function xV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||m1(t):!0}const CV=new Set(["brightness","contrast","saturate","opacity"]);function RV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Tv)||[];if(!s)return t;const a=n.replace(s,"");let l=CV.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const NV=/\b([a-z-]*)\(.*?\)/gu,my={...Zr,getAnimatableNone:t=>{const e=t.match(NV);return e?e.map(RV).join(" "):t}},$E={...Nl,transform:Math.round},IV={rotate:kr,rotateX:kr,rotateY:kr,rotateZ:kr,scale:Cf,scaleX:Cf,scaleY:Cf,scaleZ:Cf,skew:kr,skewX:kr,skewY:kr,distance:Ae,translateX:Ae,translateY:Ae,translateZ:Ae,x:Ae,y:Ae,z:Ae,perspective:Ae,transformPerspective:Ae,opacity:dc,originX:kE,originY:kE,originZ:Ae},Nv={borderWidth:Ae,borderTopWidth:Ae,borderRightWidth:Ae,borderBottomWidth:Ae,borderLeftWidth:Ae,borderRadius:Ae,radius:Ae,borderTopLeftRadius:Ae,borderTopRightRadius:Ae,borderBottomRightRadius:Ae,borderBottomLeftRadius:Ae,width:Ae,maxWidth:Ae,height:Ae,maxHeight:Ae,top:Ae,right:Ae,bottom:Ae,left:Ae,padding:Ae,paddingTop:Ae,paddingRight:Ae,paddingBottom:Ae,paddingLeft:Ae,margin:Ae,marginTop:Ae,marginRight:Ae,marginBottom:Ae,marginLeft:Ae,backgroundPositionX:Ae,backgroundPositionY:Ae,...IV,zIndex:$E,fillOpacity:dc,strokeOpacity:dc,numOctaves:$E},DV={...Nv,color:Ft,backgroundColor:Ft,outlineColor:Ft,fill:Ft,stroke:Ft,borderColor:Ft,borderTopColor:Ft,borderRightColor:Ft,borderBottomColor:Ft,borderLeftColor:Ft,filter:my,WebkitFilter:my},X1=t=>DV[t];function $1(t,e){let n=X1(t);return n!==my&&(n=Zr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const MV=new Set(["auto","none","0"]);function PV(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!MV.has(l)&&mc(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=$1(n,a)}class VV extends Cv{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),_v(p))){const y=q1(p,n.current);y!==void 0&&(e[d]=y),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!G1.has(s)||e.length!==2)return;const[a,l]=e,u=XE(a),h=XE(l);if(u!==h)if(qE(u)&&qE(h))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else $a[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||xV(e[a]))&&s.push(a);s.length&&PV(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$a[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=$a[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function OV(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const Q1=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function W1(t){return d1(t)&&"offsetHeight"in t}const QE=30,kV=t=>!isNaN(parseFloat(t));class LV{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Dn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Dn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=kV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new pv);const s=this.events[e].add(n);return e==="change"?()=>{s(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Dn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>QE)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,QE);return p1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tl(t,e){return new LV(t,e)}const{schedule:Iv}=x1(queueMicrotask,!1),Mi={x:!1,y:!1};function Z1(){return Mi.x||Mi.y}function jV(t){return t==="x"||t==="y"?Mi[t]?null:(Mi[t]=!0,()=>{Mi[t]=!1}):Mi.x||Mi.y?null:(Mi.x=Mi.y=!0,()=>{Mi.x=Mi.y=!1})}function J1(t,e){const n=OV(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function WE(t){return!(t.pointerType==="touch"||Z1())}function UV(t,e,n={}){const[s,a,l]=J1(t,n),u=h=>{if(!WE(h))return;const{target:d}=h,p=e(d,h);if(typeof p!="function"||!d)return;const y=v=>{WE(v)&&(p(v),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,a)};return s.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const ex=(t,e)=>e?t===e?!0:ex(t,e.parentElement):!1,Dv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,zV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function BV(t){return zV.has(t.tagName)||t.tabIndex!==-1}const Bf=new WeakSet;function ZE(t){return e=>{e.key==="Enter"&&t(e)}}function Ag(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const FV=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=ZE(()=>{if(Bf.has(n))return;Ag(n,"down");const a=ZE(()=>{Ag(n,"up")}),l=()=>Ag(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function JE(t){return Dv(t)&&!Z1()}function HV(t,e,n={}){const[s,a,l]=J1(t,n),u=h=>{const d=h.currentTarget;if(!JE(h))return;Bf.add(d);const p=e(d,h),y=(S,R)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",T),Bf.has(d)&&Bf.delete(d),JE(S)&&typeof p=="function"&&p(S,{success:R})},v=S=>{y(S,d===window||d===document||n.useGlobalTarget||ex(d,S.target))},T=S=>{y(S,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",T,a)};return s.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),W1(h)&&(h.addEventListener("focus",p=>FV(p,a)),!BV(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function tx(t){return d1(t)&&"ownerSVGElement"in t}function qV(t){return tx(t)&&t.tagName==="svg"}const pn=t=>!!(t&&t.getVelocity),GV=[...K1,Ft,Zr],YV=t=>GV.find(Y1(t)),Mv=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function ew(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function KV(...t){return e=>{let n=!1;const s=t.map(a=>{const l=ew(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():ew(t[a],null)}}}}function XV(...t){return V.useCallback(KV(...t),t)}class $V extends V.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=W1(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function QV({children:t,isPresent:e,anchorX:n,root:s}){const a=V.useId(),l=V.useRef(null),u=V.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=V.useContext(Mv),d=XV(l,t?.ref);return V.useInsertionEffect(()=>{const{width:p,height:y,top:v,left:T,right:S}=u.current;if(e||!l.current||!p||!y)return;const R=n==="left"?`left: ${T}`:`right: ${S}`;l.current.dataset.motionPopId=a;const D=document.createElement("style");h&&(D.nonce=h);const M=s??document.head;return M.appendChild(D),D.sheet&&D.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${R}px !important;
            top: ${v}px !important;
          }
        `),()=>{M.contains(D)&&M.removeChild(D)}},[e]),E.jsx($V,{isPresent:e,childRef:l,sizeRef:u,children:V.cloneElement(t,{ref:d})})}const WV=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h,root:d})=>{const p=uv(ZV),y=V.useId();let v=!0,T=V.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:S=>{p.set(S,!0);for(const R of p.values())if(!R)return;s&&s()},register:S=>(p.set(S,!1),()=>p.delete(S))}),[n,p,s]);return l&&v&&(T={...T}),V.useMemo(()=>{p.forEach((S,R)=>p.set(R,!1))},[n]),V.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),u==="popLayout"&&(t=E.jsx(QV,{isPresent:n,anchorX:h,root:d,children:t})),E.jsx(kd.Provider,{value:T,children:t})};function ZV(){return new Map}function nx(t=!0){const e=V.useContext(kd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=V.useId();V.useEffect(()=>{if(t)return a(l)},[t]);const u=V.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const Rf=t=>t.key||"";function tw(t){const e=[];return V.Children.forEach(t,n=>{V.isValidElement(n)&&e.push(n)}),e}const Br=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",root:d})=>{const[p,y]=nx(u),v=V.useMemo(()=>tw(t),[t]),T=u&&!p?[]:v.map(Rf),S=V.useRef(!0),R=V.useRef(v),D=uv(()=>new Map),[M,k]=V.useState(v),[B,F]=V.useState(v);h1(()=>{S.current=!1,R.current=v;for(let te=0;te<B.length;te++){const N=Rf(B[te]);T.includes(N)?D.delete(N):D.get(N)!==!0&&D.set(N,!1)}},[B,T.length,T.join("-")]);const oe=[];if(v!==M){let te=[...v];for(let N=0;N<B.length;N++){const x=B[N],I=Rf(x);T.includes(I)||(te.splice(N,0,x),oe.push(x))}return l==="wait"&&oe.length&&(te=oe),F(tw(te)),k(v),null}const{forceRender:re}=V.useContext(lv);return E.jsx(E.Fragment,{children:B.map(te=>{const N=Rf(te),x=u&&!p?!1:v===B||T.includes(N),I=()=>{if(D.has(N))D.set(N,!0);else return;let j=!0;D.forEach(L=>{L||(j=!1)}),j&&(re?.(),F(R.current),u&&y?.(),s&&s())};return E.jsx(WV,{isPresent:x,initial:!S.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:x?void 0:I,anchorX:h,children:te},N)})})},ix=V.createContext({strict:!1}),nw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bl={};for(const t in nw)bl[t]={isEnabled:e=>nw[t].some(n=>!!e[n])};function JV(t){for(const e in t)bl[e]={...bl[e],...t[e]}}const eO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ad(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||eO.has(t)}let sx=t=>!ad(t);function tO(t){typeof t=="function"&&(sx=e=>e.startsWith("on")?!ad(e):t(e))}try{tO(require("@emotion/is-prop-valid").default)}catch{}function nO(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(sx(a)||n===!0&&ad(a)||!e&&!ad(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Ld=V.createContext({});function jd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function pc(t){return typeof t=="string"||Array.isArray(t)}const Pv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vv=["initial",...Pv];function Ud(t){return jd(t.animate)||Vv.some(e=>pc(t[e]))}function rx(t){return!!(Ud(t)||t.variants)}function iO(t,e){if(Ud(t)){const{initial:n,animate:s}=t;return{initial:n===!1||pc(n)?n:void 0,animate:pc(s)?s:void 0}}return t.inherit!==!1?e:{}}function sO(t){const{initial:e,animate:n}=iO(t,V.useContext(Ld));return V.useMemo(()=>({initial:e,animate:n}),[iw(e),iw(n)])}function iw(t){return Array.isArray(t)?t.join(" "):t}const gc={};function rO(t){for(const e in t)gc[e]=t[e],vv(e)&&(gc[e].isCSSVariable=!0)}function ax(t,{layout:e,layoutId:n}){return Dl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!gc[t]||t==="opacity")}const aO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oO=Il.length;function lO(t,e,n){let s="",a=!0;for(let l=0;l<oO;l++){const u=Il[l],h=t[u];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(u.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const p=Q1(h,Nv[u]);if(!d){a=!1;const y=aO[u]||u;s+=`${y}(${p}) `}n&&(e[u]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function Ov(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,h=!1;for(const d in e){const p=e[d];if(Dl.has(d)){u=!0;continue}else if(vv(d)){a[d]=p;continue}else{const y=Q1(p,Nv[d]);d.startsWith("origin")?(h=!0,l[d]=y):s[d]=y}}if(e.transform||(u||n?s.transform=lO(e,t.transform,n):s.transform&&(s.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${d} ${p} ${y}`}}const kv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ox(t,e,n){for(const s in e)!pn(e[s])&&!ax(s,n)&&(t[s]=e[s])}function uO({transformTemplate:t},e){return V.useMemo(()=>{const n=kv();return Ov(n,e,t),Object.assign({},n.vars,n.style)},[e])}function cO(t,e){const n=t.style||{},s={};return ox(s,n,t),Object.assign(s,uO(t,e)),s}function hO(t,e){const n={},s=cO(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const fO={offset:"stroke-dashoffset",array:"stroke-dasharray"},dO={offset:"strokeDashoffset",array:"strokeDasharray"};function mO(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?fO:dO;t[l.offset]=Ae.transform(-s);const u=Ae.transform(e),h=Ae.transform(n);t[l.array]=`${u} ${h}`}function lx(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},d,p,y){if(Ov(t,h,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:T}=t;v.transform&&(T.transform=v.transform,delete v.transform),(T.transform||v.transformOrigin)&&(T.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),T.transform&&(T.transformBox=y?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),a!==void 0&&mO(v,a,l,u,!1)}const ux=()=>({...kv(),attrs:{}}),cx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function pO(t,e,n,s){const a=V.useMemo(()=>{const l=ux();return lx(l,e,cx(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};ox(l,t.style,t),a.style={...l,...a.style}}return a}const gO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Lv(t){return typeof t!="string"||t.includes("-")?!1:!!(gO.indexOf(t)>-1||/[A-Z]/u.test(t))}function yO(t,e,n,{latestValues:s},a,l=!1){const h=(Lv(t)?pO:hO)(e,s,a,t),d=nO(e,typeof t=="string",l),p=t!==V.Fragment?{...d,...h,ref:n}:{},{children:y}=e,v=V.useMemo(()=>pn(y)?y.get():y,[y]);return V.createElement(t,{...p,children:v})}function sw(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function jv(t,e,n,s){if(typeof e=="function"){const[a,l]=sw(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=sw(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Ff(t){return pn(t)?t.get():t}function vO({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:_O(n,s,a,t),renderState:e()}}function _O(t,e,n,s){const a={},l=s(t,{});for(const T in l)a[T]=Ff(l[T]);let{initial:u,animate:h}=t;const d=Ud(t),p=rx(t);e&&p&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const v=y?h:u;if(v&&typeof v!="boolean"&&!jd(v)){const T=Array.isArray(v)?v:[v];for(let S=0;S<T.length;S++){const R=jv(t,T[S]);if(R){const{transitionEnd:D,transition:M,...k}=R;for(const B in k){let F=k[B];if(Array.isArray(F)){const oe=y?F.length-1:0;F=F[oe]}F!==null&&(a[B]=F)}for(const B in D)a[B]=D[B]}}}return a}const hx=t=>(e,n)=>{const s=V.useContext(Ld),a=V.useContext(kd),l=()=>vO(t,e,s,a);return n?l():uv(l)};function Uv(t,e,n){const{style:s}=t,a={};for(const l in s)(pn(s[l])||e.style&&pn(e.style[l])||ax(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const TO=hx({scrapeMotionValuesFromProps:Uv,createRenderState:kv});function fx(t,e,n){const s=Uv(t,e,n);for(const a in t)if(pn(t[a])||pn(e[a])){const l=Il.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const bO=hx({scrapeMotionValuesFromProps:fx,createRenderState:ux}),EO=Symbol.for("motionComponentSymbol");function ll(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function wO(t,e,n){return V.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):ll(n)&&(n.current=s))},[e])}const zv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),SO="framerAppearId",dx="data-"+zv(SO),mx=V.createContext({});function AO(t,e,n,s,a){const{visualElement:l}=V.useContext(Ld),u=V.useContext(ix),h=V.useContext(kd),d=V.useContext(Mv).reducedMotion,p=V.useRef(null);s=s||u.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const y=p.current,v=V.useContext(mx);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&xO(p.current,n,a,v);const T=V.useRef(!1);V.useInsertionEffect(()=>{y&&T.current&&y.update(n,h)});const S=n[dx],R=V.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return h1(()=>{y&&(T.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),R.current&&y.animationState&&y.animationState.animateChanges())}),V.useEffect(()=>{y&&(!R.current&&y.animationState&&y.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),R.current=!1),y.enteringChildren=void 0)}),y}function xO(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:px(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&ll(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:d,layoutRoot:p})}function px(t){if(t)return t.options.allowProjection!==!1?t.projection:px(t.parent)}function xg(t,{forwardMotionProps:e=!1}={},n,s){n&&JV(n);const a=Lv(t)?bO:TO;function l(h,d){let p;const y={...V.useContext(Mv),...h,layoutId:CO(h)},{isStatic:v}=y,T=sO(h),S=a(h,v);if(!v&&cv){RO();const R=NO(y);p=R.MeasureLayout,T.visualElement=AO(t,S,y,s,R.ProjectionNode)}return E.jsxs(Ld.Provider,{value:T,children:[p&&T.visualElement?E.jsx(p,{visualElement:T.visualElement,...y}):null,yO(t,h,wO(S,T.visualElement,d),S,v,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=V.forwardRef(l);return u[EO]=t,u}function CO({layoutId:t}){const e=V.useContext(lv).id;return e&&t!==void 0?e+"-"+t:t}function RO(t,e){V.useContext(ix).strict}function NO(t){const{drag:e,layout:n}=bl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function IO(t,e){if(typeof Proxy>"u")return xg;const n=new Map,s=(l,u)=>xg(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,xg(u,void 0,t,e)),n.get(u))})}function gx({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function DO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function MO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Cg(t){return t===void 0||t===1}function py({scale:t,scaleX:e,scaleY:n}){return!Cg(t)||!Cg(e)||!Cg(n)}function Ha(t){return py(t)||yx(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function yx(t){return rw(t.x)||rw(t.y)}function rw(t){return t&&t!=="0%"}function od(t,e,n){const s=t-n,a=e*s;return n+a}function aw(t,e,n,s,a){return a!==void 0&&(t=od(t,a,s)),od(t,n,s)+e}function gy(t,e=0,n=1,s,a){t.min=aw(t.min,e,n,s,a),t.max=aw(t.max,e,n,s,a)}function vx(t,{x:e,y:n}){gy(t.x,e.translate,e.scale,e.originPoint),gy(t.y,n.translate,n.scale,n.originPoint)}const ow=.999999999999,lw=1.0000000000001;function PO(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let h=0;h<a;h++){l=n[h],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&cl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,vx(t,u)),s&&Ha(l.latestValues)&&cl(t,l.latestValues))}e.x<lw&&e.x>ow&&(e.x=1),e.y<lw&&e.y>ow&&(e.y=1)}function ul(t,e){t.min=t.min+e,t.max=t.max+e}function uw(t,e,n,s,a=.5){const l=pt(t.min,t.max,a);gy(t,e,n,l,s)}function cl(t,e){uw(t.x,e.x,e.scaleX,e.scale,e.originX),uw(t.y,e.y,e.scaleY,e.scale,e.originY)}function _x(t,e){return gx(MO(t.getBoundingClientRect(),e))}function VO(t,e,n){const s=_x(t,n),{scroll:a}=e;return a&&(ul(s.x,a.offset.x),ul(s.y,a.offset.y)),s}const cw=()=>({translate:0,scale:1,origin:0,originPoint:0}),hl=()=>({x:cw(),y:cw()}),hw=()=>({min:0,max:0}),It=()=>({x:hw(),y:hw()}),yy={current:null},Tx={current:!1};function OO(){if(Tx.current=!0,!!cv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>yy.current=t.matches;t.addEventListener("change",e),e()}else yy.current=!1}const kO=new WeakMap;function LO(t,e,n){for(const s in e){const a=e[s],l=n[s];if(pn(a))t.addValue(s,a);else if(pn(l))t.addValue(s,Tl(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,Tl(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const fw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class jO{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Cv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Dn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,dt.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Ud(n),this.isVariantNode=rx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in v){const S=v[T];d[T]!==void 0&&pn(S)&&S.set(d[T])}}mount(e){this.current=e,kO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Tx.current||OO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Wr(this.notifyUpdate),Wr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Dl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&dt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in bl){const n=bl[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):It()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<fw.length;s++){const a=fw[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=LO(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Tl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(f1(s)||m1(s))?s=parseFloat(s):!YV(s)&&Zr.test(n)&&(s=$1(e,n)),this.setBaseTarget(e,pn(s)?s.get():s)),pn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=jv(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!pn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new pv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Iv.render(this.render)}}class bx extends jO{constructor(){super(...arguments),this.KeyframeResolver=VV}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Ex(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function UO(t){return window.getComputedStyle(t)}class zO extends bx{constructor(){super(...arguments),this.type="html",this.renderInstance=Ex}readValueFromInstance(e,n){if(Dl.has(n))return this.projection?.isProjecting?ly(n):JP(e,n);{const s=UO(e),a=(vv(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return _x(e,n)}build(e,n,s){Ov(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Uv(e,n,s)}}const wx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function BO(t,e,n,s){Ex(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(wx.has(a)?a:zv(a),e.attrs[a])}class FO extends bx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=It}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Dl.has(n)){const s=X1(n);return s&&s.default||0}return n=wx.has(n)?n:zv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return fx(e,n,s)}build(e,n,s){lx(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){BO(e,n,s,a)}mount(e){this.isSVGTag=cx(e.tagName),super.mount(e)}}const HO=(t,e)=>Lv(t)?new FO(e):new zO(e,{allowProjection:t!==V.Fragment});function dl(t,e,n){const s=t.getProps();return jv(s,e,n!==void 0?n:s.custom,t)}const vy=t=>Array.isArray(t);function qO(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Tl(n))}function GO(t){return vy(t)?t[t.length-1]||0:t}function YO(t,e){const n=dl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const h=GO(l[u]);qO(t,u,h)}}function KO(t){return!!(pn(t)&&t.add)}function _y(t,e){const n=t.getValue("willChange");if(KO(n))return n.add(e);if(!n&&$s.WillChange){const s=new $s.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function Sx(t){return t.props[dx]}const XO=t=>t!==null;function $O(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(XO),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const QO={type:"spring",stiffness:500,damping:25,restSpeed:10},WO=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ZO={type:"keyframes",duration:.8},JO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ek=(t,{keyframes:e})=>e.length>2?ZO:Dl.has(t)?t.startsWith("scale")?WO(e[1]):QO:JO;function tk({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:d,elapsed:p,...y}){return!!Object.keys(y).length}const Bv=(t,e,n,s={},a,l)=>u=>{const h=Rv(s,t)||{},d=h.delay||s.delay||0;let{elapsed:p=0}=s;p=p-cs(d);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:T=>{e.set(T),h.onUpdate&&h.onUpdate(T)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};tk(h)||Object.assign(y,ek(t,y)),y.duration&&(y.duration=cs(y.duration)),y.repeatDelay&&(y.repeatDelay=cs(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(dy(y),y.delay===0&&(v=!0)),($s.instantAnimations||$s.skipAnimations)&&(v=!0,dy(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const T=$O(y.keyframes,h);if(T!==void 0){dt.update(()=>{y.onUpdate(T),y.onComplete()});return}}return h.isSync?new xv(y):new EV(y)};function nk({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function Ax(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;s&&(l=s);const d=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in h){const v=t.getValue(y,t.latestValues[y]??null),T=h[y];if(T===void 0||p&&nk(p,y))continue;const S={delay:n,...Rv(l||{},y)},R=v.get();if(R!==void 0&&!v.isAnimating&&!Array.isArray(T)&&T===R&&!S.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const k=Sx(t);if(k){const B=window.MotionHandoffAnimation(k,y,dt);B!==null&&(S.startTime=B,D=!0)}}_y(t,y),v.start(Bv(y,v,T,t.shouldReduceMotion&&G1.has(y)?{type:!1}:S,t,D));const M=v.animation;M&&d.push(M)}return u&&Promise.all(d).then(()=>{dt.update(()=>{u&&YO(t,u)})}),d}function xx(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),u=t.size,h=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:h-l*s}function Ty(t,e,n={}){const s=dl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(Ax(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=a;return ik(t,e,d,p,y,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,p]=h==="beforeChildren"?[l,u]:[u,l];return d().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function ik(t,e,n=0,s=0,a=0,l=1,u){const h=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),h.push(Ty(d,e,{...u,delay:n+(typeof s=="function"?0:s)+xx(t.variantChildren,d,s,a,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function sk(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Ty(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Ty(t,e,n);else{const a=typeof e=="function"?dl(t,e,n.custom):e;s=Promise.all(Ax(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function Cx(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const rk=Vv.length;function Rx(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Rx(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<rk;n++){const s=Vv[n],a=t.props[s];(pc(a)||a===!1)&&(e[s]=a)}return e}const ak=[...Pv].reverse(),ok=Pv.length;function lk(t){return e=>Promise.all(e.map(({animation:n,options:s})=>sk(t,n,s)))}function uk(t){let e=lk(t),n=dw(),s=!0;const a=d=>(p,y)=>{const v=dl(t,y,d==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:T,transitionEnd:S,...R}=v;p={...p,...R,...S}}return p};function l(d){e=d(t)}function u(d){const{props:p}=t,y=Rx(t.parent)||{},v=[],T=new Set;let S={},R=1/0;for(let M=0;M<ok;M++){const k=ak[M],B=n[k],F=p[k]!==void 0?p[k]:y[k],oe=pc(F),re=k===d?B.isActive:null;re===!1&&(R=M);let te=F===y[k]&&F!==p[k]&&oe;if(te&&s&&t.manuallyAnimateOnMount&&(te=!1),B.protectedKeys={...S},!B.isActive&&re===null||!F&&!B.prevProp||jd(F)||typeof F=="boolean")continue;const N=ck(B.prevProp,F);let x=N||k===d&&B.isActive&&!te&&oe||M>R&&oe,I=!1;const j=Array.isArray(F)?F:[F];let L=j.reduce(a(k),{});re===!1&&(L={});const{prevResolvedValues:H={}}=B,P={...H,...L},Fe=le=>{x=!0,T.has(le)&&(I=!0,T.delete(le)),B.needsAnimating[le]=!0;const de=t.getValue(le);de&&(de.liveStyle=!1)};for(const le in P){const de=L[le],xe=H[le];if(S.hasOwnProperty(le))continue;let Ve=!1;vy(de)&&vy(xe)?Ve=!Cx(de,xe):Ve=de!==xe,Ve?de!=null?Fe(le):T.add(le):de!==void 0&&T.has(le)?Fe(le):B.protectedKeys[le]=!0}B.prevProp=F,B.prevResolvedValues=L,B.isActive&&(S={...S,...L}),s&&t.blockInitialAnimation&&(x=!1);const Qe=te&&N;x&&(!Qe||I)&&v.push(...j.map(le=>{const de={type:k};if(typeof le=="string"&&s&&!Qe&&t.manuallyAnimateOnMount&&t.parent){const{parent:xe}=t,Ve=dl(xe,le);if(xe.enteringChildren&&Ve){const{delayChildren:U}=Ve.transition||{};de.delay=xx(xe.enteringChildren,t,U)}}return{animation:le,options:de}}))}if(T.size){const M={};if(typeof p.initial!="boolean"){const k=dl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);k&&k.transition&&(M.transition=k.transition)}T.forEach(k=>{const B=t.getBaseTarget(k),F=t.getValue(k);F&&(F.liveStyle=!0),M[k]=B??null}),v.push({animation:M})}let D=!!v.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(D=!1),s=!1,D?e(v):Promise.resolve()}function h(d,p){if(n[d].isActive===p)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(d,p)),n[d].isActive=p;const y=u(d);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=dw()}}}function ck(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Cx(e,t):!1}function Fa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dw(){return{animate:Fa(!0),whileInView:Fa(),whileHover:Fa(),whileTap:Fa(),whileDrag:Fa(),whileFocus:Fa(),exit:Fa()}}class oa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class hk extends oa{constructor(e){super(e),e.animationState||(e.animationState=uk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let fk=0;class dk extends oa{constructor(){super(...arguments),this.id=fk++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const mk={animation:{Feature:hk},exit:{Feature:dk}};function yc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Oc(t){return{point:{x:t.pageX,y:t.pageY}}}const pk=t=>e=>Dv(e)&&t(e,Oc(e));function nc(t,e,n,s){return yc(t,e,pk(n),s)}const Nx=1e-4,gk=1-Nx,yk=1+Nx,Ix=.01,vk=0-Ix,_k=0+Ix;function _n(t){return t.max-t.min}function Tk(t,e,n){return Math.abs(t-e)<=n}function mw(t,e,n,s=.5){t.origin=s,t.originPoint=pt(e.min,e.max,t.origin),t.scale=_n(n)/_n(e),t.translate=pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=gk&&t.scale<=yk||isNaN(t.scale))&&(t.scale=1),(t.translate>=vk&&t.translate<=_k||isNaN(t.translate))&&(t.translate=0)}function ic(t,e,n,s){mw(t.x,e.x,n.x,s?s.originX:void 0),mw(t.y,e.y,n.y,s?s.originY:void 0)}function pw(t,e,n){t.min=n.min+e.min,t.max=t.min+_n(e)}function bk(t,e,n){pw(t.x,e.x,n.x),pw(t.y,e.y,n.y)}function gw(t,e,n){t.min=e.min-n.min,t.max=t.min+_n(e)}function sc(t,e,n){gw(t.x,e.x,n.x),gw(t.y,e.y,n.y)}function li(t){return[t("x"),t("y")]}const Dx=({current:t})=>t?t.ownerDocument.defaultView:null,yw=(t,e)=>Math.abs(t-e);function Ek(t,e){const n=yw(t.x,e.x),s=yw(t.y,e.y);return Math.sqrt(n**2+s**2)}class Mx{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Ng(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,R=Ek(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!R)return;const{point:D}=T,{timestamp:M}=on;this.history.push({...D,timestamp:M});const{onStart:k,onMove:B}=this.handlers;S||(k&&k(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,T)},this.handlePointerMove=(T,S)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=Rg(S,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(T,S)=>{this.end();const{onEnd:R,onSessionEnd:D,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Ng(T.type==="pointercancel"?this.lastMoveEventInfo:Rg(S,this.transformPagePoint),this.history);this.startEvent&&R&&R(T,k),D&&D(T,k)},!Dv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const h=Oc(e),d=Rg(h,this.transformPagePoint),{point:p}=d,{timestamp:y}=on;this.history=[{...p,timestamp:y}];const{onSessionStart:v}=n;v&&v(e,Ng(d,this.history)),this.removeListeners=Mc(nc(this.contextWindow,"pointermove",this.handlePointerMove),nc(this.contextWindow,"pointerup",this.handlePointerUp),nc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Wr(this.updatePoint)}}function Rg(t,e){return e?{point:e(t.point)}:t}function vw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ng({point:t},e){return{point:t,delta:vw(t,Px(e)),offset:vw(t,wk(e)),velocity:Sk(e,.1)}}function wk(t){return t[0]}function Px(t){return t[t.length-1]}function Sk(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=Px(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>cs(e)));)n--;if(!s)return{x:0,y:0};const l=fi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Ak(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?pt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?pt(n,t,s.max):Math.min(t,n)),t}function _w(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function xk(t,{top:e,left:n,bottom:s,right:a}){return{x:_w(t.x,n,a),y:_w(t.y,e,s)}}function Tw(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function Ck(t,e){return{x:Tw(t.x,e.x),y:Tw(t.y,e.y)}}function Rk(t,e){let n=.5;const s=_n(t),a=_n(e);return a>s?n=fc(e.min,e.max-s,t.min):s>a&&(n=fc(t.min,t.max-a,e.min)),Xs(0,1,n)}function Nk(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const by=.35;function Ik(t=by){return t===!1?t=0:t===!0&&(t=by),{x:bw(t,"left","right"),y:bw(t,"top","bottom")}}function bw(t,e,n){return{min:Ew(t,e),max:Ew(t,n)}}function Ew(t,e){return typeof t=="number"?t:t[e]||0}const Dk=new WeakMap;class Mk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=It(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Oc(v).point)},u=(v,T)=>{const{drag:S,dragPropagation:R,onDragStart:D}=this.getProps();if(S&&!R&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jV(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),li(k=>{let B=this.getAxisMotionValue(k).get()||0;if(hs.test(B)){const{projection:F}=this.visualElement;if(F&&F.layout){const oe=F.layout.layoutBox[k];oe&&(B=_n(oe)*(parseFloat(B)/100))}}this.originPoint[k]=B}),D&&dt.postRender(()=>D(v,T)),_y(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},h=(v,T)=>{this.latestPointerEvent=v,this.latestPanInfo=T;const{dragPropagation:S,dragDirectionLock:R,onDirectionLock:D,onDrag:M}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:k}=T;if(R&&this.currentDirection===null){this.currentDirection=Pk(k),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",T.point,k),this.updateAxis("y",T.point,k),this.visualElement.render(),M&&M(v,T)},d=(v,T)=>{this.latestPointerEvent=v,this.latestPanInfo=T,this.stop(v,T),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>li(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new Mx(e,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:Dx(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&dt.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Nf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=Ak(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&ll(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=xk(s.layoutBox,e):this.constraints=!1,this.elastic=Ik(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&li(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Nk(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ll(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=VO(s,a.root,this.visualElement.getTransformPagePoint());let u=Ck(a.layout.layoutBox,l);if(n){const h=n(DO(u));this.hasMutatedConstraints=!!h,h&&(u=gx(h))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=li(y=>{if(!Nf(y,n,this.currentDirection))return;let v=d&&d[y]||{};u&&(v={min:0,max:0});const T=a?200:1e6,S=a?40:1e7,R={type:"inertia",velocity:s?e[y]:0,bounceStiffness:T,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,R)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return _y(this.visualElement,e),s.start(Bv(e,s,0,n,this.visualElement,!1))}stopAnimation(){li(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){li(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){li(n=>{const{drag:s}=this.getProps();if(!Nf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];l.set(e[n]-pt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ll(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};li(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=Rk({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),li(u=>{if(!Nf(u,e,null))return;const h=this.getAxisMotionValue(u),{min:d,max:p}=this.constraints[u];h.set(pt(d,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;Dk.set(this.visualElement,this);const e=this.visualElement.current,n=nc(e,"pointerdown",d=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();ll(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),dt.read(s);const u=yc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(li(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=d[y].translate,v.set(v.get()+d[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=by,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function Nf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Pk(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Vk extends oa{constructor(e){super(e),this.removeGroupControls=pi,this.removeListeners=pi,this.controls=new Mk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||pi}unmount(){this.removeGroupControls(),this.removeListeners()}}const ww=t=>(e,n)=>{t&&dt.postRender(()=>t(e,n))};class Ok extends oa{constructor(){super(...arguments),this.removePointerDownListener=pi}onPointerDown(e){this.session=new Mx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Dx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:ww(e),onStart:ww(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&dt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=nc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Hf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Sw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Gu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ae.test(t))t=parseFloat(t);else return t;const n=Sw(t,e.target.x),s=Sw(t,e.target.y);return`${n}% ${s}%`}},kk={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Zr.parse(t);if(a.length>5)return s;const l=Zr.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=d;const p=pt(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}};let Ig=!1;class Lk extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;rO(jk),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Ig&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Hf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,Ig=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||dt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Iv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Ig=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Vx(t){const[e,n]=nx(),s=V.useContext(lv);return E.jsx(Lk,{...t,layoutGroup:s,switchLayoutGroup:V.useContext(mx),isPresent:e,safeToRemove:n})}const jk={borderRadius:{...Gu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gu,borderTopRightRadius:Gu,borderBottomLeftRadius:Gu,borderBottomRightRadius:Gu,boxShadow:kk};function Uk(t,e,n){const s=pn(t)?t:Tl(t);return s.start(Bv("",s,e,n)),s.animation}const zk=(t,e)=>t.depth-e.depth;class Bk{constructor(){this.children=[],this.isDirty=!1}add(e){hv(this.children,e),this.isDirty=!0}remove(e){fv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zk),this.isDirty=!1,this.children.forEach(e)}}function Fk(t,e){const n=Dn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Wr(s),t(l-e))};return dt.setup(s,!0),()=>Wr(s)}const Ox=["TopLeft","TopRight","BottomLeft","BottomRight"],Hk=Ox.length,Aw=t=>typeof t=="string"?parseFloat(t):t,xw=t=>typeof t=="number"||Ae.test(t);function qk(t,e,n,s,a,l){a?(t.opacity=pt(0,n.opacity??1,Gk(s)),t.opacityExit=pt(e.opacity??1,0,Yk(s))):l&&(t.opacity=pt(e.opacity??1,n.opacity??1,s));for(let u=0;u<Hk;u++){const h=`border${Ox[u]}Radius`;let d=Cw(e,h),p=Cw(n,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||xw(d)===xw(p)?(t[h]=Math.max(pt(Aw(d),Aw(p),s),0),(hs.test(p)||hs.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=pt(e.rotate||0,n.rotate||0,s))}function Cw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Gk=kx(0,.5,E1),Yk=kx(.5,.95,pi);function kx(t,e,n){return s=>s<t?0:s>e?1:n(fc(t,e,s))}function Rw(t,e){t.min=e.min,t.max=e.max}function oi(t,e){Rw(t.x,e.x),Rw(t.y,e.y)}function Nw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Iw(t,e,n,s,a){return t-=e,t=od(t,1/n,s),a!==void 0&&(t=od(t,1/a,s)),t}function Kk(t,e=0,n=1,s=.5,a,l=t,u=t){if(hs.test(e)&&(e=parseFloat(e),e=pt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=pt(l.min,l.max,s);t===l&&(h-=e),t.min=Iw(t.min,e,n,h,a),t.max=Iw(t.max,e,n,h,a)}function Dw(t,e,[n,s,a],l,u){Kk(t,e[n],e[s],e[a],e.scale,l,u)}const Xk=["x","scaleX","originX"],$k=["y","scaleY","originY"];function Mw(t,e,n,s){Dw(t.x,e,Xk,n?n.x:void 0,s?s.x:void 0),Dw(t.y,e,$k,n?n.y:void 0,s?s.y:void 0)}function Pw(t){return t.translate===0&&t.scale===1}function Lx(t){return Pw(t.x)&&Pw(t.y)}function Vw(t,e){return t.min===e.min&&t.max===e.max}function Qk(t,e){return Vw(t.x,e.x)&&Vw(t.y,e.y)}function Ow(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function jx(t,e){return Ow(t.x,e.x)&&Ow(t.y,e.y)}function kw(t){return _n(t.x)/_n(t.y)}function Lw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Wk{constructor(){this.members=[]}add(e){hv(this.members,e),e.scheduleRender()}remove(e){if(fv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Zk(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:T,skewX:S,skewY:R}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),v&&(s+=`rotateX(${v}deg) `),T&&(s+=`rotateY(${T}deg) `),S&&(s+=`skewX(${S}deg) `),R&&(s+=`skewY(${R}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(s+=`scale(${h}, ${d})`),s||"none"}const Dg=["","X","Y","Z"],Jk=1e3;let e4=0;function Mg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function Ux(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Sx(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&Ux(s)}function zx({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},h=e?.()){this.id=e4++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(i4),this.nodes.forEach(o4),this.nodes.forEach(l4),this.nodes.forEach(s4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Bk)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new pv),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=tx(u)&&!qV(u),this.instance=u;const{layoutId:h,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let y,v=0;const T=()=>this.root.updateBlockedByResize=!1;dt.read(()=>{v=window.innerWidth}),t(u,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,y&&y(),y=Fk(T,250),Hf.hasAnimatedSinceResize&&(Hf.hasAnimatedSinceResize=!1,this.nodes.forEach(zw)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:T,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||p.getDefaultTransition()||d4,{onLayoutAnimationStart:D,onLayoutAnimationComplete:M}=p.getProps(),k=!this.targetLayout||!jx(this.targetLayout,S),B=!v&&T;if(this.options.layoutRoot||this.resumeFrom||B||v&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...Rv(R,"layout"),onPlay:D,onComplete:M};(p.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(y,B)}else v||zw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Wr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(u4),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ux(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Uw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(a4),this.nodes.forEach(t4),this.nodes.forEach(n4)):this.nodes.forEach(Uw),this.clearAllSnapshots();const h=Dn.now();on.delta=Xs(0,1e3/60,h-on.timestamp),on.timestamp=h,on.isProcessing=!0,Tg.update.process(on),Tg.preRender.process(on),Tg.render.process(on),on.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Iv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(r4),this.sharedNodes.forEach(c4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_n(this.snapshot.measuredBox.x)&&!_n(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=It(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Lx(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||Ha(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),m4(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return It();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(p4))){const{scroll:p}=this.root;p&&(ul(h.x,p.offset.x),ul(h.y,p.offset.y))}return h}removeElementScroll(u){const h=It();if(oi(h,u),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&oi(h,u),ul(h.x,y.offset.x),ul(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const d=It();oi(d,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&cl(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ha(y.latestValues)&&cl(d,y.latestValues)}return Ha(this.latestValues)&&cl(d,this.latestValues),d}removeTransform(u){const h=It();oi(h,u);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Ha(p.latestValues))continue;py(p.latestValues)&&p.updateSnapshot();const y=It(),v=p.measurePageBox();oi(y,v),Mw(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Ha(this.latestValues)&&Mw(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==on.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=on.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),sc(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),oi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=It(),this.targetWithTransforms=It()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):oi(this.target,this.layout.layoutBox),vx(this.target,this.targetDelta)):oi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),sc(this.relativeTargetOrigin,this.target,T.target),oi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||py(this.parent.latestValues)||yx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===on.timestamp&&(d=!1),d)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;oi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,T=this.treeScale.y;PO(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=It());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Nw(this.prevProjectionDelta.x,this.projectionDelta.x),Nw(this.prevProjectionDelta.y,this.projectionDelta.y)),ic(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==T||!Lw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Lw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=hl(),this.projectionDelta=hl(),this.projectionDeltaWithTransform=hl()}setAnimationOrigin(u,h=!1){const d=this.snapshot,p=d?d.latestValues:{},y={...this.latestValues},v=hl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const T=It(),S=d?d.source:void 0,R=this.layout?this.layout.source:void 0,D=S!==R,M=this.getStack(),k=!M||M.members.length<=1,B=!!(D&&!k&&this.options.crossfade===!0&&!this.path.some(f4));this.animationProgress=0;let F;this.mixTargetDelta=oe=>{const re=oe/1e3;Bw(v.x,u.x,re),Bw(v.y,u.y,re),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(sc(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),h4(this.relativeTarget,this.relativeTargetOrigin,T,re),F&&Qk(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=It()),oi(F,this.relativeTarget)),D&&(this.animationValues=y,qk(y,p,this.latestValues,re,B,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Wr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{Hf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Tl(0)),this.currentAnimation=Uk(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Jk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:y}=u;if(!(!h||!d||!p)){if(this!==u&&this.layout&&p&&Bx(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||It();const v=_n(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+v;const T=_n(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+T}oi(h,d),cl(h,y),ic(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new Wk),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&Mg("z",u,p,this.animationValues);for(let y=0;y<Dg.length;y++)Mg(`rotate${Dg[y]}`,u,p,this.animationValues),Mg(`skew${Dg[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Ff(h?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Ff(h?.pointerEvents)||""),this.hasProjected&&!Ha(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=Zk(this.projectionDeltaWithTransform,this.treeScale,y);d&&(v=d(y,v)),u.transform=v;const{x:T,y:S}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${S.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const R in gc){if(y[R]===void 0)continue;const{correct:D,applyTo:M,isCSSVariable:k}=gc[R],B=v==="none"?y[R]:D(y[R],p);if(M){const F=M.length;for(let oe=0;oe<F;oe++)u[M[oe]]=B}else k?this.options.visualElement.renderState.vars[R]=B:u[R]=B}this.options.layoutId&&(u.pointerEvents=p===this?Ff(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(jw),this.root.sharedNodes.clear()}}}function t4(t){t.updateLayout()}function n4(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?li(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],T=_n(v);v.min=n[y].min,v.max=v.min+T}):Bx(a,e.layoutBox,n)&&li(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],T=_n(n[y]);v.max=v.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+T)});const u=hl();ic(u,n,e.layoutBox);const h=hl();l?ic(h,t.applyTransform(s,!0),e.measuredBox):ic(h,n,e.layoutBox);const d=!Lx(u);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:T}=y;if(v&&T){const S=It();sc(S,e.layoutBox,v.layoutBox);const R=It();sc(R,n,T.layoutBox),jx(S,R)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=R,t.relativeTargetOrigin=S,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function i4(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function s4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function r4(t){t.clearSnapshot()}function jw(t){t.clearMeasurements()}function Uw(t){t.isLayoutDirty=!1}function a4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function zw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function o4(t){t.resolveTargetDelta()}function l4(t){t.calcProjection()}function u4(t){t.resetSkewAndRotation()}function c4(t){t.removeLeadSnapshot()}function Bw(t,e,n){t.translate=pt(e.translate,0,n),t.scale=pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Fw(t,e,n,s){t.min=pt(e.min,n.min,s),t.max=pt(e.max,n.max,s)}function h4(t,e,n,s){Fw(t.x,e.x,n.x,s),Fw(t.y,e.y,n.y,s)}function f4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const d4={duration:.45,ease:[.4,0,.1,1]},Hw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),qw=Hw("applewebkit/")&&!Hw("chrome/")?Math.round:pi;function Gw(t){t.min=qw(t.min),t.max=qw(t.max)}function m4(t){Gw(t.x),Gw(t.y)}function Bx(t,e,n){return t==="position"||t==="preserve-aspect"&&!Tk(kw(e),kw(n),.2)}function p4(t){return t!==t.root&&t.scroll?.wasRoot}const g4=zx({attachResizeListener:(t,e)=>yc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Pg={current:void 0},Fx=zx({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Pg.current){const t=new g4({});t.mount(window),t.setOptions({layoutScroll:!0}),Pg.current=t}return Pg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),y4={pan:{Feature:Ok},drag:{Feature:Vk,ProjectionNode:Fx,MeasureLayout:Vx}};function Yw(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&dt.postRender(()=>l(e,Oc(e)))}class v4 extends oa{mount(){const{current:e}=this.node;e&&(this.unmount=UV(e,(n,s)=>(Yw(this.node,s,"Start"),a=>Yw(this.node,a,"End"))))}unmount(){}}class _4 extends oa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mc(yc(this.node.current,"focus",()=>this.onFocus()),yc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Kw(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&dt.postRender(()=>l(e,Oc(e)))}class T4 extends oa{mount(){const{current:e}=this.node;e&&(this.unmount=HV(e,(n,s)=>(Kw(this.node,s,"Start"),(a,{success:l})=>Kw(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ey=new WeakMap,Vg=new WeakMap,b4=t=>{const e=Ey.get(t.target);e&&e(t)},E4=t=>{t.forEach(b4)};function w4({root:t,...e}){const n=t||document;Vg.has(n)||Vg.set(n,{});const s=Vg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(E4,{root:t,...e})),s[a]}function S4(t,e,n){const s=w4(e);return Ey.set(t,n),s.observe(t),()=>{Ey.delete(t),s.unobserve(t)}}const A4={some:0,all:1};class x4 extends oa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:A4[a]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),T=p?y:v;T&&T(d)};return S4(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(C4(e,n))&&this.startObserver()}unmount(){}}function C4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const R4={inView:{Feature:x4},tap:{Feature:T4},focus:{Feature:_4},hover:{Feature:v4}},N4={layout:{ProjectionNode:Fx,MeasureLayout:Vx}},I4={...mk,...R4,...y4,...N4},Kt=IO(I4,HO),Hx=[{name:"Taco House",phone:"+91 7795815315"},{name:"Hungry House",phone:"+91 9820243177"},{name:"MFC",phone:"+91 7338334970"},{name:"Hit&Run",phone:"+91 7406330088"},{name:"Janani Canteen",phone:"+91 8660138488"},{name:"Dollar Cafe",phone:"+91 8105306109"},{name:"Kamath Cafe",phone:"+91 8217044886"},{name:"Aditya Mess",phone:"+91 7483644586"},{name:"Apoorva Mess",phone:"+91 9108888320"},{name:"FC 2",phone:"+91 8861953102"},{name:"Poornima",phone:"+91 7090641985"},{name:"Nom Nom cafe",phone:"+91 7619422026"},{name:"Ashraya",phone:"+91 6361201519"}],zd=({searchTerm:t,setSearchTerm:e})=>{const[n,s]=V.useState(!1),[a,l]=V.useState(!1),[u,h]=V.useState(""),d=Hx.filter(p=>p.name.toLowerCase().includes(u.toLowerCase())).sort((p,y)=>p.name.localeCompare(y.name));return E.jsxs(E.Fragment,{children:[E.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white/10 backdrop-blur-md border-b border-white/20 shadow-lg",children:E.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:E.jsxs("div",{className:"flex items-center justify-between h-16",children:[E.jsx(Br,{mode:"wait",children:(!n||window.innerWidth>=768)&&E.jsx(Kt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center gap-2",children:E.jsxs(Gr,{to:"/",className:"flex items-center gap-2",children:[E.jsx("div",{className:"hidden md:block p-2 bg-orange-500 rounded-lg text-white",children:E.jsx(nd,{size:24})}),E.jsx(Gr,{to:"/admin",className:"md:hidden p-2 bg-orange-500 rounded-lg text-white",onClick:p=>p.stopPropagation(),children:E.jsx(nd,{size:24})}),E.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent",children:"MIT Mess"})]})})}),e&&E.jsxs("div",{className:"hidden md:flex flex-1 max-w-md mx-8 relative group",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(Af,{className:"h-4 w-4 text-gray-400 group-focus-within:text-orange-500 transition-colors"})}),E.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-200/50 rounded-full leading-5 bg-white/50 backdrop-blur-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 sm:text-sm shadow-sm transition-all duration-300 hover:bg-white/80 focus:bg-white",placeholder:"Search messes...",value:t,onChange:p=>e(p.target.value)})]}),E.jsx(Br,{children:n&&E.jsxs(Kt.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:"100%"},exit:{opacity:0,width:0},className:"absolute inset-0 flex items-center px-4 bg-white md:hidden z-20",children:[E.jsx(Af,{className:"text-gray-400 mr-2",size:20}),E.jsx("input",{type:"text",placeholder:"Search...",value:t,onChange:p=>e(p.target.value),className:"flex-1 bg-transparent border-none focus:ring-0 text-gray-800 placeholder-gray-500 outline-none",autoFocus:!0}),E.jsx("button",{onClick:()=>s(!1),className:"p-2 text-gray-500 hover:text-orange-600",children:E.jsx(eo,{size:20})})]})}),E.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[E.jsx("a",{href:"https://mit.nakshatramaps.com/",target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-orange-600 transition-colors",title:"Campus Map",children:E.jsx(VM,{size:20})}),E.jsx("button",{onClick:()=>l(!0),className:"md:hidden p-2 text-gray-600 hover:text-orange-600 transition-colors",title:"Restaurants",children:E.jsx(VE,{size:20})}),e&&!n&&E.jsx("button",{onClick:()=>s(!0),className:"md:hidden p-2 text-gray-600 hover:text-orange-600 transition-colors",children:E.jsx(Af,{size:20})}),E.jsx("button",{onClick:()=>l(!0),className:"hidden md:block p-2 text-gray-600 hover:text-orange-600 transition-colors",title:"Restaurants",children:E.jsx(VE,{size:20})}),E.jsx(Gr,{to:"/admin",children:E.jsx("button",{className:"hidden md:block px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-orange-500 to-red-500 rounded-full hover:shadow-lg hover:scale-105 transition-all duration-300",children:"Admin Login"})})]})]})})}),E.jsx(Br,{children:a&&E.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>l(!1),children:E.jsxs(Kt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},onClick:p=>p.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[80vh] overflow-hidden flex flex-col",children:[E.jsxs("div",{className:"p-6 bg-gradient-to-r from-orange-500 to-red-500 text-white shrink-0",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"text-2xl font-bold",children:"Nearby Restaurants"}),E.jsx("p",{className:"text-white/80 text-sm",children:"Tap a card to call"})]}),E.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:E.jsx(eo,{size:24})})]}),E.jsxs("div",{className:"relative",children:[E.jsx(Af,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-orange-500",size:18}),E.jsx("input",{type:"text",placeholder:"Search restaurants...",value:u,onChange:p=>h(p.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-white/50"})]})]}),E.jsx("div",{className:"p-6 overflow-y-auto",children:E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map((p,y)=>E.jsxs("a",{href:`tel:${p.phone}`,className:"block p-4 rounded-xl bg-white border border-gray-100 shadow-sm hover:shadow-md hover:border-orange-200 transition-all duration-300 group",children:[E.jsx("h4",{className:"font-bold text-gray-800 group-hover:text-orange-600 transition-colors mb-1",children:p.name}),E.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[E.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),p.phone]})]},y))})})]})})})]})};function qx(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=qx(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function Bs(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=qx(t))&&(s&&(s+=" "),s+=e);return s}const D4=({mess:t})=>{const[e,n]=V.useState(new Date().toLocaleDateString("en-US",{weekday:"long"})),s=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],a=t.menu[e]||t.menu.Monday,l=p=>{if([p.Breakfast,p.Lunch,p.Snacks,p.Dinner].join(" ").toLowerCase().includes("month end dinner"))return"Month End Dinner";const v=["chicken","paneer","egg","sewaiya","kebab","ice cream","semiyan","kheer","swiss roll","gulab jamun"],T=["chapati","steam rice","steamed rice","rice"],S=k=>{if(!k)return null;const B=k.split(",").map(F=>F.trim());for(const F of B){const oe=F.toLowerCase();if(v.some(re=>oe.includes(re)))return F}for(const F of B){const oe=F.toLowerCase();if(!T.some(re=>oe.includes(re)))return F}return B[0]},R=S(p.Lunch),D=S(p.Dinner),M=k=>k?v.some(B=>k.toLowerCase().includes(B)):!1;return M(R)?R:M(D)?D:R||D||"Special Meal"},u={"from-orange-500 to-red-500":{text:"text-orange-600",shadow:"hover:shadow-orange-500/40",bg:"bg-orange-50"},"from-blue-500 to-cyan-500":{text:"text-blue-600",shadow:"hover:shadow-blue-500/40",bg:"bg-blue-50"},"from-green-500 to-emerald-500":{text:"text-green-600",shadow:"hover:shadow-green-500/40",bg:"bg-green-50"},"from-purple-500 to-pink-500":{text:"text-purple-600",shadow:"hover:shadow-purple-500/40",bg:"bg-purple-50"},"from-pink-500 to-rose-500":{text:"text-pink-600",shadow:"hover:shadow-pink-500/40",bg:"bg-pink-50"}},h=u[t.color]||u["from-orange-500 to-red-500"],d=p=>p?p.toLowerCase().split(" ").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" "):"";return E.jsx(Gr,{to:`/mess/${t.id}`,className:"h-full block",children:E.jsxs(Kt.div,{layout:!0,whileHover:{y:-5,transition:{duration:.1}},className:Bs("relative overflow-hidden rounded-2xl bg-white/40 backdrop-blur-lg border border-white/50 shadow-xl hover:shadow-2xl transition-all duration-100 cursor-pointer group h-full flex flex-col",h.shadow),children:[E.jsxs("div",{className:Bs("px-5 py-3 bg-gradient-to-r text-white transition-all duration-300",t.color),children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("h3",{className:"text-xl font-bold group-hover:scale-105 transition-transform duration-300",children:t.name}),E.jsx("div",{className:"p-1.5 bg-white/20 rounded-full group-hover:bg-white/30 transition-colors",children:E.jsx(ov,{size:16})})]}),E.jsxs("p",{className:"mt-1 text-white/90 text-xs flex items-center gap-1",children:[E.jsx(td,{size:12}),"Today's Special: ",(()=>{const p=()=>{const R=new Date,D=R.getDay(),M=R.getDate()-D+(D===0?-6:1),k=new Date(R.setDate(M));return k.setHours(0,0,0,0),k},y=t.lastUpdated?new Date(t.lastUpdated):null,v=p(),T=!y||y<v,S=t.menu&&Object.keys(t.menu).some(R=>{const D=t.menu[R];return D?Object.values(D).some(M=>M&&M!=="N/A"&&M.trim()!==""):!1});return T||!S?"N/A":d(l(a))})()]})]}),E.jsx("div",{className:"p-5 flex-1 flex flex-col",children:(()=>{const p=()=>{const R=new Date,D=R.getDay(),M=R.getDate()-D+(D===0?-6:1),k=new Date(R.setDate(M));return k.setHours(0,0,0,0),k},y=t.lastUpdated?new Date(t.lastUpdated):null,v=p(),T=!y||y<v,S=t.menu&&Object.keys(t.menu).some(R=>{const D=t.menu[R];return D?Object.values(D).some(M=>M&&M!=="N/A"&&M.trim()!==""):!1});return T||!S?E.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center opacity-70 min-h-[200px]",children:[E.jsx("div",{className:Bs("text-lg font-bold mb-1",h.text),children:"Menu Not Uploaded"}),E.jsx("p",{className:"text-xs text-gray-400",children:"Check back later"})]}):E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"flex justify-between items-center w-full mb-3",onClick:R=>R.preventDefault(),children:s.map(R=>E.jsx("button",{onClick:D=>{D.preventDefault(),D.stopPropagation(),n(R)},className:Bs("px-1.5 py-1 rounded-md text-[10px] font-medium transition-all",e===R?"bg-gray-800 text-white shadow-md":"bg-white/50 text-gray-600 hover:bg-white/80"),children:R.slice(0,3)},R))}),E.jsx("div",{className:"grid grid-cols-1 flex-1 min-h-0",children:s.map(R=>{const D=t.menu[R]||t.menu.Monday,M=e===R;return E.jsxs("div",{className:Bs("flex flex-col gap-2.5 overflow-y-auto pr-1 pb-2 custom-scrollbar scrollbar-hide transition-opacity duration-200",M?"opacity-100 z-10 pointer-events-auto":"opacity-0 z-0 pointer-events-none"),style:{gridArea:"1 / 1 / 2 / 2"},children:[E.jsx("style",{jsx:!0,children:`
                                                    .scrollbar-hide::-webkit-scrollbar {
                                                        display: none;
                                                    }
                                                    .scrollbar-hide {
                                                        -ms-overflow-style: none;
                                                        scrollbar-width: none;
                                                    }
                                                `}),E.jsxs("div",{className:"p-3 rounded-xl bg-white/60 border border-white/40 shrink-0",children:[E.jsx("h4",{className:"text-[10px] font-bold text-orange-600 uppercase tracking-wider mb-0.5",children:"Breakfast"}),E.jsx("p",{className:"text-gray-800 font-medium text-xs leading-tight break-words",children:d(D.Breakfast)})]}),E.jsxs("div",{className:"p-3 rounded-xl bg-white/60 border border-white/40 shrink-0",children:[E.jsx("h4",{className:"text-[10px] font-bold text-green-600 uppercase tracking-wider mb-0.5",children:"Lunch"}),E.jsx("p",{className:"text-gray-800 font-medium text-xs leading-tight break-words",children:d(D.Lunch)})]}),E.jsxs("div",{className:"p-3 rounded-xl bg-white/60 border border-white/40 shrink-0",children:[E.jsx("h4",{className:"text-[10px] font-bold text-yellow-600 uppercase tracking-wider mb-0.5",children:"Snacks"}),E.jsx("p",{className:"text-gray-800 font-medium text-xs leading-tight break-words",children:d(D.Snacks)})]}),E.jsxs("div",{className:"p-3 rounded-xl bg-white/60 border border-white/40 shrink-0 mb-4",children:[E.jsx("h4",{className:"text-[10px] font-bold text-blue-600 uppercase tracking-wider mb-0.5",children:"Dinner"}),E.jsx("p",{className:"text-gray-800 font-medium text-xs leading-tight break-words",children:d(D.Dinner)})]})]},R)})})]})})()})]})})},M4=()=>{};var Xw={};const Gx=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},P4=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Yx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,d=a+2<t.length,p=d?t[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let T=(h&15)<<2|p>>6,S=p&63;d||(S=64,u||(T=64)),s.push(n[y],n[v],n[T],n[S])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Gx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):P4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||v==null)throw new V4;const T=l<<2|h>>4;if(s.push(T),p!==64){const S=h<<4&240|p>>2;if(s.push(S),v!==64){const R=p<<6&192|v;s.push(R)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class V4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const O4=function(t){const e=Gx(t);return Yx.encodeByteArray(e,!0)},ld=function(t){return O4(t).replace(/\./g,"")},Kx=function(t){try{return Yx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function k4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const L4=()=>k4().__FIREBASE_DEFAULTS__,j4=()=>{if(typeof process>"u"||typeof Xw>"u")return;const t=Xw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},U4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Kx(t[1]);return e&&JSON.parse(e)},Bd=()=>{try{return M4()||L4()||j4()||U4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Xx=t=>Bd()?.emulatorHosts?.[t],z4=t=>{const e=Xx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},$x=()=>Bd()?.config,Qx=t=>Bd()?.[`_${t}`];class B4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ml(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Wx(t){return(await fetch(t,{credentials:"include"})).ok}function F4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ld(JSON.stringify(n)),ld(JSON.stringify(u)),""].join(".")}const rc={};function H4(){const t={prod:[],emulator:[]};for(const e of Object.keys(rc))rc[e]?t.emulator.push(e):t.prod.push(e);return t}function q4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let $w=!1;function Zx(t,e){if(typeof window>"u"||typeof document>"u"||!Ml(window.location.host)||rc[t]===e||rc[t]||$w)return;rc[t]=e;function n(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=H4().prod.length>0;function u(){const T=document.getElementById(s);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function d(T,S){T.setAttribute("width","24"),T.setAttribute("id",S),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{$w=!0,u()},T}function y(T,S){T.setAttribute("id",S),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function v(){const T=q4(s),S=n("text"),R=document.getElementById(S)||document.createElement("span"),D=n("learnmore"),M=document.getElementById(D)||document.createElement("a"),k=n("preprendIcon"),B=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const F=T.element;h(F),y(M,D);const oe=p();d(B,k),F.append(B,R,M,oe),document.body.appendChild(F)}l?(R.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function Y4(){const t=Bd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function K4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function X4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $4(){const t=gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Q4(){return!Y4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eC(){try{return typeof indexedDB=="object"}catch{return!1}}function tC(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}function W4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Z4="FirebaseError";class ji extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Z4,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uo.prototype.create)}}class uo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?J4(l,s):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new ji(a,h,s)}}function J4(t,e){return t.replace(eL,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const eL=/\{\$([^}]+)}/g;function tL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jr(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(Qw(l)&&Qw(u)){if(!Jr(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Qw(t){return t!==null&&typeof t=="object"}function kc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Xu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function $u(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function nL(t,e){const n=new iL(t,e);return n.subscribe.bind(n)}class iL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");sL(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Og),a.error===void 0&&(a.error=Og),a.complete===void 0&&(a.complete=Og);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Og(){}const rL=1e3,aL=2,oL=14400*1e3,lL=.5;function Ww(t,e=rL,n=aL){const s=e*Math.pow(n,t),a=Math.round(lL*s*(Math.random()-.5)*2);return Math.min(oL,s+a)}function yt(t){return t&&t._delegate?t._delegate:t}class Oi{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qa="[DEFAULT]";class uL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new B4;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hL(e))try{this.getOrInitializeService({instanceIdentifier:qa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=qa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qa){return this.instances.has(e)}getOptions(e=qa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:cL(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=qa){return this.component?this.component.multipleInstances?e:qa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cL(t){return t===qa?void 0:t}function hL(t){return t.instantiationMode==="EAGER"}class fL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const dL={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},mL=Ue.INFO,pL={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},gL=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=pL[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fd{constructor(e){this.name=e,this._logLevel=mL,this._logHandler=gL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const yL=(t,e)=>e.some(n=>t instanceof n);let Zw,Jw;function vL(){return Zw||(Zw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _L(){return Jw||(Jw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nC=new WeakMap,wy=new WeakMap,iC=new WeakMap,kg=new WeakMap,Fv=new WeakMap;function TL(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Yr(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&nC.set(n,t)}).catch(()=>{}),Fv.set(e,t),e}function bL(t){if(wy.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});wy.set(t,e)}let Sy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function EL(t){Sy=t(Sy)}function wL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Lg(this),e,...n);return iC.set(s,e.sort?e.sort():[e]),Yr(s)}:_L().includes(t)?function(...e){return t.apply(Lg(this),e),Yr(nC.get(this))}:function(...e){return Yr(t.apply(Lg(this),e))}}function SL(t){return typeof t=="function"?wL(t):(t instanceof IDBTransaction&&bL(t),yL(t,vL())?new Proxy(t,Sy):t)}function Yr(t){if(t instanceof IDBRequest)return TL(t);if(kg.has(t))return kg.get(t);const e=SL(t);return e!==t&&(kg.set(t,e),Fv.set(e,t)),e}const Lg=t=>Fv.get(t);function sC(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=Yr(u);return s&&u.addEventListener("upgradeneeded",d=>{s(Yr(u.result),d.oldVersion,d.newVersion,Yr(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const AL=["get","getKey","getAll","getAllKeys","count"],xL=["put","add","delete","clear"],jg=new Map;function eS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jg.get(e))return jg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=xL.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||AL.includes(n)))return;const l=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let p=d.store;return s&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&d.done]))[0]};return jg.set(e,l),l}EL(t=>({...t,get:(e,n,s)=>eS(e,n)||t.get(e,n,s),has:(e,n)=>!!eS(e,n)||t.has(e,n)}));class CL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RL(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function RL(t){return t.getComponent()?.type==="VERSION"}const Ay="@firebase/app",tS="0.14.6";const Qs=new Fd("@firebase/app"),NL="@firebase/app-compat",IL="@firebase/analytics-compat",DL="@firebase/analytics",ML="@firebase/app-check-compat",PL="@firebase/app-check",VL="@firebase/auth",OL="@firebase/auth-compat",kL="@firebase/database",LL="@firebase/data-connect",jL="@firebase/database-compat",UL="@firebase/functions",zL="@firebase/functions-compat",BL="@firebase/installations",FL="@firebase/installations-compat",HL="@firebase/messaging",qL="@firebase/messaging-compat",GL="@firebase/performance",YL="@firebase/performance-compat",KL="@firebase/remote-config",XL="@firebase/remote-config-compat",$L="@firebase/storage",QL="@firebase/storage-compat",WL="@firebase/firestore",ZL="@firebase/ai",JL="@firebase/firestore-compat",e6="firebase",t6="12.6.0";const xy="[DEFAULT]",n6={[Ay]:"fire-core",[NL]:"fire-core-compat",[DL]:"fire-analytics",[IL]:"fire-analytics-compat",[PL]:"fire-app-check",[ML]:"fire-app-check-compat",[VL]:"fire-auth",[OL]:"fire-auth-compat",[kL]:"fire-rtdb",[LL]:"fire-data-connect",[jL]:"fire-rtdb-compat",[UL]:"fire-fn",[zL]:"fire-fn-compat",[BL]:"fire-iid",[FL]:"fire-iid-compat",[HL]:"fire-fcm",[qL]:"fire-fcm-compat",[GL]:"fire-perf",[YL]:"fire-perf-compat",[KL]:"fire-rc",[XL]:"fire-rc-compat",[$L]:"fire-gcs",[QL]:"fire-gcs-compat",[WL]:"fire-fst",[JL]:"fire-fst-compat",[ZL]:"fire-vertex","fire-js":"fire-js",[e6]:"fire-js-all"};const ud=new Map,i6=new Map,Cy=new Map;function nS(t,e){try{t.container.addComponent(e)}catch(n){Qs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vs(t){const e=t.name;if(Cy.has(e))return Qs.debug(`There were multiple attempts to register component ${e}.`),!1;Cy.set(e,t);for(const n of ud.values())nS(n,t);for(const n of i6.values())nS(n,t);return!0}function co(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ui(t){return t==null?!1:t.settings!==void 0}const s6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new uo("app","Firebase",s6);class r6{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}const Pl=t6;function rC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:xy,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Kr.create("bad-app-name",{appName:String(a)});if(n||(n=$x()),!n)throw Kr.create("no-options");const l=ud.get(a);if(l){if(Jr(n,l.options)&&Jr(s,l.config))return l;throw Kr.create("duplicate-app",{appName:a})}const u=new fL(a);for(const d of Cy.values())u.addComponent(d);const h=new r6(n,s,u);return ud.set(a,h),h}function Hv(t=xy){const e=ud.get(t);if(!e&&t===xy&&$x())return rC();if(!e)throw Kr.create("no-app",{appName:t});return e}function gi(t,e,n){let s=n6[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qs.warn(u.join(" "));return}vs(new Oi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const a6="firebase-heartbeat-database",o6=1,vc="firebase-heartbeat-store";let Ug=null;function aC(){return Ug||(Ug=sC(a6,o6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Kr.create("idb-open",{originalErrorMessage:t.message})})),Ug}async function l6(t){try{const n=(await aC()).transaction(vc),s=await n.objectStore(vc).get(oC(t));return await n.done,s}catch(e){if(e instanceof ji)Qs.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e?.message});Qs.warn(n.message)}}}async function iS(t,e){try{const s=(await aC()).transaction(vc,"readwrite");await s.objectStore(vc).put(e,oC(t)),await s.done}catch(n){if(n instanceof ji)Qs.warn(n.message);else{const s=Kr.create("idb-set",{originalErrorMessage:n?.message});Qs.warn(s.message)}}}function oC(t){return`${t.name}!${t.options.appId}`}const u6=1024,c6=30;class h6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new d6(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=sS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>c6){const a=m6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=sS(),{heartbeatsToSend:n,unsentEntries:s}=f6(this._heartbeatsCache.heartbeats),a=ld(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Qs.warn(e),""}}}function sS(){return new Date().toISOString().substring(0,10)}function f6(t,e=u6){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),rS(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),rS(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class d6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eC()?tC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await l6(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return iS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return iS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function rS(t){return ld(JSON.stringify({version:2,heartbeats:t})).length}function m6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function p6(t){vs(new Oi("platform-logger",e=>new CL(e),"PRIVATE")),vs(new Oi("heartbeat",e=>new h6(e),"PRIVATE")),gi(Ay,tS,t),gi(Ay,tS,"esm2020"),gi("fire-js","")}p6("");var g6="firebase",y6="12.6.0";gi(g6,y6,"app");var aS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xr,lC;(function(){var t;function e(N,x){function I(){}I.prototype=x.prototype,N.F=x.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(j,L,H){for(var P=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)P[Fe-2]=arguments[Fe];return x.prototype[L].apply(j,P)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,x,I){I||(I=0);const j=Array(16);if(typeof x=="string")for(var L=0;L<16;++L)j[L]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(L=0;L<16;++L)j[L]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=N.g[0],I=N.g[1],L=N.g[2];let H=N.g[3],P;P=x+(H^I&(L^H))+j[0]+3614090360&4294967295,x=I+(P<<7&4294967295|P>>>25),P=H+(L^x&(I^L))+j[1]+3905402710&4294967295,H=x+(P<<12&4294967295|P>>>20),P=L+(I^H&(x^I))+j[2]+606105819&4294967295,L=H+(P<<17&4294967295|P>>>15),P=I+(x^L&(H^x))+j[3]+3250441966&4294967295,I=L+(P<<22&4294967295|P>>>10),P=x+(H^I&(L^H))+j[4]+4118548399&4294967295,x=I+(P<<7&4294967295|P>>>25),P=H+(L^x&(I^L))+j[5]+1200080426&4294967295,H=x+(P<<12&4294967295|P>>>20),P=L+(I^H&(x^I))+j[6]+2821735955&4294967295,L=H+(P<<17&4294967295|P>>>15),P=I+(x^L&(H^x))+j[7]+4249261313&4294967295,I=L+(P<<22&4294967295|P>>>10),P=x+(H^I&(L^H))+j[8]+1770035416&4294967295,x=I+(P<<7&4294967295|P>>>25),P=H+(L^x&(I^L))+j[9]+2336552879&4294967295,H=x+(P<<12&4294967295|P>>>20),P=L+(I^H&(x^I))+j[10]+4294925233&4294967295,L=H+(P<<17&4294967295|P>>>15),P=I+(x^L&(H^x))+j[11]+2304563134&4294967295,I=L+(P<<22&4294967295|P>>>10),P=x+(H^I&(L^H))+j[12]+1804603682&4294967295,x=I+(P<<7&4294967295|P>>>25),P=H+(L^x&(I^L))+j[13]+4254626195&4294967295,H=x+(P<<12&4294967295|P>>>20),P=L+(I^H&(x^I))+j[14]+2792965006&4294967295,L=H+(P<<17&4294967295|P>>>15),P=I+(x^L&(H^x))+j[15]+1236535329&4294967295,I=L+(P<<22&4294967295|P>>>10),P=x+(L^H&(I^L))+j[1]+4129170786&4294967295,x=I+(P<<5&4294967295|P>>>27),P=H+(I^L&(x^I))+j[6]+3225465664&4294967295,H=x+(P<<9&4294967295|P>>>23),P=L+(x^I&(H^x))+j[11]+643717713&4294967295,L=H+(P<<14&4294967295|P>>>18),P=I+(H^x&(L^H))+j[0]+3921069994&4294967295,I=L+(P<<20&4294967295|P>>>12),P=x+(L^H&(I^L))+j[5]+3593408605&4294967295,x=I+(P<<5&4294967295|P>>>27),P=H+(I^L&(x^I))+j[10]+38016083&4294967295,H=x+(P<<9&4294967295|P>>>23),P=L+(x^I&(H^x))+j[15]+3634488961&4294967295,L=H+(P<<14&4294967295|P>>>18),P=I+(H^x&(L^H))+j[4]+3889429448&4294967295,I=L+(P<<20&4294967295|P>>>12),P=x+(L^H&(I^L))+j[9]+568446438&4294967295,x=I+(P<<5&4294967295|P>>>27),P=H+(I^L&(x^I))+j[14]+3275163606&4294967295,H=x+(P<<9&4294967295|P>>>23),P=L+(x^I&(H^x))+j[3]+4107603335&4294967295,L=H+(P<<14&4294967295|P>>>18),P=I+(H^x&(L^H))+j[8]+1163531501&4294967295,I=L+(P<<20&4294967295|P>>>12),P=x+(L^H&(I^L))+j[13]+2850285829&4294967295,x=I+(P<<5&4294967295|P>>>27),P=H+(I^L&(x^I))+j[2]+4243563512&4294967295,H=x+(P<<9&4294967295|P>>>23),P=L+(x^I&(H^x))+j[7]+1735328473&4294967295,L=H+(P<<14&4294967295|P>>>18),P=I+(H^x&(L^H))+j[12]+2368359562&4294967295,I=L+(P<<20&4294967295|P>>>12),P=x+(I^L^H)+j[5]+4294588738&4294967295,x=I+(P<<4&4294967295|P>>>28),P=H+(x^I^L)+j[8]+2272392833&4294967295,H=x+(P<<11&4294967295|P>>>21),P=L+(H^x^I)+j[11]+1839030562&4294967295,L=H+(P<<16&4294967295|P>>>16),P=I+(L^H^x)+j[14]+4259657740&4294967295,I=L+(P<<23&4294967295|P>>>9),P=x+(I^L^H)+j[1]+2763975236&4294967295,x=I+(P<<4&4294967295|P>>>28),P=H+(x^I^L)+j[4]+1272893353&4294967295,H=x+(P<<11&4294967295|P>>>21),P=L+(H^x^I)+j[7]+4139469664&4294967295,L=H+(P<<16&4294967295|P>>>16),P=I+(L^H^x)+j[10]+3200236656&4294967295,I=L+(P<<23&4294967295|P>>>9),P=x+(I^L^H)+j[13]+681279174&4294967295,x=I+(P<<4&4294967295|P>>>28),P=H+(x^I^L)+j[0]+3936430074&4294967295,H=x+(P<<11&4294967295|P>>>21),P=L+(H^x^I)+j[3]+3572445317&4294967295,L=H+(P<<16&4294967295|P>>>16),P=I+(L^H^x)+j[6]+76029189&4294967295,I=L+(P<<23&4294967295|P>>>9),P=x+(I^L^H)+j[9]+3654602809&4294967295,x=I+(P<<4&4294967295|P>>>28),P=H+(x^I^L)+j[12]+3873151461&4294967295,H=x+(P<<11&4294967295|P>>>21),P=L+(H^x^I)+j[15]+530742520&4294967295,L=H+(P<<16&4294967295|P>>>16),P=I+(L^H^x)+j[2]+3299628645&4294967295,I=L+(P<<23&4294967295|P>>>9),P=x+(L^(I|~H))+j[0]+4096336452&4294967295,x=I+(P<<6&4294967295|P>>>26),P=H+(I^(x|~L))+j[7]+1126891415&4294967295,H=x+(P<<10&4294967295|P>>>22),P=L+(x^(H|~I))+j[14]+2878612391&4294967295,L=H+(P<<15&4294967295|P>>>17),P=I+(H^(L|~x))+j[5]+4237533241&4294967295,I=L+(P<<21&4294967295|P>>>11),P=x+(L^(I|~H))+j[12]+1700485571&4294967295,x=I+(P<<6&4294967295|P>>>26),P=H+(I^(x|~L))+j[3]+2399980690&4294967295,H=x+(P<<10&4294967295|P>>>22),P=L+(x^(H|~I))+j[10]+4293915773&4294967295,L=H+(P<<15&4294967295|P>>>17),P=I+(H^(L|~x))+j[1]+2240044497&4294967295,I=L+(P<<21&4294967295|P>>>11),P=x+(L^(I|~H))+j[8]+1873313359&4294967295,x=I+(P<<6&4294967295|P>>>26),P=H+(I^(x|~L))+j[15]+4264355552&4294967295,H=x+(P<<10&4294967295|P>>>22),P=L+(x^(H|~I))+j[6]+2734768916&4294967295,L=H+(P<<15&4294967295|P>>>17),P=I+(H^(L|~x))+j[13]+1309151649&4294967295,I=L+(P<<21&4294967295|P>>>11),P=x+(L^(I|~H))+j[4]+4149444226&4294967295,x=I+(P<<6&4294967295|P>>>26),P=H+(I^(x|~L))+j[11]+3174756917&4294967295,H=x+(P<<10&4294967295|P>>>22),P=L+(x^(H|~I))+j[2]+718787259&4294967295,L=H+(P<<15&4294967295|P>>>17),P=I+(H^(L|~x))+j[9]+3951481745&4294967295,N.g[0]=N.g[0]+x&4294967295,N.g[1]=N.g[1]+(L+(P<<21&4294967295|P>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+H&4294967295}s.prototype.v=function(N,x){x===void 0&&(x=N.length);const I=x-this.blockSize,j=this.C;let L=this.h,H=0;for(;H<x;){if(L==0)for(;H<=I;)a(this,N,H),H+=this.blockSize;if(typeof N=="string"){for(;H<x;)if(j[L++]=N.charCodeAt(H++),L==this.blockSize){a(this,j),L=0;break}}else for(;H<x;)if(j[L++]=N[H++],L==this.blockSize){a(this,j),L=0;break}}this.h=L,this.o+=x},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var x=1;x<N.length-8;++x)N[x]=0;x=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=x&255,x/=256;for(this.v(N),N=Array(16),x=0,I=0;I<4;++I)for(let j=0;j<32;j+=8)N[x++]=this.g[I]>>>j&255;return N};function l(N,x){var I=h;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=x(N)}function u(N,x){this.h=x;const I=[];let j=!0;for(let L=N.length-1;L>=0;L--){const H=N[L]|0;j&&H==x||(I[L]=H,j=!1)}this.g=I}var h={};function d(N){return-128<=N&&N<128?l(N,function(x){return new u([x|0],x<0?-1:0)}):new u([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return v;if(N<0)return M(p(-N));const x=[];let I=1;for(let j=0;N>=I;j++)x[j]=N/I|0,I*=4294967296;return new u(x,0)}function y(N,x){if(N.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(N.charAt(0)=="-")return M(y(N.substring(1),x));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(x,8));let j=v;for(let H=0;H<N.length;H+=8){var L=Math.min(8,N.length-H);const P=parseInt(N.substring(H,H+L),x);L<8?(L=p(Math.pow(x,L)),j=j.j(L).add(p(P))):(j=j.j(I),j=j.add(p(P)))}return j}var v=d(0),T=d(1),S=d(16777216);t=u.prototype,t.m=function(){if(D(this))return-M(this).m();let N=0,x=1;for(let I=0;I<this.g.length;I++){const j=this.i(I);N+=(j>=0?j:4294967296+j)*x,x*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(R(this))return"0";if(D(this))return"-"+M(this).toString(N);const x=p(Math.pow(N,6));var I=this;let j="";for(;;){const L=oe(I,x).g;I=k(I,L.j(x));let H=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=L,R(I))return H+j;for(;H.length<6;)H="0"+H;j=H+j}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function R(N){if(N.h!=0)return!1;for(let x=0;x<N.g.length;x++)if(N.g[x]!=0)return!1;return!0}function D(N){return N.h==-1}t.l=function(N){return N=k(this,N),D(N)?-1:R(N)?0:1};function M(N){const x=N.g.length,I=[];for(let j=0;j<x;j++)I[j]=~N.g[j];return new u(I,~N.h).add(T)}t.abs=function(){return D(this)?M(this):this},t.add=function(N){const x=Math.max(this.g.length,N.g.length),I=[];let j=0;for(let L=0;L<=x;L++){let H=j+(this.i(L)&65535)+(N.i(L)&65535),P=(H>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);j=P>>>16,H&=65535,P&=65535,I[L]=P<<16|H}return new u(I,I[I.length-1]&-2147483648?-1:0)};function k(N,x){return N.add(M(x))}t.j=function(N){if(R(this)||R(N))return v;if(D(this))return D(N)?M(this).j(M(N)):M(M(this).j(N));if(D(N))return M(this.j(M(N)));if(this.l(S)<0&&N.l(S)<0)return p(this.m()*N.m());const x=this.g.length+N.g.length,I=[];for(var j=0;j<2*x;j++)I[j]=0;for(j=0;j<this.g.length;j++)for(let L=0;L<N.g.length;L++){const H=this.i(j)>>>16,P=this.i(j)&65535,Fe=N.i(L)>>>16,Qe=N.i(L)&65535;I[2*j+2*L]+=P*Qe,B(I,2*j+2*L),I[2*j+2*L+1]+=H*Qe,B(I,2*j+2*L+1),I[2*j+2*L+1]+=P*Fe,B(I,2*j+2*L+1),I[2*j+2*L+2]+=H*Fe,B(I,2*j+2*L+2)}for(N=0;N<x;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=x;N<2*x;N++)I[N]=0;return new u(I,0)};function B(N,x){for(;(N[x]&65535)!=N[x];)N[x+1]+=N[x]>>>16,N[x]&=65535,x++}function F(N,x){this.g=N,this.h=x}function oe(N,x){if(R(x))throw Error("division by zero");if(R(N))return new F(v,v);if(D(N))return x=oe(M(N),x),new F(M(x.g),M(x.h));if(D(x))return x=oe(N,M(x)),new F(M(x.g),x.h);if(N.g.length>30){if(D(N)||D(x))throw Error("slowDivide_ only works with positive integers.");for(var I=T,j=x;j.l(N)<=0;)I=re(I),j=re(j);var L=te(I,1),H=te(j,1);for(j=te(j,2),I=te(I,2);!R(j);){var P=H.add(j);P.l(N)<=0&&(L=L.add(I),H=P),j=te(j,1),I=te(I,1)}return x=k(N,L.j(x)),new F(L,x)}for(L=v;N.l(x)>=0;){for(I=Math.max(1,Math.floor(N.m()/x.m())),j=Math.ceil(Math.log(I)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),H=p(I),P=H.j(x);D(P)||P.l(N)>0;)I-=j,H=p(I),P=H.j(x);R(H)&&(H=T),L=L.add(H),N=k(N,P)}return new F(L,N)}t.B=function(N){return oe(this,N).h},t.and=function(N){const x=Math.max(this.g.length,N.g.length),I=[];for(let j=0;j<x;j++)I[j]=this.i(j)&N.i(j);return new u(I,this.h&N.h)},t.or=function(N){const x=Math.max(this.g.length,N.g.length),I=[];for(let j=0;j<x;j++)I[j]=this.i(j)|N.i(j);return new u(I,this.h|N.h)},t.xor=function(N){const x=Math.max(this.g.length,N.g.length),I=[];for(let j=0;j<x;j++)I[j]=this.i(j)^N.i(j);return new u(I,this.h^N.h)};function re(N){const x=N.g.length+1,I=[];for(let j=0;j<x;j++)I[j]=N.i(j)<<1|N.i(j-1)>>>31;return new u(I,N.h)}function te(N,x){const I=x>>5;x%=32;const j=N.g.length-I,L=[];for(let H=0;H<j;H++)L[H]=x>0?N.i(H+I)>>>x|N.i(H+I+1)<<32-x:N.i(H+I);return new u(L,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,lC=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Xr=u}).apply(typeof aS<"u"?aS:typeof self<"u"?self:typeof window<"u"?window:{});var If=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var uC,Qu,cC,qf,Ry,hC,fC,dC;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof If=="object"&&If];for(var _=0;_<f.length;++_){var w=f[_];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var s=n(this);function a(f,_){if(_)e:{var w=s;f=f.split(".");for(var C=0;C<f.length-1;C++){var G=f[C];if(!(G in w))break e;w=w[G]}f=f[f.length-1],C=w[f],_=_(C),_!=C&&_!=null&&e(w,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var w=[],C;for(C in _)Object.prototype.hasOwnProperty.call(_,C)&&w.push([C,_[C]]);return w}});var l=l||{},u=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,w){return f.call.apply(f.bind,arguments)}function p(f,_,w){return p=d,p.apply(null,arguments)}function y(f,_){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),f.apply(this,C)}}function v(f,_){function w(){}w.prototype=_.prototype,f.Z=_.prototype,f.prototype=new w,f.prototype.constructor=f,f.Ob=function(C,G,$){for(var ue=Array(arguments.length-2),De=2;De<arguments.length;De++)ue[De-2]=arguments[De];return _.prototype[G].apply(C,ue)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function S(f){const _=f.length;if(_>0){const w=Array(_);for(let C=0;C<_;C++)w[C]=f[C];return w}return[]}function R(f,_){for(let C=1;C<arguments.length;C++){const G=arguments[C];var w=typeof G;if(w=w!="object"?w:G?Array.isArray(G)?"array":w:"null",w=="array"||w=="object"&&typeof G.length=="number"){w=f.length||0;const $=G.length||0;f.length=w+$;for(let ue=0;ue<$;ue++)f[w+ue]=G[ue]}else f.push(G)}}class D{constructor(_,w){this.i=_,this.j=w,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function M(f){u.setTimeout(()=>{throw f},0)}function k(){var f=N;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class B{constructor(){this.h=this.g=null}add(_,w){const C=F.get();C.set(_,w),this.h?this.h.next=C:this.g=C,this.h=C}}var F=new D(()=>new oe,f=>f.reset());class oe{constructor(){this.next=this.g=this.h=null}set(_,w){this.h=_,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let re,te=!1,N=new B,x=()=>{const f=Promise.resolve(void 0);re=()=>{f.then(I)}};function I(){for(var f;f=k();){try{f.h.call(f.g)}catch(w){M(w)}var _=F;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}te=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};u.addEventListener("test",w,_),u.removeEventListener("test",w,_)}catch{}return f})();function P(f){return/^[\s\xa0]*$/.test(f)}function Fe(f,_){L.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(Fe,L),Fe.prototype.init=function(f,_){const w=this.type=f.type,C=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(w=="mouseover"?_=f.fromElement:w=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Fe.Z.h.call(this)},Fe.prototype.h=function(){Fe.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Qe="closure_listenable_"+(Math.random()*1e6|0),W=0;function le(f,_,w,C,G){this.listener=f,this.proxy=null,this.src=_,this.type=w,this.capture=!!C,this.ha=G,this.key=++W,this.da=this.fa=!1}function de(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function xe(f,_,w){for(const C in f)_.call(w,f[C],C,f)}function Ve(f,_){for(const w in f)_.call(void 0,f[w],w,f)}function U(f){const _={};for(const w in f)_[w]=f[w];return _}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(f,_){let w,C;for(let G=1;G<arguments.length;G++){C=arguments[G];for(w in C)f[w]=C[w];for(let $=0;$<ee.length;$++)w=ee[$],Object.prototype.hasOwnProperty.call(C,w)&&(f[w]=C[w])}}function he(f){this.src=f,this.g={},this.h=0}he.prototype.add=function(f,_,w,C,G){const $=f.toString();f=this.g[$],f||(f=this.g[$]=[],this.h++);const ue=Ce(f,_,C,G);return ue>-1?(_=f[ue],w||(_.fa=!1)):(_=new le(_,this.src,$,!!C,G),_.fa=w,f.push(_)),_};function Te(f,_){const w=_.type;if(w in f.g){var C=f.g[w],G=Array.prototype.indexOf.call(C,_,void 0),$;($=G>=0)&&Array.prototype.splice.call(C,G,1),$&&(de(_),f.g[w].length==0&&(delete f.g[w],f.h--))}}function Ce(f,_,w,C){for(let G=0;G<f.length;++G){const $=f[G];if(!$.da&&$.listener==_&&$.capture==!!w&&$.ha==C)return G}return-1}var ae="closure_lm_"+(Math.random()*1e6|0),_e={};function Ee(f,_,w,C,G){if(Array.isArray(_)){for(let $=0;$<_.length;$++)Ee(f,_[$],w,C,G);return null}return w=nr(w),f&&f[Qe]?f.J(_,w,h(C)?!!C.capture:!1,G):mt(f,_,w,!1,C,G)}function mt(f,_,w,C,G,$){if(!_)throw Error("Invalid event type");const ue=h(G)?!!G.capture:!!G;let De=Pn(f);if(De||(f[ae]=De=new he(f)),w=De.add(_,w,C,ue,$),w.proxy)return w;if(C=bn(),w.proxy=C,C.src=f,C.listener=w,f.addEventListener)H||(G=ue),G===void 0&&(G=!1),f.addEventListener(_.toString(),C,G);else if(f.attachEvent)f.attachEvent(Mt(_.toString()),C);else if(f.addListener&&f.removeListener)f.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return w}function bn(){function f(w){return _.call(f.src,f.listener,w)}const _=Ui;return f}function Yn(f,_,w,C,G){if(Array.isArray(_))for(var $=0;$<_.length;$++)Yn(f,_[$],w,C,G);else C=h(C)?!!C.capture:!!C,w=nr(w),f&&f[Qe]?(f=f.i,$=String(_).toString(),$ in f.g&&(_=f.g[$],w=Ce(_,w,C,G),w>-1&&(de(_[w]),Array.prototype.splice.call(_,w,1),_.length==0&&(delete f.g[$],f.h--)))):f&&(f=Pn(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Ce(_,w,C,G)),(w=f>-1?_[f]:null)&&Kn(w))}function Kn(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Qe])Te(_.i,f);else{var w=f.type,C=f.proxy;_.removeEventListener?_.removeEventListener(w,C,f.capture):_.detachEvent?_.detachEvent(Mt(w),C):_.addListener&&_.removeListener&&_.removeListener(C),(w=Pn(_))?(Te(w,f),w.h==0&&(w.src=null,_[ae]=null)):de(f)}}}function Mt(f){return f in _e?_e[f]:_e[f]="on"+f}function Ui(f,_){if(f.da)f=!0;else{_=new Fe(_,this);const w=f.listener,C=f.ha||f.src;f.fa&&Kn(f),f=w.call(C,_)}return f}function Pn(f){return f=f[ae],f instanceof he?f:null}var zi="__closure_events_fn_"+(Math.random()*1e9>>>0);function nr(f){return typeof f=="function"?f:(f[zi]||(f[zi]=function(_){return f.handleEvent(_)}),f[zi])}function Tt(){j.call(this),this.i=new he(this),this.M=this,this.G=null}v(Tt,j),Tt.prototype[Qe]=!0,Tt.prototype.removeEventListener=function(f,_,w,C){Yn(this,f,_,w,C)};function bt(f,_){var w,C=f.G;if(C)for(w=[];C;C=C.G)w.push(C);if(f=f.M,C=_.type||_,typeof _=="string")_=new L(_,f);else if(_ instanceof L)_.target=_.target||f;else{var G=_;_=new L(C,f),ce(_,G)}G=!0;let $,ue;if(w)for(ue=w.length-1;ue>=0;ue--)$=_.g=w[ue],G=Bi($,C,!0,_)&&G;if($=_.g=f,G=Bi($,C,!0,_)&&G,G=Bi($,C,!1,_)&&G,w)for(ue=0;ue<w.length;ue++)$=_.g=w[ue],G=Bi($,C,!1,_)&&G}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const w=f.g[_];for(let C=0;C<w.length;C++)de(w[C]);delete f.g[_],f.h--}}this.G=null},Tt.prototype.J=function(f,_,w,C){return this.i.add(String(f),_,!1,w,C)},Tt.prototype.K=function(f,_,w,C){return this.i.add(String(f),_,!0,w,C)};function Bi(f,_,w,C){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let G=!0;for(let $=0;$<_.length;++$){const ue=_[$];if(ue&&!ue.da&&ue.capture==w){const De=ue.listener,Ct=ue.ha||ue.src;ue.fa&&Te(f.i,ue),G=De.call(Ct,C)!==!1&&G}}return G&&!C.defaultPrevented}function zl(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(f,_||0)}function _i(f){f.g=zl(()=>{f.g=null,f.i&&(f.i=!1,_i(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class Jt extends j{constructor(_,w){super(),this.m=_,this.l=w,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:_i(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function da(f){j.call(this),this.h=f,this.g={}}v(da,j);var Bl=[];function Fl(f){xe(f.g,function(_,w){this.g.hasOwnProperty(w)&&Kn(_)},f),f.g={}}da.prototype.N=function(){da.Z.N.call(this),Fl(this)},da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ir=u.JSON.stringify,pm=u.JSON.parse,$c=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function Qc(){}function Wc(){}var Ti={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function en(){L.call(this,"d")}v(en,L);function Xn(){L.call(this,"c")}v(Xn,L);var xt={},Zc=null;function po(){return Zc=Zc||new Tt}xt.Ia="serverreachability";function Jc(f){L.call(this,xt.Ia,f)}v(Jc,L);function Fi(f){const _=po();bt(_,new Jc(_))}xt.STAT_EVENT="statevent";function ma(f,_){L.call(this,xt.STAT_EVENT,f),this.stat=_}v(ma,L);function Pt(f){const _=po();bt(_,new ma(_,f))}xt.Ja="timingevent";function Hi(f,_){L.call(this,xt.Ja,f),this.size=_}v(Hi,L);function qi(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},_)}function bi(){this.g=!0}bi.prototype.ua=function(){this.g=!1};function gm(f,_,w,C,G,$){f.info(function(){if(f.g)if($){var ue="",De=$.split("&");for(let Ke=0;Ke<De.length;Ke++){var Ct=De[Ke].split("=");if(Ct.length>1){const ct=Ct[0];Ct=Ct[1];const Zn=ct.split("_");ue=Zn.length>=2&&Zn[1]=="type"?ue+(ct+"="+Ct+"&"):ue+(ct+"=redacted&")}}}else ue=null;else ue=$;return"XMLHTTP REQ ("+C+") [attempt "+G+"]: "+_+`
`+w+`
`+ue})}function eh(f,_,w,C,G,$,ue){f.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+G+"]: "+_+`
`+w+`
`+$+" "+ue})}function Gi(f,_,w,C){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+ym(f,w)+(C?" "+C:"")})}function pa(f,_){f.info(function(){return"TIMEOUT: "+_})}bi.prototype.info=function(){};function ym(f,_){if(!f.g)return _;if(!_)return null;try{const $=JSON.parse(_);if($){for(f=0;f<$.length;f++)if(Array.isArray($[f])){var w=$[f];if(!(w.length<2)){var C=w[1];if(Array.isArray(C)&&!(C.length<1)){var G=C[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ue=1;ue<C.length;ue++)C[ue]=""}}}}return ir($)}catch{return _}}var ga={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Hl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ql;function ya(){}v(ya,Qc),ya.prototype.g=function(){return new XMLHttpRequest},ql=new ya;function Es(f){return encodeURIComponent(String(f))}function th(f){var _=1;f=f.split(":");const w=[];for(;_>0&&f.length;)w.push(f.shift()),_--;return f.length&&w.push(f.join(":")),w}function Ei(f,_,w,C){this.j=f,this.i=_,this.l=w,this.S=C||1,this.V=new da(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new wi}function wi(){this.i=null,this.g="",this.h=!1}var Vt={},$t={};function Yi(f,_,w){f.M=1,f.A=va(kt(_)),f.u=w,f.R=!0,go(f,null)}function go(f,_){f.F=Date.now(),Ki(f),f.B=kt(f.A);var w=f.B,C=f.S;Array.isArray(C)||(C=[String(C)]),To(w.i,"t",C),f.C=0,w=f.j.L,f.h=new wi,f.g=gh(f.j,w?_:null,!f.u),f.P>0&&(f.O=new Jt(p(f.Y,f,f.g),f.P)),_=f.V,w=f.g,C=f.ba;var G="readystatechange";Array.isArray(G)||(G&&(Bl[0]=G.toString()),G=Bl);for(let $=0;$<G.length;$++){const ue=Ee(w,G[$],C||_.handleEvent,!1,_.h||_);if(!ue)break;_.g[ue.key]=ue}_=f.J?U(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),Fi(),gm(f.i,f.v,f.B,f.l,f.S,f.u)}Ei.prototype.ba=function(f){f=f.target;const _=this.O;_&&xi(f)==3?_.j():this.Y(f)},Ei.prototype.Y=function(f){try{if(f==this.g)e:{const De=xi(this.g),Ct=this.g.ya(),Ke=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||De!=4||Ct==7||(Ct==8||Ke<=0?Fi(3):Fi(2)),Xi(this);var _=this.g.ca();this.X=_;var w=vm(this);if(this.o=_==200,eh(this.i,this.v,this.B,this.l,this.S,De,_),this.o){if(this.U&&!this.L){t:{if(this.g){var C,G=this.g;if((C=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(C)){var $=C;break t}}$=null}if(f=$)Gi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$i(this,f);else{this.o=!1,this.m=3,Pt(12),Vn(this),$n(this);break e}}if(this.R){f=!0;let ct;for(;!this.K&&this.C<w.length;)if(ct=ih(this,w),ct==$t){De==4&&(this.m=4,Pt(14),f=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Vt){this.m=4,Pt(15),Gi(this.i,this.l,w,"[Invalid Chunk]"),f=!1;break}else Gi(this.i,this.l,ct,null),$i(this,ct);if(nh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||w.length!=0||this.h.h||(this.m=1,Pt(16),f=!1),this.o=this.o&&f,!f)Gi(this.i,this.l,w,"[Invalid Chunked Response]"),Vn(this),$n(this);else if(w.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),ru(ue),ue.P=!0,Pt(11))}}else Gi(this.i,this.l,w,null),$i(this,w);De==4&&Vn(this),this.o&&!this.K&&(De==4?fh(this.j,this):(this.o=!1,Ki(this)))}else Ss(this.g),_==400&&w.indexOf("Unknown SID")>0?(this.m=3,Pt(12)):(this.m=0,Pt(13)),Vn(this),$n(this)}}}catch{}finally{}};function vm(f){if(!nh(f))return f.g.la();const _=tn(f.g);if(_==="")return"";let w="";const C=_.length,G=xi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Vn(f),$n(f),"";f.h.i=new u.TextDecoder}for(let $=0;$<C;$++)f.h.h=!0,w+=f.h.i.decode(_[$],{stream:!(G&&$==C-1)});return _.length=0,f.h.g+=w,f.C=0,f.h.g}function nh(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function ih(f,_){var w=f.C,C=_.indexOf(`
`,w);return C==-1?$t:(w=Number(_.substring(w,C)),isNaN(w)?Vt:(C+=1,C+w>_.length?$t:(_=_.slice(C,C+w),f.C=C+w,_)))}Ei.prototype.cancel=function(){this.K=!0,Vn(this)};function Ki(f){f.T=Date.now()+f.H,yo(f,f.H)}function yo(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=qi(p(f.aa,f),_)}function Xi(f){f.D&&(u.clearTimeout(f.D),f.D=null)}Ei.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(pa(this.i,this.B),this.M!=2&&(Fi(),Pt(17)),Vn(this),this.m=2,$n(this)):yo(this,this.T-f)};function $n(f){f.j.I==0||f.K||fh(f.j,f)}function Vn(f){Xi(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,Fl(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function $i(f,_){try{var w=f.j;if(w.I!=0&&(w.g==f||Wi(w.h,f))){if(!f.L&&Wi(w.h,f)&&w.I==3){try{var C=w.Ba.g.parse(_)}catch{C=null}if(Array.isArray(C)&&C.length==3){var G=C;if(G[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<f.F)Ao(w),hr(w);else break e;Aa(w),Pt(18)}}else w.xa=G[1],0<w.xa-w.K&&G[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=qi(p(w.Va,w),6e3));Qi(w.h)<=1&&w.ta&&(w.ta=void 0)}else is(w,11)}else if((f.L||w.g==f)&&Ao(w),!P(_))for(G=w.Ba.g.parse(_),_=0;_<G.length;_++){let Ke=G[_];const ct=Ke[0];if(!(ct<=w.K))if(w.K=ct,Ke=Ke[1],w.I==2)if(Ke[0]=="c"){w.M=Ke[1],w.ba=Ke[2];const Zn=Ke[3];Zn!=null&&(w.ka=Zn,w.j.info("VER="+w.ka));const ss=Ke[4];ss!=null&&(w.za=ss,w.j.info("SVER="+w.za));const Ci=Ke[5];Ci!=null&&typeof Ci=="number"&&Ci>0&&(C=1.5*Ci,w.O=C,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;const Ri=f.g;if(Ri){const xa=Ri.g?Ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xa){var $=C.h;$.g||xa.indexOf("spdy")==-1&&xa.indexOf("quic")==-1&&xa.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Kl($,$.h),$.h=null))}if(C.G){const xo=Ri.g?Ri.g.getResponseHeader("X-HTTP-Session-Id"):null;xo&&(C.wa=xo,We(C.J,C.G,xo))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-f.F,w.j.info("Handshake RTT: "+w.T+"ms")),C=w;var ue=f;if(C.na=ph(C,C.L?C.ba:null,C.W),ue.L){Xl(C.h,ue);var De=ue,Ct=C.O;Ct&&(De.H=Ct),De.D&&(Xi(De),Ki(De)),C.g=ue}else ch(C);w.i.length>0&&ns(w)}else Ke[0]!="stop"&&Ke[0]!="close"||is(w,7);else w.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?is(w,7):iu(w):Ke[0]!="noop"&&w.l&&w.l.qa(Ke),w.A=0)}}Fi(4)}catch{}}var Ot=class{constructor(f,_){this.g=f,this.map=_}};function Gl(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Qi(f){return f.h?1:f.g?f.g.size:0}function Wi(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Kl(f,_){f.g?f.g.add(_):f.h=_}function Xl(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Gl.prototype.cancel=function(){if(this.i=$l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function $l(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const w of f.g.values())_=_.concat(w.G);return _}return S(f.i)}var sh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vo(f,_){if(f){f=f.split("&");for(let w=0;w<f.length;w++){const C=f[w].indexOf("=");let G,$=null;C>=0?(G=f[w].substring(0,C),$=f[w].substring(C+1)):G=f[w],_(G,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function On(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof On?(this.l=f.l,Qt(this,f.j),this.o=f.o,this.g=f.g,sr(this,f.u),this.h=f.h,Ql(this,lh(f.i)),this.m=f.m):f&&(_=String(f).match(sh))?(this.l=!1,Qt(this,_[1]||"",!0),this.o=Zi(_[2]||""),this.g=Zi(_[3]||"",!0),sr(this,_[4]),this.h=Zi(_[5]||"",!0),Ql(this,_[6]||"",!0),this.m=Zi(_[7]||"")):(this.l=!1,this.i=new ar(null,this.l))}On.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(_a(_,_o,!0),":");var w=this.g;return(w||_=="file")&&(f.push("//"),(_=this.o)&&f.push(_a(_,_o,!0),"@"),f.push(Es(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&f.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&f.push("/"),f.push(_a(w,w.charAt(0)=="/"?Wl:rh,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",_a(w,ah)),f.join("")},On.prototype.resolve=function(f){const _=kt(this);let w=!!f.j;w?Qt(_,f.j):w=!!f.o,w?_.o=f.o:w=!!f.g,w?_.g=f.g:w=f.u!=null;var C=f.h;if(w)sr(_,f.u);else if(w=!!f.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var G=_.h.lastIndexOf("/");G!=-1&&(C=_.h.slice(0,G+1)+C)}if(G=C,G==".."||G==".")C="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){C=G.lastIndexOf("/",0)==0,G=G.split("/");const $=[];for(let ue=0;ue<G.length;){const De=G[ue++];De=="."?C&&ue==G.length&&$.push(""):De==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),C&&ue==G.length&&$.push("")):($.push(De),C=!0)}C=$.join("/")}else C=G}return w?_.h=C:w=f.i.toString()!=="",w?Ql(_,lh(f.i)):w=!!f.m,w&&(_.m=f.m),_};function kt(f){return new On(f)}function Qt(f,_,w){f.j=w?Zi(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function sr(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function Ql(f,_,w){_ instanceof ar?(f.i=_,bo(f.i,f.l)):(w||(_=_a(_,rr)),f.i=new ar(_,f.l))}function We(f,_,w){f.i.set(_,w)}function va(f){return We(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Zi(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function _a(f,_,w){return typeof f=="string"?(f=encodeURI(f).replace(_,En),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function En(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var _o=/[#\/\?@]/g,rh=/[#\?:]/g,Wl=/[#\?]/g,rr=/[#\?@]/g,ah=/#/g;function ar(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function wn(f){f.g||(f.g=new Map,f.h=0,f.i&&vo(f.i,function(_,w){f.add(decodeURIComponent(_.replace(/\+/g," ")),w)}))}t=ar.prototype,t.add=function(f,_){wn(this),this.i=null,f=or(this,f);let w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(_),this.h+=1,this};function oh(f,_){wn(f),_=or(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Zl(f,_){return wn(f),_=or(f,_),f.g.has(_)}t.forEach=function(f,_){wn(this),this.g.forEach(function(w,C){w.forEach(function(G){f.call(_,G,C,this)},this)},this)};function Jl(f,_){wn(f);let w=[];if(typeof _=="string")Zl(f,_)&&(w=w.concat(f.g.get(or(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)w=w.concat(f[_]);return w}t.set=function(f,_){return wn(this),this.i=null,f=or(this,f),Zl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=Jl(this,f),f.length>0?String(f[0]):_):_};function To(f,_,w){oh(f,_),w.length>0&&(f.i=null,f.g.set(or(f,_),S(w)),f.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let C=0;C<_.length;C++){var w=_[C];const G=Es(w);w=Jl(this,w);for(let $=0;$<w.length;$++){let ue=G;w[$]!==""&&(ue+="="+Es(w[$])),f.push(ue)}}return this.i=f.join("&")};function lh(f){const _=new ar;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function or(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function bo(f,_){_&&!f.j&&(wn(f),f.i=null,f.g.forEach(function(w,C){const G=C.toLowerCase();C!=G&&(oh(this,C),To(this,G,w))},f)),f.j=_}function Si(f,_){const w=new bi;if(u.Image){const C=new Image;C.onload=y(Qn,w,"TestLoadImage: loaded",!0,_,C),C.onerror=y(Qn,w,"TestLoadImage: error",!1,_,C),C.onabort=y(Qn,w,"TestLoadImage: abort",!1,_,C),C.ontimeout=y(Qn,w,"TestLoadImage: timeout",!1,_,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=f}else _(!1)}function eu(f,_){const w=new bi,C=new AbortController,G=setTimeout(()=>{C.abort(),Qn(w,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:C.signal}).then($=>{clearTimeout(G),$.ok?Qn(w,"TestPingServer: ok",!0,_):Qn(w,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),Qn(w,"TestPingServer: error",!1,_)})}function Qn(f,_,w,C,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),C(w)}catch{}}function lr(){this.g=new $c}function Ji(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Ji,Qc),Ji.prototype.g=function(){return new Ta(this.i,this.h)};function Ta(f,_){Tt.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Ta,Tt),t=Ta.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,Ai(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Eo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Eo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?ur(this):Ai(this),this.readyState==3&&Eo(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,ur(this))},t.Na=function(f){this.g&&(this.response=f,ur(this))},t.ga=function(){this.g&&ur(this)};function ur(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Ai(f)}t.setRequestHeader=function(f,_){this.A.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var w=_.next();!w.done;)w=w.value,f.push(w[0]+": "+w[1]),w=_.next();return f.join(`\r
`)};function Ai(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Wn(f){let _="";return xe(f,function(w,C){_+=C,_+=":",_+=w,_+=`\r
`}),_}function ba(f,_,w){e:{for(C in w){var C=!1;break e}C=!0}C||(w=Wn(w),typeof f=="string"?w!=null&&Es(w):We(f,_,w))}function et(f){Tt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(et,Tt);var es=/^https?$/i,tu=["POST","PUT"];t=et.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,_,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ql.g(),this.g.onreadystatechange=T(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch($){Ea(this,$);return}if(f=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var G in C)w.set(G,C[G]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const $ of C.keys())w.set($,C.get($));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(w.keys()).find($=>$.toLowerCase()=="content-type"),G=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(tu,_,void 0)>=0)||C||G||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ue]of w)this.g.setRequestHeader($,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch($){Ea(this,$)}};function Ea(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,nu(f),ws(f)}function nu(f){f.A||(f.A=!0,bt(f,"complete"),bt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,bt(this,"complete"),bt(this,"abort"),ws(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ws(this,!0)),et.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?wa(this):this.Xa())},t.Xa=function(){wa(this)};function wa(f){if(f.h&&typeof l<"u"){if(f.v&&xi(f)==4)setTimeout(f.Ca.bind(f),0);else if(bt(f,"readystatechange"),xi(f)==4){f.h=!1;try{const $=f.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var w;if(!(w=_)){var C;if(C=$===0){let ue=String(f.D).match(sh)[1]||null;!ue&&u.self&&u.self.location&&(ue=u.self.location.protocol.slice(0,-1)),C=!es.test(ue?ue.toLowerCase():"")}w=C}if(w)bt(f,"complete"),bt(f,"success");else{f.o=6;try{var G=xi(f)>2?f.g.statusText:""}catch{G=""}f.l=G+" ["+f.ca()+"]",nu(f)}}finally{ws(f)}}}}function ws(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const w=f.g;f.g=null,_||bt(f,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function xi(f){return f.g?f.g.readyState:0}t.ca=function(){try{return xi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),pm(_)}};function tn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ss(f){const _={};f=(f.g&&xi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<f.length;C++){if(P(f[C]))continue;var w=th(f[C]);const G=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const $=_[G]||[];_[G]=$,$.push(w)}Ve(_,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(f,_,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||_}function cr(f){this.za=0,this.i=[],this.j=new bi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ts("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ts("baseRetryDelayMs",5e3,f),this.Za=ts("retryDelaySeedMs",1e4,f),this.Ta=ts("forwardChannelMaxRetries",2,f),this.va=ts("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Gl(f&&f.concurrentRequestLimit),this.Ba=new lr,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=cr.prototype,t.ka=8,t.I=1,t.connect=function(f,_,w,C){Pt(0),this.W=f,this.H=_||{},w&&C!==void 0&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.J=ph(this,null,this.W),ns(this)};function iu(f){if(wo(f),f.I==3){var _=f.V++,w=kt(f.J);if(We(w,"SID",f.M),We(w,"RID",_),We(w,"TYPE","terminate"),Sa(f,w),_=new Ei(f,f.j,_),_.M=2,_.A=va(kt(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=_.A,w=!0),w||(_.g=gh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Ki(_)}mh(f)}function hr(f){f.g&&(ru(f),f.g.cancel(),f.g=null)}function wo(f){hr(f),f.v&&(u.clearTimeout(f.v),f.v=null),Ao(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function ns(f){if(!Yl(f.h)&&!f.m){f.m=!0;var _=f.Ea;re||x(),te||(re(),te=!0),N.add(_,f),f.D=0}}function So(f,_){return Qi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=qi(p(f.Ea,f,_),dh(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const G=new Ei(this,this.j,f);let $=this.o;if(this.U&&($?($=U($),ce($,this.U)):$=this.U),this.u!==null||this.R||(G.J=$,$=null),this.S)e:{for(var _=0,w=0;w<this.i.length;w++){t:{var C=this.i[w];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(_+=C,_>4096){_=w;break e}if(_===4096||w===this.i.length-1){_=w+1;break e}}_=1e3}else _=1e3;_=uh(this,G,_),w=kt(this.J),We(w,"RID",f),We(w,"CVER",22),this.G&&We(w,"X-HTTP-Session-Id",this.G),Sa(this,w),$&&(this.R?_="headers="+Es(Wn($))+"&"+_:this.u&&ba(w,this.u,$)),Kl(this.h,G),this.Ra&&We(w,"TYPE","init"),this.S?(We(w,"$req",_),We(w,"SID","null"),G.U=!0,Yi(G,w,null)):Yi(G,w,_),this.I=2}}else this.I==3&&(f?su(this,f):this.i.length==0||Yl(this.h)||su(this))};function su(f,_){var w;_?w=_.l:w=f.V++;const C=kt(f.J);We(C,"SID",f.M),We(C,"RID",w),We(C,"AID",f.K),Sa(f,C),f.u&&f.o&&ba(C,f.u,f.o),w=new Ei(f,f.j,w,f.D+1),f.u===null&&(w.J=f.o),_&&(f.i=_.G.concat(f.i)),_=uh(f,w,1e3),w.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Kl(f.h,w),Yi(w,C,_)}function Sa(f,_){f.H&&xe(f.H,function(w,C){We(_,C,w)}),f.l&&xe({},function(w,C){We(_,C,w)})}function uh(f,_,w){w=Math.min(f.i.length,w);const C=f.l?p(f.l.Ka,f.l,f):null;e:{var G=f.i;let De=-1;for(;;){const Ct=["count="+w];De==-1?w>0?(De=G[0].g,Ct.push("ofs="+De)):De=0:Ct.push("ofs="+De);let Ke=!0;for(let ct=0;ct<w;ct++){var $=G[ct].g;const Zn=G[ct].map;if($-=De,$<0)De=Math.max(0,G[ct].g-100),Ke=!1;else try{$="req"+$+"_"||"";try{var ue=Zn instanceof Map?Zn:Object.entries(Zn);for(const[ss,Ci]of ue){let Ri=Ci;h(Ci)&&(Ri=ir(Ci)),Ct.push($+ss+"="+encodeURIComponent(Ri))}}catch(ss){throw Ct.push($+"type="+encodeURIComponent("_badmap")),ss}}catch{C&&C(Zn)}}if(Ke){ue=Ct.join("&");break e}}ue=void 0}return f=f.i.splice(0,w),_.G=f,ue}function ch(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;re||x(),te||(re(),te=!0),N.add(_,f),f.A=0}}function Aa(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=qi(p(f.Da,f),dh(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,hh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=qi(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pt(10),hr(this),hh(this))};function ru(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function hh(f){f.g=new Ei(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=kt(f.na);We(_,"RID","rpc"),We(_,"SID",f.M),We(_,"AID",f.K),We(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&We(_,"TO",f.ia),We(_,"TYPE","xmlhttp"),Sa(f,_),f.u&&f.o&&ba(_,f.u,f.o),f.O&&(f.g.H=f.O);var w=f.g;f=f.ba,w.M=1,w.A=va(kt(_)),w.u=null,w.R=!0,go(w,f)}t.Va=function(){this.C!=null&&(this.C=null,hr(this),Aa(this),Pt(19))};function Ao(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function fh(f,_){var w=null;if(f.g==_){Ao(f),ru(f),f.g=null;var C=2}else if(Wi(f.h,_))w=_.G,Xl(f.h,_),C=1;else return;if(f.I!=0){if(_.o)if(C==1){w=_.u?_.u.length:0,_=Date.now()-_.F;var G=f.D;C=po(),bt(C,new Hi(C,w)),ns(f)}else ch(f);else if(G=_.m,G==3||G==0&&_.X>0||!(C==1&&So(f,_)||C==2&&Aa(f)))switch(w&&w.length>0&&(_=f.h,_.i=_.i.concat(w)),G){case 1:is(f,5);break;case 4:is(f,10);break;case 3:is(f,6);break;default:is(f,2)}}}function dh(f,_){let w=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(w*=2),w*_}function is(f,_){if(f.j.info("Error code "+_),_==2){var w=p(f.bb,f),C=f.Ua;const G=!C;C=new On(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Qt(C,"https"),va(C),G?Si(C.toString(),w):eu(C.toString(),w)}else Pt(2);f.I=0,f.l&&f.l.pa(_),mh(f),wo(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function mh(f){if(f.I=0,f.ja=[],f.l){const _=$l(f.h);(_.length!=0||f.i.length!=0)&&(R(f.ja,_),R(f.ja,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.oa()}}function ph(f,_,w){var C=w instanceof On?kt(w):new On(w);if(C.g!="")_&&(C.g=_+"."+C.g),sr(C,C.u);else{var G=u.location;C=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;const $=new On(null);C&&Qt($,C),_&&($.g=_),G&&sr($,G),w&&($.h=w),C=$}return w=f.G,_=f.wa,w&&_&&We(C,w,_),We(C,"VER",f.ka),Sa(f,C),C}function gh(f,_,w){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new et(new Ji({ab:w})):new et(f.ma),_.Fa(f.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yh(){}t=yh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function fr(){}fr.prototype.g=function(f,_){return new yn(f,_)};function yn(f,_){Tt.call(this),this.g=new cr(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!P(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new As(this)}v(yn,Tt),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){iu(this.g)},yn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var w={};w.__data__=f,f=w}else this.v&&(w={},w.__data__=ir(f),f=w);_.i.push(new Ot(_.Ya++,f)),_.I==3&&ns(_)},yn.prototype.N=function(){this.g.l=null,delete this.j,iu(this.g),delete this.g,yn.Z.N.call(this)};function vh(f){en.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const w in _){f=w;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(vh,en);function _h(){Xn.call(this),this.status=1}v(_h,Xn);function As(f){this.g=f}v(As,yh),As.prototype.ra=function(){bt(this.g,"a")},As.prototype.qa=function(f){bt(this.g,new vh(f))},As.prototype.pa=function(f){bt(this.g,new _h)},As.prototype.oa=function(){bt(this.g,"b")},fr.prototype.createWebChannel=fr.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,dC=function(){return new fr},fC=function(){return po()},hC=xt,Ry={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ga.NO_ERROR=0,ga.TIMEOUT=8,ga.HTTP_ERROR=6,qf=ga,Hl.COMPLETE="complete",cC=Hl,Wc.EventType=Ti,Ti.OPEN="a",Ti.CLOSE="b",Ti.ERROR="c",Ti.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Qu=Wc,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,uC=et}).apply(typeof If<"u"?If:typeof self<"u"?self:typeof window<"u"?window:{});const oS="@firebase/firestore",lS="4.9.2";class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let Vl="12.3.0";const to=new Fd("@firebase/firestore");function il(){return to.logLevel}function me(t,...e){if(to.logLevel<=Ue.DEBUG){const n=e.map(qv);to.debug(`Firestore (${Vl}): ${t}`,...n)}}function Ws(t,...e){if(to.logLevel<=Ue.ERROR){const n=e.map(qv);to.error(`Firestore (${Vl}): ${t}`,...n)}}function El(t,...e){if(to.logLevel<=Ue.WARN){const n=e.map(qv);to.warn(`Firestore (${Vl}): ${t}`,...n)}}function qv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Se(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,mC(t,s,n)}function mC(t,e,n){let s=`FIRESTORE (${Vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ws(s),new Error(s)}function $e(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||mC(e,a,s)}function Ie(t,e){return t}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class pC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class v6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(dn.UNAUTHENTICATED)))}shutdown(){}}class _6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class T6{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let s=this.i;const a=d=>this.i!==s?(s=this.i,n(d)):Promise.resolve();let l=new Gs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Gs,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Gs)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string",31837,{l:s}),new pC(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class b6{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class E6{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new b6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class uS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ui(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const s=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new uS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new uS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function S6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class Gv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=S6(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function ze(t,e){return t<e?-1:t>e?1:0}function Ny(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return zg(a)===zg(l)?ze(a,l):zg(a)?1:-1}return ze(t.length,e.length)}const A6=55296,x6=57343;function zg(t){const e=t.charCodeAt(0);return e>=A6&&e<=x6}function wl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const cS="__name__";class us{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return us.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof us?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=us.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return ze(e.length,n.length)}static compareSegments(e,n){const s=us.isNumericId(e),a=us.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?us.extractNumericId(e).compare(us.extractNumericId(n)):Ny(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xr.fromString(e.substring(4,e.length-2))}}class at extends us{construct(e,n,s){return new at(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const C6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends us{construct(e,n,s){return new un(e,n,s)}static isValidIdentifier(e){return C6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cS}static keyField(){return new un([cS])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new fe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new fe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(s+=h,a++):(l(),a++)}if(l(),u)throw new fe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(n)}static emptyPath(){return new un([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(at.fromString(e))}static fromName(e){return new ve(at.fromString(e).popFirst(5))}static empty(){return new ve(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new at(e.slice()))}}function gC(t,e,n){if(!n)throw new fe(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function R6(t,e,n,s){if(e===!0&&s===!0)throw new fe(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hS(t){if(!ve.isDocumentKey(t))throw new fe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fS(t){if(ve.isDocumentKey(t))throw new fe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Hd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function Mn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hd(t);throw new fe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function qt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Lc(t,e){if(!yC(t))throw new fe(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new fe(ne.INVALID_ARGUMENT,n);return!0}const dS=-62135596800,mS=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*mS);return new ut(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<dS)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mS}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lc(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-dS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:qt("string",ut._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new ut(0,0))}static max(){return new Re(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const _c=-1;function N6(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Re.fromTimestamp(s===1e9?new ut(n+1,0):new ut(n,s));return new ea(a,ve.empty(),e)}function I6(t){return new ea(t.readTime,t.key,_c)}class ea{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ea(Re.min(),ve.empty(),_c)}static max(){return new ea(Re.max(),ve.empty(),_c)}}function D6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}const M6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class P6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ol(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==M6)throw t;me("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,s)=>{n(e)}))}static reject(e){return new se(((n,s)=>{s(e)}))}static waitFor(e){return new se(((n,s)=>{let a=0,l=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&n()}),(d=>s(d)))})),u=!0,l===a&&n()}))}static or(e){let n=se.resolve(!1);for(const s of e)n=n.next((a=>a?se.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new se(((s,a)=>{const l=e.length,u=new Array(l);let h=0;for(let d=0;d<l;d++){const p=d;n(e[p]).next((y=>{u[p]=y,++h,h===l&&s(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new se(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function V6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function kl(t){return t.name==="IndexedDbTransactionError"}class qd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qd.ce=-1;const Yv=-1;function Gd(t){return t==null}function cd(t){return t===0&&1/t==-1/0}function O6(t){return typeof t=="number"&&Number.isInteger(t)&&!cd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const vC="";function k6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=pS(e)),e=L6(t.get(n),e);return pS(e)}function L6(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case vC:n+="";break;default:n+=l}}return n}function pS(t){return t+vC+""}function gS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function la(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _C(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class vt{constructor(e,n){this.comparator=e,this.root=n||ln.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Df(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Df(this.root,e,this.comparator,!1)}getReverseIterator(){return new Df(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Df(this.root,e,this.comparator,!0)}}class Df{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??ln.RED,this.left=a??ln.EMPTY,this.right=l??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new ln(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return ln.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yS(this.data.getIterator())}getIteratorFrom(e){return new yS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class yS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new qn([])}unionWith(e){let n=new Xt(un.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class TC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new TC("Invalid base64 string: "+l):l}})(e);return new cn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const j6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ta(t){if($e(!!t,39018),typeof t=="string"){let e=0;const n=j6.exec(t);if($e(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Dt(t.seconds),nanos:Dt(t.nanos)}}function Dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function na(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}const bC="server_timestamp",EC="__type__",wC="__previous_value__",SC="__local_write_time__";function Kv(t){return(t?.mapValue?.fields||{})[EC]?.stringValue===bC}function Yd(t){const e=t.mapValue.fields[wC];return Kv(e)?Yd(e):e}function Tc(t){const e=ta(t.mapValue.fields[SC].timestampValue);return new ut(e.seconds,e.nanos)}class U6{constructor(e,n,s,a,l,u,h,d,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=y}}const hd="(default)";class bc{constructor(e,n){this.projectId=e,this.database=n||hd}static empty(){return new bc("","")}get isDefaultDatabase(){return this.database===hd}isEqual(e){return e instanceof bc&&e.projectId===this.projectId&&e.database===this.database}}const AC="__type__",z6="__max__",Mf={mapValue:{}},xC="__vector__",fd="value";function ia(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kv(t)?4:F6(t)?9007199254740991:B6(t)?10:11:Se(28295,{value:t})}function _s(t,e){if(t===e)return!0;const n=ia(t);if(n!==ia(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tc(t).isEqual(Tc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=ta(a.timestampValue),h=ta(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return na(a.bytesValue).isEqual(na(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Dt(a.geoPointValue.latitude)===Dt(l.geoPointValue.latitude)&&Dt(a.geoPointValue.longitude)===Dt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Dt(a.integerValue)===Dt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Dt(a.doubleValue),h=Dt(l.doubleValue);return u===h?cd(u)===cd(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return wl(t.arrayValue.values||[],e.arrayValue.values||[],_s);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(gS(u)!==gS(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!_s(u[d],h[d])))return!1;return!0})(t,e);default:return Se(52216,{left:t})}}function Ec(t,e){return(t.values||[]).find((n=>_s(n,e)))!==void 0}function Sl(t,e){if(t===e)return 0;const n=ia(t),s=ia(e);if(n!==s)return ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=Dt(l.integerValue||l.doubleValue),d=Dt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return vS(t.timestampValue,e.timestampValue);case 4:return vS(Tc(t),Tc(e));case 5:return Ny(t.stringValue,e.stringValue);case 6:return(function(l,u){const h=na(l),d=na(u);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),d=u.split("/");for(let p=0;p<h.length&&p<d.length;p++){const y=ze(h[p],d[p]);if(y!==0)return y}return ze(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=ze(Dt(l.latitude),Dt(u.latitude));return h!==0?h:ze(Dt(l.longitude),Dt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return _S(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const h=l.fields||{},d=u.fields||{},p=h[fd]?.arrayValue,y=d[fd]?.arrayValue,v=ze(p?.values?.length||0,y?.values?.length||0);return v!==0?v:_S(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Mf.mapValue&&u===Mf.mapValue)return 0;if(l===Mf.mapValue)return 1;if(u===Mf.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),p=u.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const T=Ny(d[v],y[v]);if(T!==0)return T;const S=Sl(h[d[v]],p[y[v]]);if(S!==0)return S}return ze(d.length,y.length)})(t.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function vS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=ta(t),s=ta(e),a=ze(n.seconds,s.seconds);return a!==0?a:ze(n.nanos,s.nanos)}function _S(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Sl(n[a],s[a]);if(l)return l}return ze(n.length,s.length)}function Al(t){return Iy(t)}function Iy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=ta(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return na(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ve.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Iy(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${Iy(n.fields[u])}`;return a+"}"})(t.mapValue):Se(61005,{value:t})}function Gf(t){switch(ia(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yd(t);return e?16+Gf(e):16;case 5:return 2*t.stringValue.length;case 6:return na(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Gf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return la(s.fields,((l,u)=>{a+=l.length+Gf(u)})),a})(t.mapValue);default:throw Se(13486,{value:t})}}function TS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Dy(t){return!!t&&"integerValue"in t}function Xv(t){return!!t&&"arrayValue"in t}function bS(t){return!!t&&"nullValue"in t}function ES(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yf(t){return!!t&&"mapValue"in t}function B6(t){return(t?.mapValue?.fields||{})[AC]?.stringValue===xC}function ac(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return la(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=ac(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ac(t.arrayValue.values[n]);return e}return{...t}}function F6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===z6}class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Yf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ac(n)}setAll(e){let n=un.emptyPath(),s={},a=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,s,a),s={},a=[],n=h.popLast()}u?s[h.lastSegment()]=ac(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Yf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _s(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Yf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){la(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new In(ac(this.value))}}function CC(t){const e=[];return la(t.fields,((n,s)=>{const a=new un([n]);if(Yf(s)){const l=CC(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new qn(e)}class mn{constructor(e,n,s,a,l,u,h){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new mn(e,0,Re.min(),Re.min(),Re.min(),In.empty(),0)}static newFoundDocument(e,n,s,a){return new mn(e,1,n,Re.min(),s,a,0)}static newNoDocument(e,n){return new mn(e,2,n,Re.min(),Re.min(),In.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,Re.min(),Re.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dd{constructor(e,n){this.position=e,this.inclusive=n}}function wS(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=ve.comparator(ve.fromName(u.referenceValue),n.key):s=Sl(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function SS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_s(t.position[n],e.position[n]))return!1;return!0}class wc{constructor(e,n="asc"){this.field=e,this.dir=n}}function H6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class RC{}class Ht extends RC{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new G6(e,n,s):n==="array-contains"?new X6(e,s):n==="in"?new $6(e,s):n==="not-in"?new Q6(e,s):n==="array-contains-any"?new W6(e,s):new Ht(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Y6(e,s):new K6(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Sl(n,this.value)):n!==null&&ia(this.value)===ia(n)&&this.matchesComparison(Sl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ki extends RC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ki(e,n)}matches(e){return NC(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function NC(t){return t.op==="and"}function IC(t){return q6(t)&&NC(t)}function q6(t){for(const e of t.filters)if(e instanceof ki)return!1;return!0}function My(t){if(t instanceof Ht)return t.field.canonicalString()+t.op.toString()+Al(t.value);if(IC(t))return t.filters.map((e=>My(e))).join(",");{const e=t.filters.map((n=>My(n))).join(",");return`${t.op}(${e})`}}function DC(t,e){return t instanceof Ht?(function(s,a){return a instanceof Ht&&s.op===a.op&&s.field.isEqual(a.field)&&_s(s.value,a.value)})(t,e):t instanceof ki?(function(s,a){return a instanceof ki&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,h)=>l&&DC(u,a.filters[h])),!0):!1})(t,e):void Se(19439)}function MC(t){return t instanceof Ht?(function(n){return`${n.field.canonicalString()} ${n.op} ${Al(n.value)}`})(t):t instanceof ki?(function(n){return n.op.toString()+" {"+n.getFilters().map(MC).join(" ,")+"}"})(t):"Filter"}class G6 extends Ht{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class Y6 extends Ht{constructor(e,n){super(e,"in",n),this.keys=PC("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class K6 extends Ht{constructor(e,n){super(e,"not-in",n),this.keys=PC("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function PC(t,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class X6 extends Ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xv(n)&&Ec(n.arrayValue,this.value)}}class $6 extends Ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ec(this.value.arrayValue,n)}}class Q6 extends Ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ec(this.value.arrayValue,n)}}class W6 extends Ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ec(this.value.arrayValue,s)))}}class Z6{constructor(e,n=null,s=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function AS(t,e=null,n=[],s=[],a=null,l=null,u=null){return new Z6(t,e,n,s,a,l,u)}function $v(t){const e=Ie(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>My(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Gd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Al(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Al(s))).join(",")),e.Te=n}return e.Te}function Qv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!H6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!DC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!SS(t.startAt,e.startAt)&&SS(t.endAt,e.endAt)}function Py(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Ll{constructor(e,n=null,s=[],a=[],l=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function J6(t,e,n,s,a,l,u,h){return new Ll(t,e,n,s,a,l,u,h)}function Kd(t){return new Ll(t)}function xS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function VC(t){return t.collectionGroup!==null}function oc(t){const e=Ie(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Xt(un.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new wc(l,s))})),n.has(un.keyField().canonicalString())||e.Ie.push(new wc(un.keyField(),s))}return e.Ie}function fs(t){const e=Ie(t);return e.Ee||(e.Ee=e3(e,oc(t))),e.Ee}function e3(t,e){if(t.limitType==="F")return AS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new wc(a.field,l)}));const n=t.endAt?new dd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new dd(t.startAt.position,t.startAt.inclusive):null;return AS(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Vy(t,e){const n=t.filters.concat([e]);return new Ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function md(t,e,n){return new Ll(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xd(t,e){return Qv(fs(t),fs(e))&&t.limitType===e.limitType}function OC(t){return`${$v(fs(t))}|lt:${t.limitType}`}function sl(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>MC(a))).join(", ")}]`),Gd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Al(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Al(a))).join(",")),`Target(${s})`})(fs(t))}; limitType=${t.limitType})`}function $d(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ve.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of oc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,h,d){const p=wS(u,h,d);return u.inclusive?p<=0:p<0})(s.startAt,oc(s),a)||s.endAt&&!(function(u,h,d){const p=wS(u,h,d);return u.inclusive?p>=0:p>0})(s.endAt,oc(s),a))})(t,e)}function t3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kC(t){return(e,n)=>{let s=!1;for(const a of oc(t)){const l=n3(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function n3(t,e,n){const s=t.field.isKeyField()?ve.comparator(e.key,n.key):(function(l,u,h){const d=u.data.field(l),p=h.data.field(l);return d!==null&&p!==null?Sl(d,p):Se(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:t.dir})}}class ho{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return _C(this.inner)}size(){return this.innerSize}}const i3=new vt(ve.comparator);function Zs(){return i3}const LC=new vt(ve.comparator);function Wu(...t){let e=LC;for(const n of t)e=e.insert(n.key,n);return e}function jC(t){let e=LC;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ka(){return lc()}function UC(){return lc()}function lc(){return new ho((t=>t.toString()),((t,e)=>t.isEqual(e)))}const s3=new vt(ve.comparator),r3=new Xt(ve.comparator);function Be(...t){let e=r3;for(const n of t)e=e.add(n);return e}const a3=new Xt(ze);function o3(){return a3}function Wv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cd(e)?"-0":e}}function zC(t){return{integerValue:""+t}}function l3(t,e){return O6(e)?zC(e):Wv(t,e)}class Qd{constructor(){this._=void 0}}function u3(t,e,n){return t instanceof pd?(function(a,l){const u={fields:{[EC]:{stringValue:bC},[SC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Kv(l)&&(l=Yd(l)),l&&(u.fields[wC]=l),{mapValue:u}})(n,e):t instanceof Sc?FC(t,e):t instanceof Ac?HC(t,e):(function(a,l){const u=BC(a,l),h=CS(u)+CS(a.Ae);return Dy(u)&&Dy(a.Ae)?zC(h):Wv(a.serializer,h)})(t,e)}function c3(t,e,n){return t instanceof Sc?FC(t,e):t instanceof Ac?HC(t,e):n}function BC(t,e){return t instanceof gd?(function(s){return Dy(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class pd extends Qd{}class Sc extends Qd{constructor(e){super(),this.elements=e}}function FC(t,e){const n=qC(e);for(const s of t.elements)n.some((a=>_s(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Ac extends Qd{constructor(e){super(),this.elements=e}}function HC(t,e){let n=qC(e);for(const s of t.elements)n=n.filter((a=>!_s(a,s)));return{arrayValue:{values:n}}}class gd extends Qd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function CS(t){return Dt(t.integerValue||t.doubleValue)}function qC(t){return Xv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function h3(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Sc&&a instanceof Sc||s instanceof Ac&&a instanceof Ac?wl(s.elements,a.elements,_s):s instanceof gd&&a instanceof gd?_s(s.Ae,a.Ae):s instanceof pd&&a instanceof pd})(t.transform,e.transform)}class f3{constructor(e,n){this.version=e,this.transformResults=n}}class yi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yi}static exists(e){return new yi(void 0,e)}static updateTime(e){return new yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wd{}function GC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zv(t.key,yi.none()):new jc(t.key,t.data,yi.none());{const n=t.data,s=In.empty();let a=new Xt(un.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new ua(t.key,s,new qn(a.toArray()),yi.none())}}function d3(t,e,n){t instanceof jc?(function(a,l,u){const h=a.value.clone(),d=NS(a.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof ua?(function(a,l,u){if(!Kf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=NS(a.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(YC(a)),d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function uc(t,e,n,s){return t instanceof jc?(function(l,u,h,d){if(!Kf(l.precondition,u))return h;const p=l.value.clone(),y=IS(l.fieldTransforms,d,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof ua?(function(l,u,h,d){if(!Kf(l.precondition,u))return h;const p=IS(l.fieldTransforms,d,u),y=u.data;return y.setAll(YC(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,s):(function(l,u,h){return Kf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function m3(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=BC(s.transform,a||null);l!=null&&(n===null&&(n=In.empty()),n.set(s.field,l))}return n||null}function RS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&wl(s,a,((l,u)=>h3(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class jc extends Wd{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ua extends Wd{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function YC(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function NS(t,e,n){const s=new Map;$e(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,h=e.data.field(l.field);s.set(l.field,c3(u,h,n[a]))}return s}function IS(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,u3(l,u,e))}return s}class Zv extends Wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class p3 extends Wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class g3{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&d3(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=uc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=uc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=UC();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const d=GC(u,h);d!==null&&s.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&wl(this.mutations,e.mutations,((n,s)=>RS(n,s)))&&wl(this.baseMutations,e.baseMutations,((n,s)=>RS(n,s)))}}class Jv{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){$e(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return s3})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new Jv(e,n,s,a)}}class y3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class v3{constructor(e,n){this.count=e,this.unchangedNames=n}}var Bt,qe;function _3(t){switch(t){case ne.OK:return Se(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function KC(t){if(t===void 0)return Ws("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Bt.OK:return ne.OK;case Bt.CANCELLED:return ne.CANCELLED;case Bt.UNKNOWN:return ne.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return ne.INTERNAL;case Bt.UNAVAILABLE:return ne.UNAVAILABLE;case Bt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Bt.NOT_FOUND:return ne.NOT_FOUND;case Bt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Bt.ABORTED:return ne.ABORTED;case Bt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Bt.DATA_LOSS:return ne.DATA_LOSS;default:return Se(39323,{code:t})}}(qe=Bt||(Bt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function T3(){return new TextEncoder}const b3=new Xr([4294967295,4294967295],0);function DS(t){const e=T3().encode(t),n=new lC;return n.update(e),new Uint8Array(n.digest())}function MS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Xr([n,s],0),new Xr([a,l],0)]}class e0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Zu(`Invalid padding: ${n}`);if(s<0)throw new Zu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Zu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Zu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Xr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Xr.fromNumber(s)));return a.compare(b3)===1&&(a=new Xr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=DS(e),[s,a]=MS(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new e0(l,a,n);return s.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=DS(e),[s,a]=MS(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Uc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Zd(Re.min(),a,new vt(ze),Zs(),Be())}}class Uc{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Uc(s,n,Be(),Be(),Be())}}class Xf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class XC{constructor(e,n){this.targetId=e,this.Ce=n}}class $C{constructor(e,n,s=cn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class PS{constructor(){this.ve=0,this.Fe=VS(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),s=Be();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Se(38017,{changeType:l})}})),new Uc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=VS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class E3{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zs(),this.Je=Pf(),this.He=Pf(),this.Ye=new vt(ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Py(l))if(s===0){const u=new ve(l.path);this.et(n,u,mn.newNoDocument(u,Re.min()))}else $e(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const h=this.ut(e),d=h?this.ct(h,e,u):1;if(d!==0){this.it(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=na(s).toUint8Array()}catch(d){if(d instanceof TC)return El("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new e0(u,a,l)}catch(d){return El(d instanceof Zu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Py(h.target)){const d=new ve(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,mn.newNoDocument(d,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let s=Be();this.He.forEach(((l,u)=>{let h=!0;u.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Zd(e,n,this.Ye,this.je,s);return this.je=Zs(),this.Je=Pf(),this.He=Pf(),this.Ye=new vt(ze),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new PS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Xt(ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Xt(ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new PS),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Pf(){return new vt(ve.comparator)}function VS(){return new vt(ve.comparator)}const w3={asc:"ASCENDING",desc:"DESCENDING"},S3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},A3={and:"AND",or:"OR"};class x3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Oy(t,e){return t.useProto3Json||Gd(e)?e:{value:e}}function yd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function C3(t,e){return yd(t,e.toTimestamp())}function ds(t){return $e(!!t,49232),Re.fromTimestamp((function(n){const s=ta(n);return new ut(s.seconds,s.nanos)})(t))}function t0(t,e){return ky(t,e).canonicalString()}function ky(t,e){const n=(function(a){return new at(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function WC(t){const e=at.fromString(t);return $e(nR(e),10190,{key:e.toString()}),e}function Ly(t,e){return t0(t.databaseId,e.path)}function Bg(t,e){const n=WC(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(JC(n))}function ZC(t,e){return t0(t.databaseId,e)}function R3(t){const e=WC(t);return e.length===4?at.emptyPath():JC(e)}function jy(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JC(t){return $e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function OS(t,e,n){return{name:Ly(t,e),fields:n.value.mapValue.fields}}function N3(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?($e(y===void 0||typeof y=="string",58123),cn.fromBase64String(y||"")):($e(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),cn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const y=p.code===void 0?ne.UNKNOWN:KC(p.code);return new fe(y,p.message||"")})(u);n=new $C(s,a,l,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Bg(t,s.document.name),l=ds(s.document.updateTime),u=s.document.createTime?ds(s.document.createTime):Re.min(),h=new In({mapValue:{fields:s.document.fields}}),d=mn.newFoundDocument(a,l,u,h),p=s.targetIds||[],y=s.removedTargetIds||[];n=new Xf(p,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Bg(t,s.document),l=s.readTime?ds(s.readTime):Re.min(),u=mn.newNoDocument(a,l),h=s.removedTargetIds||[];n=new Xf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Bg(t,s.document),l=s.removedTargetIds||[];n=new Xf([],l,a,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new v3(a,l),h=s.targetId;n=new XC(h,u)}}return n}function I3(t,e){let n;if(e instanceof jc)n={update:OS(t,e.key,e.value)};else if(e instanceof Zv)n={delete:Ly(t,e.key)};else if(e instanceof ua)n={update:OS(t,e.key,e.data),updateMask:U3(e.fieldMask)};else{if(!(e instanceof p3))return Se(16599,{Vt:e.type});n={verify:Ly(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const h=u.transform;if(h instanceof pd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Sc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ac)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof gd)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Se(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:C3(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se(27497)})(t,e.precondition)),n}function D3(t,e){return t&&t.length>0?($e(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?ds(a.updateTime):ds(l);return u.isEqual(Re.min())&&(u=ds(l)),new f3(u,a.transformResults||[])})(n,e)))):[]}function M3(t,e){return{documents:[ZC(t,e.path)]}}function P3(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ZC(t,a);const l=(function(p){if(p.length!==0)return tR(ki.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(T){return{field:rl(T.field),direction:k3(T.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Oy(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function V3(t){let e=R3(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){$e(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const T=eR(v);return T instanceof ki&&IC(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(v){return v.map((T=>(function(R){return new wc(al(R.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(T)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let T;return T=typeof v=="object"?v.value:v,Gd(T)?null:T})(n.limit));let d=null;n.startAt&&(d=(function(v){const T=!!v.before,S=v.values||[];return new dd(S,T)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const T=!v.before,S=v.values||[];return new dd(S,T)})(n.endAt)),J6(e,a,u,l,h,"F",d,p)}function O3(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function eR(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=al(n.unaryFilter.field);return Ht.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=al(n.unaryFilter.field);return Ht.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=al(n.unaryFilter.field);return Ht.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=al(n.unaryFilter.field);return Ht.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ht.create(al(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ki.create(n.compositeFilter.filters.map((s=>eR(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(t):Se(30097,{filter:t})}function k3(t){return w3[t]}function L3(t){return S3[t]}function j3(t){return A3[t]}function rl(t){return{fieldPath:t.canonicalString()}}function al(t){return un.fromServerFormat(t.fieldPath)}function tR(t){return t instanceof Ht?(function(n){if(n.op==="=="){if(ES(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NAN"}};if(bS(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ES(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NOT_NAN"}};if(bS(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rl(n.field),op:L3(n.op),value:n.value}}})(t):t instanceof ki?(function(n){const s=n.getFilters().map((a=>tR(a)));return s.length===1?s[0]:{compositeFilter:{op:j3(n.op),filters:s}}})(t):Se(54877,{filter:t})}function U3(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function nR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Fr{constructor(e,n,s,a,l=Re.min(),u=Re.min(),h=cn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class z3{constructor(e){this.yt=e}}function B3(t){const e=V3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?md(e,e.limit,"L"):e}class F3{constructor(){this.Cn=new H3}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(ea.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(ea.min())}updateCollectionGroup(e,n,s){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class H3{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Xt(at.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Xt(at.comparator)).toArray()}}const kS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iR=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(iR,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);class xl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xl(0)}static cr(){return new xl(-1)}}const LS="LruGarbageCollector",q3=1048576;function jS([t,e],[n,s]){const a=ze(t,n);return a===0?ze(e,s):a}class G3{constructor(e){this.Ir=e,this.buffer=new Xt(jS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();jS(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Y3{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(LS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){kl(n)?me(LS,"Ignoring IndexedDB error during garbage collection: ",n):await Ol(n)}await this.Vr(3e5)}))}}class K3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(qd.ce);const s=new G3(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(kS)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kS):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,u,h,d,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(s=v,h=Date.now(),this.removeTargets(e,s,n)))).next((v=>(l=v,d=Date.now(),this.removeOrphanedDocuments(e,s)))).next((v=>(p=Date.now(),il()<=Ue.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-y}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function X3(t,e){return new K3(t,e)}class $3{constructor(){this.changes=new ho((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?se.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Q3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class W3{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&uc(s.mutation,a,qn.empty(),ut.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Be()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Be()){const a=Ka();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=Wu();return l.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=Ka();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Be())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,s,a){let l=Zs();const u=lc(),h=(function(){return lc()})();return n.forEach(((d,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof ua)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),uc(y.mutation,p,y.mutation.getFieldMask(),ut.now())):u.set(p.key,qn.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((p,y)=>u.set(p,y))),n.forEach(((p,y)=>h.set(p,new Q3(y,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const s=lc();let a=new vt(((u,h)=>u-h)),l=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let y=s.get(d)||qn.empty();y=h.applyToLocalView(p,y),s.set(d,y);const v=(a.get(h.batchId)||Be()).add(d);a=a.insert(h.batchId,v)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,y=d.value,v=UC();y.forEach((T=>{if(!l.has(T)){const S=GC(n.get(T),s.get(T));S!==null&&v.set(T,S),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return se.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(u){return ve.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):VC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):se.resolve(Ka());let h=_c,d=l;return u.next((p=>se.forEach(p,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?se.resolve():this.remoteDocumentCache.getEntry(e,y).next((T=>{d=d.insert(y,T)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,d,p,Be()))).next((y=>({batchId:h,changes:jC(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((s=>{let a=Wu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=Wu();return this.indexManager.getCollectionParents(e,l).next((h=>se.forEach(h,(d=>{const p=(function(v,T){return new Ll(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((y=>{y.forEach(((v,T)=>{u=u.insert(v,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((d,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,mn.newInvalidDocument(y)))}));let h=Wu();return u.forEach(((d,p)=>{const y=l.get(d);y!==void 0&&uc(y.mutation,p,qn.empty(),ut.now()),$d(n,p)&&(h=h.insert(d,p))})),h}))}}class Z3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ds(a.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:B3(a.bundledQuery),readTime:ds(a.readTime)}})(n)),se.resolve()}}class J3{constructor(){this.overlays=new vt(ve.comparator),this.qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ka();return se.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),se.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),se.resolve()}getOverlaysForCollection(e,n,s){const a=Ka(),l=n.length+1,u=new ve(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>s&&a.set(d.getKey(),d)}return se.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new vt(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=Ka(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=Ka(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=a)););return se.resolve(h)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new y3(n,s));let l=this.qr.get(n);l===void 0&&(l=Be(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class ej{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}class n0{constructor(){this.Qr=new Xt(Zt.$r),this.Ur=new Xt(Zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Zt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Zt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ve(new at([])),s=new Zt(n,e),a=new Zt(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new at([])),s=new Zt(n,e),a=new Zt(n,e+1);let l=Be();return this.Ur.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new Zt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||ze(e.Yr,n.Yr)}static Kr(e,n){return ze(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}class tj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Xt(Zt.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new g3(l,n,s,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new Zt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,n){return se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Yv:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Zt(n,0),a=new Zt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(u=>{const h=this.Xr(u.Yr);l.push(h)})),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Xt(ze);return n.forEach((a=>{const l=new Zt(a,0),u=new Zt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(h=>{s=s.add(h.Yr)}))})),se.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;ve.isDocumentKey(l)||(l=l.child(""));const u=new Zt(new ve(l),0);let h=new Xt(ze);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Yr)),!0)}),u),se.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){$e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return se.forEach(n.mutations,(a=>{const l=new Zt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Zt(n,0),a=this.Zr.firstAfterOrEqual(s);return se.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class nj{constructor(e){this.ri=e,this.docs=(function(){return new vt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return se.resolve(s?s.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let s=Zs();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():mn.newInvalidDocument(a))})),se.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Zs();const u=n.path,h=new ve(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||D6(I6(y),s)<=0||(a.has(y.key)||$d(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Se(9500)}ii(e,n){return se.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new ij(this)}getSize(e){return se.resolve(this.size)}}class ij extends $3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class sj{constructor(e){this.persistence=e,this.si=new ho((n=>$v(n)),Qv),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new n0,this.targetCount=0,this.ai=xl.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new xl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Pr(n),se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&s.get(h.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),se.waitFor(l).next((()=>a))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return se.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),se.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),se.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return se.resolve(s)}containsKey(e,n){return se.resolve(this._i.containsKey(n))}}class sR{constructor(e,n){this.ui={},this.overlays={},this.ci=new qd(0),this.li=!1,this.li=!0,this.hi=new ej,this.referenceDelegate=e(this),this.Pi=new sj(this),this.indexManager=new F3,this.remoteDocumentCache=(function(a){return new nj(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new z3(n),this.Ii=new Z3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new J3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new tj(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const a=new rj(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return se.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class rj extends P6{constructor(e){super(),this.currentSequenceNumber=e}}class i0{constructor(e){this.persistence=e,this.Ri=new n0,this.Vi=null}static mi(e){return new i0(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),se.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(s=>{const a=ve.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Re.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class vd{constructor(e,n){this.persistence=e,this.pi=new ho((s=>k6(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=X3(this,n)}static mi(e,n){return new vd(e,n)}Ei(){}di(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return se.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?se.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((h=>{h||(s++,l.removeEntry(u,Re.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gf(e.data.value)),n}br(e,n,s){return se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return se.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class s0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Be(),a=Be();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new s0(e,n.fromCache,s,a)}}class aj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class oj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Q4()?8:V6(gn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new aj;return this.Ss(e,n,u).next((h=>{if(l.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(il()<=Ue.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",sl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(il()<=Ue.DEBUG&&me("QueryEngine","Query:",sl(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(il()<=Ue.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",sl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fs(n))):se.resolve())}ys(e,n){if(xS(n))return se.resolve(null);let s=fs(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=md(n,null,"F"),s=fs(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=Be(...l);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,s).next((d=>{const p=this.Ds(n,h);return this.Cs(n,p,u,d.readTime)?this.ys(e,md(n,null,"F")):this.vs(e,p,n,d)}))))})))))}ws(e,n,s,a){return xS(n)||a.isEqual(Re.min())?se.resolve(null):this.ps.getDocuments(e,s).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,s,a)?se.resolve(null):(il()<=Ue.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),sl(n)),this.vs(e,u,n,N6(a,_c)).next((h=>h)))}))}Ds(e,n){let s=new Xt(kC(e));return n.forEach(((a,l)=>{$d(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return il()<=Ue.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",sl(n)),this.ps.getDocumentsMatchingQuery(e,n,ea.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const r0="LocalStore",lj=3e8;class uj{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new vt(ze),this.xs=new ho((l=>$v(l)),Qv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new W3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function cj(t,e,n,s){return new uj(t,e,n,s)}async function rR(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],h=[];let d=Be();for(const p of a){u.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(s,d).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function hj(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,p,y){const v=p.batch,T=v.keys();let S=se.resolve();return T.forEach((R=>{S=S.next((()=>y.getEntry(d,R))).next((D=>{const M=p.docVersions.get(R);$e(M!==null,48541),D.version.compareTo(M)<0&&(v.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),y.addEntry(D)))}))})),S.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let d=Be();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function aR(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function fj(t,e){const n=Ie(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((y,v)=>{const T=a.get(v);if(!T)return;h.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,v))));let S=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(cn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,s)),a=a.insert(v,S),(function(D,M,k){return D.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=lj?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(T,S,y)&&h.push(n.Pi.updateTargetData(l,S))}));let d=Zs(),p=Be();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(dj(l,u,e.documentUpdates).next((y=>{d=y.ks,p=y.qs}))),!s.isEqual(Re.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((v=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(y)}return se.waitFor(h).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,p))).next((()=>d))})).then((l=>(n.Ms=a,l)))}function dj(t,e,n){let s=Be(),a=Be();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=Zs();return n.forEach(((h,d)=>{const p=l.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Re.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):me(r0,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)})),{ks:u,qs:a}}))}function mj(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Yv),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function pj(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,se.resolve(a)):n.Pi.allocateTargetId(s).next((u=>(a=new Fr(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Uy(t,e,n){const s=Ie(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!kl(u))throw u;me(r0,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function US(t,e,n){const s=Ie(t);let a=Re.min(),l=Be();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,p,y){const v=Ie(d),T=v.xs.get(y);return T!==void 0?se.resolve(v.Ms.get(T)):v.Pi.getTargetData(p,y)})(s,u,fs(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,h.targetId).next((d=>{l=d}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,n?a:Re.min(),n?l:Be()))).next((h=>(gj(s,t3(e),h),{documents:h,Qs:l})))))}function gj(t,e,n){let s=t.Os.get(e)||Re.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class zS{constructor(){this.activeTargetIds=o3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yj{constructor(){this.Mo=new zS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new zS,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vj{Oo(e){}shutdown(){}}const BS="ConnectivityMonitor";class FS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(BS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(BS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vf=null;function zy(){return Vf===null?Vf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vf++,"0x"+Vf.toString(16)}const Fg="RestConnection",_j={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Tj{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===hd?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const u=zy(),h=this.zo(e,n.toUriEncodedString());me(Fg,`Sending RPC '${e}' ${u}:`,h,s);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,l);const{host:p}=new URL(h),y=Ml(p);return this.Jo(e,h,d,s,y).then((v=>(me(Fg,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw El(Fg,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",s),v}))}Ho(e,n,s,a,l,u){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=_j[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class bj{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const fn="WebChannelConnection";class Ej extends Tj{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const u=zy();return new Promise(((h,d)=>{const p=new uC;p.setWithCredentials(!0),p.listenOnce(cC.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case qf.NO_ERROR:const v=p.getResponseJson();me(fn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case qf.TIMEOUT:me(fn,`RPC '${e}' ${u} timed out`),d(new fe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case qf.HTTP_ERROR:const T=p.getStatus();if(me(fn,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const R=S?.error;if(R&&R.status&&R.message){const D=(function(k){const B=k.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(B)>=0?B:ne.UNKNOWN})(R.status);d(new fe(D,R.message))}else d(new fe(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new fe(ne.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{me(fn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);me(fn,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=zy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=dC(),h=fC(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,s),d.encodeInitMessageHeaders=!0;const y=l.join("");me(fn,`Creating RPC '${e}' stream ${a}: ${y}`,d);const v=u.createWebChannel(y,d);this.I_(v);let T=!1,S=!1;const R=new bj({Yo:M=>{S?me(fn,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(T||(me(fn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),T=!0),me(fn,`RPC '${e}' stream ${a} sending:`,M),v.send(M))},Zo:()=>v.close()}),D=(M,k,B)=>{M.listen(k,(F=>{try{B(F)}catch(oe){setTimeout((()=>{throw oe}),0)}}))};return D(v,Qu.EventType.OPEN,(()=>{S||(me(fn,`RPC '${e}' stream ${a} transport opened.`),R.o_())})),D(v,Qu.EventType.CLOSE,(()=>{S||(S=!0,me(fn,`RPC '${e}' stream ${a} transport closed`),R.a_(),this.E_(v))})),D(v,Qu.EventType.ERROR,(M=>{S||(S=!0,El(fn,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),R.a_(new fe(ne.UNAVAILABLE,"The operation could not be completed")))})),D(v,Qu.EventType.MESSAGE,(M=>{if(!S){const k=M.data[0];$e(!!k,16349);const B=k,F=B?.error||B[0]?.error;if(F){me(fn,`RPC '${e}' stream ${a} received error:`,F);const oe=F.status;let re=(function(x){const I=Bt[x];if(I!==void 0)return KC(I)})(oe),te=F.message;re===void 0&&(re=ne.INTERNAL,te="Unknown error status: "+oe+" with message "+F.message),S=!0,R.a_(new fe(re,te)),v.close()}else me(fn,`RPC '${e}' stream ${a} received:`,k),R.u_(k)}})),D(h,hC.STAT_EVENT,(M=>{M.stat===Ry.PROXY?me(fn,`RPC '${e}' stream ${a} detected buffering proxy`):M.stat===Ry.NOPROXY&&me(fn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Hg(){return typeof document<"u"?document:null}function Jd(t){return new x3(t,!0)}class oR{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const HS="PersistentStream";class lR{constructor(e,n,s,a,l,u,h,d){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Ws(n.toString()),Ws("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new fe(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(HS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(HS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wj extends lR{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=N3(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Re.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Re.min():u.readTime?ds(u.readTime):Re.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=jy(this.serializer),n.addTarget=(function(l,u){let h;const d=u.target;if(h=Py(d)?{documents:M3(l,d)}:{query:P3(l,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=QC(l,u.resumeToken);const p=Oy(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Re.min())>0){h.readTime=yd(l,u.snapshotVersion.toTimestamp());const p=Oy(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const s=O3(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=jy(this.serializer),n.removeTarget=e,this.q_(n)}}class Sj extends lR{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=D3(e.writeResults,e.commitTime),s=ds(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=jy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>I3(this.serializer,s)))};this.q_(n)}}class Aj{}class xj extends Aj{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,ky(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(ne.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,ky(n,s),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ne.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Cj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ws(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const no="RemoteStore";class Rj{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{fo(this)&&(me(no,"Restarting streams for network reachability change."),await(async function(d){const p=Ie(d);p.Ea.add(4),await zc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await em(p)})(this))}))})),this.Ra=new Cj(s,a)}}async function em(t){if(fo(t))for(const e of t.da)await e(!0)}async function zc(t){for(const e of t.da)await e(!1)}function uR(t,e){const n=Ie(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),u0(n)?l0(n):jl(n).O_()&&o0(n,e))}function a0(t,e){const n=Ie(t),s=jl(n);n.Ia.delete(e),s.O_()&&cR(n,e),n.Ia.size===0&&(s.O_()?s.L_():fo(n)&&n.Ra.set("Unknown"))}function o0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jl(t).Y_(e)}function cR(t,e){t.Va.Ue(e),jl(t).Z_(e)}function l0(t){t.Va=new E3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),jl(t).start(),t.Ra.ua()}function u0(t){return fo(t)&&!jl(t).x_()&&t.Ia.size>0}function fo(t){return Ie(t).Ea.size===0}function hR(t){t.Va=void 0}async function Nj(t){t.Ra.set("Online")}async function Ij(t){t.Ia.forEach(((e,n)=>{o0(t,e)}))}async function Dj(t,e){hR(t),u0(t)?(t.Ra.ha(e),l0(t)):t.Ra.set("Unknown")}async function Mj(t,e,n){if(t.Ra.set("Online"),e instanceof $C&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(s){me(no,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await _d(t,s)}else if(e instanceof Xf?t.Va.Ze(e):e instanceof XC?t.Va.st(e):t.Va.tt(e),!n.isEqual(Re.min()))try{const s=await aR(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const h=l.Va.Tt(u);return h.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,p)=>{const y=l.Ia.get(d);if(!y)return;l.Ia.set(d,y.withResumeToken(cn.EMPTY_BYTE_STRING,y.snapshotVersion)),cR(l,d);const v=new Fr(y.target,d,p,y.sequenceNumber);o0(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(s){me(no,"Failed to raise snapshot:",s),await _d(t,s)}}async function _d(t,e,n){if(!kl(e))throw e;t.Ea.add(1),await zc(t),t.Ra.set("Offline"),n||(n=()=>aR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(no,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await em(t)}))}function fR(t,e){return e().catch((n=>_d(t,n,e)))}async function tm(t){const e=Ie(t),n=sa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Yv;for(;Pj(e);)try{const a=await mj(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,Vj(e,a)}catch(a){await _d(e,a)}dR(e)&&mR(e)}function Pj(t){return fo(t)&&t.Ta.length<10}function Vj(t,e){t.Ta.push(e);const n=sa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function dR(t){return fo(t)&&!sa(t).x_()&&t.Ta.length>0}function mR(t){sa(t).start()}async function Oj(t){sa(t).ra()}async function kj(t){const e=sa(t);for(const n of t.Ta)e.ea(n.mutations)}async function Lj(t,e,n){const s=t.Ta.shift(),a=Jv.from(s,e,n);await fR(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await tm(t)}async function jj(t,e){e&&sa(t).X_&&await(async function(s,a){if((function(u){return _3(u)&&u!==ne.ABORTED})(a.code)){const l=s.Ta.shift();sa(s).B_(),await fR(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await tm(s)}})(t,e),dR(t)&&mR(t)}async function qS(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),me(no,"RemoteStore received new credentials");const s=fo(n);n.Ea.add(3),await zc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await em(n)}async function Uj(t,e){const n=Ie(t);e?(n.Ea.delete(2),await em(n)):e||(n.Ea.add(2),await zc(n),n.Ra.set("Unknown"))}function jl(t){return t.ma||(t.ma=(function(n,s,a){const l=Ie(n);return l.sa(),new wj(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:Nj.bind(null,t),t_:Ij.bind(null,t),r_:Dj.bind(null,t),H_:Mj.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),u0(t)?l0(t):t.Ra.set("Unknown")):(await t.ma.stop(),hR(t))}))),t.ma}function sa(t){return t.fa||(t.fa=(function(n,s,a){const l=Ie(n);return l.sa(),new Sj(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Oj.bind(null,t),r_:jj.bind(null,t),ta:kj.bind(null,t),na:Lj.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await tm(t)):(await t.fa.stop(),t.Ta.length>0&&(me(no,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class c0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,h=new c0(e,n,u,a,l);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function h0(t,e){if(Ws("AsyncQueue",`${e}: ${t}`),kl(t))return new fe(ne.UNAVAILABLE,`${e}: ${t}`);throw t}class ml{static emptySet(e){return new ml(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=Wu(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ml)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ml;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class GS{constructor(){this.ga=new vt(ve.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Cl{constructor(e,n,s,a,l,u,h,d,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Cl(e,n,ml.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class zj{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Bj{constructor(){this.queries=YS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Ie(n),l=a.queries;a.queries=YS(),l.forEach(((u,h)=>{for(const d of h.Sa)d.onError(s)}))})(this,new fe(ne.ABORTED,"Firestore shutting down"))}}function YS(){return new ho((t=>OC(t)),Xd)}async function f0(t,e){const n=Ie(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new zj,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=h0(u,`Initialization of query '${sl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&m0(n)}async function d0(t,e){const n=Ie(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Fj(t,e){const n=Ie(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.Sa)h.Fa(a)&&(s=!0);u.wa=a}}s&&m0(n)}function Hj(t,e,n){const s=Ie(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function m0(t){t.Ca.forEach((e=>{e.next()}))}var By,KS;(KS=By||(By={})).Ma="default",KS.Cache="cache";class p0{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Cl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==By.Cache}}class pR{constructor(e){this.key=e}}class gR{constructor(e){this.key=e}}class qj{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=kC(e),this.tu=new ml(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new GS,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const T=a.get(y),S=$d(this.query,v)?v:null,R=!!T&&this.mutatedKeys.has(T.key),D=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let M=!1;T&&S?T.data.isEqual(S.data)?R!==D&&(s.track({type:3,doc:S}),M=!0):this.su(T,S)||(s.track({type:2,doc:S}),M=!0,(d&&this.eu(S,d)>0||p&&this.eu(S,p)<0)&&(h=!0)):!T&&S?(s.track({type:0,doc:S}),M=!0):T&&!S&&(s.track({type:1,doc:T}),M=!0,(d||p)&&(h=!0)),M&&(S?(u=u.add(S),l=D?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Cs:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(S,R){const D=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:M})}};return D(S)-D(R)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(s),a=a??!1;const h=n&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,p=d!==this.Za;return this.Za=d,u.length!==0||p?{snapshot:new Cl(this.query,e.tu,l,u,e.mutatedKeys,d===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new GS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new gR(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new pR(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Cl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const g0="SyncEngine";class Gj{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Yj{constructor(e){this.key=e,this.hu=!1}}class Kj{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ho((h=>OC(h)),Xd),this.Iu=new Map,this.Eu=new Set,this.du=new vt(ve.comparator),this.Au=new Map,this.Ru=new n0,this.Vu={},this.mu=new Map,this.fu=xl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Xj(t,e,n=!0){const s=ER(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await yR(s,e,n,!0),a}async function $j(t,e){const n=ER(t);await yR(n,e,!0,!1)}async function yR(t,e,n,s){const a=await pj(t.localStore,fs(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return s&&(h=await Qj(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&uR(t.remoteStore,a),h}async function Qj(t,e,n,s,a){t.pu=(v,T,S)=>(async function(D,M,k,B){let F=M.view.ru(k);F.Cs&&(F=await US(D.localStore,M.query,!1).then((({documents:N})=>M.view.ru(N,F))));const oe=B&&B.targetChanges.get(M.targetId),re=B&&B.targetMismatches.get(M.targetId)!=null,te=M.view.applyChanges(F,D.isPrimaryClient,oe,re);return $S(D,M.targetId,te.au),te.snapshot})(t,v,T,S);const l=await US(t.localStore,e,!0),u=new qj(e,l.Qs),h=u.ru(l.documents),d=Uc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=u.applyChanges(h,t.isPrimaryClient,d);$S(t,n,p.au);const y=new Gj(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function Wj(t,e,n){const s=Ie(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!Xd(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Uy(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&a0(s.remoteStore,a.targetId),Fy(s,a.targetId)})).catch(Ol)):(Fy(s,a.targetId),await Uy(s.localStore,a.targetId,!0))}async function Zj(t,e){const n=Ie(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),a0(n.remoteStore,s.targetId))}async function Jj(t,e,n){const s=a5(t);try{const a=await(function(u,h){const d=Ie(u),p=ut.now(),y=h.reduce(((S,R)=>S.add(R.key)),Be());let v,T;return d.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let R=Zs(),D=Be();return d.Ns.getEntries(S,y).next((M=>{R=M,R.forEach(((k,B)=>{B.isValidDocument()||(D=D.add(k))}))})).next((()=>d.localDocuments.getOverlayedDocuments(S,R))).next((M=>{v=M;const k=[];for(const B of h){const F=m3(B,v.get(B.key).overlayedDocument);F!=null&&k.push(new ua(B.key,F,CC(F.value.mapValue),yi.exists(!0)))}return d.mutationQueue.addMutationBatch(S,p,k,h)})).next((M=>{T=M;const k=M.applyToLocalDocumentSet(v,D);return d.documentOverlayCache.saveOverlays(S,M.batchId,k)}))})).then((()=>({batchId:T.batchId,changes:jC(v)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,h,d){let p=u.Vu[u.currentUser.toKey()];p||(p=new vt(ze)),p=p.insert(h,d),u.Vu[u.currentUser.toKey()]=p})(s,a.batchId,n),await Bc(s,a.changes),await tm(s.remoteStore)}catch(a){const l=h0(a,"Failed to persist write");n.reject(l)}}async function vR(t,e){const n=Ie(t);try{const s=await fj(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&($e(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?$e(u.hu,14607):a.removedDocuments.size>0&&($e(u.hu,42227),u.hu=!1))})),await Bc(n,s,e)}catch(s){await Ol(s)}}function XS(t,e,n){const s=Ie(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const d=Ie(u);d.onlineState=h;let p=!1;d.queries.forEach(((y,v)=>{for(const T of v.Sa)T.va(h)&&(p=!0)})),p&&m0(d)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function e5(t,e,n){const s=Ie(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new vt(ve.comparator);u=u.insert(l,mn.newNoDocument(l,Re.min()));const h=Be().add(l),d=new Zd(Re.min(),new Map,new vt(ze),u,h);await vR(s,d),s.du=s.du.remove(l),s.Au.delete(e),y0(s)}else await Uy(s.localStore,e,!1).then((()=>Fy(s,e,n))).catch(Ol)}async function t5(t,e){const n=Ie(t),s=e.batch.batchId;try{const a=await hj(n.localStore,e);TR(n,s,null),_R(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Bc(n,a)}catch(a){await Ol(a)}}async function n5(t,e,n){const s=Ie(t);try{const a=await(function(u,h){const d=Ie(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return d.mutationQueue.lookupMutationBatch(p,h).next((v=>($e(v!==null,37113),y=v.keys(),d.mutationQueue.removeMutationBatch(p,v)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>d.localDocuments.getDocuments(p,y)))}))})(s.localStore,e);TR(s,e,n),_R(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Bc(s,a)}catch(a){await Ol(a)}}function _R(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function TR(t,e,n){const s=Ie(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Fy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||bR(t,s)}))}function bR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(a0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),y0(t))}function $S(t,e,n){for(const s of n)s instanceof pR?(t.Ru.addReference(s.key,e),i5(t,s)):s instanceof gR?(me(g0,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||bR(t,s.key)):Se(19791,{wu:s})}function i5(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(me(g0,"New document in limbo: "+n),t.Eu.add(s),y0(t))}function y0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ve(at.fromString(e)),s=t.fu.next();t.Au.set(s,new Yj(n)),t.du=t.du.insert(n,s),uR(t.remoteStore,new Fr(fs(Kd(n.path)),s,"TargetPurposeLimboResolution",qd.ce))}}async function Bc(t,e,n){const s=Ie(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,d)=>{u.push(s.pu(d,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(d.targetId)?.current;s.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){a.push(p);const y=s0.As(d.targetId,p);l.push(y)}})))})),await Promise.all(u),s.Pu.H_(a),await(async function(d,p){const y=Ie(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>se.forEach(p,(T=>se.forEach(T.Es,(S=>y.persistence.referenceDelegate.addReference(v,T.targetId,S))).next((()=>se.forEach(T.ds,(S=>y.persistence.referenceDelegate.removeReference(v,T.targetId,S)))))))))}catch(v){if(!kl(v))throw v;me(r0,"Failed to update sequence numbers: "+v)}for(const v of p){const T=v.targetId;if(!v.fromCache){const S=y.Ms.get(T),R=S.snapshotVersion,D=S.withLastLimboFreeSnapshotVersion(R);y.Ms=y.Ms.insert(T,D)}}})(s.localStore,l))}async function s5(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){me(g0,"User change. New user:",e.toKey());const s=await rR(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new fe(ne.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Bc(n,s.Ls)}}function r5(t,e){const n=Ie(t),s=n.Au.get(e);if(s&&s.hu)return Be().add(s.key);{let a=Be();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function ER(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=r5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=e5.bind(null,e),e.Pu.H_=Fj.bind(null,e.eventManager),e.Pu.yu=Hj.bind(null,e.eventManager),e}function a5(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=t5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=n5.bind(null,e),e}class Td{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return cj(this.persistence,new oj,e.initialUser,this.serializer)}Cu(e){return new sR(i0.mi,this.serializer)}Du(e){return new yj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Td.provider={build:()=>new Td};class o5 extends Td{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$e(this.persistence.referenceDelegate instanceof vd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Y3(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new sR((s=>vd.mi(s,n)),this.serializer)}}class Hy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>XS(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=s5.bind(null,this.syncEngine),await Uj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Bj})()}createDatastore(e){const n=Jd(e.databaseInfo.databaseId),s=(function(l){return new Ej(l)})(e.databaseInfo);return(function(l,u,h,d){return new xj(l,u,h,d)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,h){return new Rj(s,a,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>XS(this.syncEngine,n,0)),(function(){return FS.v()?new FS:new vj})())}createSyncEngine(e,n){return(function(a,l,u,h,d,p,y){const v=new Kj(a,l,u,h,d,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ie(n);me(no,"RemoteStore shutting down."),s.Ea.add(5),await zc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Hy.provider={build:()=>new Hy};class v0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ws("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ra="FirestoreClient";class l5{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=dn.UNAUTHENTICATED,this.clientId=Gv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{me(ra,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(me(ra,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=h0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function qg(t,e){t.asyncQueue.verifyOperationInProgress(),me(ra,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await rR(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function QS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await u5(t);me(ra,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>qS(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>qS(e.remoteStore,a))),t._onlineComponents=e}async function u5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(ra,"Using user provided OfflineComponentProvider");try{await qg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;El("Error using user provided cache. Falling back to memory cache: "+n),await qg(t,new Td)}}else me(ra,"Using default OfflineComponentProvider"),await qg(t,new o5(void 0));return t._offlineComponents}async function wR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(ra,"Using user provided OnlineComponentProvider"),await QS(t,t._uninitializedComponentsProvider._online)):(me(ra,"Using default OnlineComponentProvider"),await QS(t,new Hy))),t._onlineComponents}function c5(t){return wR(t).then((e=>e.syncEngine))}async function bd(t){const e=await wR(t),n=e.eventManager;return n.onListen=Xj.bind(null,e.syncEngine),n.onUnlisten=Wj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$j.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Zj.bind(null,e.syncEngine),n}function h5(t,e,n={}){const s=new Gs;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,p){const y=new v0({next:T=>{y.Nu(),u.enqueueAndForget((()=>d0(l,v)));const S=T.docs.has(h);!S&&T.fromCache?p.reject(new fe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&T.fromCache&&d&&d.source==="server"?p.reject(new fe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),v=new p0(Kd(h.path),y,{includeMetadataChanges:!0,qa:!0});return f0(l,v)})(await bd(t),t.asyncQueue,e,n,s))),s.promise}function f5(t,e,n={}){const s=new Gs;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,p){const y=new v0({next:T=>{y.Nu(),u.enqueueAndForget((()=>d0(l,v))),T.fromCache&&d.source==="server"?p.reject(new fe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),v=new p0(h,y,{includeMetadataChanges:!0,qa:!0});return f0(l,v)})(await bd(t),t.asyncQueue,e,n,s))),s.promise}function SR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const WS=new Map;const AR="firestore.googleapis.com",ZS=!0;class JS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AR,this.ssl=ZS}else this.host=e.host,this.ssl=e.ssl??ZS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<q3)throw new fe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}R6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SR(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nm{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new v6;switch(s.type){case"firstParty":return new E6(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=WS.get(n);s&&(me("ComponentProvider","Removing Datastore"),WS.delete(n),s.terminate())})(this),Promise.resolve()}}function d5(t,e,n,s={}){t=Mn(t,nm);const a=Ml(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(Wx(`https://${h}`),Zx("Firestore",!0)),l.host!==AR&&l.host!==h&&El("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:a,emulatorOptions:s};if(!Jr(d,u)&&(t._setSettings(d),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=dn.MOCK_USER;else{p=F4(s.mockUserToken,t._app?.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new fe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new dn(v)}t._authCredentials=new _6(new pC(p,y))}}class tr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new tr(this.firestore,e,this._query)}}class At{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Lc(n,At._jsonSchema))return new At(e,s||null,new ve(at.fromString(n.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:qt("string",At._jsonSchemaVersion),referencePath:qt("string")};class $r extends tr{constructor(e,n,s){super(e,n,Kd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new ve(e))}withConverter(e){return new $r(this.firestore,e,this._path)}}function Hr(t,e,...n){if(t=yt(t),gC("collection","path",e),t instanceof nm){const s=at.fromString(e,...n);return fS(s),new $r(t,null,s)}{if(!(t instanceof At||t instanceof $r))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(at.fromString(e,...n));return fS(s),new $r(t.firestore,null,s)}}function di(t,e,...n){if(t=yt(t),arguments.length===1&&(e=Gv.newId()),gC("doc","path",e),t instanceof nm){const s=at.fromString(e,...n);return hS(s),new At(t,null,new ve(s))}{if(!(t instanceof At||t instanceof $r))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(at.fromString(e,...n));return hS(s),new At(t.firestore,t instanceof $r?t.converter:null,new ve(s))}}const eA="AsyncQueue";class tA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oR(this,"async_queue_retry"),this._c=()=>{const s=Hg();s&&me(eA,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Hg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Hg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Gs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!kl(e))throw e;me(eA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ws("INTERNAL UNHANDLED ERROR: ",nA(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=c0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Se(47125,{Pc:nA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function nA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function iA(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class Js extends nm{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new tA,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tA(e),this._firestoreClient=void 0,await e}}}function m5(t,e){const n=typeof t=="object"?t:Hv(),s=typeof t=="string"?t:hd,a=co(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=z4("firestore");l&&d5(a,...l)}return a}function im(t){if(t._terminated)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||p5(t),t._firestoreClient}function p5(t){const e=t._freezeSettings(),n=(function(a,l,u,h){return new U6(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,SR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new l5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ci{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ci(cn.fromBase64String(e))}catch(n){throw new fe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ci(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lc(e,ci._jsonSchema))return ci.fromBase64String(e.bytes)}}ci._jsonSchemaVersion="firestore/bytes/1.0",ci._jsonSchema={type:qt("string",ci._jsonSchemaVersion),bytes:qt("string")};class sm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _0{constructor(e){this._methodName=e}}class ms{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ms._jsonSchemaVersion}}static fromJSON(e){if(Lc(e,ms._jsonSchema))return new ms(e.latitude,e.longitude)}}ms._jsonSchemaVersion="firestore/geoPoint/1.0",ms._jsonSchema={type:qt("string",ms._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};class ps{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ps._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lc(e,ps._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ps(e.vectorValues);throw new fe(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ps._jsonSchemaVersion="firestore/vectorValue/1.0",ps._jsonSchema={type:qt("string",ps._jsonSchemaVersion),vectorValues:qt("object")};const g5=/^__.*__$/;class y5{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ua(e,this.data,this.fieldMask,n,this.fieldTransforms):new jc(e,this.data,n,this.fieldTransforms)}}class xR{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ua(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function CR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:t})}}class T0{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new T0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ed(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(CR(this.Ac)&&g5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class v5{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Jd(e)}Cc(e,n,s,a=!1){return new T0({Ac:e,methodName:n,Dc:s,path:un.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rm(t){const e=t._freezeSettings(),n=Jd(t._databaseId);return new v5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RR(t,e,n,s,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);b0("Data must be an object, but it was:",u,s);const h=NR(s,u);let d,p;if(l.merge)d=new qn(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const T=qy(e,v,n);if(!u.contains(T))throw new fe(ne.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);DR(y,T)||y.push(T)}d=new qn(y),p=u.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,p=u.fieldTransforms;return new y5(new In(h),d,p)}class am extends _0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof am}}function _5(t,e,n,s){const a=t.Cc(1,e,n);b0("Data must be an object, but it was:",a,s);const l=[],u=In.empty();la(s,((d,p)=>{const y=E0(e,d,n);p=yt(p);const v=a.yc(y);if(p instanceof am)l.push(y);else{const T=Fc(p,v);T!=null&&(l.push(y),u.set(y,T))}}));const h=new qn(l);return new xR(u,h,a.fieldTransforms)}function T5(t,e,n,s,a,l){const u=t.Cc(1,e,n),h=[qy(e,s,n)],d=[a];if(l.length%2!=0)throw new fe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)h.push(qy(e,l[T])),d.push(l[T+1]);const p=[],y=In.empty();for(let T=h.length-1;T>=0;--T)if(!DR(p,h[T])){const S=h[T];let R=d[T];R=yt(R);const D=u.yc(S);if(R instanceof am)p.push(S);else{const M=Fc(R,D);M!=null&&(p.push(S),y.set(S,M))}}const v=new qn(p);return new xR(y,v,u.fieldTransforms)}function b5(t,e,n,s=!1){return Fc(n,t.Cc(s?4:3,e))}function Fc(t,e){if(IR(t=yt(t)))return b0("Unsupported field value:",e,t),NR(t,e);if(t instanceof _0)return(function(s,a){if(!CR(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const h of s){let d=Fc(h,a.wc(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=yt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return l3(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ut.fromDate(s);return{timestampValue:yd(a.serializer,l)}}if(s instanceof ut){const l=new ut(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:yd(a.serializer,l)}}if(s instanceof ms)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ci)return{bytesValue:QC(a.serializer,s._byteString)};if(s instanceof At){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:t0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ps)return(function(u,h){return{mapValue:{fields:{[AC]:{stringValue:xC},[fd]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return Wv(h.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Hd(s)}`)})(t,e)}function NR(t,e){const n={};return _C(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(t,((s,a)=>{const l=Fc(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function IR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof ms||t instanceof ci||t instanceof At||t instanceof _0||t instanceof ps)}function b0(t,e,n){if(!IR(n)||!yC(n)){const s=Hd(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function qy(t,e,n){if((e=yt(e))instanceof sm)return e._internalPath;if(typeof e=="string")return E0(t,e);throw Ed("Field path arguments must be of type string or ",t,!1,void 0,n)}const E5=new RegExp("[~\\*/\\[\\]]");function E0(t,e,n){if(e.search(E5)>=0)throw Ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sm(...e.split("."))._internalPath}catch{throw Ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ed(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${s}`),u&&(d+=` in document ${a}`),d+=")"),new fe(ne.INVALID_ARGUMENT,h+t+d)}function DR(t,e){return t.some((n=>n.isEqual(e)))}class MR{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new w5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(w0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class w5 extends MR{data(){return super.data()}}function w0(t,e){return typeof e=="string"?E0(t,e):e instanceof sm?e._internalPath:e._delegate._internalPath}function PR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class S0{}class A0 extends S0{}function S5(t,e,...n){let s=[];e instanceof S0&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((d=>d instanceof C0)).length,h=l.filter((d=>d instanceof x0)).length;if(u>1||u>0&&h>0)throw new fe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class x0 extends A0{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new x0(e,n,s)}_apply(e){const n=this._parse(e);return VR(e._query,n),new tr(e.firestore,e.converter,Vy(e._query,n))}_parse(e){const n=rm(e.firestore);return(function(l,u,h,d,p,y,v){let T;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){rA(v,y);const R=[];for(const D of v)R.push(sA(d,l,D));T={arrayValue:{values:R}}}else T=sA(d,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||rA(v,y),T=b5(h,u,v,y==="in"||y==="not-in");return Ht.create(p,y,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class C0 extends S0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new C0(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ki.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const h=l.getFlattenedFilters();for(const d of h)VR(u,d),u=Vy(u,d)})(e._query,n),new tr(e.firestore,e.converter,Vy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class R0 extends A0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new R0(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wc(l,u)})(e._query,this._field,this._direction);return new tr(e.firestore,e.converter,(function(a,l){const u=a.explicitOrderBy.concat([l]);return new Ll(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function A5(t,e="asc"){const n=e,s=w0("orderBy",t);return R0._create(s,n)}class N0 extends A0{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new N0(e,n,s)}_apply(e){return new tr(e.firestore,e.converter,md(e._query,this._limit,this._limitType))}}function x5(t){return N0._create("limit",t,"F")}function sA(t,e,n){if(typeof(n=yt(n))=="string"){if(n==="")throw new fe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VC(e)&&n.indexOf("/")!==-1)throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(at.fromString(n));if(!ve.isDocumentKey(s))throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return TS(t,new ve(s))}if(n instanceof At)return TS(t,n._key);throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hd(n)}.`)}function rA(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VR(t,e){const n=(function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class C5{convertValue(e,n="none"){switch(ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return la(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[fd].arrayValue?.values?.map((s=>Dt(s.doubleValue)));return new ps(n)}convertGeoPoint(e){return new ms(Dt(e.latitude),Dt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Yd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){const n=ta(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=at.fromString(e);$e(nR(s),9688,{name:e});const a=new bc(s.get(1),s.get(3)),l=new ve(s.popFirst(5));return a.isEqual(n)||Ws(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function OR(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class Ju{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wa extends MR{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(w0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Wa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wa._jsonSchema={type:qt("string",Wa._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class $f extends Wa{data(e={}){return super.data(e)}}class Za{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Ju(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new $f(this._firestore,this._userDataWriter,s.key,s,new Ju(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const d=new $f(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Ju(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new $f(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Ju(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:R5(h.type),doc:d,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Za._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function R5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}function wd(t){t=Mn(t,At);const e=Mn(t.firestore,Js);return h5(im(e),t._key).then((n=>LR(e,t,n)))}Za._jsonSchemaVersion="firestore/querySnapshot/1.0",Za._jsonSchema={type:qt("string",Za._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class I0 extends C5{constructor(e){super(),this.firestore=e}convertBytes(e){return new ci(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}function xc(t){t=Mn(t,tr);const e=Mn(t.firestore,Js),n=im(e),s=new I0(e);return PR(t._query),f5(n,t._query).then((a=>new Za(e,s,t,a)))}function Sd(t,e,n){t=Mn(t,At);const s=Mn(t.firestore,Js),a=OR(t.converter,e);return om(s,[RR(rm(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,yi.none())])}function Ad(t,e,n,...s){t=Mn(t,At);const a=Mn(t.firestore,Js),l=rm(a);let u;return u=typeof(e=yt(e))=="string"||e instanceof sm?T5(l,"updateDoc",t._key,e,n,s):_5(l,"updateDoc",t._key,e),om(a,[u.toMutation(t._key,yi.exists(!0))])}function kR(t){return om(Mn(t.firestore,Js),[new Zv(t._key,yi.none())])}function aA(t,e){const n=Mn(t.firestore,Js),s=di(t),a=OR(t.converter,e);return om(n,[RR(rm(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,yi.exists(!1))]).then((()=>s))}function N5(t,...e){t=yt(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||iA(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(iA(e[s])){const d=e[s];e[s]=d.next?.bind(d),e[s+1]=d.error?.bind(d),e[s+2]=d.complete?.bind(d)}let l,u,h;if(t instanceof At)u=Mn(t.firestore,Js),h=Kd(t._key.path),l={next:d=>{e[s]&&e[s](LR(u,t,d))},error:e[s+1],complete:e[s+2]};else{const d=Mn(t,tr);u=Mn(d.firestore,Js),h=d._query;const p=new I0(u);l={next:y=>{e[s]&&e[s](new Za(u,p,d,y))},error:e[s+1],complete:e[s+2]},PR(t._query)}return(function(p,y,v,T){const S=new v0(T),R=new p0(y,S,v);return p.asyncQueue.enqueueAndForget((async()=>f0(await bd(p),R))),()=>{S.Nu(),p.asyncQueue.enqueueAndForget((async()=>d0(await bd(p),R)))}})(im(u),h,a,l)}function om(t,e){return(function(s,a){const l=new Gs;return s.asyncQueue.enqueueAndForget((async()=>Jj(await c5(s),a,l))),l.promise})(im(t),e)}function LR(t,e,n){const s=n.docs.get(e._key),a=new I0(t);return new Wa(t,a,e._key,s,new Ju(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Vl=a})(Pl),vs(new Oi("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),h=new Js(new T6(s.getProvider("auth-internal")),new w6(u,s.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new fe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bc(p.options.projectId,y)})(u,a),u);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),gi(oS,lS,e),gi(oS,lS,"esm2020")})();function jR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const I5=jR,UR=new uo("auth","Firebase",jR());const xd=new Fd("@firebase/auth");function D5(t,...e){xd.logLevel<=Ue.WARN&&xd.warn(`Auth (${Pl}): ${t}`,...e)}function Qf(t,...e){xd.logLevel<=Ue.ERROR&&xd.error(`Auth (${Pl}): ${t}`,...e)}function Li(t,...e){throw D0(t,...e)}function gs(t,...e){return D0(t,...e)}function zR(t,e,n){const s={...I5(),[e]:n};return new uo("auth","Firebase",s).create(e,{appName:t.name})}function Ys(t){return zR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function D0(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return UR.create(t,...e)}function we(t,e,...n){if(!t)throw D0(e,...n)}function Fs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qf(e),new Error(e)}function er(t,e){t||Fs(e)}function Gy(){return typeof self<"u"&&self.location?.href||""}function M5(){return oA()==="http:"||oA()==="https:"}function oA(){return typeof self<"u"&&self.location?.protocol||null}function P5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(M5()||Jx()||"connection"in navigator)?navigator.onLine:!0}function V5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Hc{constructor(e,n){this.shortDelay=e,this.longDelay=n,er(n>e,"Short delay should be less than long delay!"),this.isMobile=G4()||X4()}get(){return P5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function M0(t,e){er(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class BR{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const O5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const k5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L5=new Hc(3e4,6e4);function ca(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ha(t,e,n,s,a={}){return FR(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const h=kc({key:t.config.apiKey,...u}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:d,...l};return K4()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Ml(t.emulatorConfig.host)&&(p.credentials="include"),BR.fetch()(await HR(t,t.config.apiHost,n,h),p)})}async function FR(t,e,n){t._canInitEmulator=!1;const s={...O5,...e};try{const a=new U5(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Of(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Of(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Of(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw Of(t,"user-disabled",u);const y=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw zR(t,y,p);Li(t,y)}}catch(a){if(a instanceof ji)throw a;Li(t,"network-request-failed",{message:String(a)})}}async function qc(t,e,n,s,a={}){const l=await ha(t,e,n,s,a);return"mfaPendingCredential"in l&&Li(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function HR(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?M0(t.config,a):`${t.config.apiScheme}://${a}`;return k5.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function j5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class U5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(gs(this.auth,"network-request-failed")),L5.get())})}}function Of(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=gs(t,e,s);return a.customData._tokenResponse=n,a}function lA(t){return t!==void 0&&t.enterprise!==void 0}class z5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return j5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function B5(t,e){return ha(t,"GET","/v2/recaptchaConfig",ca(t,e))}async function F5(t,e){return ha(t,"POST","/v1/accounts:delete",e)}async function Cd(t,e){return ha(t,"POST","/v1/accounts:lookup",e)}function cc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function H5(t,e=!1){const n=yt(t),s=await n.getIdToken(e),a=P0(s);we(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:cc(Gg(a.auth_time)),issuedAtTime:cc(Gg(a.iat)),expirationTime:cc(Gg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Gg(t){return Number(t)*1e3}function P0(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Qf("JWT malformed, contained fewer than 3 sections"),null;try{const a=Kx(n);return a?JSON.parse(a):(Qf("Failed to decode base64 JWT payload"),null)}catch(a){return Qf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function uA(t){const e=P0(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Cc(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ji&&q5(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function q5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class G5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Yy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cc(this.lastLoginAt),this.creationTime=cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Rd(t){const e=t.auth,n=await t.getIdToken(),s=await Cc(t,Cd(e,{idToken:n}));we(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?qR(a.providerUserInfo):[],u=K5(t.providerData,l),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!u?.length,p=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Yy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function Y5(t){const e=yt(t);await Rd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function K5(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function qR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function X5(t,e){const n=await FR(t,{},async()=>{const s=kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await HR(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:s};return t.emulatorConfig&&Ml(t.emulatorConfig.host)&&(d.credentials="include"),BR.fetch()(u,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $5(t,e){return ha(t,"POST","/v2/accounts:revokeToken",ca(t,e))}class pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=uA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await X5(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new pl;return s&&(we(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(we(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(we(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pl,this.toJSON())}_performRefresh(){return Fs("not implemented")}}function Or(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Vi{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new G5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Yy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Cc(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return H5(this,e)}reload(){return Y5(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Rd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(Ys(this.auth));const e=await this.getIdToken();return await Cc(this,F5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:T,isAnonymous:S,providerData:R,stsTokenManager:D}=n;we(v&&D,e,"internal-error");const M=pl.fromJSON(this.name,D);we(typeof v=="string",e,"internal-error"),Or(s,e.name),Or(a,e.name),we(typeof T=="boolean",e,"internal-error"),we(typeof S=="boolean",e,"internal-error"),Or(l,e.name),Or(u,e.name),Or(h,e.name),Or(d,e.name),Or(p,e.name),Or(y,e.name);const k=new Vi({uid:v,auth:e,email:a,emailVerified:T,displayName:s,isAnonymous:S,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:M,createdAt:p,lastLoginAt:y});return R&&Array.isArray(R)&&(k.providerData=R.map(B=>({...B}))),d&&(k._redirectEventId=d),k}static async _fromIdTokenResponse(e,n,s=!1){const a=new pl;a.updateFromServerResponse(n);const l=new Vi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Rd(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];we(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?qR(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new pl;h.updateFromIdToken(s);const d=new Vi({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Yy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,p),d}}const cA=new Map;function Hs(t){er(t instanceof Function,"Expected a class definition");let e=cA.get(t);return e?(er(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cA.set(t,e),e)}class GR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}GR.type="NONE";const hA=GR;function Wf(t,e,n){return`firebase:${t}:${e}:${n}`}class gl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Wf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Wf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Cd(this.auth,{idToken:e}).catch(()=>{});return n?Vi._fromGetAccountInfoResponse(this.auth,n,e):null}return Vi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new gl(Hs(hA),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Hs(hA);const u=Wf(s,e.config.apiKey,e.name);let h=null;for(const p of n)try{const y=await p._get(u);if(y){let v;if(typeof y=="string"){const T=await Cd(e,{idToken:y}).catch(()=>{});if(!T)break;v=await Vi._fromGetAccountInfoResponse(e,T,y)}else v=Vi._fromJSON(e,y);p!==l&&(h=v),l=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new gl(l,e,s):(l=d[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new gl(l,e,s))}}function fA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($R(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WR(e))return"Blackberry";if(ZR(e))return"Webos";if(KR(e))return"Safari";if((e.includes("chrome/")||XR(e))&&!e.includes("edge/"))return"Chrome";if(QR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function YR(t=gn()){return/firefox\//i.test(t)}function KR(t=gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XR(t=gn()){return/crios\//i.test(t)}function $R(t=gn()){return/iemobile/i.test(t)}function QR(t=gn()){return/android/i.test(t)}function WR(t=gn()){return/blackberry/i.test(t)}function ZR(t=gn()){return/webos/i.test(t)}function V0(t=gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Q5(t=gn()){return V0(t)&&!!window.navigator?.standalone}function W5(){return $4()&&document.documentMode===10}function JR(t=gn()){return V0(t)||QR(t)||ZR(t)||WR(t)||/windows phone/i.test(t)||$R(t)}function e2(t,e=[]){let n;switch(t){case"Browser":n=fA(gn());break;case"Worker":n=`${fA(gn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pl}/${s}`}class Z5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,h)=>{try{const d=e(l);u(d)}catch(d){h(d)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function J5(t,e={}){return ha(t,"GET","/v2/passwordPolicy",ca(t,e))}const eU=6;class tU{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??eU,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class nU{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dA(this),this.idTokenSubscription=new dA(this),this.beforeStateQueue=new Z5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await gl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Cd(this,{idToken:e}),s=await Vi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ui(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=V5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ui(this.app))return Promise.reject(Ys(this));const n=e?yt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(Ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ui(this.app)?Promise.reject(Ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await J5(this),n=new tU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uo("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await $5(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hs(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await gl.create(this,[Hs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,s,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=e2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&D5(`Error while retrieving App Check token: ${e.error}`),e?.token}}function mo(t){return yt(t)}class dA{constructor(e){this.auth=e,this.observer=null,this.addObserver=nL(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let lm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iU(t){lm=t}function t2(t){return lm.loadJS(t)}function sU(){return lm.recaptchaEnterpriseScript}function rU(){return lm.gapiScript}function aU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class oU{constructor(){this.enterprise=new lU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class lU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const uU="recaptcha-enterprise",n2="NO_RECAPTCHA";class cU{constructor(e){this.type=uU,this.auth=mo(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{B5(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new z5(d);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(d=>{h(d)})})}function a(l,u,h){const d=window.grecaptcha;lA(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(n2)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oU().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(h=>{if(!n&&lA(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=sU();d.length!==0&&(d+=h),t2(d).then(()=>{a(h,l,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function mA(t,e,n,s=!1,a=!1){const l=new cU(t);let u;if(a)u=n2;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Ky(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await mA(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await mA(t,e,n,n==="getOobCode");return s(t,u)}else return Promise.reject(l)})}function hU(t,e){const n=co(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Jr(l,e??{}))return a;Li(a,"already-initialized")}return n.initialize({options:e})}function fU(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Hs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function dU(t,e,n){const s=mo(t);we(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=i2(e),{host:u,port:h}=mU(e),d=h===null?"":`:${h}`,p={url:`${l}//${u}${d}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){we(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),we(Jr(p,s.config.emulator)&&Jr(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Ml(u)?(Wx(`${l}//${u}${d}`),Zx("Auth",!0)):pU()}function i2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mU(t){const e=i2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:pA(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:pA(u)}}}function pA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function pU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class O0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fs("not implemented")}_getIdTokenResponse(e){return Fs("not implemented")}_linkToIdToken(e,n){return Fs("not implemented")}_getReauthenticationResolver(e){return Fs("not implemented")}}async function gU(t,e){return ha(t,"POST","/v1/accounts:signUp",e)}async function yU(t,e){return qc(t,"POST","/v1/accounts:signInWithPassword",ca(t,e))}async function vU(t,e){return qc(t,"POST","/v1/accounts:signInWithEmailLink",ca(t,e))}async function _U(t,e){return qc(t,"POST","/v1/accounts:signInWithEmailLink",ca(t,e))}class Rc extends O0{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Rc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Rc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ky(e,n,"signInWithPassword",yU);case"emailLink":return vU(e,{email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ky(e,s,"signUpPassword",gU);case"emailLink":return _U(e,{idToken:n,email:this._email,oobCode:this._password});default:Li(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function yl(t,e){return qc(t,"POST","/v1/accounts:signInWithIdp",ca(t,e))}const TU="http://localhost";class io extends O0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new io(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Li("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new io(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return yl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,yl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yl(e,n)}buildRequest(){const e={requestUri:TU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kc(n)}return e}}function bU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EU(t){const e=Xu($u(t)).link,n=e?Xu($u(e)).deep_link_id:null,s=Xu($u(t)).deep_link_id;return(s?Xu($u(s)).link:null)||s||n||e||t}class k0{constructor(e){const n=Xu($u(e)),s=n.apiKey??null,a=n.oobCode??null,l=bU(n.mode??null);we(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=EU(e);try{return new k0(n)}catch{return null}}}class Ul{constructor(){this.providerId=Ul.PROVIDER_ID}static credential(e,n){return Rc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=k0.parseLink(n);return we(s,"argument-error"),Rc._fromEmailAndCode(e,s.code,s.tenantId)}}Ul.PROVIDER_ID="password";Ul.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ul.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class s2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Gc extends s2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Lr extends Gc{constructor(){super("facebook.com")}static credential(e){return io._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";class jr extends Gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return io._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return jr.credential(n,s)}catch{return null}}}jr.GOOGLE_SIGN_IN_METHOD="google.com";jr.PROVIDER_ID="google.com";class Ur extends Gc{constructor(){super("github.com")}static credential(e){return io._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";class zr extends Gc{constructor(){super("twitter.com")}static credential(e,n){return io._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return zr.credential(n,s)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";async function wU(t,e){return qc(t,"POST","/v1/accounts:signUp",ca(t,e))}class so{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Vi._fromIdTokenResponse(e,s,a),u=gA(s);return new so({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=gA(s);return new so({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function gA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Nd extends ji{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Nd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Nd(e,n,s,a)}}function r2(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Nd._fromErrorAndOperation(t,l,e,s):l})}async function SU(t,e,n=!1){const s=await Cc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return so._forOperation(t,"link",s)}async function AU(t,e,n=!1){const{auth:s}=t;if(ui(s.app))return Promise.reject(Ys(s));const a="reauthenticate";try{const l=await Cc(t,r2(s,a,e,t),n);we(l.idToken,s,"internal-error");const u=P0(l.idToken);we(u,s,"internal-error");const{sub:h}=u;return we(t.uid===h,s,"user-mismatch"),so._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Li(s,"user-mismatch"),l}}async function a2(t,e,n=!1){if(ui(t.app))return Promise.reject(Ys(t));const s="signIn",a=await r2(t,s,e),l=await so._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function xU(t,e){return a2(mo(t),e)}async function o2(t){const e=mo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function l2(t,e,n){if(ui(t.app))return Promise.reject(Ys(t));const s=mo(t),u=await Ky(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wU).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&o2(t),d}),h=await so._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(h.user),h}function CU(t,e,n){return ui(t.app)?Promise.reject(Ys(t)):xU(yt(t),Ul.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&o2(t),s})}function RU(t,e){return yt(t).setPersistence(e)}function NU(t,e,n,s){return yt(t).onIdTokenChanged(e,n,s)}function IU(t,e,n){return yt(t).beforeAuthStateChanged(e,n)}function u2(t,e,n,s){return yt(t).onAuthStateChanged(e,n,s)}function vl(t){return yt(t).signOut()}const Id="__sak";class c2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Id,"1"),this.storage.removeItem(Id),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const DU=1e3,MU=10;class h2 extends c2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);W5()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,MU):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},DU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}h2.type="LOCAL";const f2=h2;class d2 extends c2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}d2.type="SESSION";const m2=d2;function PU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class um{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new um(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const h=Array.from(u).map(async p=>p(n.origin,l)),d=await PU(h);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}um.receivers=[];function L0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class VU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,d)=>{const p=L0("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(v){const T=v;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(T.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function ys(){return window}function OU(t){ys().location.href=t}function p2(){return typeof ys().WorkerGlobalScope<"u"&&typeof ys().importScripts=="function"}async function kU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LU(){return navigator?.serviceWorker?.controller||null}function jU(){return p2()?self:null}const g2="firebaseLocalStorageDb",UU=1,Dd="firebaseLocalStorage",y2="fbase_key";class Yc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cm(t,e){return t.transaction([Dd],e?"readwrite":"readonly").objectStore(Dd)}function zU(){const t=indexedDB.deleteDatabase(g2);return new Yc(t).toPromise()}function Xy(){const t=indexedDB.open(g2,UU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Dd,{keyPath:y2})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Dd)?e(s):(s.close(),await zU(),e(await Xy()))})})}async function yA(t,e,n){const s=cm(t,!0).put({[y2]:e,value:n});return new Yc(s).toPromise()}async function BU(t,e){const n=cm(t,!1).get(e),s=await new Yc(n).toPromise();return s===void 0?null:s.value}function vA(t,e){const n=cm(t,!0).delete(e);return new Yc(n).toPromise()}const FU=800,HU=3;class v2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>HU)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=um._getInstance(jU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await kU(),!this.activeServiceWorker)return;this.sender=new VU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xy();return await yA(e,Id,"1"),await vA(e,Id),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>yA(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>BU(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=cm(a,!1).getAll();return new Yc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}v2.type="LOCAL";const qU=v2;new Hc(3e4,6e4);function GU(t,e){return e?Hs(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class j0 extends O0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YU(t){return a2(t.auth,new j0(t),t.bypassAuthState)}function KU(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),AU(n,new j0(t),t.bypassAuthState)}async function XU(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),SU(n,new j0(t),t.bypassAuthState)}class _2{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YU;case"linkViaPopup":case"linkViaRedirect":return XU;case"reauthViaPopup":case"reauthViaRedirect":return KU;default:Li(this.auth,"internal-error")}}resolve(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $U=new Hc(2e3,1e4);class fl extends _2{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,fl.currentPopupAction&&fl.currentPopupAction.cancel(),fl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const e=L0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(gs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$U.get())};e()}}fl.currentPopupAction=null;const QU="pendingRedirect",Zf=new Map;class WU extends _2{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Zf.get(this.auth._key());if(!e){try{const s=await ZU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Zf.set(this.auth._key(),e)}return this.bypassAuthState||Zf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZU(t,e){const n=t9(e),s=e9(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function JU(t,e){Zf.set(t._key(),e)}function e9(t){return Hs(t._redirectPersistence)}function t9(t){return Wf(QU,t.config.apiKey,t.name)}async function n9(t,e,n=!1){if(ui(t.app))return Promise.reject(Ys(t));const s=mo(t),a=GU(s,e),u=await new WU(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const i9=600*1e3;class s9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!r9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!T2(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(gs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=i9&&this.cachedEventUids.clear(),this.cachedEventUids.has(_A(e))}saveEventToCache(e){this.cachedEventUids.add(_A(e)),this.lastProcessedEventTime=Date.now()}}function _A(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function T2({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function r9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return T2(t);default:return!1}}async function a9(t,e={}){return ha(t,"GET","/v1/projects",e)}const o9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,l9=/^https?/;async function u9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await a9(t);for(const n of e)try{if(c9(n))return}catch{}Li(t,"unauthorized-domain")}function c9(t){const e=Gy(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!l9.test(n))return!1;if(o9.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const h9=new Hc(3e4,6e4);function TA(){const t=ys().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function f9(t){return new Promise((e,n)=>{function s(){TA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TA(),n(gs(t,"network-request-failed"))},timeout:h9.get()})}if(ys().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ys().gapi?.load)s();else{const a=aU("iframefcb");return ys()[a]=()=>{gapi.load?s():n(gs(t,"network-request-failed"))},t2(`${rU()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Jf=null,e})}let Jf=null;function d9(t){return Jf=Jf||f9(t),Jf}const m9=new Hc(5e3,15e3),p9="__/auth/iframe",g9="emulator/auth/iframe",y9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},v9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _9(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?M0(e,g9):`https://${t.config.authDomain}/${p9}`,s={apiKey:e.apiKey,appName:t.name,v:Pl},a=v9.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${kc(s).slice(1)}`}async function T9(t){const e=await d9(t),n=ys().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:_9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y9,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=gs(t,"network-request-failed"),h=ys().setTimeout(()=>{l(u)},m9.get());function d(){ys().clearTimeout(h),a(s)}s.ping(d).then(d,()=>{l(u)})}))}const b9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E9=500,w9=600,S9="_blank",A9="http://localhost";class bA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function x9(t,e,n,s=E9,a=w9){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const d={...b9,width:s.toString(),height:a.toString(),top:l,left:u},p=gn().toLowerCase();n&&(h=XR(p)?S9:n),YR(p)&&(e=e||A9,d.scrollbars="yes");const y=Object.entries(d).reduce((T,[S,R])=>`${T}${S}=${R},`,"");if(Q5(p)&&h!=="_self")return C9(e||"",h),new bA(null);const v=window.open(e||"",h,y);we(v,t,"popup-blocked");try{v.focus()}catch{}return new bA(v)}function C9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const R9="__/auth/handler",N9="emulator/auth/handler",I9=encodeURIComponent("fac");async function EA(t,e,n,s,a,l){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Pl,eventId:a};if(e instanceof s2){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",tL(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof Gc){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await t._getAppCheckToken(),p=d?`#${I9}=${encodeURIComponent(d)}`:"";return`${D9(t)}?${kc(h).slice(1)}${p}`}function D9({config:t}){return t.emulator?M0(t,N9):`https://${t.authDomain}/${R9}`}const Yg="webStorageSupport";class M9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=m2,this._completeRedirectFn=n9,this._overrideRedirectResult=JU}async _openPopup(e,n,s,a){er(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await EA(e,n,s,Gy(),a);return x9(e,l,L0())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await EA(e,n,s,Gy(),a);return OU(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(er(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await T9(e),s=new s9(e);return n.register("authEvent",a=>(we(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yg,{type:Yg},a=>{const l=a?.[0]?.[Yg];l!==void 0&&n(!!l),Li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=u9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return JR()||KR()||V0()}}const P9=M9;var wA="@firebase/auth",SA="1.11.1";class V9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function O9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function k9(t){vs(new Oi("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=s.options;we(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:e2(t)},p=new nU(s,a,l,d);return fU(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),vs(new Oi("auth-internal",e=>{const n=mo(e.getProvider("auth").getImmediate());return(s=>new V9(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gi(wA,SA,O9(t)),gi(wA,SA,"esm2020")}const L9=300,j9=Qx("authIdTokenMaxAge")||L9;let AA=null;const U9=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>j9)return;const a=n?.token;AA!==a&&(AA=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function z9(t=Hv()){const e=co(t,"auth");if(e.isInitialized())return e.getImmediate();const n=hU(t,{popupRedirectResolver:P9,persistence:[qU,f2,m2]}),s=Qx("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=U9(l.toString());IU(n,u,()=>u(n.currentUser)),NU(n,h=>u(h))}}const a=Xx("auth");return a&&dU(n,`http://${a}`),n}function B9(){return document.getElementsByTagName("head")?.[0]??document}iU({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=gs("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",B9().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});k9("Browser");const b2="@firebase/installations",U0="0.6.19";const E2=1e4,w2=`w:${U0}`,S2="FIS_v2",F9="https://firebaseinstallations.googleapis.com/v1",H9=3600*1e3,q9="installations",G9="Installations";const Y9={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ro=new uo(q9,G9,Y9);function A2(t){return t instanceof ji&&t.code.includes("request-failed")}function x2({projectId:t}){return`${F9}/projects/${t}/installations`}function C2(t){return{token:t.token,requestStatus:2,expiresIn:X9(t.expiresIn),creationTime:Date.now()}}async function R2(t,e){const s=(await e.json()).error;return ro.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function N2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function K9(t,{refreshToken:e}){const n=N2(t);return n.append("Authorization",$9(e)),n}async function I2(t){const e=await t();return e.status>=500&&e.status<600?t():e}function X9(t){return Number(t.replace("s","000"))}function $9(t){return`${S2} ${t}`}async function Q9({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=x2(t),a=N2(t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={fid:n,authVersion:S2,appId:t.appId,sdkVersion:w2},h={method:"POST",headers:a,body:JSON.stringify(u)},d=await I2(()=>fetch(s,h));if(d.ok){const p=await d.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:C2(p.authToken)}}else throw await R2("Create Installation",d)}function D2(t){return new Promise(e=>{setTimeout(e,t)})}function W9(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const Z9=/^[cdef][\w-]{21}$/,$y="";function J9(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=ez(t);return Z9.test(n)?n:$y}catch{return $y}}function ez(t){return W9(t).substr(0,22)}function hm(t){return`${t.appName}!${t.appId}`}const M2=new Map;function P2(t,e){const n=hm(t);V2(n,e),tz(n,e)}function V2(t,e){const n=M2.get(t);if(n)for(const s of n)s(e)}function tz(t,e){const n=nz();n&&n.postMessage({key:t,fid:e}),iz()}let Xa=null;function nz(){return!Xa&&"BroadcastChannel"in self&&(Xa=new BroadcastChannel("[Firebase] FID Change"),Xa.onmessage=t=>{V2(t.data.key,t.data.fid)}),Xa}function iz(){M2.size===0&&Xa&&(Xa.close(),Xa=null)}const sz="firebase-installations-database",rz=1,ao="firebase-installations-store";let Kg=null;function z0(){return Kg||(Kg=sC(sz,rz,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ao)}}})),Kg}async function Md(t,e){const n=hm(t),a=(await z0()).transaction(ao,"readwrite"),l=a.objectStore(ao),u=await l.get(n);return await l.put(e,n),await a.done,(!u||u.fid!==e.fid)&&P2(t,e.fid),e}async function O2(t){const e=hm(t),s=(await z0()).transaction(ao,"readwrite");await s.objectStore(ao).delete(e),await s.done}async function fm(t,e){const n=hm(t),a=(await z0()).transaction(ao,"readwrite"),l=a.objectStore(ao),u=await l.get(n),h=e(u);return h===void 0?await l.delete(n):await l.put(h,n),await a.done,h&&(!u||u.fid!==h.fid)&&P2(t,h.fid),h}async function B0(t){let e;const n=await fm(t.appConfig,s=>{const a=az(s),l=oz(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===$y?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function az(t){const e=t||{fid:J9(),registrationStatus:0};return k2(e)}function oz(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(ro.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=lz(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:uz(t)}:{installationEntry:e}}async function lz(t,e){try{const n=await Q9(t,e);return Md(t.appConfig,n)}catch(n){throw A2(n)&&n.customData.serverCode===409?await O2(t.appConfig):await Md(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function uz(t){let e=await xA(t.appConfig);for(;e.registrationStatus===1;)await D2(100),e=await xA(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await B0(t);return s||n}return e}function xA(t){return fm(t,e=>{if(!e)throw ro.create("installation-not-found");return k2(e)})}function k2(t){return cz(t)?{fid:t.fid,registrationStatus:0}:t}function cz(t){return t.registrationStatus===1&&t.registrationTime+E2<Date.now()}async function hz({appConfig:t,heartbeatServiceProvider:e},n){const s=fz(t,n),a=K9(t,n),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={installation:{sdkVersion:w2,appId:t.appId}},h={method:"POST",headers:a,body:JSON.stringify(u)},d=await I2(()=>fetch(s,h));if(d.ok){const p=await d.json();return C2(p)}else throw await R2("Generate Auth Token",d)}function fz(t,{fid:e}){return`${x2(t)}/${e}/authTokens:generate`}async function F0(t,e=!1){let n;const s=await fm(t.appConfig,l=>{if(!L2(l))throw ro.create("not-registered");const u=l.authToken;if(!e&&pz(u))return l;if(u.requestStatus===1)return n=dz(t,e),l;{if(!navigator.onLine)throw ro.create("app-offline");const h=yz(l);return n=mz(t,h),h}});return n?await n:s.authToken}async function dz(t,e){let n=await CA(t.appConfig);for(;n.authToken.requestStatus===1;)await D2(100),n=await CA(t.appConfig);const s=n.authToken;return s.requestStatus===0?F0(t,e):s}function CA(t){return fm(t,e=>{if(!L2(e))throw ro.create("not-registered");const n=e.authToken;return vz(n)?{...e,authToken:{requestStatus:0}}:e})}async function mz(t,e){try{const n=await hz(t,e),s={...e,authToken:n};return await Md(t.appConfig,s),n}catch(n){if(A2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await O2(t.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Md(t.appConfig,s)}throw n}}function L2(t){return t!==void 0&&t.registrationStatus===2}function pz(t){return t.requestStatus===2&&!gz(t)}function gz(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+H9}function yz(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function vz(t){return t.requestStatus===1&&t.requestTime+E2<Date.now()}async function _z(t){const e=t,{installationEntry:n,registrationPromise:s}=await B0(e);return s?s.catch(console.error):F0(e).catch(console.error),n.fid}async function Tz(t,e=!1){const n=t;return await bz(n),(await F0(n,e)).token}async function bz(t){const{registrationPromise:e}=await B0(t);e&&await e}function Ez(t){if(!t||!t.options)throw Xg("App Configuration");if(!t.name)throw Xg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Xg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Xg(t){return ro.create("missing-app-config-values",{valueName:t})}const j2="installations",wz="installations-internal",Sz=t=>{const e=t.getProvider("app").getImmediate(),n=Ez(e),s=co(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},Az=t=>{const e=t.getProvider("app").getImmediate(),n=co(e,j2).getImmediate();return{getId:()=>_z(n),getToken:a=>Tz(n,a)}};function xz(){vs(new Oi(j2,Sz,"PUBLIC")),vs(new Oi(wz,Az,"PRIVATE"))}xz();gi(b2,U0);gi(b2,U0,"esm2020");const Pd="analytics",Cz="firebase_id",Rz="origin",Nz=60*1e3,Iz="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",H0="https://www.googletagmanager.com/gtag/js";const Tn=new Fd("@firebase/analytics");const Dz={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Gn=new uo("analytics","Analytics",Dz);function Mz(t){if(!t.startsWith(H0)){const e=Gn.create("invalid-gtag-resource",{gtagURL:t});return Tn.warn(e.message),""}return t}function U2(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Pz(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Vz(t,e){const n=Pz("firebase-js-sdk-policy",{createScriptURL:Mz}),s=document.createElement("script"),a=`${H0}?l=${t}&id=${e}`;s.src=n?n?.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function Oz(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function kz(t,e,n,s,a,l){const u=s[a];try{if(u)await e[u];else{const d=(await U2(n)).find(p=>p.measurementId===a);d&&await e[d.appId]}}catch(h){Tn.error(h)}t("config",a,l)}async function Lz(t,e,n,s,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const h=await U2(n);for(const d of u){const p=h.find(v=>v.measurementId===d),y=p&&e[p.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",s,a||{})}catch(l){Tn.error(l)}}function jz(t,e,n,s){async function a(l,...u){try{if(l==="event"){const[h,d]=u;await Lz(t,e,n,h,d)}else if(l==="config"){const[h,d]=u;await kz(t,e,n,s,h,d)}else if(l==="consent"){const[h,d]=u;t("consent",h,d)}else if(l==="get"){const[h,d,p]=u;t("get",h,d,p)}else if(l==="set"){const[h]=u;t("set",h)}else t(l,...u)}catch(h){Tn.error(h)}}return a}function Uz(t,e,n,s,a){let l=function(...u){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=jz(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function zz(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(H0)&&n.src.includes(t))return n;return null}const Bz=30,Fz=1e3;class Hz{constructor(e={},n=Fz){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const z2=new Hz;function qz(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Gz(t){const{appId:e,apiKey:n}=t,s={method:"GET",headers:qz(n)},a=Iz.replace("{app-id}",e),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let u="";try{const h=await l.json();h.error?.message&&(u=h.error.message)}catch{}throw Gn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function Yz(t,e=z2,n){const{appId:s,apiKey:a,measurementId:l}=t.options;if(!s)throw Gn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:s};throw Gn.create("no-api-key")}const u=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new $z;return setTimeout(async()=>{h.abort()},Nz),B2({appId:s,apiKey:a,measurementId:l},u,h,e)}async function B2(t,{throttleEndTimeMillis:e,backoffCount:n},s,a=z2){const{appId:l,measurementId:u}=t;try{await Kz(s,e)}catch(h){if(u)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:l,measurementId:u};throw h}try{const h=await Gz(t);return a.deleteThrottleMetadata(l),h}catch(h){const d=h;if(!Xz(d)){if(a.deleteThrottleMetadata(l),u)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:u};throw h}const p=Number(d?.customData?.httpStatus)===503?Ww(n,a.intervalMillis,Bz):Ww(n,a.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return a.setThrottleMetadata(l,y),Tn.debug(`Calling attemptFetch again in ${p} millis`),B2(t,y,s,a)}}function Kz(t,e){return new Promise((n,s)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),s(Gn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Xz(t){if(!(t instanceof ji)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class $z{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Qz(t,e,n,s,a){if(a&&a.global){t("event",n,s);return}else{const l=await e,u={...s,send_to:l};t("event",n,u)}}async function Wz(t,e,n,s){if(s&&s.global){const a={};for(const l of Object.keys(n))a[`user_properties.${l}`]=n[l];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}async function Zz(){if(eC())try{await tC()}catch(t){return Tn.warn(Gn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Tn.warn(Gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Jz(t,e,n,s,a,l,u){const h=Yz(t);h.then(T=>{n[T.measurementId]=T.appId,t.options.measurementId&&T.measurementId!==t.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>Tn.error(T)),e.push(h);const d=Zz().then(T=>{if(T)return s.getId()}),[p,y]=await Promise.all([h,d]);zz(l)||Vz(l,p.measurementId),a("js",new Date);const v=u?.config??{};return v[Rz]="firebase",v.update=!0,y!=null&&(v[Cz]=y),a("config",p.measurementId,v),p.measurementId}class eB{constructor(e){this.app=e}_delete(){return delete _l[this.app.options.appId],Promise.resolve()}}let _l={},RA=[];const NA={};let $g="dataLayer",tB="gtag",IA,q0,DA=!1;function nB(){const t=[];if(Jx()&&t.push("This is a browser extension environment."),W4()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,a)=>`(${a+1}) ${s}`).join(" "),n=Gn.create("invalid-analytics-context",{errorInfo:e});Tn.warn(n.message)}}function iB(t,e,n){nB();const s=t.options.appId;if(!s)throw Gn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Gn.create("no-api-key");if(_l[s]!=null)throw Gn.create("already-exists",{id:s});if(!DA){Oz($g);const{wrappedGtag:l,gtagCore:u}=Uz(_l,RA,NA,$g,tB);q0=l,IA=u,DA=!0}return _l[s]=Jz(t,RA,NA,e,IA,$g,n),new eB(t)}function sB(t=Hv()){t=yt(t);const e=co(t,Pd);return e.isInitialized()?e.getImmediate():rB(t)}function rB(t,e={}){const n=co(t,Pd);if(n.isInitialized()){const a=n.getImmediate();if(Jr(e,n.getOptions()))return a;throw Gn.create("already-initialized")}return n.initialize({options:e})}function aB(t,e,n){t=yt(t),Wz(q0,_l[t.app.options.appId],e,n).catch(s=>Tn.error(s))}function oB(t,e,n,s){t=yt(t),Qz(q0,_l[t.app.options.appId],e,n,s).catch(a=>Tn.error(a))}const MA="@firebase/analytics",PA="0.10.19";function lB(){vs(new Oi(Pd,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return iB(s,a,n)},"PUBLIC")),vs(new Oi("analytics-internal",t,"PRIVATE")),gi(MA,PA),gi(MA,PA,"esm2020");function t(e){try{const n=e.getProvider(Pd).getImmediate();return{logEvent:(s,a,l)=>oB(n,s,a,l),setUserProperties:(s,a)=>aB(n,s,a)}}catch(n){throw Gn.create("interop-component-reg-failed",{reason:n})}}}lB();const uB={apiKey:"AIzaSyD-GIU-_XMDNkFNyYpBGfrcuAqypNCboxk",authDomain:"mit-mess-23f98.firebaseapp.com",projectId:"mit-mess-23f98",storageBucket:"mit-mess-23f98.firebasestorage.app",messagingSenderId:"286644195454",appId:"1:286644195454:web:97f456209765291e37082f",measurementId:"G-2TSYYR3ZYM"},G0=rC(uB),Yt=m5(G0),Hn=z9(G0);sB(G0);const cB=()=>{const[t,e]=V.useState(""),[n,s]=V.useState([]),[a,l]=V.useState(!0);V.useEffect(()=>{const d=N5(Hr(Yt,"messes"),p=>{const y=p.docs.map(v=>({id:v.id,...v.data()}));s(y),l(!1)});return()=>d()},[]);const h=(()=>{const d=t.toLowerCase();if(!d)return n.sort((T,S)=>{const R=localStorage.getItem("lastViewedMess");return R?T.id===R?-1:S.id===R?1:0:0}).map(T=>({...T,type:"mess"}));const p=Hx.filter(T=>T.name.toLowerCase().includes(d)).map(T=>({...T,type:"restaurant"})),y=n.filter(T=>T.name.toLowerCase().includes(d)).map(T=>({...T,type:"mess"})),v=n.filter(T=>T.name.toLowerCase().includes(d)||!T.menu?!1:Object.values(T.menu).some(S=>Object.values(S).some(R=>R&&R.toLowerCase().includes(d)))).map(T=>({...T,type:"mess"}));return[...p,...y,...v]})();return E.jsxs("div",{className:"min-h-screen bg-gray-50 relative selection:bg-orange-200 selection:text-orange-900",children:[E.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[E.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),E.jsx("div",{className:"absolute top-0 -left-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"}),E.jsx("div",{className:"absolute -bottom-40 left-20 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-4000"})]}),E.jsx(zd,{searchTerm:t,setSearchTerm:e}),E.jsxs("main",{className:"relative z-10 pt-20 pb-12 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto flex flex-col min-h-[calc(100vh-80px)]",children:[E.jsx("div",{className:"flex-grow",children:a?E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-8",children:[1,2,3,4,5,6].map(d=>E.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-sm border border-gray-100 h-full flex flex-col",children:[E.jsx("div",{className:"h-48 w-full skeleton-loader"}),E.jsxs("div",{className:"p-6 space-y-4 flex-grow",children:[E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsx("div",{className:"h-6 w-3/4 rounded skeleton-loader"}),E.jsx("div",{className:"h-6 w-16 rounded-full skeleton-loader"})]}),E.jsxs("div",{className:"space-y-2",children:[E.jsx("div",{className:"h-4 w-full rounded skeleton-loader"}),E.jsx("div",{className:"h-4 w-5/6 rounded skeleton-loader"})]}),E.jsxs("div",{className:"pt-4 mt-auto flex justify-between items-center",children:[E.jsx("div",{className:"h-8 w-24 rounded-lg skeleton-loader"}),E.jsx("div",{className:"h-8 w-8 rounded-full skeleton-loader"})]})]})]},d))}):E.jsxs(Kt.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-8",children:[h.map((d,p)=>d.type==="mess"?t?E.jsxs(Gr,{to:`/mess/${d.id}`,className:`block p-6 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 group h-fit bg-gradient-to-r ${d.color||"from-orange-500 to-red-500"}`,children:[E.jsxs("div",{children:[E.jsxs("div",{className:"flex justify-between items-start mb-4",children:[E.jsx("h3",{className:"text-xl font-bold text-white group-hover:scale-105 transition-transform origin-left",children:d.name}),E.jsx("div",{className:"p-2 bg-white/20 rounded-full text-white backdrop-blur-sm",children:E.jsx(nd,{size:20})})]}),E.jsx("p",{className:"text-white/80 text-sm font-medium",children:"View Weekly Menu"})]}),E.jsxs("div",{className:"mt-6 pt-4 border-t border-white/20 flex items-center text-white/90 font-medium",children:[E.jsx("span",{className:"w-2 h-2 rounded-full bg-white/50 mr-2"}),"Tap to open"]})]},d.id):E.jsx(D4,{mess:d},d.id):E.jsxs(Kt.a,{layout:!0,href:`tel:${d.phone}`,whileHover:{y:-5},className:"block p-6 rounded-2xl bg-white border border-gray-100 shadow-xl hover:shadow-2xl transition-all duration-300 group h-fit",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"flex justify-between items-start mb-4",children:[E.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-orange-600 transition-colors",children:d.name}),E.jsx("div",{className:"p-2 bg-orange-100 rounded-full text-orange-600",children:E.jsx(kM,{size:20})})]}),E.jsx("p",{className:"text-gray-500 text-sm",children:"Restaurant / Cafe"})]}),E.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-100 flex items-center text-gray-600 font-medium",children:[E.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 mr-2"}),d.phone]})]},`rest-${p}`)),h.length===0&&E.jsx(Kt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"col-span-full text-center py-12",children:E.jsx("p",{className:"text-gray-500 text-lg animate-pulse",children:"No messes found matching your search."})})]})}),E.jsxs("footer",{className:"text-center py-8 mt-8 border-t border-gray-200/50",children:[E.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 tracking-tight mb-2",children:["What's on the ",E.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-red-600",children:"Menu?"})]}),E.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto px-4",children:"Daily menus for all hostel messes. Click a card for the full weekly schedule."})]})]})]})};var mi=function(t,e){return Number(t.toFixed(e))},hB=function(t,e){return e},ft=function(t,e,n){n&&typeof n=="function"&&n(t,e)},fB=function(t){return-Math.cos(t*Math.PI)/2+.5},dB=function(t){return t},mB=function(t){return t*t},pB=function(t){return t*(2-t)},gB=function(t){return t<.5?2*t*t:-1+(4-2*t)*t},yB=function(t){return t*t*t},vB=function(t){return--t*t*t+1},_B=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},TB=function(t){return t*t*t*t},bB=function(t){return 1- --t*t*t*t},EB=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},wB=function(t){return t*t*t*t*t},SB=function(t){return 1+--t*t*t*t*t},AB=function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},F2={easeOut:fB,linear:dB,easeInQuad:mB,easeOutQuad:pB,easeInOutQuad:gB,easeInCubic:yB,easeOutCubic:vB,easeInOutCubic:_B,easeInQuart:TB,easeOutQuart:bB,easeInOutQuart:EB,easeInQuint:wB,easeOutQuint:SB,easeInOutQuint:AB},H2=function(t){typeof t=="number"&&cancelAnimationFrame(t)},Pi=function(t){t.mounted&&(H2(t.animation),t.animate=!1,t.animation=null,t.velocity=null)};function q2(t,e,n,s){if(t.mounted){var a=new Date().getTime(),l=1;Pi(t),t.animation=function(){if(!t.mounted)return H2(t.animation);var u=new Date().getTime()-a,h=u/n,d=F2[e],p=d(h);u>=n?(s(l),t.animation=null):t.animation&&(s(p),requestAnimationFrame(t.animation))},requestAnimationFrame(t.animation)}}function xB(t){var e=t.scale,n=t.positionX,s=t.positionY;return!(Number.isNaN(e)||Number.isNaN(n)||Number.isNaN(s))}function fa(t,e,n,s){var a=xB(e);if(!(!t.mounted||!a)){var l=t.setTransformState,u=t.transformState,h=u.scale,d=u.positionX,p=u.positionY,y=e.scale-h,v=e.positionX-d,T=e.positionY-p;n===0?l(e.scale,e.positionX,e.positionY):q2(t,s,n,function(S){var R=h+y*S,D=d+v*S,M=p+T*S;l(R,D,M)})}}function CB(t,e,n){var s=t.offsetWidth,a=t.offsetHeight,l=e.offsetWidth,u=e.offsetHeight,h=l*n,d=u*n,p=s-h,y=a-d;return{wrapperWidth:s,wrapperHeight:a,newContentWidth:h,newDiffWidth:p,newContentHeight:d,newDiffHeight:y}}var RB=function(t,e,n,s,a,l,u){var h=t>e?n*(u?1:.5):0,d=s>a?l*(u?1:.5):0,p=t-e-h,y=h,v=s-a-d,T=d;return{minPositionX:p,maxPositionX:y,minPositionY:v,maxPositionY:T}},Y0=function(t,e){var n=t.wrapperComponent,s=t.contentComponent,a=t.setup.centerZoomedOut;if(!n||!s)throw new Error("Components are not mounted");var l=CB(n,s,e),u=l.wrapperWidth,h=l.wrapperHeight,d=l.newContentWidth,p=l.newDiffWidth,y=l.newContentHeight,v=l.newDiffHeight,T=RB(u,d,p,h,y,v,!!a);return T},Qy=function(t,e,n,s){return s?t<e?mi(e,2):t>n?mi(n,2):mi(t,2):mi(t,2)},Ja=function(t,e){var n=Y0(t,e);return t.bounds=n,n};function Kc(t,e,n,s,a,l,u){var h=n.minPositionX,d=n.minPositionY,p=n.maxPositionX,y=n.maxPositionY,v=0,T=0;u&&(v=a,T=l);var S=Qy(t,h-v,p+v,s),R=Qy(e,d-T,y+T,s);return{x:S,y:R}}function dm(t,e,n,s,a,l){var u=t.transformState,h=u.scale,d=u.positionX,p=u.positionY,y=s-h;if(typeof e!="number"||typeof n!="number")return console.error("Mouse X and Y position were not provided!"),{x:d,y:p};var v=d-e*y,T=p-n*y,S=Kc(v,T,a,l,0,0,null);return S}function Xc(t,e,n,s,a){var l=a?s:0,u=e-l;return!Number.isNaN(n)&&t>=n?n:!Number.isNaN(e)&&t<=u?u:t}var VA=function(t,e){var n=t.setup.panning.excluded,s=t.isInitialized,a=t.wrapperComponent,l=e.target,u="shadowRoot"in l&&"composedPath"in e,h=u?e.composedPath().some(function(y){return y instanceof Element?a?.contains(y):!1}):a?.contains(l),d=s&&l&&h;if(!d)return!1;var p=mm(l,n);return!p},OA=function(t){var e=t.isInitialized,n=t.isPanning,s=t.setup,a=s.panning.disabled,l=e&&n&&!a;return!!l},NB=function(t,e){var n=t.transformState,s=n.positionX,a=n.positionY;t.isPanning=!0;var l=e.clientX,u=e.clientY;t.startCoords={x:l-s,y:u-a}},IB=function(t,e){var n=e.touches,s=t.transformState,a=s.positionX,l=s.positionY;t.isPanning=!0;var u=n.length===1;if(u){var h=n[0].clientX,d=n[0].clientY;t.startCoords={x:h-a,y:d-l}}};function DB(t){var e=t.transformState,n=e.positionX,s=e.positionY,a=e.scale,l=t.setup,u=l.disabled,h=l.limitToBounds,d=l.centerZoomedOut,p=t.wrapperComponent;if(!(u||!p||!t.bounds)){var y=t.bounds,v=y.maxPositionX,T=y.minPositionX,S=y.maxPositionY,R=y.minPositionY,D=n>v||n<T,M=s>S||s<R,k=n>v?p.offsetWidth:t.setup.minPositionX||0,B=s>S?p.offsetHeight:t.setup.minPositionY||0,F=dm(t,k,B,a,t.bounds,h||d),oe=F.x,re=F.y;return{scale:a,positionX:D?oe:n,positionY:M?re:s}}}function G2(t,e,n,s,a){var l=t.setup.limitToBounds,u=t.wrapperComponent,h=t.bounds,d=t.transformState,p=d.scale,y=d.positionX,v=d.positionY;if(!(u===null||h===null||e===y&&n===v)){var T=Kc(e,n,h,l,s,a,u),S=T.x,R=T.y;t.setTransformState(p,S,R)}}var MB=function(t,e,n){var s=t.startCoords,a=t.transformState,l=t.setup.panning,u=l.lockAxisX,h=l.lockAxisY,d=a.positionX,p=a.positionY;if(!s)return{x:d,y:p};var y=e-s.x,v=n-s.y,T=u?d:y,S=h?p:v;return{x:T,y:S}},aa=function(t,e){var n=t.setup,s=t.transformState,a=s.scale,l=n.minScale,u=n.disablePadding;return e>0&&a>=l&&!u?e:0},PB=function(t){var e=t.mounted,n=t.setup,s=n.disabled,a=n.velocityAnimation,l=t.transformState.scale,u=a.disabled,h=!u||l>1||!s||e;return!!h},VB=function(t){var e=t.mounted,n=t.velocity,s=t.bounds,a=t.setup,l=a.disabled,u=a.velocityAnimation,h=t.transformState.scale,d=u.disabled,p=!d||h>1||!l||e;return!(!p||!n||!s)};function OB(t,e){var n=t.setup.velocityAnimation,s=n.equalToMove,a=n.animationTime,l=n.sensitivity;return s?a*e*l:a}function kA(t,e,n,s,a,l,u,h,d,p){if(a){if(e>u&&n>u){var y=u+(t-u)*p;return y>d?d:y<u?u:y}if(e<l&&n<l){var y=l+(t-l)*p;return y<h?h:y>l?l:y}}return s?e:Qy(t,l,u,a)}function kB(t,e){var n=1;return e?Math.min(n,t.offsetWidth/window.innerWidth):n}function LB(t,e){var n=PB(t);if(n){var s=t.lastMousePosition,a=t.velocityTime,l=t.setup,u=t.wrapperComponent,h=l.velocityAnimation.equalToMove,d=Date.now();if(s&&a&&u){var p=kB(u,h),y=e.x-s.x,v=e.y-s.y,T=y/p,S=v/p,R=d-a,D=y*y+v*v,M=Math.sqrt(D)/R;t.velocity={velocityX:T,velocityY:S,total:M}}t.lastMousePosition=e,t.velocityTime=d}}function jB(t){var e=t.velocity,n=t.bounds,s=t.setup,a=t.wrapperComponent,l=VB(t);if(!(!l||!e||!n||!a)){var u=e.velocityX,h=e.velocityY,d=e.total,p=n.maxPositionX,y=n.minPositionX,v=n.maxPositionY,T=n.minPositionY,S=s.limitToBounds,R=s.alignmentAnimation,D=s.zoomAnimation,M=s.panning,k=M.lockAxisY,B=M.lockAxisX,F=D.animationType,oe=R.sizeX,re=R.sizeY,te=R.velocityAlignmentTime,N=te,x=OB(t,d),I=Math.max(x,N),j=aa(t,oe),L=aa(t,re),H=j*a.offsetWidth/100,P=L*a.offsetHeight/100,Fe=p+H,Qe=y-H,W=v+P,le=T-P,de=t.transformState,xe=new Date().getTime();q2(t,F,I,function(Ve){var U=t.transformState,ee=U.scale,ce=U.positionX,he=U.positionY,Te=new Date().getTime()-xe,Ce=Te/N,ae=F2[R.animationType],_e=1-ae(Math.min(1,Ce)),Ee=1-Ve,mt=ce+u*Ee,bn=he+h*Ee,Yn=kA(mt,de.positionX,ce,B,S,y,p,Qe,Fe,_e),Kn=kA(bn,de.positionY,he,k,S,T,v,le,W,_e);(ce!==mt||he!==bn)&&t.setTransformState(ee,Yn,Kn)})}}function LA(t,e){var n=t.transformState.scale;Pi(t),Ja(t,n),window.TouchEvent!==void 0&&e instanceof TouchEvent?IB(t,e):NB(t,e)}function K0(t,e){var n=t.transformState.scale,s=t.setup,a=s.minScale,l=s.alignmentAnimation,u=l.disabled,h=l.sizeX,d=l.sizeY,p=l.animationTime,y=l.animationType,v=u||n<a||!h&&!d;if(!v){var T=DB(t);T&&fa(t,T,e??p,y)}}function jA(t,e,n){var s=t.startCoords,a=t.setup,l=a.alignmentAnimation,u=l.sizeX,h=l.sizeY;if(s){var d=MB(t,e,n),p=d.x,y=d.y,v=aa(t,u),T=aa(t,h);LB(t,{x:p,y}),G2(t,p,y,v,T)}}function UB(t){if(t.isPanning){var e=t.setup.panning.velocityDisabled,n=t.velocity,s=t.wrapperComponent,a=t.contentComponent;t.isPanning=!1,t.animate=!1,t.animation=null;var l=s?.getBoundingClientRect(),u=a?.getBoundingClientRect(),h=l?.width||0,d=l?.height||0,p=u?.width||0,y=u?.height||0,v=h<p||d<y,T=!e&&n&&n?.total>.1&&v;T?jB(t):K0(t)}}function X0(t,e,n,s){var a=t.setup,l=a.minScale,u=a.maxScale,h=a.limitToBounds,d=Xc(mi(e,2),l,u,0,!1),p=Ja(t,d),y=dm(t,n,s,d,p,h),v=y.x,T=y.y;return{scale:d,positionX:v,positionY:T}}function Y2(t,e,n){var s=t.transformState.scale,a=t.wrapperComponent,l=t.setup,u=l.minScale,h=l.limitToBounds,d=l.zoomAnimation,p=d.disabled,y=d.animationTime,v=d.animationType,T=p||s>=u;if((s>=1||h)&&K0(t),!(T||!a||!t.mounted)){var S=e||a.offsetWidth/2,R=n||a.offsetHeight/2,D=X0(t,u,S,R);D&&fa(t,D,y,v)}}var Qr=function(){return Qr=Object.assign||function(e){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Qr.apply(this,arguments)};function UA(t,e,n){for(var s=0,a=e.length,l;s<a;s++)(l||!(s in e))&&(l||(l=Array.prototype.slice.call(e,0,s)),l[s]=e[s]);return t.concat(l||Array.prototype.slice.call(e))}var kf={scale:1,positionX:0,positionY:0},Yu={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},Wy={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},K2=function(t){var e,n,s,a;return{previousScale:(e=t.initialScale)!==null&&e!==void 0?e:kf.scale,scale:(n=t.initialScale)!==null&&n!==void 0?n:kf.scale,positionX:(s=t.initialPositionX)!==null&&s!==void 0?s:kf.positionX,positionY:(a=t.initialPositionY)!==null&&a!==void 0?a:kf.positionY}},zA=function(t){var e=Qr({},Yu);return Object.keys(t).forEach(function(n){var s=typeof t[n]<"u",a=typeof Yu[n]<"u";if(a&&s){var l=Object.prototype.toString.call(Yu[n]),u=l==="[object Object]",h=l==="[object Array]";u?e[n]=Qr(Qr({},Yu[n]),t[n]):h?e[n]=UA(UA([],Yu[n],!0),t[n]):e[n]=t[n]}}),e},X2=function(t,e,n){var s=t.transformState.scale,a=t.wrapperComponent,l=t.setup,u=l.maxScale,h=l.minScale,d=l.zoomAnimation,p=l.smooth,y=d.size;if(!a)throw new Error("Wrapper is not mounted");var v=p?s*Math.exp(e*n):s+e*n,T=Xc(mi(v,3),h,u,y,!1);return T};function $2(t,e,n,s,a){var l=t.wrapperComponent,u=t.transformState,h=u.scale,d=u.positionX,p=u.positionY;if(!l)return console.error("No WrapperComponent found");var y=l.offsetWidth,v=l.offsetHeight,T=(y/2-d)/h,S=(v/2-p)/h,R=X2(t,e,n),D=X0(t,R,T,S);if(!D)return console.error("Error during zoom event. New transformation state was not calculated.");fa(t,D,s,a)}function Q2(t,e,n,s){var a=t.setup,l=t.wrapperComponent,u=a.limitToBounds,h=K2(t.props),d=t.transformState,p=d.scale,y=d.positionX,v=d.positionY;if(l){var T=Y0(t,h.scale),S=Kc(h.positionX,h.positionY,T,u,0,0,l),R={scale:h.scale,positionX:S.x,positionY:S.y};p===h.scale&&y===h.positionX&&v===h.positionY||(s?.(),fa(t,R,e,n))}}function zB(t,e,n,s){var a=t.getBoundingClientRect(),l=e.getBoundingClientRect(),u=n.getBoundingClientRect(),h=l.x*s.scale,d=l.y*s.scale;return{x:(a.x-u.x+h)/s.scale,y:(a.y-u.y+d)/s.scale}}function BB(t,e,n){var s=t.wrapperComponent,a=t.contentComponent,l=t.transformState,u=t.setup,h=u.limitToBounds,d=u.minScale,p=u.maxScale;if(!s||!a)return l;var y=s.getBoundingClientRect(),v=e.getBoundingClientRect(),T=zB(e,s,a,l),S=T.x,R=T.y,D=v.width/l.scale,M=v.height/l.scale,k=s.offsetWidth/D,B=s.offsetHeight/M,F=Xc(n||Math.min(k,B),d,p,0,!1),oe=(y.width-D*F)/2,re=(y.height-M*F)/2,te=(y.left-S)*F+oe,N=(y.top-R)*F+re,x=Y0(t,F),I=Kc(te,N,x,h,0,0,s),j=I.x,L=I.y;return{positionX:j,positionY:L,scale:F}}var FB=function(t){return function(e,n,s){e===void 0&&(e=.5),n===void 0&&(n=300),s===void 0&&(s="easeOut"),$2(t,1,e,n,s)}},HB=function(t){return function(e,n,s){e===void 0&&(e=.5),n===void 0&&(n=300),s===void 0&&(s="easeOut"),$2(t,-1,e,n,s)}},qB=function(t){return function(e,n,s,a,l){a===void 0&&(a=300),l===void 0&&(l="easeOut");var u=t.transformState,h=u.positionX,d=u.positionY,p=u.scale,y=t.wrapperComponent,v=t.contentComponent,T=t.setup.disabled;if(!(T||!y||!v)){var S={positionX:Number.isNaN(e)?h:e,positionY:Number.isNaN(n)?d:n,scale:Number.isNaN(s)?p:s};fa(t,S,a,l)}}},GB=function(t){return function(e,n){e===void 0&&(e=200),n===void 0&&(n="easeOut"),Q2(t,e,n)}},YB=function(t){return function(e,n,s){n===void 0&&(n=200),s===void 0&&(s="easeOut");var a=t.transformState,l=t.wrapperComponent,u=t.contentComponent;if(l&&u){var h=W2(e||a.scale,l,u);fa(t,h,n,s)}}},KB=function(t){return function(e,n,s,a){s===void 0&&(s=600),a===void 0&&(a="easeOut"),Pi(t);var l=t.wrapperComponent,u=typeof e=="string"?document.getElementById(e):e;if(l&&u&&l.contains(u)){var h=BB(t,u,n);fa(t,h,s,a)}}},Zy=function(t){return{instance:t,zoomIn:FB(t),zoomOut:HB(t),setTransform:qB(t),resetTransform:GB(t),centerView:YB(t),zoomToElement:KB(t)}},XB=function(t){return{instance:t,state:t.transformState}},rt=function(t){var e={};return Object.assign(e,XB(t)),Object.assign(e,Zy(t)),e},Qg=!1;function Wg(){try{var t={get passive(){return Qg=!0,!1}};return t}catch{return Qg=!1,Qg}}var Lf=".".concat(Wy.wrapperClass),mm=function(t,e){return e.some(function(n){return t.matches("".concat(Lf," ").concat(n,", ").concat(Lf," .").concat(n,", ").concat(Lf," ").concat(n," *, ").concat(Lf," .").concat(n," *"))})},Jy=function(t){t&&clearTimeout(t)},$B=function(t,e,n){return"translate(".concat(t,"px, ").concat(e,"px) scale(").concat(n,")")},W2=function(t,e,n){var s=n.offsetWidth*t,a=n.offsetHeight*t,l=(e.offsetWidth-s)/2,u=(e.offsetHeight-a)/2;return{scale:t,positionX:l,positionY:u}};function QB(t){return function(e){t.forEach(function(n){typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var WB=function(t,e){var n=t.setup.wheel,s=n.disabled,a=n.wheelDisabled,l=n.touchPadDisabled,u=n.excluded,h=t.isInitialized,d=t.isPanning,p=e.target,y=h&&!d&&!s&&p;if(!y||a&&!e.ctrlKey||l&&e.ctrlKey)return!1;var v=mm(p,u);return!v},ZB=function(t){return t?t.deltaY<0?1:-1:0};function JB(t,e){var n=ZB(t),s=hB(e,n);return s}function Z2(t,e,n){var s=e.getBoundingClientRect(),a=0,l=0;if("clientX"in t)a=(t.clientX-s.left)/n,l=(t.clientY-s.top)/n;else{var u=t.touches[0];a=(u.clientX-s.left)/n,l=(u.clientY-s.top)/n}return(Number.isNaN(a)||Number.isNaN(l))&&console.error("No mouse or touch offset found"),{x:a,y:l}}var e8=function(t,e,n,s,a){var l=t.transformState.scale,u=t.wrapperComponent,h=t.setup,d=h.maxScale,p=h.minScale,y=h.zoomAnimation,v=h.disablePadding,T=y.size,S=y.disabled;if(!u)throw new Error("Wrapper is not mounted");var R=l+e*n,D=s?!1:!S,M=Xc(mi(R,3),p,d,T,D&&!v);return M},t8=function(t,e){var n=t.previousWheelEvent,s=t.transformState.scale,a=t.setup,l=a.maxScale,u=a.minScale;return n?s<l||s>u||Math.sign(n.deltaY)!==Math.sign(e.deltaY)||n.deltaY>0&&n.deltaY<e.deltaY||n.deltaY<0&&n.deltaY>e.deltaY||Math.sign(n.deltaY)!==Math.sign(e.deltaY):!1},n8=function(t,e){var n=t.setup.pinch,s=n.disabled,a=n.excluded,l=t.isInitialized,u=e.target,h=l&&!s&&u;if(!h)return!1;var d=mm(u,a);return!d},i8=function(t){var e=t.setup.pinch.disabled,n=t.isInitialized,s=t.pinchStartDistance,a=n&&!e&&s;return!!a},s8=function(t,e,n){var s=n.getBoundingClientRect(),a=t.touches,l=mi(a[0].clientX-s.left,5),u=mi(a[0].clientY-s.top,5),h=mi(a[1].clientX-s.left,5),d=mi(a[1].clientY-s.top,5);return{x:(l+h)/2/e,y:(u+d)/2/e}},J2=function(t){return Math.sqrt(Math.pow(t.touches[0].pageX-t.touches[1].pageX,2)+Math.pow(t.touches[0].pageY-t.touches[1].pageY,2))},r8=function(t,e){var n=t.pinchStartScale,s=t.pinchStartDistance,a=t.setup,l=a.maxScale,u=a.minScale,h=a.zoomAnimation,d=a.disablePadding,p=h.size,y=h.disabled;if(!n||s===null||!e)throw new Error("Pinch touches distance was not provided");if(e<0)return t.transformState.scale;var v=e/s,T=v*n;return Xc(mi(T,2),u,l,p,!y&&!d)},a8=160,o8=100,l8=function(t,e){var n=t.props,s=n.onWheelStart,a=n.onZoomStart;t.wheelStopEventTimer||(Pi(t),ft(rt(t),e,s),ft(rt(t),e,a))},u8=function(t,e){var n=t.props,s=n.onWheel,a=n.onZoom,l=t.contentComponent,u=t.setup,h=t.transformState,d=h.scale,p=u.limitToBounds,y=u.centerZoomedOut,v=u.zoomAnimation,T=u.wheel,S=u.disablePadding,R=u.smooth,D=v.size,M=v.disabled,k=T.step,B=T.smoothStep;if(!l)throw new Error("Component not mounted");e.preventDefault(),e.stopPropagation();var F=JB(e,null),oe=R?B*Math.abs(e.deltaY):k,re=e8(t,F,oe,!e.ctrlKey);if(d!==re){var te=Ja(t,re),N=Z2(e,l,d),x=M||D===0||y||S,I=p&&x,j=dm(t,N.x,N.y,re,te,I),L=j.x,H=j.y;t.previousWheelEvent=e,t.setTransformState(re,L,H),ft(rt(t),e,s),ft(rt(t),e,a)}},c8=function(t,e){var n=t.props,s=n.onWheelStop,a=n.onZoomStop;Jy(t.wheelAnimationTimer),t.wheelAnimationTimer=setTimeout(function(){t.mounted&&(Y2(t,e.x,e.y),t.wheelAnimationTimer=null)},o8);var l=t8(t,e);l&&(Jy(t.wheelStopEventTimer),t.wheelStopEventTimer=setTimeout(function(){t.mounted&&(t.wheelStopEventTimer=null,ft(rt(t),e,s),ft(rt(t),e,a))},a8))},eN=function(t){for(var e=0,n=0,s=0;s<2;s+=1)e+=t.touches[s].clientX,n+=t.touches[s].clientY;var a=e/2,l=n/2;return{x:a,y:l}},h8=function(t,e){var n=J2(e);t.pinchStartDistance=n,t.lastDistance=n,t.pinchStartScale=t.transformState.scale,t.isPanning=!1;var s=eN(e);t.pinchLastCenterX=s.x,t.pinchLastCenterY=s.y,Pi(t)},f8=function(t,e){var n=t.contentComponent,s=t.pinchStartDistance,a=t.wrapperComponent,l=t.transformState.scale,u=t.setup,h=u.limitToBounds,d=u.centerZoomedOut,p=u.zoomAnimation,y=u.alignmentAnimation,v=p.disabled,T=p.size;if(!(s===null||!n)){var S=s8(e,l,n);if(!(!Number.isFinite(S.x)||!Number.isFinite(S.y))){var R=J2(e),D=r8(t,R),M=eN(e),k=M.x-(t.pinchLastCenterX||0),B=M.y-(t.pinchLastCenterY||0);if(!(D===l&&k===0&&B===0)){t.pinchLastCenterX=M.x,t.pinchLastCenterY=M.y;var F=Ja(t,D),oe=v||T===0||d,re=h&&oe,te=dm(t,S.x,S.y,D,F,re),N=te.x,x=te.y;t.pinchMidpoint=S,t.lastDistance=R;var I=y.sizeX,j=y.sizeY,L=aa(t,I),H=aa(t,j),P=N+k,Fe=x+B,Qe=Kc(P,Fe,F,h,L,H,a),W=Qe.x,le=Qe.y;t.setTransformState(D,W,le)}}}},d8=function(t){var e=t.pinchMidpoint;t.velocity=null,t.lastDistance=null,t.pinchMidpoint=null,t.pinchStartScale=null,t.pinchStartDistance=null,Y2(t,e?.x,e?.y)},tN=function(t,e){var n=t.props.onZoomStop,s=t.setup.doubleClick.animationTime;Jy(t.doubleClickStopEventTimer),t.doubleClickStopEventTimer=setTimeout(function(){t.doubleClickStopEventTimer=null,ft(rt(t),e,n)},s)},m8=function(t,e){var n=t.props,s=n.onZoomStart,a=n.onZoom,l=t.setup.doubleClick,u=l.animationTime,h=l.animationType;ft(rt(t),e,s),Q2(t,u,h,function(){return ft(rt(t),e,a)}),tN(t,e)};function p8(t,e){return t==="toggle"?e===1?1:-1:t==="zoomOut"?-1:1}function g8(t,e){var n=t.setup,s=t.doubleClickStopEventTimer,a=t.transformState,l=t.contentComponent,u=a.scale,h=t.props,d=h.onZoomStart,p=h.onZoom,y=n.doubleClick,v=y.disabled,T=y.mode,S=y.step,R=y.animationTime,D=y.animationType;if(!v&&!s){if(T==="reset")return m8(t,e);if(!l)return console.error("No ContentComponent found");var M=p8(T,t.transformState.scale),k=X2(t,M,S);if(u!==k){ft(rt(t),e,d);var B=Z2(e,l,u),F=X0(t,k,B.x,B.y);if(!F)return console.error("Error during zoom event. New transformation state was not calculated.");ft(rt(t),e,p),fa(t,F,R,D),tN(t,e)}}}var y8=function(t,e){var n=t.isInitialized,s=t.setup,a=t.wrapperComponent,l=s.doubleClick,u=l.disabled,h=l.excluded,d=e.target,p=a?.contains(d),y=n&&d&&p&&!u;if(!y)return!1;var v=mm(d,h);return!v},v8=(function(){function t(e){var n=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){n.initializeWindowEvents()},this.unmount=function(){n.cleanupWindowEvents()},this.update=function(s){n.props=s,Ja(n,n.transformState.scale),n.setup=zA(s)},this.initializeWindowEvents=function(){var s,a,l=Wg(),u=(s=n.wrapperComponent)===null||s===void 0?void 0:s.ownerDocument,h=u?.defaultView;(a=n.wrapperComponent)===null||a===void 0||a.addEventListener("wheel",n.onWheelPanning,l),h?.addEventListener("mousedown",n.onPanningStart,l),h?.addEventListener("mousemove",n.onPanning,l),h?.addEventListener("mouseup",n.onPanningStop,l),u?.addEventListener("mouseleave",n.clearPanning,l),h?.addEventListener("keyup",n.setKeyUnPressed,l),h?.addEventListener("keydown",n.setKeyPressed,l)},this.cleanupWindowEvents=function(){var s,a,l=Wg(),u=(s=n.wrapperComponent)===null||s===void 0?void 0:s.ownerDocument,h=u?.defaultView;h?.removeEventListener("mousedown",n.onPanningStart,l),h?.removeEventListener("mousemove",n.onPanning,l),h?.removeEventListener("mouseup",n.onPanningStop,l),u?.removeEventListener("mouseleave",n.clearPanning,l),h?.removeEventListener("keyup",n.setKeyUnPressed,l),h?.removeEventListener("keydown",n.setKeyPressed,l),document.removeEventListener("mouseleave",n.clearPanning,l),Pi(n),(a=n.observer)===null||a===void 0||a.disconnect()},this.handleInitializeWrapperEvents=function(s){var a=Wg();s.addEventListener("wheel",n.onWheelZoom,a),s.addEventListener("dblclick",n.onDoubleClick,a),s.addEventListener("touchstart",n.onTouchPanningStart,a),s.addEventListener("touchmove",n.onTouchPanning,a),s.addEventListener("touchend",n.onTouchPanningStop,a)},this.handleInitialize=function(s,a){var l=!1,u=n.setup.centerOnInit,h=function(d,p){for(var y=0,v=d;y<v.length;y++){var T=v[y];if(T.target===p)return!0}return!1};n.applyTransformation(),n.onInitCallbacks.forEach(function(d){d(rt(n))}),n.observer=new ResizeObserver(function(d){if(h(d,s)||h(d,a))if(u&&!l){var p=a.offsetWidth,y=a.offsetHeight;(p>0||y>0)&&(l=!0,n.setCenter())}else Pi(n),Ja(n,n.transformState.scale),K0(n,0)}),n.observer.observe(s),n.observer.observe(a)},this.onWheelZoom=function(s){var a=n.setup.disabled;if(!a){var l=WB(n,s);if(l){var u=n.isPressingKeys(n.setup.wheel.activationKeys);u&&(l8(n,s),u8(n,s),c8(n,s))}}},this.onWheelPanning=function(s){var a=n.setup,l=a.disabled,u=a.wheel,h=a.panning;if(!(!n.wrapperComponent||!n.contentComponent||l||!u.wheelDisabled||h.disabled||!h.wheelPanning||s.ctrlKey)){s.preventDefault(),s.stopPropagation();var d=n.transformState,p=d.positionX,y=d.positionY,v=p-s.deltaX,T=y-s.deltaY,S=h.lockAxisX?p:v,R=h.lockAxisY?y:T,D=n.setup.alignmentAnimation,M=D.sizeX,k=D.sizeY,B=aa(n,M),F=aa(n,k);S===p&&R===y||G2(n,S,R,B,F)}},this.onPanningStart=function(s){var a=n.setup.disabled,l=n.props.onPanningStart;if(!a){var u=VA(n,s);if(u){var h=n.isPressingKeys(n.setup.panning.activationKeys);h&&(s.button===0&&!n.setup.panning.allowLeftClickPan||s.button===1&&!n.setup.panning.allowMiddleClickPan||s.button===2&&!n.setup.panning.allowRightClickPan||(s.preventDefault(),s.stopPropagation(),Pi(n),LA(n,s),ft(rt(n),s,l)))}}},this.onPanning=function(s){var a=n.setup.disabled,l=n.props.onPanning;if(!a){var u=OA(n);if(u){var h=n.isPressingKeys(n.setup.panning.activationKeys);h&&(s.preventDefault(),s.stopPropagation(),jA(n,s.clientX,s.clientY),ft(rt(n),s,l))}}},this.onPanningStop=function(s){var a=n.props.onPanningStop;n.isPanning&&(UB(n),ft(rt(n),s,a))},this.onPinchStart=function(s){var a=n.setup.disabled,l=n.props,u=l.onPinchingStart,h=l.onZoomStart;if(!a){var d=n8(n,s);d&&(h8(n,s),Pi(n),ft(rt(n),s,u),ft(rt(n),s,h))}},this.onPinch=function(s){var a=n.setup.disabled,l=n.props,u=l.onPinching,h=l.onZoom;if(!a){var d=i8(n);d&&(s.preventDefault(),s.stopPropagation(),f8(n,s),ft(rt(n),s,u),ft(rt(n),s,h))}},this.onPinchStop=function(s){var a=n.props,l=a.onPinchingStop,u=a.onZoomStop;n.pinchStartScale&&(d8(n),ft(rt(n),s,l),ft(rt(n),s,u))},this.onTouchPanningStart=function(s){var a=n.setup.disabled,l=n.props.onPanningStart;if(!a){var u=VA(n,s);if(u){var h=n.lastTouch&&+new Date-n.lastTouch<200&&s.touches.length===1;if(!h){n.lastTouch=+new Date,Pi(n);var d=s.touches,p=d.length===1,y=d.length===2;p&&(Pi(n),LA(n,s),ft(rt(n),s,l)),y&&n.onPinchStart(s)}}}},this.onTouchPanning=function(s){var a=n.setup.disabled,l=n.props.onPanning;if(n.isPanning&&s.touches.length===1){if(a)return;var u=OA(n);if(!u)return;s.preventDefault(),s.stopPropagation();var h=s.touches[0];jA(n,h.clientX,h.clientY),ft(rt(n),s,l)}else s.touches.length>1&&n.onPinch(s)},this.onTouchPanningStop=function(s){n.onPanningStop(s),n.onPinchStop(s)},this.onDoubleClick=function(s){var a=n.setup.disabled;if(!a){var l=y8(n,s);l&&g8(n,s)}},this.clearPanning=function(s){n.isPanning&&n.onPanningStop(s)},this.setKeyPressed=function(s){n.pressedKeys[s.key]=!0},this.setKeyUnPressed=function(s){n.pressedKeys[s.key]=!1},this.isPressingKeys=function(s){return s.length?!!s.find(function(a){return n.pressedKeys[a]}):!0},this.setTransformState=function(s,a,l){var u=n.props.onTransformed;if(!Number.isNaN(s)&&!Number.isNaN(a)&&!Number.isNaN(l)){s!==n.transformState.scale&&(n.transformState.previousScale=n.transformState.scale,n.transformState.scale=s),n.transformState.positionX=a,n.transformState.positionY=l,n.applyTransformation();var h=rt(n);n.onChangeCallbacks.forEach(function(d){return d(h)}),ft(h,{scale:s,positionX:a,positionY:l},u)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(n.wrapperComponent&&n.contentComponent){var s=W2(n.transformState.scale,n.wrapperComponent,n.contentComponent);n.setTransformState(s.scale,s.positionX,s.positionY)}},this.handleTransformStyles=function(s,a,l){return n.props.customTransform?n.props.customTransform(s,a,l):$B(s,a,l)},this.applyTransformation=function(){if(!(!n.mounted||!n.contentComponent)){var s=n.transformState,a=s.scale,l=s.positionX,u=s.positionY,h=n.handleTransformStyles(l,u,a);n.contentComponent.style.transform=h}},this.getContext=function(){return rt(n)},this.onChange=function(s){return n.onChangeCallbacks.has(s)||n.onChangeCallbacks.add(s),function(){n.onChangeCallbacks.delete(s)}},this.onInit=function(s){return n.onInitCallbacks.has(s)||n.onInitCallbacks.add(s),function(){n.onInitCallbacks.delete(s)}},this.init=function(s,a){n.cleanupWindowEvents(),n.wrapperComponent=s,n.contentComponent=a,Ja(n,n.transformState.scale),n.handleInitializeWrapperEvents(s),n.handleInitialize(s,a),n.initializeWindowEvents(),n.isInitialized=!0;var l=rt(n);ft(l,void 0,n.props.onInit)},this.props=e,this.setup=zA(this.props),this.transformState=K2(this.props)}return t})(),$0=hi.createContext(null),_8=function(t,e){return typeof t=="function"?t(e):t},T8=hi.forwardRef(function(t,e){var n=V.useRef(new v8(t)).current,s=_8(t.children,Zy(n));return V.useImperativeHandle(e,function(){return Zy(n)},[n]),V.useEffect(function(){n.update(t)},[n,t]),hi.createElement($0.Provider,{value:n},s)});hi.forwardRef(function(t,e){var n=V.useRef(null),s=V.useContext($0);return V.useEffect(function(){return s.onChange(function(a){if(n.current){var l=0,u=0;n.current.style.transform=s.handleTransformStyles(l,u,1/a.instance.transformState.scale)}})},[s]),hi.createElement("div",Qr({},t,{ref:QB([n,e])}))});function b8(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",n==="top"&&s.firstChild?s.insertBefore(a,s.firstChild):s.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}}var E8=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,BA={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};b8(E8);var w8=function(t){var e=t.children,n=t.wrapperClass,s=n===void 0?"":n,a=t.contentClass,l=a===void 0?"":a,u=t.wrapperStyle,h=t.contentStyle,d=t.wrapperProps,p=d===void 0?{}:d,y=t.contentProps,v=y===void 0?{}:y,T=V.useContext($0),S=T.init,R=T.cleanupWindowEvents,D=V.useRef(null),M=V.useRef(null);return V.useEffect(function(){var k=D.current,B=M.current;return k!==null&&B!==null&&S&&S?.(k,B),function(){R?.()}},[]),hi.createElement("div",Qr({},p,{ref:D,className:"".concat(Wy.wrapperClass," ").concat(BA.wrapper," ").concat(s),style:u}),hi.createElement("div",Qr({},v,{ref:M,className:"".concat(Wy.contentClass," ").concat(BA.content," ").concat(l),style:h}),e))};const S8=()=>{const{id:t}=_D(),[e,n]=V.useState(null),[s,a]=V.useState(!0),l=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],u=hi.useRef(null),[h,d]=hi.useState(window.innerWidth<768),[p,y]=hi.useState(!1);return V.useEffect(()=>{(async()=>{try{const T=di(Yt,"messes",t),S=await wd(T);S.exists()&&n({id:S.id,...S.data()})}catch(T){console.error("Error fetching mess:",T)}finally{a(!1)}})()},[t]),hi.useEffect(()=>{const v=()=>d(window.innerWidth<768);return window.addEventListener("resize",v),t&&localStorage.setItem("lastViewedMess",t),()=>window.removeEventListener("resize",v)},[t]),s?E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):e?E.jsxs("div",{className:"min-h-screen bg-gray-50 relative",children:[E.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[E.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),E.jsx("div",{className:"absolute top-0 -left-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"})]}),E.jsx(zd,{}),E.jsxs("main",{className:"relative z-10 pt-20 pb-4 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto h-[calc(100vh-20px)] flex flex-col",children:[E.jsxs(Gr,{to:"/",className:"inline-flex items-center text-gray-600 hover:text-orange-600 mb-2 transition-colors text-sm",children:[E.jsx(_M,{size:16,className:"mr-1"}),"Back"]}),E.jsxs(Kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/60 backdrop-blur-xl rounded-2xl shadow-2xl overflow-hidden border border-white/50 flex flex-col flex-1 min-h-0",children:[E.jsx("div",{className:Bs("px-4 py-2 md:px-6 md:py-3 bg-gradient-to-r text-white shrink-0",e.color),children:E.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-2 md:gap-0",children:[E.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:e.name}),E.jsxs("div",{className:"flex items-center gap-2 md:gap-3 w-full md:w-auto",children:[E.jsxs("button",{onClick:()=>u.current?.resetTransform(),className:"flex-1 md:flex-none justify-center px-3 py-1 bg-white/20 hover:bg-white/30 text-white rounded-full text-[10px] md:text-xs font-medium transition-colors backdrop-blur-sm border border-white/20 flex items-center gap-1 cursor-pointer",title:"Click to reset view",children:[E.jsx(td,{size:12}),"Weekly Menu"]}),E.jsxs("button",{onClick:()=>y(!0),className:"flex-1 md:flex-none justify-center px-3 py-1 bg-white/20 hover:bg-white/30 text-white rounded-full text-[10px] md:text-xs font-medium transition-colors backdrop-blur-sm border border-white/20 flex items-center gap-1",children:[E.jsx(nd,{size:12}),"Today's Menu"]})]})]})}),E.jsx("div",{className:Bs("flex-1 relative bg-gray-50/50",h?"overflow-hidden":"overflow-auto"),children:(()=>{const v=()=>{const M=new Date,k=M.getDay(),B=M.getDate()-k+(k===0?-6:1),F=new Date(M.setDate(B));return F.setHours(0,0,0,0),F},T=e.lastUpdated?new Date(e.lastUpdated):null,S=v(),R=!T||T<S,D=e.menu&&Object.keys(e.menu).some(M=>{const k=e.menu[M];return k?Object.values(k).some(B=>B&&B!=="N/A"&&B.trim()!==""):!1});return R||!D?E.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[E.jsx("div",{className:Bs("text-3xl md:text-4xl font-bold mb-2 bg-clip-text text-transparent bg-gradient-to-r",e.color),children:"Menu Not Uploaded"}),E.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Check back later for this week's menu"})]}):h?E.jsx(T8,{ref:u,initialScale:1,minScale:.5,maxScale:3,centerOnInit:!1,wheel:{step:.1},limitToBounds:!1,children:E.jsx(w8,{wrapperClass:"!w-full !h-full",contentClass:"!w-full",children:E.jsx(FA,{days:l,mess:e})})}):E.jsx(FA,{days:l,mess:e})})()})]})]}),E.jsx(Br,{children:p&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>y(!1),children:E.jsxs(Kt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},onClick:v=>v.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[E.jsxs("div",{className:Bs("p-4 bg-gradient-to-r text-white flex justify-between items-center",e.color),children:[E.jsxs("h3",{className:"text-lg font-bold",children:["Today's Menu (",new Date().toLocaleDateString("en-US",{weekday:"long"}),")"]}),E.jsx("button",{onClick:()=>y(!1),className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:E.jsx(eo,{size:20})})]}),E.jsx("div",{className:"p-6 space-y-4",children:(()=>{const v=()=>{const B=new Date,F=B.getDay(),oe=B.getDate()-F+(F===0?-6:1),re=new Date(B.setDate(oe));return re.setHours(0,0,0,0),re},T=e.lastUpdated?new Date(e.lastUpdated):null,S=v(),R=!T||T<S,D=e.menu&&Object.keys(e.menu).some(B=>{const F=e.menu[B];return F?Object.values(F).some(oe=>oe&&oe!=="N/A"&&oe.trim()!==""):!1});if(R||!D)return E.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[E.jsx("div",{className:"text-xl font-bold text-gray-400 mb-2",children:"Menu Not Uploaded"}),E.jsx("p",{className:"text-sm text-gray-400",children:"Check back later"})]});const M=new Date().toLocaleDateString("en-US",{weekday:"long"}),k=e.menu[M]||e.menu.Monday;return E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"p-3 rounded-xl bg-orange-50 border border-orange-100",children:[E.jsx("h4",{className:"text-xs font-bold text-orange-600 uppercase tracking-wider mb-1",children:"Breakfast"}),E.jsx("p",{className:"text-gray-800 text-sm",children:qr(k.Breakfast)})]}),E.jsxs("div",{className:"p-3 rounded-xl bg-green-50 border border-green-100",children:[E.jsx("h4",{className:"text-xs font-bold text-green-600 uppercase tracking-wider mb-1",children:"Lunch"}),E.jsx("p",{className:"text-gray-800 text-sm",children:qr(k.Lunch)})]}),E.jsxs("div",{className:"p-3 rounded-xl bg-yellow-50 border border-yellow-100",children:[E.jsx("h4",{className:"text-xs font-bold text-yellow-600 uppercase tracking-wider mb-1",children:"Snacks"}),E.jsx("p",{className:"text-gray-800 text-sm",children:qr(k.Snacks)})]}),E.jsxs("div",{className:"p-3 rounded-xl bg-blue-50 border border-blue-100",children:[E.jsx("h4",{className:"text-xs font-bold text-blue-600 uppercase tracking-wider mb-1",children:"Dinner"}),E.jsx("p",{className:"text-gray-800 text-sm",children:qr(k.Dinner)})]})]})})()})]})})})]}):E.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Mess not found"})},qr=t=>t?t.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"",FA=({days:t,mess:e})=>E.jsxs("table",{className:"w-full text-left border-collapse min-w-[600px] bg-white origin-top-left h-full",children:[E.jsx("thead",{className:"bg-white/95 backdrop-blur-sm shadow-sm sticky top-0 z-10",children:E.jsxs("tr",{className:"border-b border-gray-200",children:[E.jsx("th",{className:"py-2 px-3 font-bold text-gray-500 uppercase tracking-wider text-[10px]",children:"Day"}),E.jsx("th",{className:"py-2 px-3 font-bold text-orange-600 uppercase tracking-wider text-[10px]",children:"Breakfast"}),E.jsx("th",{className:"py-2 px-3 font-bold text-green-600 uppercase tracking-wider text-[10px]",children:"Lunch"}),E.jsx("th",{className:"py-2 px-3 font-bold text-yellow-600 uppercase tracking-wider text-[10px]",children:"Snacks"}),E.jsx("th",{className:"py-2 px-3 font-bold text-blue-600 uppercase tracking-wider text-[10px]",children:"Dinner"})]})}),E.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(n=>E.jsxs("tr",{id:`row-${n}`,className:"hover:bg-gray-50 transition-colors group duration-300",children:[E.jsx("td",{className:"py-1.5 px-3 font-bold text-gray-800 text-[10px]",children:n}),E.jsx("td",{className:"py-1.5 px-3 text-gray-600 group-hover:text-gray-900 text-[10px] leading-tight",children:qr(e.menu[n]?.Breakfast)}),E.jsx("td",{className:"py-1.5 px-3 text-gray-600 group-hover:text-gray-900 text-[10px] leading-tight",children:qr(e.menu[n]?.Lunch)}),E.jsx("td",{className:"py-1.5 px-3 text-gray-600 group-hover:text-gray-900 text-[10px] leading-tight",children:qr(e.menu[n]?.Snacks)}),E.jsx("td",{className:"py-1.5 px-3 text-gray-600 group-hover:text-gray-900 text-[10px] leading-tight",children:qr(e.menu[n]?.Dinner)})]},n))})]}),A8=()=>{const[t,e]=V.useState("admin@mitmess.com"),[n,s]=V.useState(""),[a,l]=V.useState(!1),[u,h]=V.useState(""),[d,p]=V.useState(!0),y=nv();V.useEffect(()=>{const S=u2(Hn,async R=>{if(R){const D=await wd(di(Yt,"users",R.email));D.exists()&&D.data().deleted?(await vl(Hn),p(!1)):y("/admin/dashboard")}else p(!1)});return()=>S()},[y]);const v=async S=>{S.preventDefault(),p(!0),h("");try{await RU(Hn,f2);const R=await CU(Hn,t,n),D=di(Yt,"users",R.user.email),M=await wd(D);if(M.exists()){if(M.data().deleted)if(n==="LALA HI LALA")console.log("Owner account was deleted. Reactivating..."),await Ad(D,{deleted:!1});else throw await vl(Hn),new Error("Access Denied: Account has been revoked.")}else{console.warn("User document missing. Recreating...");const k=n==="LALA HI LALA",B={email:R.user.email,name:k?"M Shoaib Khan":"Recovered Admin",accessCode:n,role:k?"super_admin":"mess_admin",messId:null,createdAt:new Date().toISOString(),deleted:!1,recovered:!0};await Sd(D,B)}}catch(R){console.error("Login error:",R),h(R.message==="Access Denied: Account has been revoked."?R.message:"Invalid password"),p(!1)}},T=S=>{window.innerWidth<768&&S.target===S.currentTarget&&y("/")};return E.jsxs("div",{className:"min-h-screen bg-gray-50 relative flex flex-col",children:[E.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[E.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),E.jsx("div",{className:"absolute top-0 -left-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"})]}),E.jsx(zd,{}),E.jsx("div",{className:"flex-1 flex items-center justify-center relative z-10 px-4 cursor-pointer md:cursor-default",onClick:T,children:E.jsxs(Kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-xl p-8 rounded-2xl shadow-2xl w-full max-w-md border border-white/50 cursor-default",onClick:S=>S.stopPropagation(),children:[E.jsxs("div",{className:"text-center mb-8",children:[E.jsx("div",{className:"bg-orange-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(ey,{className:"text-orange-600",size:32})}),E.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Admin Login"}),E.jsx("p",{className:"text-gray-500 mt-2",children:"Enter your password to access the dashboard"})]}),E.jsxs("form",{onSubmit:v,className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 ml-1",children:"Access Code"}),E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(ey,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{type:a?"text":"password",value:n,onChange:S=>{s(S.target.value);const R=S.target.value.trim().replace(/\s+/g,"_").toLowerCase();e(`${R}@mitmess.com`)},className:"w-full pl-10 pr-10 px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-all bg-white/50",placeholder:"Enter your secret code",autoFocus:!0}),E.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:a?E.jsx(SM,{size:20}):E.jsx(xM,{size:20})})]}),u&&E.jsx("p",{className:"text-red-500 text-sm mt-2 ml-1",children:u})]}),E.jsx("button",{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-orange-600 to-red-600 text-white py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:d?E.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):E.jsxs(E.Fragment,{children:["Access Dashboard ",E.jsx(ov,{size:20})]})})]})]})})]})},x8="modulepreload",C8=function(t,e){return new URL(t,e).href},HA={},R8=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let p=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};const u=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");a=p(n.map(y=>{if(y=C8(y,s),y in HA)return;HA[y]=!0;const v=y.endsWith(".css"),T=v?'[rel="stylesheet"]':"";if(s)for(let R=u.length-1;R>=0;R--){const D=u[R];if(D.href===y&&(!v||D.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${y}"]${T}`))return;const S=document.createElement("link");if(S.rel=v?"stylesheet":x8,v||(S.as="script"),S.crossOrigin="",S.href=y,d&&S.setAttribute("nonce",d),document.head.appendChild(S),v)return new Promise((R,D)=>{S.addEventListener("load",R),S.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},N8=({onClose:t})=>{const[e,n]=V.useState([]),[s,a]=V.useState([]),[l,u]=V.useState(""),[h,d]=V.useState(""),[p,y]=V.useState("mess_admin"),[v,T]=V.useState(""),[S,R]=V.useState(!1),[D,M]=V.useState(""),[k,B]=V.useState(null);V.useEffect(()=>{(async()=>{const x=(await xc(Hr(Yt,"messes"))).docs.map(I=>({id:I.id,...I.data()}));n(x),x.length>0&&T(x[0].id),F()})()},[]);const F=async()=>{const N=(await xc(Hr(Yt,"users"))).docs.map(x=>({id:x.id,...x.data()})).filter(x=>!x.deleted);a(N)},oe=async te=>{if(te.preventDefault(),!(!l||!h)&&window.confirm("WARNING: Creating a new account requires logging out of the current session. You will need to log back in as Super Admin afterwards. Continue?")){R(!0),M("");try{const x=`${l.trim().replace(/\s+/g,"_").toLowerCase()}@mitmess.com`,I=l;try{await l2(Hn,x,I)}catch(j){if(j.code==="auth/email-already-in-use"||j.message.includes("email-already-in-use")){console.log("Account exists. Overwriting/Reactivating..."),await Sd(di(Yt,"users",x),{email:x,name:h,accessCode:l,role:p,messId:p==="mess_admin"?v:null,createdAt:new Date().toISOString(),deleted:!1,reactivatedAt:new Date().toISOString()}),alert(`Account "${l}" already existed. It has been completely reset and reactivated with the new details. You will now be logged out.`),await vl(Hn),window.location.reload();return}else throw j}await Sd(di(Yt,"users",x),{email:x,name:h,accessCode:l,role:p,messId:p==="mess_admin"?v:null,createdAt:new Date().toISOString(),deleted:!1}),alert(`Success! Access Code "${l}" created for "${h}". You will now be logged out.`),await vl(Hn),window.location.reload()}catch(N){console.error("Creation Error:",N),M(N.message),R(!1),await vl(Hn)}}},re=async(te,N)=>{if(window.confirm(`Are you sure you want to delete admin "${N}"? They will no longer be able to log in.`))try{await Ad(di(Yt,"users",te),{deleted:!0}),a(s.filter(x=>x.id!==te)),B(null),alert(`Admin "${N}" deleted successfully.`)}catch(x){console.error("Delete Error:",x),alert("Failed to delete user: "+x.message)}};return E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm overflow-y-auto",children:[E.jsxs(Kt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-4xl overflow-hidden my-8",children:[E.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(l1,{className:"text-orange-600",size:24}),E.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Manage Admins"})]}),E.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:E.jsx(eo,{size:24})})]}),E.jsxs("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[E.jsxs("div",{children:[E.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[E.jsx(ty,{size:20})," Create New Admin"]}),E.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 flex gap-3",children:[E.jsx(c1,{className:"text-yellow-600 shrink-0",size:20}),E.jsxs("p",{className:"text-sm text-yellow-800",children:["Creating a new code will ",E.jsx("strong",{children:"log you out"}),". You'll need to sign back in with your Super Admin code afterwards."]})]}),E.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Name"}),E.jsx("input",{type:"text",value:h,onChange:te=>d(te.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",placeholder:"e.g. Rahul (Mess Manager)",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Access Code (Password)"}),E.jsx("input",{type:"text",value:l,onChange:te=>u(te.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",placeholder:"e.g. SecretCode123",required:!0}),E.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be used to log in."})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),E.jsxs("select",{value:p,onChange:te=>y(te.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",children:[E.jsx("option",{value:"mess_admin",children:"Mess Admin"}),E.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),p==="mess_admin"&&E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign Mess"}),E.jsx("select",{value:v,onChange:te=>T(te.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",children:e.map(te=>E.jsx("option",{value:te.id,children:te.name},te.id))})]}),D&&E.jsx("p",{className:"text-red-600 text-sm bg-red-50 p-2 rounded",children:D}),E.jsx("button",{type:"submit",disabled:S,className:"w-full bg-orange-600 text-white py-3 rounded-lg font-semibold shadow-lg hover:bg-orange-700 transition-all flex items-center justify-center gap-2 disabled:opacity-70",children:S?E.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):E.jsxs(E.Fragment,{children:["Create & Logout ",E.jsx(ty,{size:20})]})})]})]}),E.jsxs("div",{className:"border-t lg:border-t-0 lg:border-l border-gray-200 pt-8 lg:pt-0 lg:pl-8",children:[E.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Existing Admins"}),E.jsx("div",{className:"overflow-y-auto max-h-[500px] pr-2 custom-scrollbar",children:E.jsxs("div",{className:"space-y-3",children:[s.map(te=>E.jsx("div",{onClick:()=>B(te),className:"p-4 rounded-xl border border-gray-200 bg-gray-50 hover:bg-white hover:shadow-md transition-all cursor-pointer group",children:E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsx("h5",{className:"font-bold text-gray-900 group-hover:text-orange-600 transition-colors",children:te.name||"Unnamed Admin"}),E.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[E.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${te.role==="super_admin"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:te.role==="super_admin"?"Super Admin":"Mess Admin"}),te.messId&&E.jsxs("span",{className:"text-xs text-gray-500",children:[" ",e.find(N=>N.id===te.messId)?.name||te.messId]})]})]}),E.jsx("div",{className:"text-gray-400",children:E.jsx(ov,{size:16})})]})},te.id)),s.length===0&&E.jsx("p",{className:"text-gray-500 text-center py-8",children:"No admins found."})]})})]})]})]}),k&&E.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/20 backdrop-blur-sm",children:E.jsxs(Kt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden border border-gray-100",children:[E.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[E.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Admin Profile"}),E.jsx("button",{onClick:()=>B(null),className:"text-gray-400 hover:text-gray-600",children:E.jsx(eo,{size:20})})]}),E.jsxs("div",{className:"p-6 space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Name"}),E.jsx("p",{className:"text-lg font-medium text-gray-900",children:k.name||"N/A"})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Role"}),E.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:k.role.replace("_"," ")})]}),k.messId&&E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Mess"}),E.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.find(te=>te.id===k.messId)?.name||k.messId})]})]}),E.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[E.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider block mb-1",children:"Access Code (Password)"}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(ey,{size:14,className:"text-orange-500"}),E.jsx("p",{className:"font-mono text-lg font-bold text-gray-900",children:k.accessCode})]}),E.jsx("p",{className:"text-xs text-gray-400 mt-2 break-all",children:k.email})]}),k.accessCode==="LALA HI LALA"?E.jsx("div",{className:"bg-purple-50 text-purple-700 p-3 rounded-lg text-sm text-center font-medium border border-purple-100",children:" Owner Account (Protected)"}):E.jsxs("button",{onClick:()=>re(k.id,k.name),className:"w-full py-3 bg-red-50 text-red-600 rounded-xl font-semibold hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[E.jsx(u1,{size:18})," Delete Admin"]})]})]})})]})},I8=()=>{const[t,e]=V.useState([]),[n,s]=V.useState(""),[a,l]=V.useState(!1),[u,h]=V.useState("idle"),[d,p]=V.useState(""),[y,v]=V.useState(null),[T,S]=V.useState(null),[R,D]=V.useState(""),[M,k]=V.useState(!1),[B,F]=V.useState(""),[oe,re]=V.useState("from-orange-500 to-red-500"),[te,N]=V.useState(!1),[x,I]=V.useState([]),[j,L]=V.useState(!1),[H,P]=V.useState(!1),Fe=nv(),Qe=async()=>{try{await vl(Hn),Fe("/admin")}catch(ae){console.error("Error logging out:",ae)}},W=async(ae,_e,Ee=null)=>{try{await aA(Hr(Yt,"audit_logs"),{timestamp:new Date().toISOString(),action:ae,details:_e,messId:Ee,adminEmail:Hn.currentUser?.email||"unknown",adminName:R||"Unknown Admin"})}catch(mt){console.error("Failed to log action:",mt)}},le=async()=>{const _e=(await xc(Hr(Yt,"messes"))).docs.map(Ee=>({id:Ee.id,...Ee.data()}));e(_e),T?s(T):_e.length>0&&!n&&s(_e[0].id)},de=async ae=>{if(ae)try{const _e=await wd(di(Yt,"users",ae.email));if(_e.exists()){const Ee=_e.data();v(Ee.role),S(Ee.messId),D(Ee.name||"Unknown Admin"),Ee.role==="mess_admin"&&Ee.messId&&s(Ee.messId)}else console.warn("User not found in users collection, defaulting to restricted access."),v("mess_admin"),D("Unknown Admin")}catch(_e){console.error("Error fetching user role:",_e)}},xe=async()=>{L(!0);try{const ae=S5(Hr(Yt,"audit_logs"),A5("timestamp","desc"),x5(50)),Ee=(await xc(ae)).docs.map(mt=>({id:mt.id,...mt.data()}));I(Ee)}catch(ae){console.error("Error fetching history:",ae)}finally{L(!1)}};x.map(ae=>E.jsxs("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[E.jsx("div",{className:"mt-1",children:E.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm",children:E.jsx(td,{size:16,className:"text-gray-500"})})}),E.jsxs("div",{children:[E.jsx("p",{className:"font-medium text-gray-900",children:ae.details}),E.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500",children:[E.jsx("span",{className:"font-semibold text-orange-600",children:ae.adminName||ae.adminEmail}),ae.adminName&&E.jsxs("span",{className:"text-gray-400",children:["(",ae.adminEmail,")"]}),E.jsx("span",{children:""}),E.jsx("span",{children:new Date(ae.timestamp).toLocaleString()})]})]})]},ae.id)),V.useEffect(()=>{const ae=u2(Hn,async _e=>{_e?(await de(_e),le()):Fe("/admin")});return()=>ae()},[Fe,T]);const Ve=ae=>{ae.preventDefault(),l(!0)},U=()=>{l(!1)},ee=ae=>{ae.preventDefault(),l(!1);const _e=ae.dataTransfer.files;_e.length>0&&Te(_e[0])},ce=async ae=>{if(ae.preventDefault(),!!B)try{const _e={Monday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Tuesday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Wednesday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Thursday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Friday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Saturday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Sunday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"}},Ee=await aA(Hr(Yt,"messes"),{name:B,color:oe,menu:_e,lastUpdated:new Date().toISOString()});await W("CREATE_MESS",`Created mess: ${B}`,Ee.id),F(""),k(!1),await le(),s(Ee.id),alert("Mess added successfully!")}catch(_e){console.error("Error adding mess: ",_e),alert("Failed to add mess.")}},he=async()=>{if(n&&window.confirm("Are you sure you want to delete this mess? This action cannot be undone."))try{const ae=t.find(_e=>_e.id===n)?.name||n;await kR(di(Yt,"messes",n)),await W("DELETE_MESS",`Deleted mess: ${ae}`,n),await le(),t.length>1?s(t[0].id===n?t[1].id:t[0].id):s(""),alert("Mess deleted successfully.")}catch(ae){console.error("Error deleting mess: ",ae),alert("Failed to delete mess.")}},Te=async ae=>{h("uploading"),p("");try{const _e=new FileReader;_e.readAsDataURL(ae),_e.onload=async()=>{const Ee=_e.result.split(",")[1];h("processing");try{console.log("VERSION: GEMINI-2.0-FLASH-FINAL");const{GoogleGenerativeAI:mt}=await R8(async()=>{const{GoogleGenerativeAI:_i}=await import("./index-eZp-A-GY.js");return{GoogleGenerativeAI:_i}},[],import.meta.url),Yn=new mt("AIzaSyBiZukqBjGS2nd2lyyVTCle02aHth6jrLQ").getGenerativeModel({model:"gemini-2.0-flash"}),Kn=`
                    Extract the weekly menu from this image and return it as a strictly valid JSON object.
                    
                    CRITICAL INSTRUCTION: You must extract EVERY SINGLE DISH listed for each meal. 
                    - Do NOT summarize. 
                    - Do NOT truncate. 
                    - List all items separated by commas exactly as they appear in the image.
                    - If there are multiple items (e.g., "Rice, Dal, Curd"), include ALL of them.
                    - **IMPORTANT: Format all text in Sentence case (e.g., "Paneer butter masala", "Mix veg paratha"). Do NOT use ALL CAPS.**

                    The JSON structure must be exactly like this:
                    {
                        "Monday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Tuesday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Wednesday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Thursday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Friday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Saturday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Sunday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." }
                    }
                    If a meal is missing, use "N/A".
                    Do not include any markdown formatting (like \`\`\`json), just the raw JSON string.
                    `,Mt=new Promise((_i,Jt)=>setTimeout(()=>Jt(new Error("Request timed out (30s)")),3e4)),Ui=Yn.generateContent([Kn,{inlineData:{data:Ee,mimeType:ae.type}}]),nr=(await(await Promise.race([Ui,Mt])).response).text();console.log("Gemini Response:",nr);const Tt=nr.replace(/```json/g,"").replace(/```/g,"").trim();let bt;try{bt=JSON.parse(Tt)}catch(_i){throw console.error("JSON Parse Error:",_i),new Error("AI returned invalid data. Try a clearer image.")}const Bi=di(Yt,"messes",n);await Ad(Bi,{menu:bt,lastUpdated:new Date().toISOString()});const zl=t.find(_i=>_i.id===n)?.name||n;await W("UPDATE_MENU",`Updated menu for ${zl}`,n),h("success")}catch(mt){console.error("Gemini/Firestore Error:",mt),h("error"),p(mt.message||"Unknown error occurred")}}}catch(_e){console.error("File Reading Error:",_e),h("error"),p("Failed to read the file.")}},Ce=async()=>{if(n){h("processing"),p("");try{const Ee=await fetch("https://api.allorigins.win/raw?url="+encodeURIComponent("https://tikm.coolstuff.work/api/menu"));if(!Ee.ok)throw new Error("Failed to fetch from FC2 API");const mt=await Ee.json();if(!mt.menu)throw new Error("Invalid data received from FC2 API");const bn={Monday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Tuesday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Wednesday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Thursday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Friday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Saturday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Sunday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"}};Object.values(mt.menu).forEach(Mt=>{const Ui=Mt.day;if(bn[Ui]){const Pn=zi=>Array.isArray(zi)?zi.join(", "):zi||"N/A";bn[Ui]={Breakfast:Pn(Mt.meals?.breakfast?.items),Lunch:Pn(Mt.meals?.lunch?.items),Snacks:Pn(Mt.meals?.snacks?.items),Dinner:Pn(Mt.meals?.dinner?.items)}}});const Yn=di(Yt,"messes",n);await Ad(Yn,{menu:bn,lastUpdated:new Date().toISOString()});const Kn=t.find(Mt=>Mt.id===n)?.name||n;await W("AUTO_SYNC_MENU",`Auto-synced menu from FC2 for ${Kn}`,n),h("success")}catch(ae){console.error("Auto Sync Error:",ae),h("error"),p(ae.message||"Failed to sync with FC2.")}}};return E.jsxs("div",{className:"min-h-screen bg-gray-50 relative",children:[E.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[E.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),E.jsx("div",{className:"absolute top-0 -left-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"})]}),E.jsx(zd,{}),E.jsx("main",{className:"relative z-10 pt-24 pb-12 px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto",children:E.jsxs(Kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/50 overflow-hidden",children:[E.jsxs("div",{className:"p-8 border-b border-gray-100 flex justify-between items-center",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Menu Dashboard"}),E.jsx("p",{className:"text-gray-500 mt-2",children:"Update weekly menus using AI-powered image recognition"})]}),E.jsxs("div",{className:"flex gap-2",children:[y==="super_admin"&&E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:()=>P(!0),className:"p-2 text-gray-500 hover:text-orange-600 hover:bg-orange-50 rounded-full transition-all",title:"Manage Access Codes",children:E.jsx(ty,{size:24})}),E.jsx("button",{onClick:()=>{N(!0),xe()},className:"p-2 text-gray-500 hover:text-orange-600 hover:bg-orange-50 rounded-full transition-all",title:"View History",children:E.jsx(PE,{size:24})})]}),E.jsx("button",{onClick:Qe,className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-full transition-all",title:"Logout",children:E.jsx(MM,{size:24})})]})]}),E.jsxs("div",{className:"p-8",children:[E.jsxs("div",{className:"mb-8 flex items-end gap-4",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Mess"}),E.jsx("select",{value:n,onChange:ae=>s(ae.target.value),disabled:y==="mess_admin",className:`w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none bg-white/50 ${y==="mess_admin"?"opacity-70 cursor-not-allowed":""}`,children:t.map(ae=>E.jsx("option",{value:ae.id,children:ae.name},ae.id))})]}),y==="super_admin"&&E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:()=>k(!0),className:"p-3 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",title:"Add New Mess",children:E.jsx(jM,{size:24})}),E.jsx("button",{onClick:he,className:"p-3 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",title:"Delete Selected Mess",children:E.jsx(u1,{size:24})})]})]}),E.jsxs(Br,{mode:"wait",children:[u==="idle"&&E.jsxs(Kt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`border-3 border-dashed rounded-2xl p-12 text-center transition-all duration-300 ${a?"border-orange-500 bg-orange-50":"border-gray-300 hover:border-orange-400 hover:bg-gray-50"}`,onDragOver:Ve,onDragLeave:U,onDrop:ee,children:[E.jsx("div",{className:"bg-orange-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:E.jsx(KM,{className:"text-orange-600",size:40})}),E.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Drag & Drop Menu Image"}),E.jsx("p",{className:"text-gray-500 mb-6",children:"or click to browse files"}),E.jsx("input",{type:"file",id:"file-upload",className:"hidden",onChange:ae=>{ae.target.files.length>0&&Te(ae.target.files[0])},accept:"image/*"}),E.jsxs("div",{className:"flex flex-col items-center gap-4",children:[E.jsx("label",{htmlFor:"file-upload",className:"px-6 py-2 bg-white border border-gray-200 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors shadow-sm cursor-pointer",children:"Browse Files"}),(t.find(ae=>ae.id===n)?.name?.toLowerCase().includes("food court 2")||t.find(ae=>ae.id===n)?.name?.toLowerCase().includes("fc2"))&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm",children:[E.jsx("span",{className:"h-px w-12 bg-gray-200"}),E.jsx("span",{children:"OR"}),E.jsx("span",{className:"h-px w-12 bg-gray-200"})]}),E.jsxs("button",{onClick:Ce,className:"px-6 py-2 bg-blue-50 text-blue-600 border border-blue-100 rounded-lg font-medium hover:bg-blue-100 transition-colors shadow-sm flex items-center gap-2",children:[E.jsx(zM,{size:18})," Sync with FC2"]})]})]})]}),(u==="uploading"||u==="processing")&&E.jsxs(Kt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0},className:"border rounded-2xl p-12 text-center bg-white/50",children:[E.jsx("div",{className:"w-24 h-24 mx-auto mb-6 rounded-full skeleton-loader"}),E.jsx("div",{className:"h-8 w-48 mx-auto mb-4 rounded skeleton-loader"}),E.jsx("div",{className:"h-4 w-64 mx-auto rounded skeleton-loader"})]}),u==="success"&&E.jsxs(Kt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"border border-green-200 bg-green-50/50 rounded-2xl p-12 text-center",children:[E.jsx("div",{className:"bg-green-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:E.jsx(o1,{className:"text-green-600",size:40})}),E.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Menu Updated Successfully!"}),E.jsxs("p",{className:"text-gray-600 mb-6",children:["The menu for ",E.jsx("span",{className:"font-semibold",children:t.find(ae=>ae.id===n)?.name})," has been updated."]}),E.jsx("button",{onClick:()=>h("idle"),className:"px-6 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors shadow-lg",children:"Upload Another"})]}),u==="error"&&E.jsxs(Kt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"border border-red-200 bg-red-50/50 rounded-2xl p-8 text-center",children:[E.jsx("h3",{className:"text-xl font-semibold text-red-900 mb-2",children:"Upload Failed"}),E.jsx("p",{className:"text-red-600 mb-6 font-mono text-sm bg-red-100 p-3 rounded",children:d}),E.jsx("button",{onClick:()=>h("idle"),className:"px-6 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors shadow-lg",children:"Try Again"})]})]})]})]})}),E.jsx(Br,{children:M&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:E.jsxs(Kt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:[E.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[E.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add New Mess"}),E.jsx("button",{onClick:()=>k(!1),className:"text-gray-400 hover:text-gray-600",children:E.jsx(eo,{size:24})})]}),E.jsxs("form",{onSubmit:ce,className:"p-6 space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mess Name"}),E.jsx("input",{type:"text",value:B,onChange:ae=>F(ae.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",placeholder:"e.g., New Hostel Mess",required:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Theme Color"}),E.jsxs("select",{value:oe,onChange:ae=>re(ae.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",children:[E.jsx("option",{value:"from-orange-500 to-red-500",children:"Orange (Default)"}),E.jsx("option",{value:"from-blue-500 to-cyan-500",children:"Blue"}),E.jsx("option",{value:"from-green-500 to-emerald-500",children:"Green"}),E.jsx("option",{value:"from-purple-500 to-pink-500",children:"Purple"}),E.jsx("option",{value:"from-pink-500 to-rose-500",children:"Pink"})]})]}),E.jsxs("div",{className:"pt-4 flex gap-3",children:[E.jsx("button",{type:"button",onClick:()=>k(!1),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),E.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-colors",children:"Create Mess"})]})]})]})})}),E.jsx(Br,{children:te&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:E.jsxs(Kt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[80vh]",children:[E.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center shrink-0",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(PE,{className:"text-orange-600",size:24}),E.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Activity History"})]}),E.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:E.jsx(eo,{size:24})})]}),E.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:j?E.jsx("div",{className:"space-y-4",children:[1,2,3].map(ae=>E.jsxs("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[E.jsx("div",{className:"mt-1",children:E.jsx("div",{className:"w-8 h-8 rounded-full skeleton-loader"})}),E.jsxs("div",{className:"flex-1",children:[E.jsx("div",{className:"h-4 w-3/4 mb-2 rounded skeleton-loader"}),E.jsx("div",{className:"h-3 w-1/2 rounded skeleton-loader"})]})]},ae))}):x.length===0?E.jsx("p",{className:"text-center text-gray-500 py-8",children:"No activity recorded yet."}):E.jsx("div",{className:"space-y-4",children:x.map(ae=>E.jsxs("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[E.jsx("div",{className:"mt-1",children:E.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm",children:E.jsx(td,{size:16,className:"text-gray-500"})})}),E.jsxs("div",{children:[E.jsx("p",{className:"font-medium text-gray-900",children:ae.details}),E.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500",children:[E.jsx("span",{className:"font-semibold text-orange-600",children:ae.adminName||ae.adminEmail}),ae.adminName&&E.jsxs("span",{className:"text-gray-400",children:["(",ae.adminEmail,")"]}),E.jsx("span",{children:""}),E.jsx("span",{children:new Date(ae.timestamp).toLocaleString()})]})]})]},ae.id))})})]})})}),E.jsx(Br,{children:H&&E.jsx(N8,{onClose:()=>P(!1)})})]})};class D8 extends hi.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){this.setState({error:e,errorInfo:n}),console.error("Uncaught error:",e,n)}render(){return this.state.hasError?E.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:E.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-lg w-full border border-red-100",children:[E.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),E.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg overflow-auto max-h-64 mb-4 text-sm font-mono text-gray-800",children:[this.state.error&&this.state.error.toString(),E.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]}),E.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Reload Page"})]})}):this.props.children}}const M8=()=>{const[t,e]=V.useState(""),[n,s]=V.useState("idle"),[a,l]=V.useState(""),u=async h=>{if(h.preventDefault(),!!t){s("processing"),l("Starting system reset...");try{l("Removing existing user roles...");const d=Hr(Yt,"users"),y=(await xc(d)).docs.map(S=>kR(S.ref));await Promise.all(y),l("Creating Super Admin privileges...");const T=`${t.trim().replace(/\s+/g,"_").toLowerCase()}@mitmess.com`;await Sd(di(Yt,"users",T),{email:T,role:"super_admin",createdAt:new Date().toISOString()}),l("Setting up authentication...");try{await l2(Hn,T,t),l("System reset complete! Super Admin created.")}catch(S){if(S.code==="auth/email-already-in-use")l("System reset complete! (Admin account already existed, permissions restored).");else throw S}s("success")}catch(d){console.error("Reset failed:",d),s("error"),l(`Failed: ${d.message}`)}}};return E.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:E.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl overflow-hidden border border-red-100",children:[E.jsxs("div",{className:"bg-red-50 p-6 border-b border-red-100 flex items-center gap-4",children:[E.jsx("div",{className:"p-3 bg-red-100 text-red-600 rounded-full",children:E.jsx(c1,{size:24})}),E.jsxs("div",{children:[E.jsx("h1",{className:"text-xl font-bold text-red-900",children:"System Reset"}),E.jsx("p",{className:"text-red-600 text-sm",children:"Emergency Recovery Tool"})]})]}),E.jsxs("div",{className:"p-6",children:[E.jsxs("p",{className:"text-gray-600 mb-6 text-sm",children:["This tool will ",E.jsx("strong",{children:"delete all existing user roles"})," from the database and allow you to create a new Super Admin account.",E.jsx("br",{}),E.jsx("br",{}),"Use this if you have lost access to the Super Admin account."]}),n==="success"?E.jsxs("div",{className:"text-center py-6",children:[E.jsx("div",{className:"w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(o1,{size:32})}),E.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Reset Successful"}),E.jsx("p",{className:"text-gray-600 mb-6",children:a}),E.jsx("a",{href:"/admin",className:"inline-block w-full py-3 px-4 bg-gray-900 text-white rounded-xl font-medium hover:bg-gray-800 transition-colors",children:"Go to Login"})]}):E.jsxs("form",{onSubmit:u,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Super Admin Access Code"}),E.jsxs("div",{className:"relative",children:[E.jsx(l1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),E.jsx("input",{type:"text",value:t,onChange:h=>e(h.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-red-500 outline-none transition-all",placeholder:"Enter new code (e.g. admin123)",required:!0,disabled:n==="processing"})]})]}),n==="error"&&E.jsx("div",{className:"p-3 bg-red-50 text-red-600 text-sm rounded-lg",children:a}),E.jsx("button",{type:"submit",disabled:n==="processing"||!t,className:"w-full py-3 px-4 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:n==="processing"?E.jsxs(E.Fragment,{children:[E.jsx(NM,{className:"animate-spin",size:20}),"Resetting..."]}):"Reset System & Create Admin"})]})]})]})})};function P8(){return E.jsx(D8,{children:E.jsx(iM,{children:E.jsxs(VD,{children:[E.jsx(nl,{path:"/",element:E.jsx(cB,{})}),E.jsx(nl,{path:"/mess/:id",element:E.jsx(S8,{})}),E.jsx(nl,{path:"/admin",element:E.jsx(A8,{})}),E.jsx(nl,{path:"/admin/dashboard",element:E.jsx(I8,{})}),E.jsx(nl,{path:"/system-reset",element:E.jsx(M8,{})})]})})})}FI.createRoot(document.getElementById("root")).render(E.jsx(V.StrictMode,{children:E.jsx(P8,{})}));
