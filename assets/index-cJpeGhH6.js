(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function NI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var og={exports:{}},Uu={};var mb;function MI(){if(mb)return Uu;mb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:l}}return Uu.Fragment=e,Uu.jsx=n,Uu.jsxs=n,Uu}var pb;function PI(){return pb||(pb=1,og.exports=MI()),og.exports}var w=PI(),lg={exports:{}},Ce={};var gb;function VI(){if(gb)return Ce;gb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),T=Symbol.iterator;function S(U){return U===null||typeof U!="object"?null:(U=T&&U[T]||U["@@iterator"],typeof U=="function"?U:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,N={};function j(U,ie,ue){this.props=U,this.context=ie,this.refs=N,this.updater=ue||R}j.prototype.isReactComponent={},j.prototype.setState=function(U,ie){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ie,"setState")},j.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function B(){}B.prototype=j.prototype;function F(U,ie,ue){this.props=U,this.context=ie,this.refs=N,this.updater=ue||R}var W=F.prototype=new B;W.constructor=F,M(W,j.prototype),W.isPureReactComponent=!0;var ee=Array.isArray;function oe(){}var D={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function I(U,ie,ue){var te=ue.ref;return{$$typeof:t,type:U,key:ie,ref:te!==void 0?te:null,props:ue}}function L(U,ie){return I(U.type,ie,U.props)}function k(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function H(U){var ie={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ue){return ie[ue]})}var P=/\/+/g;function ze(U,ie){return typeof U=="object"&&U!==null&&U.key!=null?H(""+U.key):ie.toString(36)}function Ge(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(oe,oe):(U.status="pending",U.then(function(ie){U.status==="pending"&&(U.status="fulfilled",U.value=ie)},function(ie){U.status==="pending"&&(U.status="rejected",U.reason=ie)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Z(U,ie,ue,te,he){var ge=typeof U;(ge==="undefined"||ge==="boolean")&&(U=null);var Se=!1;if(U===null)Se=!0;else switch(ge){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(U.$$typeof){case t:case e:Se=!0;break;case y:return Se=U._init,Z(Se(U._payload),ie,ue,te,he)}}if(Se)return he=he(U),Se=te===""?"."+ze(U,0):te,ee(he)?(ue="",Se!=null&&(ue=Se.replace(P,"$&/")+"/"),Z(he,ie,ue,"",function(Bn){return Bn})):he!=null&&(k(he)&&(he=L(he,ue+(he.key==null||U&&U.key===he.key?"":(""+he.key).replace(P,"$&/")+"/")+Se)),ie.push(he)),1;Se=0;var mt=te===""?".":te+":";if(ee(U))for(var $e=0;$e<U.length;$e++)te=U[$e],ge=mt+ze(te,$e),Se+=Z(te,ie,ue,ge,he);else if($e=S(U),typeof $e=="function")for(U=$e.call(U),$e=0;!(te=U.next()).done;)te=te.value,ge=mt+ze(te,$e++),Se+=Z(te,ie,ue,ge,he);else if(ge==="object"){if(typeof U.then=="function")return Z(Ge(U),ie,ue,te,he);throw ie=String(U),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Se}function le(U,ie,ue){if(U==null)return U;var te=[],he=0;return Z(U,te,"","",function(ge){return ie.call(ue,ge,he++)}),te}function de(U){if(U._status===-1){var ie=U._result;ie=ie(),ie.then(function(ue){(U._status===0||U._status===-1)&&(U._status=1,U._result=ue)},function(ue){(U._status===0||U._status===-1)&&(U._status=2,U._result=ue)}),U._status===-1&&(U._status=0,U._result=ie)}if(U._status===1)return U._result.default;throw U._result}var Ae=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Me={map:le,forEach:function(U,ie,ue){le(U,function(){ie.apply(this,arguments)},ue)},count:function(U){var ie=0;return le(U,function(){ie++}),ie},toArray:function(U){return le(U,function(ie){return ie})||[]},only:function(U){if(!k(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Ce.Activity=v,Ce.Children=Me,Ce.Component=j,Ce.Fragment=n,Ce.Profiler=a,Ce.PureComponent=F,Ce.StrictMode=r,Ce.Suspense=d,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(U){return D.H.useMemoCache(U)}},Ce.cache=function(U){return function(){return U.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(U,ie,ue){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var te=M({},U.props),he=U.key;if(ie!=null)for(ge in ie.key!==void 0&&(he=""+ie.key),ie)!C.call(ie,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&ie.ref===void 0||(te[ge]=ie[ge]);var ge=arguments.length-2;if(ge===1)te.children=ue;else if(1<ge){for(var Se=Array(ge),mt=0;mt<ge;mt++)Se[mt]=arguments[mt+2];te.children=Se}return I(U.type,he,te)},Ce.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Ce.createElement=function(U,ie,ue){var te,he={},ge=null;if(ie!=null)for(te in ie.key!==void 0&&(ge=""+ie.key),ie)C.call(ie,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(he[te]=ie[te]);var Se=arguments.length-2;if(Se===1)he.children=ue;else if(1<Se){for(var mt=Array(Se),$e=0;$e<Se;$e++)mt[$e]=arguments[$e+2];he.children=mt}if(U&&U.defaultProps)for(te in Se=U.defaultProps,Se)he[te]===void 0&&(he[te]=Se[te]);return I(U,ge,he)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(U){return{$$typeof:h,render:U}},Ce.isValidElement=k,Ce.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:de}},Ce.memo=function(U,ie){return{$$typeof:p,type:U,compare:ie===void 0?null:ie}},Ce.startTransition=function(U){var ie=D.T,ue={};D.T=ue;try{var te=U(),he=D.S;he!==null&&he(ue,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(oe,Ae)}catch(ge){Ae(ge)}finally{ie!==null&&ue.types!==null&&(ie.types=ue.types),D.T=ie}},Ce.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ce.use=function(U){return D.H.use(U)},Ce.useActionState=function(U,ie,ue){return D.H.useActionState(U,ie,ue)},Ce.useCallback=function(U,ie){return D.H.useCallback(U,ie)},Ce.useContext=function(U){return D.H.useContext(U)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(U,ie){return D.H.useDeferredValue(U,ie)},Ce.useEffect=function(U,ie){return D.H.useEffect(U,ie)},Ce.useEffectEvent=function(U){return D.H.useEffectEvent(U)},Ce.useId=function(){return D.H.useId()},Ce.useImperativeHandle=function(U,ie,ue){return D.H.useImperativeHandle(U,ie,ue)},Ce.useInsertionEffect=function(U,ie){return D.H.useInsertionEffect(U,ie)},Ce.useLayoutEffect=function(U,ie){return D.H.useLayoutEffect(U,ie)},Ce.useMemo=function(U,ie){return D.H.useMemo(U,ie)},Ce.useOptimistic=function(U,ie){return D.H.useOptimistic(U,ie)},Ce.useReducer=function(U,ie,ue){return D.H.useReducer(U,ie,ue)},Ce.useRef=function(U){return D.H.useRef(U)},Ce.useState=function(U){return D.H.useState(U)},Ce.useSyncExternalStore=function(U,ie,ue){return D.H.useSyncExternalStore(U,ie,ue)},Ce.useTransition=function(){return D.H.useTransition()},Ce.version="19.2.0",Ce}var yb;function Wy(){return yb||(yb=1,lg.exports=VI()),lg.exports}var V=Wy();const ai=NI(V);var ug={exports:{}},zu={},cg={exports:{}},hg={};var vb;function OI(){return vb||(vb=1,(function(t){function e(Z,le){var de=Z.length;Z.push(le);e:for(;0<de;){var Ae=de-1>>>1,Me=Z[Ae];if(0<a(Me,le))Z[Ae]=le,Z[de]=Me,de=Ae;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var le=Z[0],de=Z.pop();if(de!==le){Z[0]=de;e:for(var Ae=0,Me=Z.length,U=Me>>>1;Ae<U;){var ie=2*(Ae+1)-1,ue=Z[ie],te=ie+1,he=Z[te];if(0>a(ue,de))te<Me&&0>a(he,ue)?(Z[Ae]=he,Z[te]=de,Ae=te):(Z[Ae]=ue,Z[ie]=de,Ae=ie);else if(te<Me&&0>a(he,de))Z[Ae]=he,Z[te]=de,Ae=te;else break e}}return le}function a(Z,le){var de=Z.sortIndex-le.sortIndex;return de!==0?de:Z.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],y=1,v=null,T=3,S=!1,R=!1,M=!1,N=!1,j=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function W(Z){for(var le=n(p);le!==null;){if(le.callback===null)r(p);else if(le.startTime<=Z)r(p),le.sortIndex=le.expirationTime,e(d,le);else break;le=n(p)}}function ee(Z){if(M=!1,W(Z),!R)if(n(d)!==null)R=!0,oe||(oe=!0,H());else{var le=n(p);le!==null&&Ge(ee,le.startTime-Z)}}var oe=!1,D=-1,C=5,I=-1;function L(){return N?!0:!(t.unstable_now()-I<C)}function k(){if(N=!1,oe){var Z=t.unstable_now();I=Z;var le=!0;try{e:{R=!1,M&&(M=!1,B(D),D=-1),S=!0;var de=T;try{t:{for(W(Z),v=n(d);v!==null&&!(v.expirationTime>Z&&L());){var Ae=v.callback;if(typeof Ae=="function"){v.callback=null,T=v.priorityLevel;var Me=Ae(v.expirationTime<=Z);if(Z=t.unstable_now(),typeof Me=="function"){v.callback=Me,W(Z),le=!0;break t}v===n(d)&&r(d),W(Z)}else r(d);v=n(d)}if(v!==null)le=!0;else{var U=n(p);U!==null&&Ge(ee,U.startTime-Z),le=!1}}break e}finally{v=null,T=de,S=!1}le=void 0}}finally{le?H():oe=!1}}}var H;if(typeof F=="function")H=function(){F(k)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,ze=P.port2;P.port1.onmessage=k,H=function(){ze.postMessage(null)}}else H=function(){j(k,0)};function Ge(Z,le){D=j(function(){Z(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(Z){switch(T){case 1:case 2:case 3:var le=3;break;default:le=T}var de=T;T=le;try{return Z()}finally{T=de}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(Z,le){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var de=T;T=Z;try{return le()}finally{T=de}},t.unstable_scheduleCallback=function(Z,le,de){var Ae=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ae+de:Ae):de=Ae,Z){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=de+Me,Z={id:y++,callback:le,priorityLevel:Z,startTime:de,expirationTime:Me,sortIndex:-1},de>Ae?(Z.sortIndex=de,e(p,Z),n(d)===null&&Z===n(p)&&(M?(B(D),D=-1):M=!0,Ge(ee,de-Ae))):(Z.sortIndex=Me,e(d,Z),R||S||(R=!0,oe||(oe=!0,H()))),Z},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(Z){var le=T;return function(){var de=T;T=le;try{return Z.apply(this,arguments)}finally{T=de}}}})(hg)),hg}var _b;function kI(){return _b||(_b=1,cg.exports=OI()),cg.exports}var fg={exports:{}},on={};var Tb;function LI(){if(Tb)return on;Tb=1;var t=Wy();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:p,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,on.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,y)},on.flushSync=function(d){var p=u.T,y=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=p,r.p=y,r.d.f()}},on.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},on.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},on.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:S}):y==="script"&&r.d.X(d,{crossOrigin:v,integrity:T,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},on.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},on.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);r.d.L(d,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},on.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=h(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},on.requestFormReset=function(d){r.d.r(d)},on.unstable_batchedUpdates=function(d,p){return d(p)},on.useFormState=function(d,p,y){return u.H.useFormState(d,p,y)},on.useFormStatus=function(){return u.H.useHostTransitionStatus()},on.version="19.2.0",on}var Eb;function jI(){if(Eb)return fg.exports;Eb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fg.exports=LI(),fg.exports}var bb;function UI(){if(bb)return zu;bb=1;var t=kI(),e=Wy(),n=jI();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,c=s;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return d(m),i;if(g===c)return d(m),s;g=g.sibling}throw Error(r(188))}if(o.return!==c.return)o=m,c=g;else{for(var E=!1,A=m.child;A;){if(A===o){E=!0,o=m,c=g;break}if(A===c){E=!0,c=m,o=g;break}A=A.sibling}if(!E){for(A=g.child;A;){if(A===o){E=!0,o=g,c=m;break}if(A===c){E=!0,c=g,o=m;break}A=A.sibling}if(!E)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function y(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=y(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),F=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var P=Symbol.for("react.client.reference");function ze(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===P?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case j:return"Profiler";case N:return"StrictMode";case ee:return"Suspense";case oe:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case R:return"Portal";case F:return i.displayName||"Context";case B:return(i._context.displayName||"Context")+".Consumer";case W:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return s=i.displayName||null,s!==null?s:ze(i.type)||"Memo";case C:s=i._payload,i=i._init;try{return ze(i(s))}catch{}}return null}var Ge=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ae=[],Me=-1;function U(i){return{current:i}}function ie(i){0>Me||(i.current=Ae[Me],Ae[Me]=null,Me--)}function ue(i,s){Me++,Ae[Me]=i.current,i.current=s}var te=U(null),he=U(null),ge=U(null),Se=U(null);function mt(i,s){switch(ue(ge,s),ue(he,i),ue(te,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?LE(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=LE(s),i=jE(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ie(te),ue(te,i)}function $e(){ie(te),ie(he),ie(ge)}function Bn(i){i.memoizedState!==null&&ue(Se,i);var s=te.current,o=jE(s,i.type);s!==o&&(ue(he,i),ue(te,o))}function di(i){he.current===i&&(ie(te),ie(he)),Se.current===i&&(ie(Se),Ou._currentValue=de)}var Vi,yr;function mi(i){if(Vi===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Vi=s&&s[1]||"",yr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vi+i+yr}var Jr=!1;function vr(i,s){if(!i||Jr)return"";Jr=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Q){var X=Q}Reflect.construct(i,[],se)}else{try{se.call()}catch(Q){X=Q}i.call(se.prototype)}}else{try{throw Error()}catch(Q){X=Q}(se=i())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Q){if(Q&&X&&typeof Q.stack=="string")return[Q.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),E=g[0],A=g[1];if(E&&A){var O=E.split(`
`),K=A.split(`
`);for(m=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;if(c===O.length||m===K.length)for(c=O.length-1,m=K.length-1;1<=c&&0<=m&&O[c]!==K[m];)m--;for(;1<=c&&0<=m;c--,m--)if(O[c]!==K[m]){if(c!==1||m!==1)do if(c--,m--,0>m||O[c]!==K[m]){var J=`
`+O[c].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=c&&0<=m);break}}}finally{Jr=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?mi(o):""}function es(i,s){switch(i.tag){case 26:case 27:case 5:return mi(i.type);case 16:return mi("Lazy");case 13:return i.child!==s&&s!==null?mi("Suspense Fallback"):mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return vr(i.type,!1);case 11:return vr(i.type.render,!1);case 1:return vr(i.type,!0);case 31:return mi("Activity");default:return""}}function ca(i){try{var s="",o=null;do s+=es(i,o),o=i,i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var _t=Object.prototype.hasOwnProperty,rt=t.unstable_scheduleCallback,Oi=t.unstable_cancelCallback,um=t.unstable_shouldYield,Kc=t.unstable_requestPaint,mn=t.unstable_now,ha=t.unstable_getCurrentPriorityLevel,jl=t.unstable_ImmediatePriority,Ul=t.unstable_UserBlockingPriority,ts=t.unstable_NormalPriority,cm=t.unstable_LowPriority,Xc=t.unstable_IdlePriority,$c=t.log,Qc=t.unstable_setDisableYieldValue,pi=null,$t=null;function Fn(i){if(typeof $c=="function"&&Qc(i),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(pi,i)}catch{}}var At=Math.clz32?Math.clz32:Zc,Wc=Math.log,fo=Math.LN2;function Zc(i){return i>>>=0,i===0?32:31-(Wc(i)/fo|0)|0}var ki=256,fa=262144,Nt=4194304;function Li(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function ji(i,s,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,g=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~g,c!==0?m=Li(c):(E&=A,E!==0?m=Li(E):o||(o=A&~i,o!==0&&(m=Li(o))))):(A=c&~g,A!==0?m=Li(A):E!==0?m=Li(E):o||(o=c&~i,o!==0&&(m=Li(o)))),m===0?0:s!==0&&s!==m&&(s&g)===0&&(g=m&-m,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:m}function gi(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function hm(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jc(){var i=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),i}function Ui(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function da(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function fm(i,s,o,c,m,g){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,O=i.expirationTimes,K=i.hiddenUpdates;for(o=E&~o;0<o;){var J=31-At(o),se=1<<J;A[J]=0,O[J]=-1;var X=K[J];if(X!==null)for(K[J]=null,J=0;J<X.length;J++){var Q=X[J];Q!==null&&(Q.lane&=-536870913)}o&=~se}c!==0&&ma(i,c,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(E&~s))}function ma(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-At(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function zl(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var c=31-At(o),m=1<<c;m&s|i[c]&s&&(i[c]|=s),o&=~m}}function Bl(i,s){var o=s&-s;return o=(o&42)!==0?1:pa(o),(o&(i.suspendedLanes|s))!==0?0:o}function pa(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function _r(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function eh(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:ob(i.type))}function yi(i,s){var o=le.p;try{return le.p=i,s()}finally{le.p=o}}var vi=Math.random().toString(36).slice(2),Mt="__reactFiber$"+vi,Gt="__reactProps$"+vi,zi="__reactContainer$"+vi,mo="__reactEvents$"+vi,dm="__reactListeners$"+vi,th="__reactHandles$"+vi,nh="__reactResources$"+vi,Bi="__reactMarker$"+vi;function po(i){delete i[Mt],delete i[Gt],delete i[mo],delete i[dm],delete i[th]}function Fi(i){var s=i[Mt];if(s)return s;for(var o=i.parentNode;o;){if(s=o[zi]||o[Mt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=GE(i);i!==null;){if(o=i[Mt])return o;i=GE(i)}return s}i=o,o=i.parentNode}return null}function Hn(i){if(i=i[Mt]||i[zi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function In(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Hi(i){var s=i[nh];return s||(s=i[nh]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Pt(i){i[Bi]=!0}var Fl=new Set,Hl={};function qi(i,s){Gi(i,s),Gi(i+"Capture",s)}function Gi(i,s){for(Hl[i]=s,i=0;i<s.length;i++)Fl.add(s[i])}var ql=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gl={},Yl={};function ih(i){return _t.call(Yl,i)?!0:_t.call(Gl,i)?!1:ql.test(i)?Yl[i]=!0:(Gl[i]=!0,!1)}function go(i,s,o){if(ih(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Nn(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Vt(i,s,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+c)}}function Yt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ns(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Kl(i,s,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(E){o=""+E,g.call(this,E)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Qe(i){if(!i._valueTracker){var s=ns(i)?"checked":"value";i._valueTracker=Kl(i,s,""+i[s])}}function ga(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return i&&(c=ns(i)?i.checked?"true":"false":i.value),i=c,i!==o?(s.setValue(i),!0):!1}function Yi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ya=/[\n"\\]/g;function _n(i){return i.replace(ya,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function yo(i,s,o,c,m,g,E,A){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),s!=null?E==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Yt(s)):i.value!==""+Yt(s)&&(i.value=""+Yt(s)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),s!=null?Xl(i,E,Yt(s)):o!=null?Xl(i,E,Yt(o)):c!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+Yt(A):i.removeAttribute("name")}function rh(i,s,o,c,m,g,E,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){Qe(i);return}o=o!=null?""+Yt(o):"",s=s!=null?""+Yt(s):o,A||s===i.value||(i.value=s),i.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E),Qe(i)}function Xl(i,s,o){s==="number"&&Yi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function is(i,s,o,c){if(i=i.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=s.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Yt(o),s=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function sh(i,s,o){if(s!=null&&(s=""+Yt(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+Yt(o):""}function rs(i,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(r(92));if(Ge(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Yt(s),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),Qe(i)}function Tn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var ah=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $l(i,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,o):typeof o!="number"||o===0||ah.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Ql(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&o[m]!==c&&$l(i,m,c)}else for(var g in s)s.hasOwnProperty(g)&&$l(i,g,s[g])}function vo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ss=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _o(i){return ss.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function _i(){}var Wl=null;function qn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var as=null,Ki=null;function va(i){var s=Hn(i);if(s&&(i=s.stateNode)){var o=i[Gt]||null;e:switch(i=s.stateNode,s.type){case"input":if(yo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+_n(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==i&&c.form===i.form){var m=c[Gt]||null;if(!m)throw Error(r(90));yo(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===i.form&&ga(c)}break e;case"textarea":sh(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&is(i,!!o.multiple,s,!1)}}}var To=!1;function os(i,s,o){if(To)return i(s,o);To=!0;try{var c=i(s);return c}finally{if(To=!1,(as!==null||Ki!==null)&&(ef(),as&&(s=as,i=Ki,Ki=as=null,va(s),i)))for(s=0;s<i.length;s++)va(i[s])}}function Ti(i,s){var o=i.stateNode;if(o===null)return null;var c=o[Gt]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_a=!1;if(Gn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){_a=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{_a=!1}var Xi=null,Zl=null,Ta=null;function Jl(){if(Ta)return Ta;var i,s=Zl,o=s.length,c,m="value"in Xi?Xi.value:Xi.textContent,g=m.length;for(i=0;i<o&&s[i]===m[i];i++);var E=o-i;for(c=1;c<=E&&s[o-c]===m[g-c];c++);return Ta=m.slice(i,1<c?1-c:void 0)}function Ea(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Tr(){return!0}function Ei(){return!1}function Qt(i){function s(o,c,m,g,E){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Tr:Ei,this.isPropagationStopped=Ei,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Tr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Tr)},persist:function(){},isPersistent:Tr}),s}var Er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$i=Qt(Er),ls=v({},Er,{view:0,detail:0}),eu=Qt(ls),us,Eo,Qi,bo=v({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Qi&&(Qi&&i.type==="mousemove"?(us=i.screenX-Qi.screenX,Eo=i.screenY-Qi.screenY):Eo=us=0,Qi=i),us)},movementY:function(i){return"movementY"in i?i.movementY:Eo}}),tu=Qt(bo),ba=v({},bo,{dataTransfer:0}),lh=Qt(ba),uh=v({},ls,{relatedTarget:0}),wa=Qt(uh),nu=v({},Er,{animationName:0,elapsedTime:0,pseudoElement:0}),ch=Qt(nu),wo=v({},Er,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),hh=Qt(wo),fh=v({},Er,{data:0}),Wi=Qt(fh),dh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ph={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gh(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=ph[i])?!!s[i]:!1}function cs(){return gh}var pn=v({},ls,{key:function(i){if(i.key){var s=dh[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ea(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?mh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cs,charCode:function(i){return i.type==="keypress"?Ea(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ea(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),yh=Qt(pn),vh=v({},bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),br=Qt(vh),f=v({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cs}),_=Qt(f),b=v({},Er,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=Qt(b),G=v({},bo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Qt(G),ce=v({},Er,{newState:0,oldState:0}),De=Qt(ce),xt=[9,13,27,32],Ye=Gn&&"CompositionEvent"in window,ct=null;Gn&&"documentMode"in document&&(ct=document.documentMode);var Yn=Gn&&"TextEvent"in window&&!ct,Zi=Gn&&(!Ye||ct&&8<ct&&11>=ct),bi=" ",wi=!1;function Sa(i,s){switch(i){case"keyup":return xt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function So(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ao=!1;function tD(i,s){switch(i){case"compositionend":return So(s);case"keypress":return s.which!==32?null:(wi=!0,bi);case"textInput":return i=s.data,i===bi&&wi?null:i;default:return null}}function nD(i,s){if(Ao)return i==="compositionend"||!Ye&&Sa(i,s)?(i=Jl(),Ta=Zl=Xi=null,Ao=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Zi&&s.locale!=="ko"?null:s.data;default:return null}}var iD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function X0(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!iD[i.type]:s==="textarea"}function $0(i,s,o,c){as?Ki?Ki.push(c):Ki=[c]:as=c,s=lf(s,"onChange"),0<s.length&&(o=new $i("onChange","change",null,o,c),i.push({event:o,listeners:s}))}var iu=null,ru=null;function rD(i){NE(i,0)}function _h(i){var s=In(i);if(ga(s))return i}function Q0(i,s){if(i==="change")return s}var W0=!1;if(Gn){var mm;if(Gn){var pm="oninput"in document;if(!pm){var Z0=document.createElement("div");Z0.setAttribute("oninput","return;"),pm=typeof Z0.oninput=="function"}mm=pm}else mm=!1;W0=mm&&(!document.documentMode||9<document.documentMode)}function J0(){iu&&(iu.detachEvent("onpropertychange",e_),ru=iu=null)}function e_(i){if(i.propertyName==="value"&&_h(ru)){var s=[];$0(s,ru,i,qn(i)),os(rD,s)}}function sD(i,s,o){i==="focusin"?(J0(),iu=s,ru=o,iu.attachEvent("onpropertychange",e_)):i==="focusout"&&J0()}function aD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return _h(ru)}function oD(i,s){if(i==="click")return _h(s)}function lD(i,s){if(i==="input"||i==="change")return _h(s)}function uD(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Mn=typeof Object.is=="function"?Object.is:uD;function su(i,s){if(Mn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!_t.call(s,m)||!Mn(i[m],s[m]))return!1}return!0}function t_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function n_(i,s){var o=t_(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=s&&c>=s)return{node:o,offset:s-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=t_(o)}}function i_(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?i_(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function r_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Yi(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Yi(i.document)}return s}function gm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var cD=Gn&&"documentMode"in document&&11>=document.documentMode,xo=null,ym=null,au=null,vm=!1;function s_(i,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;vm||xo==null||xo!==Yi(c)||(c=xo,"selectionStart"in c&&gm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),au&&su(au,c)||(au=c,c=lf(ym,"onSelect"),0<c.length&&(s=new $i("onSelect","select",null,s,o),i.push({event:s,listeners:c}),s.target=xo)))}function Aa(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Co={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionrun:Aa("Transition","TransitionRun"),transitionstart:Aa("Transition","TransitionStart"),transitioncancel:Aa("Transition","TransitionCancel"),transitionend:Aa("Transition","TransitionEnd")},_m={},a_={};Gn&&(a_=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function xa(i){if(_m[i])return _m[i];if(!Co[i])return i;var s=Co[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in a_)return _m[i]=s[o];return i}var o_=xa("animationend"),l_=xa("animationiteration"),u_=xa("animationstart"),hD=xa("transitionrun"),fD=xa("transitionstart"),dD=xa("transitioncancel"),c_=xa("transitionend"),h_=new Map,Tm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tm.push("scrollEnd");function Si(i,s){h_.set(i,s),qi(s,[i])}var Th=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Kn=[],Ro=0,Em=0;function Eh(){for(var i=Ro,s=Em=Ro=0;s<i;){var o=Kn[s];Kn[s++]=null;var c=Kn[s];Kn[s++]=null;var m=Kn[s];Kn[s++]=null;var g=Kn[s];if(Kn[s++]=null,c!==null&&m!==null){var E=c.pending;E===null?m.next=m:(m.next=E.next,E.next=m),c.pending=m}g!==0&&f_(o,m,g)}}function bh(i,s,o,c){Kn[Ro++]=i,Kn[Ro++]=s,Kn[Ro++]=o,Kn[Ro++]=c,Em|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function bm(i,s,o,c){return bh(i,s,o,c),wh(i)}function Ca(i,s){return bh(i,null,null,s),wh(i)}function f_(i,s,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&s!==null&&(m=31-At(o),i=g.hiddenUpdates,c=i[m],c===null?i[m]=[s]:c.push(s),s.lane=o|536870912),g):null}function wh(i){if(50<Ru)throw Ru=0,Np=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Do={};function mD(i,s,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(i,s,o,c){return new mD(i,s,o,c)}function wm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function wr(i,s){var o=i.alternate;return o===null?(o=Pn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function d_(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Sh(i,s,o,c,m,g){var E=0;if(c=i,typeof i=="function")wm(i)&&(E=1);else if(typeof i=="string")E=_I(i,o,te.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=Pn(31,o,s,m),i.elementType=I,i.lanes=g,i;case M:return Ra(o.children,m,g,s);case N:E=8,m|=24;break;case j:return i=Pn(12,o,s,m|2),i.elementType=j,i.lanes=g,i;case ee:return i=Pn(13,o,s,m),i.elementType=ee,i.lanes=g,i;case oe:return i=Pn(19,o,s,m),i.elementType=oe,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:E=10;break e;case B:E=9;break e;case W:E=11;break e;case D:E=14;break e;case C:E=16,c=null;break e}E=29,o=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=Pn(E,o,s,m),s.elementType=i,s.type=c,s.lanes=g,s}function Ra(i,s,o,c){return i=Pn(7,i,c,s),i.lanes=o,i}function Sm(i,s,o){return i=Pn(6,i,null,s),i.lanes=o,i}function m_(i){var s=Pn(18,null,null,0);return s.stateNode=i,s}function Am(i,s,o){return s=Pn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var p_=new WeakMap;function Xn(i,s){if(typeof i=="object"&&i!==null){var o=p_.get(i);return o!==void 0?o:(s={value:i,source:s,stack:ca(s)},p_.set(i,s),s)}return{value:i,source:s,stack:ca(s)}}var Io=[],No=0,Ah=null,ou=0,$n=[],Qn=0,hs=null,Ji=1,er="";function Sr(i,s){Io[No++]=ou,Io[No++]=Ah,Ah=i,ou=s}function g_(i,s,o){$n[Qn++]=Ji,$n[Qn++]=er,$n[Qn++]=hs,hs=i;var c=Ji;i=er;var m=32-At(c)-1;c&=~(1<<m),o+=1;var g=32-At(s)+m;if(30<g){var E=m-m%5;g=(c&(1<<E)-1).toString(32),c>>=E,m-=E,Ji=1<<32-At(s)+m|o<<m|c,er=g+i}else Ji=1<<g|o<<m|c,er=i}function xm(i){i.return!==null&&(Sr(i,1),g_(i,1,0))}function Cm(i){for(;i===Ah;)Ah=Io[--No],Io[No]=null,ou=Io[--No],Io[No]=null;for(;i===hs;)hs=$n[--Qn],$n[Qn]=null,er=$n[--Qn],$n[Qn]=null,Ji=$n[--Qn],$n[Qn]=null}function y_(i,s){$n[Qn++]=Ji,$n[Qn++]=er,$n[Qn++]=hs,Ji=s.id,er=s.overflow,hs=i}var Wt=null,ot=null,Be=!1,fs=null,Wn=!1,Rm=Error(r(519));function ds(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw lu(Xn(s,i)),Rm}function v_(i){var s=i.stateNode,o=i.type,c=i.memoizedProps;switch(s[Mt]=i,s[Gt]=c,o){case"dialog":Ve("cancel",s),Ve("close",s);break;case"iframe":case"object":case"embed":Ve("load",s);break;case"video":case"audio":for(o=0;o<Iu.length;o++)Ve(Iu[o],s);break;case"source":Ve("error",s);break;case"img":case"image":case"link":Ve("error",s),Ve("load",s);break;case"details":Ve("toggle",s);break;case"input":Ve("invalid",s),rh(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ve("invalid",s);break;case"textarea":Ve("invalid",s),rs(s,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||OE(s.textContent,o)?(c.popover!=null&&(Ve("beforetoggle",s),Ve("toggle",s)),c.onScroll!=null&&Ve("scroll",s),c.onScrollEnd!=null&&Ve("scrollend",s),c.onClick!=null&&(s.onclick=_i),s=!0):s=!1,s||ds(i,!0)}function __(i){for(Wt=i.return;Wt;)switch(Wt.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:Wt=Wt.return}}function Mo(i){if(i!==Wt)return!1;if(!Be)return __(i),Be=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Yp(i.type,i.memoizedProps)),o=!o),o&&ot&&ds(i),__(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ot=qE(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ot=qE(i)}else s===27?(s=ot,Cs(i.type)?(i=Wp,Wp=null,ot=i):ot=s):ot=Wt?Jn(i.stateNode.nextSibling):null;return!0}function Da(){ot=Wt=null,Be=!1}function Dm(){var i=fs;return i!==null&&(Sn===null?Sn=i:Sn.push.apply(Sn,i),fs=null),i}function lu(i){fs===null?fs=[i]:fs.push(i)}var Im=U(null),Ia=null,Ar=null;function ms(i,s,o){ue(Im,s._currentValue),s._currentValue=o}function xr(i){i._currentValue=Im.current,ie(Im)}function Nm(i,s,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===o)break;i=i.return}}function Mm(i,s,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var E=m.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=m;for(var O=0;O<s.length;O++)if(A.context===s[O]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),Nm(g.return,o,i),c||(E=null);break e}g=A.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(r(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),Nm(E,o,i),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===i){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function Po(i,s,o,c){i=null;for(var m=s,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var A=m.type;Mn(m.pendingProps.value,E.value)||(i!==null?i.push(A):i=[A])}}else if(m===Se.current){if(E=m.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Ou):i=[Ou])}m=m.return}i!==null&&Mm(s,i,o,c),s.flags|=262144}function xh(i){for(i=i.firstContext;i!==null;){if(!Mn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Na(i){Ia=i,Ar=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Zt(i){return T_(Ia,i)}function Ch(i,s){return Ia===null&&Na(i),T_(i,s)}function T_(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ar===null){if(i===null)throw Error(r(308));Ar=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Ar=Ar.next=s;return o}var pD=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},gD=t.unstable_scheduleCallback,yD=t.unstable_NormalPriority,Ot={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pm(){return{controller:new pD,data:new Map,refCount:0}}function uu(i){i.refCount--,i.refCount===0&&gD(yD,function(){i.controller.abort()})}var cu=null,Vm=0,Vo=0,Oo=null;function vD(i,s){if(cu===null){var o=cu=[];Vm=0,Vo=Lp(),Oo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Vm++,s.then(E_,E_),s}function E_(){if(--Vm===0&&cu!==null){Oo!==null&&(Oo.status="fulfilled");var i=cu;cu=null,Vo=0,Oo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function _D(i,s){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var b_=Z.S;Z.S=function(i,s){sE=mn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&vD(i,s),b_!==null&&b_(i,s)};var Ma=U(null);function Om(){var i=Ma.current;return i!==null?i:it.pooledCache}function Rh(i,s){s===null?ue(Ma,Ma.current):ue(Ma,s.pool)}function w_(){var i=Om();return i===null?null:{parent:Ot._currentValue,pool:i}}var ko=Error(r(460)),km=Error(r(474)),Dh=Error(r(542)),Ih={then:function(){}};function S_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function A_(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(_i,_i),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,C_(i),i;default:if(typeof s.status=="string")s.then(_i,_i);else{if(i=it,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,C_(i),i}throw Va=s,ko}}function Pa(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Va=o,ko):o}}var Va=null;function x_(){if(Va===null)throw Error(r(459));var i=Va;return Va=null,i}function C_(i){if(i===ko||i===Dh)throw Error(r(483))}var Lo=null,hu=0;function Nh(i){var s=hu;return hu+=1,Lo===null&&(Lo=[]),A_(Lo,i,s)}function fu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Mh(i,s){throw s.$$typeof===T?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function R_(i){function s(q,z){if(i){var Y=q.deletions;Y===null?(q.deletions=[z],q.flags|=16):Y.push(z)}}function o(q,z){if(!i)return null;for(;z!==null;)s(q,z),z=z.sibling;return null}function c(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function m(q,z){return q=wr(q,z),q.index=0,q.sibling=null,q}function g(q,z,Y){return q.index=Y,i?(Y=q.alternate,Y!==null?(Y=Y.index,Y<z?(q.flags|=67108866,z):Y):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function E(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function A(q,z,Y,ne){return z===null||z.tag!==6?(z=Sm(Y,q.mode,ne),z.return=q,z):(z=m(z,Y),z.return=q,z)}function O(q,z,Y,ne){var ve=Y.type;return ve===M?J(q,z,Y.props.children,ne,Y.key):z!==null&&(z.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===C&&Pa(ve)===z.type)?(z=m(z,Y.props),fu(z,Y),z.return=q,z):(z=Sh(Y.type,Y.key,Y.props,null,q.mode,ne),fu(z,Y),z.return=q,z)}function K(q,z,Y,ne){return z===null||z.tag!==4||z.stateNode.containerInfo!==Y.containerInfo||z.stateNode.implementation!==Y.implementation?(z=Am(Y,q.mode,ne),z.return=q,z):(z=m(z,Y.children||[]),z.return=q,z)}function J(q,z,Y,ne,ve){return z===null||z.tag!==7?(z=Ra(Y,q.mode,ne,ve),z.return=q,z):(z=m(z,Y),z.return=q,z)}function se(q,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Sm(""+z,q.mode,Y),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return Y=Sh(z.type,z.key,z.props,null,q.mode,Y),fu(Y,z),Y.return=q,Y;case R:return z=Am(z,q.mode,Y),z.return=q,z;case C:return z=Pa(z),se(q,z,Y)}if(Ge(z)||H(z))return z=Ra(z,q.mode,Y,null),z.return=q,z;if(typeof z.then=="function")return se(q,Nh(z),Y);if(z.$$typeof===F)return se(q,Ch(q,z),Y);Mh(q,z)}return null}function X(q,z,Y,ne){var ve=z!==null?z.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ve!==null?null:A(q,z,""+Y,ne);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return Y.key===ve?O(q,z,Y,ne):null;case R:return Y.key===ve?K(q,z,Y,ne):null;case C:return Y=Pa(Y),X(q,z,Y,ne)}if(Ge(Y)||H(Y))return ve!==null?null:J(q,z,Y,ne,null);if(typeof Y.then=="function")return X(q,z,Nh(Y),ne);if(Y.$$typeof===F)return X(q,z,Ch(q,Y),ne);Mh(q,Y)}return null}function Q(q,z,Y,ne,ve){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return q=q.get(Y)||null,A(z,q,""+ne,ve);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case S:return q=q.get(ne.key===null?Y:ne.key)||null,O(z,q,ne,ve);case R:return q=q.get(ne.key===null?Y:ne.key)||null,K(z,q,ne,ve);case C:return ne=Pa(ne),Q(q,z,Y,ne,ve)}if(Ge(ne)||H(ne))return q=q.get(Y)||null,J(z,q,ne,ve,null);if(typeof ne.then=="function")return Q(q,z,Y,Nh(ne),ve);if(ne.$$typeof===F)return Q(q,z,Y,Ch(z,ne),ve);Mh(z,ne)}return null}function pe(q,z,Y,ne){for(var ve=null,He=null,ye=z,Ne=z=0,ke=null;ye!==null&&Ne<Y.length;Ne++){ye.index>Ne?(ke=ye,ye=null):ke=ye.sibling;var qe=X(q,ye,Y[Ne],ne);if(qe===null){ye===null&&(ye=ke);break}i&&ye&&qe.alternate===null&&s(q,ye),z=g(qe,z,Ne),He===null?ve=qe:He.sibling=qe,He=qe,ye=ke}if(Ne===Y.length)return o(q,ye),Be&&Sr(q,Ne),ve;if(ye===null){for(;Ne<Y.length;Ne++)ye=se(q,Y[Ne],ne),ye!==null&&(z=g(ye,z,Ne),He===null?ve=ye:He.sibling=ye,He=ye);return Be&&Sr(q,Ne),ve}for(ye=c(ye);Ne<Y.length;Ne++)ke=Q(ye,q,Ne,Y[Ne],ne),ke!==null&&(i&&ke.alternate!==null&&ye.delete(ke.key===null?Ne:ke.key),z=g(ke,z,Ne),He===null?ve=ke:He.sibling=ke,He=ke);return i&&ye.forEach(function(Ms){return s(q,Ms)}),Be&&Sr(q,Ne),ve}function Te(q,z,Y,ne){if(Y==null)throw Error(r(151));for(var ve=null,He=null,ye=z,Ne=z=0,ke=null,qe=Y.next();ye!==null&&!qe.done;Ne++,qe=Y.next()){ye.index>Ne?(ke=ye,ye=null):ke=ye.sibling;var Ms=X(q,ye,qe.value,ne);if(Ms===null){ye===null&&(ye=ke);break}i&&ye&&Ms.alternate===null&&s(q,ye),z=g(Ms,z,Ne),He===null?ve=Ms:He.sibling=Ms,He=Ms,ye=ke}if(qe.done)return o(q,ye),Be&&Sr(q,Ne),ve;if(ye===null){for(;!qe.done;Ne++,qe=Y.next())qe=se(q,qe.value,ne),qe!==null&&(z=g(qe,z,Ne),He===null?ve=qe:He.sibling=qe,He=qe);return Be&&Sr(q,Ne),ve}for(ye=c(ye);!qe.done;Ne++,qe=Y.next())qe=Q(ye,q,Ne,qe.value,ne),qe!==null&&(i&&qe.alternate!==null&&ye.delete(qe.key===null?Ne:qe.key),z=g(qe,z,Ne),He===null?ve=qe:He.sibling=qe,He=qe);return i&&ye.forEach(function(II){return s(q,II)}),Be&&Sr(q,Ne),ve}function nt(q,z,Y,ne){if(typeof Y=="object"&&Y!==null&&Y.type===M&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:e:{for(var ve=Y.key;z!==null;){if(z.key===ve){if(ve=Y.type,ve===M){if(z.tag===7){o(q,z.sibling),ne=m(z,Y.props.children),ne.return=q,q=ne;break e}}else if(z.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===C&&Pa(ve)===z.type){o(q,z.sibling),ne=m(z,Y.props),fu(ne,Y),ne.return=q,q=ne;break e}o(q,z);break}else s(q,z);z=z.sibling}Y.type===M?(ne=Ra(Y.props.children,q.mode,ne,Y.key),ne.return=q,q=ne):(ne=Sh(Y.type,Y.key,Y.props,null,q.mode,ne),fu(ne,Y),ne.return=q,q=ne)}return E(q);case R:e:{for(ve=Y.key;z!==null;){if(z.key===ve)if(z.tag===4&&z.stateNode.containerInfo===Y.containerInfo&&z.stateNode.implementation===Y.implementation){o(q,z.sibling),ne=m(z,Y.children||[]),ne.return=q,q=ne;break e}else{o(q,z);break}else s(q,z);z=z.sibling}ne=Am(Y,q.mode,ne),ne.return=q,q=ne}return E(q);case C:return Y=Pa(Y),nt(q,z,Y,ne)}if(Ge(Y))return pe(q,z,Y,ne);if(H(Y)){if(ve=H(Y),typeof ve!="function")throw Error(r(150));return Y=ve.call(Y),Te(q,z,Y,ne)}if(typeof Y.then=="function")return nt(q,z,Nh(Y),ne);if(Y.$$typeof===F)return nt(q,z,Ch(q,Y),ne);Mh(q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,z!==null&&z.tag===6?(o(q,z.sibling),ne=m(z,Y),ne.return=q,q=ne):(o(q,z),ne=Sm(Y,q.mode,ne),ne.return=q,q=ne),E(q)):o(q,z)}return function(q,z,Y,ne){try{hu=0;var ve=nt(q,z,Y,ne);return Lo=null,ve}catch(ye){if(ye===ko||ye===Dh)throw ye;var He=Pn(29,ye,null,q.mode);return He.lanes=ne,He.return=q,He}finally{}}}var Oa=R_(!0),D_=R_(!1),ps=!1;function Lm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function gs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ys(i,s,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Ke&2)!==0){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=wh(i),f_(i,null,o),s}return bh(i,c,s,o),wh(i)}function du(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,zl(i,o)}}function Um(i,s){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?m=g=s:g=g.next=s}else m=g=s;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var zm=!1;function mu(){if(zm){var i=Oo;if(i!==null)throw i}}function pu(i,s,o,c){zm=!1;var m=i.updateQueue;ps=!1;var g=m.firstBaseUpdate,E=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var O=A,K=O.next;O.next=null,E===null?g=K:E.next=K,E=O;var J=i.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==E&&(A===null?J.firstBaseUpdate=K:A.next=K,J.lastBaseUpdate=O))}if(g!==null){var se=m.baseState;E=0,J=K=O=null,A=g;do{var X=A.lane&-536870913,Q=X!==A.lane;if(Q?(Oe&X)===X:(c&X)===X){X!==0&&X===Vo&&(zm=!0),J!==null&&(J=J.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var pe=i,Te=A;X=s;var nt=o;switch(Te.tag){case 1:if(pe=Te.payload,typeof pe=="function"){se=pe.call(nt,se,X);break e}se=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Te.payload,X=typeof pe=="function"?pe.call(nt,se,X):pe,X==null)break e;se=v({},se,X);break e;case 2:ps=!0}}X=A.callback,X!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=m.callbacks,Q===null?m.callbacks=[X]:Q.push(X))}else Q={lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(K=J=Q,O=se):J=J.next=Q,E|=X;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,m.lastBaseUpdate=Q,m.shared.pending=null}}while(!0);J===null&&(O=se),m.baseState=O,m.firstBaseUpdate=K,m.lastBaseUpdate=J,g===null&&(m.shared.lanes=0),bs|=E,i.lanes=E,i.memoizedState=se}}function I_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function N_(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)I_(o[i],s)}var jo=U(null),Ph=U(0);function M_(i,s){i=Or,ue(Ph,i),ue(jo,s),Or=i|s.baseLanes}function Bm(){ue(Ph,Or),ue(jo,jo.current)}function Fm(){Or=Ph.current,ie(jo),ie(Ph)}var Vn=U(null),Zn=null;function vs(i){var s=i.alternate;ue(Ct,Ct.current&1),ue(Vn,i),Zn===null&&(s===null||jo.current!==null||s.memoizedState!==null)&&(Zn=i)}function Hm(i){ue(Ct,Ct.current),ue(Vn,i),Zn===null&&(Zn=i)}function P_(i){i.tag===22?(ue(Ct,Ct.current),ue(Vn,i),Zn===null&&(Zn=i)):_s()}function _s(){ue(Ct,Ct.current),ue(Vn,Vn.current)}function On(i){ie(Vn),Zn===i&&(Zn=null),ie(Ct)}var Ct=U(0);function Vh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||$p(o)||Qp(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Cr=0,Ie=null,et=null,kt=null,Oh=!1,Uo=!1,ka=!1,kh=0,gu=0,zo=null,TD=0;function Tt(){throw Error(r(321))}function qm(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Mn(i[o],s[o]))return!1;return!0}function Gm(i,s,o,c,m,g){return Cr=g,Ie=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=i===null||i.memoizedState===null?gT:ap,ka=!1,g=o(c,m),ka=!1,Uo&&(g=O_(s,o,c,m)),V_(i),g}function V_(i){Z.H=_u;var s=et!==null&&et.next!==null;if(Cr=0,kt=et=Ie=null,Oh=!1,gu=0,zo=null,s)throw Error(r(300));i===null||Lt||(i=i.dependencies,i!==null&&xh(i)&&(Lt=!0))}function O_(i,s,o,c){Ie=i;var m=0;do{if(Uo&&(zo=null),gu=0,Uo=!1,25<=m)throw Error(r(301));if(m+=1,kt=et=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=yT,g=s(o,c)}while(Uo);return g}function ED(){var i=Z.H,s=i.useState()[0];return s=typeof s.then=="function"?yu(s):s,i=i.useState()[0],(et!==null?et.memoizedState:null)!==i&&(Ie.flags|=1024),s}function Ym(){var i=kh!==0;return kh=0,i}function Km(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Xm(i){if(Oh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Oh=!1}Cr=0,kt=et=Ie=null,Uo=!1,gu=kh=0,zo=null}function gn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Ie.memoizedState=kt=i:kt=kt.next=i,kt}function Rt(){if(et===null){var i=Ie.alternate;i=i!==null?i.memoizedState:null}else i=et.next;var s=kt===null?Ie.memoizedState:kt.next;if(s!==null)kt=s,et=i;else{if(i===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));et=i,i={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},kt===null?Ie.memoizedState=kt=i:kt=kt.next=i}return kt}function Lh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yu(i){var s=gu;return gu+=1,zo===null&&(zo=[]),i=A_(zo,i,s),s=Ie,(kt===null?s.memoizedState:kt.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?gT:ap),i}function jh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return yu(i);if(i.$$typeof===F)return Zt(i)}throw Error(r(438,String(i)))}function $m(i){var s=null,o=Ie.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Ie.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Lh(),Ie.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),c=0;c<i;c++)o[c]=L;return s.index++,o}function Rr(i,s){return typeof s=="function"?s(i):s}function Uh(i){var s=Rt();return Qm(s,et,i)}function Qm(i,s,o){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var m=i.baseQueue,g=c.pending;if(g!==null){if(m!==null){var E=m.next;m.next=g.next,g.next=E}s.baseQueue=m=g,c.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{s=m.next;var A=E=null,O=null,K=s,J=!1;do{var se=K.lane&-536870913;if(se!==K.lane?(Oe&se)===se:(Cr&se)===se){var X=K.revertLane;if(X===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),se===Vo&&(J=!0);else if((Cr&X)===X){K=K.next,X===Vo&&(J=!0);continue}else se={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(A=O=se,E=g):O=O.next=se,Ie.lanes|=X,bs|=X;se=K.action,ka&&o(g,se),g=K.hasEagerState?K.eagerState:o(g,se)}else X={lane:se,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(A=O=X,E=g):O=O.next=X,Ie.lanes|=se,bs|=se;K=K.next}while(K!==null&&K!==s);if(O===null?E=g:O.next=A,!Mn(g,i.memoizedState)&&(Lt=!0,J&&(o=Oo,o!==null)))throw o;i.memoizedState=g,i.baseState=E,i.baseQueue=O,c.lastRenderedState=g}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Wm(i){var s=Rt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,g=s.memoizedState;if(m!==null){o.pending=null;var E=m=m.next;do g=i(g,E.action),E=E.next;while(E!==m);Mn(g,s.memoizedState)||(Lt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function k_(i,s,o){var c=Ie,m=Rt(),g=Be;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var E=!Mn((et||m).memoizedState,o);if(E&&(m.memoizedState=o,Lt=!0),m=m.queue,ep(U_.bind(null,c,m,i),[i]),m.getSnapshot!==s||E||kt!==null&&kt.memoizedState.tag&1){if(c.flags|=2048,Bo(9,{destroy:void 0},j_.bind(null,c,m,o,s),null),it===null)throw Error(r(349));g||(Cr&127)!==0||L_(c,s,o)}return o}function L_(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Ie.updateQueue,s===null?(s=Lh(),Ie.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function j_(i,s,o,c){s.value=o,s.getSnapshot=c,z_(s)&&B_(i)}function U_(i,s,o){return o(function(){z_(s)&&B_(i)})}function z_(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Mn(i,o)}catch{return!0}}function B_(i){var s=Ca(i,2);s!==null&&An(s,i,2)}function Zm(i){var s=gn();if(typeof i=="function"){var o=i;if(i=o(),ka){Fn(!0);try{o()}finally{Fn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:i},s}function F_(i,s,o,c){return i.baseState=o,Qm(i,et,typeof c=="function"?c:Rr)}function bD(i,s,o,c,m){if(Fh(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};Z.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,H_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function H_(i,s){var o=s.action,c=s.payload,m=i.state;if(s.isTransition){var g=Z.T,E={};Z.T=E;try{var A=o(m,c),O=Z.S;O!==null&&O(E,A),q_(i,s,A)}catch(K){Jm(i,s,K)}finally{g!==null&&E.types!==null&&(g.types=E.types),Z.T=g}}else try{g=o(m,c),q_(i,s,g)}catch(K){Jm(i,s,K)}}function q_(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){G_(i,s,c)},function(c){return Jm(i,s,c)}):G_(i,s,o)}function G_(i,s,o){s.status="fulfilled",s.value=o,Y_(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,H_(i,o)))}function Jm(i,s,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,Y_(s),s=s.next;while(s!==c)}i.action=null}function Y_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function K_(i,s){return s}function X_(i,s){if(Be){var o=it.formState;if(o!==null){e:{var c=Ie;if(Be){if(ot){t:{for(var m=ot,g=Wn;m.nodeType!==8;){if(!g){m=null;break t}if(m=Jn(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){ot=Jn(m.nextSibling),c=m.data==="F!";break e}}ds(c)}c=!1}c&&(s=o[0])}}return o=gn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:K_,lastRenderedState:s},o.queue=c,o=dT.bind(null,Ie,c),c.dispatch=o,c=Zm(!1),g=sp.bind(null,Ie,!1,c.queue),c=gn(),m={state:s,dispatch:null,action:i,pending:null},c.queue=m,o=bD.bind(null,Ie,m,g,o),m.dispatch=o,c.memoizedState=i,[s,o,!1]}function $_(i){var s=Rt();return Q_(s,et,i)}function Q_(i,s,o){if(s=Qm(i,s,K_)[0],i=Uh(Rr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=yu(s)}catch(E){throw E===ko?Dh:E}else c=s;s=Rt();var m=s.queue,g=m.dispatch;return o!==s.memoizedState&&(Ie.flags|=2048,Bo(9,{destroy:void 0},wD.bind(null,m,o),null)),[c,g,i]}function wD(i,s){i.action=s}function W_(i){var s=Rt(),o=et;if(o!==null)return Q_(s,o,i);Rt(),s=s.memoizedState,o=Rt();var c=o.queue.dispatch;return o.memoizedState=i,[s,c,!1]}function Bo(i,s,o,c){return i={tag:i,create:o,deps:c,inst:s,next:null},s=Ie.updateQueue,s===null&&(s=Lh(),Ie.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,s.lastEffect=i),i}function Z_(){return Rt().memoizedState}function zh(i,s,o,c){var m=gn();Ie.flags|=i,m.memoizedState=Bo(1|s,{destroy:void 0},o,c===void 0?null:c)}function Bh(i,s,o,c){var m=Rt();c=c===void 0?null:c;var g=m.memoizedState.inst;et!==null&&c!==null&&qm(c,et.memoizedState.deps)?m.memoizedState=Bo(s,g,o,c):(Ie.flags|=i,m.memoizedState=Bo(1|s,g,o,c))}function J_(i,s){zh(8390656,8,i,s)}function ep(i,s){Bh(2048,8,i,s)}function SD(i){Ie.flags|=4;var s=Ie.updateQueue;if(s===null)s=Lh(),Ie.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function eT(i){var s=Rt().memoizedState;return SD({ref:s,nextImpl:i}),function(){if((Ke&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function tT(i,s){return Bh(4,2,i,s)}function nT(i,s){return Bh(4,4,i,s)}function iT(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function rT(i,s,o){o=o!=null?o.concat([i]):null,Bh(4,4,iT.bind(null,s,i),o)}function tp(){}function sT(i,s){var o=Rt();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&qm(s,c[1])?c[0]:(o.memoizedState=[i,s],i)}function aT(i,s){var o=Rt();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&qm(s,c[1]))return c[0];if(c=i(),ka){Fn(!0);try{i()}finally{Fn(!1)}}return o.memoizedState=[c,s],c}function np(i,s,o){return o===void 0||(Cr&1073741824)!==0&&(Oe&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=oE(),Ie.lanes|=i,bs|=i,o)}function oT(i,s,o,c){return Mn(o,s)?o:jo.current!==null?(i=np(i,o,c),Mn(i,s)||(Lt=!0),i):(Cr&42)===0||(Cr&1073741824)!==0&&(Oe&261930)===0?(Lt=!0,i.memoizedState=o):(i=oE(),Ie.lanes|=i,bs|=i,s)}function lT(i,s,o,c,m){var g=le.p;le.p=g!==0&&8>g?g:8;var E=Z.T,A={};Z.T=A,sp(i,!1,s,o);try{var O=m(),K=Z.S;if(K!==null&&K(A,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var J=_D(O,c);vu(i,s,J,jn(i))}else vu(i,s,c,jn(i))}catch(se){vu(i,s,{then:function(){},status:"rejected",reason:se},jn())}finally{le.p=g,E!==null&&A.types!==null&&(E.types=A.types),Z.T=E}}function AD(){}function ip(i,s,o,c){if(i.tag!==5)throw Error(r(476));var m=uT(i).queue;lT(i,m,s,de,o===null?AD:function(){return cT(i),o(c)})}function uT(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:de},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function cT(i){var s=uT(i);s.next===null&&(s=i.alternate.memoizedState),vu(i,s.next.queue,{},jn())}function rp(){return Zt(Ou)}function hT(){return Rt().memoizedState}function fT(){return Rt().memoizedState}function xD(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=jn();i=gs(o);var c=ys(s,i,o);c!==null&&(An(c,s,o),du(c,s,o)),s={cache:Pm()},i.payload=s;return}s=s.return}}function CD(i,s,o){var c=jn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Fh(i)?mT(s,o):(o=bm(i,s,o,c),o!==null&&(An(o,i,c),pT(o,s,c)))}function dT(i,s,o){var c=jn();vu(i,s,o,c)}function vu(i,s,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Fh(i))mT(s,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,A=g(E,o);if(m.hasEagerState=!0,m.eagerState=A,Mn(A,E))return bh(i,s,m,0),it===null&&Eh(),!1}catch{}finally{}if(o=bm(i,s,m,c),o!==null)return An(o,i,c),pT(o,s,c),!0}return!1}function sp(i,s,o,c){if(c={lane:2,revertLane:Lp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Fh(i)){if(s)throw Error(r(479))}else s=bm(i,o,c,2),s!==null&&An(s,i,2)}function Fh(i){var s=i.alternate;return i===Ie||s!==null&&s===Ie}function mT(i,s){Uo=Oh=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function pT(i,s,o){if((o&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,zl(i,o)}}var _u={readContext:Zt,use:jh,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};_u.useEffectEvent=Tt;var gT={readContext:Zt,use:jh,useCallback:function(i,s){return gn().memoizedState=[i,s===void 0?null:s],i},useContext:Zt,useEffect:J_,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,zh(4194308,4,iT.bind(null,s,i),o)},useLayoutEffect:function(i,s){return zh(4194308,4,i,s)},useInsertionEffect:function(i,s){zh(4,2,i,s)},useMemo:function(i,s){var o=gn();s=s===void 0?null:s;var c=i();if(ka){Fn(!0);try{i()}finally{Fn(!1)}}return o.memoizedState=[c,s],c},useReducer:function(i,s,o){var c=gn();if(o!==void 0){var m=o(s);if(ka){Fn(!0);try{o(s)}finally{Fn(!1)}}}else m=s;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=CD.bind(null,Ie,i),[c.memoizedState,i]},useRef:function(i){var s=gn();return i={current:i},s.memoizedState=i},useState:function(i){i=Zm(i);var s=i.queue,o=dT.bind(null,Ie,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:tp,useDeferredValue:function(i,s){var o=gn();return np(o,i,s)},useTransition:function(){var i=Zm(!1);return i=lT.bind(null,Ie,i.queue,!0,!1),gn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var c=Ie,m=gn();if(Be){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),it===null)throw Error(r(349));(Oe&127)!==0||L_(c,s,o)}m.memoizedState=o;var g={value:o,getSnapshot:s};return m.queue=g,J_(U_.bind(null,c,g,i),[i]),c.flags|=2048,Bo(9,{destroy:void 0},j_.bind(null,c,g,o,s),null),o},useId:function(){var i=gn(),s=it.identifierPrefix;if(Be){var o=er,c=Ji;o=(c&~(1<<32-At(c)-1)).toString(32)+o,s="_"+s+"R_"+o,o=kh++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=TD++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:rp,useFormState:X_,useActionState:X_,useOptimistic:function(i){var s=gn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=sp.bind(null,Ie,!0,o),o.dispatch=s,[i,s]},useMemoCache:$m,useCacheRefresh:function(){return gn().memoizedState=xD.bind(null,Ie)},useEffectEvent:function(i){var s=gn(),o={impl:i};return s.memoizedState=o,function(){if((Ke&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},ap={readContext:Zt,use:jh,useCallback:sT,useContext:Zt,useEffect:ep,useImperativeHandle:rT,useInsertionEffect:tT,useLayoutEffect:nT,useMemo:aT,useReducer:Uh,useRef:Z_,useState:function(){return Uh(Rr)},useDebugValue:tp,useDeferredValue:function(i,s){var o=Rt();return oT(o,et.memoizedState,i,s)},useTransition:function(){var i=Uh(Rr)[0],s=Rt().memoizedState;return[typeof i=="boolean"?i:yu(i),s]},useSyncExternalStore:k_,useId:hT,useHostTransitionStatus:rp,useFormState:$_,useActionState:$_,useOptimistic:function(i,s){var o=Rt();return F_(o,et,i,s)},useMemoCache:$m,useCacheRefresh:fT};ap.useEffectEvent=eT;var yT={readContext:Zt,use:jh,useCallback:sT,useContext:Zt,useEffect:ep,useImperativeHandle:rT,useInsertionEffect:tT,useLayoutEffect:nT,useMemo:aT,useReducer:Wm,useRef:Z_,useState:function(){return Wm(Rr)},useDebugValue:tp,useDeferredValue:function(i,s){var o=Rt();return et===null?np(o,i,s):oT(o,et.memoizedState,i,s)},useTransition:function(){var i=Wm(Rr)[0],s=Rt().memoizedState;return[typeof i=="boolean"?i:yu(i),s]},useSyncExternalStore:k_,useId:hT,useHostTransitionStatus:rp,useFormState:W_,useActionState:W_,useOptimistic:function(i,s){var o=Rt();return et!==null?F_(o,et,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:$m,useCacheRefresh:fT};yT.useEffectEvent=eT;function op(i,s,o,c){s=i.memoizedState,o=o(c,s),o=o==null?s:v({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var lp={enqueueSetState:function(i,s,o){i=i._reactInternals;var c=jn(),m=gs(c);m.payload=s,o!=null&&(m.callback=o),s=ys(i,m,c),s!==null&&(An(s,i,c),du(s,i,c))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var c=jn(),m=gs(c);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=ys(i,m,c),s!==null&&(An(s,i,c),du(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=jn(),c=gs(o);c.tag=2,s!=null&&(c.callback=s),s=ys(i,c,o),s!==null&&(An(s,i,o),du(s,i,o))}};function vT(i,s,o,c,m,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,E):s.prototype&&s.prototype.isPureReactComponent?!su(o,c)||!su(m,g):!0}function _T(i,s,o,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==i&&lp.enqueueReplaceState(s,s.state,null)}function La(i,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(i=i.defaultProps){o===s&&(o=v({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function TT(i){Th(i)}function ET(i){console.error(i)}function bT(i){Th(i)}function Hh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function wT(i,s,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function up(i,s,o){return o=gs(o),o.tag=3,o.payload={element:null},o.callback=function(){Hh(i,s)},o}function ST(i){return i=gs(i),i.tag=3,i}function AT(i,s,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;i.payload=function(){return m(g)},i.callback=function(){wT(s,o,c)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){wT(s,o,c),typeof m!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function RD(i,s,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&Po(s,o,m,!0),o=Vn.current,o!==null){switch(o.tag){case 31:case 13:return Zn===null?tf():o.alternate===null&&Et===0&&(Et=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Ih?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Vp(i,c,m)),!1;case 22:return o.flags|=65536,c===Ih?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Vp(i,c,m)),!1}throw Error(r(435,o.tag))}return Vp(i,c,m),tf(),!1}if(Be)return s=Vn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==Rm&&(i=Error(r(422),{cause:c}),lu(Xn(i,o)))):(c!==Rm&&(s=Error(r(423),{cause:c}),lu(Xn(s,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=Xn(c,o),m=up(i.stateNode,c,m),Um(i,m),Et!==4&&(Et=2)),!1;var g=Error(r(520),{cause:c});if(g=Xn(g,o),Cu===null?Cu=[g]:Cu.push(g),Et!==4&&(Et=2),s===null)return!0;c=Xn(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=up(o.stateNode,c,i),Um(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ws===null||!ws.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=ST(m),AT(m,i,o,c),Um(o,m),!1}o=o.return}while(o!==null);return!1}var cp=Error(r(461)),Lt=!1;function Jt(i,s,o,c){s.child=i===null?D_(s,null,o,c):Oa(s,i.child,o,c)}function xT(i,s,o,c,m){o=o.render;var g=s.ref;if("ref"in c){var E={};for(var A in c)A!=="ref"&&(E[A]=c[A])}else E=c;return Na(s),c=Gm(i,s,o,E,g,m),A=Ym(),i!==null&&!Lt?(Km(i,s,m),Dr(i,s,m)):(Be&&A&&xm(s),s.flags|=1,Jt(i,s,c,m),s.child)}function CT(i,s,o,c,m){if(i===null){var g=o.type;return typeof g=="function"&&!wm(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,RT(i,s,g,c,m)):(i=Sh(o.type,null,c,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!vp(i,m)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:su,o(E,c)&&i.ref===s.ref)return Dr(i,s,m)}return s.flags|=1,i=wr(g,c),i.ref=s.ref,i.return=s,s.child=i}function RT(i,s,o,c,m){if(i!==null){var g=i.memoizedProps;if(su(g,c)&&i.ref===s.ref)if(Lt=!1,s.pendingProps=c=g,vp(i,m))(i.flags&131072)!==0&&(Lt=!0);else return s.lanes=i.lanes,Dr(i,s,m)}return hp(i,s,o,c,m)}function DT(i,s,o,c){var m=c.children,g=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=s.child=i.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,s.child=null;return IT(i,s,g,o,c)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Rh(s,g!==null?g.cachePool:null),g!==null?M_(s,g):Bm(),P_(s);else return c=s.lanes=536870912,IT(i,s,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Rh(s,g.cachePool),M_(s,g),_s(),s.memoizedState=null):(i!==null&&Rh(s,null),Bm(),_s());return Jt(i,s,m,o),s.child}function Tu(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function IT(i,s,o,c,m){var g=Om();return g=g===null?null:{parent:Ot._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},i!==null&&Rh(s,null),Bm(),P_(s),i!==null&&Po(i,s,c,!0),s.childLanes=m,null}function qh(i,s){return s=Yh({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function NT(i,s,o){return Oa(s,i.child,null,o),i=qh(s,s.pendingProps),i.flags|=2,On(s),s.memoizedState=null,i}function DD(i,s,o){var c=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Be){if(c.mode==="hidden")return i=qh(s,c),s.lanes=536870912,Tu(null,i);if(Hm(s),(i=ot)?(i=HE(i,Wn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:hs!==null?{id:Ji,overflow:er}:null,retryLane:536870912,hydrationErrors:null},o=m_(i),o.return=s,s.child=o,Wt=s,ot=null)):i=null,i===null)throw ds(s);return s.lanes=536870912,null}return qh(s,c)}var g=i.memoizedState;if(g!==null){var E=g.dehydrated;if(Hm(s),m)if(s.flags&256)s.flags&=-257,s=NT(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Lt||Po(i,s,o,!1),m=(o&i.childLanes)!==0,Lt||m){if(c=it,c!==null&&(E=Bl(c,o),E!==0&&E!==g.retryLane))throw g.retryLane=E,Ca(i,E),An(c,i,E),cp;tf(),s=NT(i,s,o)}else i=g.treeContext,ot=Jn(E.nextSibling),Wt=s,Be=!0,fs=null,Wn=!1,i!==null&&y_(s,i),s=qh(s,c),s.flags|=4096;return s}return i=wr(i.child,{mode:c.mode,children:c.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Gh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function hp(i,s,o,c,m){return Na(s),o=Gm(i,s,o,c,void 0,m),c=Ym(),i!==null&&!Lt?(Km(i,s,m),Dr(i,s,m)):(Be&&c&&xm(s),s.flags|=1,Jt(i,s,o,m),s.child)}function MT(i,s,o,c,m,g){return Na(s),s.updateQueue=null,o=O_(s,c,o,m),V_(i),c=Ym(),i!==null&&!Lt?(Km(i,s,g),Dr(i,s,g)):(Be&&c&&xm(s),s.flags|=1,Jt(i,s,o,g),s.child)}function PT(i,s,o,c,m){if(Na(s),s.stateNode===null){var g=Do,E=o.contextType;typeof E=="object"&&E!==null&&(g=Zt(E)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=lp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},Lm(s),E=o.contextType,g.context=typeof E=="object"&&E!==null?Zt(E):Do,g.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(op(s,o,E,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&lp.enqueueReplaceState(g,g.state,null),pu(s,c,g,m),mu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){g=s.stateNode;var A=s.memoizedProps,O=La(o,A);g.props=O;var K=g.context,J=o.contextType;E=Do,typeof J=="object"&&J!==null&&(E=Zt(J));var se=o.getDerivedStateFromProps;J=typeof se=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||K!==E)&&_T(s,g,c,E),ps=!1;var X=s.memoizedState;g.state=X,pu(s,c,g,m),mu(),K=s.memoizedState,A||X!==K||ps?(typeof se=="function"&&(op(s,o,se,c),K=s.memoizedState),(O=ps||vT(s,o,O,c,X,K,E))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=K),g.props=c,g.state=K,g.context=E,c=O):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,jm(i,s),E=s.memoizedProps,J=La(o,E),g.props=J,se=s.pendingProps,X=g.context,K=o.contextType,O=Do,typeof K=="object"&&K!==null&&(O=Zt(K)),A=o.getDerivedStateFromProps,(K=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==se||X!==O)&&_T(s,g,c,O),ps=!1,X=s.memoizedState,g.state=X,pu(s,c,g,m),mu();var Q=s.memoizedState;E!==se||X!==Q||ps||i!==null&&i.dependencies!==null&&xh(i.dependencies)?(typeof A=="function"&&(op(s,o,A,c),Q=s.memoizedState),(J=ps||vT(s,o,J,c,X,Q,O)||i!==null&&i.dependencies!==null&&xh(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,Q,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,Q,O)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Q),g.props=c,g.state=Q,g.context=O,c=J):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),c=!1)}return g=c,Gh(i,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&c?(s.child=Oa(s,i.child,null,m),s.child=Oa(s,null,o,m)):Jt(i,s,o,m),s.memoizedState=g.state,i=s.child):i=Dr(i,s,m),i}function VT(i,s,o,c){return Da(),s.flags|=256,Jt(i,s,o,c),s.child}var fp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dp(i){return{baseLanes:i,cachePool:w_()}}function mp(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Ln),i}function OT(i,s,o){var c=s.pendingProps,m=!1,g=(s.flags&128)!==0,E;if((E=g)||(E=i!==null&&i.memoizedState===null?!1:(Ct.current&2)!==0),E&&(m=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,i===null){if(Be){if(m?vs(s):_s(),(i=ot)?(i=HE(i,Wn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:hs!==null?{id:Ji,overflow:er}:null,retryLane:536870912,hydrationErrors:null},o=m_(i),o.return=s,s.child=o,Wt=s,ot=null)):i=null,i===null)throw ds(s);return Qp(i)?s.lanes=32:s.lanes=536870912,null}var A=c.children;return c=c.fallback,m?(_s(),m=s.mode,A=Yh({mode:"hidden",children:A},m),c=Ra(c,m,o,null),A.return=s,c.return=s,A.sibling=c,s.child=A,c=s.child,c.memoizedState=dp(o),c.childLanes=mp(i,E,o),s.memoizedState=fp,Tu(null,c)):(vs(s),pp(s,A))}var O=i.memoizedState;if(O!==null&&(A=O.dehydrated,A!==null)){if(g)s.flags&256?(vs(s),s.flags&=-257,s=gp(i,s,o)):s.memoizedState!==null?(_s(),s.child=i.child,s.flags|=128,s=null):(_s(),A=c.fallback,m=s.mode,c=Yh({mode:"visible",children:c.children},m),A=Ra(A,m,o,null),A.flags|=2,c.return=s,A.return=s,c.sibling=A,s.child=c,Oa(s,i.child,null,o),c=s.child,c.memoizedState=dp(o),c.childLanes=mp(i,E,o),s.memoizedState=fp,s=Tu(null,c));else if(vs(s),Qp(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var K=E.dgst;E=K,c=Error(r(419)),c.stack="",c.digest=E,lu({value:c,source:null,stack:null}),s=gp(i,s,o)}else if(Lt||Po(i,s,o,!1),E=(o&i.childLanes)!==0,Lt||E){if(E=it,E!==null&&(c=Bl(E,o),c!==0&&c!==O.retryLane))throw O.retryLane=c,Ca(i,c),An(E,i,c),cp;$p(A)||tf(),s=gp(i,s,o)}else $p(A)?(s.flags|=192,s.child=i.child,s=null):(i=O.treeContext,ot=Jn(A.nextSibling),Wt=s,Be=!0,fs=null,Wn=!1,i!==null&&y_(s,i),s=pp(s,c.children),s.flags|=4096);return s}return m?(_s(),A=c.fallback,m=s.mode,O=i.child,K=O.sibling,c=wr(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,K!==null?A=wr(K,A):(A=Ra(A,m,o,null),A.flags|=2),A.return=s,c.return=s,c.sibling=A,s.child=c,Tu(null,c),c=s.child,A=i.child.memoizedState,A===null?A=dp(o):(m=A.cachePool,m!==null?(O=Ot._currentValue,m=m.parent!==O?{parent:O,pool:O}:m):m=w_(),A={baseLanes:A.baseLanes|o,cachePool:m}),c.memoizedState=A,c.childLanes=mp(i,E,o),s.memoizedState=fp,Tu(i.child,c)):(vs(s),o=i.child,i=o.sibling,o=wr(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,i!==null&&(E=s.deletions,E===null?(s.deletions=[i],s.flags|=16):E.push(i)),s.child=o,s.memoizedState=null,o)}function pp(i,s){return s=Yh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Yh(i,s){return i=Pn(22,i,null,s),i.lanes=0,i}function gp(i,s,o){return Oa(s,i.child,null,o),i=pp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function kT(i,s,o){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),Nm(i.return,s,o)}function yp(i,s,o,c,m,g){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=c,E.tail=o,E.tailMode=m,E.treeForkCount=g)}function LT(i,s,o){var c=s.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var E=Ct.current,A=(E&2)!==0;if(A?(E=E&1|2,s.flags|=128):E&=1,ue(Ct,E),Jt(i,s,c,o),c=Be?ou:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&kT(i,o,s);else if(i.tag===19)kT(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=s.child,m=null;o!==null;)i=o.alternate,i!==null&&Vh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),yp(s,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&Vh(i)===null){s.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}yp(s,!0,o,null,g,c);break;case"together":yp(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Dr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),bs|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(Po(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=wr(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=wr(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function vp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&xh(i)))}function ID(i,s,o){switch(s.tag){case 3:mt(s,s.stateNode.containerInfo),ms(s,Ot,i.memoizedState.cache),Da();break;case 27:case 5:Bn(s);break;case 4:mt(s,s.stateNode.containerInfo);break;case 10:ms(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Hm(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(vs(s),s.flags|=128,null):(o&s.child.childLanes)!==0?OT(i,s,o):(vs(s),i=Dr(i,s,o),i!==null?i.sibling:null);vs(s);break;case 19:var m=(i.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(Po(i,s,o,!1),c=(o&s.childLanes)!==0),m){if(c)return LT(i,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ue(Ct,Ct.current),c)break;return null;case 22:return s.lanes=0,DT(i,s,o,s.pendingProps);case 24:ms(s,Ot,i.memoizedState.cache)}return Dr(i,s,o)}function jT(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Lt=!0;else{if(!vp(i,o)&&(s.flags&128)===0)return Lt=!1,ID(i,s,o);Lt=(i.flags&131072)!==0}else Lt=!1,Be&&(s.flags&1048576)!==0&&g_(s,ou,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(i=Pa(s.elementType),s.type=i,typeof i=="function")wm(i)?(c=La(i,c),s.tag=1,s=PT(null,s,i,c,o)):(s.tag=0,s=hp(null,s,i,c,o));else{if(i!=null){var m=i.$$typeof;if(m===W){s.tag=11,s=xT(null,s,i,c,o);break e}else if(m===D){s.tag=14,s=CT(null,s,i,c,o);break e}}throw s=ze(i)||i,Error(r(306,s,""))}}return s;case 0:return hp(i,s,s.type,s.pendingProps,o);case 1:return c=s.type,m=La(c,s.pendingProps),PT(i,s,c,m,o);case 3:e:{if(mt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var g=s.memoizedState;m=g.element,jm(i,s),pu(s,c,null,o);var E=s.memoizedState;if(c=E.cache,ms(s,Ot,c),c!==g.cache&&Mm(s,[Ot],o,!0),mu(),c=E.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=VT(i,s,c,o);break e}else if(c!==m){m=Xn(Error(r(424)),s),lu(m),s=VT(i,s,c,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ot=Jn(i.firstChild),Wt=s,Be=!0,fs=null,Wn=!0,o=D_(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Da(),c===m){s=Dr(i,s,o);break e}Jt(i,s,c,o)}s=s.child}return s;case 26:return Gh(i,s),i===null?(o=$E(s.type,null,s.pendingProps,null))?s.memoizedState=o:Be||(o=s.type,i=s.pendingProps,c=uf(ge.current).createElement(o),c[Mt]=s,c[Gt]=i,en(c,o,i),Pt(c),s.stateNode=c):s.memoizedState=$E(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Bn(s),i===null&&Be&&(c=s.stateNode=YE(s.type,s.pendingProps,ge.current),Wt=s,Wn=!0,m=ot,Cs(s.type)?(Wp=m,ot=Jn(c.firstChild)):ot=m),Jt(i,s,s.pendingProps.children,o),Gh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Be&&((m=c=ot)&&(c=aI(c,s.type,s.pendingProps,Wn),c!==null?(s.stateNode=c,Wt=s,ot=Jn(c.firstChild),Wn=!1,m=!0):m=!1),m||ds(s)),Bn(s),m=s.type,g=s.pendingProps,E=i!==null?i.memoizedProps:null,c=g.children,Yp(m,g)?c=null:E!==null&&Yp(m,E)&&(s.flags|=32),s.memoizedState!==null&&(m=Gm(i,s,ED,null,null,o),Ou._currentValue=m),Gh(i,s),Jt(i,s,c,o),s.child;case 6:return i===null&&Be&&((i=o=ot)&&(o=oI(o,s.pendingProps,Wn),o!==null?(s.stateNode=o,Wt=s,ot=null,i=!0):i=!1),i||ds(s)),null;case 13:return OT(i,s,o);case 4:return mt(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=Oa(s,null,c,o):Jt(i,s,c,o),s.child;case 11:return xT(i,s,s.type,s.pendingProps,o);case 7:return Jt(i,s,s.pendingProps,o),s.child;case 8:return Jt(i,s,s.pendingProps.children,o),s.child;case 12:return Jt(i,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,ms(s,s.type,c.value),Jt(i,s,c.children,o),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,Na(s),m=Zt(m),c=c(m),s.flags|=1,Jt(i,s,c,o),s.child;case 14:return CT(i,s,s.type,s.pendingProps,o);case 15:return RT(i,s,s.type,s.pendingProps,o);case 19:return LT(i,s,o);case 31:return DD(i,s,o);case 22:return DT(i,s,o,s.pendingProps);case 24:return Na(s),c=Zt(Ot),i===null?(m=Om(),m===null&&(m=it,g=Pm(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),s.memoizedState={parent:c,cache:m},Lm(s),ms(s,Ot,m)):((i.lanes&o)!==0&&(jm(i,s),pu(s,null,null,o),mu()),m=i.memoizedState,g=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),ms(s,Ot,c)):(c=g.cache,ms(s,Ot,c),c!==m.cache&&Mm(s,[Ot],o,!0))),Jt(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ir(i){i.flags|=4}function _p(i,s,o,c,m){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(hE())i.flags|=8192;else throw Va=Ih,km}else i.flags&=-16777217}function UT(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!eb(s))if(hE())i.flags|=8192;else throw Va=Ih,km}function Kh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Jc():536870912,i.lanes|=s,Go|=s)}function Eu(i,s){if(!Be)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function lt(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(s)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,s}function ND(i,s,o){var c=s.pendingProps;switch(Cm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(s),null;case 1:return lt(s),null;case 3:return o=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),xr(Ot),$e(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Mo(s)?Ir(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Dm())),lt(s),null;case 26:var m=s.type,g=s.memoizedState;return i===null?(Ir(s),g!==null?(lt(s),UT(s,g)):(lt(s),_p(s,m,null,c,o))):g?g!==i.memoizedState?(Ir(s),lt(s),UT(s,g)):(lt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==c&&Ir(s),lt(s),_p(s,m,i,c,o)),null;case 27:if(di(s),o=ge.current,m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Ir(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return lt(s),null}i=te.current,Mo(s)?v_(s):(i=YE(m,c,o),s.stateNode=i,Ir(s))}return lt(s),null;case 5:if(di(s),m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Ir(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return lt(s),null}if(g=te.current,Mo(s))v_(s);else{var E=uf(ge.current);switch(g){case 1:g=E.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=E.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=E.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?E.createElement("select",{is:c.is}):E.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?E.createElement(m,{is:c.is}):E.createElement(m)}}g[Mt]=s,g[Gt]=c;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)g.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=g;e:switch(en(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ir(s)}}return lt(s),_p(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&Ir(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=ge.current,Mo(s)){if(i=s.stateNode,o=s.memoizedProps,c=null,m=Wt,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[Mt]=s,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||OE(i.nodeValue,o)),i||ds(s,!0)}else i=uf(i).createTextNode(c),i[Mt]=s,s.stateNode=i}return lt(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(c=Mo(s),o!==null){if(i===null){if(!c)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Mt]=s}else Da(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lt(s),i=!1}else o=Dm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(On(s),s):(On(s),null);if((s.flags&128)!==0)throw Error(r(558))}return lt(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Mo(s),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Mt]=s}else Da(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lt(s),m=!1}else m=Dm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(On(s),s):(On(s),null)}return On(s),(s.flags&128)!==0?(s.lanes=o,s):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),Kh(s,s.updateQueue),lt(s),null);case 4:return $e(),i===null&&Bp(s.stateNode.containerInfo),lt(s),null;case 10:return xr(s.type),lt(s),null;case 19:if(ie(Ct),c=s.memoizedState,c===null)return lt(s),null;if(m=(s.flags&128)!==0,g=c.rendering,g===null)if(m)Eu(c,!1);else{if(Et!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=Vh(i),g!==null){for(s.flags|=128,Eu(c,!1),i=g.updateQueue,s.updateQueue=i,Kh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)d_(o,i),o=o.sibling;return ue(Ct,Ct.current&1|2),Be&&Sr(s,c.treeForkCount),s.child}i=i.sibling}c.tail!==null&&mn()>Zh&&(s.flags|=128,m=!0,Eu(c,!1),s.lanes=4194304)}else{if(!m)if(i=Vh(g),i!==null){if(s.flags|=128,m=!0,i=i.updateQueue,s.updateQueue=i,Kh(s,i),Eu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!Be)return lt(s),null}else 2*mn()-c.renderingStartTime>Zh&&o!==536870912&&(s.flags|=128,m=!0,Eu(c,!1),s.lanes=4194304);c.isBackwards?(g.sibling=s.child,s.child=g):(i=c.last,i!==null?i.sibling=g:s.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=mn(),i.sibling=null,o=Ct.current,ue(Ct,m?o&1|2:o&1),Be&&Sr(s,c.treeForkCount),i):(lt(s),null);case 22:case 23:return On(s),Fm(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(lt(s),s.subtreeFlags&6&&(s.flags|=8192)):lt(s),o=s.updateQueue,o!==null&&Kh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),i!==null&&ie(Ma),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),xr(Ot),lt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function MD(i,s){switch(Cm(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return xr(Ot),$e(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return di(s),null;case 31:if(s.memoizedState!==null){if(On(s),s.alternate===null)throw Error(r(340));Da()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(On(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Da()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ie(Ct),null;case 4:return $e(),null;case 10:return xr(s.type),null;case 22:case 23:return On(s),Fm(),i!==null&&ie(Ma),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return xr(Ot),null;case 25:return null;default:return null}}function zT(i,s){switch(Cm(s),s.tag){case 3:xr(Ot),$e();break;case 26:case 27:case 5:di(s);break;case 4:$e();break;case 31:s.memoizedState!==null&&On(s);break;case 13:On(s);break;case 19:ie(Ct);break;case 10:xr(s.type);break;case 22:case 23:On(s),Fm(),i!==null&&ie(Ma);break;case 24:xr(Ot)}}function bu(i,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var g=o.create,E=o.inst;c=g(),E.destroy=c}o=o.next}while(o!==m)}}catch(A){Ze(s,s.return,A)}}function Ts(i,s,o){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&i)===i){var E=c.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,m=s;var O=o,K=A;try{K()}catch(J){Ze(m,O,J)}}}c=c.next}while(c!==g)}}catch(J){Ze(s,s.return,J)}}function BT(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{N_(s,o)}catch(c){Ze(i,i.return,c)}}}function FT(i,s,o){o.props=La(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){Ze(i,s,c)}}function wu(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(m){Ze(i,s,m)}}function tr(i,s){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Ze(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Ze(i,s,m)}else o.current=null}function HT(i){var s=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Ze(i,i.return,m)}}function Tp(i,s,o){try{var c=i.stateNode;eI(c,i.type,o,s),c[Gt]=s}catch(m){Ze(i,i.return,m)}}function qT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Cs(i.type)||i.tag===4}function Ep(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||qT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Cs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function bp(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=_i));else if(c!==4&&(c===27&&Cs(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(bp(i,s,o),i=i.sibling;i!==null;)bp(i,s,o),i=i.sibling}function Xh(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(c!==4&&(c===27&&Cs(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Xh(i,s,o),i=i.sibling;i!==null;)Xh(i,s,o),i=i.sibling}function GT(i){var s=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);en(s,c,o),s[Mt]=i,s[Gt]=o}catch(g){Ze(i,i.return,g)}}var Nr=!1,jt=!1,wp=!1,YT=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function PD(i,s){if(i=i.containerInfo,qp=gf,i=r_(i),gm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var E=0,A=-1,O=-1,K=0,J=0,se=i,X=null;t:for(;;){for(var Q;se!==o||m!==0&&se.nodeType!==3||(A=E+m),se!==g||c!==0&&se.nodeType!==3||(O=E+c),se.nodeType===3&&(E+=se.nodeValue.length),(Q=se.firstChild)!==null;)X=se,se=Q;for(;;){if(se===i)break t;if(X===o&&++K===m&&(A=E),X===g&&++J===c&&(O=E),(Q=se.nextSibling)!==null)break;se=X,X=se.parentNode}se=Q}o=A===-1||O===-1?null:{start:A,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(Gp={focusedElem:i,selectionRange:o},gf=!1,Kt=s;Kt!==null;)if(s=Kt,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Kt=i;else for(;Kt!==null;){switch(s=Kt,g=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var pe=La(o.type,m);i=c.getSnapshotBeforeUpdate(pe,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(Te){Ze(o,o.return,Te)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Xp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Xp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Kt=i;break}Kt=s.return}}function KT(i,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Pr(i,o),c&4&&bu(5,o);break;case 1:if(Pr(i,o),c&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(E){Ze(o,o.return,E)}else{var m=La(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(E){Ze(o,o.return,E)}}c&64&&BT(o),c&512&&wu(o,o.return);break;case 3:if(Pr(i,o),c&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{N_(i,s)}catch(E){Ze(o,o.return,E)}}break;case 27:s===null&&c&4&&GT(o);case 26:case 5:Pr(i,o),s===null&&c&4&&HT(o),c&512&&wu(o,o.return);break;case 12:Pr(i,o);break;case 31:Pr(i,o),c&4&&QT(i,o);break;case 13:Pr(i,o),c&4&&WT(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=FD.bind(null,o),lI(i,o))));break;case 22:if(c=o.memoizedState!==null||Nr,!c){s=s!==null&&s.memoizedState!==null||jt,m=Nr;var g=jt;Nr=c,(jt=s)&&!g?Vr(i,o,(o.subtreeFlags&8772)!==0):Pr(i,o),Nr=m,jt=g}break;case 30:break;default:Pr(i,o)}}function XT(i){var s=i.alternate;s!==null&&(i.alternate=null,XT(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&po(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ht=null,En=!1;function Mr(i,s,o){for(o=o.child;o!==null;)$T(i,s,o),o=o.sibling}function $T(i,s,o){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(pi,o)}catch{}switch(o.tag){case 26:jt||tr(o,s),Mr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:jt||tr(o,s);var c=ht,m=En;Cs(o.type)&&(ht=o.stateNode,En=!1),Mr(i,s,o),Mu(o.stateNode),ht=c,En=m;break;case 5:jt||tr(o,s);case 6:if(c=ht,m=En,ht=null,Mr(i,s,o),ht=c,En=m,ht!==null)if(En)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(o.stateNode)}catch(g){Ze(o,s,g)}else try{ht.removeChild(o.stateNode)}catch(g){Ze(o,s,g)}break;case 18:ht!==null&&(En?(i=ht,BE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Jo(i)):BE(ht,o.stateNode));break;case 4:c=ht,m=En,ht=o.stateNode.containerInfo,En=!0,Mr(i,s,o),ht=c,En=m;break;case 0:case 11:case 14:case 15:Ts(2,o,s),jt||Ts(4,o,s),Mr(i,s,o);break;case 1:jt||(tr(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&FT(o,s,c)),Mr(i,s,o);break;case 21:Mr(i,s,o);break;case 22:jt=(c=jt)||o.memoizedState!==null,Mr(i,s,o),jt=c;break;default:Mr(i,s,o)}}function QT(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Jo(i)}catch(o){Ze(s,s.return,o)}}}function WT(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Jo(i)}catch(o){Ze(s,s.return,o)}}function VD(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new YT),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new YT),s;default:throw Error(r(435,i.tag))}}function $h(i,s){var o=VD(i);s.forEach(function(c){if(!o.has(c)){o.add(c);var m=HD.bind(null,i,c);c.then(m,m)}})}function bn(i,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=i,E=s,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(Cs(A.type)){ht=A.stateNode,En=!1;break e}break;case 5:ht=A.stateNode,En=!1;break e;case 3:case 4:ht=A.stateNode.containerInfo,En=!0;break e}A=A.return}if(ht===null)throw Error(r(160));$T(g,E,m),ht=null,En=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)ZT(s,i),s=s.sibling}var Ai=null;function ZT(i,s){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:bn(s,i),wn(i),c&4&&(Ts(3,i,i.return),bu(3,i),Ts(5,i,i.return));break;case 1:bn(s,i),wn(i),c&512&&(jt||o===null||tr(o,o.return)),c&64&&Nr&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Ai;if(bn(s,i),wn(i),c&512&&(jt||o===null||tr(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Bi]||g[Mt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),en(g,c,o),g[Mt]=i,Pt(g),c=g;break e;case"link":var E=ZE("link","href",m).get(c+(o.href||""));if(E){for(var A=0;A<E.length;A++)if(g=E[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(A,1);break t}}g=m.createElement(c),en(g,c,o),m.head.appendChild(g);break;case"meta":if(E=ZE("meta","content",m).get(c+(o.content||""))){for(A=0;A<E.length;A++)if(g=E[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(A,1);break t}}g=m.createElement(c),en(g,c,o),m.head.appendChild(g);break;default:throw Error(r(468,c))}g[Mt]=i,Pt(g),c=g}i.stateNode=c}else JE(m,i.type,i.stateNode);else i.stateNode=WE(m,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?JE(m,i.type,i.stateNode):WE(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Tp(i,i.memoizedProps,o.memoizedProps)}break;case 27:bn(s,i),wn(i),c&512&&(jt||o===null||tr(o,o.return)),o!==null&&c&4&&Tp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(bn(s,i),wn(i),c&512&&(jt||o===null||tr(o,o.return)),i.flags&32){m=i.stateNode;try{Tn(m,"")}catch(pe){Ze(i,i.return,pe)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,Tp(i,m,o!==null?o.memoizedProps:m)),c&1024&&(wp=!0);break;case 6:if(bn(s,i),wn(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(pe){Ze(i,i.return,pe)}}break;case 3:if(ff=null,m=Ai,Ai=cf(s.containerInfo),bn(s,i),Ai=m,wn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Jo(s.containerInfo)}catch(pe){Ze(i,i.return,pe)}wp&&(wp=!1,JT(i));break;case 4:c=Ai,Ai=cf(i.stateNode.containerInfo),bn(s,i),wn(i),Ai=c;break;case 12:bn(s,i),wn(i);break;case 31:bn(s,i),wn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,$h(i,c)));break;case 13:bn(s,i),wn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Wh=mn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,$h(i,c)));break;case 22:m=i.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,K=Nr,J=jt;if(Nr=K||m,jt=J||O,bn(s,i),jt=J,Nr=K,wn(i),c&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||O||Nr||jt||ja(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){O=o=s;try{if(g=O.stateNode,m)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=O.stateNode;var se=O.memoizedProps.style,X=se!=null&&se.hasOwnProperty("display")?se.display:null;A.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(pe){Ze(O,O.return,pe)}}}else if(s.tag===6){if(o===null){O=s;try{O.stateNode.nodeValue=m?"":O.memoizedProps}catch(pe){Ze(O,O.return,pe)}}}else if(s.tag===18){if(o===null){O=s;try{var Q=O.stateNode;m?FE(Q,!0):FE(O.stateNode,!1)}catch(pe){Ze(O,O.return,pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,$h(i,o))));break;case 19:bn(s,i),wn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,$h(i,c)));break;case 30:break;case 21:break;default:bn(s,i),wn(i)}}function wn(i){var s=i.flags;if(s&2){try{for(var o,c=i.return;c!==null;){if(qT(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var m=o.stateNode,g=Ep(i);Xh(i,g,m);break;case 5:var E=o.stateNode;o.flags&32&&(Tn(E,""),o.flags&=-33);var A=Ep(i);Xh(i,A,E);break;case 3:case 4:var O=o.stateNode.containerInfo,K=Ep(i);bp(i,K,O);break;default:throw Error(r(161))}}catch(J){Ze(i,i.return,J)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function JT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;JT(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Pr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)KT(i,s.alternate,s),s=s.sibling}function ja(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Ts(4,s,s.return),ja(s);break;case 1:tr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&FT(s,s.return,o),ja(s);break;case 27:Mu(s.stateNode);case 26:case 5:tr(s,s.return),ja(s);break;case 22:s.memoizedState===null&&ja(s);break;case 30:ja(s);break;default:ja(s)}i=i.sibling}}function Vr(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=i,g=s,E=g.flags;switch(g.tag){case 0:case 11:case 15:Vr(m,g,o),bu(4,g);break;case 1:if(Vr(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(K){Ze(c,c.return,K)}if(c=g,m=c.updateQueue,m!==null){var A=c.stateNode;try{var O=m.shared.hiddenCallbacks;if(O!==null)for(m.shared.hiddenCallbacks=null,m=0;m<O.length;m++)I_(O[m],A)}catch(K){Ze(c,c.return,K)}}o&&E&64&&BT(g),wu(g,g.return);break;case 27:GT(g);case 26:case 5:Vr(m,g,o),o&&c===null&&E&4&&HT(g),wu(g,g.return);break;case 12:Vr(m,g,o);break;case 31:Vr(m,g,o),o&&E&4&&QT(m,g);break;case 13:Vr(m,g,o),o&&E&4&&WT(m,g);break;case 22:g.memoizedState===null&&Vr(m,g,o),wu(g,g.return);break;case 30:break;default:Vr(m,g,o)}s=s.sibling}}function Sp(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&uu(o))}function Ap(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&uu(i))}function xi(i,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)eE(i,s,o,c),s=s.sibling}function eE(i,s,o,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:xi(i,s,o,c),m&2048&&bu(9,s);break;case 1:xi(i,s,o,c);break;case 3:xi(i,s,o,c),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&uu(i)));break;case 12:if(m&2048){xi(i,s,o,c),i=s.stateNode;try{var g=s.memoizedProps,E=g.id,A=g.onPostCommit;typeof A=="function"&&A(E,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){Ze(s,s.return,O)}}else xi(i,s,o,c);break;case 31:xi(i,s,o,c);break;case 13:xi(i,s,o,c);break;case 23:break;case 22:g=s.stateNode,E=s.alternate,s.memoizedState!==null?g._visibility&2?xi(i,s,o,c):Su(i,s):g._visibility&2?xi(i,s,o,c):(g._visibility|=2,Fo(i,s,o,c,(s.subtreeFlags&10256)!==0||!1)),m&2048&&Sp(E,s);break;case 24:xi(i,s,o,c),m&2048&&Ap(s.alternate,s);break;default:xi(i,s,o,c)}}function Fo(i,s,o,c,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=i,E=s,A=o,O=c,K=E.flags;switch(E.tag){case 0:case 11:case 15:Fo(g,E,A,O,m),bu(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?Fo(g,E,A,O,m):Su(g,E):(J._visibility|=2,Fo(g,E,A,O,m)),m&&K&2048&&Sp(E.alternate,E);break;case 24:Fo(g,E,A,O,m),m&&K&2048&&Ap(E.alternate,E);break;default:Fo(g,E,A,O,m)}s=s.sibling}}function Su(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,c=s,m=c.flags;switch(c.tag){case 22:Su(o,c),m&2048&&Sp(c.alternate,c);break;case 24:Su(o,c),m&2048&&Ap(c.alternate,c);break;default:Su(o,c)}s=s.sibling}}var Au=8192;function Ho(i,s,o){if(i.subtreeFlags&Au)for(i=i.child;i!==null;)tE(i,s,o),i=i.sibling}function tE(i,s,o){switch(i.tag){case 26:Ho(i,s,o),i.flags&Au&&i.memoizedState!==null&&TI(o,Ai,i.memoizedState,i.memoizedProps);break;case 5:Ho(i,s,o);break;case 3:case 4:var c=Ai;Ai=cf(i.stateNode.containerInfo),Ho(i,s,o),Ai=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Au,Au=16777216,Ho(i,s,o),Au=c):Ho(i,s,o));break;default:Ho(i,s,o)}}function nE(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function xu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Kt=c,rE(c,i)}nE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)iE(i),i=i.sibling}function iE(i){switch(i.tag){case 0:case 11:case 15:xu(i),i.flags&2048&&Ts(9,i,i.return);break;case 3:xu(i);break;case 12:xu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Qh(i)):xu(i);break;default:xu(i)}}function Qh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Kt=c,rE(c,i)}nE(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Ts(8,s,s.return),Qh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Qh(s));break;default:Qh(s)}i=i.sibling}}function rE(i,s){for(;Kt!==null;){var o=Kt;switch(o.tag){case 0:case 11:case 15:Ts(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:uu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Kt=c;else e:for(o=i;Kt!==null;){c=Kt;var m=c.sibling,g=c.return;if(XT(c),c===o){Kt=null;break e}if(m!==null){m.return=g,Kt=m;break e}Kt=g}}}var OD={getCacheForType:function(i){var s=Zt(Ot),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return Zt(Ot).controller.signal}},kD=typeof WeakMap=="function"?WeakMap:Map,Ke=0,it=null,Pe=null,Oe=0,We=0,kn=null,Es=!1,qo=!1,xp=!1,Or=0,Et=0,bs=0,Ua=0,Cp=0,Ln=0,Go=0,Cu=null,Sn=null,Rp=!1,Wh=0,sE=0,Zh=1/0,Jh=null,ws=null,Ht=0,Ss=null,Yo=null,kr=0,Dp=0,Ip=null,aE=null,Ru=0,Np=null;function jn(){return(Ke&2)!==0&&Oe!==0?Oe&-Oe:Z.T!==null?Lp():eh()}function oE(){if(Ln===0)if((Oe&536870912)===0||Be){var i=fa;fa<<=1,(fa&3932160)===0&&(fa=262144),Ln=i}else Ln=536870912;return i=Vn.current,i!==null&&(i.flags|=32),Ln}function An(i,s,o){(i===it&&(We===2||We===9)||i.cancelPendingCommit!==null)&&(Ko(i,0),As(i,Oe,Ln,!1)),da(i,o),((Ke&2)===0||i!==it)&&(i===it&&((Ke&2)===0&&(Ua|=o),Et===4&&As(i,Oe,Ln,!1)),nr(i))}function lE(i,s,o){if((Ke&6)!==0)throw Error(r(327));var c=!o&&(s&127)===0&&(s&i.expiredLanes)===0||gi(i,s),m=c?UD(i,s):Pp(i,s,!0),g=c;do{if(m===0){qo&&!c&&As(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!LD(o)){m=Pp(i,s,!1),g=!1;continue}if(m===2){if(g=s,i.errorRecoveryDisabledLanes&g)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var A=i;m=Cu;var O=A.current.memoizedState.isDehydrated;if(O&&(Ko(A,E).flags|=256),E=Pp(A,E,!1),E!==2){if(xp&&!O){A.errorRecoveryDisabledLanes|=g,Ua|=g,m=4;break e}g=Sn,Sn=m,g!==null&&(Sn===null?Sn=g:Sn.push.apply(Sn,g))}m=E}if(g=!1,m!==2)continue}}if(m===1){Ko(i,0),As(i,s,0,!0);break}e:{switch(c=i,g=m,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:As(c,s,Ln,!Es);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=Wh+300-mn(),10<m)){if(As(c,s,Ln,!Es),ji(c,0,!0)!==0)break e;kr=s,c.timeoutHandle=UE(uE.bind(null,c,o,Sn,Jh,Rp,s,Ln,Ua,Go,Es,g,"Throttled",-0,0),m);break e}uE(c,o,Sn,Jh,Rp,s,Ln,Ua,Go,Es,g,null,-0,0)}}break}while(!0);nr(i)}function uE(i,s,o,c,m,g,E,A,O,K,J,se,X,Q){if(i.timeoutHandle=-1,se=s.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_i},tE(s,g,se);var pe=(g&62914560)===g?Wh-mn():(g&4194048)===g?sE-mn():0;if(pe=EI(se,pe),pe!==null){kr=g,i.cancelPendingCommit=pe(yE.bind(null,i,s,g,o,c,m,E,A,O,J,se,null,X,Q)),As(i,g,E,!K);return}}yE(i,s,g,o,c,m,E,A,O)}function LD(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!Mn(g(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function As(i,s,o,c){s&=~Cp,s&=~Ua,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var m=s;0<m;){var g=31-At(m),E=1<<g;c[g]=-1,m&=~E}o!==0&&ma(i,o,s)}function ef(){return(Ke&6)===0?(Du(0),!1):!0}function Mp(){if(Pe!==null){if(We===0)var i=Pe.return;else i=Pe,Ar=Ia=null,Xm(i),Lo=null,hu=0,i=Pe;for(;i!==null;)zT(i.alternate,i),i=i.return;Pe=null}}function Ko(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,iI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),kr=0,Mp(),it=i,Pe=o=wr(i.current,null),Oe=s,We=0,kn=null,Es=!1,qo=gi(i,s),xp=!1,Go=Ln=Cp=Ua=bs=Et=0,Sn=Cu=null,Rp=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var m=31-At(c),g=1<<m;s|=i[m],c&=~g}return Or=s,Eh(),o}function cE(i,s){Ie=null,Z.H=_u,s===ko||s===Dh?(s=x_(),We=3):s===km?(s=x_(),We=4):We=s===cp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,kn=s,Pe===null&&(Et=1,Hh(i,Xn(s,i.current)))}function hE(){var i=Vn.current;return i===null?!0:(Oe&4194048)===Oe?Zn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?i===Zn:!1}function fE(){var i=Z.H;return Z.H=_u,i===null?_u:i}function dE(){var i=Z.A;return Z.A=OD,i}function tf(){Et=4,Es||(Oe&4194048)!==Oe&&Vn.current!==null||(qo=!0),(bs&134217727)===0&&(Ua&134217727)===0||it===null||As(it,Oe,Ln,!1)}function Pp(i,s,o){var c=Ke;Ke|=2;var m=fE(),g=dE();(it!==i||Oe!==s)&&(Jh=null,Ko(i,s)),s=!1;var E=Et;e:do try{if(We!==0&&Pe!==null){var A=Pe,O=kn;switch(We){case 8:Mp(),E=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(s=!0);var K=We;if(We=0,kn=null,Xo(i,A,O,K),o&&qo){E=0;break e}break;default:K=We,We=0,kn=null,Xo(i,A,O,K)}}jD(),E=Et;break}catch(J){cE(i,J)}while(!0);return s&&i.shellSuspendCounter++,Ar=Ia=null,Ke=c,Z.H=m,Z.A=g,Pe===null&&(it=null,Oe=0,Eh()),E}function jD(){for(;Pe!==null;)mE(Pe)}function UD(i,s){var o=Ke;Ke|=2;var c=fE(),m=dE();it!==i||Oe!==s?(Jh=null,Zh=mn()+500,Ko(i,s)):qo=gi(i,s);e:do try{if(We!==0&&Pe!==null){s=Pe;var g=kn;t:switch(We){case 1:We=0,kn=null,Xo(i,s,g,1);break;case 2:case 9:if(S_(g)){We=0,kn=null,pE(s);break}s=function(){We!==2&&We!==9||it!==i||(We=7),nr(i)},g.then(s,s);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:S_(g)?(We=0,kn=null,pE(s)):(We=0,kn=null,Xo(i,s,g,7));break;case 5:var E=null;switch(Pe.tag){case 26:E=Pe.memoizedState;case 5:case 27:var A=Pe;if(E?eb(E):A.stateNode.complete){We=0,kn=null;var O=A.sibling;if(O!==null)Pe=O;else{var K=A.return;K!==null?(Pe=K,nf(K)):Pe=null}break t}}We=0,kn=null,Xo(i,s,g,5);break;case 6:We=0,kn=null,Xo(i,s,g,6);break;case 8:Mp(),Et=6;break e;default:throw Error(r(462))}}zD();break}catch(J){cE(i,J)}while(!0);return Ar=Ia=null,Z.H=c,Z.A=m,Ke=o,Pe!==null?0:(it=null,Oe=0,Eh(),Et)}function zD(){for(;Pe!==null&&!um();)mE(Pe)}function mE(i){var s=jT(i.alternate,i,Or);i.memoizedProps=i.pendingProps,s===null?nf(i):Pe=s}function pE(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=MT(o,s,s.pendingProps,s.type,void 0,Oe);break;case 11:s=MT(o,s,s.pendingProps,s.type.render,s.ref,Oe);break;case 5:Xm(s);default:zT(o,s),s=Pe=d_(s,Or),s=jT(o,s,Or)}i.memoizedProps=i.pendingProps,s===null?nf(i):Pe=s}function Xo(i,s,o,c){Ar=Ia=null,Xm(s),Lo=null,hu=0;var m=s.return;try{if(RD(i,m,s,o,Oe)){Et=1,Hh(i,Xn(o,i.current)),Pe=null;return}}catch(g){if(m!==null)throw Pe=m,g;Et=1,Hh(i,Xn(o,i.current)),Pe=null;return}s.flags&32768?(Be||c===1?i=!0:qo||(Oe&536870912)!==0?i=!1:(Es=i=!0,(c===2||c===9||c===3||c===6)&&(c=Vn.current,c!==null&&c.tag===13&&(c.flags|=16384))),gE(s,i)):nf(s)}function nf(i){var s=i;do{if((s.flags&32768)!==0){gE(s,Es);return}i=s.return;var o=ND(s.alternate,s,Or);if(o!==null){Pe=o;return}if(s=s.sibling,s!==null){Pe=s;return}Pe=s=i}while(s!==null);Et===0&&(Et=5)}function gE(i,s){do{var o=MD(i.alternate,i);if(o!==null){o.flags&=32767,Pe=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Pe=i;return}Pe=i=o}while(i!==null);Et=6,Pe=null}function yE(i,s,o,c,m,g,E,A,O){i.cancelPendingCommit=null;do rf();while(Ht!==0);if((Ke&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Em,fm(i,o,g,E,A,O),i===it&&(Pe=it=null,Oe=0),Yo=s,Ss=i,kr=o,Dp=g,Ip=m,aE=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,qD(ts,function(){return bE(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null,m=le.p,le.p=2,E=Ke,Ke|=4;try{PD(i,s,o)}finally{Ke=E,le.p=m,Z.T=c}}Ht=1,vE(),_E(),TE()}}function vE(){if(Ht===1){Ht=0;var i=Ss,s=Yo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var c=le.p;le.p=2;var m=Ke;Ke|=4;try{ZT(s,i);var g=Gp,E=r_(i.containerInfo),A=g.focusedElem,O=g.selectionRange;if(E!==A&&A&&A.ownerDocument&&i_(A.ownerDocument.documentElement,A)){if(O!==null&&gm(A)){var K=O.start,J=O.end;if(J===void 0&&(J=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(J,A.value.length);else{var se=A.ownerDocument||document,X=se&&se.defaultView||window;if(X.getSelection){var Q=X.getSelection(),pe=A.textContent.length,Te=Math.min(O.start,pe),nt=O.end===void 0?Te:Math.min(O.end,pe);!Q.extend&&Te>nt&&(E=nt,nt=Te,Te=E);var q=n_(A,Te),z=n_(A,nt);if(q&&z&&(Q.rangeCount!==1||Q.anchorNode!==q.node||Q.anchorOffset!==q.offset||Q.focusNode!==z.node||Q.focusOffset!==z.offset)){var Y=se.createRange();Y.setStart(q.node,q.offset),Q.removeAllRanges(),Te>nt?(Q.addRange(Y),Q.extend(z.node,z.offset)):(Y.setEnd(z.node,z.offset),Q.addRange(Y))}}}}for(se=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&se.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<se.length;A++){var ne=se[A];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}gf=!!qp,Gp=qp=null}finally{Ke=m,le.p=c,Z.T=o}}i.current=s,Ht=2}}function _E(){if(Ht===2){Ht=0;var i=Ss,s=Yo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var c=le.p;le.p=2;var m=Ke;Ke|=4;try{KT(i,s.alternate,s)}finally{Ke=m,le.p=c,Z.T=o}}Ht=3}}function TE(){if(Ht===4||Ht===3){Ht=0,Kc();var i=Ss,s=Yo,o=kr,c=aE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ht=5:(Ht=0,Yo=Ss=null,EE(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(ws=null),_r(o),s=s.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(pi,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=Z.T,m=le.p,le.p=2,Z.T=null;try{for(var g=i.onRecoverableError,E=0;E<c.length;E++){var A=c[E];g(A.value,{componentStack:A.stack})}}finally{Z.T=s,le.p=m}}(kr&3)!==0&&rf(),nr(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===Np?Ru++:(Ru=0,Np=i):Ru=0,Du(0)}}function EE(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,uu(s)))}function rf(){return vE(),_E(),TE(),bE()}function bE(){if(Ht!==5)return!1;var i=Ss,s=Dp;Dp=0;var o=_r(kr),c=Z.T,m=le.p;try{le.p=32>o?32:o,Z.T=null,o=Ip,Ip=null;var g=Ss,E=kr;if(Ht=0,Yo=Ss=null,kr=0,(Ke&6)!==0)throw Error(r(331));var A=Ke;if(Ke|=4,iE(g.current),eE(g,g.current,E,o),Ke=A,Du(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(pi,g)}catch{}return!0}finally{le.p=m,Z.T=c,EE(i,s)}}function wE(i,s,o){s=Xn(o,s),s=up(i.stateNode,s,2),i=ys(i,s,2),i!==null&&(da(i,2),nr(i))}function Ze(i,s,o){if(i.tag===3)wE(i,i,o);else for(;s!==null;){if(s.tag===3){wE(s,i,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ws===null||!ws.has(c))){i=Xn(o,i),o=ST(2),c=ys(s,o,2),c!==null&&(AT(o,c,s,i),da(c,2),nr(c));break}}s=s.return}}function Vp(i,s,o){var c=i.pingCache;if(c===null){c=i.pingCache=new kD;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(o)||(xp=!0,m.add(o),i=BD.bind(null,i,s,o),s.then(i,i))}function BD(i,s,o){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,it===i&&(Oe&o)===o&&(Et===4||Et===3&&(Oe&62914560)===Oe&&300>mn()-Wh?(Ke&2)===0&&Ko(i,0):Cp|=o,Go===Oe&&(Go=0)),nr(i)}function SE(i,s){s===0&&(s=Jc()),i=Ca(i,s),i!==null&&(da(i,s),nr(i))}function FD(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),SE(i,o)}function HD(i,s){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),SE(i,o)}function qD(i,s){return rt(i,s)}var sf=null,$o=null,Op=!1,af=!1,kp=!1,xs=0;function nr(i){i!==$o&&i.next===null&&($o===null?sf=$o=i:$o=$o.next=i),af=!0,Op||(Op=!0,YD())}function Du(i,s){if(!kp&&af){kp=!0;do for(var o=!1,c=sf;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var E=c.suspendedLanes,A=c.pingedLanes;g=(1<<31-At(42|i)+1)-1,g&=m&~(E&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,RE(c,g))}else g=Oe,g=ji(c,c===it?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||gi(c,g)||(o=!0,RE(c,g));c=c.next}while(o);kp=!1}}function GD(){AE()}function AE(){af=Op=!1;var i=0;xs!==0&&nI()&&(i=xs);for(var s=mn(),o=null,c=sf;c!==null;){var m=c.next,g=xE(c,s);g===0?(c.next=null,o===null?sf=m:o.next=m,m===null&&($o=o)):(o=c,(i!==0||(g&3)!==0)&&(af=!0)),c=m}Ht!==0&&Ht!==5||Du(i),xs!==0&&(xs=0)}function xE(i,s){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var E=31-At(g),A=1<<E,O=m[E];O===-1?((A&o)===0||(A&c)!==0)&&(m[E]=hm(A,s)):O<=s&&(i.expiredLanes|=A),g&=~A}if(s=it,o=Oe,o=ji(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===s&&(We===2||We===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Oi(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||gi(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(c!==null&&Oi(c),_r(o)){case 2:case 8:o=Ul;break;case 32:o=ts;break;case 268435456:o=Xc;break;default:o=ts}return c=CE.bind(null,i),o=rt(o,c),i.callbackPriority=s,i.callbackNode=o,s}return c!==null&&c!==null&&Oi(c),i.callbackPriority=2,i.callbackNode=null,2}function CE(i,s){if(Ht!==0&&Ht!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(rf()&&i.callbackNode!==o)return null;var c=Oe;return c=ji(i,i===it?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(lE(i,c,s),xE(i,mn()),i.callbackNode!=null&&i.callbackNode===o?CE.bind(null,i):null)}function RE(i,s){if(rf())return null;lE(i,s,!0)}function YD(){rI(function(){(Ke&6)!==0?rt(jl,GD):AE()})}function Lp(){if(xs===0){var i=Vo;i===0&&(i=ki,ki<<=1,(ki&261888)===0&&(ki=256)),xs=i}return xs}function DE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:_o(""+i)}function IE(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function KD(i,s,o,c,m){if(s==="submit"&&o&&o.stateNode===m){var g=DE((m[Gt]||null).action),E=c.submitter;E&&(s=(s=E[Gt]||null)?DE(s.formAction):E.getAttribute("formAction"),s!==null&&(g=s,E=null));var A=new $i("action","action",null,c,m);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(xs!==0){var O=E?IE(m,E):new FormData(m);ip(o,{pending:!0,data:O,method:m.method,action:g},null,O)}}else typeof g=="function"&&(A.preventDefault(),O=E?IE(m,E):new FormData(m),ip(o,{pending:!0,data:O,method:m.method,action:g},g,O))},currentTarget:m}]})}}for(var jp=0;jp<Tm.length;jp++){var Up=Tm[jp],XD=Up.toLowerCase(),$D=Up[0].toUpperCase()+Up.slice(1);Si(XD,"on"+$D)}Si(o_,"onAnimationEnd"),Si(l_,"onAnimationIteration"),Si(u_,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(hD,"onTransitionRun"),Si(fD,"onTransitionStart"),Si(dD,"onTransitionCancel"),Si(c_,"onTransitionEnd"),Gi("onMouseEnter",["mouseout","mouseover"]),Gi("onMouseLeave",["mouseout","mouseover"]),Gi("onPointerEnter",["pointerout","pointerover"]),Gi("onPointerLeave",["pointerout","pointerover"]),qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Iu));function NE(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var E=c.length-1;0<=E;E--){var A=c[E],O=A.instance,K=A.currentTarget;if(A=A.listener,O!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=K;try{g(m)}catch(J){Th(J)}m.currentTarget=null,g=O}else for(E=0;E<c.length;E++){if(A=c[E],O=A.instance,K=A.currentTarget,A=A.listener,O!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=K;try{g(m)}catch(J){Th(J)}m.currentTarget=null,g=O}}}}function Ve(i,s){var o=s[mo];o===void 0&&(o=s[mo]=new Set);var c=i+"__bubble";o.has(c)||(ME(s,i,2,!1),o.add(c))}function zp(i,s,o){var c=0;s&&(c|=4),ME(o,i,c,s)}var of="_reactListening"+Math.random().toString(36).slice(2);function Bp(i){if(!i[of]){i[of]=!0,Fl.forEach(function(o){o!=="selectionchange"&&(QD.has(o)||zp(o,!1,i),zp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[of]||(s[of]=!0,zp("selectionchange",!1,s))}}function ME(i,s,o,c){switch(ob(s)){case 2:var m=SI;break;case 8:m=AI;break;default:m=ng}o=m.bind(null,s,o,i),m=void 0,!_a||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(s,o,{capture:!0,passive:m}):i.addEventListener(s,o,!0):m!==void 0?i.addEventListener(s,o,{passive:m}):i.addEventListener(s,o,!1)}function Fp(i,s,o,c,m){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var A=c.stateNode.containerInfo;if(A===m)break;if(E===4)for(E=c.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;A!==null;){if(E=Fi(A),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){c=g=E;continue e}A=A.parentNode}}c=c.return}os(function(){var K=g,J=qn(o),se=[];e:{var X=h_.get(i);if(X!==void 0){var Q=$i,pe=i;switch(i){case"keypress":if(Ea(o)===0)break e;case"keydown":case"keyup":Q=yh;break;case"focusin":pe="focus",Q=wa;break;case"focusout":pe="blur",Q=wa;break;case"beforeblur":case"afterblur":Q=wa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=tu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=lh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=_;break;case o_:case l_:case u_:Q=ch;break;case c_:Q=x;break;case"scroll":case"scrollend":Q=eu;break;case"wheel":Q=$;break;case"copy":case"cut":case"paste":Q=hh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=br;break;case"toggle":case"beforetoggle":Q=De}var Te=(s&4)!==0,nt=!Te&&(i==="scroll"||i==="scrollend"),q=Te?X!==null?X+"Capture":null:X;Te=[];for(var z=K,Y;z!==null;){var ne=z;if(Y=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||Y===null||q===null||(ne=Ti(z,q),ne!=null&&Te.push(Nu(z,ne,Y))),nt)break;z=z.return}0<Te.length&&(X=new Q(X,pe,null,o,J),se.push({event:X,listeners:Te}))}}if((s&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",X&&o!==Wl&&(pe=o.relatedTarget||o.fromElement)&&(Fi(pe)||pe[zi]))break e;if((Q||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,Q?(pe=o.relatedTarget||o.toElement,Q=K,pe=pe?Fi(pe):null,pe!==null&&(nt=l(pe),Te=pe.tag,pe!==nt||Te!==5&&Te!==27&&Te!==6)&&(pe=null)):(Q=null,pe=K),Q!==pe)){if(Te=tu,ne="onMouseLeave",q="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(Te=br,ne="onPointerLeave",q="onPointerEnter",z="pointer"),nt=Q==null?X:In(Q),Y=pe==null?X:In(pe),X=new Te(ne,z+"leave",Q,o,J),X.target=nt,X.relatedTarget=Y,ne=null,Fi(J)===K&&(Te=new Te(q,z+"enter",pe,o,J),Te.target=Y,Te.relatedTarget=nt,ne=Te),nt=ne,Q&&pe)t:{for(Te=WD,q=Q,z=pe,Y=0,ne=q;ne;ne=Te(ne))Y++;ne=0;for(var ve=z;ve;ve=Te(ve))ne++;for(;0<Y-ne;)q=Te(q),Y--;for(;0<ne-Y;)z=Te(z),ne--;for(;Y--;){if(q===z||z!==null&&q===z.alternate){Te=q;break t}q=Te(q),z=Te(z)}Te=null}else Te=null;Q!==null&&PE(se,X,Q,Te,!1),pe!==null&&nt!==null&&PE(se,nt,pe,Te,!0)}}e:{if(X=K?In(K):window,Q=X.nodeName&&X.nodeName.toLowerCase(),Q==="select"||Q==="input"&&X.type==="file")var He=Q0;else if(X0(X))if(W0)He=lD;else{He=aD;var ye=sD}else Q=X.nodeName,!Q||Q.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?K&&vo(K.elementType)&&(He=Q0):He=oD;if(He&&(He=He(i,K))){$0(se,He,o,J);break e}ye&&ye(i,X,K),i==="focusout"&&K&&X.type==="number"&&K.memoizedProps.value!=null&&Xl(X,"number",X.value)}switch(ye=K?In(K):window,i){case"focusin":(X0(ye)||ye.contentEditable==="true")&&(xo=ye,ym=K,au=null);break;case"focusout":au=ym=xo=null;break;case"mousedown":vm=!0;break;case"contextmenu":case"mouseup":case"dragend":vm=!1,s_(se,o,J);break;case"selectionchange":if(cD)break;case"keydown":case"keyup":s_(se,o,J)}var Ne;if(Ye)e:{switch(i){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Ao?Sa(i,o)&&(ke="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(ke="onCompositionStart");ke&&(Zi&&o.locale!=="ko"&&(Ao||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Ao&&(Ne=Jl()):(Xi=J,Zl="value"in Xi?Xi.value:Xi.textContent,Ao=!0)),ye=lf(K,ke),0<ye.length&&(ke=new Wi(ke,i,null,o,J),se.push({event:ke,listeners:ye}),Ne?ke.data=Ne:(Ne=So(o),Ne!==null&&(ke.data=Ne)))),(Ne=Yn?tD(i,o):nD(i,o))&&(ke=lf(K,"onBeforeInput"),0<ke.length&&(ye=new Wi("onBeforeInput","beforeinput",null,o,J),se.push({event:ye,listeners:ke}),ye.data=Ne)),KD(se,i,K,o,J)}NE(se,s)})}function Nu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function lf(i,s){for(var o=s+"Capture",c=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Ti(i,o),m!=null&&c.unshift(Nu(i,m,g)),m=Ti(i,s),m!=null&&c.push(Nu(i,m,g))),i.tag===3)return c;i=i.return}return[]}function WD(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function PE(i,s,o,c,m){for(var g=s._reactName,E=[];o!==null&&o!==c;){var A=o,O=A.alternate,K=A.stateNode;if(A=A.tag,O!==null&&O===c)break;A!==5&&A!==26&&A!==27||K===null||(O=K,m?(K=Ti(o,g),K!=null&&E.unshift(Nu(o,K,O))):m||(K=Ti(o,g),K!=null&&E.push(Nu(o,K,O)))),o=o.return}E.length!==0&&i.push({event:s,listeners:E})}var ZD=/\r\n?/g,JD=/\u0000|\uFFFD/g;function VE(i){return(typeof i=="string"?i:""+i).replace(ZD,`
`).replace(JD,"")}function OE(i,s){return s=VE(s),VE(i)===s}function tt(i,s,o,c,m,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Tn(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Tn(i,""+c);break;case"className":Nn(i,"class",c);break;case"tabIndex":Nn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(i,o,c);break;case"style":Ql(i,c,g);break;case"data":if(s!=="object"){Nn(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=_o(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&tt(i,s,"name",m.name,m,null),tt(i,s,"formEncType",m.formEncType,m,null),tt(i,s,"formMethod",m.formMethod,m,null),tt(i,s,"formTarget",m.formTarget,m,null)):(tt(i,s,"encType",m.encType,m,null),tt(i,s,"method",m.method,m,null),tt(i,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=_o(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=_i);break;case"onScroll":c!=null&&Ve("scroll",i);break;case"onScrollEnd":c!=null&&Ve("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=_o(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Ve("beforetoggle",i),Ve("toggle",i),go(i,"popover",c);break;case"xlinkActuate":Vt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Vt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Vt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Vt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Vt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Vt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Vt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Vt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Vt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":go(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=oh.get(o)||o,go(i,o,c))}}function Hp(i,s,o,c,m,g){switch(o){case"style":Ql(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Tn(i,c):(typeof c=="number"||typeof c=="bigint")&&Tn(i,""+c);break;case"onScroll":c!=null&&Ve("scroll",i);break;case"onScrollEnd":c!=null&&Ve("scrollend",i);break;case"onClick":c!=null&&(i.onclick=_i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),g=i[Gt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,c,m);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):go(i,o,c)}}}function en(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",i),Ve("load",i);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:tt(i,s,g,E,o,null)}}m&&tt(i,s,"srcSet",o.srcSet,o,null),c&&tt(i,s,"src",o.src,o,null);return;case"input":Ve("invalid",i);var A=g=E=m=null,O=null,K=null;for(c in o)if(o.hasOwnProperty(c)){var J=o[c];if(J!=null)switch(c){case"name":m=J;break;case"type":E=J;break;case"checked":O=J;break;case"defaultChecked":K=J;break;case"value":g=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:tt(i,s,c,J,o,null)}}rh(i,g,A,O,K,E,m,!1);return;case"select":Ve("invalid",i),c=E=g=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":g=A;break;case"defaultValue":E=A;break;case"multiple":c=A;default:tt(i,s,m,A,o,null)}s=g,o=E,i.multiple=!!c,s!=null?is(i,!!c,s,!1):o!=null&&is(i,!!c,o,!0);return;case"textarea":Ve("invalid",i),g=m=c=null;for(E in o)if(o.hasOwnProperty(E)&&(A=o[E],A!=null))switch(E){case"value":c=A;break;case"defaultValue":m=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:tt(i,s,E,A,o,null)}rs(i,c,m,g);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(c=o[O],c!=null))switch(O){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:tt(i,s,O,c,o,null)}return;case"dialog":Ve("beforetoggle",i),Ve("toggle",i),Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":Ve("load",i);break;case"video":case"audio":for(c=0;c<Iu.length;c++)Ve(Iu[c],i);break;case"image":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"embed":case"source":case"link":Ve("error",i),Ve("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(c=o[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:tt(i,s,K,c,o,null)}return;default:if(vo(s)){for(J in o)o.hasOwnProperty(J)&&(c=o[J],c!==void 0&&Hp(i,s,J,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&tt(i,s,A,c,o,null))}function eI(i,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,E=null,A=null,O=null,K=null,J=null;for(Q in o){var se=o[Q];if(o.hasOwnProperty(Q)&&se!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":O=se;default:c.hasOwnProperty(Q)||tt(i,s,Q,null,c,se)}}for(var X in c){var Q=c[X];if(se=o[X],c.hasOwnProperty(X)&&(Q!=null||se!=null))switch(X){case"type":g=Q;break;case"name":m=Q;break;case"checked":K=Q;break;case"defaultChecked":J=Q;break;case"value":E=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==se&&tt(i,s,X,Q,c,se)}}yo(i,E,A,O,K,J,g,m);return;case"select":Q=E=A=X=null;for(g in o)if(O=o[g],o.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":Q=O;default:c.hasOwnProperty(g)||tt(i,s,g,null,c,O)}for(m in c)if(g=c[m],O=o[m],c.hasOwnProperty(m)&&(g!=null||O!=null))switch(m){case"value":X=g;break;case"defaultValue":A=g;break;case"multiple":E=g;default:g!==O&&tt(i,s,m,g,c,O)}s=A,o=E,c=Q,X!=null?is(i,!!o,X,!1):!!c!=!!o&&(s!=null?is(i,!!o,s,!0):is(i,!!o,o?[]:"",!1));return;case"textarea":Q=X=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:tt(i,s,A,null,c,m)}for(E in c)if(m=c[E],g=o[E],c.hasOwnProperty(E)&&(m!=null||g!=null))switch(E){case"value":X=m;break;case"defaultValue":Q=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==g&&tt(i,s,E,m,c,g)}sh(i,X,Q);return;case"option":for(var pe in o)if(X=o[pe],o.hasOwnProperty(pe)&&X!=null&&!c.hasOwnProperty(pe))switch(pe){case"selected":i.selected=!1;break;default:tt(i,s,pe,null,c,X)}for(O in c)if(X=c[O],Q=o[O],c.hasOwnProperty(O)&&X!==Q&&(X!=null||Q!=null))switch(O){case"selected":i.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:tt(i,s,O,X,c,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)X=o[Te],o.hasOwnProperty(Te)&&X!=null&&!c.hasOwnProperty(Te)&&tt(i,s,Te,null,c,X);for(K in c)if(X=c[K],Q=o[K],c.hasOwnProperty(K)&&X!==Q&&(X!=null||Q!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:tt(i,s,K,X,c,Q)}return;default:if(vo(s)){for(var nt in o)X=o[nt],o.hasOwnProperty(nt)&&X!==void 0&&!c.hasOwnProperty(nt)&&Hp(i,s,nt,void 0,c,X);for(J in c)X=c[J],Q=o[J],!c.hasOwnProperty(J)||X===Q||X===void 0&&Q===void 0||Hp(i,s,J,X,c,Q);return}}for(var q in o)X=o[q],o.hasOwnProperty(q)&&X!=null&&!c.hasOwnProperty(q)&&tt(i,s,q,null,c,X);for(se in c)X=c[se],Q=o[se],!c.hasOwnProperty(se)||X===Q||X==null&&Q==null||tt(i,s,se,X,c,Q)}function kE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,E=m.initiatorType,A=m.duration;if(g&&A&&kE(E)){for(E=0,A=m.responseEnd,c+=1;c<o.length;c++){var O=o[c],K=O.startTime;if(K>A)break;var J=O.transferSize,se=O.initiatorType;J&&kE(se)&&(O=O.responseEnd,E+=J*(O<A?1:(A-K)/(O-K)))}if(--c,s+=8*(g+E)/(m.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var qp=null,Gp=null;function uf(i){return i.nodeType===9?i:i.ownerDocument}function LE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jE(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Yp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Kp=null;function nI(){var i=window.event;return i&&i.type==="popstate"?i===Kp?!1:(Kp=i,!0):(Kp=null,!1)}var UE=typeof setTimeout=="function"?setTimeout:void 0,iI=typeof clearTimeout=="function"?clearTimeout:void 0,zE=typeof Promise=="function"?Promise:void 0,rI=typeof queueMicrotask=="function"?queueMicrotask:typeof zE<"u"?function(i){return zE.resolve(null).then(i).catch(sI)}:UE;function sI(i){setTimeout(function(){throw i})}function Cs(i){return i==="head"}function BE(i,s){var o=s,c=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(m),Jo(s);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Mu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Mu(o);for(var g=o.firstChild;g;){var E=g.nextSibling,A=g.nodeName;g[Bi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=E}}else o==="body"&&Mu(i.ownerDocument.body);o=m}while(o);Jo(s)}function FE(i,s){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function Xp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Xp(o),po(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function aI(i,s,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Bi])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Jn(i.nextSibling),i===null)break}return null}function oI(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Jn(i.nextSibling),i===null))return null;return i}function HE(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Jn(i.nextSibling),i===null))return null;return i}function $p(i){return i.data==="$?"||i.data==="$~"}function Qp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function lI(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Jn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Wp=null;function qE(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return Jn(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function GE(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function YE(i,s,o){switch(s=uf(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Mu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);po(i)}var ei=new Map,KE=new Set;function cf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Lr=le.d;le.d={f:uI,r:cI,D:hI,C:fI,L:dI,m:mI,X:gI,S:pI,M:yI};function uI(){var i=Lr.f(),s=ef();return i||s}function cI(i){var s=Hn(i);s!==null&&s.tag===5&&s.type==="form"?cT(s):Lr.r(i)}var Qo=typeof document>"u"?null:document;function XE(i,s,o){var c=Qo;if(c&&typeof s=="string"&&s){var m=_n(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),KE.has(m)||(KE.add(m),i={rel:i,crossOrigin:o,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),en(s,"link",i),Pt(s),c.head.appendChild(s)))}}function hI(i){Lr.D(i),XE("dns-prefetch",i,null)}function fI(i,s){Lr.C(i,s),XE("preconnect",i,s)}function dI(i,s,o){Lr.L(i,s,o);var c=Qo;if(c&&i&&s){var m='link[rel="preload"][as="'+_n(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+_n(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+_n(o.imageSizes)+'"]')):m+='[href="'+_n(i)+'"]';var g=m;switch(s){case"style":g=Wo(i);break;case"script":g=Zo(i)}ei.has(g)||(i=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),ei.set(g,i),c.querySelector(m)!==null||s==="style"&&c.querySelector(Pu(g))||s==="script"&&c.querySelector(Vu(g))||(s=c.createElement("link"),en(s,"link",i),Pt(s),c.head.appendChild(s)))}}function mI(i,s){Lr.m(i,s);var o=Qo;if(o&&i){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+_n(c)+'"][href="'+_n(i)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Zo(i)}if(!ei.has(g)&&(i=v({rel:"modulepreload",href:i},s),ei.set(g,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Vu(g)))return}c=o.createElement("link"),en(c,"link",i),Pt(c),o.head.appendChild(c)}}}function pI(i,s,o){Lr.S(i,s,o);var c=Qo;if(c&&i){var m=Hi(c).hoistableStyles,g=Wo(i);s=s||"default";var E=m.get(g);if(!E){var A={loading:0,preload:null};if(E=c.querySelector(Pu(g)))A.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},o),(o=ei.get(g))&&Zp(i,o);var O=E=c.createElement("link");Pt(O),en(O,"link",i),O._p=new Promise(function(K,J){O.onload=K,O.onerror=J}),O.addEventListener("load",function(){A.loading|=1}),O.addEventListener("error",function(){A.loading|=2}),A.loading|=4,hf(E,s,c)}E={type:"stylesheet",instance:E,count:1,state:A},m.set(g,E)}}}function gI(i,s){Lr.X(i,s);var o=Qo;if(o&&i){var c=Hi(o).hoistableScripts,m=Zo(i),g=c.get(m);g||(g=o.querySelector(Vu(m)),g||(i=v({src:i,async:!0},s),(s=ei.get(m))&&Jp(i,s),g=o.createElement("script"),Pt(g),en(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function yI(i,s){Lr.M(i,s);var o=Qo;if(o&&i){var c=Hi(o).hoistableScripts,m=Zo(i),g=c.get(m);g||(g=o.querySelector(Vu(m)),g||(i=v({src:i,async:!0,type:"module"},s),(s=ei.get(m))&&Jp(i,s),g=o.createElement("script"),Pt(g),en(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function $E(i,s,o,c){var m=(m=ge.current)?cf(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Wo(o.href),o=Hi(m).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Wo(o.href);var g=Hi(m).hoistableStyles,E=g.get(i);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,E),(g=m.querySelector(Pu(i)))&&!g._p&&(E.instance=g,E.state.loading=5),ei.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ei.set(i,o),g||vI(m,i,o,E.state))),s&&c===null)throw Error(r(528,""));return E}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Zo(o),o=Hi(m).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Wo(i){return'href="'+_n(i)+'"'}function Pu(i){return'link[rel="stylesheet"]['+i+"]"}function QE(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function vI(i,s,o,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),en(s,"link",o),Pt(s),i.head.appendChild(s))}function Zo(i){return'[src="'+_n(i)+'"]'}function Vu(i){return"script[async]"+i}function WE(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+_n(o.href)+'"]');if(c)return s.instance=c,Pt(c),c;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Pt(c),en(c,"style",m),hf(c,o.precedence,i),s.instance=c;case"stylesheet":m=Wo(o.href);var g=i.querySelector(Pu(m));if(g)return s.state.loading|=4,s.instance=g,Pt(g),g;c=QE(o),(m=ei.get(m))&&Zp(c,m),g=(i.ownerDocument||i).createElement("link"),Pt(g);var E=g;return E._p=new Promise(function(A,O){E.onload=A,E.onerror=O}),en(g,"link",c),s.state.loading|=4,hf(g,o.precedence,i),s.instance=g;case"script":return g=Zo(o.src),(m=i.querySelector(Vu(g)))?(s.instance=m,Pt(m),m):(c=o,(m=ei.get(g))&&(c=v({},o),Jp(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),Pt(m),en(m,"link",c),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,hf(c,o.precedence,i));return s.instance}function hf(i,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,E=0;E<c.length;E++){var A=c[E];if(A.dataset.precedence===s)g=A;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function Zp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Jp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var ff=null;function ZE(i,s,o){if(ff===null){var c=new Map,m=ff=new Map;m.set(o,c)}else m=ff,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[Bi]||g[Mt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(s)||"";E=i+E;var A=c.get(E);A?A.push(g):c.set(E,[g])}}return c}function JE(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function _I(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function eb(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function TI(i,s,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Wo(c.href),g=s.querySelector(Pu(m));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=df.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=g,Pt(g);return}g=s.ownerDocument||s,c=QE(c),(m=ei.get(m))&&Zp(c,m),g=g.createElement("link"),Pt(g);var E=g;E._p=new Promise(function(A,O){E.onload=A,E.onerror=O}),en(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=df.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var eg=0;function EI(i,s){return i.stylesheets&&i.count===0&&pf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&pf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+s);0<i.imgBytes&&eg===0&&(eg=62500*tI());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&pf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>eg?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function df(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var mf=null;function pf(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,mf=new Map,s.forEach(bI,i),mf=null,df.call(i))}function bI(i,s){if(!(s.state.loading&4)){var o=mf.get(i);if(o)var c=o.get(null);else{o=new Map,mf.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var E=m[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),c=E)}c&&o.set(null,c)}m=s.instance,E=m.getAttribute("data-precedence"),g=o.get(E)||c,g===c&&o.set(null,m),o.set(E,m),this.count++,c=df.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var Ou={$$typeof:F,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function wI(i,s,o,c,m,g,E,A,O){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.hiddenUpdates=Ui(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function tb(i,s,o,c,m,g,E,A,O,K,J,se){return i=new wI(i,s,o,E,O,K,J,se,A),s=1,g===!0&&(s|=24),g=Pn(3,null,null,s),i.current=g,g.stateNode=i,s=Pm(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},Lm(g),i}function nb(i){return i?(i=Do,i):Do}function ib(i,s,o,c,m,g){m=nb(m),c.context===null?c.context=m:c.pendingContext=m,c=gs(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ys(i,c,s),o!==null&&(An(o,i,s),du(o,i,s))}function rb(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function tg(i,s){rb(i,s),(i=i.alternate)&&rb(i,s)}function sb(i){if(i.tag===13||i.tag===31){var s=Ca(i,67108864);s!==null&&An(s,i,67108864),tg(i,67108864)}}function ab(i){if(i.tag===13||i.tag===31){var s=jn();s=pa(s);var o=Ca(i,s);o!==null&&An(o,i,s),tg(i,s)}}var gf=!0;function SI(i,s,o,c){var m=Z.T;Z.T=null;var g=le.p;try{le.p=2,ng(i,s,o,c)}finally{le.p=g,Z.T=m}}function AI(i,s,o,c){var m=Z.T;Z.T=null;var g=le.p;try{le.p=8,ng(i,s,o,c)}finally{le.p=g,Z.T=m}}function ng(i,s,o,c){if(gf){var m=ig(c);if(m===null)Fp(i,s,c,yf,o),lb(i,c);else if(CI(m,i,s,o,c))c.stopPropagation();else if(lb(i,c),s&4&&-1<xI.indexOf(i)){for(;m!==null;){var g=Hn(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=Li(g.pendingLanes);if(E!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var O=1<<31-At(E);A.entanglements[1]|=O,E&=~O}nr(g),(Ke&6)===0&&(Zh=mn()+500,Du(0))}}break;case 31:case 13:A=Ca(g,2),A!==null&&An(A,g,2),ef(),tg(g,2)}if(g=ig(c),g===null&&Fp(i,s,c,yf,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else Fp(i,s,c,null,o)}}function ig(i){return i=qn(i),rg(i)}var yf=null;function rg(i){if(yf=null,i=Fi(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=u(s),i!==null)return i;i=null}else if(o===31){if(i=h(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return yf=i,null}function ob(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ha()){case jl:return 2;case Ul:return 8;case ts:case cm:return 32;case Xc:return 268435456;default:return 32}default:return 32}}var sg=!1,Rs=null,Ds=null,Is=null,ku=new Map,Lu=new Map,Ns=[],xI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lb(i,s){switch(i){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":ku.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lu.delete(s.pointerId)}}function ju(i,s,o,c,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},s!==null&&(s=Hn(s),s!==null&&sb(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function CI(i,s,o,c,m){switch(s){case"focusin":return Rs=ju(Rs,i,s,o,c,m),!0;case"dragenter":return Ds=ju(Ds,i,s,o,c,m),!0;case"mouseover":return Is=ju(Is,i,s,o,c,m),!0;case"pointerover":var g=m.pointerId;return ku.set(g,ju(ku.get(g)||null,i,s,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,Lu.set(g,ju(Lu.get(g)||null,i,s,o,c,m)),!0}return!1}function ub(i){var s=Fi(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){i.blockedOn=s,yi(i.priority,function(){ab(o)});return}}else if(s===31){if(s=h(o),s!==null){i.blockedOn=s,yi(i.priority,function(){ab(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function vf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=ig(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);Wl=c,o.target.dispatchEvent(c),Wl=null}else return s=Hn(o),s!==null&&sb(s),i.blockedOn=o,!1;s.shift()}return!0}function cb(i,s,o){vf(i)&&o.delete(s)}function RI(){sg=!1,Rs!==null&&vf(Rs)&&(Rs=null),Ds!==null&&vf(Ds)&&(Ds=null),Is!==null&&vf(Is)&&(Is=null),ku.forEach(cb),Lu.forEach(cb)}function _f(i,s){i.blockedOn===s&&(i.blockedOn=null,sg||(sg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,RI)))}var Tf=null;function hb(i){Tf!==i&&(Tf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Tf===i&&(Tf=null);for(var s=0;s<i.length;s+=3){var o=i[s],c=i[s+1],m=i[s+2];if(typeof c!="function"){if(rg(c||o)===null)continue;break}var g=Hn(o);g!==null&&(i.splice(s,3),s-=3,ip(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Jo(i){function s(O){return _f(O,i)}Rs!==null&&_f(Rs,i),Ds!==null&&_f(Ds,i),Is!==null&&_f(Is,i),ku.forEach(s),Lu.forEach(s);for(var o=0;o<Ns.length;o++){var c=Ns[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ns.length&&(o=Ns[0],o.blockedOn===null);)ub(o),o.blockedOn===null&&Ns.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],E=m[Gt]||null;if(typeof g=="function")E||hb(o);else if(E){var A=null;if(g&&g.hasAttribute("formAction")){if(m=g,E=g[Gt]||null)A=E.formAction;else if(rg(m)!==null)continue}else A=E.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),hb(o)}}}function fb(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(E){return m=E})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function ag(i){this._internalRoot=i}Ef.prototype.render=ag.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,c=jn();ib(o,c,i,s,null,null)},Ef.prototype.unmount=ag.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;ib(i.current,2,null,i,null,null),ef(),s[zi]=null}};function Ef(i){this._internalRoot=i}Ef.prototype.unstable_scheduleHydration=function(i){if(i){var s=eh();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Ns.length&&s!==0&&s<Ns[o].priority;o++);Ns.splice(o,0,i),o===0&&ub(i)}};var db=e.version;if(db!=="19.2.0")throw Error(r(527,db,"19.2.0"));le.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var DI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bf.isDisabled&&bf.supportsFiber)try{pi=bf.inject(DI),$t=bf}catch{}}return zu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,c="",m=TT,g=ET,E=bT;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=tb(i,1,!1,null,null,o,c,null,m,g,E,fb),i[zi]=s.current,Bp(i),new ag(s)},zu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var c=!1,m="",g=TT,E=ET,A=bT,O=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(O=o.formState)),s=tb(i,1,!0,s,o??null,c,m,O,g,E,A,fb),s.context=nb(null),o=s.current,c=jn(),c=pa(c),m=gs(c),m.callback=null,ys(o,m,c),o=c,s.current.lanes=o,da(s,o),nr(s),i[zi]=s.current,Bp(i),new Ef(s)},zu.version="19.2.0",zu}var wb;function zI(){if(wb)return ug.exports;wb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ug.exports=UI(),ug.exports}var BI=zI();var Sb="popstate";function FI(t={}){function e(a,l){let{pathname:u="/",search:h="",hash:d=""}=so(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Xg("",{pathname:u,search:h,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let u=a.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let d=a.location.href,p=d.indexOf("#");h=p===-1?d:d.slice(0,p)}return h+"#"+(typeof l=="string"?l:lc(l))}function r(a,l){fi(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return qI(e,n,r,t)}function gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HI(){return Math.random().toString(36).substring(2,10)}function Ab(t,e){return{usr:t.state,key:t.key,idx:e}}function Xg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?so(e):e,state:n,key:e&&e.key||r||HI()}}function lc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function so(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function qI(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,u=a.history,h="POP",d=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let N=y(),j=N==null?null:N-p;p=N,d&&d({action:h,location:M.location,delta:j})}function T(N,j){h="PUSH";let B=Xg(M.location,N,j);n&&n(B,N),p=y()+1;let F=Ab(B,p),W=M.createHref(B);try{u.pushState(F,"",W)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;a.location.assign(W)}l&&d&&d({action:h,location:M.location,delta:1})}function S(N,j){h="REPLACE";let B=Xg(M.location,N,j);n&&n(B,N),p=y();let F=Ab(B,p),W=M.createHref(B);u.replaceState(F,"",W),l&&d&&d({action:h,location:M.location,delta:0})}function R(N){return GI(N)}let M={get action(){return h},get location(){return t(a,u)},listen(N){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Sb,v),d=N,()=>{a.removeEventListener(Sb,v),d=null}},createHref(N){return e(a,N)},createURL:R,encodeLocation(N){let j=R(N);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:T,replace:S,go(N){return u.go(N)}};return M}function GI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),gt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:lc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function FA(t,e,n="/"){return YI(t,e,n,!1)}function YI(t,e,n,r){let a=typeof e=="string"?so(e):e,l=qr(a.pathname||"/",n);if(l==null)return null;let u=HA(t);KI(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=rN(l);h=nN(u[d],p,r)}return h}function HA(t,e=[],n=[],r="",a=!1){let l=(u,h,d=a,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&d)return;gt(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let v=Br([r,y.relativePath]),T=n.concat(y);u.children&&u.children.length>0&&(gt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),HA(u.children,e,T,v,d)),!(u.path==null&&!u.index)&&e.push({path:v,score:eN(v,u.index),routesMeta:T})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let d of qA(u.path))l(u,h,!0,d)}),e}function qA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let u=qA(r.join("/")),h=[];return h.push(...u.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function KI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:tN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var XI=/^:[\w-]+$/,$I=3,QI=2,WI=1,ZI=10,JI=-2,xb=t=>t==="*";function eN(t,e){let n=t.split("/"),r=n.length;return n.some(xb)&&(r+=JI),e&&(r+=QI),n.filter(a=>!xb(a)).reduce((a,l)=>a+(XI.test(l)?$I:l===""?WI:ZI),r)}function tN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function nN(t,e,n=!1){let{routesMeta:r}=t,a={},l="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=Zf({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},y),T=d.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=Zf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:Br([l,v.pathname]),pathnameBase:uN(Br([l,v.pathnameBase])),route:T}),v.pathnameBase!=="/"&&(l=Br([l,v.pathnameBase]))}return u}function Zf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=iN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:v},T)=>{if(y==="*"){let R=h[T]||"";u=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const S=h[T];return v&&!S?p[y]=void 0:p[y]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function iN(t,e=!1,n=!0){fi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function rN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function qr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var sN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aN=t=>sN.test(t);function oN(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?so(t):t,l;if(n)if(aN(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),fi(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=Cb(n.substring(1),"/"):l=Cb(n,e)}else l=e;return{pathname:l,search:cN(r),hash:hN(a)}}function Cb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function dg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function GA(t){let e=lN(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function YA(t,e,n,r=!1){let a;typeof t=="string"?a=so(t):(a={...t},gt(!a.pathname||!a.pathname.includes("?"),dg("?","pathname","search",a)),gt(!a.pathname||!a.pathname.includes("#"),dg("#","pathname","hash",a)),gt(!a.search||!a.search.includes("#"),dg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=n;else{let v=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),v-=1;a.pathname=T.join("/")}h=v>=0?e[v]:"/"}let d=oN(a,h),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||y)&&(d.pathname+="/"),d}var Br=t=>t.join("/").replace(/\/\/+/g,"/"),uN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var KA=["POST","PUT","PATCH","DELETE"];new Set(KA);var dN=["GET",...KA];new Set(dN);var xl=V.createContext(null);xl.displayName="DataRouter";var Rd=V.createContext(null);Rd.displayName="DataRouterState";V.createContext(!1);var XA=V.createContext({isTransitioning:!1});XA.displayName="ViewTransition";var mN=V.createContext(new Map);mN.displayName="Fetchers";var pN=V.createContext(null);pN.displayName="Await";var pr=V.createContext(null);pr.displayName="Navigation";var Cc=V.createContext(null);Cc.displayName="Location";var gr=V.createContext({outlet:null,matches:[],isDataRoute:!1});gr.displayName="Route";var Zy=V.createContext(null);Zy.displayName="RouteError";function gN(t,{relative:e}={}){gt(Rc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=V.useContext(pr),{hash:a,pathname:l,search:u}=Dc(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Br([n,l])),r.createHref({pathname:h,search:u,hash:a})}function Rc(){return V.useContext(Cc)!=null}function ao(){return gt(Rc(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Cc).location}var $A="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QA(t){V.useContext(pr).static||V.useLayoutEffect(t)}function Jy(){let{isDataRoute:t}=V.useContext(gr);return t?IN():yN()}function yN(){gt(Rc(),"useNavigate() may be used only in the context of a <Router> component.");let t=V.useContext(xl),{basename:e,navigator:n}=V.useContext(pr),{matches:r}=V.useContext(gr),{pathname:a}=ao(),l=JSON.stringify(GA(r)),u=V.useRef(!1);return QA(()=>{u.current=!0}),V.useCallback((d,p={})=>{if(fi(u.current,$A),!u.current)return;if(typeof d=="number"){n.go(d);return}let y=YA(d,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Br([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}V.createContext(null);function vN(){let{matches:t}=V.useContext(gr),e=t[t.length-1];return e?e.params:{}}function Dc(t,{relative:e}={}){let{matches:n}=V.useContext(gr),{pathname:r}=ao(),a=JSON.stringify(GA(n));return V.useMemo(()=>YA(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function _N(t,e){return WA(t,e)}function WA(t,e,n,r,a){gt(Rc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=V.useContext(pr),{matches:u}=V.useContext(gr),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let B=v&&v.path||"";ZA(p,!v||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let T=ao(),S;if(e){let B=typeof e=="string"?so(e):e;gt(y==="/"||B.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${B.pathname}" was given in the \`location\` prop.`),S=B}else S=T;let R=S.pathname||"/",M=R;if(y!=="/"){let B=y.replace(/^\//,"").split("/");M="/"+R.replace(/^\//,"").split("/").slice(B.length).join("/")}let N=FA(t,{pathname:M});fi(v||N!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),fi(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=SN(N&&N.map(B=>Object.assign({},B,{params:Object.assign({},d,B.params),pathname:Br([y,l.encodeLocation?l.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:Br([y,l.encodeLocation?l.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),u,n,r,a);return e&&j?V.createElement(Cc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},j):j}function TN(){let t=DN(),e=fN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:l},"ErrorBoundary")," or"," ",V.createElement("code",{style:l},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:a},n):null,u)}var EN=V.createElement(TN,null),bN=class extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?V.createElement(gr.Provider,{value:this.props.routeContext},V.createElement(Zy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wN({routeContext:t,match:e,children:n}){let r=V.useContext(xl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(gr.Provider,{value:t},n)}function SN(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let y=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);gt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let h=!1,d=-1;if(n)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=y),v.route.id){let{loaderData:T,errors:S}=n,R=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||R){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let p=n&&r?(y,v)=>{r(y,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:v})}:void 0;return l.reduceRight((y,v,T)=>{let S,R=!1,M=null,N=null;n&&(S=u&&v.route.id?u[v.route.id]:void 0,M=v.route.errorElement||EN,h&&(d<0&&T===0?(ZA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,N=null):d===T&&(R=!0,N=v.route.hydrateFallbackElement||null)));let j=e.concat(l.slice(0,T+1)),B=()=>{let F;return S?F=M:R?F=N:v.route.Component?F=V.createElement(v.route.Component,null):v.route.element?F=v.route.element:F=y,V.createElement(wN,{match:v,routeContext:{outlet:y,matches:j,isDataRoute:n!=null},children:F})};return n&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?V.createElement(bN,{location:n.location,revalidation:n.revalidation,component:M,error:S,children:B(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:p}):B()},null)}function ev(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AN(t){let e=V.useContext(xl);return gt(e,ev(t)),e}function xN(t){let e=V.useContext(Rd);return gt(e,ev(t)),e}function CN(t){let e=V.useContext(gr);return gt(e,ev(t)),e}function tv(t){let e=CN(t),n=e.matches[e.matches.length-1];return gt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function RN(){return tv("useRouteId")}function DN(){let t=V.useContext(Zy),e=xN("useRouteError"),n=tv("useRouteError");return t!==void 0?t:e.errors?.[n]}function IN(){let{router:t}=AN("useNavigate"),e=tv("useNavigate"),n=V.useRef(!1);return QA(()=>{n.current=!0}),V.useCallback(async(a,l={})=>{fi(n.current,$A),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Rb={};function ZA(t,e,n){!e&&!Rb[t]&&(Rb[t]=!0,fi(!1,n))}V.memo(NN);function NN({routes:t,future:e,state:n,unstable_onError:r}){return WA(t,void 0,n,r,e)}function el(t){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MN({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:l=!1}){gt(!Rc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=V.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=so(n));let{pathname:d="/",search:p="",hash:y="",state:v=null,key:T="default"}=n,S=V.useMemo(()=>{let R=qr(d,u);return R==null?null:{location:{pathname:R,search:p,hash:y,state:v,key:T},navigationType:r}},[u,d,p,y,v,T,r]);return fi(S!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:V.createElement(pr.Provider,{value:h},V.createElement(Cc.Provider,{children:e,value:S}))}function PN({children:t,location:e}){return _N($g(t),e)}function $g(t,e=[]){let n=[];return V.Children.forEach(t,(r,a)=>{if(!V.isValidElement(r))return;let l=[...e,a];if(r.type===V.Fragment){n.push.apply(n,$g(r.props.children,l));return}gt(r.type===el,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=$g(r.props.children,l)),n.push(u)}),n}var kf="get",Lf="application/x-www-form-urlencoded";function Dd(t){return t!=null&&typeof t.tagName=="string"}function VN(t){return Dd(t)&&t.tagName.toLowerCase()==="button"}function ON(t){return Dd(t)&&t.tagName.toLowerCase()==="form"}function kN(t){return Dd(t)&&t.tagName.toLowerCase()==="input"}function LN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jN(t,e){return t.button===0&&(!e||e==="_self")&&!LN(t)}var wf=null;function UN(){if(wf===null)try{new FormData(document.createElement("form"),0),wf=!1}catch{wf=!0}return wf}var zN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mg(t){return t!=null&&!zN.has(t)?(fi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lf}"`),null):t}function BN(t,e){let n,r,a,l,u;if(ON(t)){let h=t.getAttribute("action");r=h?qr(h,e):null,n=t.getAttribute("method")||kf,a=mg(t.getAttribute("enctype"))||Lf,l=new FormData(t)}else if(VN(t)||kN(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?qr(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||kf,a=mg(t.getAttribute("formenctype"))||mg(h.getAttribute("enctype"))||Lf,l=new FormData(h,t),!UN()){let{name:p,type:y,value:v}=t;if(y==="image"){let T=p?`${p}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else p&&l.append(p,v)}}else{if(Dd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=kf,r=null,a=Lf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function nv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function FN(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&qr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function HN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function GN(t,e,n){let r=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await HN(l,n);return u.links?u.links():[]}return[]}));return $N(r.flat(1).filter(qN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Db(t,e,n,r,a,l){let u=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>n[p].pathname!==d.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,p)=>u(d,p)||h(d,p)):l==="data"?e.filter((d,p)=>{let y=r.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function YN(t,e,{includeHydrateFallback:n}={}){return KN(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function KN(t){return[...new Set(t)]}function XN(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function $N(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let l=JSON.stringify(XN(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function JA(){let t=V.useContext(xl);return nv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function QN(){let t=V.useContext(Rd);return nv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var iv=V.createContext(void 0);iv.displayName="FrameworkContext";function e1(){let t=V.useContext(iv);return nv(t,"You must render this element inside a <HydratedRouter> element"),t}function WN(t,e){let n=V.useContext(iv),[r,a]=V.useState(!1),[l,u]=V.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,T=V.useRef(null);V.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let M=j=>{j.forEach(B=>{u(B.isIntersecting)})},N=new IntersectionObserver(M,{threshold:.5});return T.current&&N.observe(T.current),()=>{N.disconnect()}}},[t]),V.useEffect(()=>{if(r){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[r]);let S=()=>{a(!0)},R=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:Bu(h,S),onBlur:Bu(d,R),onMouseEnter:Bu(p,S),onMouseLeave:Bu(y,R),onTouchStart:Bu(v,S)}]:[!1,T,{}]}function Bu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function ZN({page:t,...e}){let{router:n}=JA(),r=V.useMemo(()=>FA(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?V.createElement(eM,{page:t,matches:r,...e}):null}function JN(t){let{manifest:e,routeModules:n}=e1(),[r,a]=V.useState([]);return V.useEffect(()=>{let l=!1;return GN(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),r}function eM({page:t,matches:e,...n}){let r=ao(),{manifest:a,routeModules:l}=e1(),{basename:u}=JA(),{loaderData:h,matches:d}=QN(),p=V.useMemo(()=>Db(t,e,d,a,r,"data"),[t,e,d,a,r]),y=V.useMemo(()=>Db(t,e,d,a,r,"assets"),[t,e,d,a,r]),v=V.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let R=new Set,M=!1;if(e.forEach(j=>{let B=a.routes[j.route.id];!B||!B.hasLoader||(!p.some(F=>F.route.id===j.route.id)&&j.route.id in h&&l[j.route.id]?.shouldRevalidate||B.hasClientLoader?M=!0:R.add(j.route.id))}),R.size===0)return[];let N=FN(t,u,"data");return M&&R.size>0&&N.searchParams.set("_routes",e.filter(j=>R.has(j.route.id)).map(j=>j.route.id).join(",")),[N.pathname+N.search]},[u,h,r,a,p,e,t,l]),T=V.useMemo(()=>YN(y,a),[y,a]),S=JN(y);return V.createElement(V.Fragment,null,v.map(R=>V.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),T.map(R=>V.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),S.map(({key:R,link:M})=>V.createElement("link",{key:R,nonce:n.nonce,...M})))}function tM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var t1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{t1&&(window.__reactRouterVersion="7.9.6")}catch{}function nM({basename:t,children:e,window:n}){let r=V.useRef();r.current==null&&(r.current=FI({window:n,v5Compat:!0}));let a=r.current,[l,u]=V.useState({action:a.action,location:a.location}),h=V.useCallback(d=>{V.startTransition(()=>u(d))},[u]);return V.useLayoutEffect(()=>a.listen(h),[a,h]),V.createElement(MN,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var n1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ka=V.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:u,state:h,target:d,to:p,preventScrollReset:y,viewTransition:v,...T},S){let{basename:R}=V.useContext(pr),M=typeof p=="string"&&n1.test(p),N,j=!1;if(typeof p=="string"&&M&&(N=p,t1))try{let I=new URL(window.location.href),L=p.startsWith("//")?new URL(I.protocol+p):new URL(p),k=qr(L.pathname,R);L.origin===I.origin&&k!=null?p=k+L.search+L.hash:j=!0}catch{fi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=gN(p,{relative:a}),[F,W,ee]=WN(r,T),oe=aM(p,{replace:u,state:h,target:d,preventScrollReset:y,relative:a,viewTransition:v});function D(I){e&&e(I),I.defaultPrevented||oe(I)}let C=V.createElement("a",{...T,...ee,href:N||B,onClick:j||l?e:D,ref:tM(S,W),target:d,"data-discover":!M&&n==="render"?"true":void 0});return F&&!M?V.createElement(V.Fragment,null,C,V.createElement(ZN,{page:B})):C});Ka.displayName="Link";var iM=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:u,viewTransition:h,children:d,...p},y){let v=Dc(u,{relative:p.relative}),T=ao(),S=V.useContext(Rd),{navigator:R,basename:M}=V.useContext(pr),N=S!=null&&hM(v)&&h===!0,j=R.encodeLocation?R.encodeLocation(v).pathname:v.pathname,B=T.pathname,F=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(B=B.toLowerCase(),F=F?F.toLowerCase():null,j=j.toLowerCase()),F&&M&&(F=qr(F,M)||F);const W=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let ee=B===j||!a&&B.startsWith(j)&&B.charAt(W)==="/",oe=F!=null&&(F===j||!a&&F.startsWith(j)&&F.charAt(j.length)==="/"),D={isActive:ee,isPending:oe,isTransitioning:N},C=ee?e:void 0,I;typeof r=="function"?I=r(D):I=[r,ee?"active":null,oe?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(D):l;return V.createElement(Ka,{...p,"aria-current":C,className:I,ref:y,style:L,to:u,viewTransition:h},typeof d=="function"?d(D):d)});iM.displayName="NavLink";var rM=V.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:l,method:u=kf,action:h,onSubmit:d,relative:p,preventScrollReset:y,viewTransition:v,...T},S)=>{let R=uM(),M=cM(h,{relative:p}),N=u.toLowerCase()==="get"?"get":"post",j=typeof h=="string"&&n1.test(h),B=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let W=F.nativeEvent.submitter,ee=W?.getAttribute("formmethod")||u;R(W||F.currentTarget,{fetcherKey:e,method:ee,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:v})};return V.createElement("form",{ref:S,method:N,action:M,onSubmit:r?d:B,...T,"data-discover":!j&&t==="render"?"true":void 0})});rM.displayName="Form";function sM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i1(t){let e=V.useContext(xl);return gt(e,sM(t)),e}function aM(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:u}={}){let h=Jy(),d=ao(),p=Dc(t,{relative:l});return V.useCallback(y=>{if(jN(y,e)){y.preventDefault();let v=n!==void 0?n:lc(d)===lc(p);h(t,{replace:v,state:r,preventScrollReset:a,relative:l,viewTransition:u})}},[d,h,p,n,r,e,t,a,l,u])}var oM=0,lM=()=>`__${String(++oM)}__`;function uM(){let{router:t}=i1("useSubmit"),{basename:e}=V.useContext(pr),n=RN();return V.useCallback(async(r,a={})=>{let{action:l,method:u,encType:h,formData:d,body:p}=BN(r,e);if(a.navigate===!1){let y=a.fetcherKey||lM();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function cM(t,{relative:e}={}){let{basename:n}=V.useContext(pr),r=V.useContext(gr);gt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Dc(t||".",{relative:e})},u=ao();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Br([n,l.pathname])),lc(l)}function hM(t,{relative:e}={}){let n=V.useContext(XA);gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=i1("useViewTransitionState"),a=Dc(t,{relative:e});if(!n.isTransitioning)return!1;let l=qr(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=qr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Zf(a.pathname,u)!=null||Zf(a.pathname,l)!=null}const fM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dM=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Ib=t=>{const e=dM(t);return e.charAt(0).toUpperCase()+e.slice(1)},r1=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),mM=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var pM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gM=V.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:u,...h},d)=>V.createElement("svg",{ref:d,...pM,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:r1("lucide",a),...!l&&!mM(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,y])=>V.createElement(p,y)),...Array.isArray(l)?l:[l]]));const St=(t,e)=>{const n=V.forwardRef(({className:r,...a},l)=>V.createElement(gM,{ref:l,iconNode:e,className:r1(`lucide-${fM(Ib(t))}`,`lucide-${t}`,r),...a}));return n.displayName=Ib(t),n};const yM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],vM=St("arrow-left",yM);const _M=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],s1=St("arrow-right",_M);const TM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],a1=St("circle-check-big",TM);const EM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rv=St("clock",EM);const bM=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],wM=St("eye-off",bM);const SM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],AM=St("eye",SM);const xM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],CM=St("file-text",xM);const RM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Nb=St("history",RM);const DM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],o1=St("loader-circle",DM);const IM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Qg=St("lock",IM);const NM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],MM=St("log-out",NM);const PM=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],VM=St("map",PM);const OM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],kM=St("plus",OM);const LM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],pg=St("search",LM);const jM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],l1=St("shield",jM);const UM=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],zM=St("store",UM);const BM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],u1=St("trash-2",BM);const FM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],c1=St("triangle-alert",FM);const HM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Mb=St("upload",HM);const qM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Wg=St("user-plus",qM);const GM=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],Zg=St("utensils-crossed",GM);const YM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yl=St("x",YM),sv=V.createContext({});function av(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}const ov=typeof window<"u",h1=ov?V.useLayoutEffect:V.useEffect,Id=V.createContext(null);function lv(t,e){t.indexOf(e)===-1&&t.push(e)}function uv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Gr=(t,e,n)=>n>e?e:n<t?t:n;let cv=()=>{};const Yr={},f1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function d1(t){return typeof t=="object"&&t!==null}const m1=t=>/^0[^.\s]+$/u.test(t);function hv(t){let e;return()=>(e===void 0&&(e=t()),e)}const ui=t=>t,KM=(t,e)=>n=>e(t(n)),Ic=(...t)=>t.reduce(KM),uc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class fv{constructor(){this.subscriptions=[]}add(e){return lv(this.subscriptions,e),()=>uv(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rr=t=>t*1e3,oi=t=>t/1e3;function p1(t,e){return e?t*(1e3/e):0}const g1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,XM=1e-7,$M=12;function QM(t,e,n,r,a){let l,u,h=0;do u=e+(n-e)/2,l=g1(u,r,a)-t,l>0?n=u:e=u;while(Math.abs(l)>XM&&++h<$M);return u}function Nc(t,e,n,r){if(t===e&&n===r)return ui;const a=l=>QM(l,0,1,t,n);return l=>l===0||l===1?l:g1(a(l),e,r)}const y1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,v1=t=>e=>1-t(1-e),_1=Nc(.33,1.53,.69,.99),dv=v1(_1),T1=y1(dv),E1=t=>(t*=2)<1?.5*dv(t):.5*(2-Math.pow(2,-10*(t-1))),mv=t=>1-Math.sin(Math.acos(t)),b1=v1(mv),w1=y1(mv),WM=Nc(.42,0,1,1),ZM=Nc(0,0,.58,1),S1=Nc(.42,0,.58,1),JM=t=>Array.isArray(t)&&typeof t[0]!="number",A1=t=>Array.isArray(t)&&typeof t[0]=="number",eP={linear:ui,easeIn:WM,easeInOut:S1,easeOut:ZM,circIn:mv,circInOut:w1,circOut:b1,backIn:dv,backInOut:T1,backOut:_1,anticipate:E1},tP=t=>typeof t=="string",Pb=t=>{if(A1(t)){cv(t.length===4);const[e,n,r,a]=t;return Nc(e,n,r,a)}else if(tP(t))return eP[t];return t},Sf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function nP(t,e){let n=new Set,r=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(y){u.has(y)&&(p.schedule(y),t()),y(h)}const p={schedule:(y,v=!1,T=!1)=>{const R=T&&a?n:r;return v&&u.add(y),R.has(y)||R.add(y),y},cancel:y=>{r.delete(y),u.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const iP=40;function x1(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Sf.reduce((F,W)=>(F[W]=nP(l),F),{}),{setup:h,read:d,resolveKeyframes:p,preUpdate:y,update:v,preRender:T,render:S,postRender:R}=u,M=()=>{const F=Yr.useManualTiming?a.timestamp:performance.now();n=!1,Yr.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(F-a.timestamp,iP),1)),a.timestamp=F,a.isProcessing=!0,h.process(a),d.process(a),p.process(a),y.process(a),v.process(a),T.process(a),S.process(a),R.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(M))},N=()=>{n=!0,r=!0,a.isProcessing||t(M)};return{schedule:Sf.reduce((F,W)=>{const ee=u[W];return F[W]=(oe,D=!1,C=!1)=>(n||N(),ee.schedule(oe,D,C)),F},{}),cancel:F=>{for(let W=0;W<Sf.length;W++)u[Sf[W]].cancel(F)},state:a,steps:u}}const{schedule:dt,cancel:Xs,state:tn,steps:gg}=x1(typeof requestAnimationFrame<"u"?requestAnimationFrame:ui,!0);let jf;function rP(){jf=void 0}const Rn={now:()=>(jf===void 0&&Rn.set(tn.isProcessing||Yr.useManualTiming?tn.timestamp:performance.now()),jf),set:t=>{jf=t,queueMicrotask(rP)}},C1=t=>e=>typeof e=="string"&&e.startsWith(t),pv=C1("--"),sP=C1("var(--"),gv=t=>sP(t)?aP.test(t.split("/*")[0].trim()):!1,aP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Cl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},cc={...Cl,transform:t=>Gr(0,1,t)},Af={...Cl,default:1},Wu=t=>Math.round(t*1e5)/1e5,yv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function oP(t){return t==null}const lP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vv=(t,e)=>n=>!!(typeof n=="string"&&lP.test(n)&&n.startsWith(t)||e&&!oP(n)&&Object.prototype.hasOwnProperty.call(n,e)),R1=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,l,u,h]=r.match(yv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},uP=t=>Gr(0,255,t),yg={...Cl,transform:t=>Math.round(uP(t))},Ha={test:vv("rgb","red"),parse:R1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+yg.transform(t)+", "+yg.transform(e)+", "+yg.transform(n)+", "+Wu(cc.transform(r))+")"};function cP(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Jg={test:vv("#"),parse:cP,transform:Ha.transform},Mc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Vs=Mc("deg"),sr=Mc("%"),we=Mc("px"),hP=Mc("vh"),fP=Mc("vw"),Vb={...sr,parse:t=>sr.parse(t)/100,transform:t=>sr.transform(t*100)},sl={test:vv("hsl","hue"),parse:R1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+sr.transform(Wu(e))+", "+sr.transform(Wu(n))+", "+Wu(cc.transform(r))+")"},zt={test:t=>Ha.test(t)||Jg.test(t)||sl.test(t),parse:t=>Ha.test(t)?Ha.parse(t):sl.test(t)?sl.parse(t):Jg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ha.transform(t):sl.transform(t),getAnimatableNone:t=>{const e=zt.parse(t);return e.alpha=0,zt.transform(e)}},dP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mP(t){return isNaN(t)&&typeof t=="string"&&(t.match(yv)?.length||0)+(t.match(dP)?.length||0)>0}const D1="number",I1="color",pP="var",gP="var(",Ob="${}",yP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(yP,d=>(zt.test(d)?(r.color.push(l),a.push(I1),n.push(zt.parse(d))):d.startsWith(gP)?(r.var.push(l),a.push(pP),n.push(d)):(r.number.push(l),a.push(D1),n.push(parseFloat(d))),++l,Ob)).split(Ob);return{values:n,split:h,indexes:r,types:a}}function N1(t){return hc(t).values}function M1(t){const{split:e,types:n}=hc(t),r=e.length;return a=>{let l="";for(let u=0;u<r;u++)if(l+=e[u],a[u]!==void 0){const h=n[u];h===D1?l+=Wu(a[u]):h===I1?l+=zt.transform(a[u]):l+=a[u]}return l}}const vP=t=>typeof t=="number"?0:zt.test(t)?zt.getAnimatableNone(t):t;function _P(t){const e=N1(t);return M1(t)(e.map(vP))}const $s={test:mP,parse:N1,createTransformer:M1,getAnimatableNone:_P};function vg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function TP({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=vg(d,h,t+1/3),l=vg(d,h,t),u=vg(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:r}}function Jf(t,e){return n=>n>0?e:t}const pt=(t,e,n)=>t+(e-t)*n,_g=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},EP=[Jg,Ha,sl],bP=t=>EP.find(e=>e.test(t));function kb(t){const e=bP(t);if(!e)return!1;let n=e.parse(t);return e===sl&&(n=TP(n)),n}const Lb=(t,e)=>{const n=kb(t),r=kb(e);if(!n||!r)return Jf(t,e);const a={...n};return l=>(a.red=_g(n.red,r.red,l),a.green=_g(n.green,r.green,l),a.blue=_g(n.blue,r.blue,l),a.alpha=pt(n.alpha,r.alpha,l),Ha.transform(a))},ey=new Set(["none","hidden"]);function wP(t,e){return ey.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function SP(t,e){return n=>pt(t,e,n)}function _v(t){return typeof t=="number"?SP:typeof t=="string"?gv(t)?Jf:zt.test(t)?Lb:CP:Array.isArray(t)?P1:typeof t=="object"?zt.test(t)?Lb:AP:Jf}function P1(t,e){const n=[...t],r=n.length,a=t.map((l,u)=>_v(l)(l,e[u]));return l=>{for(let u=0;u<r;u++)n[u]=a[u](l);return n}}function AP(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=_v(t[a])(t[a],e[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function xP(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][r[l]],h=t.values[u]??0;n[a]=h,r[l]++}return n}const CP=(t,e)=>{const n=$s.createTransformer(e),r=hc(t),a=hc(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?ey.has(t)&&!a.values.length||ey.has(e)&&!r.values.length?wP(t,e):Ic(P1(xP(r,a),a.values),n):Jf(t,e)};function V1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?pt(t,e,n):_v(t)(t,e)}const RP=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>dt.update(e,n),stop:()=>Xs(e),now:()=>tn.isProcessing?tn.timestamp:Rn.now()}},O1=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)r+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ed=2e4;function Tv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ed;)e+=n,r=t.next(e);return e>=ed?1/0:e}function DP(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(Tv(r),ed);return{type:"keyframes",ease:l=>r.next(a*l).value/e,duration:oi(a)}}const IP=5;function k1(t,e,n){const r=Math.max(e-IP,0);return p1(n-t(r),e-r)}const bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Tg=.001;function NP({duration:t=bt.duration,bounce:e=bt.bounce,velocity:n=bt.velocity,mass:r=bt.mass}){let a,l,u=1-e;u=Gr(bt.minDamping,bt.maxDamping,u),t=Gr(bt.minDuration,bt.maxDuration,oi(t)),u<1?(a=p=>{const y=p*u,v=y*t,T=y-n,S=ty(p,u),R=Math.exp(-v);return Tg-T/S*R},l=p=>{const v=p*u*t,T=v*n+n,S=Math.pow(u,2)*Math.pow(p,2)*t,R=Math.exp(-v),M=ty(Math.pow(p,2),u);return(-a(p)+Tg>0?-1:1)*((T-S)*R)/M}):(a=p=>{const y=Math.exp(-p*t),v=(p-n)*t+1;return-Tg+y*v},l=p=>{const y=Math.exp(-p*t),v=(n-p)*(t*t);return y*v});const h=5/t,d=PP(a,l,h);if(t=rr(t),isNaN(d))return{stiffness:bt.stiffness,damping:bt.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:t}}}const MP=12;function PP(t,e,n){let r=n;for(let a=1;a<MP;a++)r=r-t(r)/e(r);return r}function ty(t,e){return t*Math.sqrt(1-e*e)}const VP=["duration","bounce"],OP=["stiffness","damping","mass"];function jb(t,e){return e.some(n=>t[n]!==void 0)}function kP(t){let e={velocity:bt.velocity,stiffness:bt.stiffness,damping:bt.damping,mass:bt.mass,isResolvedFromDuration:!1,...t};if(!jb(t,OP)&&jb(t,VP))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*Gr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:bt.mass,stiffness:a,damping:l}}else{const n=NP(t);e={...e,...n,mass:bt.mass},e.isResolvedFromDuration=!0}return e}function td(t=bt.visualDuration,e=bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:p,mass:y,duration:v,velocity:T,isResolvedFromDuration:S}=kP({...n,velocity:-oi(n.velocity||0)}),R=T||0,M=p/(2*Math.sqrt(d*y)),N=u-l,j=oi(Math.sqrt(d/y)),B=Math.abs(N)<5;r||(r=B?bt.restSpeed.granular:bt.restSpeed.default),a||(a=B?bt.restDelta.granular:bt.restDelta.default);let F;if(M<1){const ee=ty(j,M);F=oe=>{const D=Math.exp(-M*j*oe);return u-D*((R+M*j*N)/ee*Math.sin(ee*oe)+N*Math.cos(ee*oe))}}else if(M===1)F=ee=>u-Math.exp(-j*ee)*(N+(R+j*N)*ee);else{const ee=j*Math.sqrt(M*M-1);F=oe=>{const D=Math.exp(-M*j*oe),C=Math.min(ee*oe,300);return u-D*((R+M*j*N)*Math.sinh(C)+ee*N*Math.cosh(C))/ee}}const W={calculatedDuration:S&&v||null,next:ee=>{const oe=F(ee);if(S)h.done=ee>=v;else{let D=ee===0?R:0;M<1&&(D=ee===0?rr(R):k1(F,ee,oe));const C=Math.abs(D)<=r,I=Math.abs(u-oe)<=a;h.done=C&&I}return h.value=h.done?u:oe,h},toString:()=>{const ee=Math.min(Tv(W),ed),oe=O1(D=>W.next(ee*D).value,ee,30);return ee+"ms "+oe},toTransition:()=>{}};return W}td.applyToOptions=t=>{const e=DP(t,100,td);return t.ease=e.ease,t.duration=rr(e.duration),t.type="keyframes",t};function ny({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:d,restDelta:p=.5,restSpeed:y}){const v=t[0],T={done:!1,value:v},S=C=>h!==void 0&&C<h||d!==void 0&&C>d,R=C=>h===void 0?d:d===void 0||Math.abs(h-C)<Math.abs(d-C)?h:d;let M=n*e;const N=v+M,j=u===void 0?N:u(N);j!==N&&(M=j-v);const B=C=>-M*Math.exp(-C/r),F=C=>j+B(C),W=C=>{const I=B(C),L=F(C);T.done=Math.abs(I)<=p,T.value=T.done?j:L};let ee,oe;const D=C=>{S(T.value)&&(ee=C,oe=td({keyframes:[T.value,R(T.value)],velocity:k1(F,C,T.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return D(0),{calculatedDuration:null,next:C=>{let I=!1;return!oe&&ee===void 0&&(I=!0,W(C),D(C)),ee!==void 0&&C>=ee?oe.next(C-ee):(!I&&W(C),T)}}}function LP(t,e,n){const r=[],a=n||Yr.mix||V1,l=t.length-1;for(let u=0;u<l;u++){let h=a(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||ui:e;h=Ic(d,h)}r.push(h)}return r}function jP(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const l=t.length;if(cv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=LP(e,r,a),d=h.length,p=y=>{if(u&&y<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const T=uc(t[v],t[v+1],y);return h[v](T)};return n?y=>p(Gr(t[0],t[l-1],y)):p}function UP(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=uc(0,e,r);t.push(pt(n,1,a))}}function zP(t){const e=[0];return UP(e,t.length-1),e}function BP(t,e){return t.map(n=>n*e)}function FP(t,e){return t.map(()=>e||S1).splice(0,t.length-1)}function Zu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=JM(r)?r.map(Pb):Pb(r),l={done:!1,value:e[0]},u=BP(n&&n.length===e.length?n:zP(e),t),h=jP(u,e,{ease:Array.isArray(a)?a:FP(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const HP=t=>t!==null;function Ev(t,{repeat:e,repeatType:n="loop"},r,a=1){const l=t.filter(HP),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||r===void 0?l[h]:r}const qP={decay:ny,inertia:ny,tween:Zu,keyframes:Zu,spring:td};function L1(t){typeof t.type=="string"&&(t.type=qP[t.type])}class bv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const GP=t=>t/100;class wv extends bv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Rn.now()&&this.tick(Rn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;L1(e);const{type:n=Zu,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:h}=e;const d=n||Zu;d!==Zu&&typeof h[0]!="number"&&(this.mixKeyframes=Ic(GP,V1(h[0],h[1])),h=[0,100]);const p=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Tv(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:T,repeatDelay:S,type:R,onUpdate:M,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const j=this.currentTime-p*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?j<0:j>a;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,W=r;if(v){const C=Math.min(this.currentTime,a)/h;let I=Math.floor(C),L=C%1;!L&&C>=1&&(L=1),L===1&&I--,I=Math.min(I,v+1),!!(I%2)&&(T==="reverse"?(L=1-L,S&&(L-=S/h)):T==="mirror"&&(W=u)),F=Gr(0,1,L)*h}const ee=B?{done:!1,value:y[0]}:W.next(F);l&&(ee.value=l(ee.value));let{done:oe}=ee;!B&&d!==null&&(oe=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&oe);return D&&R!==ny&&(ee.value=Ev(y,this.options,N,this.speed)),M&&M(ee.value),D&&this.finish(),ee}then(e,n){return this.finished.then(e,n)}get duration(){return oi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+oi(e)}get time(){return oi(this.currentTime)}set time(e){e=rr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Rn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=oi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=RP,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Rn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function YP(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const qa=t=>t*180/Math.PI,iy=t=>{const e=qa(Math.atan2(t[1],t[0]));return ry(e)},KP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:iy,rotateZ:iy,skewX:t=>qa(Math.atan(t[1])),skewY:t=>qa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ry=t=>(t=t%360,t<0&&(t+=360),t),Ub=iy,zb=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Bb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),XP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:zb,scaleY:Bb,scale:t=>(zb(t)+Bb(t))/2,rotateX:t=>ry(qa(Math.atan2(t[6],t[5]))),rotateY:t=>ry(qa(Math.atan2(-t[2],t[0]))),rotateZ:Ub,rotate:Ub,skewX:t=>qa(Math.atan(t[4])),skewY:t=>qa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function sy(t){return t.includes("scale")?1:0}function ay(t,e){if(!t||t==="none")return sy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=XP,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=KP,a=h}if(!a)return sy(e);const l=r[e],u=a[1].split(",").map(QP);return typeof l=="function"?l(u):u[l]}const $P=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ay(n,e)};function QP(t){return parseFloat(t.trim())}const Rl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dl=new Set(Rl),Fb=t=>t===Cl||t===we,WP=new Set(["x","y","z"]),ZP=Rl.filter(t=>!WP.has(t));function JP(t){const e=[];return ZP.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Xa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ay(e,"x"),y:(t,{transform:e})=>ay(e,"y")};Xa.translateX=Xa.x;Xa.translateY=Xa.y;const $a=new Set;let oy=!1,ly=!1,uy=!1;function j1(){if(ly){const t=Array.from($a).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=JP(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,u])=>{r.getValue(l)?.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ly=!1,oy=!1,$a.forEach(t=>t.complete(uy)),$a.clear()}function U1(){$a.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ly=!0)})}function eV(){uy=!0,U1(),j1(),uy=!1}class Sv{constructor(e,n,r,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?($a.add(this),oy||(oy=!0,dt.read(U1),dt.resolveKeyframes(j1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const h=r.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}YP(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),$a.delete(this)}cancel(){this.state==="scheduled"&&($a.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const tV=t=>t.startsWith("--");function nV(t,e,n){tV(e)?t.style.setProperty(e,n):t.style[e]=n}const iV=hv(()=>window.ScrollTimeline!==void 0),rV={};function sV(t,e){const n=hv(t);return()=>rV[e]??n()}const z1=sV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Hb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qu([0,.65,.55,1]),circOut:qu([.55,0,1,.45]),backIn:qu([.31,.01,.66,-.59]),backOut:qu([.33,1.53,.69,.99])};function B1(t,e){if(t)return typeof t=="function"?z1()?O1(t,e):"ease-out":A1(t)?qu(t):Array.isArray(t)?t.map(n=>B1(n,e)||Hb.easeOut):Hb[t]}function aV(t,e,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:d}={},p=void 0){const y={[e]:n};d&&(y.offset=d);const v=B1(h,a);Array.isArray(v)&&(y.easing=v);const T={delay:r,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(T.pseudoElement=p),t.animate(y,T)}function F1(t){return typeof t=="function"&&"applyToOptions"in t}function oV({type:t,...e}){return F1(t)&&z1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class lV extends bv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,cv(typeof e.type!="string");const p=oV(e);this.animation=aV(n,r,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Ev(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):nV(n,r,y),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return oi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+oi(e)}get time(){return oi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=rr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&iV()?(this.animation.timeline=e,ui):n(this)}}const H1={anticipate:E1,backInOut:T1,circInOut:w1};function uV(t){return t in H1}function cV(t){typeof t.ease=="string"&&uV(t.ease)&&(t.ease=H1[t.ease])}const qb=10;class hV extends lV{constructor(e){cV(e),L1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new wv({...u,autoplay:!1}),d=rr(this.finishedTime??this.time);n.setWithVelocity(h.sample(d-qb).value,h.sample(d).value,qb),h.stop()}}const Gb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&($s.test(t)||t==="0")&&!t.startsWith("url("));function fV(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function dV(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=Gb(a,e),h=Gb(l,e);return!u||!h?!1:fV(t)||(n==="spring"||F1(n))&&r}function cy(t){t.duration=0,t.type="keyframes"}const mV=new Set(["opacity","clipPath","filter","transform"]),pV=hv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function gV(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return pV()&&n&&mV.has(n)&&(n!=="transform"||!p)&&!d&&!r&&a!=="mirror"&&l!==0&&u!=="inertia"}const yV=40;class vV extends bv{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:d,motionValue:p,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Rn.now();const T={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:u,name:d,motionValue:p,element:y,...v},S=y?.KeyframeResolver||Sv;this.keyframeResolver=new S(h,(R,M,N)=>this.onKeyframesResolved(R,M,T,!N),d,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:d,isHandoff:p,onUpdate:y}=r;this.resolvedAt=Rn.now(),dV(e,l,u,h)||((Yr.instantAnimations||!d)&&y?.(Ev(e,r,n)),e[0]=e[e.length-1],cy(r),r.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>yV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},S=!p&&gV(T)?new hV({...T,element:T.motionValue.owner.current}):new wv(T);S.finished.then(()=>this.notifyFinished()).catch(ui),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),eV()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const _V=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function TV(t){const e=_V.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function q1(t,e,n=1){const[r,a]=TV(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const u=l.trim();return f1(u)?parseFloat(u):u}return gv(a)?q1(a,e,n+1):a}function Av(t,e){return t?.[e]??t?.default??t}const G1=new Set(["width","height","top","left","right","bottom",...Rl]),EV={test:t=>t==="auto",parse:t=>t},Y1=t=>e=>e.test(t),K1=[Cl,we,sr,Vs,fP,hP,EV],Yb=t=>K1.find(Y1(t));function bV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||m1(t):!0}const wV=new Set(["brightness","contrast","saturate","opacity"]);function SV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(yv)||[];if(!r)return t;const a=n.replace(r,"");let l=wV.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+a+")"}const AV=/\b([a-z-]*)\(.*?\)/gu,hy={...$s,getAnimatableNone:t=>{const e=t.match(AV);return e?e.map(SV).join(" "):t}},Kb={...Cl,transform:Math.round},xV={rotate:Vs,rotateX:Vs,rotateY:Vs,rotateZ:Vs,scale:Af,scaleX:Af,scaleY:Af,scaleZ:Af,skew:Vs,skewX:Vs,skewY:Vs,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:cc,originX:Vb,originY:Vb,originZ:we},xv={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we,...xV,zIndex:Kb,fillOpacity:cc,strokeOpacity:cc,numOctaves:Kb},CV={...xv,color:zt,backgroundColor:zt,outlineColor:zt,fill:zt,stroke:zt,borderColor:zt,borderTopColor:zt,borderRightColor:zt,borderBottomColor:zt,borderLeftColor:zt,filter:hy,WebkitFilter:hy},X1=t=>CV[t];function $1(t,e){let n=X1(t);return n!==hy&&(n=$s),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const RV=new Set(["auto","none","0"]);function DV(t,e,n){let r=0,a;for(;r<t.length&&!a;){const l=t[r];typeof l=="string"&&!RV.has(l)&&hc(l).values.length&&(a=t[r]),r++}if(a&&n)for(const l of e)t[l]=$1(n,a)}class IV extends Sv{constructor(e,n,r,a,l){super(e,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),gv(p))){const y=q1(p,n.current);y!==void 0&&(e[d]=y),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!G1.has(r)||e.length!==2)return;const[a,l]=e,u=Yb(a),h=Yb(l);if(u!==h)if(Fb(u)&&Fb(h))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else Xa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||bV(e[a]))&&r.push(a);r.length&&DV(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,u=r[l];r[l]=Xa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function NV(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=n?.[t]??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const Q1=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function W1(t){return d1(t)&&"offsetHeight"in t}const Xb=30,MV=t=>!isNaN(parseFloat(t));class PV{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const a=Rn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Rn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=MV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new fv);const r=this.events[e].add(n);return e==="change"?()=>{r(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Rn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Xb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Xb);return p1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vl(t,e){return new PV(t,e)}const{schedule:Cv}=x1(queueMicrotask,!1),Ci={x:!1,y:!1};function Z1(){return Ci.x||Ci.y}function VV(t){return t==="x"||t==="y"?Ci[t]?null:(Ci[t]=!0,()=>{Ci[t]=!1}):Ci.x||Ci.y?null:(Ci.x=Ci.y=!0,()=>{Ci.x=Ci.y=!1})}function J1(t,e){const n=NV(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function $b(t){return!(t.pointerType==="touch"||Z1())}function OV(t,e,n={}){const[r,a,l]=J1(t,n),u=h=>{if(!$b(h))return;const{target:d}=h,p=e(d,h);if(typeof p!="function"||!d)return;const y=v=>{$b(v)&&(p(v),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,a)};return r.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const ex=(t,e)=>e?t===e?!0:ex(t,e.parentElement):!1,Rv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,kV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function LV(t){return kV.has(t.tagName)||t.tabIndex!==-1}const Uf=new WeakSet;function Qb(t){return e=>{e.key==="Enter"&&t(e)}}function Eg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const jV=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Qb(()=>{if(Uf.has(n))return;Eg(n,"down");const a=Qb(()=>{Eg(n,"up")}),l=()=>Eg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Wb(t){return Rv(t)&&!Z1()}function UV(t,e,n={}){const[r,a,l]=J1(t,n),u=h=>{const d=h.currentTarget;if(!Wb(h))return;Uf.add(d);const p=e(d,h),y=(S,R)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",T),Uf.has(d)&&Uf.delete(d),Wb(S)&&typeof p=="function"&&p(S,{success:R})},v=S=>{y(S,d===window||d===document||n.useGlobalTarget||ex(d,S.target))},T=S=>{y(S,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",T,a)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),W1(h)&&(h.addEventListener("focus",p=>jV(p,a)),!LV(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function tx(t){return d1(t)&&"ownerSVGElement"in t}function zV(t){return tx(t)&&t.tagName==="svg"}const fn=t=>!!(t&&t.getVelocity),BV=[...K1,zt,$s],FV=t=>BV.find(Y1(t)),Dv=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Zb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function HV(...t){return e=>{let n=!1;const r=t.map(a=>{const l=Zb(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<r.length;a++){const l=r[a];typeof l=="function"?l():Zb(t[a],null)}}}}function qV(...t){return V.useCallback(HV(...t),t)}class GV extends V.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=W1(r)&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function YV({children:t,isPresent:e,anchorX:n,root:r}){const a=V.useId(),l=V.useRef(null),u=V.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=V.useContext(Dv),d=qV(l,t?.ref);return V.useInsertionEffect(()=>{const{width:p,height:y,top:v,left:T,right:S}=u.current;if(e||!l.current||!p||!y)return;const R=n==="left"?`left: ${T}`:`right: ${S}`;l.current.dataset.motionPopId=a;const M=document.createElement("style");h&&(M.nonce=h);const N=r??document.head;return N.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${R}px !important;
            top: ${v}px !important;
          }
        `),()=>{N.contains(M)&&N.removeChild(M)}},[e]),w.jsx(GV,{isPresent:e,childRef:l,sizeRef:u,children:V.cloneElement(t,{ref:d})})}const KV=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h,root:d})=>{const p=av(XV),y=V.useId();let v=!0,T=V.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:S=>{p.set(S,!0);for(const R of p.values())if(!R)return;r&&r()},register:S=>(p.set(S,!1),()=>p.delete(S))}),[n,p,r]);return l&&v&&(T={...T}),V.useMemo(()=>{p.forEach((S,R)=>p.set(R,!1))},[n]),V.useEffect(()=>{!n&&!p.size&&r&&r()},[n]),u==="popLayout"&&(t=w.jsx(YV,{isPresent:n,anchorX:h,root:d,children:t})),w.jsx(Id.Provider,{value:T,children:t})};function XV(){return new Map}function nx(t=!0){const e=V.useContext(Id);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,l=V.useId();V.useEffect(()=>{if(t)return a(l)},[t]);const u=V.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,u]:[!0]}const xf=t=>t.key||"";function Jb(t){const e=[];return V.Children.forEach(t,n=>{V.isValidElement(n)&&e.push(n)}),e}const Us=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",root:d})=>{const[p,y]=nx(u),v=V.useMemo(()=>Jb(t),[t]),T=u&&!p?[]:v.map(xf),S=V.useRef(!0),R=V.useRef(v),M=av(()=>new Map),[N,j]=V.useState(v),[B,F]=V.useState(v);h1(()=>{S.current=!1,R.current=v;for(let oe=0;oe<B.length;oe++){const D=xf(B[oe]);T.includes(D)?M.delete(D):M.get(D)!==!0&&M.set(D,!1)}},[B,T.length,T.join("-")]);const W=[];if(v!==N){let oe=[...v];for(let D=0;D<B.length;D++){const C=B[D],I=xf(C);T.includes(I)||(oe.splice(D,0,C),W.push(C))}return l==="wait"&&W.length&&(oe=W),F(Jb(oe)),j(v),null}const{forceRender:ee}=V.useContext(sv);return w.jsx(w.Fragment,{children:B.map(oe=>{const D=xf(oe),C=u&&!p?!1:v===B||T.includes(D),I=()=>{if(M.has(D))M.set(D,!0);else return;let L=!0;M.forEach(k=>{k||(L=!1)}),L&&(ee?.(),F(R.current),u&&y?.(),r&&r())};return w.jsx(KV,{isPresent:C,initial:!S.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:C?void 0:I,anchorX:h,children:oe},D)})})},ix=V.createContext({strict:!1}),ew={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_l={};for(const t in ew)_l[t]={isEnabled:e=>ew[t].some(n=>!!e[n])};function $V(t){for(const e in t)_l[e]={..._l[e],...t[e]}}const QV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||QV.has(t)}let rx=t=>!nd(t);function WV(t){typeof t=="function"&&(rx=e=>e.startsWith("on")?!nd(e):t(e))}try{WV(require("@emotion/is-prop-valid").default)}catch{}function ZV(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(rx(a)||n===!0&&nd(a)||!e&&!nd(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}const Nd=V.createContext({});function Md(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function fc(t){return typeof t=="string"||Array.isArray(t)}const Iv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Nv=["initial",...Iv];function Pd(t){return Md(t.animate)||Nv.some(e=>fc(t[e]))}function sx(t){return!!(Pd(t)||t.variants)}function JV(t,e){if(Pd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||fc(n)?n:void 0,animate:fc(r)?r:void 0}}return t.inherit!==!1?e:{}}function eO(t){const{initial:e,animate:n}=JV(t,V.useContext(Nd));return V.useMemo(()=>({initial:e,animate:n}),[tw(e),tw(n)])}function tw(t){return Array.isArray(t)?t.join(" "):t}const dc={};function tO(t){for(const e in t)dc[e]=t[e],pv(e)&&(dc[e].isCSSVariable=!0)}function ax(t,{layout:e,layoutId:n}){return Dl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!dc[t]||t==="opacity")}const nO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iO=Rl.length;function rO(t,e,n){let r="",a=!0;for(let l=0;l<iO;l++){const u=Rl[l],h=t[u];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(u.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const p=Q1(h,xv[u]);if(!d){a=!1;const y=nO[u]||u;r+=`${y}(${p}) `}n&&(e[u]=p)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function Mv(t,e,n){const{style:r,vars:a,transformOrigin:l}=t;let u=!1,h=!1;for(const d in e){const p=e[d];if(Dl.has(d)){u=!0;continue}else if(pv(d)){a[d]=p;continue}else{const y=Q1(p,xv[d]);d.startsWith("origin")?(h=!0,l[d]=y):r[d]=y}}if(e.transform||(u||n?r.transform=rO(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${d} ${p} ${y}`}}const Pv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ox(t,e,n){for(const r in e)!fn(e[r])&&!ax(r,n)&&(t[r]=e[r])}function sO({transformTemplate:t},e){return V.useMemo(()=>{const n=Pv();return Mv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function aO(t,e){const n=t.style||{},r={};return ox(r,n,t),Object.assign(r,sO(t,e)),r}function oO(t,e){const n={},r=aO(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const lO={offset:"stroke-dashoffset",array:"stroke-dasharray"},uO={offset:"strokeDashoffset",array:"strokeDasharray"};function cO(t,e,n=1,r=0,a=!0){t.pathLength=1;const l=a?lO:uO;t[l.offset]=we.transform(-r);const u=we.transform(e),h=we.transform(n);t[l.array]=`${u} ${h}`}function lx(t,{attrX:e,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},d,p,y){if(Mv(t,h,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:T}=t;v.transform&&(T.transform=v.transform,delete v.transform),(T.transform||v.transformOrigin)&&(T.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),T.transform&&(T.transformBox=y?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),a!==void 0&&cO(v,a,l,u,!1)}const ux=()=>({...Pv(),attrs:{}}),cx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function hO(t,e,n,r){const a=V.useMemo(()=>{const l=ux();return lx(l,e,cx(r),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};ox(l,t.style,t),a.style={...l,...a.style}}return a}const fO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vv(t){return typeof t!="string"||t.includes("-")?!1:!!(fO.indexOf(t)>-1||/[A-Z]/u.test(t))}function dO(t,e,n,{latestValues:r},a,l=!1){const h=(Vv(t)?hO:oO)(e,r,a,t),d=ZV(e,typeof t=="string",l),p=t!==V.Fragment?{...d,...h,ref:n}:{},{children:y}=e,v=V.useMemo(()=>fn(y)?y.get():y,[y]);return V.createElement(t,{...p,children:v})}function nw(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Ov(t,e,n,r){if(typeof e=="function"){const[a,l]=nw(r);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=nw(r);e=e(n!==void 0?n:t.custom,a,l)}return e}function zf(t){return fn(t)?t.get():t}function mO({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,a){return{latestValues:pO(n,r,a,t),renderState:e()}}function pO(t,e,n,r){const a={},l=r(t,{});for(const T in l)a[T]=zf(l[T]);let{initial:u,animate:h}=t;const d=Pd(t),p=sx(t);e&&p&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const v=y?h:u;if(v&&typeof v!="boolean"&&!Md(v)){const T=Array.isArray(v)?v:[v];for(let S=0;S<T.length;S++){const R=Ov(t,T[S]);if(R){const{transitionEnd:M,transition:N,...j}=R;for(const B in j){let F=j[B];if(Array.isArray(F)){const W=y?F.length-1:0;F=F[W]}F!==null&&(a[B]=F)}for(const B in M)a[B]=M[B]}}}return a}const hx=t=>(e,n)=>{const r=V.useContext(Nd),a=V.useContext(Id),l=()=>mO(t,e,r,a);return n?l():av(l)};function kv(t,e,n){const{style:r}=t,a={};for(const l in r)(fn(r[l])||e.style&&fn(e.style[l])||ax(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=r[l]);return a}const gO=hx({scrapeMotionValuesFromProps:kv,createRenderState:Pv});function fx(t,e,n){const r=kv(t,e,n);for(const a in t)if(fn(t[a])||fn(e[a])){const l=Rl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=t[a]}return r}const yO=hx({scrapeMotionValuesFromProps:fx,createRenderState:ux}),vO=Symbol.for("motionComponentSymbol");function al(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function _O(t,e,n){return V.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):al(n)&&(n.current=r))},[e])}const Lv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),TO="framerAppearId",dx="data-"+Lv(TO),mx=V.createContext({});function EO(t,e,n,r,a){const{visualElement:l}=V.useContext(Nd),u=V.useContext(ix),h=V.useContext(Id),d=V.useContext(Dv).reducedMotion,p=V.useRef(null);r=r||u.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const y=p.current,v=V.useContext(mx);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&bO(p.current,n,a,v);const T=V.useRef(!1);V.useInsertionEffect(()=>{y&&T.current&&y.update(n,h)});const S=n[dx],R=V.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return h1(()=>{y&&(T.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),R.current&&y.animationState&&y.animationState.animateChanges())}),V.useEffect(()=>{y&&(!R.current&&y.animationState&&y.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),R.current=!1),y.enteringChildren=void 0)}),y}function bO(t,e,n,r){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:px(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&al(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:d,layoutRoot:p})}function px(t){if(t)return t.options.allowProjection!==!1?t.projection:px(t.parent)}function bg(t,{forwardMotionProps:e=!1}={},n,r){n&&$V(n);const a=Vv(t)?yO:gO;function l(h,d){let p;const y={...V.useContext(Dv),...h,layoutId:wO(h)},{isStatic:v}=y,T=eO(h),S=a(h,v);if(!v&&ov){SO();const R=AO(y);p=R.MeasureLayout,T.visualElement=EO(t,S,y,r,R.ProjectionNode)}return w.jsxs(Nd.Provider,{value:T,children:[p&&T.visualElement?w.jsx(p,{visualElement:T.visualElement,...y}):null,dO(t,h,_O(S,T.visualElement,d),S,v,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=V.forwardRef(l);return u[vO]=t,u}function wO({layoutId:t}){const e=V.useContext(sv).id;return e&&t!==void 0?e+"-"+t:t}function SO(t,e){V.useContext(ix).strict}function AO(t){const{drag:e,layout:n}=_l;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function xO(t,e){if(typeof Proxy>"u")return bg;const n=new Map,r=(l,u)=>bg(l,u,t,e),a=(l,u)=>r(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?r:(n.has(u)||n.set(u,bg(u,void 0,t,e)),n.get(u))})}function gx({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function CO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function RO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function wg(t){return t===void 0||t===1}function fy({scale:t,scaleX:e,scaleY:n}){return!wg(t)||!wg(e)||!wg(n)}function Ba(t){return fy(t)||yx(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function yx(t){return iw(t.x)||iw(t.y)}function iw(t){return t&&t!=="0%"}function id(t,e,n){const r=t-n,a=e*r;return n+a}function rw(t,e,n,r,a){return a!==void 0&&(t=id(t,a,r)),id(t,n,r)+e}function dy(t,e=0,n=1,r,a){t.min=rw(t.min,e,n,r,a),t.max=rw(t.max,e,n,r,a)}function vx(t,{x:e,y:n}){dy(t.x,e.translate,e.scale,e.originPoint),dy(t.y,n.translate,n.scale,n.originPoint)}const sw=.999999999999,aw=1.0000000000001;function DO(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let h=0;h<a;h++){l=n[h],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ll(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,vx(t,u)),r&&Ba(l.latestValues)&&ll(t,l.latestValues))}e.x<aw&&e.x>sw&&(e.x=1),e.y<aw&&e.y>sw&&(e.y=1)}function ol(t,e){t.min=t.min+e,t.max=t.max+e}function ow(t,e,n,r,a=.5){const l=pt(t.min,t.max,a);dy(t,e,n,l,r)}function ll(t,e){ow(t.x,e.x,e.scaleX,e.scale,e.originX),ow(t.y,e.y,e.scaleY,e.scale,e.originY)}function _x(t,e){return gx(RO(t.getBoundingClientRect(),e))}function IO(t,e,n){const r=_x(t,n),{scroll:a}=e;return a&&(ol(r.x,a.offset.x),ol(r.y,a.offset.y)),r}const lw=()=>({translate:0,scale:1,origin:0,originPoint:0}),ul=()=>({x:lw(),y:lw()}),uw=()=>({min:0,max:0}),Dt=()=>({x:uw(),y:uw()}),my={current:null},Tx={current:!1};function NO(){if(Tx.current=!0,!!ov)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>my.current=t.matches;t.addEventListener("change",e),e()}else my.current=!1}const MO=new WeakMap;function PO(t,e,n){for(const r in e){const a=e[r],l=n[r];if(fn(a))t.addValue(r,a);else if(fn(l))t.addValue(r,vl(a,{owner:t}));else if(l!==a)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(r);t.addValue(r,vl(u!==void 0?u:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const cw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VO{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Sv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Rn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,dt.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Pd(n),this.isVariantNode=sx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in v){const S=v[T];d[T]!==void 0&&fn(S)&&S.set(d[T])}}mount(e){this.current=e,MO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Tx.current||NO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:my.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Xs(this.notifyUpdate),Xs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Dl.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&dt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in _l){const n=_l[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<cw.length;r++){const a=cw[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=PO(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=vl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(f1(r)||m1(r))?r=parseFloat(r):!FV(r)&&$s.test(n)&&(r=$1(e,n)),this.setBaseTarget(e,fn(r)?r.get():r)),fn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=Ov(this.props,n,this.presenceContext?.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!fn(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new fv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Cv.render(this.render)}}class Ex extends VO{constructor(){super(...arguments),this.KeyframeResolver=IV}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;fn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function bx(t,{style:e,vars:n},r,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,r);for(u in n)l.setProperty(u,n[u])}function OO(t){return window.getComputedStyle(t)}class kO extends Ex{constructor(){super(...arguments),this.type="html",this.renderInstance=bx}readValueFromInstance(e,n){if(Dl.has(n))return this.projection?.isProjecting?sy(n):$P(e,n);{const r=OO(e),a=(pv(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return _x(e,n)}build(e,n,r){Mv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return kv(e,n,r)}}const wx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function LO(t,e,n,r){bx(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(wx.has(a)?a:Lv(a),e.attrs[a])}class jO extends Ex{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Dt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Dl.has(n)){const r=X1(n);return r&&r.default||0}return n=wx.has(n)?n:Lv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return fx(e,n,r)}build(e,n,r){lx(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,a){LO(e,n,r,a)}mount(e){this.isSVGTag=cx(e.tagName),super.mount(e)}}const UO=(t,e)=>Vv(t)?new jO(e):new kO(e,{allowProjection:t!==V.Fragment});function hl(t,e,n){const r=t.getProps();return Ov(r,e,n!==void 0?n:r.custom,t)}const py=t=>Array.isArray(t);function zO(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,vl(n))}function BO(t){return py(t)?t[t.length-1]||0:t}function FO(t,e){const n=hl(t,e);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const u in l){const h=BO(l[u]);zO(t,u,h)}}function HO(t){return!!(fn(t)&&t.add)}function gy(t,e){const n=t.getValue("willChange");if(HO(n))return n.add(e);if(!n&&Yr.WillChange){const r=new Yr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Sx(t){return t.props[dx]}const qO=t=>t!==null;function GO(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(qO),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const YO={type:"spring",stiffness:500,damping:25,restSpeed:10},KO=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),XO={type:"keyframes",duration:.8},$O={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QO=(t,{keyframes:e})=>e.length>2?XO:Dl.has(t)?t.startsWith("scale")?KO(e[1]):YO:$O;function WO({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:d,elapsed:p,...y}){return!!Object.keys(y).length}const jv=(t,e,n,r={},a,l)=>u=>{const h=Av(r,t)||{},d=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-rr(d);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:T=>{e.set(T),h.onUpdate&&h.onUpdate(T)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};WO(h)||Object.assign(y,QO(t,y)),y.duration&&(y.duration=rr(y.duration)),y.repeatDelay&&(y.repeatDelay=rr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(cy(y),y.delay===0&&(v=!0)),(Yr.instantAnimations||Yr.skipAnimations)&&(v=!0,cy(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const T=GO(y.keyframes,h);if(T!==void 0){dt.update(()=>{y.onUpdate(T),y.onComplete()});return}}return h.isSync?new wv(y):new vV(y)};function ZO({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Ax(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;r&&(l=r);const d=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in h){const v=t.getValue(y,t.latestValues[y]??null),T=h[y];if(T===void 0||p&&ZO(p,y))continue;const S={delay:n,...Av(l||{},y)},R=v.get();if(R!==void 0&&!v.isAnimating&&!Array.isArray(T)&&T===R&&!S.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const j=Sx(t);if(j){const B=window.MotionHandoffAnimation(j,y,dt);B!==null&&(S.startTime=B,M=!0)}}gy(t,y),v.start(jv(y,v,T,t.shouldReduceMotion&&G1.has(y)?{type:!1}:S,t,M));const N=v.animation;N&&d.push(N)}return u&&Promise.all(d).then(()=>{dt.update(()=>{u&&FO(t,u)})}),d}function xx(t,e,n,r=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),u=t.size,h=(u-1)*r;return typeof n=="function"?n(l,u):a===1?l*r:h-l*r}function yy(t,e,n={}){const r=hl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(Ax(t,r,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=a;return JO(t,e,d,p,y,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,p]=h==="beforeChildren"?[l,u]:[u,l];return d().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function JO(t,e,n=0,r=0,a=0,l=1,u){const h=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),h.push(yy(d,e,{...u,delay:n+(typeof r=="function"?0:r)+xx(t.variantChildren,d,r,a,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function ek(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(l=>yy(t,l,n));r=Promise.all(a)}else if(typeof e=="string")r=yy(t,e,n);else{const a=typeof e=="function"?hl(t,e,n.custom):e;r=Promise.all(Ax(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Cx(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const tk=Nv.length;function Rx(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Rx(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<tk;n++){const r=Nv[n],a=t.props[r];(fc(a)||a===!1)&&(e[r]=a)}return e}const nk=[...Iv].reverse(),ik=Iv.length;function rk(t){return e=>Promise.all(e.map(({animation:n,options:r})=>ek(t,n,r)))}function sk(t){let e=rk(t),n=hw(),r=!0;const a=d=>(p,y)=>{const v=hl(t,y,d==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:T,transitionEnd:S,...R}=v;p={...p,...R,...S}}return p};function l(d){e=d(t)}function u(d){const{props:p}=t,y=Rx(t.parent)||{},v=[],T=new Set;let S={},R=1/0;for(let N=0;N<ik;N++){const j=nk[N],B=n[j],F=p[j]!==void 0?p[j]:y[j],W=fc(F),ee=j===d?B.isActive:null;ee===!1&&(R=N);let oe=F===y[j]&&F!==p[j]&&W;if(oe&&r&&t.manuallyAnimateOnMount&&(oe=!1),B.protectedKeys={...S},!B.isActive&&ee===null||!F&&!B.prevProp||Md(F)||typeof F=="boolean")continue;const D=ak(B.prevProp,F);let C=D||j===d&&B.isActive&&!oe&&W||N>R&&W,I=!1;const L=Array.isArray(F)?F:[F];let k=L.reduce(a(j),{});ee===!1&&(k={});const{prevResolvedValues:H={}}=B,P={...H,...k},ze=le=>{C=!0,T.has(le)&&(I=!0,T.delete(le)),B.needsAnimating[le]=!0;const de=t.getValue(le);de&&(de.liveStyle=!1)};for(const le in P){const de=k[le],Ae=H[le];if(S.hasOwnProperty(le))continue;let Me=!1;py(de)&&py(Ae)?Me=!Cx(de,Ae):Me=de!==Ae,Me?de!=null?ze(le):T.add(le):de!==void 0&&T.has(le)?ze(le):B.protectedKeys[le]=!0}B.prevProp=F,B.prevResolvedValues=k,B.isActive&&(S={...S,...k}),r&&t.blockInitialAnimation&&(C=!1);const Ge=oe&&D;C&&(!Ge||I)&&v.push(...L.map(le=>{const de={type:j};if(typeof le=="string"&&r&&!Ge&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ae}=t,Me=hl(Ae,le);if(Ae.enteringChildren&&Me){const{delayChildren:U}=Me.transition||{};de.delay=xx(Ae.enteringChildren,t,U)}}return{animation:le,options:de}}))}if(T.size){const N={};if(typeof p.initial!="boolean"){const j=hl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);j&&j.transition&&(N.transition=j.transition)}T.forEach(j=>{const B=t.getBaseTarget(j),F=t.getValue(j);F&&(F.liveStyle=!0),N[j]=B??null}),v.push({animation:N})}let M=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(M=!1),r=!1,M?e(v):Promise.resolve()}function h(d,p){if(n[d].isActive===p)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(d,p)),n[d].isActive=p;const y=u(d);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=hw()}}}function ak(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Cx(e,t):!1}function za(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hw(){return{animate:za(!0),whileInView:za(),whileHover:za(),whileTap:za(),whileDrag:za(),whileFocus:za(),exit:za()}}class ra{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ok extends ra{constructor(e){super(e),e.animationState||(e.animationState=sk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Md(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let lk=0;class uk extends ra{constructor(){super(...arguments),this.id=lk++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ck={animation:{Feature:ok},exit:{Feature:uk}};function mc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Pc(t){return{point:{x:t.pageX,y:t.pageY}}}const hk=t=>e=>Rv(e)&&t(e,Pc(e));function Ju(t,e,n,r){return mc(t,e,hk(n),r)}const Dx=1e-4,fk=1-Dx,dk=1+Dx,Ix=.01,mk=0-Ix,pk=0+Ix;function yn(t){return t.max-t.min}function gk(t,e,n){return Math.abs(t-e)<=n}function fw(t,e,n,r=.5){t.origin=r,t.originPoint=pt(e.min,e.max,t.origin),t.scale=yn(n)/yn(e),t.translate=pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=fk&&t.scale<=dk||isNaN(t.scale))&&(t.scale=1),(t.translate>=mk&&t.translate<=pk||isNaN(t.translate))&&(t.translate=0)}function ec(t,e,n,r){fw(t.x,e.x,n.x,r?r.originX:void 0),fw(t.y,e.y,n.y,r?r.originY:void 0)}function dw(t,e,n){t.min=n.min+e.min,t.max=t.min+yn(e)}function yk(t,e,n){dw(t.x,e.x,n.x),dw(t.y,e.y,n.y)}function mw(t,e,n){t.min=e.min-n.min,t.max=t.min+yn(e)}function tc(t,e,n){mw(t.x,e.x,n.x),mw(t.y,e.y,n.y)}function ni(t){return[t("x"),t("y")]}const Nx=({current:t})=>t?t.ownerDocument.defaultView:null,pw=(t,e)=>Math.abs(t-e);function vk(t,e){const n=pw(t.x,e.x),r=pw(t.y,e.y);return Math.sqrt(n**2+r**2)}class Mx{constructor(e,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Ag(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,R=vk(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!R)return;const{point:M}=T,{timestamp:N}=tn;this.history.push({...M,timestamp:N});const{onStart:j,onMove:B}=this.handlers;S||(j&&j(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,T)},this.handlePointerMove=(T,S)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=Sg(S,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(T,S)=>{this.end();const{onEnd:R,onSessionEnd:M,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=Ag(T.type==="pointercancel"?this.lastMoveEventInfo:Sg(S,this.transformPagePoint),this.history);this.startEvent&&R&&R(T,j),M&&M(T,j)},!Rv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=a||window;const h=Pc(e),d=Sg(h,this.transformPagePoint),{point:p}=d,{timestamp:y}=tn;this.history=[{...p,timestamp:y}];const{onSessionStart:v}=n;v&&v(e,Ag(d,this.history)),this.removeListeners=Ic(Ju(this.contextWindow,"pointermove",this.handlePointerMove),Ju(this.contextWindow,"pointerup",this.handlePointerUp),Ju(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Xs(this.updatePoint)}}function Sg(t,e){return e?{point:e(t.point)}:t}function gw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ag({point:t},e){return{point:t,delta:gw(t,Px(e)),offset:gw(t,_k(e)),velocity:Tk(e,.1)}}function _k(t){return t[0]}function Px(t){return t[t.length-1]}function Tk(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=Px(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>rr(e)));)n--;if(!r)return{x:0,y:0};const l=oi(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Ek(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?pt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?pt(n,t,r.max):Math.min(t,n)),t}function yw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function bk(t,{top:e,left:n,bottom:r,right:a}){return{x:yw(t.x,n,a),y:yw(t.y,e,r)}}function vw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function wk(t,e){return{x:vw(t.x,e.x),y:vw(t.y,e.y)}}function Sk(t,e){let n=.5;const r=yn(t),a=yn(e);return a>r?n=uc(e.min,e.max-r,t.min):r>a&&(n=uc(t.min,t.max-a,e.min)),Gr(0,1,n)}function Ak(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const vy=.35;function xk(t=vy){return t===!1?t=0:t===!0&&(t=vy),{x:_w(t,"left","right"),y:_w(t,"top","bottom")}}function _w(t,e,n){return{min:Tw(t,e),max:Tw(t,n)}}function Tw(t,e){return typeof t=="number"?t:t[e]||0}const Ck=new WeakMap;class Rk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Pc(v).point)},u=(v,T)=>{const{drag:S,dragPropagation:R,onDragStart:M}=this.getProps();if(S&&!R&&(this.openDragLock&&this.openDragLock(),this.openDragLock=VV(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ni(j=>{let B=this.getAxisMotionValue(j).get()||0;if(sr.test(B)){const{projection:F}=this.visualElement;if(F&&F.layout){const W=F.layout.layoutBox[j];W&&(B=yn(W)*(parseFloat(B)/100))}}this.originPoint[j]=B}),M&&dt.postRender(()=>M(v,T)),gy(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},h=(v,T)=>{this.latestPointerEvent=v,this.latestPanInfo=T;const{dragPropagation:S,dragDirectionLock:R,onDirectionLock:M,onDrag:N}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:j}=T;if(R&&this.currentDirection===null){this.currentDirection=Dk(j),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",T.point,j),this.updateAxis("y",T.point,j),this.visualElement.render(),N&&N(v,T)},d=(v,T)=>{this.latestPointerEvent=v,this.latestPanInfo=T,this.stop(v,T),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ni(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new Mx(e,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:Nx(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!r)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&dt.postRender(()=>h(r,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!Cf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=Ek(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&al(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=bk(r.layoutBox,e):this.constraints=!1,this.elastic=xk(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ni(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Ak(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!al(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=IO(r,a.root,this.visualElement.getTransformPagePoint());let u=wk(a.layout.layoutBox,l);if(n){const h=n(CO(u));this.hasMutatedConstraints=!!h,h&&(u=gx(h))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=ni(y=>{if(!Cf(y,n,this.currentDirection))return;let v=d&&d[y]||{};u&&(v={min:0,max:0});const T=a?200:1e6,S=a?40:1e7,R={type:"inertia",velocity:r?e[y]:0,bounceStiffness:T,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,R)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return gy(this.visualElement,e),r.start(jv(e,r,0,n,this.visualElement,!1))}stopAnimation(){ni(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ni(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ni(n=>{const{drag:r}=this.getProps();if(!Cf(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];l.set(e[n]-pt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!al(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ni(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=Sk({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ni(u=>{if(!Cf(u,e,null))return;const h=this.getAxisMotionValue(u),{min:d,max:p}=this.constraints[u];h.set(pt(d,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;Ck.set(this.visualElement,this);const e=this.visualElement.current,n=Ju(e,"pointerdown",d=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();al(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),dt.read(r);const u=mc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(ni(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=d[y].translate,v.set(v.get()+d[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=vy,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function Cf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Dk(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Ik extends ra{constructor(e){super(e),this.removeGroupControls=ui,this.removeListeners=ui,this.controls=new Rk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ui}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ew=t=>(e,n)=>{t&&dt.postRender(()=>t(e,n))};class Nk extends ra{constructor(){super(...arguments),this.removePointerDownListener=ui}onPointerDown(e){this.session=new Mx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Nx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:Ew(e),onStart:Ew(n),onMove:r,onEnd:(l,u)=>{delete this.session,a&&dt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Ju(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Bf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Fu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=bw(t,e.target.x),r=bw(t,e.target.y);return`${n}% ${r}%`}},Mk={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=$s.parse(t);if(a.length>5)return r;const l=$s.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=d;const p=pt(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}};let xg=!1;class Pk extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=e;tO(Vk),l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),xg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Bf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,{projection:u}=r;return u&&(u.isPresent=l,xg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||dt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Cv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;xg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Vx(t){const[e,n]=nx(),r=V.useContext(sv);return w.jsx(Pk,{...t,layoutGroup:r,switchLayoutGroup:V.useContext(mx),isPresent:e,safeToRemove:n})}const Vk={borderRadius:{...Fu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fu,borderTopRightRadius:Fu,borderBottomLeftRadius:Fu,borderBottomRightRadius:Fu,boxShadow:Mk};function Ok(t,e,n){const r=fn(t)?t:vl(t);return r.start(jv("",r,e,n)),r.animation}const kk=(t,e)=>t.depth-e.depth;class Lk{constructor(){this.children=[],this.isDirty=!1}add(e){lv(this.children,e),this.isDirty=!0}remove(e){uv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(kk),this.isDirty=!1,this.children.forEach(e)}}function jk(t,e){const n=Rn.now(),r=({timestamp:a})=>{const l=a-n;l>=e&&(Xs(r),t(l-e))};return dt.setup(r,!0),()=>Xs(r)}const Ox=["TopLeft","TopRight","BottomLeft","BottomRight"],Uk=Ox.length,ww=t=>typeof t=="string"?parseFloat(t):t,Sw=t=>typeof t=="number"||we.test(t);function zk(t,e,n,r,a,l){a?(t.opacity=pt(0,n.opacity??1,Bk(r)),t.opacityExit=pt(e.opacity??1,0,Fk(r))):l&&(t.opacity=pt(e.opacity??1,n.opacity??1,r));for(let u=0;u<Uk;u++){const h=`border${Ox[u]}Radius`;let d=Aw(e,h),p=Aw(n,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||Sw(d)===Sw(p)?(t[h]=Math.max(pt(ww(d),ww(p),r),0),(sr.test(p)||sr.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=pt(e.rotate||0,n.rotate||0,r))}function Aw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Bk=kx(0,.5,b1),Fk=kx(.5,.95,ui);function kx(t,e,n){return r=>r<t?0:r>e?1:n(uc(t,e,r))}function xw(t,e){t.min=e.min,t.max=e.max}function ti(t,e){xw(t.x,e.x),xw(t.y,e.y)}function Cw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Rw(t,e,n,r,a){return t-=e,t=id(t,1/n,r),a!==void 0&&(t=id(t,1/a,r)),t}function Hk(t,e=0,n=1,r=.5,a,l=t,u=t){if(sr.test(e)&&(e=parseFloat(e),e=pt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=pt(l.min,l.max,r);t===l&&(h-=e),t.min=Rw(t.min,e,n,h,a),t.max=Rw(t.max,e,n,h,a)}function Dw(t,e,[n,r,a],l,u){Hk(t,e[n],e[r],e[a],e.scale,l,u)}const qk=["x","scaleX","originX"],Gk=["y","scaleY","originY"];function Iw(t,e,n,r){Dw(t.x,e,qk,n?n.x:void 0,r?r.x:void 0),Dw(t.y,e,Gk,n?n.y:void 0,r?r.y:void 0)}function Nw(t){return t.translate===0&&t.scale===1}function Lx(t){return Nw(t.x)&&Nw(t.y)}function Mw(t,e){return t.min===e.min&&t.max===e.max}function Yk(t,e){return Mw(t.x,e.x)&&Mw(t.y,e.y)}function Pw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function jx(t,e){return Pw(t.x,e.x)&&Pw(t.y,e.y)}function Vw(t){return yn(t.x)/yn(t.y)}function Ow(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Kk{constructor(){this.members=[]}add(e){lv(this.members,e),e.scheduleRender()}remove(e){if(uv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Xk(t,e,n){let r="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(r=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:T,skewX:S,skewY:R}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),v&&(r+=`rotateX(${v}deg) `),T&&(r+=`rotateY(${T}deg) `),S&&(r+=`skewX(${S}deg) `),R&&(r+=`skewY(${R}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(r+=`scale(${h}, ${d})`),r||"none"}const Cg=["","X","Y","Z"],$k=1e3;let Qk=0;function Rg(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Ux(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Sx(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(a||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Ux(r)}function zx({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(u={},h=e?.()){this.id=Qk++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Jk),this.nodes.forEach(i4),this.nodes.forEach(r4),this.nodes.forEach(e4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Lk)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new fv),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=tx(u)&&!zV(u),this.instance=u;const{layoutId:h,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let y,v=0;const T=()=>this.root.updateBlockedByResize=!1;dt.read(()=>{v=window.innerWidth}),t(u,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,y&&y(),y=jk(T,250),Bf.hasAnimatedSinceResize&&(Bf.hasAnimatedSinceResize=!1,this.nodes.forEach(jw)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:T,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||p.getDefaultTransition()||u4,{onLayoutAnimationStart:M,onLayoutAnimationComplete:N}=p.getProps(),j=!this.targetLayout||!jx(this.targetLayout,S),B=!v&&T;if(this.options.layoutRoot||this.resumeFrom||B||v&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...Av(R,"layout"),onPlay:M,onComplete:N};(p.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(y,B)}else v||jw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Xs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(s4),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ux(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Lw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(n4),this.nodes.forEach(Wk),this.nodes.forEach(Zk)):this.nodes.forEach(Lw),this.clearAllSnapshots();const h=Rn.now();tn.delta=Gr(0,1e3/60,h-tn.timestamp),tn.timestamp=h,tn.isProcessing=!0,gg.update.process(tn),gg.preRender.process(tn),gg.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Cv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(t4),this.sharedNodes.forEach(a4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yn(this.snapshot.measuredBox.x)&&!yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Dt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Lx(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||Ba(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),c4(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Dt();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(h4))){const{scroll:p}=this.root;p&&(ol(h.x,p.offset.x),ol(h.y,p.offset.y))}return h}removeElementScroll(u){const h=Dt();if(ti(h,u),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&ti(h,u),ol(h.x,y.offset.x),ol(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const d=Dt();ti(d,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ll(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ba(y.latestValues)&&ll(d,y.latestValues)}return Ba(this.latestValues)&&ll(d,this.latestValues),d}removeTransform(u){const h=Dt();ti(h,u);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Ba(p.latestValues))continue;fy(p.latestValues)&&p.updateSnapshot();const y=Dt(),v=p.measurePageBox();ti(y,v),Iw(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Ba(this.latestValues)&&Iw(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=tn.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),tc(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),ti(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Dt(),this.targetWithTransforms=Dt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ti(this.target,this.layout.layoutBox),vx(this.target,this.targetDelta)):ti(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),tc(this.relativeTargetOrigin,this.target,T.target),ti(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||fy(this.parent.latestValues)||yx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(d=!1),d)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;ti(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,T=this.treeScale.y;DO(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Dt());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Cw(this.prevProjectionDelta.x,this.projectionDelta.x),Cw(this.prevProjectionDelta.y,this.projectionDelta.y)),ec(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==T||!Ow(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ow(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ul(),this.projectionDelta=ul(),this.projectionDeltaWithTransform=ul()}setAnimationOrigin(u,h=!1){const d=this.snapshot,p=d?d.latestValues:{},y={...this.latestValues},v=ul();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const T=Dt(),S=d?d.source:void 0,R=this.layout?this.layout.source:void 0,M=S!==R,N=this.getStack(),j=!N||N.members.length<=1,B=!!(M&&!j&&this.options.crossfade===!0&&!this.path.some(l4));this.animationProgress=0;let F;this.mixTargetDelta=W=>{const ee=W/1e3;Uw(v.x,u.x,ee),Uw(v.y,u.y,ee),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tc(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),o4(this.relativeTarget,this.relativeTargetOrigin,T,ee),F&&Yk(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Dt()),ti(F,this.relativeTarget)),M&&(this.animationValues=y,zk(y,p,this.latestValues,ee,B,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Xs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{Bf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=vl(0)),this.currentAnimation=Ok(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($k),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:y}=u;if(!(!h||!d||!p)){if(this!==u&&this.layout&&p&&Bx(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||Dt();const v=yn(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+v;const T=yn(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+T}ti(h,d),ll(h,y),ec(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new Kk),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&Rg("z",u,p,this.animationValues);for(let y=0;y<Cg.length;y++)Rg(`rotate${Cg[y]}`,u,p,this.animationValues),Rg(`skew${Cg[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=zf(h?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=zf(h?.pointerEvents)||""),this.hasProjected&&!Ba(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=Xk(this.projectionDeltaWithTransform,this.treeScale,y);d&&(v=d(y,v)),u.transform=v;const{x:T,y:S}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${S.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const R in dc){if(y[R]===void 0)continue;const{correct:M,applyTo:N,isCSSVariable:j}=dc[R],B=v==="none"?y[R]:M(y[R],p);if(N){const F=N.length;for(let W=0;W<F;W++)u[N[W]]=B}else j?this.options.visualElement.renderState.vars[R]=B:u[R]=B}this.options.layoutId&&(u.pointerEvents=p===this?zf(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(kw),this.root.sharedNodes.clear()}}}function Wk(t){t.updateLayout()}function Zk(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ni(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],T=yn(v);v.min=n[y].min,v.max=v.min+T}):Bx(a,e.layoutBox,n)&&ni(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],T=yn(n[y]);v.max=v.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+T)});const u=ul();ec(u,n,e.layoutBox);const h=ul();l?ec(h,t.applyTransform(r,!0),e.measuredBox):ec(h,n,e.layoutBox);const d=!Lx(u);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:T}=y;if(v&&T){const S=Dt();tc(S,e.layoutBox,v.layoutBox);const R=Dt();tc(R,n,T.layoutBox),jx(S,R)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=R,t.relativeTargetOrigin=S,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Jk(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function e4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function t4(t){t.clearSnapshot()}function kw(t){t.clearMeasurements()}function Lw(t){t.isLayoutDirty=!1}function n4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function jw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function i4(t){t.resolveTargetDelta()}function r4(t){t.calcProjection()}function s4(t){t.resetSkewAndRotation()}function a4(t){t.removeLeadSnapshot()}function Uw(t,e,n){t.translate=pt(e.translate,0,n),t.scale=pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function zw(t,e,n,r){t.min=pt(e.min,n.min,r),t.max=pt(e.max,n.max,r)}function o4(t,e,n,r){zw(t.x,e.x,n.x,r),zw(t.y,e.y,n.y,r)}function l4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const u4={duration:.45,ease:[.4,0,.1,1]},Bw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Fw=Bw("applewebkit/")&&!Bw("chrome/")?Math.round:ui;function Hw(t){t.min=Fw(t.min),t.max=Fw(t.max)}function c4(t){Hw(t.x),Hw(t.y)}function Bx(t,e,n){return t==="position"||t==="preserve-aspect"&&!gk(Vw(e),Vw(n),.2)}function h4(t){return t!==t.root&&t.scroll?.wasRoot}const f4=zx({attachResizeListener:(t,e)=>mc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dg={current:void 0},Fx=zx({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Dg.current){const t=new f4({});t.mount(window),t.setOptions({layoutScroll:!0}),Dg.current=t}return Dg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),d4={pan:{Feature:Nk},drag:{Feature:Ik,ProjectionNode:Fx,MeasureLayout:Vx}};function qw(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&dt.postRender(()=>l(e,Pc(e)))}class m4 extends ra{mount(){const{current:e}=this.node;e&&(this.unmount=OV(e,(n,r)=>(qw(this.node,r,"Start"),a=>qw(this.node,a,"End"))))}unmount(){}}class p4 extends ra{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ic(mc(this.node.current,"focus",()=>this.onFocus()),mc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Gw(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&dt.postRender(()=>l(e,Pc(e)))}class g4 extends ra{mount(){const{current:e}=this.node;e&&(this.unmount=UV(e,(n,r)=>(Gw(this.node,r,"Start"),(a,{success:l})=>Gw(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _y=new WeakMap,Ig=new WeakMap,y4=t=>{const e=_y.get(t.target);e&&e(t)},v4=t=>{t.forEach(y4)};function _4({root:t,...e}){const n=t||document;Ig.has(n)||Ig.set(n,{});const r=Ig.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(v4,{root:t,...e})),r[a]}function T4(t,e,n){const r=_4(e);return _y.set(t,n),r.observe(t),()=>{_y.delete(t),r.unobserve(t)}}const E4={some:0,all:1};class b4 extends ra{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:E4[a]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),T=p?y:v;T&&T(d)};return T4(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(w4(e,n))&&this.startObserver()}unmount(){}}function w4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const S4={inView:{Feature:b4},tap:{Feature:g4},focus:{Feature:p4},hover:{Feature:m4}},A4={layout:{ProjectionNode:Fx,MeasureLayout:Vx}},x4={...ck,...S4,...d4,...A4},cn=xO(x4,UO),Vd=({searchTerm:t,setSearchTerm:e})=>{const[n,r]=V.useState(!1),[a,l]=V.useState(!1),u=[{name:"Taco House",phone:"+91 7795815315"},{name:"Hungry House",phone:"+91 9820243177"},{name:"MFC",phone:"+91 7338334970"},{name:"Hit&Run",phone:"+91 7406330088"},{name:"Janani Canteen",phone:"+91 8660138488"},{name:"Dollar Cafe",phone:"+91 8105306109"},{name:"Kamath Cafe",phone:"+91 8217044886"},{name:"Aditya Mess",phone:"+91 7483644586"},{name:"Apoorva Mess",phone:"+91 9108888320"},{name:"FC 2",phone:"+91 8861953102"},{name:"Poornima",phone:"+91 70906 41985"},{name:"Nom Nom cafe",phone:"+91 7619422026"},{name:"Ashraya",phone:"+91 6361201519"}];return w.jsxs(w.Fragment,{children:[w.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white/10 backdrop-blur-md border-b border-white/20 shadow-lg",children:w.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"flex items-center justify-between h-16",children:[w.jsx(Us,{mode:"wait",children:(!n||window.innerWidth>=768)&&w.jsx(cn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center gap-2",children:w.jsxs(Ka,{to:"/",className:"flex items-center gap-2",children:[w.jsx("div",{className:"hidden md:block p-2 bg-orange-500 rounded-lg text-white",children:w.jsx(Zg,{size:24})}),w.jsx(Ka,{to:"/admin",className:"md:hidden p-2 bg-orange-500 rounded-lg text-white",onClick:h=>h.stopPropagation(),children:w.jsx(Zg,{size:24})}),w.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent",children:"MIT Mess"})]})})}),e&&w.jsxs("div",{className:"hidden md:flex flex-1 max-w-md mx-8 relative group",children:[w.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:w.jsx(pg,{className:"h-4 w-4 text-gray-400 group-focus-within:text-orange-500 transition-colors"})}),w.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-200/50 rounded-full leading-5 bg-white/50 backdrop-blur-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 sm:text-sm shadow-sm transition-all duration-300 hover:bg-white/80 focus:bg-white",placeholder:"Search messes...",value:t,onChange:h=>e(h.target.value)})]}),w.jsx(Us,{children:n&&w.jsxs(cn.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:"100%"},exit:{opacity:0,width:0},className:"absolute inset-0 flex items-center px-4 bg-white md:hidden z-20",children:[w.jsx(pg,{className:"text-gray-400 mr-2",size:20}),w.jsx("input",{type:"text",placeholder:"Search...",value:t,onChange:h=>e(h.target.value),className:"flex-1 bg-transparent border-none focus:ring-0 text-gray-800 placeholder-gray-500 outline-none",autoFocus:!0}),w.jsx("button",{onClick:()=>r(!1),className:"p-2 text-gray-500 hover:text-orange-600",children:w.jsx(yl,{size:20})})]})}),w.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[w.jsx("a",{href:"https://mit.nakshatramaps.com/",target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-orange-600 transition-colors",title:"Campus Map",children:w.jsx(VM,{size:20})}),w.jsx("button",{onClick:()=>l(!0),className:"md:hidden p-2 text-gray-600 hover:text-orange-600 transition-colors",title:"Restaurants",children:w.jsx(zM,{size:20})}),e&&!n&&w.jsx("button",{onClick:()=>r(!0),className:"md:hidden p-2 text-gray-600 hover:text-orange-600 transition-colors",children:w.jsx(pg,{size:20})}),w.jsx("button",{onClick:()=>l(!0),className:"hidden md:block px-4 py-2 text-sm font-medium text-gray-700 hover:text-orange-600 transition-colors",children:"Restaurants"}),w.jsx(Ka,{to:"/admin",children:w.jsx("button",{className:"hidden md:block px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-orange-500 to-red-500 rounded-full hover:shadow-lg hover:scale-105 transition-all duration-300",children:"Admin Login"})})]})]})})}),w.jsx(Us,{children:a&&w.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>l(!1),children:w.jsxs(cn.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},onClick:h=>h.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[80vh] overflow-hidden flex flex-col",children:[w.jsxs("div",{className:"p-6 bg-gradient-to-r from-orange-500 to-red-500 text-white flex justify-between items-center shrink-0",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-2xl font-bold",children:"Nearby Restaurants"}),w.jsx("p",{className:"text-white/80 text-sm",children:"Tap a card to call"})]}),w.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:w.jsx(yl,{size:24})})]}),w.jsx("div",{className:"p-6 overflow-y-auto",children:w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map((h,d)=>w.jsxs("a",{href:`tel:${h.phone}`,className:"block p-4 rounded-xl bg-white border border-gray-100 shadow-sm hover:shadow-md hover:border-orange-200 transition-all duration-300 group",children:[w.jsx("h4",{className:"font-bold text-gray-800 group-hover:text-orange-600 transition-colors mb-1",children:h.name}),w.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[w.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),h.phone]})]},d))})})]})})})]})};function Hx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=Hx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function jr(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=Hx(t))&&(r&&(r+=" "),r+=e);return r}const C4=({mess:t})=>{const[e,n]=V.useState(new Date().toLocaleDateString("en-US",{weekday:"long"})),r=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],a=t.menu[e]||t.menu.Monday,l=p=>{if([p.Breakfast,p.Lunch,p.Snacks,p.Dinner].join(" ").toLowerCase().includes("month end dinner"))return"Month End Dinner";const v=["chicken","paneer","egg","sewaiya","kebab","ice cream","semiyan","kheer","swiss roll","gulab jamun"],T=["chapati","steam rice","steamed rice","rice"],S=j=>{if(!j)return null;const B=j.split(",").map(F=>F.trim());for(const F of B){const W=F.toLowerCase();if(v.some(ee=>W.includes(ee)))return F}for(const F of B){const W=F.toLowerCase();if(!T.some(ee=>W.includes(ee)))return F}return B[0]},R=S(p.Lunch),M=S(p.Dinner),N=j=>j?v.some(B=>j.toLowerCase().includes(B)):!1;return N(R)?R:N(M)?M:R||M||"Special Meal"},u={"from-orange-500 to-red-500":{text:"text-orange-600",shadow:"hover:shadow-orange-500/40",bg:"bg-orange-50"},"from-blue-500 to-cyan-500":{text:"text-blue-600",shadow:"hover:shadow-blue-500/40",bg:"bg-blue-50"},"from-green-500 to-emerald-500":{text:"text-green-600",shadow:"hover:shadow-green-500/40",bg:"bg-green-50"},"from-purple-500 to-pink-500":{text:"text-purple-600",shadow:"hover:shadow-purple-500/40",bg:"bg-purple-50"},"from-pink-500 to-rose-500":{text:"text-pink-600",shadow:"hover:shadow-pink-500/40",bg:"bg-pink-50"}},h=u[t.color]||u["from-orange-500 to-red-500"],d=p=>p?p.toLowerCase().split(" ").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" "):"";return w.jsx(Ka,{to:`/mess/${t.id}`,className:"h-full block",children:w.jsxs(cn.div,{layout:!0,whileHover:{y:-5,transition:{duration:.1}},className:jr("relative overflow-hidden rounded-2xl bg-white/40 backdrop-blur-lg border border-white/50 shadow-xl hover:shadow-2xl transition-all duration-100 cursor-pointer group h-full flex flex-col",h.shadow),children:[w.jsxs("div",{className:jr("px-5 py-3 bg-gradient-to-r text-white transition-all duration-300",t.color),children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("h3",{className:"text-xl font-bold group-hover:scale-105 transition-transform duration-300",children:t.name}),w.jsx("div",{className:"p-1.5 bg-white/20 rounded-full group-hover:bg-white/30 transition-colors",children:w.jsx(s1,{size:16})})]}),w.jsxs("p",{className:"mt-1 text-white/90 text-xs flex items-center gap-1",children:[w.jsx(rv,{size:12}),"Today's Special: ",(()=>{const p=()=>{const R=new Date,M=R.getDay(),N=R.getDate()-M+(M===0?-6:1),j=new Date(R.setDate(N));return j.setHours(0,0,0,0),j},y=t.lastUpdated?new Date(t.lastUpdated):null,v=p(),T=!y||y<v,S=t.menu&&Object.keys(t.menu).some(R=>{const M=t.menu[R];return M?Object.values(M).some(N=>N&&N!=="N/A"&&N.trim()!==""):!1});return T||!S?"N/A":d(l(a))})()]})]}),w.jsx("div",{className:"p-5 flex-1 flex flex-col",children:(()=>{const p=()=>{const R=new Date,M=R.getDay(),N=R.getDate()-M+(M===0?-6:1),j=new Date(R.setDate(N));return j.setHours(0,0,0,0),j},y=t.lastUpdated?new Date(t.lastUpdated):null,v=p(),T=!y||y<v,S=t.menu&&Object.keys(t.menu).some(R=>{const M=t.menu[R];return M?Object.values(M).some(N=>N&&N!=="N/A"&&N.trim()!==""):!1});return T||!S?w.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center opacity-70 min-h-[200px]",children:[w.jsx("div",{className:jr("text-lg font-bold mb-1",h.text),children:"Menu Not Uploaded"}),w.jsx("p",{className:"text-xs text-gray-400",children:"Check back later"})]}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"flex justify-between items-center w-full mb-3",onClick:R=>R.preventDefault(),children:r.map(R=>w.jsx("button",{onClick:M=>{M.preventDefault(),M.stopPropagation(),n(R)},className:jr("px-1.5 py-1 rounded-md text-[10px] font-medium transition-all",e===R?"bg-gray-800 text-white shadow-md":"bg-white/50 text-gray-600 hover:bg-white/80"),children:R.slice(0,3)},R))}),w.jsx("div",{className:"grid grid-cols-1 flex-1 min-h-0",children:r.map(R=>{const M=t.menu[R]||t.menu.Monday,N=e===R;return w.jsxs("div",{className:jr("flex flex-col gap-2.5 overflow-y-auto pr-1 pb-2 custom-scrollbar scrollbar-hide transition-opacity duration-200",N?"opacity-100 z-10 pointer-events-auto":"opacity-0 z-0 pointer-events-none"),style:{gridArea:"1 / 1 / 2 / 2"},children:[w.jsx("style",{jsx:!0,children:`
                                                    .scrollbar-hide::-webkit-scrollbar {
                                                        display: none;
                                                    }
                                                    .scrollbar-hide {
                                                        -ms-overflow-style: none;
                                                        scrollbar-width: none;
                                                    }
                                                `}),w.jsxs("div",{className:"p-3 rounded-xl bg-white/60 border border-white/40 shrink-0",children:[w.jsx("h4",{className:"text-[10px] font-bold text-orange-600 uppercase tracking-wider mb-0.5",children:"Breakfast"}),w.jsx("p",{className:"text-gray-800 font-medium text-xs leading-tight break-words",children:d(M.Breakfast)})]}),w.jsxs("div",{className:"p-3 rounded-xl bg-white/60 border border-white/40 shrink-0",children:[w.jsx("h4",{className:"text-[10px] font-bold text-green-600 uppercase tracking-wider mb-0.5",children:"Lunch"}),w.jsx("p",{className:"text-gray-800 font-medium text-xs leading-tight break-words",children:d(M.Lunch)})]}),w.jsxs("div",{className:"p-3 rounded-xl bg-white/60 border border-white/40 shrink-0",children:[w.jsx("h4",{className:"text-[10px] font-bold text-yellow-600 uppercase tracking-wider mb-0.5",children:"Snacks"}),w.jsx("p",{className:"text-gray-800 font-medium text-xs leading-tight break-words",children:d(M.Snacks)})]}),w.jsxs("div",{className:"p-3 rounded-xl bg-white/60 border border-white/40 shrink-0 mb-4",children:[w.jsx("h4",{className:"text-[10px] font-bold text-blue-600 uppercase tracking-wider mb-0.5",children:"Dinner"}),w.jsx("p",{className:"text-gray-800 font-medium text-xs leading-tight break-words",children:d(M.Dinner)})]})]},R)})})]})})()})]})})},R4=()=>{};var Yw={};const qx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},D4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Gx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,d=a+2<t.length,p=d?t[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let T=(h&15)<<2|p>>6,S=p&63;d||(S=64,u||(T=64)),r.push(n[y],n[v],n[T],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):D4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||v==null)throw new I4;const T=l<<2|h>>4;if(r.push(T),p!==64){const S=h<<4&240|p>>2;if(r.push(S),v!==64){const R=p<<6&192|v;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class I4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N4=function(t){const e=qx(t);return Gx.encodeByteArray(e,!0)},rd=function(t){return N4(t).replace(/\./g,"")},Yx=function(t){try{return Gx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function M4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const P4=()=>M4().__FIREBASE_DEFAULTS__,V4=()=>{if(typeof process>"u"||typeof Yw>"u")return;const t=Yw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},O4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Yx(t[1]);return e&&JSON.parse(e)},Od=()=>{try{return R4()||P4()||V4()||O4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Kx=t=>Od()?.emulatorHosts?.[t],k4=t=>{const e=Kx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Xx=()=>Od()?.config,$x=t=>Od()?.[`_${t}`];class L4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Il(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qx(t){return(await fetch(t,{credentials:"include"})).ok}function j4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[rd(JSON.stringify(n)),rd(JSON.stringify(u)),""].join(".")}const nc={};function U4(){const t={prod:[],emulator:[]};for(const e of Object.keys(nc))nc[e]?t.emulator.push(e):t.prod.push(e);return t}function z4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Kw=!1;function Wx(t,e){if(typeof window>"u"||typeof document>"u"||!Il(window.location.host)||nc[t]===e||nc[t]||Kw)return;nc[t]=e;function n(T){return`__firebase__banner__${T}`}const r="__firebase__banner",l=U4().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function d(T,S){T.setAttribute("width","24"),T.setAttribute("id",S),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Kw=!0,u()},T}function y(T,S){T.setAttribute("id",S),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function v(){const T=z4(r),S=n("text"),R=document.getElementById(S)||document.createElement("span"),M=n("learnmore"),N=document.getElementById(M)||document.createElement("a"),j=n("preprendIcon"),B=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const F=T.element;h(F),y(N,M);const W=p();d(B,j),F.append(B,R,N,W),document.body.appendChild(F)}l?(R.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function B4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function F4(){const t=Od()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function H4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Zx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function q4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function G4(){const t=dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Y4(){return!F4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jx(){try{return typeof indexedDB=="object"}catch{return!1}}function eC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}function K4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const X4="FirebaseError";class Pi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=X4,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oo.prototype.create)}}class oo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?$4(l,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Pi(a,h,r)}}function $4(t,e){return t.replace(Q4,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const Q4=/\{\$([^}]+)}/g;function W4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],u=e[a];if(Xw(l)&&Xw(u)){if(!Qs(l,u))return!1}else if(l!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function Xw(t){return t!==null&&typeof t=="object"}function Vc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Yu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Z4(t,e){const n=new J4(t,e);return n.subscribe.bind(n)}class J4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");eL(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Ng),a.error===void 0&&(a.error=Ng),a.complete===void 0&&(a.complete=Ng);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ng(){}const tL=1e3,nL=2,iL=14400*1e3,rL=.5;function $w(t,e=tL,n=nL){const r=e*Math.pow(n,t),a=Math.round(rL*r*(Math.random()-.5)*2);return Math.min(iL,r+a)}function yt(t){return t&&t._delegate?t._delegate:t}class Ii{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fa="[DEFAULT]";class sL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new L4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oL(e))try{this.getOrInitializeService({instanceIdentifier:Fa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fa){return this.instances.has(e)}getOptions(e=Fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&u.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fa){return this.component?this.component.multipleInstances?e:Fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aL(t){return t===Fa?void 0:t}function oL(t){return t.instantiationMode==="EAGER"}class lL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const uL={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},cL=Le.INFO,hL={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},fL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=hL[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kd{constructor(e){this.name=e,this._logLevel=cL,this._logHandler=fL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const dL=(t,e)=>e.some(n=>t instanceof n);let Qw,Ww;function mL(){return Qw||(Qw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pL(){return Ww||(Ww=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tC=new WeakMap,Ty=new WeakMap,nC=new WeakMap,Mg=new WeakMap,Uv=new WeakMap;function gL(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Hs(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&tC.set(n,t)}).catch(()=>{}),Uv.set(e,t),e}function yL(t){if(Ty.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Ty.set(t,e)}let Ey={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ty.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vL(t){Ey=t(Ey)}function _L(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pg(this),e,...n);return nC.set(r,e.sort?e.sort():[e]),Hs(r)}:pL().includes(t)?function(...e){return t.apply(Pg(this),e),Hs(tC.get(this))}:function(...e){return Hs(t.apply(Pg(this),e))}}function TL(t){return typeof t=="function"?_L(t):(t instanceof IDBTransaction&&yL(t),dL(t,mL())?new Proxy(t,Ey):t)}function Hs(t){if(t instanceof IDBRequest)return gL(t);if(Mg.has(t))return Mg.get(t);const e=TL(t);return e!==t&&(Mg.set(t,e),Uv.set(e,t)),e}const Pg=t=>Uv.get(t);function iC(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=Hs(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Hs(u.result),d.oldVersion,d.newVersion,Hs(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const EL=["get","getKey","getAll","getAllKeys","count"],bL=["put","add","delete","clear"],Vg=new Map;function Zw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vg.get(e))return Vg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=bL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||EL.includes(n)))return;const l=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&d.done]))[0]};return Vg.set(e,l),l}vL(t=>({...t,get:(e,n,r)=>Zw(e,n)||t.get(e,n,r),has:(e,n)=>!!Zw(e,n)||t.has(e,n)}));class wL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function SL(t){return t.getComponent()?.type==="VERSION"}const by="@firebase/app",Jw="0.14.6";const Kr=new kd("@firebase/app"),AL="@firebase/app-compat",xL="@firebase/analytics-compat",CL="@firebase/analytics",RL="@firebase/app-check-compat",DL="@firebase/app-check",IL="@firebase/auth",NL="@firebase/auth-compat",ML="@firebase/database",PL="@firebase/data-connect",VL="@firebase/database-compat",OL="@firebase/functions",kL="@firebase/functions-compat",LL="@firebase/installations",jL="@firebase/installations-compat",UL="@firebase/messaging",zL="@firebase/messaging-compat",BL="@firebase/performance",FL="@firebase/performance-compat",HL="@firebase/remote-config",qL="@firebase/remote-config-compat",GL="@firebase/storage",YL="@firebase/storage-compat",KL="@firebase/firestore",XL="@firebase/ai",$L="@firebase/firestore-compat",QL="firebase",WL="12.6.0";const wy="[DEFAULT]",ZL={[by]:"fire-core",[AL]:"fire-core-compat",[CL]:"fire-analytics",[xL]:"fire-analytics-compat",[DL]:"fire-app-check",[RL]:"fire-app-check-compat",[IL]:"fire-auth",[NL]:"fire-auth-compat",[ML]:"fire-rtdb",[PL]:"fire-data-connect",[VL]:"fire-rtdb-compat",[OL]:"fire-fn",[kL]:"fire-fn-compat",[LL]:"fire-iid",[jL]:"fire-iid-compat",[UL]:"fire-fcm",[zL]:"fire-fcm-compat",[BL]:"fire-perf",[FL]:"fire-perf-compat",[HL]:"fire-rc",[qL]:"fire-rc-compat",[GL]:"fire-gcs",[YL]:"fire-gcs-compat",[KL]:"fire-fst",[$L]:"fire-fst-compat",[XL]:"fire-vertex","fire-js":"fire-js",[QL]:"fire-js-all"};const sd=new Map,JL=new Map,Sy=new Map;function eS(t,e){try{t.container.addComponent(e)}catch(n){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dr(t){const e=t.name;if(Sy.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;Sy.set(e,t);for(const n of sd.values())eS(n,t);for(const n of JL.values())eS(n,t);return!0}function lo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ii(t){return t==null?!1:t.settings!==void 0}const e6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new oo("app","Firebase",e6);class t6{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}const Nl=WL;function rC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:wy,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw qs.create("bad-app-name",{appName:String(a)});if(n||(n=Xx()),!n)throw qs.create("no-options");const l=sd.get(a);if(l){if(Qs(n,l.options)&&Qs(r,l.config))return l;throw qs.create("duplicate-app",{appName:a})}const u=new lL(a);for(const d of Sy.values())u.addComponent(d);const h=new t6(n,r,u);return sd.set(a,h),h}function zv(t=wy){const e=sd.get(t);if(!e&&t===wy&&Xx())return rC();if(!e)throw qs.create("no-app",{appName:t});return e}function ci(t,e,n){let r=ZL[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(u.join(" "));return}dr(new Ii(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const n6="firebase-heartbeat-database",i6=1,pc="firebase-heartbeat-store";let Og=null;function sC(){return Og||(Og=iC(n6,i6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pc)}catch(n){console.warn(n)}}}}).catch(t=>{throw qs.create("idb-open",{originalErrorMessage:t.message})})),Og}async function r6(t){try{const n=(await sC()).transaction(pc),r=await n.objectStore(pc).get(aC(t));return await n.done,r}catch(e){if(e instanceof Pi)Kr.warn(e.message);else{const n=qs.create("idb-get",{originalErrorMessage:e?.message});Kr.warn(n.message)}}}async function tS(t,e){try{const r=(await sC()).transaction(pc,"readwrite");await r.objectStore(pc).put(e,aC(t)),await r.done}catch(n){if(n instanceof Pi)Kr.warn(n.message);else{const r=qs.create("idb-set",{originalErrorMessage:n?.message});Kr.warn(r.message)}}}function aC(t){return`${t.name}!${t.options.appId}`}const s6=1024,a6=30;class o6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new u6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=nS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>a6){const a=c6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Kr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=nS(),{heartbeatsToSend:n,unsentEntries:r}=l6(this._heartbeatsCache.heartbeats),a=rd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Kr.warn(e),""}}}function nS(){return new Date().toISOString().substring(0,10)}function l6(t,e=s6){const n=[];let r=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),iS(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),iS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class u6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jx()?eC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await r6(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return tS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return tS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function iS(t){return rd(JSON.stringify({version:2,heartbeats:t})).length}function c6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function h6(t){dr(new Ii("platform-logger",e=>new wL(e),"PRIVATE")),dr(new Ii("heartbeat",e=>new o6(e),"PRIVATE")),ci(by,Jw,t),ci(by,Jw,"esm2020"),ci("fire-js","")}h6("");var f6="firebase",d6="12.6.0";ci(f6,d6,"app");var rS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gs,oC;(function(){var t;function e(D,C){function I(){}I.prototype=C.prototype,D.F=C.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(L,k,H){for(var P=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)P[ze-2]=arguments[ze];return C.prototype[k].apply(L,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,C,I){I||(I=0);const L=Array(16);if(typeof C=="string")for(var k=0;k<16;++k)L[k]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(k=0;k<16;++k)L[k]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=D.g[0],I=D.g[1],k=D.g[2];let H=D.g[3],P;P=C+(H^I&(k^H))+L[0]+3614090360&4294967295,C=I+(P<<7&4294967295|P>>>25),P=H+(k^C&(I^k))+L[1]+3905402710&4294967295,H=C+(P<<12&4294967295|P>>>20),P=k+(I^H&(C^I))+L[2]+606105819&4294967295,k=H+(P<<17&4294967295|P>>>15),P=I+(C^k&(H^C))+L[3]+3250441966&4294967295,I=k+(P<<22&4294967295|P>>>10),P=C+(H^I&(k^H))+L[4]+4118548399&4294967295,C=I+(P<<7&4294967295|P>>>25),P=H+(k^C&(I^k))+L[5]+1200080426&4294967295,H=C+(P<<12&4294967295|P>>>20),P=k+(I^H&(C^I))+L[6]+2821735955&4294967295,k=H+(P<<17&4294967295|P>>>15),P=I+(C^k&(H^C))+L[7]+4249261313&4294967295,I=k+(P<<22&4294967295|P>>>10),P=C+(H^I&(k^H))+L[8]+1770035416&4294967295,C=I+(P<<7&4294967295|P>>>25),P=H+(k^C&(I^k))+L[9]+2336552879&4294967295,H=C+(P<<12&4294967295|P>>>20),P=k+(I^H&(C^I))+L[10]+4294925233&4294967295,k=H+(P<<17&4294967295|P>>>15),P=I+(C^k&(H^C))+L[11]+2304563134&4294967295,I=k+(P<<22&4294967295|P>>>10),P=C+(H^I&(k^H))+L[12]+1804603682&4294967295,C=I+(P<<7&4294967295|P>>>25),P=H+(k^C&(I^k))+L[13]+4254626195&4294967295,H=C+(P<<12&4294967295|P>>>20),P=k+(I^H&(C^I))+L[14]+2792965006&4294967295,k=H+(P<<17&4294967295|P>>>15),P=I+(C^k&(H^C))+L[15]+1236535329&4294967295,I=k+(P<<22&4294967295|P>>>10),P=C+(k^H&(I^k))+L[1]+4129170786&4294967295,C=I+(P<<5&4294967295|P>>>27),P=H+(I^k&(C^I))+L[6]+3225465664&4294967295,H=C+(P<<9&4294967295|P>>>23),P=k+(C^I&(H^C))+L[11]+643717713&4294967295,k=H+(P<<14&4294967295|P>>>18),P=I+(H^C&(k^H))+L[0]+3921069994&4294967295,I=k+(P<<20&4294967295|P>>>12),P=C+(k^H&(I^k))+L[5]+3593408605&4294967295,C=I+(P<<5&4294967295|P>>>27),P=H+(I^k&(C^I))+L[10]+38016083&4294967295,H=C+(P<<9&4294967295|P>>>23),P=k+(C^I&(H^C))+L[15]+3634488961&4294967295,k=H+(P<<14&4294967295|P>>>18),P=I+(H^C&(k^H))+L[4]+3889429448&4294967295,I=k+(P<<20&4294967295|P>>>12),P=C+(k^H&(I^k))+L[9]+568446438&4294967295,C=I+(P<<5&4294967295|P>>>27),P=H+(I^k&(C^I))+L[14]+3275163606&4294967295,H=C+(P<<9&4294967295|P>>>23),P=k+(C^I&(H^C))+L[3]+4107603335&4294967295,k=H+(P<<14&4294967295|P>>>18),P=I+(H^C&(k^H))+L[8]+1163531501&4294967295,I=k+(P<<20&4294967295|P>>>12),P=C+(k^H&(I^k))+L[13]+2850285829&4294967295,C=I+(P<<5&4294967295|P>>>27),P=H+(I^k&(C^I))+L[2]+4243563512&4294967295,H=C+(P<<9&4294967295|P>>>23),P=k+(C^I&(H^C))+L[7]+1735328473&4294967295,k=H+(P<<14&4294967295|P>>>18),P=I+(H^C&(k^H))+L[12]+2368359562&4294967295,I=k+(P<<20&4294967295|P>>>12),P=C+(I^k^H)+L[5]+4294588738&4294967295,C=I+(P<<4&4294967295|P>>>28),P=H+(C^I^k)+L[8]+2272392833&4294967295,H=C+(P<<11&4294967295|P>>>21),P=k+(H^C^I)+L[11]+1839030562&4294967295,k=H+(P<<16&4294967295|P>>>16),P=I+(k^H^C)+L[14]+4259657740&4294967295,I=k+(P<<23&4294967295|P>>>9),P=C+(I^k^H)+L[1]+2763975236&4294967295,C=I+(P<<4&4294967295|P>>>28),P=H+(C^I^k)+L[4]+1272893353&4294967295,H=C+(P<<11&4294967295|P>>>21),P=k+(H^C^I)+L[7]+4139469664&4294967295,k=H+(P<<16&4294967295|P>>>16),P=I+(k^H^C)+L[10]+3200236656&4294967295,I=k+(P<<23&4294967295|P>>>9),P=C+(I^k^H)+L[13]+681279174&4294967295,C=I+(P<<4&4294967295|P>>>28),P=H+(C^I^k)+L[0]+3936430074&4294967295,H=C+(P<<11&4294967295|P>>>21),P=k+(H^C^I)+L[3]+3572445317&4294967295,k=H+(P<<16&4294967295|P>>>16),P=I+(k^H^C)+L[6]+76029189&4294967295,I=k+(P<<23&4294967295|P>>>9),P=C+(I^k^H)+L[9]+3654602809&4294967295,C=I+(P<<4&4294967295|P>>>28),P=H+(C^I^k)+L[12]+3873151461&4294967295,H=C+(P<<11&4294967295|P>>>21),P=k+(H^C^I)+L[15]+530742520&4294967295,k=H+(P<<16&4294967295|P>>>16),P=I+(k^H^C)+L[2]+3299628645&4294967295,I=k+(P<<23&4294967295|P>>>9),P=C+(k^(I|~H))+L[0]+4096336452&4294967295,C=I+(P<<6&4294967295|P>>>26),P=H+(I^(C|~k))+L[7]+1126891415&4294967295,H=C+(P<<10&4294967295|P>>>22),P=k+(C^(H|~I))+L[14]+2878612391&4294967295,k=H+(P<<15&4294967295|P>>>17),P=I+(H^(k|~C))+L[5]+4237533241&4294967295,I=k+(P<<21&4294967295|P>>>11),P=C+(k^(I|~H))+L[12]+1700485571&4294967295,C=I+(P<<6&4294967295|P>>>26),P=H+(I^(C|~k))+L[3]+2399980690&4294967295,H=C+(P<<10&4294967295|P>>>22),P=k+(C^(H|~I))+L[10]+4293915773&4294967295,k=H+(P<<15&4294967295|P>>>17),P=I+(H^(k|~C))+L[1]+2240044497&4294967295,I=k+(P<<21&4294967295|P>>>11),P=C+(k^(I|~H))+L[8]+1873313359&4294967295,C=I+(P<<6&4294967295|P>>>26),P=H+(I^(C|~k))+L[15]+4264355552&4294967295,H=C+(P<<10&4294967295|P>>>22),P=k+(C^(H|~I))+L[6]+2734768916&4294967295,k=H+(P<<15&4294967295|P>>>17),P=I+(H^(k|~C))+L[13]+1309151649&4294967295,I=k+(P<<21&4294967295|P>>>11),P=C+(k^(I|~H))+L[4]+4149444226&4294967295,C=I+(P<<6&4294967295|P>>>26),P=H+(I^(C|~k))+L[11]+3174756917&4294967295,H=C+(P<<10&4294967295|P>>>22),P=k+(C^(H|~I))+L[2]+718787259&4294967295,k=H+(P<<15&4294967295|P>>>17),P=I+(H^(k|~C))+L[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,D.g[2]=D.g[2]+k&4294967295,D.g[3]=D.g[3]+H&4294967295}r.prototype.v=function(D,C){C===void 0&&(C=D.length);const I=C-this.blockSize,L=this.C;let k=this.h,H=0;for(;H<C;){if(k==0)for(;H<=I;)a(this,D,H),H+=this.blockSize;if(typeof D=="string"){for(;H<C;)if(L[k++]=D.charCodeAt(H++),k==this.blockSize){a(this,L),k=0;break}}else for(;H<C;)if(L[k++]=D[H++],k==this.blockSize){a(this,L),k=0;break}}this.h=k,this.o+=C},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;C=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=C&255,C/=256;for(this.v(D),D=Array(16),C=0,I=0;I<4;++I)for(let L=0;L<32;L+=8)D[C++]=this.g[I]>>>L&255;return D};function l(D,C){var I=h;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=C(D)}function u(D,C){this.h=C;const I=[];let L=!0;for(let k=D.length-1;k>=0;k--){const H=D[k]|0;L&&H==C||(I[k]=H,L=!1)}this.g=I}var h={};function d(D){return-128<=D&&D<128?l(D,function(C){return new u([C|0],C<0?-1:0)}):new u([D|0],D<0?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return v;if(D<0)return N(p(-D));const C=[];let I=1;for(let L=0;D>=I;L++)C[L]=D/I|0,I*=4294967296;return new u(C,0)}function y(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return N(y(D.substring(1),C));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(C,8));let L=v;for(let H=0;H<D.length;H+=8){var k=Math.min(8,D.length-H);const P=parseInt(D.substring(H,H+k),C);k<8?(k=p(Math.pow(C,k)),L=L.j(k).add(p(P))):(L=L.j(I),L=L.add(p(P)))}return L}var v=d(0),T=d(1),S=d(16777216);t=u.prototype,t.m=function(){if(M(this))return-N(this).m();let D=0,C=1;for(let I=0;I<this.g.length;I++){const L=this.i(I);D+=(L>=0?L:4294967296+L)*C,C*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(R(this))return"0";if(M(this))return"-"+N(this).toString(D);const C=p(Math.pow(D,6));var I=this;let L="";for(;;){const k=W(I,C).g;I=j(I,k.j(C));let H=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=k,R(I))return H+L;for(;H.length<6;)H="0"+H;L=H+L}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function R(D){if(D.h!=0)return!1;for(let C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function M(D){return D.h==-1}t.l=function(D){return D=j(this,D),M(D)?-1:R(D)?0:1};function N(D){const C=D.g.length,I=[];for(let L=0;L<C;L++)I[L]=~D.g[L];return new u(I,~D.h).add(T)}t.abs=function(){return M(this)?N(this):this},t.add=function(D){const C=Math.max(this.g.length,D.g.length),I=[];let L=0;for(let k=0;k<=C;k++){let H=L+(this.i(k)&65535)+(D.i(k)&65535),P=(H>>>16)+(this.i(k)>>>16)+(D.i(k)>>>16);L=P>>>16,H&=65535,P&=65535,I[k]=P<<16|H}return new u(I,I[I.length-1]&-2147483648?-1:0)};function j(D,C){return D.add(N(C))}t.j=function(D){if(R(this)||R(D))return v;if(M(this))return M(D)?N(this).j(N(D)):N(N(this).j(D));if(M(D))return N(this.j(N(D)));if(this.l(S)<0&&D.l(S)<0)return p(this.m()*D.m());const C=this.g.length+D.g.length,I=[];for(var L=0;L<2*C;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(let k=0;k<D.g.length;k++){const H=this.i(L)>>>16,P=this.i(L)&65535,ze=D.i(k)>>>16,Ge=D.i(k)&65535;I[2*L+2*k]+=P*Ge,B(I,2*L+2*k),I[2*L+2*k+1]+=H*Ge,B(I,2*L+2*k+1),I[2*L+2*k+1]+=P*ze,B(I,2*L+2*k+1),I[2*L+2*k+2]+=H*ze,B(I,2*L+2*k+2)}for(D=0;D<C;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=C;D<2*C;D++)I[D]=0;return new u(I,0)};function B(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function F(D,C){this.g=D,this.h=C}function W(D,C){if(R(C))throw Error("division by zero");if(R(D))return new F(v,v);if(M(D))return C=W(N(D),C),new F(N(C.g),N(C.h));if(M(C))return C=W(D,N(C)),new F(N(C.g),C.h);if(D.g.length>30){if(M(D)||M(C))throw Error("slowDivide_ only works with positive integers.");for(var I=T,L=C;L.l(D)<=0;)I=ee(I),L=ee(L);var k=oe(I,1),H=oe(L,1);for(L=oe(L,2),I=oe(I,2);!R(L);){var P=H.add(L);P.l(D)<=0&&(k=k.add(I),H=P),L=oe(L,1),I=oe(I,1)}return C=j(D,k.j(C)),new F(k,C)}for(k=v;D.l(C)>=0;){for(I=Math.max(1,Math.floor(D.m()/C.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),H=p(I),P=H.j(C);M(P)||P.l(D)>0;)I-=L,H=p(I),P=H.j(C);R(H)&&(H=T),k=k.add(H),D=j(D,P)}return new F(k,D)}t.B=function(D){return W(this,D).h},t.and=function(D){const C=Math.max(this.g.length,D.g.length),I=[];for(let L=0;L<C;L++)I[L]=this.i(L)&D.i(L);return new u(I,this.h&D.h)},t.or=function(D){const C=Math.max(this.g.length,D.g.length),I=[];for(let L=0;L<C;L++)I[L]=this.i(L)|D.i(L);return new u(I,this.h|D.h)},t.xor=function(D){const C=Math.max(this.g.length,D.g.length),I=[];for(let L=0;L<C;L++)I[L]=this.i(L)^D.i(L);return new u(I,this.h^D.h)};function ee(D){const C=D.g.length+1,I=[];for(let L=0;L<C;L++)I[L]=D.i(L)<<1|D.i(L-1)>>>31;return new u(I,D.h)}function oe(D,C){const I=C>>5;C%=32;const L=D.g.length-I,k=[];for(let H=0;H<L;H++)k[H]=C>0?D.i(H+I)>>>C|D.i(H+I+1)<<32-C:D.i(H+I);return new u(k,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,oC=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Gs=u}).apply(typeof rS<"u"?rS:typeof self<"u"?self:typeof window<"u"?window:{});var Rf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lC,Ku,uC,Ff,Ay,cC,hC,fC;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rf=="object"&&Rf];for(var _=0;_<f.length;++_){var b=f[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function a(f,_){if(_)e:{var b=r;f=f.split(".");for(var x=0;x<f.length-1;x++){var G=f[x];if(!(G in b))break e;b=b[G]}f=f[f.length-1],x=b[f],_=_(x),_!=x&&_!=null&&e(b,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var b=[],x;for(x in _)Object.prototype.hasOwnProperty.call(_,x)&&b.push([x,_[x]]);return b}});var l=l||{},u=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,b){return f.call.apply(f.bind,arguments)}function p(f,_,b){return p=d,p.apply(null,arguments)}function y(f,_){var b=Array.prototype.slice.call(arguments,1);return function(){var x=b.slice();return x.push.apply(x,arguments),f.apply(this,x)}}function v(f,_){function b(){}b.prototype=_.prototype,f.Z=_.prototype,f.prototype=new b,f.prototype.constructor=f,f.Ob=function(x,G,$){for(var ce=Array(arguments.length-2),De=2;De<arguments.length;De++)ce[De-2]=arguments[De];return _.prototype[G].apply(x,ce)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function S(f){const _=f.length;if(_>0){const b=Array(_);for(let x=0;x<_;x++)b[x]=f[x];return b}return[]}function R(f,_){for(let x=1;x<arguments.length;x++){const G=arguments[x];var b=typeof G;if(b=b!="object"?b:G?Array.isArray(G)?"array":b:"null",b=="array"||b=="object"&&typeof G.length=="number"){b=f.length||0;const $=G.length||0;f.length=b+$;for(let ce=0;ce<$;ce++)f[b+ce]=G[ce]}else f.push(G)}}class M{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function N(f){u.setTimeout(()=>{throw f},0)}function j(){var f=D;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class B{constructor(){this.h=this.g=null}add(_,b){const x=F.get();x.set(_,b),this.h?this.h.next=x:this.g=x,this.h=x}}var F=new M(()=>new W,f=>f.reset());class W{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,oe=!1,D=new B,C=()=>{const f=Promise.resolve(void 0);ee=()=>{f.then(I)}};function I(){for(var f;f=j();){try{f.h.call(f.g)}catch(b){N(b)}var _=F;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}oe=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};u.addEventListener("test",b,_),u.removeEventListener("test",b,_)}catch{}return f})();function P(f){return/^[\s\xa0]*$/.test(f)}function ze(f,_){k.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(ze,k),ze.prototype.init=function(f,_){const b=this.type=f.type,x=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(b=="mouseover"?_=f.fromElement:b=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ze.Z.h.call(this)},ze.prototype.h=function(){ze.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ge="closure_listenable_"+(Math.random()*1e6|0),Z=0;function le(f,_,b,x,G){this.listener=f,this.proxy=null,this.src=_,this.type=b,this.capture=!!x,this.ha=G,this.key=++Z,this.da=this.fa=!1}function de(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ae(f,_,b){for(const x in f)_.call(b,f[x],x,f)}function Me(f,_){for(const b in f)_.call(void 0,f[b],b,f)}function U(f){const _={};for(const b in f)_[b]=f[b];return _}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(f,_){let b,x;for(let G=1;G<arguments.length;G++){x=arguments[G];for(b in x)f[b]=x[b];for(let $=0;$<ie.length;$++)b=ie[$],Object.prototype.hasOwnProperty.call(x,b)&&(f[b]=x[b])}}function te(f){this.src=f,this.g={},this.h=0}te.prototype.add=function(f,_,b,x,G){const $=f.toString();f=this.g[$],f||(f=this.g[$]=[],this.h++);const ce=ge(f,_,x,G);return ce>-1?(_=f[ce],b||(_.fa=!1)):(_=new le(_,this.src,$,!!x,G),_.fa=b,f.push(_)),_};function he(f,_){const b=_.type;if(b in f.g){var x=f.g[b],G=Array.prototype.indexOf.call(x,_,void 0),$;($=G>=0)&&Array.prototype.splice.call(x,G,1),$&&(de(_),f.g[b].length==0&&(delete f.g[b],f.h--))}}function ge(f,_,b,x){for(let G=0;G<f.length;++G){const $=f[G];if(!$.da&&$.listener==_&&$.capture==!!b&&$.ha==x)return G}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),mt={};function $e(f,_,b,x,G){if(Array.isArray(_)){for(let $=0;$<_.length;$++)$e(f,_[$],b,x,G);return null}return b=ca(b),f&&f[Ge]?f.J(_,b,h(x)?!!x.capture:!1,G):Bn(f,_,b,!1,x,G)}function Bn(f,_,b,x,G,$){if(!_)throw Error("Invalid event type");const ce=h(G)?!!G.capture:!!G;let De=vr(f);if(De||(f[Se]=De=new te(f)),b=De.add(_,b,x,ce,$),b.proxy)return b;if(x=di(),b.proxy=x,x.src=f,x.listener=b,f.addEventListener)H||(G=ce),G===void 0&&(G=!1),f.addEventListener(_.toString(),x,G);else if(f.attachEvent)f.attachEvent(mi(_.toString()),x);else if(f.addListener&&f.removeListener)f.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return b}function di(){function f(b){return _.call(f.src,f.listener,b)}const _=Jr;return f}function Vi(f,_,b,x,G){if(Array.isArray(_))for(var $=0;$<_.length;$++)Vi(f,_[$],b,x,G);else x=h(x)?!!x.capture:!!x,b=ca(b),f&&f[Ge]?(f=f.i,$=String(_).toString(),$ in f.g&&(_=f.g[$],b=ge(_,b,x,G),b>-1&&(de(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete f.g[$],f.h--)))):f&&(f=vr(f))&&(_=f.g[_.toString()],f=-1,_&&(f=ge(_,b,x,G)),(b=f>-1?_[f]:null)&&yr(b))}function yr(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Ge])he(_.i,f);else{var b=f.type,x=f.proxy;_.removeEventListener?_.removeEventListener(b,x,f.capture):_.detachEvent?_.detachEvent(mi(b),x):_.addListener&&_.removeListener&&_.removeListener(x),(b=vr(_))?(he(b,f),b.h==0&&(b.src=null,_[Se]=null)):de(f)}}}function mi(f){return f in mt?mt[f]:mt[f]="on"+f}function Jr(f,_){if(f.da)f=!0;else{_=new ze(_,this);const b=f.listener,x=f.ha||f.src;f.fa&&yr(f),f=b.call(x,_)}return f}function vr(f){return f=f[Se],f instanceof te?f:null}var es="__closure_events_fn_"+(Math.random()*1e9>>>0);function ca(f){return typeof f=="function"?f:(f[es]||(f[es]=function(_){return f.handleEvent(_)}),f[es])}function _t(){L.call(this),this.i=new te(this),this.M=this,this.G=null}v(_t,L),_t.prototype[Ge]=!0,_t.prototype.removeEventListener=function(f,_,b,x){Vi(this,f,_,b,x)};function rt(f,_){var b,x=f.G;if(x)for(b=[];x;x=x.G)b.push(x);if(f=f.M,x=_.type||_,typeof _=="string")_=new k(_,f);else if(_ instanceof k)_.target=_.target||f;else{var G=_;_=new k(x,f),ue(_,G)}G=!0;let $,ce;if(b)for(ce=b.length-1;ce>=0;ce--)$=_.g=b[ce],G=Oi($,x,!0,_)&&G;if($=_.g=f,G=Oi($,x,!0,_)&&G,G=Oi($,x,!1,_)&&G,b)for(ce=0;ce<b.length;ce++)$=_.g=b[ce],G=Oi($,x,!1,_)&&G}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const b=f.g[_];for(let x=0;x<b.length;x++)de(b[x]);delete f.g[_],f.h--}}this.G=null},_t.prototype.J=function(f,_,b,x){return this.i.add(String(f),_,!1,b,x)},_t.prototype.K=function(f,_,b,x){return this.i.add(String(f),_,!0,b,x)};function Oi(f,_,b,x){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let G=!0;for(let $=0;$<_.length;++$){const ce=_[$];if(ce&&!ce.da&&ce.capture==b){const De=ce.listener,xt=ce.ha||ce.src;ce.fa&&he(f.i,ce),G=De.call(xt,x)!==!1&&G}}return G&&!x.defaultPrevented}function um(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(f,_||0)}function Kc(f){f.g=um(()=>{f.g=null,f.i&&(f.i=!1,Kc(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class mn extends L{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Kc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ha(f){L.call(this),this.h=f,this.g={}}v(ha,L);var jl=[];function Ul(f){Ae(f.g,function(_,b){this.g.hasOwnProperty(b)&&yr(_)},f),f.g={}}ha.prototype.N=function(){ha.Z.N.call(this),Ul(this)},ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ts=u.JSON.stringify,cm=u.JSON.parse,Xc=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function $c(){}function Qc(){}var pi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $t(){k.call(this,"d")}v($t,k);function Fn(){k.call(this,"c")}v(Fn,k);var At={},Wc=null;function fo(){return Wc=Wc||new _t}At.Ia="serverreachability";function Zc(f){k.call(this,At.Ia,f)}v(Zc,k);function ki(f){const _=fo();rt(_,new Zc(_))}At.STAT_EVENT="statevent";function fa(f,_){k.call(this,At.STAT_EVENT,f),this.stat=_}v(fa,k);function Nt(f){const _=fo();rt(_,new fa(_,f))}At.Ja="timingevent";function Li(f,_){k.call(this,At.Ja,f),this.size=_}v(Li,k);function ji(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},_)}function gi(){this.g=!0}gi.prototype.ua=function(){this.g=!1};function hm(f,_,b,x,G,$){f.info(function(){if(f.g)if($){var ce="",De=$.split("&");for(let Ye=0;Ye<De.length;Ye++){var xt=De[Ye].split("=");if(xt.length>1){const ct=xt[0];xt=xt[1];const Yn=ct.split("_");ce=Yn.length>=2&&Yn[1]=="type"?ce+(ct+"="+xt+"&"):ce+(ct+"=redacted&")}}}else ce=null;else ce=$;return"XMLHTTP REQ ("+x+") [attempt "+G+"]: "+_+`
`+b+`
`+ce})}function Jc(f,_,b,x,G,$,ce){f.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+G+"]: "+_+`
`+b+`
`+$+" "+ce})}function Ui(f,_,b,x){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+fm(f,b)+(x?" "+x:"")})}function da(f,_){f.info(function(){return"TIMEOUT: "+_})}gi.prototype.info=function(){};function fm(f,_){if(!f.g)return _;if(!_)return null;try{const $=JSON.parse(_);if($){for(f=0;f<$.length;f++)if(Array.isArray($[f])){var b=$[f];if(!(b.length<2)){var x=b[1];if(Array.isArray(x)&&!(x.length<1)){var G=x[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ce=1;ce<x.length;ce++)x[ce]=""}}}}return ts($)}catch{return _}}var ma={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bl;function pa(){}v(pa,$c),pa.prototype.g=function(){return new XMLHttpRequest},Bl=new pa;function _r(f){return encodeURIComponent(String(f))}function eh(f){var _=1;f=f.split(":");const b=[];for(;_>0&&f.length;)b.push(f.shift()),_--;return f.length&&b.push(f.join(":")),b}function yi(f,_,b,x){this.j=f,this.i=_,this.l=b,this.S=x||1,this.V=new ha(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new vi}function vi(){this.i=null,this.g="",this.h=!1}var Mt={},Gt={};function zi(f,_,b){f.M=1,f.A=ga(Vt(_)),f.u=b,f.R=!0,mo(f,null)}function mo(f,_){f.F=Date.now(),Bi(f),f.B=Vt(f.A);var b=f.B,x=f.S;Array.isArray(x)||(x=[String(x)]),vo(b.i,"t",x),f.C=0,b=f.j.L,f.h=new vi,f.g=ph(f.j,b?_:null,!f.u),f.P>0&&(f.O=new mn(p(f.Y,f,f.g),f.P)),_=f.V,b=f.g,x=f.ba;var G="readystatechange";Array.isArray(G)||(G&&(jl[0]=G.toString()),G=jl);for(let $=0;$<G.length;$++){const ce=$e(b,G[$],x||_.handleEvent,!1,_.h||_);if(!ce)break;_.g[ce.key]=ce}_=f.J?U(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),ki(),hm(f.i,f.v,f.B,f.l,f.S,f.u)}yi.prototype.ba=function(f){f=f.target;const _=this.O;_&&Ei(f)==3?_.j():this.Y(f)},yi.prototype.Y=function(f){try{if(f==this.g)e:{const De=Ei(this.g),xt=this.g.ya(),Ye=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||De!=4||xt==7||(xt==8||Ye<=0?ki(3):ki(2)),Fi(this);var _=this.g.ca();this.X=_;var b=dm(this);if(this.o=_==200,Jc(this.i,this.v,this.B,this.l,this.S,De,_),this.o){if(this.U&&!this.L){t:{if(this.g){var x,G=this.g;if((x=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(x)){var $=x;break t}}$=null}if(f=$)Ui(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Hi(this,f);else{this.o=!1,this.m=3,Nt(12),In(this),Hn(this);break e}}if(this.R){f=!0;let ct;for(;!this.K&&this.C<b.length;)if(ct=nh(this,b),ct==Gt){De==4&&(this.m=4,Nt(14),f=!1),Ui(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Mt){this.m=4,Nt(15),Ui(this.i,this.l,b,"[Invalid Chunk]"),f=!1;break}else Ui(this.i,this.l,ct,null),Hi(this,ct);if(th(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||b.length!=0||this.h.h||(this.m=1,Nt(16),f=!1),this.o=this.o&&f,!f)Ui(this.i,this.l,b,"[Invalid Chunked Response]"),In(this),Hn(this);else if(b.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),nu(ce),ce.P=!0,Nt(11))}}else Ui(this.i,this.l,b,null),Hi(this,b);De==4&&In(this),this.o&&!this.K&&(De==4?hh(this.j,this):(this.o=!1,Bi(this)))}else Er(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),In(this),Hn(this)}}}catch{}finally{}};function dm(f){if(!th(f))return f.g.la();const _=Qt(f.g);if(_==="")return"";let b="";const x=_.length,G=Ei(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return In(f),Hn(f),"";f.h.i=new u.TextDecoder}for(let $=0;$<x;$++)f.h.h=!0,b+=f.h.i.decode(_[$],{stream:!(G&&$==x-1)});return _.length=0,f.h.g+=b,f.C=0,f.h.g}function th(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function nh(f,_){var b=f.C,x=_.indexOf(`
`,b);return x==-1?Gt:(b=Number(_.substring(b,x)),isNaN(b)?Mt:(x+=1,x+b>_.length?Gt:(_=_.slice(x,x+b),f.C=x+b,_)))}yi.prototype.cancel=function(){this.K=!0,In(this)};function Bi(f){f.T=Date.now()+f.H,po(f,f.H)}function po(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=ji(p(f.aa,f),_)}function Fi(f){f.D&&(u.clearTimeout(f.D),f.D=null)}yi.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(da(this.i,this.B),this.M!=2&&(ki(),Nt(17)),In(this),this.m=2,Hn(this)):po(this,this.T-f)};function Hn(f){f.j.I==0||f.K||hh(f.j,f)}function In(f){Fi(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,Ul(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function Hi(f,_){try{var b=f.j;if(b.I!=0&&(b.g==f||Gi(b.h,f))){if(!f.L&&Gi(b.h,f)&&b.I==3){try{var x=b.Ba.g.parse(_)}catch{x=null}if(Array.isArray(x)&&x.length==3){var G=x;if(G[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<f.F)wo(b),us(b);else break e;wa(b),Nt(18)}}else b.xa=G[1],0<b.xa-b.K&&G[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=ji(p(b.Va,b),6e3));qi(b.h)<=1&&b.ta&&(b.ta=void 0)}else Wi(b,11)}else if((f.L||b.g==f)&&wo(b),!P(_))for(G=b.Ba.g.parse(_),_=0;_<G.length;_++){let Ye=G[_];const ct=Ye[0];if(!(ct<=b.K))if(b.K=ct,Ye=Ye[1],b.I==2)if(Ye[0]=="c"){b.M=Ye[1],b.ba=Ye[2];const Yn=Ye[3];Yn!=null&&(b.ka=Yn,b.j.info("VER="+b.ka));const Zi=Ye[4];Zi!=null&&(b.za=Zi,b.j.info("SVER="+b.za));const bi=Ye[5];bi!=null&&typeof bi=="number"&&bi>0&&(x=1.5*bi,b.O=x,b.j.info("backChannelRequestTimeoutMs_="+x)),x=b;const wi=f.g;if(wi){const Sa=wi.g?wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sa){var $=x.h;$.g||Sa.indexOf("spdy")==-1&&Sa.indexOf("quic")==-1&&Sa.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ql($,$.h),$.h=null))}if(x.G){const So=wi.g?wi.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(x.wa=So,Qe(x.J,x.G,So))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-f.F,b.j.info("Handshake RTT: "+b.T+"ms")),x=b;var ce=f;if(x.na=mh(x,x.L?x.ba:null,x.W),ce.L){Gl(x.h,ce);var De=ce,xt=x.O;xt&&(De.H=xt),De.D&&(Fi(De),Bi(De)),x.g=ce}else uh(x);b.i.length>0&&Qi(b)}else Ye[0]!="stop"&&Ye[0]!="close"||Wi(b,7);else b.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Wi(b,7):eu(b):Ye[0]!="noop"&&b.l&&b.l.qa(Ye),b.A=0)}}ki(4)}catch{}}var Pt=class{constructor(f,_){this.g=f,this.map=_}};function Fl(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Hl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function qi(f){return f.h?1:f.g?f.g.size:0}function Gi(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function ql(f,_){f.g?f.g.add(_):f.h=_}function Gl(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Fl.prototype.cancel=function(){if(this.i=Yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Yl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const b of f.g.values())_=_.concat(b.G);return _}return S(f.i)}var ih=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function go(f,_){if(f){f=f.split("&");for(let b=0;b<f.length;b++){const x=f[b].indexOf("=");let G,$=null;x>=0?(G=f[b].substring(0,x),$=f[b].substring(x+1)):G=f[b],_(G,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Nn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof Nn?(this.l=f.l,Yt(this,f.j),this.o=f.o,this.g=f.g,ns(this,f.u),this.h=f.h,Kl(this,oh(f.i)),this.m=f.m):f&&(_=String(f).match(ih))?(this.l=!1,Yt(this,_[1]||"",!0),this.o=Yi(_[2]||""),this.g=Yi(_[3]||"",!0),ns(this,_[4]),this.h=Yi(_[5]||"",!0),Kl(this,_[6]||"",!0),this.m=Yi(_[7]||"")):(this.l=!1,this.i=new rs(null,this.l))}Nn.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(ya(_,yo,!0),":");var b=this.g;return(b||_=="file")&&(f.push("//"),(_=this.o)&&f.push(ya(_,yo,!0),"@"),f.push(_r(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&f.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(ya(b,b.charAt(0)=="/"?Xl:rh,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",ya(b,sh)),f.join("")},Nn.prototype.resolve=function(f){const _=Vt(this);let b=!!f.j;b?Yt(_,f.j):b=!!f.o,b?_.o=f.o:b=!!f.g,b?_.g=f.g:b=f.u!=null;var x=f.h;if(b)ns(_,f.u);else if(b=!!f.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var G=_.h.lastIndexOf("/");G!=-1&&(x=_.h.slice(0,G+1)+x)}if(G=x,G==".."||G==".")x="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){x=G.lastIndexOf("/",0)==0,G=G.split("/");const $=[];for(let ce=0;ce<G.length;){const De=G[ce++];De=="."?x&&ce==G.length&&$.push(""):De==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),x&&ce==G.length&&$.push("")):($.push(De),x=!0)}x=$.join("/")}else x=G}return b?_.h=x:b=f.i.toString()!=="",b?Kl(_,oh(f.i)):b=!!f.m,b&&(_.m=f.m),_};function Vt(f){return new Nn(f)}function Yt(f,_,b){f.j=b?Yi(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function ns(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function Kl(f,_,b){_ instanceof rs?(f.i=_,_o(f.i,f.l)):(b||(_=ya(_,is)),f.i=new rs(_,f.l))}function Qe(f,_,b){f.i.set(_,b)}function ga(f){return Qe(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Yi(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ya(f,_,b){return typeof f=="string"?(f=encodeURI(f).replace(_,_n),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function _n(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var yo=/[#\/\?@]/g,rh=/[#\?:]/g,Xl=/[#\?]/g,is=/[#\?@]/g,sh=/#/g;function rs(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Tn(f){f.g||(f.g=new Map,f.h=0,f.i&&go(f.i,function(_,b){f.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}t=rs.prototype,t.add=function(f,_){Tn(this),this.i=null,f=ss(this,f);let b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(_),this.h+=1,this};function ah(f,_){Tn(f),_=ss(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function $l(f,_){return Tn(f),_=ss(f,_),f.g.has(_)}t.forEach=function(f,_){Tn(this),this.g.forEach(function(b,x){b.forEach(function(G){f.call(_,G,x,this)},this)},this)};function Ql(f,_){Tn(f);let b=[];if(typeof _=="string")$l(f,_)&&(b=b.concat(f.g.get(ss(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)b=b.concat(f[_]);return b}t.set=function(f,_){return Tn(this),this.i=null,f=ss(this,f),$l(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=Ql(this,f),f.length>0?String(f[0]):_):_};function vo(f,_,b){ah(f,_),b.length>0&&(f.i=null,f.g.set(ss(f,_),S(b)),f.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let x=0;x<_.length;x++){var b=_[x];const G=_r(b);b=Ql(this,b);for(let $=0;$<b.length;$++){let ce=G;b[$]!==""&&(ce+="="+_r(b[$])),f.push(ce)}}return this.i=f.join("&")};function oh(f){const _=new rs;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function ss(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function _o(f,_){_&&!f.j&&(Tn(f),f.i=null,f.g.forEach(function(b,x){const G=x.toLowerCase();x!=G&&(ah(this,x),vo(this,G,b))},f)),f.j=_}function _i(f,_){const b=new gi;if(u.Image){const x=new Image;x.onload=y(qn,b,"TestLoadImage: loaded",!0,_,x),x.onerror=y(qn,b,"TestLoadImage: error",!1,_,x),x.onabort=y(qn,b,"TestLoadImage: abort",!1,_,x),x.ontimeout=y(qn,b,"TestLoadImage: timeout",!1,_,x),u.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=f}else _(!1)}function Wl(f,_){const b=new gi,x=new AbortController,G=setTimeout(()=>{x.abort(),qn(b,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:x.signal}).then($=>{clearTimeout(G),$.ok?qn(b,"TestPingServer: ok",!0,_):qn(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),qn(b,"TestPingServer: error",!1,_)})}function qn(f,_,b,x,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),x(b)}catch{}}function as(){this.g=new Xc}function Ki(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Ki,$c),Ki.prototype.g=function(){return new va(this.i,this.h)};function va(f,_){_t.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(va,_t),t=va.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,Ti(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,os(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;To(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function To(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?os(this):Ti(this),this.readyState==3&&To(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,os(this))},t.Na=function(f){this.g&&(this.response=f,os(this))},t.ga=function(){this.g&&os(this)};function os(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Ti(f)}t.setRequestHeader=function(f,_){this.A.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=_.next();return f.join(`\r
`)};function Ti(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(va.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Gn(f){let _="";return Ae(f,function(b,x){_+=x,_+=":",_+=b,_+=`\r
`}),_}function _a(f,_,b){e:{for(x in b){var x=!1;break e}x=!0}x||(b=Gn(b),typeof f=="string"?b!=null&&_r(b):Qe(f,_,b))}function Je(f){_t.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Je,_t);var Xi=/^https?$/i,Zl=["POST","PUT"];t=Je.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,_,b,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bl.g(),this.g.onreadystatechange=T(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch($){Ta(this,$);return}if(f=b||"",b=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var G in x)b.set(G,x[G]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const $ of x.keys())b.set($,x.get($));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(b.keys()).find($=>$.toLowerCase()=="content-type"),G=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(Zl,_,void 0)>=0)||x||G||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ce]of b)this.g.setRequestHeader($,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch($){Ta(this,$)}};function Ta(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,Jl(f),Tr(f)}function Jl(f){f.A||(f.A=!0,rt(f,"complete"),rt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,rt(this,"complete"),rt(this,"abort"),Tr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tr(this,!0)),Je.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ea(this):this.Xa())},t.Xa=function(){Ea(this)};function Ea(f){if(f.h&&typeof l<"u"){if(f.v&&Ei(f)==4)setTimeout(f.Ca.bind(f),0);else if(rt(f,"readystatechange"),Ei(f)==4){f.h=!1;try{const $=f.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var b;if(!(b=_)){var x;if(x=$===0){let ce=String(f.D).match(ih)[1]||null;!ce&&u.self&&u.self.location&&(ce=u.self.location.protocol.slice(0,-1)),x=!Xi.test(ce?ce.toLowerCase():"")}b=x}if(b)rt(f,"complete"),rt(f,"success");else{f.o=6;try{var G=Ei(f)>2?f.g.statusText:""}catch{G=""}f.l=G+" ["+f.ca()+"]",Jl(f)}}finally{Tr(f)}}}}function Tr(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const b=f.g;f.g=null,_||rt(f,"ready");try{b.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ei(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Ei(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),cm(_)}};function Qt(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Er(f){const _={};f=(f.g&&Ei(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<f.length;x++){if(P(f[x]))continue;var b=eh(f[x]);const G=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const $=_[G]||[];_[G]=$,$.push(b)}Me(_,function(x){return x.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function $i(f,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||_}function ls(f){this.za=0,this.i=[],this.j=new gi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$i("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$i("baseRetryDelayMs",5e3,f),this.Za=$i("retryDelaySeedMs",1e4,f),this.Ta=$i("forwardChannelMaxRetries",2,f),this.va=$i("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Fl(f&&f.concurrentRequestLimit),this.Ba=new as,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ls.prototype,t.ka=8,t.I=1,t.connect=function(f,_,b,x){Nt(0),this.W=f,this.H=_||{},b&&x!==void 0&&(this.H.OSID=b,this.H.OAID=x),this.F=this.X,this.J=mh(this,null,this.W),Qi(this)};function eu(f){if(Eo(f),f.I==3){var _=f.V++,b=Vt(f.J);if(Qe(b,"SID",f.M),Qe(b,"RID",_),Qe(b,"TYPE","terminate"),ba(f,b),_=new yi(f,f.j,_),_.M=2,_.A=ga(Vt(b)),b=!1,u.navigator&&u.navigator.sendBeacon)try{b=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&u.Image&&(new Image().src=_.A,b=!0),b||(_.g=ph(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Bi(_)}dh(f)}function us(f){f.g&&(nu(f),f.g.cancel(),f.g=null)}function Eo(f){us(f),f.v&&(u.clearTimeout(f.v),f.v=null),wo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function Qi(f){if(!Hl(f.h)&&!f.m){f.m=!0;var _=f.Ea;ee||C(),oe||(ee(),oe=!0),D.add(_,f),f.D=0}}function bo(f,_){return qi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=ji(p(f.Ea,f,_),fh(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const G=new yi(this,this.j,f);let $=this.o;if(this.U&&($?($=U($),ue($,this.U)):$=this.U),this.u!==null||this.R||(G.J=$,$=null),this.S)e:{for(var _=0,b=0;b<this.i.length;b++){t:{var x=this.i[b];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(_+=x,_>4096){_=b;break e}if(_===4096||b===this.i.length-1){_=b+1;break e}}_=1e3}else _=1e3;_=lh(this,G,_),b=Vt(this.J),Qe(b,"RID",f),Qe(b,"CVER",22),this.G&&Qe(b,"X-HTTP-Session-Id",this.G),ba(this,b),$&&(this.R?_="headers="+_r(Gn($))+"&"+_:this.u&&_a(b,this.u,$)),ql(this.h,G),this.Ra&&Qe(b,"TYPE","init"),this.S?(Qe(b,"$req",_),Qe(b,"SID","null"),G.U=!0,zi(G,b,null)):zi(G,b,_),this.I=2}}else this.I==3&&(f?tu(this,f):this.i.length==0||Hl(this.h)||tu(this))};function tu(f,_){var b;_?b=_.l:b=f.V++;const x=Vt(f.J);Qe(x,"SID",f.M),Qe(x,"RID",b),Qe(x,"AID",f.K),ba(f,x),f.u&&f.o&&_a(x,f.u,f.o),b=new yi(f,f.j,b,f.D+1),f.u===null&&(b.J=f.o),_&&(f.i=_.G.concat(f.i)),_=lh(f,b,1e3),b.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),ql(f.h,b),zi(b,x,_)}function ba(f,_){f.H&&Ae(f.H,function(b,x){Qe(_,x,b)}),f.l&&Ae({},function(b,x){Qe(_,x,b)})}function lh(f,_,b){b=Math.min(f.i.length,b);const x=f.l?p(f.l.Ka,f.l,f):null;e:{var G=f.i;let De=-1;for(;;){const xt=["count="+b];De==-1?b>0?(De=G[0].g,xt.push("ofs="+De)):De=0:xt.push("ofs="+De);let Ye=!0;for(let ct=0;ct<b;ct++){var $=G[ct].g;const Yn=G[ct].map;if($-=De,$<0)De=Math.max(0,G[ct].g-100),Ye=!1;else try{$="req"+$+"_"||"";try{var ce=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Zi,bi]of ce){let wi=bi;h(bi)&&(wi=ts(bi)),xt.push($+Zi+"="+encodeURIComponent(wi))}}catch(Zi){throw xt.push($+"type="+encodeURIComponent("_badmap")),Zi}}catch{x&&x(Yn)}}if(Ye){ce=xt.join("&");break e}}ce=void 0}return f=f.i.splice(0,b),_.G=f,ce}function uh(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;ee||C(),oe||(ee(),oe=!0),D.add(_,f),f.A=0}}function wa(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=ji(p(f.Da,f),fh(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,ch(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=ji(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),us(this),ch(this))};function nu(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function ch(f){f.g=new yi(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=Vt(f.na);Qe(_,"RID","rpc"),Qe(_,"SID",f.M),Qe(_,"AID",f.K),Qe(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&Qe(_,"TO",f.ia),Qe(_,"TYPE","xmlhttp"),ba(f,_),f.u&&f.o&&_a(_,f.u,f.o),f.O&&(f.g.H=f.O);var b=f.g;f=f.ba,b.M=1,b.A=ga(Vt(_)),b.u=null,b.R=!0,mo(b,f)}t.Va=function(){this.C!=null&&(this.C=null,us(this),wa(this),Nt(19))};function wo(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function hh(f,_){var b=null;if(f.g==_){wo(f),nu(f),f.g=null;var x=2}else if(Gi(f.h,_))b=_.G,Gl(f.h,_),x=1;else return;if(f.I!=0){if(_.o)if(x==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var G=f.D;x=fo(),rt(x,new Li(x,b)),Qi(f)}else uh(f);else if(G=_.m,G==3||G==0&&_.X>0||!(x==1&&bo(f,_)||x==2&&wa(f)))switch(b&&b.length>0&&(_=f.h,_.i=_.i.concat(b)),G){case 1:Wi(f,5);break;case 4:Wi(f,10);break;case 3:Wi(f,6);break;default:Wi(f,2)}}}function fh(f,_){let b=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(b*=2),b*_}function Wi(f,_){if(f.j.info("Error code "+_),_==2){var b=p(f.bb,f),x=f.Ua;const G=!x;x=new Nn(x||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Yt(x,"https"),ga(x),G?_i(x.toString(),b):Wl(x.toString(),b)}else Nt(2);f.I=0,f.l&&f.l.pa(_),dh(f),Eo(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function dh(f){if(f.I=0,f.ja=[],f.l){const _=Yl(f.h);(_.length!=0||f.i.length!=0)&&(R(f.ja,_),R(f.ja,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.oa()}}function mh(f,_,b){var x=b instanceof Nn?Vt(b):new Nn(b);if(x.g!="")_&&(x.g=_+"."+x.g),ns(x,x.u);else{var G=u.location;x=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;const $=new Nn(null);x&&Yt($,x),_&&($.g=_),G&&ns($,G),b&&($.h=b),x=$}return b=f.G,_=f.wa,b&&_&&Qe(x,b,_),Qe(x,"VER",f.ka),ba(f,x),x}function ph(f,_,b){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new Je(new Ki({ab:b})):new Je(f.ma),_.Fa(f.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gh(){}t=gh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function cs(){}cs.prototype.g=function(f,_){return new pn(f,_)};function pn(f,_){_t.call(this),this.g=new ls(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!P(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new br(this)}v(pn,_t),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){eu(this.g)},pn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.v&&(b={},b.__data__=ts(f),f=b);_.i.push(new Pt(_.Ya++,f)),_.I==3&&Qi(_)},pn.prototype.N=function(){this.g.l=null,delete this.j,eu(this.g),delete this.g,pn.Z.N.call(this)};function yh(f){$t.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const b in _){f=b;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(yh,$t);function vh(){Fn.call(this),this.status=1}v(vh,Fn);function br(f){this.g=f}v(br,gh),br.prototype.ra=function(){rt(this.g,"a")},br.prototype.qa=function(f){rt(this.g,new yh(f))},br.prototype.pa=function(f){rt(this.g,new vh)},br.prototype.oa=function(){rt(this.g,"b")},cs.prototype.createWebChannel=cs.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,fC=function(){return new cs},hC=function(){return fo()},cC=At,Ay={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ma.NO_ERROR=0,ma.TIMEOUT=8,ma.HTTP_ERROR=6,Ff=ma,zl.COMPLETE="complete",uC=zl,Qc.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Ku=Qc,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,lC=Je}).apply(typeof Rf<"u"?Rf:typeof self<"u"?self:typeof window<"u"?window:{});const sS="@firebase/firestore",aS="4.9.2";class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");let Ml="12.3.0";const Ja=new kd("@firebase/firestore");function tl(){return Ja.logLevel}function me(t,...e){if(Ja.logLevel<=Le.DEBUG){const n=e.map(Bv);Ja.debug(`Firestore (${Ml}): ${t}`,...n)}}function Xr(t,...e){if(Ja.logLevel<=Le.ERROR){const n=e.map(Bv);Ja.error(`Firestore (${Ml}): ${t}`,...n)}}function Tl(t,...e){if(Ja.logLevel<=Le.WARN){const n=e.map(Bv);Ja.warn(`Firestore (${Ml}): ${t}`,...n)}}function Bv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function be(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,dC(t,r,n)}function dC(t,e,n){let r=`FIRESTORE (${Ml}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Xr(r),new Error(r)}function Xe(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||dC(e,a,r)}function Re(t,e){return t}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Pi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class mC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class m6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(un.UNAUTHENTICATED)))}shutdown(){}}class p6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class g6{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let l=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Fr,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Fr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string",31837,{l:r}),new mC(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class y6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class v6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new y6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class oS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const r=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new oS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new oS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function T6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Fv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=T6(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%62))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function xy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),l=e.charAt(r);if(a!==l)return kg(a)===kg(l)?je(a,l):kg(a)?1:-1}return je(t.length,e.length)}const E6=55296,b6=57343;function kg(t){const e=t.charCodeAt(0);return e>=E6&&e<=b6}function El(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}const lS="__name__";class ir{constructor(e,n,r){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ir.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ir?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=ir.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return je(e.length,n.length)}static compareSegments(e,n){const r=ir.isNumericId(e),a=ir.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?ir.extractNumericId(e).compare(ir.extractNumericId(n)):xy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gs.fromString(e.substring(4,e.length-2))}}class at extends ir{construct(e,n,r){return new at(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const w6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends ir{construct(e,n,r){return new sn(e,n,r)}static isValidIdentifier(e){return w6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lS}static keyField(){return new sn([lS])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new fe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new fe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(l(),a++)}if(l(),u)throw new fe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(n)}static emptyPath(){return new sn([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(at.fromString(e))}static fromName(e){return new _e(at.fromString(e).popFirst(5))}static empty(){return new _e(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new at(e.slice()))}}function pC(t,e,n){if(!n)throw new fe(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function S6(t,e,n,r){if(e===!0&&r===!0)throw new fe(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function uS(t){if(!_e.isDocumentKey(t))throw new fe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cS(t){if(_e.isDocumentKey(t))throw new fe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ld(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be(12329,{type:typeof t})}function Dn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ld(t);throw new fe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Ft(t,e){const n={typeString:t};return e&&(n.value=e),n}function Oc(t,e){if(!gC(t))throw new fe(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(a&&typeof u!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new fe(re.INVALID_ARGUMENT,n);return!0}const hS=-62135596800,fS=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*fS);return new ut(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<hS)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fS}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Oc(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Ft("string",ut._jsonSchemaVersion),seconds:Ft("number"),nanoseconds:Ft("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new ut(0,0))}static max(){return new xe(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const gc=-1;function A6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=xe.fromTimestamp(r===1e9?new ut(n+1,0):new ut(n,r));return new Ws(a,_e.empty(),e)}function x6(t){return new Ws(t.readTime,t.key,gc)}class Ws{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ws(xe.min(),_e.empty(),gc)}static max(){return new Ws(xe.max(),_e.empty(),gc)}}function C6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}const R6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class D6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Pl(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==R6)throw t;me("LocalStore","Unexpectedly lost primary lease")}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,r)=>{n(e)}))}static reject(e){return new ae(((n,r)=>{r(e)}))}static waitFor(e){return new ae(((n,r)=>{let a=0,l=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&n()}),(d=>r(d)))})),u=!0,l===a&&n()}))}static or(e){let n=ae.resolve(!1);for(const r of e)n=n.next((a=>a?ae.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,l)=>{r.push(n.call(this,a,l))})),this.waitFor(r)}static mapArray(e,n){return new ae(((r,a)=>{const l=e.length,u=new Array(l);let h=0;for(let d=0;d<l;d++){const p=d;n(e[p]).next((y=>{u[p]=y,++h,h===l&&r(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new ae(((r,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):r()};l()}))}}function I6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vl(t){return t.name==="IndexedDbTransactionError"}class jd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jd.ce=-1;const Hv=-1;function Ud(t){return t==null}function ad(t){return t===0&&1/t==-1/0}function N6(t){return typeof t=="number"&&Number.isInteger(t)&&!ad(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const yC="";function M6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=dS(e)),e=P6(t.get(n),e);return dS(e)}function P6(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case yC:n+="";break;default:n+=l}}return n}function dS(t){return t+yC+""}function mS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function sa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class vt{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Df(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Df(this.root,e,this.comparator,!1)}getReverseIterator(){return new Df(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Df(this.root,e,this.comparator,!0)}}class Df{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??nn.RED,this.left=a??nn.EMPTY,this.right=l??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new nn(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return nn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,r,a,l){return this}insert(e,n,r){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pS(this.data.getIterator())}getIteratorFrom(e){return new pS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new qt(this.comparator);return n.data=e,n}}class pS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Un{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new Un([])}unionWith(e){let n=new qt(sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return El(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class _C extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class an{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new _C("Invalid base64 string: "+l):l}})(e);return new an(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new an(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const V6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(t){if(Xe(!!t,39018),typeof t=="string"){let e=0;const n=V6.exec(t);if(Xe(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Js(t){return typeof t=="string"?an.fromBase64String(t):an.fromUint8Array(t)}const TC="server_timestamp",EC="__type__",bC="__previous_value__",wC="__local_write_time__";function qv(t){return(t?.mapValue?.fields||{})[EC]?.stringValue===TC}function zd(t){const e=t.mapValue.fields[bC];return qv(e)?zd(e):e}function yc(t){const e=Zs(t.mapValue.fields[wC].timestampValue);return new ut(e.seconds,e.nanos)}class O6{constructor(e,n,r,a,l,u,h,d,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=y}}const od="(default)";class vc{constructor(e,n){this.projectId=e,this.database=n||od}static empty(){return new vc("","")}get isDefaultDatabase(){return this.database===od}isEqual(e){return e instanceof vc&&e.projectId===this.projectId&&e.database===this.database}}const SC="__type__",k6="__max__",If={mapValue:{}},AC="__vector__",ld="value";function ea(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qv(t)?4:j6(t)?9007199254740991:L6(t)?10:11:be(28295,{value:t})}function mr(t,e){if(t===e)return!0;const n=ea(t);if(n!==ea(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yc(t).isEqual(yc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Zs(a.timestampValue),h=Zs(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Js(a.bytesValue).isEqual(Js(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return It(a.geoPointValue.latitude)===It(l.geoPointValue.latitude)&&It(a.geoPointValue.longitude)===It(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return It(a.integerValue)===It(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=It(a.doubleValue),h=It(l.doubleValue);return u===h?ad(u)===ad(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return El(t.arrayValue.values||[],e.arrayValue.values||[],mr);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(mS(u)!==mS(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!mr(u[d],h[d])))return!1;return!0})(t,e);default:return be(52216,{left:t})}}function _c(t,e){return(t.values||[]).find((n=>mr(n,e)))!==void 0}function bl(t,e){if(t===e)return 0;const n=ea(t),r=ea(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=It(l.integerValue||l.doubleValue),d=It(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return gS(t.timestampValue,e.timestampValue);case 4:return gS(yc(t),yc(e));case 5:return xy(t.stringValue,e.stringValue);case 6:return(function(l,u){const h=Js(l),d=Js(u);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),d=u.split("/");for(let p=0;p<h.length&&p<d.length;p++){const y=je(h[p],d[p]);if(y!==0)return y}return je(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=je(It(l.latitude),It(u.latitude));return h!==0?h:je(It(l.longitude),It(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return yS(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const h=l.fields||{},d=u.fields||{},p=h[ld]?.arrayValue,y=d[ld]?.arrayValue,v=je(p?.values?.length||0,y?.values?.length||0);return v!==0?v:yS(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===If.mapValue&&u===If.mapValue)return 0;if(l===If.mapValue)return 1;if(u===If.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),p=u.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const T=xy(d[v],y[v]);if(T!==0)return T;const S=bl(h[d[v]],p[y[v]]);if(S!==0)return S}return je(d.length,y.length)})(t.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function gS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=Zs(t),r=Zs(e),a=je(n.seconds,r.seconds);return a!==0?a:je(n.nanos,r.nanos)}function yS(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=bl(n[a],r[a]);if(l)return l}return je(n.length,r.length)}function wl(t){return Cy(t)}function Cy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Zs(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Js(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return _e.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=Cy(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of r)l?l=!1:a+=",",a+=`${u}:${Cy(n.fields[u])}`;return a+"}"})(t.mapValue):be(61005,{value:t})}function Hf(t){switch(ea(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zd(t);return e?16+Hf(e):16;case 5:return 2*t.stringValue.length;case 6:return Js(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+Hf(l)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return sa(r.fields,((l,u)=>{a+=l.length+Hf(u)})),a})(t.mapValue);default:throw be(13486,{value:t})}}function vS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ry(t){return!!t&&"integerValue"in t}function Gv(t){return!!t&&"arrayValue"in t}function _S(t){return!!t&&"nullValue"in t}function TS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qf(t){return!!t&&"mapValue"in t}function L6(t){return(t?.mapValue?.fields||{})[SC]?.stringValue===AC}function ic(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return sa(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=ic(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ic(t.arrayValue.values[n]);return e}return{...t}}function j6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===k6}class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ic(n)}setAll(e){let n=sn.emptyPath(),r={},a=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=h.popLast()}u?r[h.lastSegment()]=ic(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());qf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];qf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){sa(n,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new Cn(ic(this.value))}}function xC(t){const e=[];return sa(t.fields,((n,r)=>{const a=new sn([n]);if(qf(r)){const l=xC(r.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Un(e)}class hn{constructor(e,n,r,a,l,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new hn(e,0,xe.min(),xe.min(),xe.min(),Cn.empty(),0)}static newFoundDocument(e,n,r,a){return new hn(e,1,n,xe.min(),r,a,0)}static newNoDocument(e,n){return new hn(e,2,n,xe.min(),xe.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new hn(e,3,n,xe.min(),xe.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ud{constructor(e,n){this.position=e,this.inclusive=n}}function ES(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?r=_e.comparator(_e.fromName(u.referenceValue),n.key):r=bl(u,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function bS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mr(t.position[n],e.position[n]))return!1;return!0}class Tc{constructor(e,n="asc"){this.field=e,this.dir=n}}function U6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class CC{}class Bt extends CC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new B6(e,n,r):n==="array-contains"?new q6(e,r):n==="in"?new G6(e,r):n==="not-in"?new Y6(e,r):n==="array-contains-any"?new K6(e,r):new Bt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new F6(e,r):new H6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(bl(n,this.value)):n!==null&&ea(this.value)===ea(n)&&this.matchesComparison(bl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends CC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ni(e,n)}matches(e){return RC(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function RC(t){return t.op==="and"}function DC(t){return z6(t)&&RC(t)}function z6(t){for(const e of t.filters)if(e instanceof Ni)return!1;return!0}function Dy(t){if(t instanceof Bt)return t.field.canonicalString()+t.op.toString()+wl(t.value);if(DC(t))return t.filters.map((e=>Dy(e))).join(",");{const e=t.filters.map((n=>Dy(n))).join(",");return`${t.op}(${e})`}}function IC(t,e){return t instanceof Bt?(function(r,a){return a instanceof Bt&&r.op===a.op&&r.field.isEqual(a.field)&&mr(r.value,a.value)})(t,e):t instanceof Ni?(function(r,a){return a instanceof Ni&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,u,h)=>l&&IC(u,a.filters[h])),!0):!1})(t,e):void be(19439)}function NC(t){return t instanceof Bt?(function(n){return`${n.field.canonicalString()} ${n.op} ${wl(n.value)}`})(t):t instanceof Ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(NC).join(" ,")+"}"})(t):"Filter"}class B6 extends Bt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class F6 extends Bt{constructor(e,n){super(e,"in",n),this.keys=MC("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class H6 extends Bt{constructor(e,n){super(e,"not-in",n),this.keys=MC("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function MC(t,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class q6 extends Bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gv(n)&&_c(n.arrayValue,this.value)}}class G6 extends Bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_c(this.value.arrayValue,n)}}class Y6 extends Bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(_c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_c(this.value.arrayValue,n)}}class K6 extends Bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>_c(this.value.arrayValue,r)))}}class X6{constructor(e,n=null,r=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function wS(t,e=null,n=[],r=[],a=null,l=null,u=null){return new X6(t,e,n,r,a,l,u)}function Yv(t){const e=Re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Dy(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Ud(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>wl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>wl(r))).join(",")),e.Te=n}return e.Te}function Kv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!U6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bS(t.startAt,e.startAt)&&bS(t.endAt,e.endAt)}function Iy(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Ol{constructor(e,n=null,r=[],a=[],l=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $6(t,e,n,r,a,l,u,h){return new Ol(t,e,n,r,a,l,u,h)}function Bd(t){return new Ol(t)}function SS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PC(t){return t.collectionGroup!==null}function rc(t){const e=Re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new qt(sn.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Tc(l,r))})),n.has(sn.keyField().canonicalString())||e.Ie.push(new Tc(sn.keyField(),r))}return e.Ie}function ar(t){const e=Re(t);return e.Ee||(e.Ee=Q6(e,rc(t))),e.Ee}function Q6(t,e){if(t.limitType==="F")return wS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Tc(a.field,l)}));const n=t.endAt?new ud(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ud(t.startAt.position,t.startAt.inclusive):null;return wS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ny(t,e){const n=t.filters.concat([e]);return new Ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function cd(t,e,n){return new Ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fd(t,e){return Kv(ar(t),ar(e))&&t.limitType===e.limitType}function VC(t){return`${Yv(ar(t))}|lt:${t.limitType}`}function nl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>NC(a))).join(", ")}]`),Ud(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>wl(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>wl(a))).join(",")),`Target(${r})`})(ar(t))}; limitType=${t.limitType})`}function Hd(t,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):_e.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,a){for(const l of rc(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(u,h,d){const p=ES(u,h,d);return u.inclusive?p<=0:p<0})(r.startAt,rc(r),a)||r.endAt&&!(function(u,h,d){const p=ES(u,h,d);return u.inclusive?p>=0:p>0})(r.endAt,rc(r),a))})(t,e)}function W6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OC(t){return(e,n)=>{let r=!1;for(const a of rc(t)){const l=Z6(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function Z6(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):(function(l,u,h){const d=u.data.field(l),p=h.data.field(l);return d!==null&&p!==null?bl(d,p):be(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return be(19790,{direction:t.dir})}}class uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){sa(this.inner,((n,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return vC(this.inner)}size(){return this.innerSize}}const J6=new vt(_e.comparator);function $r(){return J6}const kC=new vt(_e.comparator);function Xu(...t){let e=kC;for(const n of t)e=e.insert(n.key,n);return e}function LC(t){let e=kC;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ga(){return sc()}function jC(){return sc()}function sc(){return new uo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const e3=new vt(_e.comparator),t3=new qt(_e.comparator);function Ue(...t){let e=t3;for(const n of t)e=e.add(n);return e}const n3=new qt(je);function i3(){return n3}function Xv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ad(e)?"-0":e}}function UC(t){return{integerValue:""+t}}function r3(t,e){return N6(e)?UC(e):Xv(t,e)}class qd{constructor(){this._=void 0}}function s3(t,e,n){return t instanceof hd?(function(a,l){const u={fields:{[EC]:{stringValue:TC},[wC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&qv(l)&&(l=zd(l)),l&&(u.fields[bC]=l),{mapValue:u}})(n,e):t instanceof Ec?BC(t,e):t instanceof bc?FC(t,e):(function(a,l){const u=zC(a,l),h=AS(u)+AS(a.Ae);return Ry(u)&&Ry(a.Ae)?UC(h):Xv(a.serializer,h)})(t,e)}function a3(t,e,n){return t instanceof Ec?BC(t,e):t instanceof bc?FC(t,e):n}function zC(t,e){return t instanceof fd?(function(r){return Ry(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class hd extends qd{}class Ec extends qd{constructor(e){super(),this.elements=e}}function BC(t,e){const n=HC(e);for(const r of t.elements)n.some((a=>mr(a,r)))||n.push(r);return{arrayValue:{values:n}}}class bc extends qd{constructor(e){super(),this.elements=e}}function FC(t,e){let n=HC(e);for(const r of t.elements)n=n.filter((a=>!mr(a,r)));return{arrayValue:{values:n}}}class fd extends qd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function AS(t){return It(t.integerValue||t.doubleValue)}function HC(t){return Gv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function o3(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof Ec&&a instanceof Ec||r instanceof bc&&a instanceof bc?El(r.elements,a.elements,mr):r instanceof fd&&a instanceof fd?mr(r.Ae,a.Ae):r instanceof hd&&a instanceof hd})(t.transform,e.transform)}class l3{constructor(e,n){this.version=e,this.transformResults=n}}class hi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gd{}function qC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $v(t.key,hi.none()):new kc(t.key,t.data,hi.none());{const n=t.data,r=Cn.empty();let a=new qt(sn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?r.delete(l):r.set(l,u),a=a.add(l)}return new aa(t.key,r,new Un(a.toArray()),hi.none())}}function u3(t,e,n){t instanceof kc?(function(a,l,u){const h=a.value.clone(),d=CS(a.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof aa?(function(a,l,u){if(!Gf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=CS(a.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(GC(a)),d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function ac(t,e,n,r){return t instanceof kc?(function(l,u,h,d){if(!Gf(l.precondition,u))return h;const p=l.value.clone(),y=RS(l.fieldTransforms,d,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof aa?(function(l,u,h,d){if(!Gf(l.precondition,u))return h;const p=RS(l.fieldTransforms,d,u),y=u.data;return y.setAll(GC(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(l,u,h){return Gf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function c3(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=zC(r.transform,a||null);l!=null&&(n===null&&(n=Cn.empty()),n.set(r.field,l))}return n||null}function xS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&El(r,a,((l,u)=>o3(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kc extends Gd{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class aa extends Gd{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function GC(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function CS(t,e,n){const r=new Map;Xe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,h=e.data.field(l.field);r.set(l.field,a3(u,h,n[a]))}return r}function RS(t,e,n){const r=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);r.set(a.field,s3(l,u,e))}return r}class $v extends Gd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h3 extends Gd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class f3{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&u3(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ac(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ac(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=jC();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const d=qC(u,h);d!==null&&r.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(xe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&El(this.mutations,e.mutations,((n,r)=>xS(n,r)))&&El(this.baseMutations,e.baseMutations,((n,r)=>xS(n,r)))}}class Qv{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){Xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return e3})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,r[u].version);return new Qv(e,n,r,a)}}class d3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class m3{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ut,Fe;function p3(t){switch(t){case re.OK:return be(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return be(15467,{code:t})}}function YC(t){if(t===void 0)return Xr("GRPC error has no .code"),re.UNKNOWN;switch(t){case Ut.OK:return re.OK;case Ut.CANCELLED:return re.CANCELLED;case Ut.UNKNOWN:return re.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return re.INTERNAL;case Ut.UNAVAILABLE:return re.UNAVAILABLE;case Ut.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Ut.NOT_FOUND:return re.NOT_FOUND;case Ut.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Ut.ABORTED:return re.ABORTED;case Ut.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Ut.DATA_LOSS:return re.DATA_LOSS;default:return be(39323,{code:t})}}(Fe=Ut||(Ut={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function g3(){return new TextEncoder}const y3=new Gs([4294967295,4294967295],0);function DS(t){const e=g3().encode(t),n=new oC;return n.update(e),new Uint8Array(n.digest())}function IS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Gs([n,r],0),new Gs([a,l],0)]}class Wv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $u(`Invalid padding: ${n}`);if(r<0)throw new $u(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $u(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $u(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Gs.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Gs.fromNumber(r)));return a.compare(y3)===1&&(a=new Gs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=DS(e),[r,a]=IS(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);if(!this.we(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Wv(l,a,n);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=DS(e),[r,a]=IS(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yd{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Lc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Yd(xe.min(),a,new vt(je),$r(),Ue())}}class Lc{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Lc(r,n,Ue(),Ue(),Ue())}}class Yf{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class KC{constructor(e,n){this.targetId=e,this.Ce=n}}class XC{constructor(e,n,r=an.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class NS{constructor(){this.ve=0,this.Fe=MS(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),r=Ue();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:be(38017,{changeType:l})}})),new Lc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=MS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class v3{constructor(e){this.Ge=e,this.ze=new Map,this.je=$r(),this.Je=Nf(),this.He=Nf(),this.Ye=new vt(je)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Iy(l))if(r===0){const u=new _e(l.path);this.et(n,u,hn.newNoDocument(u,xe.min()))}else Xe(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const h=this.ut(e),d=h?this.ct(h,e,u):1;if(d!==0){this.it(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=Js(r).toUint8Array()}catch(d){if(d instanceof _C)return Tl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Wv(u,a,l)}catch(d){return Tl(d instanceof $u?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Iy(h.target)){const d=new _e(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,hn.newNoDocument(d,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let r=Ue();this.He.forEach(((l,u)=>{let h=!0;u.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Yd(e,n,this.Ye,this.je,r);return this.je=$r(),this.Je=Nf(),this.He=Nf(),this.Ye=new vt(je),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new NS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new qt(je),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new qt(je),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new NS),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Nf(){return new vt(_e.comparator)}function MS(){return new vt(_e.comparator)}const _3={asc:"ASCENDING",desc:"DESCENDING"},T3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E3={and:"AND",or:"OR"};class b3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function My(t,e){return t.useProto3Json||Ud(e)?e:{value:e}}function dd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $C(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function w3(t,e){return dd(t,e.toTimestamp())}function or(t){return Xe(!!t,49232),xe.fromTimestamp((function(n){const r=Zs(n);return new ut(r.seconds,r.nanos)})(t))}function Zv(t,e){return Py(t,e).canonicalString()}function Py(t,e){const n=(function(a){return new at(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function QC(t){const e=at.fromString(t);return Xe(tR(e),10190,{key:e.toString()}),e}function Vy(t,e){return Zv(t.databaseId,e.path)}function Lg(t,e){const n=QC(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(ZC(n))}function WC(t,e){return Zv(t.databaseId,e)}function S3(t){const e=QC(t);return e.length===4?at.emptyPath():ZC(e)}function Oy(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ZC(t){return Xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function PS(t,e,n){return{name:Vy(t,e),fields:n.value.mapValue.fields}}function A3(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:be(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(Xe(y===void 0||typeof y=="string",58123),an.fromBase64String(y||"")):(Xe(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),an.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const y=p.code===void 0?re.UNKNOWN:YC(p.code);return new fe(y,p.message||"")})(u);n=new XC(r,a,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Lg(t,r.document.name),l=or(r.document.updateTime),u=r.document.createTime?or(r.document.createTime):xe.min(),h=new Cn({mapValue:{fields:r.document.fields}}),d=hn.newFoundDocument(a,l,u,h),p=r.targetIds||[],y=r.removedTargetIds||[];n=new Yf(p,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Lg(t,r.document),l=r.readTime?or(r.readTime):xe.min(),u=hn.newNoDocument(a,l),h=r.removedTargetIds||[];n=new Yf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Lg(t,r.document),l=r.removedTargetIds||[];n=new Yf([],l,a,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,u=new m3(a,l),h=r.targetId;n=new KC(h,u)}}return n}function x3(t,e){let n;if(e instanceof kc)n={update:PS(t,e.key,e.value)};else if(e instanceof $v)n={delete:Vy(t,e.key)};else if(e instanceof aa)n={update:PS(t,e.key,e.data),updateMask:O3(e.fieldMask)};else{if(!(e instanceof h3))return be(16599,{Vt:e.type});n={verify:Vy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,u){const h=u.transform;if(h instanceof hd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ec)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof bc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof fd)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw be(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:w3(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:be(27497)})(t,e.precondition)),n}function C3(t,e){return t&&t.length>0?(Xe(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?or(a.updateTime):or(l);return u.isEqual(xe.min())&&(u=or(l)),new l3(u,a.transformResults||[])})(n,e)))):[]}function R3(t,e){return{documents:[WC(t,e.path)]}}function D3(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=WC(t,a);const l=(function(p){if(p.length!==0)return eR(Ni.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(T){return{field:il(T.field),direction:M3(T.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=My(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function I3(t){let e=S3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Xe(r===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const T=JC(v);return T instanceof Ni&&DC(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(v){return v.map((T=>(function(R){return new Tc(rl(R.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(T)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let T;return T=typeof v=="object"?v.value:v,Ud(T)?null:T})(n.limit));let d=null;n.startAt&&(d=(function(v){const T=!!v.before,S=v.values||[];return new ud(S,T)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const T=!v.before,S=v.values||[];return new ud(S,T)})(n.endAt)),$6(e,a,u,l,h,"F",d,p)}function N3(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JC(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=rl(n.unaryFilter.field);return Bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=rl(n.unaryFilter.field);return Bt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=rl(n.unaryFilter.field);return Bt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=rl(n.unaryFilter.field);return Bt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Bt.create(rl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ni.create(n.compositeFilter.filters.map((r=>JC(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(t):be(30097,{filter:t})}function M3(t){return _3[t]}function P3(t){return T3[t]}function V3(t){return E3[t]}function il(t){return{fieldPath:t.canonicalString()}}function rl(t){return sn.fromServerFormat(t.fieldPath)}function eR(t){return t instanceof Bt?(function(n){if(n.op==="=="){if(TS(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NAN"}};if(_S(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(TS(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NOT_NAN"}};if(_S(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(n.field),op:P3(n.op),value:n.value}}})(t):t instanceof Ni?(function(n){const r=n.getFilters().map((a=>eR(a)));return r.length===1?r[0]:{compositeFilter:{op:V3(n.op),filters:r}}})(t):be(54877,{filter:t})}function O3(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function tR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class zs{constructor(e,n,r,a,l=xe.min(),u=xe.min(),h=an.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class k3{constructor(e){this.yt=e}}function L3(t){const e=I3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cd(e,e.limit,"L"):e}class j3{constructor(){this.Cn=new U3}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Ws.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Ws.min())}updateCollectionGroup(e,n,r){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class U3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new qt(at.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new qt(at.comparator)).toArray()}}const VS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nR=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(nR,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);class Sl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Sl(0)}static cr(){return new Sl(-1)}}const OS="LruGarbageCollector",z3=1048576;function kS([t,e],[n,r]){const a=je(t,n);return a===0?je(e,r):a}class B3{constructor(e){this.Ir=e,this.buffer=new qt(kS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();kS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class F3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(OS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vl(n)?me(OS,"Ignoring IndexedDB error during garbage collection: ",n):await Pl(n)}await this.Vr(3e5)}))}}class H3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(jd.ce);const r=new B3(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(VS)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VS):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,l,u,h,d,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(r=v,h=Date.now(),this.removeTargets(e,r,n)))).next((v=>(l=v,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(p=Date.now(),tl()<=Le.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-y}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function q3(t,e){return new H3(t,e)}class G3{constructor(){this.changes=new uo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Y3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class K3{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&ac(r.mutation,a,Un.empty(),ut.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ue()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ue()){const a=Ga();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((l=>{let u=Xu();return l.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=Ga();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ue())))}populateOverlays(e,n,r){const a=[];return r.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,r,a){let l=$r();const u=sc(),h=(function(){return sc()})();return n.forEach(((d,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof aa)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),ac(y.mutation,p,y.mutation.getFieldMask(),ut.now())):u.set(p.key,Un.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((p,y)=>u.set(p,y))),n.forEach(((p,y)=>h.set(p,new Y3(y,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=sc();let a=new vt(((u,h)=>u-h)),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let y=r.get(d)||Un.empty();y=h.applyToLocalView(p,y),r.set(d,y);const v=(a.get(h.batchId)||Ue()).add(d);a=a.insert(h.batchId,v)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,y=d.value,v=jC();y.forEach((T=>{if(!l.has(T)){const S=qC(n.get(T),r.get(T));S!==null&&v.set(T,S),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return ae.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):ae.resolve(Ga());let h=gc,d=l;return u.next((p=>ae.forEach(p,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?ae.resolve():this.remoteDocumentCache.getEntry(e,y).next((T=>{d=d.insert(y,T)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,d,p,Ue()))).next((y=>({batchId:h,changes:LC(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((r=>{let a=Xu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let u=Xu();return this.indexManager.getCollectionParents(e,l).next((h=>ae.forEach(h,(d=>{const p=(function(v,T){return new Ol(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((y=>{y.forEach(((v,T)=>{u=u.insert(v,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a)))).next((u=>{l.forEach(((d,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,hn.newInvalidDocument(y)))}));let h=Xu();return u.forEach(((d,p)=>{const y=l.get(d);y!==void 0&&ac(y.mutation,p,Un.empty(),ut.now()),Hd(n,p)&&(h=h.insert(d,p))})),h}))}}class X3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:or(a.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:L3(a.bundledQuery),readTime:or(a.readTime)}})(n)),ae.resolve()}}class $3{constructor(){this.overlays=new vt(_e.comparator),this.qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ga();return ae.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,l)=>{this.St(e,n,l)})),ae.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),ae.resolve()}getOverlaysForCollection(e,n,r){const a=Ga(),l=n.length+1,u=new _e(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>r&&a.set(d.getKey(),d)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new vt(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=Ga(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=Ga(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=a)););return ae.resolve(h)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new d3(n,r));let l=this.qr.get(n);l===void 0&&(l=Ue(),this.qr.set(n,l)),this.qr.set(n,l.add(r.key))}}class Q3{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}class Jv{constructor(){this.Qr=new qt(Xt.$r),this.Ur=new qt(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Xt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Xt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new _e(new at([])),r=new Xt(n,e),a=new Xt(n,e+1),l=[];return this.Ur.forEachInRange([r,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new at([])),r=new Xt(n,e),a=new Xt(n,e+1);let l=Ue();return this.Ur.forEachInRange([r,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new Xt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||je(e.Yr,n.Yr)}static Kr(e,n){return je(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}class W3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new qt(Xt.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new f3(l,n,r,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new Xt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,n){return ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Hv:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xt(n,0),a=new Xt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(u=>{const h=this.Xr(u.Yr);l.push(h)})),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qt(je);return n.forEach((a=>{const l=new Xt(a,0),u=new Xt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(h=>{r=r.add(h.Yr)}))})),ae.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;_e.isDocumentKey(l)||(l=l.child(""));const u=new Xt(new _e(l),0);let h=new qt(je);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Yr)),!0)}),u),ae.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ae.forEach(n.mutations,(a=>{const l=new Xt(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Xt(n,0),a=this.Zr.firstAfterOrEqual(r);return ae.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Z3{constructor(e){this.ri=e,this.docs=(function(){return new vt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ae.resolve(r?r.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let r=$r();return n.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():hn.newInvalidDocument(a))})),ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=$r();const u=n.path,h=new _e(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||C6(x6(y),r)<=0||(a.has(y.key)||Hd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,n,r,a){be(9500)}ii(e,n){return ae.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new J3(this)}getSize(e){return ae.resolve(this.size)}}class J3 extends G3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class e5{constructor(e){this.persistence=e,this.si=new uo((n=>Yv(n)),Kv),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new Jv,this.targetCount=0,this.ai=Sl.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Sl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Pr(n),ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),ae.waitFor(l).next((()=>a))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ae.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ae.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),ae.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ae.resolve(r)}containsKey(e,n){return ae.resolve(this._i.containsKey(n))}}class iR{constructor(e,n){this.ui={},this.overlays={},this.ci=new jd(0),this.li=!1,this.li=!0,this.hi=new Q3,this.referenceDelegate=e(this),this.Pi=new e5(this),this.indexManager=new j3,this.remoteDocumentCache=(function(a){return new Z3(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new k3(n),this.Ii=new X3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new W3(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const a=new t5(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return ae.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class t5 extends D6{constructor(e){super(),this.currentSequenceNumber=e}}class e0{constructor(e){this.persistence=e,this.Ri=new Jv,this.Vi=null}static mi(e){return new e0(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ae.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,(r=>{const a=_e.fromPath(r);return this.gi(e,a).next((l=>{l||n.removeEntry(a,xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class md{constructor(e,n){this.persistence=e,this.pi=new uo((r=>M6(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=q3(this,n)}static mi(e,n){return new md(e,n)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ae.forEach(this.pi,((r,a)=>this.br(e,r,a).next((l=>l?ae.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((h=>{h||(r++,l.removeEntry(u,xe.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Hf(e.data.value)),n}br(e,n,r){return ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ae.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class t0{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=Ue(),a=Ue();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new t0(e,n.fromCache,r,a)}}class n5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class i5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Y4()?8:I6(dn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,r).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new n5;return this.Ss(e,n,u).next((h=>{if(l.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>l.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(tl()<=Le.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",nl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(tl()<=Le.DEBUG&&me("QueryEngine","Query:",nl(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(tl()<=Le.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",nl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ar(n))):ae.resolve())}ys(e,n){if(SS(n))return ae.resolve(null);let r=ar(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=cd(n,null,"F"),r=ar(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const u=Ue(...l);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((d=>{const p=this.Ds(n,h);return this.Cs(n,p,u,d.readTime)?this.ys(e,cd(n,null,"F")):this.vs(e,p,n,d)}))))})))))}ws(e,n,r,a){return SS(n)||a.isEqual(xe.min())?ae.resolve(null):this.ps.getDocuments(e,r).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,r,a)?ae.resolve(null):(tl()<=Le.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),nl(n)),this.vs(e,u,n,A6(a,gc)).next((h=>h)))}))}Ds(e,n){let r=new qt(OC(e));return n.forEach(((a,l)=>{Hd(e,l)&&(r=r.add(l))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,r){return tl()<=Le.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",nl(n)),this.ps.getDocumentsMatchingQuery(e,n,Ws.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const n0="LocalStore",r5=3e8;class s5{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new vt(je),this.xs=new uo((l=>Yv(l)),Kv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new K3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function a5(t,e,n,r){return new s5(t,e,n,r)}async function rR(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const u=[],h=[];let d=Ue();for(const p of a){u.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(r,d).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function o5(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,p,y){const v=p.batch,T=v.keys();let S=ae.resolve();return T.forEach((R=>{S=S.next((()=>y.getEntry(d,R))).next((M=>{const N=p.docVersions.get(R);Xe(N!==null,48541),M.version.compareTo(N)<0&&(v.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),y.addEntry(M)))}))})),S.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=Ue();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function sR(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function l5(t,e){const n=Re(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((y,v)=>{const T=a.get(v);if(!T)return;h.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,v))));let S=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(an.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,r)),a=a.insert(v,S),(function(M,N,j){return M.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=r5?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(T,S,y)&&h.push(n.Pi.updateTargetData(l,S))}));let d=$r(),p=Ue();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(u5(l,u,e.documentUpdates).next((y=>{d=y.ks,p=y.qs}))),!r.isEqual(xe.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((v=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));h.push(y)}return ae.waitFor(h).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,p))).next((()=>d))})).then((l=>(n.Ms=a,l)))}function u5(t,e,n){let r=Ue(),a=Ue();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let u=$r();return n.forEach(((h,d)=>{const p=l.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(xe.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):me(n0,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)})),{ks:u,qs:a}}))}function c5(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Hv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function h5(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((l=>l?(a=l,ae.resolve(a)):n.Pi.allocateTargetId(r).next((u=>(a=new zs(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function ky(t,e,n){const r=Re(t),a=r.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Vl(u))throw u;me(n0,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function LS(t,e,n){const r=Re(t);let a=xe.min(),l=Ue();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,p,y){const v=Re(d),T=v.xs.get(y);return T!==void 0?ae.resolve(v.Ms.get(T)):v.Pi.getTargetData(p,y)})(r,u,ar(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((d=>{l=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,n?a:xe.min(),n?l:Ue()))).next((h=>(f5(r,W6(e),h),{documents:h,Qs:l})))))}function f5(t,e,n){let r=t.Os.get(e)||xe.min();n.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.Os.set(e,r)}class jS{constructor(){this.activeTargetIds=i3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class d5{constructor(){this.Mo=new jS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new jS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class m5{Oo(e){}shutdown(){}}const US="ConnectivityMonitor";class zS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(US,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(US,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mf=null;function Ly(){return Mf===null?Mf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mf++,"0x"+Mf.toString(16)}const jg="RestConnection",p5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class g5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===od?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,l){const u=Ly(),h=this.zo(e,n.toUriEncodedString());me(jg,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,l);const{host:p}=new URL(h),y=Il(p);return this.Jo(e,h,d,r,y).then((v=>(me(jg,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw Tl(jg,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",r),v}))}Ho(e,n,r,a,l,u){return this.Go(e,n,r,a,l)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ml})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const r=p5[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class y5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const ln="WebChannelConnection";class v5 extends g5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,l){const u=Ly();return new Promise(((h,d)=>{const p=new lC;p.setWithCredentials(!0),p.listenOnce(uC.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Ff.NO_ERROR:const v=p.getResponseJson();me(ln,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case Ff.TIMEOUT:me(ln,`RPC '${e}' ${u} timed out`),d(new fe(re.DEADLINE_EXCEEDED,"Request time out"));break;case Ff.HTTP_ERROR:const T=p.getStatus();if(me(ln,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const R=S?.error;if(R&&R.status&&R.message){const M=(function(j){const B=j.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(B)>=0?B:re.UNKNOWN})(R.status);d(new fe(M,R.message))}else d(new fe(re.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new fe(re.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{me(ln,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);me(ln,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",y,r,15)}))}T_(e,n,r){const a=Ly(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=fC(),h=hC(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const y=l.join("");me(ln,`Creating RPC '${e}' stream ${a}: ${y}`,d);const v=u.createWebChannel(y,d);this.I_(v);let T=!1,S=!1;const R=new y5({Yo:N=>{S?me(ln,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(T||(me(ln,`Opening RPC '${e}' stream ${a} transport.`),v.open(),T=!0),me(ln,`RPC '${e}' stream ${a} sending:`,N),v.send(N))},Zo:()=>v.close()}),M=(N,j,B)=>{N.listen(j,(F=>{try{B(F)}catch(W){setTimeout((()=>{throw W}),0)}}))};return M(v,Ku.EventType.OPEN,(()=>{S||(me(ln,`RPC '${e}' stream ${a} transport opened.`),R.o_())})),M(v,Ku.EventType.CLOSE,(()=>{S||(S=!0,me(ln,`RPC '${e}' stream ${a} transport closed`),R.a_(),this.E_(v))})),M(v,Ku.EventType.ERROR,(N=>{S||(S=!0,Tl(ln,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),R.a_(new fe(re.UNAVAILABLE,"The operation could not be completed")))})),M(v,Ku.EventType.MESSAGE,(N=>{if(!S){const j=N.data[0];Xe(!!j,16349);const B=j,F=B?.error||B[0]?.error;if(F){me(ln,`RPC '${e}' stream ${a} received error:`,F);const W=F.status;let ee=(function(C){const I=Ut[C];if(I!==void 0)return YC(I)})(W),oe=F.message;ee===void 0&&(ee=re.INTERNAL,oe="Unknown error status: "+W+" with message "+F.message),S=!0,R.a_(new fe(ee,oe)),v.close()}else me(ln,`RPC '${e}' stream ${a} received:`,j),R.u_(j)}})),M(h,cC.STAT_EVENT,(N=>{N.stat===Ay.PROXY?me(ln,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===Ay.NOPROXY&&me(ln,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Ug(){return typeof document<"u"?document:null}function Kd(t){return new b3(t,!0)}class aR{constructor(e,n,r=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const BS="PersistentStream";class oR{constructor(e,n,r,a,l,u,h,d){this.Mi=e,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Xr(n.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new fe(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(BS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(BS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _5 extends oR{constructor(e,n,r,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=A3(this.serializer,e),r=(function(l){if(!("targetChange"in l))return xe.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?xe.min():u.readTime?or(u.readTime):xe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Oy(this.serializer),n.addTarget=(function(l,u){let h;const d=u.target;if(h=Iy(d)?{documents:R3(l,d)}:{query:D3(l,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=$C(l,u.resumeToken);const p=My(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(xe.min())>0){h.readTime=dd(l,u.snapshotVersion.toTimestamp());const p=My(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=N3(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Oy(this.serializer),n.removeTarget=e,this.q_(n)}}class T5 extends oR{constructor(e,n,r,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=C3(e.writeResults,e.commitTime),r=or(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Oy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>x3(this.serializer,r)))};this.q_(n)}}class E5{}class b5 extends E5{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Py(n,r),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(re.UNKNOWN,l.toString())}))}Ho(e,n,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,Py(n,r),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(re.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class w5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xr(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const eo="RemoteStore";class S5{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{co(this)&&(me(eo,"Restarting streams for network reachability change."),await(async function(d){const p=Re(d);p.Ea.add(4),await jc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Xd(p)})(this))}))})),this.Ra=new w5(r,a)}}async function Xd(t){if(co(t))for(const e of t.da)await e(!0)}async function jc(t){for(const e of t.da)await e(!1)}function lR(t,e){const n=Re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),a0(n)?s0(n):kl(n).O_()&&r0(n,e))}function i0(t,e){const n=Re(t),r=kl(n);n.Ia.delete(e),r.O_()&&uR(n,e),n.Ia.size===0&&(r.O_()?r.L_():co(n)&&n.Ra.set("Unknown"))}function r0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}kl(t).Y_(e)}function uR(t,e){t.Va.Ue(e),kl(t).Z_(e)}function s0(t){t.Va=new v3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),kl(t).start(),t.Ra.ua()}function a0(t){return co(t)&&!kl(t).x_()&&t.Ia.size>0}function co(t){return Re(t).Ea.size===0}function cR(t){t.Va=void 0}async function A5(t){t.Ra.set("Online")}async function x5(t){t.Ia.forEach(((e,n)=>{r0(t,e)}))}async function C5(t,e){cR(t),a0(t)?(t.Ra.ha(e),s0(t)):t.Ra.set("Unknown")}async function R5(t,e,n){if(t.Ra.set("Online"),e instanceof XC&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(r){me(eo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pd(t,r)}else if(e instanceof Yf?t.Va.Ze(e):e instanceof KC?t.Va.st(e):t.Va.tt(e),!n.isEqual(xe.min()))try{const r=await sR(t.localStore);n.compareTo(r)>=0&&await(function(l,u){const h=l.Va.Tt(u);return h.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,p)=>{const y=l.Ia.get(d);if(!y)return;l.Ia.set(d,y.withResumeToken(an.EMPTY_BYTE_STRING,y.snapshotVersion)),uR(l,d);const v=new zs(y.target,d,p,y.sequenceNumber);r0(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){me(eo,"Failed to raise snapshot:",r),await pd(t,r)}}async function pd(t,e,n){if(!Vl(e))throw e;t.Ea.add(1),await jc(t),t.Ra.set("Offline"),n||(n=()=>sR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(eo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Xd(t)}))}function hR(t,e){return e().catch((n=>pd(t,n,e)))}async function $d(t){const e=Re(t),n=ta(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hv;for(;D5(e);)try{const a=await c5(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,I5(e,a)}catch(a){await pd(e,a)}fR(e)&&dR(e)}function D5(t){return co(t)&&t.Ta.length<10}function I5(t,e){t.Ta.push(e);const n=ta(t);n.O_()&&n.X_&&n.ea(e.mutations)}function fR(t){return co(t)&&!ta(t).x_()&&t.Ta.length>0}function dR(t){ta(t).start()}async function N5(t){ta(t).ra()}async function M5(t){const e=ta(t);for(const n of t.Ta)e.ea(n.mutations)}async function P5(t,e,n){const r=t.Ta.shift(),a=Qv.from(r,e,n);await hR(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await $d(t)}async function V5(t,e){e&&ta(t).X_&&await(async function(r,a){if((function(u){return p3(u)&&u!==re.ABORTED})(a.code)){const l=r.Ta.shift();ta(r).B_(),await hR(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await $d(r)}})(t,e),fR(t)&&dR(t)}async function FS(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),me(eo,"RemoteStore received new credentials");const r=co(n);n.Ea.add(3),await jc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Xd(n)}async function O5(t,e){const n=Re(t);e?(n.Ea.delete(2),await Xd(n)):e||(n.Ea.add(2),await jc(n),n.Ra.set("Unknown"))}function kl(t){return t.ma||(t.ma=(function(n,r,a){const l=Re(n);return l.sa(),new _5(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:A5.bind(null,t),t_:x5.bind(null,t),r_:C5.bind(null,t),H_:R5.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),a0(t)?s0(t):t.Ra.set("Unknown")):(await t.ma.stop(),cR(t))}))),t.ma}function ta(t){return t.fa||(t.fa=(function(n,r,a){const l=Re(n);return l.sa(),new T5(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:N5.bind(null,t),r_:V5.bind(null,t),ta:M5.bind(null,t),na:P5.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await $d(t)):(await t.fa.stop(),t.Ta.length>0&&(me(eo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class o0{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const u=Date.now()+r,h=new o0(e,n,u,a,l);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function l0(t,e){if(Xr("AsyncQueue",`${e}: ${t}`),Vl(t))return new fe(re.UNAVAILABLE,`${e}: ${t}`);throw t}class fl{static emptySet(e){return new fl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=Xu(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class HS{constructor(){this.ga=new vt(_e.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Al{constructor(e,n,r,a,l,u,h,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,a,l){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Al(e,n,fl.emptySet(n),u,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class k5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class L5{constructor(){this.queries=qS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Re(n),l=a.queries;a.queries=qS(),l.forEach(((u,h)=>{for(const d of h.Sa)d.onError(r)}))})(this,new fe(re.ABORTED,"Firestore shutting down"))}}function qS(){return new uo((t=>VC(t)),Fd)}async function u0(t,e){const n=Re(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(r=2):(l=new k5,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=l0(u,`Initialization of query '${nl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&h0(n)}async function c0(t,e){const n=Re(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function j5(t,e){const n=Re(t);let r=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.Sa)h.Fa(a)&&(r=!0);u.wa=a}}r&&h0(n)}function U5(t,e,n){const r=Re(t),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);r.queries.delete(e)}function h0(t){t.Ca.forEach((e=>{e.next()}))}var jy,GS;(GS=jy||(jy={})).Ma="default",GS.Cache="cache";class f0{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Al(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jy.Cache}}class mR{constructor(e){this.key=e}}class pR{constructor(e){this.key=e}}class z5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=OC(e),this.tu=new fl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new HS,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const T=a.get(y),S=Hd(this.query,v)?v:null,R=!!T&&this.mutatedKeys.has(T.key),M=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let N=!1;T&&S?T.data.isEqual(S.data)?R!==M&&(r.track({type:3,doc:S}),N=!0):this.su(T,S)||(r.track({type:2,doc:S}),N=!0,(d&&this.eu(S,d)>0||p&&this.eu(S,p)<0)&&(h=!0)):!T&&S?(r.track({type:0,doc:S}),N=!0):T&&!S&&(r.track({type:1,doc:T}),N=!0,(d||p)&&(h=!0)),N&&(S?(u=u.add(S),l=M?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{tu:u,iu:r,Cs:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(S,R){const M=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:N})}};return M(S)-M(R)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(r),a=a??!1;const h=n&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,p=d!==this.Za;return this.Za=d,u.length!==0||p?{snapshot:new Al(this.query,e.tu,l,u,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new HS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new pR(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new mR(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const d0="SyncEngine";class B5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class F5{constructor(e){this.key=e,this.hu=!1}}class H5{constructor(e,n,r,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new uo((h=>VC(h)),Fd),this.Iu=new Map,this.Eu=new Set,this.du=new vt(_e.comparator),this.Au=new Map,this.Ru=new Jv,this.Vu={},this.mu=new Map,this.fu=Sl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function q5(t,e,n=!0){const r=ER(t);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await gR(r,e,n,!0),a}async function G5(t,e){const n=ER(t);await gR(n,e,!0,!1)}async function gR(t,e,n,r){const a=await h5(t.localStore,ar(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return r&&(h=await Y5(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&lR(t.remoteStore,a),h}async function Y5(t,e,n,r,a){t.pu=(v,T,S)=>(async function(M,N,j,B){let F=N.view.ru(j);F.Cs&&(F=await LS(M.localStore,N.query,!1).then((({documents:D})=>N.view.ru(D,F))));const W=B&&B.targetChanges.get(N.targetId),ee=B&&B.targetMismatches.get(N.targetId)!=null,oe=N.view.applyChanges(F,M.isPrimaryClient,W,ee);return KS(M,N.targetId,oe.au),oe.snapshot})(t,v,T,S);const l=await LS(t.localStore,e,!0),u=new z5(e,l.Qs),h=u.ru(l.documents),d=Lc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),p=u.applyChanges(h,t.isPrimaryClient,d);KS(t,n,p.au);const y=new B5(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function K5(t,e,n){const r=Re(t),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((u=>!Fd(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await ky(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&i0(r.remoteStore,a.targetId),Uy(r,a.targetId)})).catch(Pl)):(Uy(r,a.targetId),await ky(r.localStore,a.targetId,!0))}async function X5(t,e){const n=Re(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),i0(n.remoteStore,r.targetId))}async function $5(t,e,n){const r=nj(t);try{const a=await(function(u,h){const d=Re(u),p=ut.now(),y=h.reduce(((S,R)=>S.add(R.key)),Ue());let v,T;return d.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let R=$r(),M=Ue();return d.Ns.getEntries(S,y).next((N=>{R=N,R.forEach(((j,B)=>{B.isValidDocument()||(M=M.add(j))}))})).next((()=>d.localDocuments.getOverlayedDocuments(S,R))).next((N=>{v=N;const j=[];for(const B of h){const F=c3(B,v.get(B.key).overlayedDocument);F!=null&&j.push(new aa(B.key,F,xC(F.value.mapValue),hi.exists(!0)))}return d.mutationQueue.addMutationBatch(S,p,j,h)})).next((N=>{T=N;const j=N.applyToLocalDocumentSet(v,M);return d.documentOverlayCache.saveOverlays(S,N.batchId,j)}))})).then((()=>({batchId:T.batchId,changes:LC(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,h,d){let p=u.Vu[u.currentUser.toKey()];p||(p=new vt(je)),p=p.insert(h,d),u.Vu[u.currentUser.toKey()]=p})(r,a.batchId,n),await Uc(r,a.changes),await $d(r.remoteStore)}catch(a){const l=l0(a,"Failed to persist write");n.reject(l)}}async function yR(t,e){const n=Re(t);try{const r=await l5(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(Xe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Xe(u.hu,14607):a.removedDocuments.size>0&&(Xe(u.hu,42227),u.hu=!1))})),await Uc(n,r,e)}catch(r){await Pl(r)}}function YS(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const d=Re(u);d.onlineState=h;let p=!1;d.queries.forEach(((y,v)=>{for(const T of v.Sa)T.va(h)&&(p=!0)})),p&&h0(d)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Q5(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),l=a&&a.key;if(l){let u=new vt(_e.comparator);u=u.insert(l,hn.newNoDocument(l,xe.min()));const h=Ue().add(l),d=new Yd(xe.min(),new Map,new vt(je),u,h);await yR(r,d),r.du=r.du.remove(l),r.Au.delete(e),m0(r)}else await ky(r.localStore,e,!1).then((()=>Uy(r,e,n))).catch(Pl)}async function W5(t,e){const n=Re(t),r=e.batch.batchId;try{const a=await o5(n.localStore,e);_R(n,r,null),vR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Uc(n,a)}catch(a){await Pl(a)}}async function Z5(t,e,n){const r=Re(t);try{const a=await(function(u,h){const d=Re(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return d.mutationQueue.lookupMutationBatch(p,h).next((v=>(Xe(v!==null,37113),y=v.keys(),d.mutationQueue.removeMutationBatch(p,v)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>d.localDocuments.getDocuments(p,y)))}))})(r.localStore,e);_R(r,e,n),vR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Uc(r,a)}catch(a){await Pl(a)}}function vR(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function _R(t,e,n){const r=Re(t);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function Uy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||TR(t,r)}))}function TR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(i0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),m0(t))}function KS(t,e,n){for(const r of n)r instanceof mR?(t.Ru.addReference(r.key,e),J5(t,r)):r instanceof pR?(me(d0,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||TR(t,r.key)):be(19791,{wu:r})}function J5(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(me(d0,"New document in limbo: "+n),t.Eu.add(r),m0(t))}function m0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new _e(at.fromString(e)),r=t.fu.next();t.Au.set(r,new F5(n)),t.du=t.du.insert(n,r),lR(t.remoteStore,new zs(ar(Bd(n.path)),r,"TargetPurposeLimboResolution",jd.ce))}}async function Uc(t,e,n){const r=Re(t),a=[],l=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{u.push(r.pu(d,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){a.push(p);const y=t0.As(d.targetId,p);l.push(y)}})))})),await Promise.all(u),r.Pu.H_(a),await(async function(d,p){const y=Re(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ae.forEach(p,(T=>ae.forEach(T.Es,(S=>y.persistence.referenceDelegate.addReference(v,T.targetId,S))).next((()=>ae.forEach(T.ds,(S=>y.persistence.referenceDelegate.removeReference(v,T.targetId,S)))))))))}catch(v){if(!Vl(v))throw v;me(n0,"Failed to update sequence numbers: "+v)}for(const v of p){const T=v.targetId;if(!v.fromCache){const S=y.Ms.get(T),R=S.snapshotVersion,M=S.withLastLimboFreeSnapshotVersion(R);y.Ms=y.Ms.insert(T,M)}}})(r.localStore,l))}async function ej(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){me(d0,"User change. New user:",e.toKey());const r=await rR(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new fe(re.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Uc(n,r.Ls)}}function tj(t,e){const n=Re(t),r=n.Au.get(e);if(r&&r.hu)return Ue().add(r.key);{let a=Ue();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function ER(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Q5.bind(null,e),e.Pu.H_=j5.bind(null,e.eventManager),e.Pu.yu=U5.bind(null,e.eventManager),e}function nj(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=W5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Z5.bind(null,e),e}class gd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return a5(this.persistence,new i5,e.initialUser,this.serializer)}Cu(e){return new iR(e0.mi,this.serializer)}Du(e){return new d5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gd.provider={build:()=>new gd};class ij extends gd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof md,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new F3(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new iR((r=>md.mi(r,n)),this.serializer)}}class zy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>YS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ej.bind(null,this.syncEngine),await O5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new L5})()}createDatastore(e){const n=Kd(e.databaseInfo.databaseId),r=(function(l){return new v5(l)})(e.databaseInfo);return(function(l,u,h,d){return new b5(l,u,h,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,l,u,h){return new S5(r,a,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>YS(this.syncEngine,n,0)),(function(){return zS.v()?new zS:new m5})())}createSyncEngine(e,n){return(function(a,l,u,h,d,p,y){const v=new H5(a,l,u,h,d,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Re(n);me(eo,"RemoteStore shutting down."),r.Ea.add(5),await jc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zy.provider={build:()=>new zy};class p0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const na="FirestoreClient";class rj{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=un.UNAUTHENTICATED,this.clientId=Fv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async u=>{me(na,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(me(na,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=l0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function zg(t,e){t.asyncQueue.verifyOperationInProgress(),me(na,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await rR(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function XS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sj(t);me(na,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>FS(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>FS(e.remoteStore,a))),t._onlineComponents=e}async function sj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(na,"Using user provided OfflineComponentProvider");try{await zg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===re.FAILED_PRECONDITION||a.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Tl("Error using user provided cache. Falling back to memory cache: "+n),await zg(t,new gd)}}else me(na,"Using default OfflineComponentProvider"),await zg(t,new ij(void 0));return t._offlineComponents}async function bR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(na,"Using user provided OnlineComponentProvider"),await XS(t,t._uninitializedComponentsProvider._online)):(me(na,"Using default OnlineComponentProvider"),await XS(t,new zy))),t._onlineComponents}function aj(t){return bR(t).then((e=>e.syncEngine))}async function yd(t){const e=await bR(t),n=e.eventManager;return n.onListen=q5.bind(null,e.syncEngine),n.onUnlisten=K5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=G5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=X5.bind(null,e.syncEngine),n}function oj(t,e,n={}){const r=new Fr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,p){const y=new p0({next:T=>{y.Nu(),u.enqueueAndForget((()=>c0(l,v)));const S=T.docs.has(h);!S&&T.fromCache?p.reject(new fe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&T.fromCache&&d&&d.source==="server"?p.reject(new fe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),v=new f0(Bd(h.path),y,{includeMetadataChanges:!0,qa:!0});return u0(l,v)})(await yd(t),t.asyncQueue,e,n,r))),r.promise}function lj(t,e,n={}){const r=new Fr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,p){const y=new p0({next:T=>{y.Nu(),u.enqueueAndForget((()=>c0(l,v))),T.fromCache&&d.source==="server"?p.reject(new fe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),v=new f0(h,y,{includeMetadataChanges:!0,qa:!0});return u0(l,v)})(await yd(t),t.asyncQueue,e,n,r))),r.promise}function wR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const $S=new Map;const SR="firestore.googleapis.com",QS=!0;class WS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SR,this.ssl=QS}else this.host=e.host,this.ssl=e.ssl??QS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<z3)throw new fe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}S6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qd{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new m6;switch(r.type){case"firstParty":return new v6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=$S.get(n);r&&(me("ComponentProvider","Removing Datastore"),$S.delete(n),r.terminate())})(this),Promise.resolve()}}function uj(t,e,n,r={}){t=Dn(t,Qd);const a=Il(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(Qx(`https://${h}`),Wx("Firestore",!0)),l.host!==SR&&l.host!==h&&Tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:a,emulatorOptions:r};if(!Qs(d,u)&&(t._setSettings(d),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=un.MOCK_USER;else{p=j4(r.mockUserToken,t._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new fe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new un(v)}t._authCredentials=new p6(new mC(p,y))}}class Zr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zr(this.firestore,e,this._query)}}class wt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Oc(n,wt._jsonSchema))return new wt(e,r||null,new _e(at.fromString(n.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:Ft("string",wt._jsonSchemaVersion),referencePath:Ft("string")};class Ys extends Zr{constructor(e,n,r){super(e,n,Bd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new _e(e))}withConverter(e){return new Ys(this.firestore,e,this._path)}}function Bs(t,e,...n){if(t=yt(t),pC("collection","path",e),t instanceof Qd){const r=at.fromString(e,...n);return cS(r),new Ys(t,null,r)}{if(!(t instanceof wt||t instanceof Ys))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return cS(r),new Ys(t.firestore,null,r)}}function lr(t,e,...n){if(t=yt(t),arguments.length===1&&(e=Fv.newId()),pC("doc","path",e),t instanceof Qd){const r=at.fromString(e,...n);return uS(r),new wt(t,null,new _e(r))}{if(!(t instanceof wt||t instanceof Ys))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return uS(r),new wt(t.firestore,t instanceof Ys?t.converter:null,new _e(r))}}const ZS="AsyncQueue";class JS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aR(this,"async_queue_retry"),this._c=()=>{const r=Ug();r&&me(ZS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ug();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ug();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Vl(e))throw e;me(ZS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Xr("INTERNAL UNHANDLED ERROR: ",eA(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=o0.createAndSchedule(this,e,n,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&be(47125,{Pc:eA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function eA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function tA(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class Qr extends Qd{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new JS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JS(e),this._firestoreClient=void 0,await e}}}function cj(t,e){const n=typeof t=="object"?t:zv(),r=typeof t=="string"?t:od,a=lo(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=k4("firestore");l&&uj(a,...l)}return a}function Wd(t){if(t._terminated)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||hj(t),t._firestoreClient}function hj(t){const e=t._freezeSettings(),n=(function(a,l,u,h){return new O6(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,wR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new rj(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ri(an.fromBase64String(e))}catch(n){throw new fe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ri(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Oc(e,ri._jsonSchema))return ri.fromBase64String(e.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:Ft("string",ri._jsonSchemaVersion),bytes:Ft("string")};class Zd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class g0{constructor(e){this._methodName=e}}class ur{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ur._jsonSchemaVersion}}static fromJSON(e){if(Oc(e,ur._jsonSchema))return new ur(e.latitude,e.longitude)}}ur._jsonSchemaVersion="firestore/geoPoint/1.0",ur._jsonSchema={type:Ft("string",ur._jsonSchemaVersion),latitude:Ft("number"),longitude:Ft("number")};class cr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:cr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Oc(e,cr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new cr(e.vectorValues);throw new fe(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cr._jsonSchemaVersion="firestore/vectorValue/1.0",cr._jsonSchema={type:Ft("string",cr._jsonSchemaVersion),vectorValues:Ft("object")};const fj=/^__.*__$/;class dj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new aa(e,this.data,this.fieldMask,n,this.fieldTransforms):new kc(e,this.data,n,this.fieldTransforms)}}class AR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new aa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:t})}}class y0{constructor(e,n,r,a,l,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new y0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return vd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(xR(this.Ac)&&fj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class mj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kd(e)}Cc(e,n,r,a=!1){return new y0({Ac:e,methodName:n,Dc:r,path:sn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jd(t){const e=t._freezeSettings(),n=Kd(t._databaseId);return new mj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function CR(t,e,n,r,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);v0("Data must be an object, but it was:",u,r);const h=RR(r,u);let d,p;if(l.merge)d=new Un(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const T=By(e,v,n);if(!u.contains(T))throw new fe(re.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);IR(y,T)||y.push(T)}d=new Un(y),p=u.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,p=u.fieldTransforms;return new dj(new Cn(h),d,p)}class em extends g0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof em}}function pj(t,e,n,r){const a=t.Cc(1,e,n);v0("Data must be an object, but it was:",a,r);const l=[],u=Cn.empty();sa(r,((d,p)=>{const y=_0(e,d,n);p=yt(p);const v=a.yc(y);if(p instanceof em)l.push(y);else{const T=zc(p,v);T!=null&&(l.push(y),u.set(y,T))}}));const h=new Un(l);return new AR(u,h,a.fieldTransforms)}function gj(t,e,n,r,a,l){const u=t.Cc(1,e,n),h=[By(e,r,n)],d=[a];if(l.length%2!=0)throw new fe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)h.push(By(e,l[T])),d.push(l[T+1]);const p=[],y=Cn.empty();for(let T=h.length-1;T>=0;--T)if(!IR(p,h[T])){const S=h[T];let R=d[T];R=yt(R);const M=u.yc(S);if(R instanceof em)p.push(S);else{const N=zc(R,M);N!=null&&(p.push(S),y.set(S,N))}}const v=new Un(p);return new AR(y,v,u.fieldTransforms)}function yj(t,e,n,r=!1){return zc(n,t.Cc(r?4:3,e))}function zc(t,e){if(DR(t=yt(t)))return v0("Unsupported field value:",e,t),RR(t,e);if(t instanceof g0)return(function(r,a){if(!xR(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let u=0;for(const h of r){let d=zc(h,a.wc(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}})(t,e)}return(function(r,a){if((r=yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return r3(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=ut.fromDate(r);return{timestampValue:dd(a.serializer,l)}}if(r instanceof ut){const l=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:dd(a.serializer,l)}}if(r instanceof ur)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ri)return{bytesValue:$C(a.serializer,r._byteString)};if(r instanceof wt){const l=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Zv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof cr)return(function(u,h){return{mapValue:{fields:{[SC]:{stringValue:AC},[ld]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return Xv(h.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Ld(r)}`)})(t,e)}function RR(t,e){const n={};return vC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sa(t,((r,a)=>{const l=zc(a,e.mc(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function DR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof ur||t instanceof ri||t instanceof wt||t instanceof g0||t instanceof cr)}function v0(t,e,n){if(!DR(n)||!gC(n)){const r=Ld(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function By(t,e,n){if((e=yt(e))instanceof Zd)return e._internalPath;if(typeof e=="string")return _0(t,e);throw vd("Field path arguments must be of type string or ",t,!1,void 0,n)}const vj=new RegExp("[~\\*/\\[\\]]");function _0(t,e,n){if(e.search(vj)>=0)throw vd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zd(...e.split("."))._internalPath}catch{throw vd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vd(t,e,n,r,a){const l=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${r}`),u&&(d+=` in document ${a}`),d+=")"),new fe(re.INVALID_ARGUMENT,h+t+d)}function IR(t,e){return t.some((n=>n.isEqual(e)))}class NR{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _j(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(T0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _j extends NR{data(){return super.data()}}function T0(t,e){return typeof e=="string"?_0(t,e):e instanceof Zd?e._internalPath:e._delegate._internalPath}function MR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class E0{}class b0 extends E0{}function Tj(t,e,...n){let r=[];e instanceof E0&&r.push(e),r=r.concat(n),(function(l){const u=l.filter((d=>d instanceof S0)).length,h=l.filter((d=>d instanceof w0)).length;if(u>1||u>0&&h>0)throw new fe(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class w0 extends b0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new w0(e,n,r)}_apply(e){const n=this._parse(e);return PR(e._query,n),new Zr(e.firestore,e.converter,Ny(e._query,n))}_parse(e){const n=Jd(e.firestore);return(function(l,u,h,d,p,y,v){let T;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new fe(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){iA(v,y);const R=[];for(const M of v)R.push(nA(d,l,M));T={arrayValue:{values:R}}}else T=nA(d,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||iA(v,y),T=yj(h,u,v,y==="in"||y==="not-in");return Bt.create(p,y,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class S0 extends E0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new S0(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ni.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const h=l.getFlattenedFilters();for(const d of h)PR(u,d),u=Ny(u,d)})(e._query,n),new Zr(e.firestore,e.converter,Ny(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class A0 extends b0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new A0(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new fe(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new fe(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tc(l,u)})(e._query,this._field,this._direction);return new Zr(e.firestore,e.converter,(function(a,l){const u=a.explicitOrderBy.concat([l]);return new Ol(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Ej(t,e="asc"){const n=e,r=T0("orderBy",t);return A0._create(r,n)}class x0 extends b0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new x0(e,n,r)}_apply(e){return new Zr(e.firestore,e.converter,cd(e._query,this._limit,this._limitType))}}function bj(t){return x0._create("limit",t,"F")}function nA(t,e,n){if(typeof(n=yt(n))=="string"){if(n==="")throw new fe(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PC(e)&&n.indexOf("/")!==-1)throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(at.fromString(n));if(!_e.isDocumentKey(r))throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vS(t,new _e(r))}if(n instanceof wt)return vS(t,n._key);throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ld(n)}.`)}function iA(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PR(t,e){const n=(function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class wj{convertValue(e,n="none"){switch(ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return sa(e,((a,l)=>{r[a]=this.convertValue(l,n)})),r}convertVectorValue(e){const n=e.fields?.[ld].arrayValue?.values?.map((r=>It(r.doubleValue)));return new cr(n)}convertGeoPoint(e){return new ur(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yc(e));default:return null}}convertTimestamp(e){const n=Zs(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=at.fromString(e);Xe(tR(r),9688,{name:e});const a=new vc(r.get(1),r.get(3)),l=new _e(r.popFirst(5));return a.isEqual(n)||Xr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function VR(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Qu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qa extends NR{constructor(e,n,r,a,l,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(T0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qa._jsonSchema={type:Ft("string",Qa._jsonSchemaVersion),bundleSource:Ft("string","DocumentSnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class Kf extends Qa{data(e={}){return super.data(e)}}class Wa{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Qu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Kf(this._firestore,this._userDataWriter,r.key,r,new Qu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const d=new Kf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Qu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new Kf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Qu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:Sj(h.type),doc:d,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Sj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:t})}}function _d(t){t=Dn(t,wt);const e=Dn(t.firestore,Qr);return oj(Wd(e),t._key).then((n=>kR(e,t,n)))}Wa._jsonSchemaVersion="firestore/querySnapshot/1.0",Wa._jsonSchema={type:Ft("string",Wa._jsonSchemaVersion),bundleSource:Ft("string","QuerySnapshot"),bundleName:Ft("string"),bundle:Ft("string")};class C0 extends wj{constructor(e){super(),this.firestore=e}convertBytes(e){return new ri(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}}function wc(t){t=Dn(t,Zr);const e=Dn(t.firestore,Qr),n=Wd(e),r=new C0(e);return MR(t._query),lj(n,t._query).then((a=>new Wa(e,r,t,a)))}function OR(t,e,n){t=Dn(t,wt);const r=Dn(t.firestore,Qr),a=VR(t.converter,e);return tm(r,[CR(Jd(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,hi.none())])}function Aj(t,e,n,...r){t=Dn(t,wt);const a=Dn(t.firestore,Qr),l=Jd(a);let u;return u=typeof(e=yt(e))=="string"||e instanceof Zd?gj(l,"updateDoc",t._key,e,n,r):pj(l,"updateDoc",t._key,e),tm(a,[u.toMutation(t._key,hi.exists(!0))])}function R0(t){return tm(Dn(t.firestore,Qr),[new $v(t._key,hi.none())])}function rA(t,e){const n=Dn(t.firestore,Qr),r=lr(t),a=VR(t.converter,e);return tm(n,[CR(Jd(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,hi.exists(!1))]).then((()=>r))}function xj(t,...e){t=yt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||tA(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(tA(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let l,u,h;if(t instanceof wt)u=Dn(t.firestore,Qr),h=Bd(t._key.path),l={next:d=>{e[r]&&e[r](kR(u,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Dn(t,Zr);u=Dn(d.firestore,Qr),h=d._query;const p=new C0(u);l={next:y=>{e[r]&&e[r](new Wa(u,p,d,y))},error:e[r+1],complete:e[r+2]},MR(t._query)}return(function(p,y,v,T){const S=new p0(T),R=new f0(y,S,v);return p.asyncQueue.enqueueAndForget((async()=>u0(await yd(p),R))),()=>{S.Nu(),p.asyncQueue.enqueueAndForget((async()=>c0(await yd(p),R)))}})(Wd(u),h,a,l)}function tm(t,e){return(function(r,a){const l=new Fr;return r.asyncQueue.enqueueAndForget((async()=>$5(await aj(r),a,l))),l.promise})(Wd(t),e)}function kR(t,e,n){const r=n.docs.get(e._key),a=new C0(t);return new Qa(t,a,e._key,r,new Qu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Ml=a})(Nl),dr(new Ii("firestore",((r,{instanceIdentifier:a,options:l})=>{const u=r.getProvider("app").getImmediate(),h=new Qr(new g6(r.getProvider("auth-internal")),new _6(u,r.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new fe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vc(p.options.projectId,y)})(u,a),u);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),ci(sS,aS,e),ci(sS,aS,"esm2020")})();function LR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Cj=LR,jR=new oo("auth","Firebase",LR());const Td=new kd("@firebase/auth");function Rj(t,...e){Td.logLevel<=Le.WARN&&Td.warn(`Auth (${Nl}): ${t}`,...e)}function Xf(t,...e){Td.logLevel<=Le.ERROR&&Td.error(`Auth (${Nl}): ${t}`,...e)}function Mi(t,...e){throw D0(t,...e)}function hr(t,...e){return D0(t,...e)}function UR(t,e,n){const r={...Cj(),[e]:n};return new oo("auth","Firebase",r).create(e,{appName:t.name})}function Hr(t){return UR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function D0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jR.create(t,...e)}function Ee(t,e,...n){if(!t)throw D0(e,...n)}function Ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xf(e),new Error(e)}function Wr(t,e){t||Ur(e)}function Fy(){return typeof self<"u"&&self.location?.href||""}function Dj(){return sA()==="http:"||sA()==="https:"}function sA(){return typeof self<"u"&&self.location?.protocol||null}function Ij(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Dj()||Zx()||"connection"in navigator)?navigator.onLine:!0}function Nj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Bc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wr(n>e,"Short delay should be less than long delay!"),this.isMobile=B4()||q4()}get(){return Ij()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function I0(t,e){Wr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class zR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Mj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Pj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Vj=new Bc(3e4,6e4);function oa(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function la(t,e,n,r,a={}){return BR(t,a,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const h=Vc({key:t.config.apiKey,...u}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:d,...l};return H4()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Il(t.emulatorConfig.host)&&(p.credentials="include"),zR.fetch()(await FR(t,t.config.apiHost,n,h),p)})}async function BR(t,e,n){t._canInitEmulator=!1;const r={...Mj,...e};try{const a=new kj(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Pf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pf(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Pf(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw Pf(t,"user-disabled",u);const y=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw UR(t,y,p);Mi(t,y)}}catch(a){if(a instanceof Pi)throw a;Mi(t,"network-request-failed",{message:String(a)})}}async function Fc(t,e,n,r,a={}){const l=await la(t,e,n,r,a);return"mfaPendingCredential"in l&&Mi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function FR(t,e,n,r){const a=`${e}${n}?${r}`,l=t,u=l.config.emulator?I0(t.config,a):`${t.config.apiScheme}://${a}`;return Pj.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function Oj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(hr(this.auth,"network-request-failed")),Vj.get())})}}function Pf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=hr(t,e,r);return a.customData._tokenResponse=n,a}function aA(t){return t!==void 0&&t.enterprise!==void 0}class Lj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Oj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jj(t,e){return la(t,"GET","/v2/recaptchaConfig",oa(t,e))}async function Uj(t,e){return la(t,"POST","/v1/accounts:delete",e)}async function Ed(t,e){return la(t,"POST","/v1/accounts:lookup",e)}function oc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zj(t,e=!1){const n=yt(t),r=await n.getIdToken(e),a=N0(r);Ee(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:r,authTime:oc(Bg(a.auth_time)),issuedAtTime:oc(Bg(a.iat)),expirationTime:oc(Bg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Bg(t){return Number(t)*1e3}function N0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xf("JWT malformed, contained fewer than 3 sections"),null;try{const a=Yx(n);return a?JSON.parse(a):(Xf("Failed to decode base64 JWT payload"),null)}catch(a){return Xf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function oA(t){const e=N0(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Sc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pi&&Bj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Bj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class Fj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Hy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=oc(this.lastLoginAt),this.creationTime=oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function bd(t){const e=t.auth,n=await t.getIdToken(),r=await Sc(t,Ed(e,{idToken:n}));Ee(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?HR(a.providerUserInfo):[],u=qj(t.providerData,l),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!u?.length,p=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Hy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function Hj(t){const e=yt(t);await bd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qj(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function HR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Gj(t,e){const n=await BR(t,{},async()=>{const r=Vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await FR(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return t.emulatorConfig&&Il(t.emulatorConfig.host)&&(d.credentials="include"),zR.fetch()(u,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Yj(t,e){return la(t,"POST","/v2/accounts:revokeToken",oa(t,e))}class dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=oA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await Gj(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,u=new dl;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(Ee(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ee(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dl,this.toJSON())}_performRefresh(){return Ur("not implemented")}}function Ps(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Di{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new Fj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Hy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Sc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zj(this,e)}reload(){return Hj(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Di({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await bd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(Hr(this.auth));const e=await this.getIdToken();return await Sc(this,Uj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:T,isAnonymous:S,providerData:R,stsTokenManager:M}=n;Ee(v&&M,e,"internal-error");const N=dl.fromJSON(this.name,M);Ee(typeof v=="string",e,"internal-error"),Ps(r,e.name),Ps(a,e.name),Ee(typeof T=="boolean",e,"internal-error"),Ee(typeof S=="boolean",e,"internal-error"),Ps(l,e.name),Ps(u,e.name),Ps(h,e.name),Ps(d,e.name),Ps(p,e.name),Ps(y,e.name);const j=new Di({uid:v,auth:e,email:a,emailVerified:T,displayName:r,isAnonymous:S,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:N,createdAt:p,lastLoginAt:y});return R&&Array.isArray(R)&&(j.providerData=R.map(B=>({...B}))),d&&(j._redirectEventId=d),j}static async _fromIdTokenResponse(e,n,r=!1){const a=new dl;a.updateFromServerResponse(n);const l=new Di({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await bd(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Ee(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?HR(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new dl;h.updateFromIdToken(r);const d=new Di({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Hy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,p),d}}const lA=new Map;function zr(t){Wr(t instanceof Function,"Expected a class definition");let e=lA.get(t);return e?(Wr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lA.set(t,e),e)}class qR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qR.type="NONE";const uA=qR;function $f(t,e,n){return`firebase:${t}:${e}:${n}`}class ml{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=$f(this.userKey,a.apiKey,l),this.fullPersistenceKey=$f("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ed(this.auth,{idToken:e}).catch(()=>{});return n?Di._fromGetAccountInfoResponse(this.auth,n,e):null}return Di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ml(zr(uA),e,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||zr(uA);const u=$f(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const y=await p._get(u);if(y){let v;if(typeof y=="string"){const T=await Ed(e,{idToken:y}).catch(()=>{});if(!T)break;v=await Di._fromGetAccountInfoResponse(e,T,y)}else v=Di._fromJSON(e,y);p!==l&&(h=v),l=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new ml(l,e,r):(l=d[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new ml(l,e,r))}}function cA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QR(e))return"Blackberry";if(WR(e))return"Webos";if(YR(e))return"Safari";if((e.includes("chrome/")||KR(e))&&!e.includes("edge/"))return"Chrome";if($R(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function GR(t=dn()){return/firefox\//i.test(t)}function YR(t=dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KR(t=dn()){return/crios\//i.test(t)}function XR(t=dn()){return/iemobile/i.test(t)}function $R(t=dn()){return/android/i.test(t)}function QR(t=dn()){return/blackberry/i.test(t)}function WR(t=dn()){return/webos/i.test(t)}function M0(t=dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Kj(t=dn()){return M0(t)&&!!window.navigator?.standalone}function Xj(){return G4()&&document.documentMode===10}function ZR(t=dn()){return M0(t)||$R(t)||WR(t)||QR(t)||/windows phone/i.test(t)||XR(t)}function JR(t,e=[]){let n;switch(t){case"Browser":n=cA(dn());break;case"Worker":n=`${cA(dn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Nl}/${r}`}class $j{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((u,h)=>{try{const d=e(l);u(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Qj(t,e={}){return la(t,"GET","/v2/passwordPolicy",oa(t,e))}const Wj=6;class Zj{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Wj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class Jj{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hA(this),this.idTokenSubscription=new hA(this),this.beforeStateQueue=new $j(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ml.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ed(this,{idToken:e}),r=await Di._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ii(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Nj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(Hr(this));const n=e?yt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(Hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(Hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Qj(this),n=new Zj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Yj(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await ml.create(this,[zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Rj(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ho(t){return yt(t)}class hA{constructor(e){this.auth=e,this.observer=null,this.addObserver=Z4(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let nm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eU(t){nm=t}function e2(t){return nm.loadJS(t)}function tU(){return nm.recaptchaEnterpriseScript}function nU(){return nm.gapiScript}function iU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class rU{constructor(){this.enterprise=new sU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class sU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const aU="recaptcha-enterprise",t2="NO_RECAPTCHA";class oU{constructor(e){this.type=aU,this.auth=ho(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{jj(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new Lj(d);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(d=>{h(d)})})}function a(l,u,h){const d=window.grecaptcha;aA(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(t2)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rU().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{r(this.auth).then(h=>{if(!n&&aA(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=tU();d.length!==0&&(d+=h),e2(d).then(()=>{a(h,l,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function fA(t,e,n,r=!1,a=!1){const l=new oU(t);let u;if(a)u=t2;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function qy(t,e,n,r,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await fA(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await fA(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(l)})}function lU(t,e){const n=lo(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Qs(l,e??{}))return a;Mi(a,"already-initialized")}return n.initialize({options:e})}function uU(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(zr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function cU(t,e,n){const r=ho(t);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=n2(e),{host:u,port:h}=hU(e),d=h===null?"":`:${h}`,p={url:`${l}//${u}${d}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(Qs(p,r.config.emulator)&&Qs(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Il(u)?(Qx(`${l}//${u}${d}`),Wx("Auth",!0)):fU()}function n2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hU(t){const e=n2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:dA(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:dA(u)}}}function dA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function fU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class P0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,n){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}async function dU(t,e){return la(t,"POST","/v1/accounts:signUp",e)}async function mU(t,e){return Fc(t,"POST","/v1/accounts:signInWithPassword",oa(t,e))}async function pU(t,e){return Fc(t,"POST","/v1/accounts:signInWithEmailLink",oa(t,e))}async function gU(t,e){return Fc(t,"POST","/v1/accounts:signInWithEmailLink",oa(t,e))}class Ac extends P0{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Ac(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ac(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qy(e,n,"signInWithPassword",mU);case"emailLink":return pU(e,{email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qy(e,r,"signUpPassword",dU);case"emailLink":return gU(e,{idToken:n,email:this._email,oobCode:this._password});default:Mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function pl(t,e){return Fc(t,"POST","/v1/accounts:signInWithIdp",oa(t,e))}const yU="http://localhost";class to extends P0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new to(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=n;if(!r||!a)return null;const u=new to(r,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return pl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,pl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pl(e,n)}buildRequest(){const e={requestUri:yU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vc(n)}return e}}function vU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _U(t){const e=Gu(Yu(t)).link,n=e?Gu(Yu(e)).deep_link_id:null,r=Gu(Yu(t)).deep_link_id;return(r?Gu(Yu(r)).link:null)||r||n||e||t}class V0{constructor(e){const n=Gu(Yu(e)),r=n.apiKey??null,a=n.oobCode??null,l=vU(n.mode??null);Ee(r&&a&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=_U(e);try{return new V0(n)}catch{return null}}}class Ll{constructor(){this.providerId=Ll.PROVIDER_ID}static credential(e,n){return Ac._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=V0.parseLink(n);return Ee(r,"argument-error"),Ac._fromEmailAndCode(e,r.code,r.tenantId)}}Ll.PROVIDER_ID="password";Ll.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ll.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class i2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Hc extends i2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Os extends Hc{constructor(){super("facebook.com")}static credential(e){return to._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.FACEBOOK_SIGN_IN_METHOD="facebook.com";Os.PROVIDER_ID="facebook.com";class ks extends Hc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return to._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ks.credential(n,r)}catch{return null}}}ks.GOOGLE_SIGN_IN_METHOD="google.com";ks.PROVIDER_ID="google.com";class Ls extends Hc{constructor(){super("github.com")}static credential(e){return to._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.GITHUB_SIGN_IN_METHOD="github.com";Ls.PROVIDER_ID="github.com";class js extends Hc{constructor(){super("twitter.com")}static credential(e,n){return to._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return js.credential(n,r)}catch{return null}}}js.TWITTER_SIGN_IN_METHOD="twitter.com";js.PROVIDER_ID="twitter.com";async function TU(t,e){return Fc(t,"POST","/v1/accounts:signUp",oa(t,e))}class no{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await Di._fromIdTokenResponse(e,r,a),u=mA(r);return new no({user:l,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=mA(r);return new no({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function mA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class wd extends Pi{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,wd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new wd(e,n,r,a)}}function r2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?wd._fromErrorAndOperation(t,l,e,r):l})}async function EU(t,e,n=!1){const r=await Sc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return no._forOperation(t,"link",r)}async function bU(t,e,n=!1){const{auth:r}=t;if(ii(r.app))return Promise.reject(Hr(r));const a="reauthenticate";try{const l=await Sc(t,r2(r,a,e,t),n);Ee(l.idToken,r,"internal-error");const u=N0(l.idToken);Ee(u,r,"internal-error");const{sub:h}=u;return Ee(t.uid===h,r,"user-mismatch"),no._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Mi(r,"user-mismatch"),l}}async function s2(t,e,n=!1){if(ii(t.app))return Promise.reject(Hr(t));const r="signIn",a=await r2(t,r,e),l=await no._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}async function wU(t,e){return s2(ho(t),e)}async function a2(t){const e=ho(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function o2(t,e,n){if(ii(t.app))return Promise.reject(Hr(t));const r=ho(t),u=await qy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TU).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&a2(t),d}),h=await no._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function SU(t,e,n){return ii(t.app)?Promise.reject(Hr(t)):wU(yt(t),Ll.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&a2(t),r})}function AU(t,e){return yt(t).setPersistence(e)}function xU(t,e,n,r){return yt(t).onIdTokenChanged(e,n,r)}function CU(t,e,n){return yt(t).beforeAuthStateChanged(e,n)}function l2(t,e,n,r){return yt(t).onAuthStateChanged(e,n,r)}function xc(t){return yt(t).signOut()}const Sd="__sak";class u2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sd,"1"),this.storage.removeItem(Sd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const RU=1e3,DU=10;class c2 extends u2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);Xj()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,DU):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},RU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}c2.type="LOCAL";const h2=c2;class f2 extends u2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}f2.type="SESSION";const d2=f2;function IU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class im{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new im(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async p=>p(n.origin,l)),d=await IU(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}im.receivers=[];function O0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class NU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,d)=>{const p=O0("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(v){const T=v;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(T.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function fr(){return window}function MU(t){fr().location.href=t}function m2(){return typeof fr().WorkerGlobalScope<"u"&&typeof fr().importScripts=="function"}async function PU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VU(){return navigator?.serviceWorker?.controller||null}function OU(){return m2()?self:null}const p2="firebaseLocalStorageDb",kU=1,Ad="firebaseLocalStorage",g2="fbase_key";class qc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rm(t,e){return t.transaction([Ad],e?"readwrite":"readonly").objectStore(Ad)}function LU(){const t=indexedDB.deleteDatabase(p2);return new qc(t).toPromise()}function Gy(){const t=indexedDB.open(p2,kU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ad,{keyPath:g2})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ad)?e(r):(r.close(),await LU(),e(await Gy()))})})}async function pA(t,e,n){const r=rm(t,!0).put({[g2]:e,value:n});return new qc(r).toPromise()}async function jU(t,e){const n=rm(t,!1).get(e),r=await new qc(n).toPromise();return r===void 0?null:r.value}function gA(t,e){const n=rm(t,!0).delete(e);return new qc(n).toPromise()}const UU=800,zU=3;class y2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>zU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return m2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=im._getInstance(OU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await PU(),!this.activeServiceWorker)return;this.sender=new NU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gy();return await pA(e,Sd,"1"),await gA(e,Sd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>pA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>jU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=rm(a,!1).getAll();return new qc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}y2.type="LOCAL";const BU=y2;new Bc(3e4,6e4);function FU(t,e){return e?zr(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class k0 extends P0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HU(t){return s2(t.auth,new k0(t),t.bypassAuthState)}function qU(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),bU(n,new k0(t),t.bypassAuthState)}async function GU(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),EU(n,new k0(t),t.bypassAuthState)}class v2{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HU;case"linkViaPopup":case"linkViaRedirect":return GU;case"reauthViaPopup":case"reauthViaRedirect":return qU;default:Mi(this.auth,"internal-error")}}resolve(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const YU=new Bc(2e3,1e4);class cl extends v2{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,cl.currentPopupAction&&cl.currentPopupAction.cancel(),cl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Wr(this.filter.length===1,"Popup operations only handle one event");const e=O0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,YU.get())};e()}}cl.currentPopupAction=null;const KU="pendingRedirect",Qf=new Map;class XU extends v2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qf.get(this.auth._key());if(!e){try{const r=await $U(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qf.set(this.auth._key(),e)}return this.bypassAuthState||Qf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $U(t,e){const n=ZU(e),r=WU(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function QU(t,e){Qf.set(t._key(),e)}function WU(t){return zr(t._redirectPersistence)}function ZU(t){return $f(KU,t.config.apiKey,t.name)}async function JU(t,e,n=!1){if(ii(t.app))return Promise.reject(Hr(t));const r=ho(t),a=FU(r,e),u=await new XU(r,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const e9=600*1e3;class t9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!_2(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(hr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e9&&this.cachedEventUids.clear(),this.cachedEventUids.has(yA(e))}saveEventToCache(e){this.cachedEventUids.add(yA(e)),this.lastProcessedEventTime=Date.now()}}function yA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _2({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function n9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _2(t);default:return!1}}async function i9(t,e={}){return la(t,"GET","/v1/projects",e)}const r9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s9=/^https?/;async function a9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await i9(t);for(const n of e)try{if(o9(n))return}catch{}Mi(t,"unauthorized-domain")}function o9(t){const e=Fy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!s9.test(n))return!1;if(r9.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const l9=new Bc(3e4,6e4);function vA(){const t=fr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function u9(t){return new Promise((e,n)=>{function r(){vA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vA(),n(hr(t,"network-request-failed"))},timeout:l9.get()})}if(fr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(fr().gapi?.load)r();else{const a=iU("iframefcb");return fr()[a]=()=>{gapi.load?r():n(hr(t,"network-request-failed"))},e2(`${nU()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Wf=null,e})}let Wf=null;function c9(t){return Wf=Wf||u9(t),Wf}const h9=new Bc(5e3,15e3),f9="__/auth/iframe",d9="emulator/auth/iframe",m9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g9(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?I0(e,d9):`https://${t.config.authDomain}/${f9}`,r={apiKey:e.apiKey,appName:t.name,v:Nl},a=p9.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Vc(r).slice(1)}`}async function y9(t){const e=await c9(t),n=fr().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:g9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m9,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const u=hr(t,"network-request-failed"),h=fr().setTimeout(()=>{l(u)},h9.get());function d(){fr().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{l(u)})}))}const v9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_9=500,T9=600,E9="_blank",b9="http://localhost";class _A{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function w9(t,e,n,r=_9,a=T9){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d={...v9,width:r.toString(),height:a.toString(),top:l,left:u},p=dn().toLowerCase();n&&(h=KR(p)?E9:n),GR(p)&&(e=e||b9,d.scrollbars="yes");const y=Object.entries(d).reduce((T,[S,R])=>`${T}${S}=${R},`,"");if(Kj(p)&&h!=="_self")return S9(e||"",h),new _A(null);const v=window.open(e||"",h,y);Ee(v,t,"popup-blocked");try{v.focus()}catch{}return new _A(v)}function S9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const A9="__/auth/handler",x9="emulator/auth/handler",C9=encodeURIComponent("fac");async function TA(t,e,n,r,a,l){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Nl,eventId:a};if(e instanceof i2){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",W4(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof Hc){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await t._getAppCheckToken(),p=d?`#${C9}=${encodeURIComponent(d)}`:"";return`${R9(t)}?${Vc(h).slice(1)}${p}`}function R9({config:t}){return t.emulator?I0(t,x9):`https://${t.authDomain}/${A9}`}const Fg="webStorageSupport";class D9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=d2,this._completeRedirectFn=JU,this._overrideRedirectResult=QU}async _openPopup(e,n,r,a){Wr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await TA(e,n,r,Fy(),a);return w9(e,l,O0())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await TA(e,n,r,Fy(),a);return MU(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Wr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await y9(e),r=new t9(e);return n.register("authEvent",a=>(Ee(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Fg,{type:Fg},a=>{const l=a?.[0]?.[Fg];l!==void 0&&n(!!l),Mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=a9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ZR()||YR()||M0()}}const I9=D9;var EA="@firebase/auth",bA="1.11.1";class N9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function M9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function P9(t){dr(new Ii("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ee(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JR(t)},p=new Jj(r,a,l,d);return uU(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),dr(new Ii("auth-internal",e=>{const n=ho(e.getProvider("auth").getImmediate());return(r=>new N9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ci(EA,bA,M9(t)),ci(EA,bA,"esm2020")}const V9=300,O9=$x("authIdTokenMaxAge")||V9;let wA=null;const k9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>O9)return;const a=n?.token;wA!==a&&(wA=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function L9(t=zv()){const e=lo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lU(t,{popupRedirectResolver:I9,persistence:[BU,h2,d2]}),r=$x("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=k9(l.toString());CU(n,u,()=>u(n.currentUser)),xU(n,h=>u(h))}}const a=Kx("auth");return a&&cU(n,`http://${a}`),n}function j9(){return document.getElementsByTagName("head")?.[0]??document}eU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=hr("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",j9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});P9("Browser");const T2="@firebase/installations",L0="0.6.19";const E2=1e4,b2=`w:${L0}`,w2="FIS_v2",U9="https://firebaseinstallations.googleapis.com/v1",z9=3600*1e3,B9="installations",F9="Installations";const H9={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},io=new oo(B9,F9,H9);function S2(t){return t instanceof Pi&&t.code.includes("request-failed")}function A2({projectId:t}){return`${U9}/projects/${t}/installations`}function x2(t){return{token:t.token,requestStatus:2,expiresIn:G9(t.expiresIn),creationTime:Date.now()}}async function C2(t,e){const r=(await e.json()).error;return io.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function R2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function q9(t,{refreshToken:e}){const n=R2(t);return n.append("Authorization",Y9(e)),n}async function D2(t){const e=await t();return e.status>=500&&e.status<600?t():e}function G9(t){return Number(t.replace("s","000"))}function Y9(t){return`${w2} ${t}`}async function K9({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=A2(t),a=R2(t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={fid:n,authVersion:w2,appId:t.appId,sdkVersion:b2},h={method:"POST",headers:a,body:JSON.stringify(u)},d=await D2(()=>fetch(r,h));if(d.ok){const p=await d.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:x2(p.authToken)}}else throw await C2("Create Installation",d)}function I2(t){return new Promise(e=>{setTimeout(e,t)})}function X9(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const $9=/^[cdef][\w-]{21}$/,Yy="";function Q9(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=W9(t);return $9.test(n)?n:Yy}catch{return Yy}}function W9(t){return X9(t).substr(0,22)}function sm(t){return`${t.appName}!${t.appId}`}const N2=new Map;function M2(t,e){const n=sm(t);P2(n,e),Z9(n,e)}function P2(t,e){const n=N2.get(t);if(n)for(const r of n)r(e)}function Z9(t,e){const n=J9();n&&n.postMessage({key:t,fid:e}),ez()}let Ya=null;function J9(){return!Ya&&"BroadcastChannel"in self&&(Ya=new BroadcastChannel("[Firebase] FID Change"),Ya.onmessage=t=>{P2(t.data.key,t.data.fid)}),Ya}function ez(){N2.size===0&&Ya&&(Ya.close(),Ya=null)}const tz="firebase-installations-database",nz=1,ro="firebase-installations-store";let Hg=null;function j0(){return Hg||(Hg=iC(tz,nz,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ro)}}})),Hg}async function xd(t,e){const n=sm(t),a=(await j0()).transaction(ro,"readwrite"),l=a.objectStore(ro),u=await l.get(n);return await l.put(e,n),await a.done,(!u||u.fid!==e.fid)&&M2(t,e.fid),e}async function V2(t){const e=sm(t),r=(await j0()).transaction(ro,"readwrite");await r.objectStore(ro).delete(e),await r.done}async function am(t,e){const n=sm(t),a=(await j0()).transaction(ro,"readwrite"),l=a.objectStore(ro),u=await l.get(n),h=e(u);return h===void 0?await l.delete(n):await l.put(h,n),await a.done,h&&(!u||u.fid!==h.fid)&&M2(t,h.fid),h}async function U0(t){let e;const n=await am(t.appConfig,r=>{const a=iz(r),l=rz(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===Yy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function iz(t){const e=t||{fid:Q9(),registrationStatus:0};return O2(e)}function rz(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(io.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=sz(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:az(t)}:{installationEntry:e}}async function sz(t,e){try{const n=await K9(t,e);return xd(t.appConfig,n)}catch(n){throw S2(n)&&n.customData.serverCode===409?await V2(t.appConfig):await xd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function az(t){let e=await SA(t.appConfig);for(;e.registrationStatus===1;)await I2(100),e=await SA(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await U0(t);return r||n}return e}function SA(t){return am(t,e=>{if(!e)throw io.create("installation-not-found");return O2(e)})}function O2(t){return oz(t)?{fid:t.fid,registrationStatus:0}:t}function oz(t){return t.registrationStatus===1&&t.registrationTime+E2<Date.now()}async function lz({appConfig:t,heartbeatServiceProvider:e},n){const r=uz(t,n),a=q9(t,n),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={installation:{sdkVersion:b2,appId:t.appId}},h={method:"POST",headers:a,body:JSON.stringify(u)},d=await D2(()=>fetch(r,h));if(d.ok){const p=await d.json();return x2(p)}else throw await C2("Generate Auth Token",d)}function uz(t,{fid:e}){return`${A2(t)}/${e}/authTokens:generate`}async function z0(t,e=!1){let n;const r=await am(t.appConfig,l=>{if(!k2(l))throw io.create("not-registered");const u=l.authToken;if(!e&&fz(u))return l;if(u.requestStatus===1)return n=cz(t,e),l;{if(!navigator.onLine)throw io.create("app-offline");const h=mz(l);return n=hz(t,h),h}});return n?await n:r.authToken}async function cz(t,e){let n=await AA(t.appConfig);for(;n.authToken.requestStatus===1;)await I2(100),n=await AA(t.appConfig);const r=n.authToken;return r.requestStatus===0?z0(t,e):r}function AA(t){return am(t,e=>{if(!k2(e))throw io.create("not-registered");const n=e.authToken;return pz(n)?{...e,authToken:{requestStatus:0}}:e})}async function hz(t,e){try{const n=await lz(t,e),r={...e,authToken:n};return await xd(t.appConfig,r),n}catch(n){if(S2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await V2(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await xd(t.appConfig,r)}throw n}}function k2(t){return t!==void 0&&t.registrationStatus===2}function fz(t){return t.requestStatus===2&&!dz(t)}function dz(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+z9}function mz(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function pz(t){return t.requestStatus===1&&t.requestTime+E2<Date.now()}async function gz(t){const e=t,{installationEntry:n,registrationPromise:r}=await U0(e);return r?r.catch(console.error):z0(e).catch(console.error),n.fid}async function yz(t,e=!1){const n=t;return await vz(n),(await z0(n,e)).token}async function vz(t){const{registrationPromise:e}=await U0(t);e&&await e}function _z(t){if(!t||!t.options)throw qg("App Configuration");if(!t.name)throw qg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw qg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function qg(t){return io.create("missing-app-config-values",{valueName:t})}const L2="installations",Tz="installations-internal",Ez=t=>{const e=t.getProvider("app").getImmediate(),n=_z(e),r=lo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},bz=t=>{const e=t.getProvider("app").getImmediate(),n=lo(e,L2).getImmediate();return{getId:()=>gz(n),getToken:a=>yz(n,a)}};function wz(){dr(new Ii(L2,Ez,"PUBLIC")),dr(new Ii(Tz,bz,"PRIVATE"))}wz();ci(T2,L0);ci(T2,L0,"esm2020");const Cd="analytics",Sz="firebase_id",Az="origin",xz=60*1e3,Cz="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",B0="https://www.googletagmanager.com/gtag/js";const vn=new kd("@firebase/analytics");const Rz={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},zn=new oo("analytics","Analytics",Rz);function Dz(t){if(!t.startsWith(B0)){const e=zn.create("invalid-gtag-resource",{gtagURL:t});return vn.warn(e.message),""}return t}function j2(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Iz(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Nz(t,e){const n=Iz("firebase-js-sdk-policy",{createScriptURL:Dz}),r=document.createElement("script"),a=`${B0}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function Mz(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Pz(t,e,n,r,a,l){const u=r[a];try{if(u)await e[u];else{const d=(await j2(n)).find(p=>p.measurementId===a);d&&await e[d.appId]}}catch(h){vn.error(h)}t("config",a,l)}async function Vz(t,e,n,r,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const h=await j2(n);for(const d of u){const p=h.find(v=>v.measurementId===d),y=p&&e[p.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",r,a||{})}catch(l){vn.error(l)}}function Oz(t,e,n,r){async function a(l,...u){try{if(l==="event"){const[h,d]=u;await Vz(t,e,n,h,d)}else if(l==="config"){const[h,d]=u;await Pz(t,e,n,r,h,d)}else if(l==="consent"){const[h,d]=u;t("consent",h,d)}else if(l==="get"){const[h,d,p]=u;t("get",h,d,p)}else if(l==="set"){const[h]=u;t("set",h)}else t(l,...u)}catch(h){vn.error(h)}}return a}function kz(t,e,n,r,a){let l=function(...u){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=Oz(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function Lz(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(B0)&&n.src.includes(t))return n;return null}const jz=30,Uz=1e3;class zz{constructor(e={},n=Uz){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const U2=new zz;function Bz(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Fz(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:Bz(n)},a=Cz.replace("{app-id}",e),l=await fetch(a,r);if(l.status!==200&&l.status!==304){let u="";try{const h=await l.json();h.error?.message&&(u=h.error.message)}catch{}throw zn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function Hz(t,e=U2,n){const{appId:r,apiKey:a,measurementId:l}=t.options;if(!r)throw zn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:r};throw zn.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new Yz;return setTimeout(async()=>{h.abort()},xz),z2({appId:r,apiKey:a,measurementId:l},u,h,e)}async function z2(t,{throttleEndTimeMillis:e,backoffCount:n},r,a=U2){const{appId:l,measurementId:u}=t;try{await qz(r,e)}catch(h){if(u)return vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:l,measurementId:u};throw h}try{const h=await Fz(t);return a.deleteThrottleMetadata(l),h}catch(h){const d=h;if(!Gz(d)){if(a.deleteThrottleMetadata(l),u)return vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:u};throw h}const p=Number(d?.customData?.httpStatus)===503?$w(n,a.intervalMillis,jz):$w(n,a.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return a.setThrottleMetadata(l,y),vn.debug(`Calling attemptFetch again in ${p} millis`),z2(t,y,r,a)}}function qz(t,e){return new Promise((n,r)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),r(zn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Gz(t){if(!(t instanceof Pi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Yz{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Kz(t,e,n,r,a){if(a&&a.global){t("event",n,r);return}else{const l=await e,u={...r,send_to:l};t("event",n,u)}}async function Xz(t,e,n,r){if(r&&r.global){const a={};for(const l of Object.keys(n))a[`user_properties.${l}`]=n[l];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}async function $z(){if(Jx())try{await eC()}catch(t){return vn.warn(zn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return vn.warn(zn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Qz(t,e,n,r,a,l,u){const h=Hz(t);h.then(T=>{n[T.measurementId]=T.appId,t.options.measurementId&&T.measurementId!==t.options.measurementId&&vn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>vn.error(T)),e.push(h);const d=$z().then(T=>{if(T)return r.getId()}),[p,y]=await Promise.all([h,d]);Lz(l)||Nz(l,p.measurementId),a("js",new Date);const v=u?.config??{};return v[Az]="firebase",v.update=!0,y!=null&&(v[Sz]=y),a("config",p.measurementId,v),p.measurementId}class Wz{constructor(e){this.app=e}_delete(){return delete gl[this.app.options.appId],Promise.resolve()}}let gl={},xA=[];const CA={};let Gg="dataLayer",Zz="gtag",RA,F0,DA=!1;function Jz(){const t=[];if(Zx()&&t.push("This is a browser extension environment."),K4()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,a)=>`(${a+1}) ${r}`).join(" "),n=zn.create("invalid-analytics-context",{errorInfo:e});vn.warn(n.message)}}function eB(t,e,n){Jz();const r=t.options.appId;if(!r)throw zn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw zn.create("no-api-key");if(gl[r]!=null)throw zn.create("already-exists",{id:r});if(!DA){Mz(Gg);const{wrappedGtag:l,gtagCore:u}=kz(gl,xA,CA,Gg,Zz);F0=l,RA=u,DA=!0}return gl[r]=Qz(t,xA,CA,e,RA,Gg,n),new Wz(t)}function tB(t=zv()){t=yt(t);const e=lo(t,Cd);return e.isInitialized()?e.getImmediate():nB(t)}function nB(t,e={}){const n=lo(t,Cd);if(n.isInitialized()){const a=n.getImmediate();if(Qs(e,n.getOptions()))return a;throw zn.create("already-initialized")}return n.initialize({options:e})}function iB(t,e,n){t=yt(t),Xz(F0,gl[t.app.options.appId],e,n).catch(r=>vn.error(r))}function rB(t,e,n,r){t=yt(t),Kz(F0,gl[t.app.options.appId],e,n,r).catch(a=>vn.error(a))}const IA="@firebase/analytics",NA="0.10.19";function sB(){dr(new Ii(Cd,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return eB(r,a,n)},"PUBLIC")),dr(new Ii("analytics-internal",t,"PRIVATE")),ci(IA,NA),ci(IA,NA,"esm2020");function t(e){try{const n=e.getProvider(Cd).getImmediate();return{logEvent:(r,a,l)=>rB(n,r,a,l),setUserProperties:(r,a)=>iB(n,r,a)}}catch(n){throw zn.create("interop-component-reg-failed",{reason:n})}}}sB();const aB={apiKey:"AIzaSyD-GIU-_XMDNkFNyYpBGfrcuAqypNCboxk",authDomain:"mit-mess-23f98.firebaseapp.com",projectId:"mit-mess-23f98",storageBucket:"mit-mess-23f98.firebasestorage.app",messagingSenderId:"286644195454",appId:"1:286644195454:web:97f456209765291e37082f",measurementId:"G-2TSYYR3ZYM"},H0=rC(aB),rn=cj(H0),si=L9(H0);tB(H0);const oB=()=>{const[t,e]=V.useState(""),[n,r]=V.useState([]),[a,l]=V.useState(!0);V.useEffect(()=>{const d=xj(Bs(rn,"messes"),p=>{const y=p.docs.map(v=>({id:v.id,...v.data()}));r(y),l(!1)});return()=>d()},[]);const h=[...n.filter(d=>{const p=t.toLowerCase();return d.name.toLowerCase().includes(p)?!0:d.menu?Object.values(d.menu).some(y=>Object.values(y).some(v=>v&&v.toLowerCase().includes(p))):!1})].sort((d,p)=>{const y=localStorage.getItem("lastViewedMess");return y?d.id===y?-1:p.id===y?1:0:0});return w.jsxs("div",{className:"min-h-screen bg-gray-50 relative selection:bg-orange-200 selection:text-orange-900",children:[w.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[w.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),w.jsx("div",{className:"absolute top-0 -left-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"}),w.jsx("div",{className:"absolute -bottom-40 left-20 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-4000"})]}),w.jsx(Vd,{searchTerm:t,setSearchTerm:e}),w.jsxs("main",{className:"relative z-10 pt-20 pb-12 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto flex flex-col min-h-[calc(100vh-80px)]",children:[w.jsx("div",{className:"flex-grow",children:a?w.jsx("div",{className:"flex justify-center items-center h-64",children:w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):w.jsxs(cn.div,{layout:!0,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-8",children:[h.map(d=>w.jsx(C4,{mess:d},d.id)),h.length===0&&w.jsx("div",{className:"col-span-full text-center py-12",children:w.jsx("p",{className:"text-gray-500 text-lg",children:"No messes found matching your search."})})]})}),w.jsxs("footer",{className:"text-center py-8 mt-8 border-t border-gray-200/50",children:[w.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 tracking-tight mb-2",children:["What's on the ",w.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-red-600",children:"Menu?"})]}),w.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto px-4",children:"Daily menus for all hostel messes. Click a card for the full weekly schedule."})]})]})]})};var li=function(t,e){return Number(t.toFixed(e))},lB=function(t,e){return e},ft=function(t,e,n){n&&typeof n=="function"&&n(t,e)},uB=function(t){return-Math.cos(t*Math.PI)/2+.5},cB=function(t){return t},hB=function(t){return t*t},fB=function(t){return t*(2-t)},dB=function(t){return t<.5?2*t*t:-1+(4-2*t)*t},mB=function(t){return t*t*t},pB=function(t){return--t*t*t+1},gB=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},yB=function(t){return t*t*t*t},vB=function(t){return 1- --t*t*t*t},_B=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},TB=function(t){return t*t*t*t*t},EB=function(t){return 1+--t*t*t*t*t},bB=function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},B2={easeOut:uB,linear:cB,easeInQuad:hB,easeOutQuad:fB,easeInOutQuad:dB,easeInCubic:mB,easeOutCubic:pB,easeInOutCubic:gB,easeInQuart:yB,easeOutQuart:vB,easeInOutQuart:_B,easeInQuint:TB,easeOutQuint:EB,easeInOutQuint:bB},F2=function(t){typeof t=="number"&&cancelAnimationFrame(t)},Ri=function(t){t.mounted&&(F2(t.animation),t.animate=!1,t.animation=null,t.velocity=null)};function H2(t,e,n,r){if(t.mounted){var a=new Date().getTime(),l=1;Ri(t),t.animation=function(){if(!t.mounted)return F2(t.animation);var u=new Date().getTime()-a,h=u/n,d=B2[e],p=d(h);u>=n?(r(l),t.animation=null):t.animation&&(r(p),requestAnimationFrame(t.animation))},requestAnimationFrame(t.animation)}}function wB(t){var e=t.scale,n=t.positionX,r=t.positionY;return!(Number.isNaN(e)||Number.isNaN(n)||Number.isNaN(r))}function ua(t,e,n,r){var a=wB(e);if(!(!t.mounted||!a)){var l=t.setTransformState,u=t.transformState,h=u.scale,d=u.positionX,p=u.positionY,y=e.scale-h,v=e.positionX-d,T=e.positionY-p;n===0?l(e.scale,e.positionX,e.positionY):H2(t,r,n,function(S){var R=h+y*S,M=d+v*S,N=p+T*S;l(R,M,N)})}}function SB(t,e,n){var r=t.offsetWidth,a=t.offsetHeight,l=e.offsetWidth,u=e.offsetHeight,h=l*n,d=u*n,p=r-h,y=a-d;return{wrapperWidth:r,wrapperHeight:a,newContentWidth:h,newDiffWidth:p,newContentHeight:d,newDiffHeight:y}}var AB=function(t,e,n,r,a,l,u){var h=t>e?n*(u?1:.5):0,d=r>a?l*(u?1:.5):0,p=t-e-h,y=h,v=r-a-d,T=d;return{minPositionX:p,maxPositionX:y,minPositionY:v,maxPositionY:T}},q0=function(t,e){var n=t.wrapperComponent,r=t.contentComponent,a=t.setup.centerZoomedOut;if(!n||!r)throw new Error("Components are not mounted");var l=SB(n,r,e),u=l.wrapperWidth,h=l.wrapperHeight,d=l.newContentWidth,p=l.newDiffWidth,y=l.newContentHeight,v=l.newDiffHeight,T=AB(u,d,p,h,y,v,!!a);return T},Ky=function(t,e,n,r){return r?t<e?li(e,2):t>n?li(n,2):li(t,2):li(t,2)},Za=function(t,e){var n=q0(t,e);return t.bounds=n,n};function Gc(t,e,n,r,a,l,u){var h=n.minPositionX,d=n.minPositionY,p=n.maxPositionX,y=n.maxPositionY,v=0,T=0;u&&(v=a,T=l);var S=Ky(t,h-v,p+v,r),R=Ky(e,d-T,y+T,r);return{x:S,y:R}}function om(t,e,n,r,a,l){var u=t.transformState,h=u.scale,d=u.positionX,p=u.positionY,y=r-h;if(typeof e!="number"||typeof n!="number")return console.error("Mouse X and Y position were not provided!"),{x:d,y:p};var v=d-e*y,T=p-n*y,S=Gc(v,T,a,l,0,0,null);return S}function Yc(t,e,n,r,a){var l=a?r:0,u=e-l;return!Number.isNaN(n)&&t>=n?n:!Number.isNaN(e)&&t<=u?u:t}var MA=function(t,e){var n=t.setup.panning.excluded,r=t.isInitialized,a=t.wrapperComponent,l=e.target,u="shadowRoot"in l&&"composedPath"in e,h=u?e.composedPath().some(function(y){return y instanceof Element?a?.contains(y):!1}):a?.contains(l),d=r&&l&&h;if(!d)return!1;var p=lm(l,n);return!p},PA=function(t){var e=t.isInitialized,n=t.isPanning,r=t.setup,a=r.panning.disabled,l=e&&n&&!a;return!!l},xB=function(t,e){var n=t.transformState,r=n.positionX,a=n.positionY;t.isPanning=!0;var l=e.clientX,u=e.clientY;t.startCoords={x:l-r,y:u-a}},CB=function(t,e){var n=e.touches,r=t.transformState,a=r.positionX,l=r.positionY;t.isPanning=!0;var u=n.length===1;if(u){var h=n[0].clientX,d=n[0].clientY;t.startCoords={x:h-a,y:d-l}}};function RB(t){var e=t.transformState,n=e.positionX,r=e.positionY,a=e.scale,l=t.setup,u=l.disabled,h=l.limitToBounds,d=l.centerZoomedOut,p=t.wrapperComponent;if(!(u||!p||!t.bounds)){var y=t.bounds,v=y.maxPositionX,T=y.minPositionX,S=y.maxPositionY,R=y.minPositionY,M=n>v||n<T,N=r>S||r<R,j=n>v?p.offsetWidth:t.setup.minPositionX||0,B=r>S?p.offsetHeight:t.setup.minPositionY||0,F=om(t,j,B,a,t.bounds,h||d),W=F.x,ee=F.y;return{scale:a,positionX:M?W:n,positionY:N?ee:r}}}function q2(t,e,n,r,a){var l=t.setup.limitToBounds,u=t.wrapperComponent,h=t.bounds,d=t.transformState,p=d.scale,y=d.positionX,v=d.positionY;if(!(u===null||h===null||e===y&&n===v)){var T=Gc(e,n,h,l,r,a,u),S=T.x,R=T.y;t.setTransformState(p,S,R)}}var DB=function(t,e,n){var r=t.startCoords,a=t.transformState,l=t.setup.panning,u=l.lockAxisX,h=l.lockAxisY,d=a.positionX,p=a.positionY;if(!r)return{x:d,y:p};var y=e-r.x,v=n-r.y,T=u?d:y,S=h?p:v;return{x:T,y:S}},ia=function(t,e){var n=t.setup,r=t.transformState,a=r.scale,l=n.minScale,u=n.disablePadding;return e>0&&a>=l&&!u?e:0},IB=function(t){var e=t.mounted,n=t.setup,r=n.disabled,a=n.velocityAnimation,l=t.transformState.scale,u=a.disabled,h=!u||l>1||!r||e;return!!h},NB=function(t){var e=t.mounted,n=t.velocity,r=t.bounds,a=t.setup,l=a.disabled,u=a.velocityAnimation,h=t.transformState.scale,d=u.disabled,p=!d||h>1||!l||e;return!(!p||!n||!r)};function MB(t,e){var n=t.setup.velocityAnimation,r=n.equalToMove,a=n.animationTime,l=n.sensitivity;return r?a*e*l:a}function VA(t,e,n,r,a,l,u,h,d,p){if(a){if(e>u&&n>u){var y=u+(t-u)*p;return y>d?d:y<u?u:y}if(e<l&&n<l){var y=l+(t-l)*p;return y<h?h:y>l?l:y}}return r?e:Ky(t,l,u,a)}function PB(t,e){var n=1;return e?Math.min(n,t.offsetWidth/window.innerWidth):n}function VB(t,e){var n=IB(t);if(n){var r=t.lastMousePosition,a=t.velocityTime,l=t.setup,u=t.wrapperComponent,h=l.velocityAnimation.equalToMove,d=Date.now();if(r&&a&&u){var p=PB(u,h),y=e.x-r.x,v=e.y-r.y,T=y/p,S=v/p,R=d-a,M=y*y+v*v,N=Math.sqrt(M)/R;t.velocity={velocityX:T,velocityY:S,total:N}}t.lastMousePosition=e,t.velocityTime=d}}function OB(t){var e=t.velocity,n=t.bounds,r=t.setup,a=t.wrapperComponent,l=NB(t);if(!(!l||!e||!n||!a)){var u=e.velocityX,h=e.velocityY,d=e.total,p=n.maxPositionX,y=n.minPositionX,v=n.maxPositionY,T=n.minPositionY,S=r.limitToBounds,R=r.alignmentAnimation,M=r.zoomAnimation,N=r.panning,j=N.lockAxisY,B=N.lockAxisX,F=M.animationType,W=R.sizeX,ee=R.sizeY,oe=R.velocityAlignmentTime,D=oe,C=MB(t,d),I=Math.max(C,D),L=ia(t,W),k=ia(t,ee),H=L*a.offsetWidth/100,P=k*a.offsetHeight/100,ze=p+H,Ge=y-H,Z=v+P,le=T-P,de=t.transformState,Ae=new Date().getTime();H2(t,F,I,function(Me){var U=t.transformState,ie=U.scale,ue=U.positionX,te=U.positionY,he=new Date().getTime()-Ae,ge=he/D,Se=B2[R.animationType],mt=1-Se(Math.min(1,ge)),$e=1-Me,Bn=ue+u*$e,di=te+h*$e,Vi=VA(Bn,de.positionX,ue,B,S,y,p,Ge,ze,mt),yr=VA(di,de.positionY,te,j,S,T,v,le,Z,mt);(ue!==Bn||te!==di)&&t.setTransformState(ie,Vi,yr)})}}function OA(t,e){var n=t.transformState.scale;Ri(t),Za(t,n),window.TouchEvent!==void 0&&e instanceof TouchEvent?CB(t,e):xB(t,e)}function G0(t,e){var n=t.transformState.scale,r=t.setup,a=r.minScale,l=r.alignmentAnimation,u=l.disabled,h=l.sizeX,d=l.sizeY,p=l.animationTime,y=l.animationType,v=u||n<a||!h&&!d;if(!v){var T=RB(t);T&&ua(t,T,e??p,y)}}function kA(t,e,n){var r=t.startCoords,a=t.setup,l=a.alignmentAnimation,u=l.sizeX,h=l.sizeY;if(r){var d=DB(t,e,n),p=d.x,y=d.y,v=ia(t,u),T=ia(t,h);VB(t,{x:p,y}),q2(t,p,y,v,T)}}function kB(t){if(t.isPanning){var e=t.setup.panning.velocityDisabled,n=t.velocity,r=t.wrapperComponent,a=t.contentComponent;t.isPanning=!1,t.animate=!1,t.animation=null;var l=r?.getBoundingClientRect(),u=a?.getBoundingClientRect(),h=l?.width||0,d=l?.height||0,p=u?.width||0,y=u?.height||0,v=h<p||d<y,T=!e&&n&&n?.total>.1&&v;T?OB(t):G0(t)}}function Y0(t,e,n,r){var a=t.setup,l=a.minScale,u=a.maxScale,h=a.limitToBounds,d=Yc(li(e,2),l,u,0,!1),p=Za(t,d),y=om(t,n,r,d,p,h),v=y.x,T=y.y;return{scale:d,positionX:v,positionY:T}}function G2(t,e,n){var r=t.transformState.scale,a=t.wrapperComponent,l=t.setup,u=l.minScale,h=l.limitToBounds,d=l.zoomAnimation,p=d.disabled,y=d.animationTime,v=d.animationType,T=p||r>=u;if((r>=1||h)&&G0(t),!(T||!a||!t.mounted)){var S=e||a.offsetWidth/2,R=n||a.offsetHeight/2,M=Y0(t,u,S,R);M&&ua(t,M,y,v)}}var Ks=function(){return Ks=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Ks.apply(this,arguments)};function LA(t,e,n){for(var r=0,a=e.length,l;r<a;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return t.concat(l||Array.prototype.slice.call(e))}var Vf={scale:1,positionX:0,positionY:0},Hu={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},Xy={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},Y2=function(t){var e,n,r,a;return{previousScale:(e=t.initialScale)!==null&&e!==void 0?e:Vf.scale,scale:(n=t.initialScale)!==null&&n!==void 0?n:Vf.scale,positionX:(r=t.initialPositionX)!==null&&r!==void 0?r:Vf.positionX,positionY:(a=t.initialPositionY)!==null&&a!==void 0?a:Vf.positionY}},jA=function(t){var e=Ks({},Hu);return Object.keys(t).forEach(function(n){var r=typeof t[n]<"u",a=typeof Hu[n]<"u";if(a&&r){var l=Object.prototype.toString.call(Hu[n]),u=l==="[object Object]",h=l==="[object Array]";u?e[n]=Ks(Ks({},Hu[n]),t[n]):h?e[n]=LA(LA([],Hu[n],!0),t[n]):e[n]=t[n]}}),e},K2=function(t,e,n){var r=t.transformState.scale,a=t.wrapperComponent,l=t.setup,u=l.maxScale,h=l.minScale,d=l.zoomAnimation,p=l.smooth,y=d.size;if(!a)throw new Error("Wrapper is not mounted");var v=p?r*Math.exp(e*n):r+e*n,T=Yc(li(v,3),h,u,y,!1);return T};function X2(t,e,n,r,a){var l=t.wrapperComponent,u=t.transformState,h=u.scale,d=u.positionX,p=u.positionY;if(!l)return console.error("No WrapperComponent found");var y=l.offsetWidth,v=l.offsetHeight,T=(y/2-d)/h,S=(v/2-p)/h,R=K2(t,e,n),M=Y0(t,R,T,S);if(!M)return console.error("Error during zoom event. New transformation state was not calculated.");ua(t,M,r,a)}function $2(t,e,n,r){var a=t.setup,l=t.wrapperComponent,u=a.limitToBounds,h=Y2(t.props),d=t.transformState,p=d.scale,y=d.positionX,v=d.positionY;if(l){var T=q0(t,h.scale),S=Gc(h.positionX,h.positionY,T,u,0,0,l),R={scale:h.scale,positionX:S.x,positionY:S.y};p===h.scale&&y===h.positionX&&v===h.positionY||(r?.(),ua(t,R,e,n))}}function LB(t,e,n,r){var a=t.getBoundingClientRect(),l=e.getBoundingClientRect(),u=n.getBoundingClientRect(),h=l.x*r.scale,d=l.y*r.scale;return{x:(a.x-u.x+h)/r.scale,y:(a.y-u.y+d)/r.scale}}function jB(t,e,n){var r=t.wrapperComponent,a=t.contentComponent,l=t.transformState,u=t.setup,h=u.limitToBounds,d=u.minScale,p=u.maxScale;if(!r||!a)return l;var y=r.getBoundingClientRect(),v=e.getBoundingClientRect(),T=LB(e,r,a,l),S=T.x,R=T.y,M=v.width/l.scale,N=v.height/l.scale,j=r.offsetWidth/M,B=r.offsetHeight/N,F=Yc(n||Math.min(j,B),d,p,0,!1),W=(y.width-M*F)/2,ee=(y.height-N*F)/2,oe=(y.left-S)*F+W,D=(y.top-R)*F+ee,C=q0(t,F),I=Gc(oe,D,C,h,0,0,r),L=I.x,k=I.y;return{positionX:L,positionY:k,scale:F}}var UB=function(t){return function(e,n,r){e===void 0&&(e=.5),n===void 0&&(n=300),r===void 0&&(r="easeOut"),X2(t,1,e,n,r)}},zB=function(t){return function(e,n,r){e===void 0&&(e=.5),n===void 0&&(n=300),r===void 0&&(r="easeOut"),X2(t,-1,e,n,r)}},BB=function(t){return function(e,n,r,a,l){a===void 0&&(a=300),l===void 0&&(l="easeOut");var u=t.transformState,h=u.positionX,d=u.positionY,p=u.scale,y=t.wrapperComponent,v=t.contentComponent,T=t.setup.disabled;if(!(T||!y||!v)){var S={positionX:Number.isNaN(e)?h:e,positionY:Number.isNaN(n)?d:n,scale:Number.isNaN(r)?p:r};ua(t,S,a,l)}}},FB=function(t){return function(e,n){e===void 0&&(e=200),n===void 0&&(n="easeOut"),$2(t,e,n)}},HB=function(t){return function(e,n,r){n===void 0&&(n=200),r===void 0&&(r="easeOut");var a=t.transformState,l=t.wrapperComponent,u=t.contentComponent;if(l&&u){var h=Q2(e||a.scale,l,u);ua(t,h,n,r)}}},qB=function(t){return function(e,n,r,a){r===void 0&&(r=600),a===void 0&&(a="easeOut"),Ri(t);var l=t.wrapperComponent,u=typeof e=="string"?document.getElementById(e):e;if(l&&u&&l.contains(u)){var h=jB(t,u,n);ua(t,h,r,a)}}},$y=function(t){return{instance:t,zoomIn:UB(t),zoomOut:zB(t),setTransform:BB(t),resetTransform:FB(t),centerView:HB(t),zoomToElement:qB(t)}},GB=function(t){return{instance:t,state:t.transformState}},st=function(t){var e={};return Object.assign(e,GB(t)),Object.assign(e,$y(t)),e},Yg=!1;function Kg(){try{var t={get passive(){return Yg=!0,!1}};return t}catch{return Yg=!1,Yg}}var Of=".".concat(Xy.wrapperClass),lm=function(t,e){return e.some(function(n){return t.matches("".concat(Of," ").concat(n,", ").concat(Of," .").concat(n,", ").concat(Of," ").concat(n," *, ").concat(Of," .").concat(n," *"))})},Qy=function(t){t&&clearTimeout(t)},YB=function(t,e,n){return"translate(".concat(t,"px, ").concat(e,"px) scale(").concat(n,")")},Q2=function(t,e,n){var r=n.offsetWidth*t,a=n.offsetHeight*t,l=(e.offsetWidth-r)/2,u=(e.offsetHeight-a)/2;return{scale:t,positionX:l,positionY:u}};function KB(t){return function(e){t.forEach(function(n){typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var XB=function(t,e){var n=t.setup.wheel,r=n.disabled,a=n.wheelDisabled,l=n.touchPadDisabled,u=n.excluded,h=t.isInitialized,d=t.isPanning,p=e.target,y=h&&!d&&!r&&p;if(!y||a&&!e.ctrlKey||l&&e.ctrlKey)return!1;var v=lm(p,u);return!v},$B=function(t){return t?t.deltaY<0?1:-1:0};function QB(t,e){var n=$B(t),r=lB(e,n);return r}function W2(t,e,n){var r=e.getBoundingClientRect(),a=0,l=0;if("clientX"in t)a=(t.clientX-r.left)/n,l=(t.clientY-r.top)/n;else{var u=t.touches[0];a=(u.clientX-r.left)/n,l=(u.clientY-r.top)/n}return(Number.isNaN(a)||Number.isNaN(l))&&console.error("No mouse or touch offset found"),{x:a,y:l}}var WB=function(t,e,n,r,a){var l=t.transformState.scale,u=t.wrapperComponent,h=t.setup,d=h.maxScale,p=h.minScale,y=h.zoomAnimation,v=h.disablePadding,T=y.size,S=y.disabled;if(!u)throw new Error("Wrapper is not mounted");var R=l+e*n,M=r?!1:!S,N=Yc(li(R,3),p,d,T,M&&!v);return N},ZB=function(t,e){var n=t.previousWheelEvent,r=t.transformState.scale,a=t.setup,l=a.maxScale,u=a.minScale;return n?r<l||r>u||Math.sign(n.deltaY)!==Math.sign(e.deltaY)||n.deltaY>0&&n.deltaY<e.deltaY||n.deltaY<0&&n.deltaY>e.deltaY||Math.sign(n.deltaY)!==Math.sign(e.deltaY):!1},JB=function(t,e){var n=t.setup.pinch,r=n.disabled,a=n.excluded,l=t.isInitialized,u=e.target,h=l&&!r&&u;if(!h)return!1;var d=lm(u,a);return!d},e8=function(t){var e=t.setup.pinch.disabled,n=t.isInitialized,r=t.pinchStartDistance,a=n&&!e&&r;return!!a},t8=function(t,e,n){var r=n.getBoundingClientRect(),a=t.touches,l=li(a[0].clientX-r.left,5),u=li(a[0].clientY-r.top,5),h=li(a[1].clientX-r.left,5),d=li(a[1].clientY-r.top,5);return{x:(l+h)/2/e,y:(u+d)/2/e}},Z2=function(t){return Math.sqrt(Math.pow(t.touches[0].pageX-t.touches[1].pageX,2)+Math.pow(t.touches[0].pageY-t.touches[1].pageY,2))},n8=function(t,e){var n=t.pinchStartScale,r=t.pinchStartDistance,a=t.setup,l=a.maxScale,u=a.minScale,h=a.zoomAnimation,d=a.disablePadding,p=h.size,y=h.disabled;if(!n||r===null||!e)throw new Error("Pinch touches distance was not provided");if(e<0)return t.transformState.scale;var v=e/r,T=v*n;return Yc(li(T,2),u,l,p,!y&&!d)},i8=160,r8=100,s8=function(t,e){var n=t.props,r=n.onWheelStart,a=n.onZoomStart;t.wheelStopEventTimer||(Ri(t),ft(st(t),e,r),ft(st(t),e,a))},a8=function(t,e){var n=t.props,r=n.onWheel,a=n.onZoom,l=t.contentComponent,u=t.setup,h=t.transformState,d=h.scale,p=u.limitToBounds,y=u.centerZoomedOut,v=u.zoomAnimation,T=u.wheel,S=u.disablePadding,R=u.smooth,M=v.size,N=v.disabled,j=T.step,B=T.smoothStep;if(!l)throw new Error("Component not mounted");e.preventDefault(),e.stopPropagation();var F=QB(e,null),W=R?B*Math.abs(e.deltaY):j,ee=WB(t,F,W,!e.ctrlKey);if(d!==ee){var oe=Za(t,ee),D=W2(e,l,d),C=N||M===0||y||S,I=p&&C,L=om(t,D.x,D.y,ee,oe,I),k=L.x,H=L.y;t.previousWheelEvent=e,t.setTransformState(ee,k,H),ft(st(t),e,r),ft(st(t),e,a)}},o8=function(t,e){var n=t.props,r=n.onWheelStop,a=n.onZoomStop;Qy(t.wheelAnimationTimer),t.wheelAnimationTimer=setTimeout(function(){t.mounted&&(G2(t,e.x,e.y),t.wheelAnimationTimer=null)},r8);var l=ZB(t,e);l&&(Qy(t.wheelStopEventTimer),t.wheelStopEventTimer=setTimeout(function(){t.mounted&&(t.wheelStopEventTimer=null,ft(st(t),e,r),ft(st(t),e,a))},i8))},J2=function(t){for(var e=0,n=0,r=0;r<2;r+=1)e+=t.touches[r].clientX,n+=t.touches[r].clientY;var a=e/2,l=n/2;return{x:a,y:l}},l8=function(t,e){var n=Z2(e);t.pinchStartDistance=n,t.lastDistance=n,t.pinchStartScale=t.transformState.scale,t.isPanning=!1;var r=J2(e);t.pinchLastCenterX=r.x,t.pinchLastCenterY=r.y,Ri(t)},u8=function(t,e){var n=t.contentComponent,r=t.pinchStartDistance,a=t.wrapperComponent,l=t.transformState.scale,u=t.setup,h=u.limitToBounds,d=u.centerZoomedOut,p=u.zoomAnimation,y=u.alignmentAnimation,v=p.disabled,T=p.size;if(!(r===null||!n)){var S=t8(e,l,n);if(!(!Number.isFinite(S.x)||!Number.isFinite(S.y))){var R=Z2(e),M=n8(t,R),N=J2(e),j=N.x-(t.pinchLastCenterX||0),B=N.y-(t.pinchLastCenterY||0);if(!(M===l&&j===0&&B===0)){t.pinchLastCenterX=N.x,t.pinchLastCenterY=N.y;var F=Za(t,M),W=v||T===0||d,ee=h&&W,oe=om(t,S.x,S.y,M,F,ee),D=oe.x,C=oe.y;t.pinchMidpoint=S,t.lastDistance=R;var I=y.sizeX,L=y.sizeY,k=ia(t,I),H=ia(t,L),P=D+j,ze=C+B,Ge=Gc(P,ze,F,h,k,H,a),Z=Ge.x,le=Ge.y;t.setTransformState(M,Z,le)}}}},c8=function(t){var e=t.pinchMidpoint;t.velocity=null,t.lastDistance=null,t.pinchMidpoint=null,t.pinchStartScale=null,t.pinchStartDistance=null,G2(t,e?.x,e?.y)},eD=function(t,e){var n=t.props.onZoomStop,r=t.setup.doubleClick.animationTime;Qy(t.doubleClickStopEventTimer),t.doubleClickStopEventTimer=setTimeout(function(){t.doubleClickStopEventTimer=null,ft(st(t),e,n)},r)},h8=function(t,e){var n=t.props,r=n.onZoomStart,a=n.onZoom,l=t.setup.doubleClick,u=l.animationTime,h=l.animationType;ft(st(t),e,r),$2(t,u,h,function(){return ft(st(t),e,a)}),eD(t,e)};function f8(t,e){return t==="toggle"?e===1?1:-1:t==="zoomOut"?-1:1}function d8(t,e){var n=t.setup,r=t.doubleClickStopEventTimer,a=t.transformState,l=t.contentComponent,u=a.scale,h=t.props,d=h.onZoomStart,p=h.onZoom,y=n.doubleClick,v=y.disabled,T=y.mode,S=y.step,R=y.animationTime,M=y.animationType;if(!v&&!r){if(T==="reset")return h8(t,e);if(!l)return console.error("No ContentComponent found");var N=f8(T,t.transformState.scale),j=K2(t,N,S);if(u!==j){ft(st(t),e,d);var B=W2(e,l,u),F=Y0(t,j,B.x,B.y);if(!F)return console.error("Error during zoom event. New transformation state was not calculated.");ft(st(t),e,p),ua(t,F,R,M),eD(t,e)}}}var m8=function(t,e){var n=t.isInitialized,r=t.setup,a=t.wrapperComponent,l=r.doubleClick,u=l.disabled,h=l.excluded,d=e.target,p=a?.contains(d),y=n&&d&&p&&!u;if(!y)return!1;var v=lm(d,h);return!v},p8=(function(){function t(e){var n=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){n.initializeWindowEvents()},this.unmount=function(){n.cleanupWindowEvents()},this.update=function(r){n.props=r,Za(n,n.transformState.scale),n.setup=jA(r)},this.initializeWindowEvents=function(){var r,a,l=Kg(),u=(r=n.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,h=u?.defaultView;(a=n.wrapperComponent)===null||a===void 0||a.addEventListener("wheel",n.onWheelPanning,l),h?.addEventListener("mousedown",n.onPanningStart,l),h?.addEventListener("mousemove",n.onPanning,l),h?.addEventListener("mouseup",n.onPanningStop,l),u?.addEventListener("mouseleave",n.clearPanning,l),h?.addEventListener("keyup",n.setKeyUnPressed,l),h?.addEventListener("keydown",n.setKeyPressed,l)},this.cleanupWindowEvents=function(){var r,a,l=Kg(),u=(r=n.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,h=u?.defaultView;h?.removeEventListener("mousedown",n.onPanningStart,l),h?.removeEventListener("mousemove",n.onPanning,l),h?.removeEventListener("mouseup",n.onPanningStop,l),u?.removeEventListener("mouseleave",n.clearPanning,l),h?.removeEventListener("keyup",n.setKeyUnPressed,l),h?.removeEventListener("keydown",n.setKeyPressed,l),document.removeEventListener("mouseleave",n.clearPanning,l),Ri(n),(a=n.observer)===null||a===void 0||a.disconnect()},this.handleInitializeWrapperEvents=function(r){var a=Kg();r.addEventListener("wheel",n.onWheelZoom,a),r.addEventListener("dblclick",n.onDoubleClick,a),r.addEventListener("touchstart",n.onTouchPanningStart,a),r.addEventListener("touchmove",n.onTouchPanning,a),r.addEventListener("touchend",n.onTouchPanningStop,a)},this.handleInitialize=function(r,a){var l=!1,u=n.setup.centerOnInit,h=function(d,p){for(var y=0,v=d;y<v.length;y++){var T=v[y];if(T.target===p)return!0}return!1};n.applyTransformation(),n.onInitCallbacks.forEach(function(d){d(st(n))}),n.observer=new ResizeObserver(function(d){if(h(d,r)||h(d,a))if(u&&!l){var p=a.offsetWidth,y=a.offsetHeight;(p>0||y>0)&&(l=!0,n.setCenter())}else Ri(n),Za(n,n.transformState.scale),G0(n,0)}),n.observer.observe(r),n.observer.observe(a)},this.onWheelZoom=function(r){var a=n.setup.disabled;if(!a){var l=XB(n,r);if(l){var u=n.isPressingKeys(n.setup.wheel.activationKeys);u&&(s8(n,r),a8(n,r),o8(n,r))}}},this.onWheelPanning=function(r){var a=n.setup,l=a.disabled,u=a.wheel,h=a.panning;if(!(!n.wrapperComponent||!n.contentComponent||l||!u.wheelDisabled||h.disabled||!h.wheelPanning||r.ctrlKey)){r.preventDefault(),r.stopPropagation();var d=n.transformState,p=d.positionX,y=d.positionY,v=p-r.deltaX,T=y-r.deltaY,S=h.lockAxisX?p:v,R=h.lockAxisY?y:T,M=n.setup.alignmentAnimation,N=M.sizeX,j=M.sizeY,B=ia(n,N),F=ia(n,j);S===p&&R===y||q2(n,S,R,B,F)}},this.onPanningStart=function(r){var a=n.setup.disabled,l=n.props.onPanningStart;if(!a){var u=MA(n,r);if(u){var h=n.isPressingKeys(n.setup.panning.activationKeys);h&&(r.button===0&&!n.setup.panning.allowLeftClickPan||r.button===1&&!n.setup.panning.allowMiddleClickPan||r.button===2&&!n.setup.panning.allowRightClickPan||(r.preventDefault(),r.stopPropagation(),Ri(n),OA(n,r),ft(st(n),r,l)))}}},this.onPanning=function(r){var a=n.setup.disabled,l=n.props.onPanning;if(!a){var u=PA(n);if(u){var h=n.isPressingKeys(n.setup.panning.activationKeys);h&&(r.preventDefault(),r.stopPropagation(),kA(n,r.clientX,r.clientY),ft(st(n),r,l))}}},this.onPanningStop=function(r){var a=n.props.onPanningStop;n.isPanning&&(kB(n),ft(st(n),r,a))},this.onPinchStart=function(r){var a=n.setup.disabled,l=n.props,u=l.onPinchingStart,h=l.onZoomStart;if(!a){var d=JB(n,r);d&&(l8(n,r),Ri(n),ft(st(n),r,u),ft(st(n),r,h))}},this.onPinch=function(r){var a=n.setup.disabled,l=n.props,u=l.onPinching,h=l.onZoom;if(!a){var d=e8(n);d&&(r.preventDefault(),r.stopPropagation(),u8(n,r),ft(st(n),r,u),ft(st(n),r,h))}},this.onPinchStop=function(r){var a=n.props,l=a.onPinchingStop,u=a.onZoomStop;n.pinchStartScale&&(c8(n),ft(st(n),r,l),ft(st(n),r,u))},this.onTouchPanningStart=function(r){var a=n.setup.disabled,l=n.props.onPanningStart;if(!a){var u=MA(n,r);if(u){var h=n.lastTouch&&+new Date-n.lastTouch<200&&r.touches.length===1;if(!h){n.lastTouch=+new Date,Ri(n);var d=r.touches,p=d.length===1,y=d.length===2;p&&(Ri(n),OA(n,r),ft(st(n),r,l)),y&&n.onPinchStart(r)}}}},this.onTouchPanning=function(r){var a=n.setup.disabled,l=n.props.onPanning;if(n.isPanning&&r.touches.length===1){if(a)return;var u=PA(n);if(!u)return;r.preventDefault(),r.stopPropagation();var h=r.touches[0];kA(n,h.clientX,h.clientY),ft(st(n),r,l)}else r.touches.length>1&&n.onPinch(r)},this.onTouchPanningStop=function(r){n.onPanningStop(r),n.onPinchStop(r)},this.onDoubleClick=function(r){var a=n.setup.disabled;if(!a){var l=m8(n,r);l&&d8(n,r)}},this.clearPanning=function(r){n.isPanning&&n.onPanningStop(r)},this.setKeyPressed=function(r){n.pressedKeys[r.key]=!0},this.setKeyUnPressed=function(r){n.pressedKeys[r.key]=!1},this.isPressingKeys=function(r){return r.length?!!r.find(function(a){return n.pressedKeys[a]}):!0},this.setTransformState=function(r,a,l){var u=n.props.onTransformed;if(!Number.isNaN(r)&&!Number.isNaN(a)&&!Number.isNaN(l)){r!==n.transformState.scale&&(n.transformState.previousScale=n.transformState.scale,n.transformState.scale=r),n.transformState.positionX=a,n.transformState.positionY=l,n.applyTransformation();var h=st(n);n.onChangeCallbacks.forEach(function(d){return d(h)}),ft(h,{scale:r,positionX:a,positionY:l},u)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(n.wrapperComponent&&n.contentComponent){var r=Q2(n.transformState.scale,n.wrapperComponent,n.contentComponent);n.setTransformState(r.scale,r.positionX,r.positionY)}},this.handleTransformStyles=function(r,a,l){return n.props.customTransform?n.props.customTransform(r,a,l):YB(r,a,l)},this.applyTransformation=function(){if(!(!n.mounted||!n.contentComponent)){var r=n.transformState,a=r.scale,l=r.positionX,u=r.positionY,h=n.handleTransformStyles(l,u,a);n.contentComponent.style.transform=h}},this.getContext=function(){return st(n)},this.onChange=function(r){return n.onChangeCallbacks.has(r)||n.onChangeCallbacks.add(r),function(){n.onChangeCallbacks.delete(r)}},this.onInit=function(r){return n.onInitCallbacks.has(r)||n.onInitCallbacks.add(r),function(){n.onInitCallbacks.delete(r)}},this.init=function(r,a){n.cleanupWindowEvents(),n.wrapperComponent=r,n.contentComponent=a,Za(n,n.transformState.scale),n.handleInitializeWrapperEvents(r),n.handleInitialize(r,a),n.initializeWindowEvents(),n.isInitialized=!0;var l=st(n);ft(l,void 0,n.props.onInit)},this.props=e,this.setup=jA(this.props),this.transformState=Y2(this.props)}return t})(),K0=ai.createContext(null),g8=function(t,e){return typeof t=="function"?t(e):t},y8=ai.forwardRef(function(t,e){var n=V.useRef(new p8(t)).current,r=g8(t.children,$y(n));return V.useImperativeHandle(e,function(){return $y(n)},[n]),V.useEffect(function(){n.update(t)},[n,t]),ai.createElement(K0.Provider,{value:n},r)});ai.forwardRef(function(t,e){var n=V.useRef(null),r=V.useContext(K0);return V.useEffect(function(){return r.onChange(function(a){if(n.current){var l=0,u=0;n.current.style.transform=r.handleTransformStyles(l,u,1/a.instance.transformState.scale)}})},[r]),ai.createElement("div",Ks({},t,{ref:KB([n,e])}))});function v8(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",n==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}}var _8=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,UA={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};v8(_8);var T8=function(t){var e=t.children,n=t.wrapperClass,r=n===void 0?"":n,a=t.contentClass,l=a===void 0?"":a,u=t.wrapperStyle,h=t.contentStyle,d=t.wrapperProps,p=d===void 0?{}:d,y=t.contentProps,v=y===void 0?{}:y,T=V.useContext(K0),S=T.init,R=T.cleanupWindowEvents,M=V.useRef(null),N=V.useRef(null);return V.useEffect(function(){var j=M.current,B=N.current;return j!==null&&B!==null&&S&&S?.(j,B),function(){R?.()}},[]),ai.createElement("div",Ks({},p,{ref:M,className:"".concat(Xy.wrapperClass," ").concat(UA.wrapper," ").concat(r),style:u}),ai.createElement("div",Ks({},v,{ref:N,className:"".concat(Xy.contentClass," ").concat(UA.content," ").concat(l),style:h}),e))};const E8=()=>{const{id:t}=vN(),[e,n]=V.useState(null),[r,a]=V.useState(!0),l=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],u=ai.useRef(null),[h,d]=ai.useState(window.innerWidth<768),[p,y]=ai.useState(!1);return V.useEffect(()=>{(async()=>{try{const T=lr(rn,"messes",t),S=await _d(T);S.exists()&&n({id:S.id,...S.data()})}catch(T){console.error("Error fetching mess:",T)}finally{a(!1)}})()},[t]),ai.useEffect(()=>{const v=()=>d(window.innerWidth<768);return window.addEventListener("resize",v),t&&localStorage.setItem("lastViewedMess",t),()=>window.removeEventListener("resize",v)},[t]),r?w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):e?w.jsxs("div",{className:"min-h-screen bg-gray-50 relative",children:[w.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[w.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),w.jsx("div",{className:"absolute top-0 -left-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"})]}),w.jsx(Vd,{}),w.jsxs("main",{className:"relative z-10 pt-20 pb-4 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto h-[calc(100vh-20px)] flex flex-col",children:[w.jsxs(Ka,{to:"/",className:"inline-flex items-center text-gray-600 hover:text-orange-600 mb-2 transition-colors text-sm",children:[w.jsx(vM,{size:16,className:"mr-1"}),"Back"]}),w.jsxs(cn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/60 backdrop-blur-xl rounded-2xl shadow-2xl overflow-hidden border border-white/50 flex flex-col flex-1 min-h-0",children:[w.jsx("div",{className:jr("px-4 py-2 md:px-6 md:py-3 bg-gradient-to-r text-white shrink-0",e.color),children:w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-2 md:gap-0",children:[w.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:e.name}),w.jsxs("div",{className:"flex items-center gap-2 md:gap-3 w-full md:w-auto",children:[w.jsxs("button",{onClick:()=>u.current?.resetTransform(),className:"flex-1 md:flex-none justify-center px-3 py-1 bg-white/20 hover:bg-white/30 text-white rounded-full text-[10px] md:text-xs font-medium transition-colors backdrop-blur-sm border border-white/20 flex items-center gap-1 cursor-pointer",title:"Click to reset view",children:[w.jsx(rv,{size:12}),"Weekly Menu"]}),w.jsxs("button",{onClick:()=>y(!0),className:"flex-1 md:flex-none justify-center px-3 py-1 bg-white/20 hover:bg-white/30 text-white rounded-full text-[10px] md:text-xs font-medium transition-colors backdrop-blur-sm border border-white/20 flex items-center gap-1",children:[w.jsx(Zg,{size:12}),"Today's Menu"]})]})]})}),w.jsx("div",{className:jr("flex-1 relative bg-gray-50/50",h?"overflow-hidden":"overflow-auto"),children:(()=>{const v=()=>{const N=new Date,j=N.getDay(),B=N.getDate()-j+(j===0?-6:1),F=new Date(N.setDate(B));return F.setHours(0,0,0,0),F},T=e.lastUpdated?new Date(e.lastUpdated):null,S=v(),R=!T||T<S,M=e.menu&&Object.keys(e.menu).some(N=>{const j=e.menu[N];return j?Object.values(j).some(B=>B&&B!=="N/A"&&B.trim()!==""):!1});return R||!M?w.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[w.jsx("div",{className:jr("text-3xl md:text-4xl font-bold mb-2 bg-clip-text text-transparent bg-gradient-to-r",e.color),children:"Menu Not Uploaded"}),w.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Check back later for this week's menu"})]}):h?w.jsx(y8,{ref:u,initialScale:1,minScale:.5,maxScale:3,centerOnInit:!1,wheel:{step:.1},limitToBounds:!1,children:w.jsx(T8,{wrapperClass:"!w-full !h-full",contentClass:"!w-full",children:w.jsx(zA,{days:l,mess:e})})}):w.jsx(zA,{days:l,mess:e})})()})]})]}),w.jsx(Us,{children:p&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>y(!1),children:w.jsxs(cn.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},onClick:v=>v.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[w.jsxs("div",{className:jr("p-4 bg-gradient-to-r text-white flex justify-between items-center",e.color),children:[w.jsxs("h3",{className:"text-lg font-bold",children:["Today's Menu (",new Date().toLocaleDateString("en-US",{weekday:"long"}),")"]}),w.jsx("button",{onClick:()=>y(!1),className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:w.jsx(yl,{size:20})})]}),w.jsx("div",{className:"p-6 space-y-4",children:(()=>{const v=()=>{const B=new Date,F=B.getDay(),W=B.getDate()-F+(F===0?-6:1),ee=new Date(B.setDate(W));return ee.setHours(0,0,0,0),ee},T=e.lastUpdated?new Date(e.lastUpdated):null,S=v(),R=!T||T<S,M=e.menu&&Object.keys(e.menu).some(B=>{const F=e.menu[B];return F?Object.values(F).some(W=>W&&W!=="N/A"&&W.trim()!==""):!1});if(R||!M)return w.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[w.jsx("div",{className:"text-xl font-bold text-gray-400 mb-2",children:"Menu Not Uploaded"}),w.jsx("p",{className:"text-sm text-gray-400",children:"Check back later"})]});const N=new Date().toLocaleDateString("en-US",{weekday:"long"}),j=e.menu[N]||e.menu.Monday;return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"p-3 rounded-xl bg-orange-50 border border-orange-100",children:[w.jsx("h4",{className:"text-xs font-bold text-orange-600 uppercase tracking-wider mb-1",children:"Breakfast"}),w.jsx("p",{className:"text-gray-800 text-sm",children:Fs(j.Breakfast)})]}),w.jsxs("div",{className:"p-3 rounded-xl bg-green-50 border border-green-100",children:[w.jsx("h4",{className:"text-xs font-bold text-green-600 uppercase tracking-wider mb-1",children:"Lunch"}),w.jsx("p",{className:"text-gray-800 text-sm",children:Fs(j.Lunch)})]}),w.jsxs("div",{className:"p-3 rounded-xl bg-yellow-50 border border-yellow-100",children:[w.jsx("h4",{className:"text-xs font-bold text-yellow-600 uppercase tracking-wider mb-1",children:"Snacks"}),w.jsx("p",{className:"text-gray-800 text-sm",children:Fs(j.Snacks)})]}),w.jsxs("div",{className:"p-3 rounded-xl bg-blue-50 border border-blue-100",children:[w.jsx("h4",{className:"text-xs font-bold text-blue-600 uppercase tracking-wider mb-1",children:"Dinner"}),w.jsx("p",{className:"text-gray-800 text-sm",children:Fs(j.Dinner)})]})]})})()})]})})})]}):w.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Mess not found"})},Fs=t=>t?t.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"",zA=({days:t,mess:e})=>w.jsxs("table",{className:"w-full text-left border-collapse min-w-[600px] bg-white origin-top-left h-full",children:[w.jsx("thead",{className:"bg-white/95 backdrop-blur-sm shadow-sm sticky top-0 z-10",children:w.jsxs("tr",{className:"border-b border-gray-200",children:[w.jsx("th",{className:"py-2 px-3 font-bold text-gray-500 uppercase tracking-wider text-[10px]",children:"Day"}),w.jsx("th",{className:"py-2 px-3 font-bold text-orange-600 uppercase tracking-wider text-[10px]",children:"Breakfast"}),w.jsx("th",{className:"py-2 px-3 font-bold text-green-600 uppercase tracking-wider text-[10px]",children:"Lunch"}),w.jsx("th",{className:"py-2 px-3 font-bold text-yellow-600 uppercase tracking-wider text-[10px]",children:"Snacks"}),w.jsx("th",{className:"py-2 px-3 font-bold text-blue-600 uppercase tracking-wider text-[10px]",children:"Dinner"})]})}),w.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(n=>w.jsxs("tr",{id:`row-${n}`,className:"hover:bg-gray-50 transition-colors group duration-300",children:[w.jsx("td",{className:"py-1.5 px-3 font-bold text-gray-800 text-[10px]",children:n}),w.jsx("td",{className:"py-1.5 px-3 text-gray-600 group-hover:text-gray-900 text-[10px] leading-tight",children:Fs(e.menu[n]?.Breakfast)}),w.jsx("td",{className:"py-1.5 px-3 text-gray-600 group-hover:text-gray-900 text-[10px] leading-tight",children:Fs(e.menu[n]?.Lunch)}),w.jsx("td",{className:"py-1.5 px-3 text-gray-600 group-hover:text-gray-900 text-[10px] leading-tight",children:Fs(e.menu[n]?.Snacks)}),w.jsx("td",{className:"py-1.5 px-3 text-gray-600 group-hover:text-gray-900 text-[10px] leading-tight",children:Fs(e.menu[n]?.Dinner)})]},n))})]}),b8=()=>{const[t,e]=V.useState("admin@mitmess.com"),[n,r]=V.useState(""),[a,l]=V.useState(!1),[u,h]=V.useState(""),[d,p]=V.useState(!0),y=Jy();V.useEffect(()=>{const S=l2(si,async R=>{R?(await _d(lr(rn,"users",R.email))).exists()?y("/admin/dashboard"):(await xc(si),p(!1)):p(!1)});return()=>S()},[y]);const v=async S=>{S.preventDefault(),p(!0),h("");try{await AU(si,h2);const R=await SU(si,t,n);if(!(await _d(lr(rn,"users",R.user.email))).exists())throw await xc(si),new Error("Access Denied: Account has been revoked.")}catch(R){console.error("Login error:",R),h(R.message==="Access Denied: Account has been revoked."?R.message:"Invalid password"),p(!1)}},T=S=>{window.innerWidth<768&&S.target===S.currentTarget&&y("/")};return w.jsxs("div",{className:"min-h-screen bg-gray-50 relative flex flex-col",children:[w.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[w.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),w.jsx("div",{className:"absolute top-0 -left-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"})]}),w.jsx(Vd,{}),w.jsx("div",{className:"flex-1 flex items-center justify-center relative z-10 px-4 cursor-pointer md:cursor-default",onClick:T,children:w.jsxs(cn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-xl p-8 rounded-2xl shadow-2xl w-full max-w-md border border-white/50 cursor-default",onClick:S=>S.stopPropagation(),children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsx("div",{className:"bg-orange-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:w.jsx(Qg,{className:"text-orange-600",size:32})}),w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Admin Login"}),w.jsx("p",{className:"text-gray-500 mt-2",children:"Enter your password to access the dashboard"})]}),w.jsxs("form",{onSubmit:v,className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 ml-1",children:"Access Code"}),w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:w.jsx(Qg,{className:"h-5 w-5 text-gray-400"})}),w.jsx("input",{type:a?"text":"password",value:n,onChange:S=>{r(S.target.value);const R=S.target.value.trim().replace(/\s+/g,"_").toLowerCase();e(`${R}@mitmess.com`)},className:"w-full pl-10 pr-10 px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-all bg-white/50",placeholder:"Enter your secret code",autoFocus:!0}),w.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:a?w.jsx(wM,{size:20}):w.jsx(AM,{size:20})})]}),u&&w.jsx("p",{className:"text-red-500 text-sm mt-2 ml-1",children:u})]}),w.jsx("button",{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-orange-600 to-red-600 text-white py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:d?w.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):w.jsxs(w.Fragment,{children:["Access Dashboard ",w.jsx(s1,{size:20})]})})]})]})})]})},w8="modulepreload",S8=function(t,e){return new URL(t,e).href},BA={},A8=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let p=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};const u=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");a=p(n.map(y=>{if(y=S8(y,r),y in BA)return;BA[y]=!0;const v=y.endsWith(".css"),T=v?'[rel="stylesheet"]':"";if(r)for(let R=u.length-1;R>=0;R--){const M=u[R];if(M.href===y&&(!v||M.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${y}"]${T}`))return;const S=document.createElement("link");if(S.rel=v?"stylesheet":w8,v||(S.as="script"),S.crossOrigin="",S.href=y,d&&S.setAttribute("nonce",d),document.head.appendChild(S),v)return new Promise((R,M)=>{S.addEventListener("load",R),S.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},x8=({onClose:t})=>{const[e,n]=V.useState([]),[r,a]=V.useState([]),[l,u]=V.useState(""),[h,d]=V.useState(""),[p,y]=V.useState("mess_admin"),[v,T]=V.useState(""),[S,R]=V.useState(!1),[M,N]=V.useState("");V.useEffect(()=>{(async()=>{const oe=(await wc(Bs(rn,"messes"))).docs.map(D=>({id:D.id,...D.data()}));n(oe),oe.length>0&&T(oe[0].id),j()})()},[]);const j=async()=>{const ee=(await wc(Bs(rn,"users"))).docs.map(oe=>({id:oe.id,...oe.data()}));a(ee)},B=async W=>{if(W.preventDefault(),!(!l||!h)&&window.confirm("WARNING: Creating a new account requires logging out of the current session. You will need to log back in as Super Admin afterwards. Continue?")){R(!0),N("");try{const oe=`${l.trim().replace(/\s+/g,"_").toLowerCase()}@mitmess.com`;await o2(si,oe,l),await OR(lr(rn,"users",oe),{email:oe,name:h,accessCode:l,role:p,messId:p==="mess_admin"?v:null,createdAt:new Date().toISOString()}),alert(`Success! Access Code "${l}" created for "${h}". You will now be logged out.`),await xc(si),window.location.reload()}catch(ee){console.error("Creation Error:",ee),N(ee.message),R(!1),await xc(si)}}},F=async(W,ee)=>{if(window.confirm(`Are you sure you want to delete admin "${ee}"? They will no longer be able to log in.`))try{await R0(lr(rn,"users",W)),a(r.filter(oe=>oe.id!==W)),alert(`Admin "${ee}" deleted successfully.`)}catch(oe){console.error("Delete Error:",oe),alert("Failed to delete user: "+oe.message)}};return w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm overflow-y-auto",children:w.jsxs(cn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-4xl overflow-hidden my-8",children:[w.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(l1,{className:"text-orange-600",size:24}),w.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Manage Admins"})]}),w.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:w.jsx(yl,{size:24})})]}),w.jsxs("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[w.jsxs("div",{children:[w.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[w.jsx(Wg,{size:20})," Create New Admin"]}),w.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 flex gap-3",children:[w.jsx(c1,{className:"text-yellow-600 shrink-0",size:20}),w.jsxs("p",{className:"text-sm text-yellow-800",children:["Creating a new code will ",w.jsx("strong",{children:"log you out"}),". You'll need to sign back in with your Super Admin code afterwards."]})]}),w.jsxs("form",{onSubmit:B,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Name"}),w.jsx("input",{type:"text",value:h,onChange:W=>d(W.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",placeholder:"e.g. Rahul (Mess Manager)",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Access Code (Password)"}),w.jsx("input",{type:"text",value:l,onChange:W=>u(W.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",placeholder:"e.g. SecretCode123",required:!0}),w.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be used to log in."})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),w.jsxs("select",{value:p,onChange:W=>y(W.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",children:[w.jsx("option",{value:"mess_admin",children:"Mess Admin"}),w.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),p==="mess_admin"&&w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign Mess"}),w.jsx("select",{value:v,onChange:W=>T(W.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",children:e.map(W=>w.jsx("option",{value:W.id,children:W.name},W.id))})]}),M&&w.jsx("p",{className:"text-red-600 text-sm bg-red-50 p-2 rounded",children:M}),w.jsx("button",{type:"submit",disabled:S,className:"w-full bg-orange-600 text-white py-3 rounded-lg font-semibold shadow-lg hover:bg-orange-700 transition-all flex items-center justify-center gap-2 disabled:opacity-70",children:S?w.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):w.jsxs(w.Fragment,{children:["Create & Logout ",w.jsx(Wg,{size:20})]})})]})]}),w.jsxs("div",{className:"border-t lg:border-t-0 lg:border-l border-gray-200 pt-8 lg:pt-0 lg:pl-8",children:[w.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Existing Admins"}),w.jsx("div",{className:"overflow-y-auto max-h-[500px] pr-2 custom-scrollbar",children:w.jsxs("div",{className:"space-y-3",children:[r.map(W=>w.jsxs("div",{className:"p-4 rounded-xl border border-gray-200 bg-gray-50 hover:bg-white hover:shadow-md transition-all",children:[w.jsxs("div",{className:"flex justify-between items-start mb-2",children:[w.jsxs("div",{children:[w.jsx("h5",{className:"font-bold text-gray-900",children:W.name||"Unnamed Admin"}),w.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${W.role==="super_admin"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:W.role==="super_admin"?"Super Admin":"Mess Admin"})]}),w.jsx("button",{onClick:()=>F(W.id,W.name),className:"text-red-500 hover:text-red-700 p-1 hover:bg-red-50 rounded",title:"Delete Admin",children:w.jsx(u1,{size:18})})]}),w.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(Qg,{size:14,className:"text-gray-400"}),w.jsx("span",{className:"font-mono bg-gray-200 px-1.5 rounded text-xs",children:W.accessCode||"Hidden"})]}),W.messId&&w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-xs text-gray-500",children:"Mess:"}),w.jsx("span",{children:e.find(ee=>ee.id===W.messId)?.name||W.messId})]}),w.jsx("div",{className:"text-xs text-gray-400 mt-2",children:W.email})]})]},W.id)),r.length===0&&w.jsx("p",{className:"text-gray-500 text-center py-8",children:"No admins found."})]})})]})]})]})})},C8=()=>{const[t,e]=V.useState([]),[n,r]=V.useState(""),[a,l]=V.useState(!1),[u,h]=V.useState("idle"),[d,p]=V.useState(""),[y,v]=V.useState(null),[T,S]=V.useState(null),[R,M]=V.useState(!1),[N,j]=V.useState(""),[B,F]=V.useState("from-orange-500 to-red-500"),[W,ee]=V.useState(!1),[oe,D]=V.useState([]),[C,I]=V.useState(!1),[L,k]=V.useState(!1),H=Jy(),P=async()=>{try{await xc(si),H("/admin")}catch(te){console.error("Error logging out:",te)}},ze=async(te,he,ge=null)=>{try{await rA(Bs(rn,"audit_logs"),{timestamp:new Date().toISOString(),action:te,details:he,messId:ge,adminEmail:si.currentUser?.email||"unknown"})}catch(Se){console.error("Failed to log action:",Se)}},Ge=async()=>{const he=(await wc(Bs(rn,"messes"))).docs.map(ge=>({id:ge.id,...ge.data()}));e(he),T?r(T):he.length>0&&!n&&r(he[0].id)},Z=async te=>{if(te)try{const he=await _d(lr(rn,"users",te.email));if(he.exists()){const ge=he.data();v(ge.role),S(ge.messId),ge.role==="mess_admin"&&ge.messId&&r(ge.messId)}else console.warn("User not found in users collection, defaulting to restricted access."),v("mess_admin")}catch(he){console.error("Error fetching user role:",he)}},le=async()=>{I(!0);try{const te=Tj(Bs(rn,"audit_logs"),Ej("timestamp","desc"),bj(50)),ge=(await wc(te)).docs.map(Se=>({id:Se.id,...Se.data()}));D(ge)}catch(te){console.error("Error fetching history:",te)}finally{I(!1)}};V.useEffect(()=>{const te=l2(si,async he=>{he?(await Z(he),Ge()):H("/admin")});return()=>te()},[H,T]);const de=te=>{te.preventDefault(),l(!0)},Ae=()=>{l(!1)},Me=te=>{te.preventDefault(),l(!1);const he=te.dataTransfer.files;he.length>0&&ue(he[0])},U=async te=>{if(te.preventDefault(),!!N)try{const he={Monday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Tuesday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Wednesday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Thursday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Friday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Saturday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Sunday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"}},ge=await rA(Bs(rn,"messes"),{name:N,color:B,menu:he,lastUpdated:new Date().toISOString()});await ze("CREATE_MESS",`Created mess: ${N}`,ge.id),j(""),M(!1),await Ge(),r(ge.id),alert("Mess added successfully!")}catch(he){console.error("Error adding mess: ",he),alert("Failed to add mess.")}},ie=async()=>{if(n&&window.confirm("Are you sure you want to delete this mess? This action cannot be undone."))try{const te=t.find(he=>he.id===n)?.name||n;await R0(lr(rn,"messes",n)),await ze("DELETE_MESS",`Deleted mess: ${te}`,n),await Ge(),t.length>1?r(t[0].id===n?t[1].id:t[0].id):r(""),alert("Mess deleted successfully.")}catch(te){console.error("Error deleting mess: ",te),alert("Failed to delete mess.")}},ue=async te=>{h("uploading"),p("");try{const he=new FileReader;he.readAsDataURL(te),he.onload=async()=>{const ge=he.result.split(",")[1];h("processing");try{console.log("VERSION: GEMINI-2.0-FLASH-FINAL");const{GoogleGenerativeAI:Se}=await A8(async()=>{const{GoogleGenerativeAI:rt}=await import("./index-eZp-A-GY.js");return{GoogleGenerativeAI:rt}},[],import.meta.url),$e=new Se("AIzaSyBiZukqBjGS2nd2lyyVTCle02aHth6jrLQ").getGenerativeModel({model:"gemini-2.0-flash"}),Bn=`
                    Extract the weekly menu from this image and return it as a strictly valid JSON object.
                    
                    CRITICAL INSTRUCTION: You must extract EVERY SINGLE DISH listed for each meal. 
                    - Do NOT summarize. 
                    - Do NOT truncate. 
                    - List all items separated by commas exactly as they appear in the image.
                    - If there are multiple items (e.g., "Rice, Dal, Curd"), include ALL of them.
                    - **IMPORTANT: Format all text in Sentence case (e.g., "Paneer butter masala", "Mix veg paratha"). Do NOT use ALL CAPS.**

                    The JSON structure must be exactly like this:
                    {
                        "Monday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Tuesday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Wednesday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Thursday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Friday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Saturday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Sunday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." }
                    }
                    If a meal is missing, use "N/A".
                    Do not include any markdown formatting (like \`\`\`json), just the raw JSON string.
                    `,di=new Promise((rt,Oi)=>setTimeout(()=>Oi(new Error("Request timed out (30s)")),3e4)),Vi=$e.generateContent([Bn,{inlineData:{data:ge,mimeType:te.type}}]),Jr=(await(await Promise.race([Vi,di])).response).text();console.log("Gemini Response:",Jr);const vr=Jr.replace(/```json/g,"").replace(/```/g,"").trim();let es;try{es=JSON.parse(vr)}catch(rt){throw console.error("JSON Parse Error:",rt),new Error("AI returned invalid data. Try a clearer image.")}const ca=lr(rn,"messes",n);await Aj(ca,{menu:es,lastUpdated:new Date().toISOString()});const _t=t.find(rt=>rt.id===n)?.name||n;await ze("UPDATE_MENU",`Updated menu for ${_t}`,n),h("success")}catch(Se){console.error("Gemini/Firestore Error:",Se),h("error"),p(Se.message||"Unknown error occurred")}}}catch(he){console.error("File Reading Error:",he),h("error"),p("Failed to read the file.")}};return w.jsxs("div",{className:"min-h-screen bg-gray-50 relative",children:[w.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[w.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),w.jsx("div",{className:"absolute top-0 -left-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"})]}),w.jsx(Vd,{}),w.jsx("main",{className:"relative z-10 pt-24 pb-12 px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto",children:w.jsxs(cn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/50 overflow-hidden",children:[w.jsxs("div",{className:"p-8 border-b border-gray-100 flex justify-between items-center",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Menu Dashboard"}),w.jsx("p",{className:"text-gray-500 mt-2",children:"Update weekly menus using AI-powered image recognition"})]}),w.jsxs("div",{className:"flex gap-2",children:[y==="super_admin"&&w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>k(!0),className:"p-2 text-gray-500 hover:text-orange-600 hover:bg-orange-50 rounded-full transition-all",title:"Manage Access Codes",children:w.jsx(Wg,{size:24})}),w.jsx("button",{onClick:()=>{ee(!0),le()},className:"p-2 text-gray-500 hover:text-orange-600 hover:bg-orange-50 rounded-full transition-all",title:"View History",children:w.jsx(Nb,{size:24})})]}),w.jsx("button",{onClick:P,className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-full transition-all",title:"Logout",children:w.jsx(MM,{size:24})})]})]}),w.jsxs("div",{className:"p-8",children:[w.jsxs("div",{className:"mb-8 flex items-end gap-4",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Mess"}),w.jsx("select",{value:n,onChange:te=>r(te.target.value),disabled:y==="mess_admin",className:`w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none bg-white/50 ${y==="mess_admin"?"opacity-70 cursor-not-allowed":""}`,children:t.map(te=>w.jsx("option",{value:te.id,children:te.name},te.id))})]}),y==="super_admin"&&w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>M(!0),className:"p-3 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",title:"Add New Mess",children:w.jsx(kM,{size:24})}),w.jsx("button",{onClick:ie,className:"p-3 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",title:"Delete Selected Mess",children:w.jsx(u1,{size:24})})]})]}),w.jsxs(Us,{mode:"wait",children:[u==="idle"&&w.jsxs(cn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`border-3 border-dashed rounded-2xl p-12 text-center transition-all duration-300 ${a?"border-orange-500 bg-orange-50":"border-gray-300 hover:border-orange-400 hover:bg-gray-50"}`,onDragOver:de,onDragLeave:Ae,onDrop:Me,children:[w.jsx("div",{className:"bg-orange-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:w.jsx(Mb,{className:"text-orange-600",size:40})}),w.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Drag & Drop Menu Image"}),w.jsx("p",{className:"text-gray-500 mb-6",children:"or click to browse files"}),w.jsx("input",{type:"file",id:"file-upload",className:"hidden",onChange:te=>{te.target.files.length>0&&ue(te.target.files[0])},accept:"image/*"}),w.jsx("label",{htmlFor:"file-upload",className:"px-6 py-2 bg-white border border-gray-200 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors shadow-sm cursor-pointer",children:"Browse Files"})]}),(u==="uploading"||u==="processing")&&w.jsxs(cn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0},className:"border rounded-2xl p-12 text-center bg-white/50",children:[w.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-6",children:[w.jsx("div",{className:"absolute inset-0 border-4 border-orange-100 rounded-full"}),w.jsx("div",{className:"absolute inset-0 border-4 border-orange-500 rounded-full border-t-transparent animate-spin"}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u==="uploading"?w.jsx(Mb,{className:"text-orange-500 animate-pulse",size:32}):w.jsx(CM,{className:"text-orange-500 animate-pulse",size:32})})]}),w.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:u==="uploading"?"Uploading Image...":"AI Processing..."}),w.jsx("p",{className:"text-gray-500",children:u==="uploading"?"Sending to server":"Extracting menu items from image"})]}),u==="success"&&w.jsxs(cn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"border border-green-200 bg-green-50/50 rounded-2xl p-12 text-center",children:[w.jsx("div",{className:"bg-green-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:w.jsx(a1,{className:"text-green-600",size:40})}),w.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Menu Updated Successfully!"}),w.jsxs("p",{className:"text-gray-600 mb-6",children:["The menu for ",w.jsx("span",{className:"font-semibold",children:t.find(te=>te.id===n)?.name})," has been updated."]}),w.jsx("button",{onClick:()=>h("idle"),className:"px-6 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors shadow-lg",children:"Upload Another"})]}),u==="error"&&w.jsxs(cn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"border border-red-200 bg-red-50/50 rounded-2xl p-8 text-center",children:[w.jsx("h3",{className:"text-xl font-semibold text-red-900 mb-2",children:"Upload Failed"}),w.jsx("p",{className:"text-red-600 mb-6 font-mono text-sm bg-red-100 p-3 rounded",children:d}),w.jsx("button",{onClick:()=>h("idle"),className:"px-6 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors shadow-lg",children:"Try Again"})]})]})]})]})}),w.jsx(Us,{children:R&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:w.jsxs(cn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:[w.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[w.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add New Mess"}),w.jsx("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-gray-600",children:w.jsx(yl,{size:24})})]}),w.jsxs("form",{onSubmit:U,className:"p-6 space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mess Name"}),w.jsx("input",{type:"text",value:N,onChange:te=>j(te.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",placeholder:"e.g., New Hostel Mess",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Theme Color"}),w.jsxs("select",{value:B,onChange:te=>F(te.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",children:[w.jsx("option",{value:"from-orange-500 to-red-500",children:"Orange (Default)"}),w.jsx("option",{value:"from-blue-500 to-cyan-500",children:"Blue"}),w.jsx("option",{value:"from-green-500 to-emerald-500",children:"Green"}),w.jsx("option",{value:"from-purple-500 to-pink-500",children:"Purple"}),w.jsx("option",{value:"from-pink-500 to-rose-500",children:"Pink"})]})]}),w.jsxs("div",{className:"pt-4 flex gap-3",children:[w.jsx("button",{type:"button",onClick:()=>M(!1),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),w.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-colors",children:"Create Mess"})]})]})]})})}),w.jsx(Us,{children:W&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:w.jsxs(cn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[80vh]",children:[w.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center shrink-0",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(Nb,{className:"text-orange-600",size:24}),w.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Activity History"})]}),w.jsx("button",{onClick:()=>ee(!1),className:"text-gray-400 hover:text-gray-600",children:w.jsx(yl,{size:24})})]}),w.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:C?w.jsx("div",{className:"flex justify-center py-8",children:w.jsx(o1,{className:"animate-spin text-orange-500",size:32})}):oe.length===0?w.jsx("p",{className:"text-center text-gray-500 py-8",children:"No activity recorded yet."}):w.jsx("div",{className:"space-y-4",children:oe.map(te=>w.jsxs("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[w.jsx("div",{className:"mt-1",children:w.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm",children:w.jsx(rv,{size:16,className:"text-gray-500"})})}),w.jsxs("div",{children:[w.jsx("p",{className:"font-medium text-gray-900",children:te.details}),w.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500",children:[w.jsx("span",{className:"font-semibold text-orange-600",children:te.adminEmail}),w.jsx("span",{children:""}),w.jsx("span",{children:new Date(te.timestamp).toLocaleString()})]})]})]},te.id))})})]})})}),w.jsx(Us,{children:L&&w.jsx(x8,{onClose:()=>k(!1)})})]})};class R8 extends ai.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){this.setState({error:e,errorInfo:n}),console.error("Uncaught error:",e,n)}render(){return this.state.hasError?w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:w.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-lg w-full border border-red-100",children:[w.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),w.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg overflow-auto max-h-64 mb-4 text-sm font-mono text-gray-800",children:[this.state.error&&this.state.error.toString(),w.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]}),w.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Reload Page"})]})}):this.props.children}}const D8=()=>{const[t,e]=V.useState(""),[n,r]=V.useState("idle"),[a,l]=V.useState(""),u=async h=>{if(h.preventDefault(),!!t){r("processing"),l("Starting system reset...");try{l("Removing existing user roles...");const d=Bs(rn,"users"),y=(await wc(d)).docs.map(S=>R0(S.ref));await Promise.all(y),l("Creating Super Admin privileges...");const T=`${t.trim().replace(/\s+/g,"_").toLowerCase()}@mitmess.com`;await OR(lr(rn,"users",T),{email:T,role:"super_admin",createdAt:new Date().toISOString()}),l("Setting up authentication...");try{await o2(si,T,t),l("System reset complete! Super Admin created.")}catch(S){if(S.code==="auth/email-already-in-use")l("System reset complete! (Admin account already existed, permissions restored).");else throw S}r("success")}catch(d){console.error("Reset failed:",d),r("error"),l(`Failed: ${d.message}`)}}};return w.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:w.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl overflow-hidden border border-red-100",children:[w.jsxs("div",{className:"bg-red-50 p-6 border-b border-red-100 flex items-center gap-4",children:[w.jsx("div",{className:"p-3 bg-red-100 text-red-600 rounded-full",children:w.jsx(c1,{size:24})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-xl font-bold text-red-900",children:"System Reset"}),w.jsx("p",{className:"text-red-600 text-sm",children:"Emergency Recovery Tool"})]})]}),w.jsxs("div",{className:"p-6",children:[w.jsxs("p",{className:"text-gray-600 mb-6 text-sm",children:["This tool will ",w.jsx("strong",{children:"delete all existing user roles"})," from the database and allow you to create a new Super Admin account.",w.jsx("br",{}),w.jsx("br",{}),"Use this if you have lost access to the Super Admin account."]}),n==="success"?w.jsxs("div",{className:"text-center py-6",children:[w.jsx("div",{className:"w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:w.jsx(a1,{size:32})}),w.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Reset Successful"}),w.jsx("p",{className:"text-gray-600 mb-6",children:a}),w.jsx("a",{href:"/admin",className:"inline-block w-full py-3 px-4 bg-gray-900 text-white rounded-xl font-medium hover:bg-gray-800 transition-colors",children:"Go to Login"})]}):w.jsxs("form",{onSubmit:u,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Super Admin Access Code"}),w.jsxs("div",{className:"relative",children:[w.jsx(l1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),w.jsx("input",{type:"text",value:t,onChange:h=>e(h.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-red-500 outline-none transition-all",placeholder:"Enter new code (e.g. admin123)",required:!0,disabled:n==="processing"})]})]}),n==="error"&&w.jsx("div",{className:"p-3 bg-red-50 text-red-600 text-sm rounded-lg",children:a}),w.jsx("button",{type:"submit",disabled:n==="processing"||!t,className:"w-full py-3 px-4 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:n==="processing"?w.jsxs(w.Fragment,{children:[w.jsx(o1,{className:"animate-spin",size:20}),"Resetting..."]}):"Reset System & Create Admin"})]})]})]})})};function I8(){return w.jsx(R8,{children:w.jsx(nM,{children:w.jsxs(PN,{children:[w.jsx(el,{path:"/",element:w.jsx(oB,{})}),w.jsx(el,{path:"/mess/:id",element:w.jsx(E8,{})}),w.jsx(el,{path:"/admin",element:w.jsx(b8,{})}),w.jsx(el,{path:"/admin/dashboard",element:w.jsx(C8,{})}),w.jsx(el,{path:"/system-reset",element:w.jsx(D8,{})})]})})})}BI.createRoot(document.getElementById("root")).render(w.jsx(V.StrictMode,{children:w.jsx(I8,{})}));
