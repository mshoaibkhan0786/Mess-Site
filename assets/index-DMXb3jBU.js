(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function PD(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fg={exports:{}},Hu={};var gw;function OD(){if(gw)return Hu;gw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Hu.Fragment=e,Hu.jsx=n,Hu.jsxs=n,Hu}var yw;function VD(){return yw||(yw=1,fg.exports=OD()),fg.exports}var w=VD(),dg={exports:{}},Ne={};var vw;function kD(){if(vw)return Ne;vw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),T=Symbol.iterator;function S(z){return z===null||typeof z!="object"?null:(z=T&&z[T]||z["@@iterator"],typeof z=="function"?z:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,I={};function V(z,ie,ce){this.props=z,this.context=ie,this.refs=I,this.updater=ce||N}V.prototype.isReactComponent={},V.prototype.setState=function(z,ie){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ie,"setState")},V.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function U(){}U.prototype=V.prototype;function F(z,ie,ce){this.props=z,this.context=ie,this.refs=I,this.updater=ce||N}var ee=F.prototype=new U;ee.constructor=F,M(ee,V.prototype),ee.isPureReactComponent=!0;var te=Array.isArray;function Z(){}var R={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function D(z,ie,ce){var he=ce.ref;return{$$typeof:t,type:z,key:ie,ref:he!==void 0?he:null,props:ce}}function j(z,ie){return D(z.type,ie,z.props)}function L(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function H(z){var ie={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ce){return ie[ce]})}var P=/\/+/g;function Fe(z,ie){return typeof z=="object"&&z!==null&&z.key!=null?H(""+z.key):ie.toString(36)}function We(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(Z,Z):(z.status="pending",z.then(function(ie){z.status==="pending"&&(z.status="fulfilled",z.value=ie)},function(ie){z.status==="pending"&&(z.status="rejected",z.reason=ie)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Q(z,ie,ce,he,Te){var Ce=typeof z;(Ce==="undefined"||Ce==="boolean")&&(z=null);var oe=!1;if(z===null)oe=!0;else switch(Ce){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(z.$$typeof){case t:case e:oe=!0;break;case y:return oe=z._init,Q(oe(z._payload),ie,ce,he,Te)}}if(oe)return Te=Te(z),oe=he===""?"."+Fe(z,0):he,te(Te)?(ce="",oe!=null&&(ce=oe.replace(P,"$&/")+"/"),Q(Te,ie,ce,"",function(pt){return pt})):Te!=null&&(L(Te)&&(Te=j(Te,ce+(Te.key==null||z&&z.key===Te.key?"":(""+Te.key).replace(P,"$&/")+"/")+oe)),ie.push(Te)),1;oe=0;var _e=he===""?".":he+":";if(te(z))for(var we=0;we<z.length;we++)he=z[we],Ce=_e+Fe(he,we),oe+=Q(he,ie,ce,Ce,Te);else if(we=S(z),typeof we=="function")for(z=we.call(z),we=0;!(he=z.next()).done;)he=he.value,Ce=_e+Fe(he,we++),oe+=Q(he,ie,ce,Ce,Te);else if(Ce==="object"){if(typeof z.then=="function")return Q(We(z),ie,ce,he,Te);throw ie=String(z),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return oe}function le(z,ie,ce){if(z==null)return z;var he=[],Te=0;return Q(z,he,"","",function(Ce){return ie.call(ce,Ce,Te++)}),he}function de(z){if(z._status===-1){var ie=z._result;ie=ie(),ie.then(function(ce){(z._status===0||z._status===-1)&&(z._status=1,z._result=ce)},function(ce){(z._status===0||z._status===-1)&&(z._status=2,z._result=ce)}),z._status===-1&&(z._status=0,z._result=ie)}if(z._status===1)return z._result.default;throw z._result}var xe=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Oe={map:le,forEach:function(z,ie,ce){le(z,function(){ie.apply(this,arguments)},ce)},count:function(z){var ie=0;return le(z,function(){ie++}),ie},toArray:function(z){return le(z,function(ie){return ie})||[]},only:function(z){if(!L(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Ne.Activity=v,Ne.Children=Oe,Ne.Component=V,Ne.Fragment=n,Ne.Profiler=a,Ne.PureComponent=F,Ne.StrictMode=s,Ne.Suspense=d,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(z){return R.H.useMemoCache(z)}},Ne.cache=function(z){return function(){return z.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(z,ie,ce){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var he=M({},z.props),Te=z.key;if(ie!=null)for(Ce in ie.key!==void 0&&(Te=""+ie.key),ie)!x.call(ie,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ie.ref===void 0||(he[Ce]=ie[Ce]);var Ce=arguments.length-2;if(Ce===1)he.children=ce;else if(1<Ce){for(var oe=Array(Ce),_e=0;_e<Ce;_e++)oe[_e]=arguments[_e+2];he.children=oe}return D(z.type,Te,he)},Ne.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},Ne.createElement=function(z,ie,ce){var he,Te={},Ce=null;if(ie!=null)for(he in ie.key!==void 0&&(Ce=""+ie.key),ie)x.call(ie,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Te[he]=ie[he]);var oe=arguments.length-2;if(oe===1)Te.children=ce;else if(1<oe){for(var _e=Array(oe),we=0;we<oe;we++)_e[we]=arguments[we+2];Te.children=_e}if(z&&z.defaultProps)for(he in oe=z.defaultProps,oe)Te[he]===void 0&&(Te[he]=oe[he]);return D(z,Ce,Te)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(z){return{$$typeof:h,render:z}},Ne.isValidElement=L,Ne.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:de}},Ne.memo=function(z,ie){return{$$typeof:p,type:z,compare:ie===void 0?null:ie}},Ne.startTransition=function(z){var ie=R.T,ce={};R.T=ce;try{var he=z(),Te=R.S;Te!==null&&Te(ce,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Z,xe)}catch(Ce){xe(Ce)}finally{ie!==null&&ce.types!==null&&(ie.types=ce.types),R.T=ie}},Ne.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ne.use=function(z){return R.H.use(z)},Ne.useActionState=function(z,ie,ce){return R.H.useActionState(z,ie,ce)},Ne.useCallback=function(z,ie){return R.H.useCallback(z,ie)},Ne.useContext=function(z){return R.H.useContext(z)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(z,ie){return R.H.useDeferredValue(z,ie)},Ne.useEffect=function(z,ie){return R.H.useEffect(z,ie)},Ne.useEffectEvent=function(z){return R.H.useEffectEvent(z)},Ne.useId=function(){return R.H.useId()},Ne.useImperativeHandle=function(z,ie,ce){return R.H.useImperativeHandle(z,ie,ce)},Ne.useInsertionEffect=function(z,ie){return R.H.useInsertionEffect(z,ie)},Ne.useLayoutEffect=function(z,ie){return R.H.useLayoutEffect(z,ie)},Ne.useMemo=function(z,ie){return R.H.useMemo(z,ie)},Ne.useOptimistic=function(z,ie){return R.H.useOptimistic(z,ie)},Ne.useReducer=function(z,ie,ce){return R.H.useReducer(z,ie,ce)},Ne.useRef=function(z){return R.H.useRef(z)},Ne.useState=function(z){return R.H.useState(z)},Ne.useSyncExternalStore=function(z,ie,ce){return R.H.useSyncExternalStore(z,ie,ce)},Ne.useTransition=function(){return R.H.useTransition()},Ne.version="19.2.0",Ne}var _w;function ev(){return _w||(_w=1,dg.exports=kD()),dg.exports}var O=ev();const di=PD(O);var mg={exports:{}},qu={},pg={exports:{}},gg={};var Tw;function LD(){return Tw||(Tw=1,(function(t){function e(Q,le){var de=Q.length;Q.push(le);e:for(;0<de;){var xe=de-1>>>1,Oe=Q[xe];if(0<a(Oe,le))Q[xe]=le,Q[de]=Oe,de=xe;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var le=Q[0],de=Q.pop();if(de!==le){Q[0]=de;e:for(var xe=0,Oe=Q.length,z=Oe>>>1;xe<z;){var ie=2*(xe+1)-1,ce=Q[ie],he=ie+1,Te=Q[he];if(0>a(ce,de))he<Oe&&0>a(Te,ce)?(Q[xe]=Te,Q[he]=de,xe=he):(Q[xe]=ce,Q[ie]=de,xe=ie);else if(he<Oe&&0>a(Te,de))Q[xe]=Te,Q[he]=de,xe=he;else break e}}return le}function a(Q,le){var de=Q.sortIndex-le.sortIndex;return de!==0?de:Q.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],y=1,v=null,T=3,S=!1,N=!1,M=!1,I=!1,V=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function ee(Q){for(var le=n(p);le!==null;){if(le.callback===null)s(p);else if(le.startTime<=Q)s(p),le.sortIndex=le.expirationTime,e(d,le);else break;le=n(p)}}function te(Q){if(M=!1,ee(Q),!N)if(n(d)!==null)N=!0,Z||(Z=!0,H());else{var le=n(p);le!==null&&We(te,le.startTime-Q)}}var Z=!1,R=-1,x=5,D=-1;function j(){return I?!0:!(t.unstable_now()-D<x)}function L(){if(I=!1,Z){var Q=t.unstable_now();D=Q;var le=!0;try{e:{N=!1,M&&(M=!1,U(R),R=-1),S=!0;var de=T;try{t:{for(ee(Q),v=n(d);v!==null&&!(v.expirationTime>Q&&j());){var xe=v.callback;if(typeof xe=="function"){v.callback=null,T=v.priorityLevel;var Oe=xe(v.expirationTime<=Q);if(Q=t.unstable_now(),typeof Oe=="function"){v.callback=Oe,ee(Q),le=!0;break t}v===n(d)&&s(d),ee(Q)}else s(d);v=n(d)}if(v!==null)le=!0;else{var z=n(p);z!==null&&We(te,z.startTime-Q),le=!1}}break e}finally{v=null,T=de,S=!1}le=void 0}}finally{le?H():Z=!1}}}var H;if(typeof F=="function")H=function(){F(L)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Fe=P.port2;P.port1.onmessage=L,H=function(){Fe.postMessage(null)}}else H=function(){V(L,0)};function We(Q,le){R=V(function(){Q(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(Q){switch(T){case 1:case 2:case 3:var le=3;break;default:le=T}var de=T;T=le;try{return Q()}finally{T=de}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(Q,le){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var de=T;T=Q;try{return le()}finally{T=de}},t.unstable_scheduleCallback=function(Q,le,de){var xe=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?xe+de:xe):de=xe,Q){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=de+Oe,Q={id:y++,callback:le,priorityLevel:Q,startTime:de,expirationTime:Oe,sortIndex:-1},de>xe?(Q.sortIndex=de,e(p,Q),n(d)===null&&Q===n(p)&&(M?(U(R),R=-1):M=!0,We(te,de-xe))):(Q.sortIndex=Oe,e(d,Q),N||S||(N=!0,Z||(Z=!0,H()))),Q},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(Q){var le=T;return function(){var de=T;T=le;try{return Q.apply(this,arguments)}finally{T=de}}}})(gg)),gg}var bw;function jD(){return bw||(bw=1,pg.exports=LD()),pg.exports}var yg={exports:{}},fn={};var ww;function UD(){if(ww)return fn;ww=1;var t=ev();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:p,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,fn.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,y)},fn.flushSync=function(d){var p=u.T,y=s.p;try{if(u.T=null,s.p=2,d)return d()}finally{u.T=p,s.p=y,s.d.f()}},fn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(d,p))},fn.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},fn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:S}):y==="script"&&s.d.X(d,{crossOrigin:v,integrity:T,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},fn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);s.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(d)},fn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);s.d.L(d,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},fn.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=h(p.as,p.crossOrigin);s.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(d)},fn.requestFormReset=function(d){s.d.r(d)},fn.unstable_batchedUpdates=function(d,p){return d(p)},fn.useFormState=function(d,p,y){return u.H.useFormState(d,p,y)},fn.useFormStatus=function(){return u.H.useHostTransitionStatus()},fn.version="19.2.0",fn}var Ew;function zD(){if(Ew)return yg.exports;Ew=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),yg.exports=UD(),yg.exports}var Sw;function BD(){if(Sw)return qu;Sw=1;var t=jD(),e=ev(),n=zD();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return d(m),i;if(g===c)return d(m),r;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=m,c=g;else{for(var b=!1,A=m.child;A;){if(A===o){b=!0,o=m,c=g;break}if(A===c){b=!0,c=m,o=g;break}A=A.sibling}if(!b){for(A=g.child;A;){if(A===o){b=!0,o=g,c=m;break}if(A===c){b=!0,c=g,o=m;break}A=A.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),F=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var P=Symbol.for("react.client.reference");function Fe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===P?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case V:return"Profiler";case I:return"StrictMode";case te:return"Suspense";case Z:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case F:return i.displayName||"Context";case U:return(i._context.displayName||"Context")+".Consumer";case ee:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return r=i.displayName||null,r!==null?r:Fe(i.type)||"Memo";case x:r=i._payload,i=i._init;try{return Fe(i(r))}catch{}}return null}var We=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},xe=[],Oe=-1;function z(i){return{current:i}}function ie(i){0>Oe||(i.current=xe[Oe],xe[Oe]=null,Oe--)}function ce(i,r){Oe++,xe[Oe]=i.current,i.current=r}var he=z(null),Te=z(null),Ce=z(null),oe=z(null);function _e(i,r){switch(ce(Ce,r),ce(Te,i),ce(he,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Ub(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Ub(r),i=zb(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ie(he),ce(he,i)}function we(){ie(he),ie(Te),ie(Ce)}function pt(i){i.memoizedState!==null&&ce(oe,i);var r=he.current,o=zb(r,i.type);r!==o&&(ce(Te,i),ce(he,o))}function En(i){Te.current===i&&(ie(he),ie(Te)),oe.current===i&&(ie(oe),Uu._currentValue=de)}var $n,bi;function Mt(i){if($n===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);$n=r&&r[1]||"",bi=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$n+i+bi}var wi=!1;function vn(i,r){if(!i||wi)return"";wi=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(W){var X=W}Reflect.construct(i,[],re)}else{try{re.call()}catch(W){X=W}i.call(re.prototype)}}else{try{throw Error()}catch(W){X=W}(re=i())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(W){if(W&&X&&typeof W.stack=="string")return[W.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),b=g[0],A=g[1];if(b&&A){var k=b.split(`
`),K=A.split(`
`);for(m=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;if(c===k.length||m===K.length)for(c=k.length-1,m=K.length-1;1<=c&&0<=m&&k[c]!==K[m];)m--;for(;1<=c&&0<=m;c--,m--)if(k[c]!==K[m]){if(c!==1||m!==1)do if(c--,m--,0>m||k[c]!==K[m]){var J=`
`+k[c].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=c&&0<=m);break}}}finally{wi=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Mt(o):""}function Vn(i,r){switch(i.tag){case 26:case 27:case 5:return Mt(i.type);case 16:return Mt("Lazy");case 13:return i.child!==r&&r!==null?Mt("Suspense Fallback"):Mt("Suspense");case 19:return Mt("SuspenseList");case 0:case 15:return vn(i.type,!1);case 11:return vn(i.type.render,!1);case 1:return vn(i.type,!0);case 31:return Mt("Activity");default:return""}}function da(i){try{var r="",o=null;do r+=Vn(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Tt=Object.prototype.hasOwnProperty,Pt=t.unstable_scheduleCallback,ws=t.unstable_cancelCallback,go=t.unstable_shouldYield,yo=t.unstable_requestPaint,bt=t.unstable_now,Es=t.unstable_getCurrentPriorityLevel,kn=t.unstable_ImmediatePriority,ma=t.unstable_UserBlockingPriority,en=t.unstable_NormalPriority,Hl=t.unstable_LowPriority,Wc=t.unstable_IdlePriority,Qc=t.log,Zc=t.unstable_setDisableYieldValue,Ei=null,tn=null;function Wn(i){if(typeof Qc=="function"&&Zc(i),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(Ei,i)}catch{}}var xt=Math.clz32?Math.clz32:eh,Jc=Math.log,vo=Math.LN2;function eh(i){return i>>>=0,i===0?32:31-(Jc(i)/vo|0)|0}var Fi=256,pa=262144,Ot=4194304;function Hi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function qi(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~g,c!==0?m=Hi(c):(b&=A,b!==0?m=Hi(b):o||(o=A&~i,o!==0&&(m=Hi(o))))):(A=c&~g,A!==0?m=Hi(A):b!==0?m=Hi(b):o||(o=c&~i,o!==0&&(m=Hi(o)))),m===0?0:r!==0&&r!==m&&(r&g)===0&&(g=m&-m,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:m}function Si(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function gm(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function th(){var i=Ot;return Ot<<=1,(Ot&62914560)===0&&(Ot=4194304),i}function Yi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function ga(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ym(i,r,o,c,m,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,k=i.expirationTimes,K=i.hiddenUpdates;for(o=b&~o;0<o;){var J=31-xt(o),re=1<<J;A[J]=0,k[J]=-1;var X=K[J];if(X!==null)for(K[J]=null,J=0;J<X.length;J++){var W=X[J];W!==null&&(W.lane&=-536870913)}o&=~re}c!==0&&ya(i,c,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~r))}function ya(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-xt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function ql(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-xt(o),m=1<<c;m&r|i[c]&r&&(i[c]|=r),o&=~m}}function Yl(i,r){var o=r&-r;return o=(o&42)!==0?1:va(o),(o&(i.suspendedLanes|r))!==0?0:o}function va(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ss(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function nh(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:uw(i.type))}function Ai(i,r){var o=le.p;try{return le.p=i,r()}finally{le.p=o}}var xi=Math.random().toString(36).slice(2),Vt="__reactFiber$"+xi,Wt="__reactProps$"+xi,Gi="__reactContainer$"+xi,_o="__reactEvents$"+xi,vm="__reactListeners$"+xi,ih="__reactHandles$"+xi,sh="__reactResources$"+xi,Ki="__reactMarker$"+xi;function To(i){delete i[Vt],delete i[Wt],delete i[_o],delete i[vm],delete i[ih]}function Xi(i){var r=i[Vt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Gi]||o[Vt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=Kb(i);i!==null;){if(o=i[Vt])return o;i=Kb(i)}return r}i=o,o=i.parentNode}return null}function Qn(i){if(i=i[Vt]||i[Gi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Ln(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function $i(i){var r=i[sh];return r||(r=i[sh]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function kt(i){i[Ki]=!0}var Gl=new Set,Kl={};function Wi(i,r){Qi(i,r),Qi(i+"Capture",r)}function Qi(i,r){for(Kl[i]=r,i=0;i<r.length;i++)Gl.add(r[i])}var Xl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$l={},Wl={};function rh(i){return Tt.call(Wl,i)?!0:Tt.call($l,i)?!1:Xl.test(i)?Wl[i]=!0:($l[i]=!0,!1)}function bo(i,r,o){if(rh(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function jn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Lt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function Qt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function sr(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ql(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return m.call(this)},set:function(b){o=""+b,g.call(this,b)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Qe(i){if(!i._valueTracker){var r=sr(i)?"checked":"value";i._valueTracker=Ql(i,r,""+i[r])}}function _a(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=sr(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function Zi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ta=/[\n"\\]/g;function Sn(i){return i.replace(Ta,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function wo(i,r,o,c,m,g,b,A){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Qt(r)):i.value!==""+Qt(r)&&(i.value=""+Qt(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?Zl(i,b,Qt(r)):o!=null?Zl(i,b,Qt(o)):c!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+Qt(A):i.removeAttribute("name")}function ah(i,r,o,c,m,g,b,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Qe(i);return}o=o!=null?""+Qt(o):"",r=r!=null?""+Qt(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),Qe(i)}function Zl(i,r,o){r==="number"&&Zi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function rr(i,r,o,c){if(i=i.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=r.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Qt(o),r=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}r!==null||i[m].disabled||(r=i[m])}r!==null&&(r.selected=!0)}}function oh(i,r,o){if(r!=null&&(r=""+Qt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Qt(o):""}function ar(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(We(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=Qt(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),Qe(i)}function An(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var lh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jl(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||lh.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function eu(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in r)c=r[m],r.hasOwnProperty(m)&&o[m]!==c&&Jl(i,m,c)}else for(var g in r)r.hasOwnProperty(g)&&Jl(i,g,r[g])}function Eo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function So(i){return or.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ci(){}var tu=null;function Zn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var lr=null,Ji=null;function ba(i){var r=Qn(i);if(r&&(i=r.stateNode)){var o=i[Wt]||null;e:switch(i=r.stateNode,r.type){case"input":if(wo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Sn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var m=c[Wt]||null;if(!m)throw Error(s(90));wo(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&_a(c)}break e;case"textarea":oh(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&rr(i,!!o.multiple,r,!1)}}}var Ao=!1;function ur(i,r,o){if(Ao)return i(r,o);Ao=!0;try{var c=i(r);return c}finally{if(Ao=!1,(lr!==null||Ji!==null)&&(nf(),lr&&(r=lr,i=Ji,Ji=lr=null,ba(r),i)))for(r=0;r<i.length;r++)ba(i[r])}}function Ri(i,r){var o=i.stateNode;if(o===null)return null;var c=o[Wt]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wa=!1;if(Jn)try{var et={};Object.defineProperty(et,"passive",{get:function(){wa=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{wa=!1}var es=null,nu=null,Ea=null;function iu(){if(Ea)return Ea;var i,r=nu,o=r.length,c,m="value"in es?es.value:es.textContent,g=m.length;for(i=0;i<o&&r[i]===m[i];i++);var b=o-i;for(c=1;c<=b&&r[o-c]===m[g-c];c++);return Ea=m.slice(i,1<c?1-c:void 0)}function Sa(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function As(){return!0}function Ni(){return!1}function nn(i){function r(o,c,m,g,b){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?As:Ni,this.isPropagationStopped=Ni,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),r}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ts=nn(xs),cr=v({},xs,{view:0,detail:0}),su=nn(cr),hr,xo,ns,Co=v({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ns&&(ns&&i.type==="mousemove"?(hr=i.screenX-ns.screenX,xo=i.screenY-ns.screenY):xo=hr=0,ns=i),hr)},movementY:function(i){return"movementY"in i?i.movementY:xo}}),ru=nn(Co),Aa=v({},Co,{dataTransfer:0}),ch=nn(Aa),hh=v({},cr,{relatedTarget:0}),xa=nn(hh),au=v({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),fh=nn(au),Ro=v({},xs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),dh=nn(Ro),mh=v({},xs,{data:0}),is=nn(mh),ph={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=yh[i])?!!r[i]:!1}function fr(){return vh}var _n=v({},cr,{key:function(i){if(i.key){var r=ph[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Sa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?gh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(i){return i.type==="keypress"?Sa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Sa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),_h=nn(_n),Th=v({},Co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cs=nn(Th),f=v({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr}),_=nn(f),E=v({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=nn(E),Y=v({},Co,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$=nn(Y),ue=v({},xs,{newState:0,oldState:0}),Ie=nn(ue),Ct=[9,13,27,32],Ke=Jn&&"CompositionEvent"in window,ct=null;Jn&&"documentMode"in document&&(ct=document.documentMode);var ei=Jn&&"TextEvent"in window&&!ct,ss=Jn&&(!Ke||ct&&8<ct&&11>=ct),Di=" ",Ii=!1;function Ca(i,r){switch(i){case"keyup":return Ct.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function No(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Do=!1;function iN(i,r){switch(i){case"compositionend":return No(r);case"keypress":return r.which!==32?null:(Ii=!0,Di);case"textInput":return i=r.data,i===Di&&Ii?null:i;default:return null}}function sN(i,r){if(Do)return i==="compositionend"||!Ke&&Ca(i,r)?(i=iu(),Ea=nu=es=null,Do=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ss&&r.locale!=="ko"?null:r.data;default:return null}}var rN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function W0(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!rN[i.type]:r==="textarea"}function Q0(i,r,o,c){lr?Ji?Ji.push(c):Ji=[c]:lr=c,r=cf(r,"onChange"),0<r.length&&(o=new ts("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var ou=null,lu=null;function aN(i){Pb(i,0)}function bh(i){var r=Ln(i);if(_a(r))return i}function Z0(i,r){if(i==="change")return r}var J0=!1;if(Jn){var _m;if(Jn){var Tm="oninput"in document;if(!Tm){var e_=document.createElement("div");e_.setAttribute("oninput","return;"),Tm=typeof e_.oninput=="function"}_m=Tm}else _m=!1;J0=_m&&(!document.documentMode||9<document.documentMode)}function t_(){ou&&(ou.detachEvent("onpropertychange",n_),lu=ou=null)}function n_(i){if(i.propertyName==="value"&&bh(lu)){var r=[];Q0(r,lu,i,Zn(i)),ur(aN,r)}}function oN(i,r,o){i==="focusin"?(t_(),ou=r,lu=o,ou.attachEvent("onpropertychange",n_)):i==="focusout"&&t_()}function lN(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return bh(lu)}function uN(i,r){if(i==="click")return bh(r)}function cN(i,r){if(i==="input"||i==="change")return bh(r)}function hN(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Un=typeof Object.is=="function"?Object.is:hN;function uu(i,r){if(Un(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Tt.call(r,m)||!Un(i[m],r[m]))return!1}return!0}function i_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function s_(i,r){var o=i_(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=i_(o)}}function r_(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?r_(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function a_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Zi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Zi(i.document)}return r}function bm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var fN=Jn&&"documentMode"in document&&11>=document.documentMode,Io=null,wm=null,cu=null,Em=!1;function o_(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Em||Io==null||Io!==Zi(c)||(c=Io,"selectionStart"in c&&bm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),cu&&uu(cu,c)||(cu=c,c=cf(wm,"onSelect"),0<c.length&&(r=new ts("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=Io)))}function Ra(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Mo={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionrun:Ra("Transition","TransitionRun"),transitionstart:Ra("Transition","TransitionStart"),transitioncancel:Ra("Transition","TransitionCancel"),transitionend:Ra("Transition","TransitionEnd")},Sm={},l_={};Jn&&(l_=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function Na(i){if(Sm[i])return Sm[i];if(!Mo[i])return i;var r=Mo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in l_)return Sm[i]=r[o];return i}var u_=Na("animationend"),c_=Na("animationiteration"),h_=Na("animationstart"),dN=Na("transitionrun"),mN=Na("transitionstart"),pN=Na("transitioncancel"),f_=Na("transitionend"),d_=new Map,Am="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Am.push("scrollEnd");function Mi(i,r){d_.set(i,r),Wi(r,[i])}var wh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ti=[],Po=0,xm=0;function Eh(){for(var i=Po,r=xm=Po=0;r<i;){var o=ti[r];ti[r++]=null;var c=ti[r];ti[r++]=null;var m=ti[r];ti[r++]=null;var g=ti[r];if(ti[r++]=null,c!==null&&m!==null){var b=c.pending;b===null?m.next=m:(m.next=b.next,b.next=m),c.pending=m}g!==0&&m_(o,m,g)}}function Sh(i,r,o,c){ti[Po++]=i,ti[Po++]=r,ti[Po++]=o,ti[Po++]=c,xm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Cm(i,r,o,c){return Sh(i,r,o,c),Ah(i)}function Da(i,r){return Sh(i,null,null,r),Ah(i)}function m_(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&r!==null&&(m=31-xt(o),i=g.hiddenUpdates,c=i[m],c===null?i[m]=[r]:c.push(r),r.lane=o|536870912),g):null}function Ah(i){if(50<Mu)throw Mu=0,kp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Oo={};function gN(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(i,r,o,c){return new gN(i,r,o,c)}function Rm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Rs(i,r){var o=i.alternate;return o===null?(o=zn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function p_(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function xh(i,r,o,c,m,g){var b=0;if(c=i,typeof i=="function")Rm(i)&&(b=1);else if(typeof i=="string")b=bD(i,o,he.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=zn(31,o,r,m),i.elementType=D,i.lanes=g,i;case M:return Ia(o.children,m,g,r);case I:b=8,m|=24;break;case V:return i=zn(12,o,r,m|2),i.elementType=V,i.lanes=g,i;case te:return i=zn(13,o,r,m),i.elementType=te,i.lanes=g,i;case Z:return i=zn(19,o,r,m),i.elementType=Z,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:b=10;break e;case U:b=9;break e;case ee:b=11;break e;case R:b=14;break e;case x:b=16,c=null;break e}b=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=zn(b,o,r,m),r.elementType=i,r.type=c,r.lanes=g,r}function Ia(i,r,o,c){return i=zn(7,i,c,r),i.lanes=o,i}function Nm(i,r,o){return i=zn(6,i,null,r),i.lanes=o,i}function g_(i){var r=zn(18,null,null,0);return r.stateNode=i,r}function Dm(i,r,o){return r=zn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var y_=new WeakMap;function ni(i,r){if(typeof i=="object"&&i!==null){var o=y_.get(i);return o!==void 0?o:(r={value:i,source:r,stack:da(r)},y_.set(i,r),r)}return{value:i,source:r,stack:da(r)}}var Vo=[],ko=0,Ch=null,hu=0,ii=[],si=0,dr=null,rs=1,as="";function Ns(i,r){Vo[ko++]=hu,Vo[ko++]=Ch,Ch=i,hu=r}function v_(i,r,o){ii[si++]=rs,ii[si++]=as,ii[si++]=dr,dr=i;var c=rs;i=as;var m=32-xt(c)-1;c&=~(1<<m),o+=1;var g=32-xt(r)+m;if(30<g){var b=m-m%5;g=(c&(1<<b)-1).toString(32),c>>=b,m-=b,rs=1<<32-xt(r)+m|o<<m|c,as=g+i}else rs=1<<g|o<<m|c,as=i}function Im(i){i.return!==null&&(Ns(i,1),v_(i,1,0))}function Mm(i){for(;i===Ch;)Ch=Vo[--ko],Vo[ko]=null,hu=Vo[--ko],Vo[ko]=null;for(;i===dr;)dr=ii[--si],ii[si]=null,as=ii[--si],ii[si]=null,rs=ii[--si],ii[si]=null}function __(i,r){ii[si++]=rs,ii[si++]=as,ii[si++]=dr,rs=r.id,as=r.overflow,dr=i}var sn=null,ot=null,He=!1,mr=null,ri=!1,Pm=Error(s(519));function pr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fu(ni(r,i)),Pm}function T_(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[Vt]=i,r[Wt]=c,o){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(o=0;o<Ou.length;o++)ke(Ou[o],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),ah(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),ar(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||Lb(r.textContent,o)?(c.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),c.onScroll!=null&&ke("scroll",r),c.onScrollEnd!=null&&ke("scrollend",r),c.onClick!=null&&(r.onclick=Ci),r=!0):r=!1,r||pr(i,!0)}function b_(i){for(sn=i.return;sn;)switch(sn.tag){case 5:case 31:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:sn=sn.return}}function Lo(i){if(i!==sn)return!1;if(!He)return b_(i),He=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Qp(i.type,i.memoizedProps)),o=!o),o&&ot&&pr(i),b_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ot=Gb(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ot=Gb(i)}else r===27?(r=ot,Nr(i.type)?(i=ng,ng=null,ot=i):ot=r):ot=sn?oi(i.stateNode.nextSibling):null;return!0}function Ma(){ot=sn=null,He=!1}function Om(){var i=mr;return i!==null&&(Nn===null?Nn=i:Nn.push.apply(Nn,i),mr=null),i}function fu(i){mr===null?mr=[i]:mr.push(i)}var Vm=z(null),Pa=null,Ds=null;function gr(i,r,o){ce(Vm,r._currentValue),r._currentValue=o}function Is(i){i._currentValue=Vm.current,ie(Vm)}function km(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function Lm(i,r,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var b=m.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=m;for(var k=0;k<r.length;k++)if(A.context===r[k]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),km(g.return,o,i),c||(b=null);break e}g=A.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(s(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),km(b,o,i),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===i){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function jo(i,r,o,c){i=null;for(var m=r,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var A=m.type;Un(m.pendingProps.value,b.value)||(i!==null?i.push(A):i=[A])}}else if(m===oe.current){if(b=m.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Uu):i=[Uu])}m=m.return}i!==null&&Lm(r,i,o,c),r.flags|=262144}function Rh(i){for(i=i.firstContext;i!==null;){if(!Un(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Oa(i){Pa=i,Ds=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function rn(i){return w_(Pa,i)}function Nh(i,r){return Pa===null&&Oa(i),w_(i,r)}function w_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Ds===null){if(i===null)throw Error(s(308));Ds=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ds=Ds.next=r;return o}var yN=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},vN=t.unstable_scheduleCallback,_N=t.unstable_NormalPriority,jt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jm(){return{controller:new yN,data:new Map,refCount:0}}function du(i){i.refCount--,i.refCount===0&&vN(_N,function(){i.controller.abort()})}var mu=null,Um=0,Uo=0,zo=null;function TN(i,r){if(mu===null){var o=mu=[];Um=0,Uo=Fp(),zo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Um++,r.then(E_,E_),r}function E_(){if(--Um===0&&mu!==null){zo!==null&&(zo.status="fulfilled");var i=mu;mu=null,Uo=0,zo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function bN(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var S_=Q.S;Q.S=function(i,r){ob=bt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&TN(i,r),S_!==null&&S_(i,r)};var Va=z(null);function zm(){var i=Va.current;return i!==null?i:st.pooledCache}function Dh(i,r){r===null?ce(Va,Va.current):ce(Va,r.pool)}function A_(){var i=zm();return i===null?null:{parent:jt._currentValue,pool:i}}var Bo=Error(s(460)),Bm=Error(s(474)),Ih=Error(s(542)),Mh={then:function(){}};function x_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function C_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Ci,Ci),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,N_(i),i;default:if(typeof r.status=="string")r.then(Ci,Ci);else{if(i=st,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=c}},function(c){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,N_(i),i}throw La=r,Bo}}function ka(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(La=o,Bo):o}}var La=null;function R_(){if(La===null)throw Error(s(459));var i=La;return La=null,i}function N_(i){if(i===Bo||i===Ih)throw Error(s(483))}var Fo=null,pu=0;function Ph(i){var r=pu;return pu+=1,Fo===null&&(Fo=[]),C_(Fo,i,r)}function gu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Oh(i,r){throw r.$$typeof===T?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function D_(i){function r(q,B){if(i){var G=q.deletions;G===null?(q.deletions=[B],q.flags|=16):G.push(B)}}function o(q,B){if(!i)return null;for(;B!==null;)r(q,B),B=B.sibling;return null}function c(q){for(var B=new Map;q!==null;)q.key!==null?B.set(q.key,q):B.set(q.index,q),q=q.sibling;return B}function m(q,B){return q=Rs(q,B),q.index=0,q.sibling=null,q}function g(q,B,G){return q.index=G,i?(G=q.alternate,G!==null?(G=G.index,G<B?(q.flags|=67108866,B):G):(q.flags|=67108866,B)):(q.flags|=1048576,B)}function b(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function A(q,B,G,ne){return B===null||B.tag!==6?(B=Nm(G,q.mode,ne),B.return=q,B):(B=m(B,G),B.return=q,B)}function k(q,B,G,ne){var ye=G.type;return ye===M?J(q,B,G.props.children,ne,G.key):B!==null&&(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&ka(ye)===B.type)?(B=m(B,G.props),gu(B,G),B.return=q,B):(B=xh(G.type,G.key,G.props,null,q.mode,ne),gu(B,G),B.return=q,B)}function K(q,B,G,ne){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=Dm(G,q.mode,ne),B.return=q,B):(B=m(B,G.children||[]),B.return=q,B)}function J(q,B,G,ne,ye){return B===null||B.tag!==7?(B=Ia(G,q.mode,ne,ye),B.return=q,B):(B=m(B,G),B.return=q,B)}function re(q,B,G){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Nm(""+B,q.mode,G),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return G=xh(B.type,B.key,B.props,null,q.mode,G),gu(G,B),G.return=q,G;case N:return B=Dm(B,q.mode,G),B.return=q,B;case x:return B=ka(B),re(q,B,G)}if(We(B)||H(B))return B=Ia(B,q.mode,G,null),B.return=q,B;if(typeof B.then=="function")return re(q,Ph(B),G);if(B.$$typeof===F)return re(q,Nh(q,B),G);Oh(q,B)}return null}function X(q,B,G,ne){var ye=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ye!==null?null:A(q,B,""+G,ne);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return G.key===ye?k(q,B,G,ne):null;case N:return G.key===ye?K(q,B,G,ne):null;case x:return G=ka(G),X(q,B,G,ne)}if(We(G)||H(G))return ye!==null?null:J(q,B,G,ne,null);if(typeof G.then=="function")return X(q,B,Ph(G),ne);if(G.$$typeof===F)return X(q,B,Nh(q,G),ne);Oh(q,G)}return null}function W(q,B,G,ne,ye){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return q=q.get(G)||null,A(B,q,""+ne,ye);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case S:return q=q.get(ne.key===null?G:ne.key)||null,k(B,q,ne,ye);case N:return q=q.get(ne.key===null?G:ne.key)||null,K(B,q,ne,ye);case x:return ne=ka(ne),W(q,B,G,ne,ye)}if(We(ne)||H(ne))return q=q.get(G)||null,J(B,q,ne,ye,null);if(typeof ne.then=="function")return W(q,B,G,Ph(ne),ye);if(ne.$$typeof===F)return W(q,B,G,Nh(B,ne),ye);Oh(B,ne)}return null}function pe(q,B,G,ne){for(var ye=null,Ye=null,ge=B,Pe=B=0,je=null;ge!==null&&Pe<G.length;Pe++){ge.index>Pe?(je=ge,ge=null):je=ge.sibling;var Ge=X(q,ge,G[Pe],ne);if(Ge===null){ge===null&&(ge=je);break}i&&ge&&Ge.alternate===null&&r(q,ge),B=g(Ge,B,Pe),Ye===null?ye=Ge:Ye.sibling=Ge,Ye=Ge,ge=je}if(Pe===G.length)return o(q,ge),He&&Ns(q,Pe),ye;if(ge===null){for(;Pe<G.length;Pe++)ge=re(q,G[Pe],ne),ge!==null&&(B=g(ge,B,Pe),Ye===null?ye=ge:Ye.sibling=ge,Ye=ge);return He&&Ns(q,Pe),ye}for(ge=c(ge);Pe<G.length;Pe++)je=W(ge,q,Pe,G[Pe],ne),je!==null&&(i&&je.alternate!==null&&ge.delete(je.key===null?Pe:je.key),B=g(je,B,Pe),Ye===null?ye=je:Ye.sibling=je,Ye=je);return i&&ge.forEach(function(Or){return r(q,Or)}),He&&Ns(q,Pe),ye}function be(q,B,G,ne){if(G==null)throw Error(s(151));for(var ye=null,Ye=null,ge=B,Pe=B=0,je=null,Ge=G.next();ge!==null&&!Ge.done;Pe++,Ge=G.next()){ge.index>Pe?(je=ge,ge=null):je=ge.sibling;var Or=X(q,ge,Ge.value,ne);if(Or===null){ge===null&&(ge=je);break}i&&ge&&Or.alternate===null&&r(q,ge),B=g(Or,B,Pe),Ye===null?ye=Or:Ye.sibling=Or,Ye=Or,ge=je}if(Ge.done)return o(q,ge),He&&Ns(q,Pe),ye;if(ge===null){for(;!Ge.done;Pe++,Ge=G.next())Ge=re(q,Ge.value,ne),Ge!==null&&(B=g(Ge,B,Pe),Ye===null?ye=Ge:Ye.sibling=Ge,Ye=Ge);return He&&Ns(q,Pe),ye}for(ge=c(ge);!Ge.done;Pe++,Ge=G.next())Ge=W(ge,q,Pe,Ge.value,ne),Ge!==null&&(i&&Ge.alternate!==null&&ge.delete(Ge.key===null?Pe:Ge.key),B=g(Ge,B,Pe),Ye===null?ye=Ge:Ye.sibling=Ge,Ye=Ge);return i&&ge.forEach(function(MD){return r(q,MD)}),He&&Ns(q,Pe),ye}function it(q,B,G,ne){if(typeof G=="object"&&G!==null&&G.type===M&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case S:e:{for(var ye=G.key;B!==null;){if(B.key===ye){if(ye=G.type,ye===M){if(B.tag===7){o(q,B.sibling),ne=m(B,G.props.children),ne.return=q,q=ne;break e}}else if(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&ka(ye)===B.type){o(q,B.sibling),ne=m(B,G.props),gu(ne,G),ne.return=q,q=ne;break e}o(q,B);break}else r(q,B);B=B.sibling}G.type===M?(ne=Ia(G.props.children,q.mode,ne,G.key),ne.return=q,q=ne):(ne=xh(G.type,G.key,G.props,null,q.mode,ne),gu(ne,G),ne.return=q,q=ne)}return b(q);case N:e:{for(ye=G.key;B!==null;){if(B.key===ye)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){o(q,B.sibling),ne=m(B,G.children||[]),ne.return=q,q=ne;break e}else{o(q,B);break}else r(q,B);B=B.sibling}ne=Dm(G,q.mode,ne),ne.return=q,q=ne}return b(q);case x:return G=ka(G),it(q,B,G,ne)}if(We(G))return pe(q,B,G,ne);if(H(G)){if(ye=H(G),typeof ye!="function")throw Error(s(150));return G=ye.call(G),be(q,B,G,ne)}if(typeof G.then=="function")return it(q,B,Ph(G),ne);if(G.$$typeof===F)return it(q,B,Nh(q,G),ne);Oh(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,B!==null&&B.tag===6?(o(q,B.sibling),ne=m(B,G),ne.return=q,q=ne):(o(q,B),ne=Nm(G,q.mode,ne),ne.return=q,q=ne),b(q)):o(q,B)}return function(q,B,G,ne){try{pu=0;var ye=it(q,B,G,ne);return Fo=null,ye}catch(ge){if(ge===Bo||ge===Ih)throw ge;var Ye=zn(29,ge,null,q.mode);return Ye.lanes=ne,Ye.return=q,Ye}finally{}}}var ja=D_(!0),I_=D_(!1),yr=!1;function Fm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function vr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function _r(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Xe&2)!==0){var m=c.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),c.pending=r,r=Ah(i),m_(i,null,o),r}return Sh(i,c,r,o),Ah(i)}function yu(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,ql(i,o)}}function qm(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?m=g=r:g=g.next=r}else m=g=r;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Ym=!1;function vu(){if(Ym){var i=zo;if(i!==null)throw i}}function _u(i,r,o,c){Ym=!1;var m=i.updateQueue;yr=!1;var g=m.firstBaseUpdate,b=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var k=A,K=k.next;k.next=null,b===null?g=K:b.next=K,b=k;var J=i.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==b&&(A===null?J.firstBaseUpdate=K:A.next=K,J.lastBaseUpdate=k))}if(g!==null){var re=m.baseState;b=0,J=K=k=null,A=g;do{var X=A.lane&-536870913,W=X!==A.lane;if(W?(Le&X)===X:(c&X)===X){X!==0&&X===Uo&&(Ym=!0),J!==null&&(J=J.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var pe=i,be=A;X=r;var it=o;switch(be.tag){case 1:if(pe=be.payload,typeof pe=="function"){re=pe.call(it,re,X);break e}re=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=be.payload,X=typeof pe=="function"?pe.call(it,re,X):pe,X==null)break e;re=v({},re,X);break e;case 2:yr=!0}}X=A.callback,X!==null&&(i.flags|=64,W&&(i.flags|=8192),W=m.callbacks,W===null?m.callbacks=[X]:W.push(X))}else W={lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(K=J=W,k=re):J=J.next=W,b|=X;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;W=A,A=W.next,W.next=null,m.lastBaseUpdate=W,m.shared.pending=null}}while(!0);J===null&&(k=re),m.baseState=k,m.firstBaseUpdate=K,m.lastBaseUpdate=J,g===null&&(m.shared.lanes=0),Sr|=b,i.lanes=b,i.memoizedState=re}}function M_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function P_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)M_(o[i],r)}var Ho=z(null),Vh=z(0);function O_(i,r){i=zs,ce(Vh,i),ce(Ho,r),zs=i|r.baseLanes}function Gm(){ce(Vh,zs),ce(Ho,Ho.current)}function Km(){zs=Vh.current,ie(Ho),ie(Vh)}var Bn=z(null),ai=null;function Tr(i){var r=i.alternate;ce(Rt,Rt.current&1),ce(Bn,i),ai===null&&(r===null||Ho.current!==null||r.memoizedState!==null)&&(ai=i)}function Xm(i){ce(Rt,Rt.current),ce(Bn,i),ai===null&&(ai=i)}function V_(i){i.tag===22?(ce(Rt,Rt.current),ce(Bn,i),ai===null&&(ai=i)):br()}function br(){ce(Rt,Rt.current),ce(Bn,Bn.current)}function Fn(i){ie(Bn),ai===i&&(ai=null),ie(Rt)}var Rt=z(0);function kh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||eg(o)||tg(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ms=0,Me=null,tt=null,Ut=null,Lh=!1,qo=!1,Ua=!1,jh=0,Tu=0,Yo=null,wN=0;function wt(){throw Error(s(321))}function $m(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Un(i[o],r[o]))return!1;return!0}function Wm(i,r,o,c,m,g){return Ms=g,Me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=i===null||i.memoizedState===null?vT:hp,Ua=!1,g=o(c,m),Ua=!1,qo&&(g=L_(r,o,c,m)),k_(i),g}function k_(i){Q.H=Eu;var r=tt!==null&&tt.next!==null;if(Ms=0,Ut=tt=Me=null,Lh=!1,Tu=0,Yo=null,r)throw Error(s(300));i===null||zt||(i=i.dependencies,i!==null&&Rh(i)&&(zt=!0))}function L_(i,r,o,c){Me=i;var m=0;do{if(qo&&(Yo=null),Tu=0,qo=!1,25<=m)throw Error(s(301));if(m+=1,Ut=tt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Q.H=_T,g=r(o,c)}while(qo);return g}function EN(){var i=Q.H,r=i.useState()[0];return r=typeof r.then=="function"?bu(r):r,i=i.useState()[0],(tt!==null?tt.memoizedState:null)!==i&&(Me.flags|=1024),r}function Qm(){var i=jh!==0;return jh=0,i}function Zm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Jm(i){if(Lh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Lh=!1}Ms=0,Ut=tt=Me=null,qo=!1,Tu=jh=0,Yo=null}function Tn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Me.memoizedState=Ut=i:Ut=Ut.next=i,Ut}function Nt(){if(tt===null){var i=Me.alternate;i=i!==null?i.memoizedState:null}else i=tt.next;var r=Ut===null?Me.memoizedState:Ut.next;if(r!==null)Ut=r,tt=i;else{if(i===null)throw Me.alternate===null?Error(s(467)):Error(s(310));tt=i,i={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Ut===null?Me.memoizedState=Ut=i:Ut=Ut.next=i}return Ut}function Uh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bu(i){var r=Tu;return Tu+=1,Yo===null&&(Yo=[]),i=C_(Yo,i,r),r=Me,(Ut===null?r.memoizedState:Ut.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?vT:hp),i}function zh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return bu(i);if(i.$$typeof===F)return rn(i)}throw Error(s(438,String(i)))}function ep(i){var r=null,o=Me.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Me.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Uh(),Me.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=j;return r.index++,o}function Ps(i,r){return typeof r=="function"?r(i):r}function Bh(i){var r=Nt();return tp(r,tt,i)}function tp(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var m=i.baseQueue,g=c.pending;if(g!==null){if(m!==null){var b=m.next;m.next=g.next,g.next=b}r.baseQueue=m=g,c.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{r=m.next;var A=b=null,k=null,K=r,J=!1;do{var re=K.lane&-536870913;if(re!==K.lane?(Le&re)===re:(Ms&re)===re){var X=K.revertLane;if(X===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),re===Uo&&(J=!0);else if((Ms&X)===X){K=K.next,X===Uo&&(J=!0);continue}else re={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},k===null?(A=k=re,b=g):k=k.next=re,Me.lanes|=X,Sr|=X;re=K.action,Ua&&o(g,re),g=K.hasEagerState?K.eagerState:o(g,re)}else X={lane:re,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},k===null?(A=k=X,b=g):k=k.next=X,Me.lanes|=re,Sr|=re;K=K.next}while(K!==null&&K!==r);if(k===null?b=g:k.next=A,!Un(g,i.memoizedState)&&(zt=!0,J&&(o=zo,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=k,c.lastRenderedState=g}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function np(i){var r=Nt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,g=r.memoizedState;if(m!==null){o.pending=null;var b=m=m.next;do g=i(g,b.action),b=b.next;while(b!==m);Un(g,r.memoizedState)||(zt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function j_(i,r,o){var c=Me,m=Nt(),g=He;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!Un((tt||m).memoizedState,o);if(b&&(m.memoizedState=o,zt=!0),m=m.queue,rp(B_.bind(null,c,m,i),[i]),m.getSnapshot!==r||b||Ut!==null&&Ut.memoizedState.tag&1){if(c.flags|=2048,Go(9,{destroy:void 0},z_.bind(null,c,m,o,r),null),st===null)throw Error(s(349));g||(Ms&127)!==0||U_(c,r,o)}return o}function U_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Me.updateQueue,r===null?(r=Uh(),Me.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function z_(i,r,o,c){r.value=o,r.getSnapshot=c,F_(r)&&H_(i)}function B_(i,r,o){return o(function(){F_(r)&&H_(i)})}function F_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Un(i,o)}catch{return!0}}function H_(i){var r=Da(i,2);r!==null&&Dn(r,i,2)}function ip(i){var r=Tn();if(typeof i=="function"){var o=i;if(i=o(),Ua){Wn(!0);try{o()}finally{Wn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:i},r}function q_(i,r,o,c){return i.baseState=o,tp(i,tt,typeof c=="function"?c:Ps)}function SN(i,r,o,c,m){if(qh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};Q.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,Y_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function Y_(i,r){var o=r.action,c=r.payload,m=i.state;if(r.isTransition){var g=Q.T,b={};Q.T=b;try{var A=o(m,c),k=Q.S;k!==null&&k(b,A),G_(i,r,A)}catch(K){sp(i,r,K)}finally{g!==null&&b.types!==null&&(g.types=b.types),Q.T=g}}else try{g=o(m,c),G_(i,r,g)}catch(K){sp(i,r,K)}}function G_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){K_(i,r,c)},function(c){return sp(i,r,c)}):K_(i,r,o)}function K_(i,r,o){r.status="fulfilled",r.value=o,X_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Y_(i,o)))}function sp(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,X_(r),r=r.next;while(r!==c)}i.action=null}function X_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function $_(i,r){return r}function W_(i,r){if(He){var o=st.formState;if(o!==null){e:{var c=Me;if(He){if(ot){t:{for(var m=ot,g=ri;m.nodeType!==8;){if(!g){m=null;break t}if(m=oi(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){ot=oi(m.nextSibling),c=m.data==="F!";break e}}pr(c)}c=!1}c&&(r=o[0])}}return o=Tn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$_,lastRenderedState:r},o.queue=c,o=pT.bind(null,Me,c),c.dispatch=o,c=ip(!1),g=cp.bind(null,Me,!1,c.queue),c=Tn(),m={state:r,dispatch:null,action:i,pending:null},c.queue=m,o=SN.bind(null,Me,m,g,o),m.dispatch=o,c.memoizedState=i,[r,o,!1]}function Q_(i){var r=Nt();return Z_(r,tt,i)}function Z_(i,r,o){if(r=tp(i,r,$_)[0],i=Bh(Ps)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=bu(r)}catch(b){throw b===Bo?Ih:b}else c=r;r=Nt();var m=r.queue,g=m.dispatch;return o!==r.memoizedState&&(Me.flags|=2048,Go(9,{destroy:void 0},AN.bind(null,m,o),null)),[c,g,i]}function AN(i,r){i.action=r}function J_(i){var r=Nt(),o=tt;if(o!==null)return Z_(r,o,i);Nt(),r=r.memoizedState,o=Nt();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function Go(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=Me.updateQueue,r===null&&(r=Uh(),Me.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function eT(){return Nt().memoizedState}function Fh(i,r,o,c){var m=Tn();Me.flags|=i,m.memoizedState=Go(1|r,{destroy:void 0},o,c===void 0?null:c)}function Hh(i,r,o,c){var m=Nt();c=c===void 0?null:c;var g=m.memoizedState.inst;tt!==null&&c!==null&&$m(c,tt.memoizedState.deps)?m.memoizedState=Go(r,g,o,c):(Me.flags|=i,m.memoizedState=Go(1|r,g,o,c))}function tT(i,r){Fh(8390656,8,i,r)}function rp(i,r){Hh(2048,8,i,r)}function xN(i){Me.flags|=4;var r=Me.updateQueue;if(r===null)r=Uh(),Me.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function nT(i){var r=Nt().memoizedState;return xN({ref:r,nextImpl:i}),function(){if((Xe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function iT(i,r){return Hh(4,2,i,r)}function sT(i,r){return Hh(4,4,i,r)}function rT(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function aT(i,r,o){o=o!=null?o.concat([i]):null,Hh(4,4,rT.bind(null,r,i),o)}function ap(){}function oT(i,r){var o=Nt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&$m(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function lT(i,r){var o=Nt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&$m(r,c[1]))return c[0];if(c=i(),Ua){Wn(!0);try{i()}finally{Wn(!1)}}return o.memoizedState=[c,r],c}function op(i,r,o){return o===void 0||(Ms&1073741824)!==0&&(Le&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=ub(),Me.lanes|=i,Sr|=i,o)}function uT(i,r,o,c){return Un(o,r)?o:Ho.current!==null?(i=op(i,o,c),Un(i,r)||(zt=!0),i):(Ms&42)===0||(Ms&1073741824)!==0&&(Le&261930)===0?(zt=!0,i.memoizedState=o):(i=ub(),Me.lanes|=i,Sr|=i,r)}function cT(i,r,o,c,m){var g=le.p;le.p=g!==0&&8>g?g:8;var b=Q.T,A={};Q.T=A,cp(i,!1,r,o);try{var k=m(),K=Q.S;if(K!==null&&K(A,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var J=bN(k,c);wu(i,r,J,Yn(i))}else wu(i,r,c,Yn(i))}catch(re){wu(i,r,{then:function(){},status:"rejected",reason:re},Yn())}finally{le.p=g,b!==null&&A.types!==null&&(b.types=A.types),Q.T=b}}function CN(){}function lp(i,r,o,c){if(i.tag!==5)throw Error(s(476));var m=hT(i).queue;cT(i,m,r,de,o===null?CN:function(){return fT(i),o(c)})}function hT(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:de},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function fT(i){var r=hT(i);r.next===null&&(r=i.alternate.memoizedState),wu(i,r.next.queue,{},Yn())}function up(){return rn(Uu)}function dT(){return Nt().memoizedState}function mT(){return Nt().memoizedState}function RN(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Yn();i=vr(o);var c=_r(r,i,o);c!==null&&(Dn(c,r,o),yu(c,r,o)),r={cache:jm()},i.payload=r;return}r=r.return}}function NN(i,r,o){var c=Yn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},qh(i)?gT(r,o):(o=Cm(i,r,o,c),o!==null&&(Dn(o,i,c),yT(o,r,c)))}function pT(i,r,o){var c=Yn();wu(i,r,o,c)}function wu(i,r,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(qh(i))gT(r,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var b=r.lastRenderedState,A=g(b,o);if(m.hasEagerState=!0,m.eagerState=A,Un(A,b))return Sh(i,r,m,0),st===null&&Eh(),!1}catch{}finally{}if(o=Cm(i,r,m,c),o!==null)return Dn(o,i,c),yT(o,r,c),!0}return!1}function cp(i,r,o,c){if(c={lane:2,revertLane:Fp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},qh(i)){if(r)throw Error(s(479))}else r=Cm(i,o,c,2),r!==null&&Dn(r,i,2)}function qh(i){var r=i.alternate;return i===Me||r!==null&&r===Me}function gT(i,r){qo=Lh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function yT(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,ql(i,o)}}var Eu={readContext:rn,use:zh,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};Eu.useEffectEvent=wt;var vT={readContext:rn,use:zh,useCallback:function(i,r){return Tn().memoizedState=[i,r===void 0?null:r],i},useContext:rn,useEffect:tT,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Fh(4194308,4,rT.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Fh(4194308,4,i,r)},useInsertionEffect:function(i,r){Fh(4,2,i,r)},useMemo:function(i,r){var o=Tn();r=r===void 0?null:r;var c=i();if(Ua){Wn(!0);try{i()}finally{Wn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=Tn();if(o!==void 0){var m=o(r);if(Ua){Wn(!0);try{o(r)}finally{Wn(!1)}}}else m=r;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=NN.bind(null,Me,i),[c.memoizedState,i]},useRef:function(i){var r=Tn();return i={current:i},r.memoizedState=i},useState:function(i){i=ip(i);var r=i.queue,o=pT.bind(null,Me,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:ap,useDeferredValue:function(i,r){var o=Tn();return op(o,i,r)},useTransition:function(){var i=ip(!1);return i=cT.bind(null,Me,i.queue,!0,!1),Tn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=Me,m=Tn();if(He){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),st===null)throw Error(s(349));(Le&127)!==0||U_(c,r,o)}m.memoizedState=o;var g={value:o,getSnapshot:r};return m.queue=g,tT(B_.bind(null,c,g,i),[i]),c.flags|=2048,Go(9,{destroy:void 0},z_.bind(null,c,g,o,r),null),o},useId:function(){var i=Tn(),r=st.identifierPrefix;if(He){var o=as,c=rs;o=(c&~(1<<32-xt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=jh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=wN++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:up,useFormState:W_,useActionState:W_,useOptimistic:function(i){var r=Tn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=cp.bind(null,Me,!0,o),o.dispatch=r,[i,r]},useMemoCache:ep,useCacheRefresh:function(){return Tn().memoizedState=RN.bind(null,Me)},useEffectEvent:function(i){var r=Tn(),o={impl:i};return r.memoizedState=o,function(){if((Xe&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},hp={readContext:rn,use:zh,useCallback:oT,useContext:rn,useEffect:rp,useImperativeHandle:aT,useInsertionEffect:iT,useLayoutEffect:sT,useMemo:lT,useReducer:Bh,useRef:eT,useState:function(){return Bh(Ps)},useDebugValue:ap,useDeferredValue:function(i,r){var o=Nt();return uT(o,tt.memoizedState,i,r)},useTransition:function(){var i=Bh(Ps)[0],r=Nt().memoizedState;return[typeof i=="boolean"?i:bu(i),r]},useSyncExternalStore:j_,useId:dT,useHostTransitionStatus:up,useFormState:Q_,useActionState:Q_,useOptimistic:function(i,r){var o=Nt();return q_(o,tt,i,r)},useMemoCache:ep,useCacheRefresh:mT};hp.useEffectEvent=nT;var _T={readContext:rn,use:zh,useCallback:oT,useContext:rn,useEffect:rp,useImperativeHandle:aT,useInsertionEffect:iT,useLayoutEffect:sT,useMemo:lT,useReducer:np,useRef:eT,useState:function(){return np(Ps)},useDebugValue:ap,useDeferredValue:function(i,r){var o=Nt();return tt===null?op(o,i,r):uT(o,tt.memoizedState,i,r)},useTransition:function(){var i=np(Ps)[0],r=Nt().memoizedState;return[typeof i=="boolean"?i:bu(i),r]},useSyncExternalStore:j_,useId:dT,useHostTransitionStatus:up,useFormState:J_,useActionState:J_,useOptimistic:function(i,r){var o=Nt();return tt!==null?q_(o,tt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:ep,useCacheRefresh:mT};_T.useEffectEvent=nT;function fp(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var dp={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=Yn(),m=vr(c);m.payload=r,o!=null&&(m.callback=o),r=_r(i,m,c),r!==null&&(Dn(r,i,c),yu(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=Yn(),m=vr(c);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=_r(i,m,c),r!==null&&(Dn(r,i,c),yu(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Yn(),c=vr(o);c.tag=2,r!=null&&(c.callback=r),r=_r(i,c,o),r!==null&&(Dn(r,i,o),yu(r,i,o))}};function TT(i,r,o,c,m,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,b):r.prototype&&r.prototype.isPureReactComponent?!uu(o,c)||!uu(m,g):!0}function bT(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&dp.enqueueReplaceState(r,r.state,null)}function za(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function wT(i){wh(i)}function ET(i){console.error(i)}function ST(i){wh(i)}function Yh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function AT(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function mp(i,r,o){return o=vr(o),o.tag=3,o.payload={element:null},o.callback=function(){Yh(i,r)},o}function xT(i){return i=vr(i),i.tag=3,i}function CT(i,r,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;i.payload=function(){return m(g)},i.callback=function(){AT(r,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){AT(r,o,c),typeof m!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function DN(i,r,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&jo(r,o,m,!0),o=Bn.current,o!==null){switch(o.tag){case 31:case 13:return ai===null?sf():o.alternate===null&&Et===0&&(Et=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Mh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),Up(i,c,m)),!1;case 22:return o.flags|=65536,c===Mh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),Up(i,c,m)),!1}throw Error(s(435,o.tag))}return Up(i,c,m),sf(),!1}if(He)return r=Bn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,c!==Pm&&(i=Error(s(422),{cause:c}),fu(ni(i,o)))):(c!==Pm&&(r=Error(s(423),{cause:c}),fu(ni(r,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=ni(c,o),m=mp(i.stateNode,c,m),qm(i,m),Et!==4&&(Et=2)),!1;var g=Error(s(520),{cause:c});if(g=ni(g,o),Iu===null?Iu=[g]:Iu.push(g),Et!==4&&(Et=2),r===null)return!0;c=ni(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=mp(o.stateNode,c,i),qm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ar===null||!Ar.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=xT(m),CT(m,i,o,c),qm(o,m),!1}o=o.return}while(o!==null);return!1}var pp=Error(s(461)),zt=!1;function an(i,r,o,c){r.child=i===null?I_(r,null,o,c):ja(r,i.child,o,c)}function RT(i,r,o,c,m){o=o.render;var g=r.ref;if("ref"in c){var b={};for(var A in c)A!=="ref"&&(b[A]=c[A])}else b=c;return Oa(r),c=Wm(i,r,o,b,g,m),A=Qm(),i!==null&&!zt?(Zm(i,r,m),Os(i,r,m)):(He&&A&&Im(r),r.flags|=1,an(i,r,c,m),r.child)}function NT(i,r,o,c,m){if(i===null){var g=o.type;return typeof g=="function"&&!Rm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,DT(i,r,g,c,m)):(i=xh(o.type,null,c,r,r.mode,m),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Ep(i,m)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:uu,o(b,c)&&i.ref===r.ref)return Os(i,r,m)}return r.flags|=1,i=Rs(g,c),i.ref=r.ref,i.return=r,r.child=i}function DT(i,r,o,c,m){if(i!==null){var g=i.memoizedProps;if(uu(g,c)&&i.ref===r.ref)if(zt=!1,r.pendingProps=c=g,Ep(i,m))(i.flags&131072)!==0&&(zt=!0);else return r.lanes=i.lanes,Os(i,r,m)}return gp(i,r,o,c,m)}function IT(i,r,o,c){var m=c.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=r.child=i.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,r.child=null;return MT(i,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Dh(r,g!==null?g.cachePool:null),g!==null?O_(r,g):Gm(),V_(r);else return c=r.lanes=536870912,MT(i,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Dh(r,g.cachePool),O_(r,g),br(),r.memoizedState=null):(i!==null&&Dh(r,null),Gm(),br());return an(i,r,m,o),r.child}function Su(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function MT(i,r,o,c,m){var g=zm();return g=g===null?null:{parent:jt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&Dh(r,null),Gm(),V_(r),i!==null&&jo(i,r,c,!0),r.childLanes=m,null}function Gh(i,r){return r=Xh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function PT(i,r,o){return ja(r,i.child,null,o),i=Gh(r,r.pendingProps),i.flags|=2,Fn(r),r.memoizedState=null,i}function IN(i,r,o){var c=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(He){if(c.mode==="hidden")return i=Gh(r,c),r.lanes=536870912,Su(null,i);if(Xm(r),(i=ot)?(i=Yb(i,ri),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:dr!==null?{id:rs,overflow:as}:null,retryLane:536870912,hydrationErrors:null},o=g_(i),o.return=r,r.child=o,sn=r,ot=null)):i=null,i===null)throw pr(r);return r.lanes=536870912,null}return Gh(r,c)}var g=i.memoizedState;if(g!==null){var b=g.dehydrated;if(Xm(r),m)if(r.flags&256)r.flags&=-257,r=PT(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(zt||jo(i,r,o,!1),m=(o&i.childLanes)!==0,zt||m){if(c=st,c!==null&&(b=Yl(c,o),b!==0&&b!==g.retryLane))throw g.retryLane=b,Da(i,b),Dn(c,i,b),pp;sf(),r=PT(i,r,o)}else i=g.treeContext,ot=oi(b.nextSibling),sn=r,He=!0,mr=null,ri=!1,i!==null&&__(r,i),r=Gh(r,c),r.flags|=4096;return r}return i=Rs(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Kh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function gp(i,r,o,c,m){return Oa(r),o=Wm(i,r,o,c,void 0,m),c=Qm(),i!==null&&!zt?(Zm(i,r,m),Os(i,r,m)):(He&&c&&Im(r),r.flags|=1,an(i,r,o,m),r.child)}function OT(i,r,o,c,m,g){return Oa(r),r.updateQueue=null,o=L_(r,c,o,m),k_(i),c=Qm(),i!==null&&!zt?(Zm(i,r,g),Os(i,r,g)):(He&&c&&Im(r),r.flags|=1,an(i,r,o,g),r.child)}function VT(i,r,o,c,m){if(Oa(r),r.stateNode===null){var g=Oo,b=o.contextType;typeof b=="object"&&b!==null&&(g=rn(b)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=dp,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},Fm(r),b=o.contextType,g.context=typeof b=="object"&&b!==null?rn(b):Oo,g.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(fp(r,o,b,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&dp.enqueueReplaceState(g,g.state,null),_u(r,c,g,m),vu(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){g=r.stateNode;var A=r.memoizedProps,k=za(o,A);g.props=k;var K=g.context,J=o.contextType;b=Oo,typeof J=="object"&&J!==null&&(b=rn(J));var re=o.getDerivedStateFromProps;J=typeof re=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||K!==b)&&bT(r,g,c,b),yr=!1;var X=r.memoizedState;g.state=X,_u(r,c,g,m),vu(),K=r.memoizedState,A||X!==K||yr?(typeof re=="function"&&(fp(r,o,re,c),K=r.memoizedState),(k=yr||TT(r,o,k,c,X,K,b))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=K),g.props=c,g.state=K,g.context=b,c=k):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,Hm(i,r),b=r.memoizedProps,J=za(o,b),g.props=J,re=r.pendingProps,X=g.context,K=o.contextType,k=Oo,typeof K=="object"&&K!==null&&(k=rn(K)),A=o.getDerivedStateFromProps,(K=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==re||X!==k)&&bT(r,g,c,k),yr=!1,X=r.memoizedState,g.state=X,_u(r,c,g,m),vu();var W=r.memoizedState;b!==re||X!==W||yr||i!==null&&i.dependencies!==null&&Rh(i.dependencies)?(typeof A=="function"&&(fp(r,o,A,c),W=r.memoizedState),(J=yr||TT(r,o,J,c,X,W,k)||i!==null&&i.dependencies!==null&&Rh(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,W,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,W,k)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=W),g.props=c,g.state=W,g.context=k,c=J):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(r.flags|=1024),c=!1)}return g=c,Kh(i,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&c?(r.child=ja(r,i.child,null,m),r.child=ja(r,null,o,m)):an(i,r,o,m),r.memoizedState=g.state,i=r.child):i=Os(i,r,m),i}function kT(i,r,o,c){return Ma(),r.flags|=256,an(i,r,o,c),r.child}var yp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vp(i){return{baseLanes:i,cachePool:A_()}}function _p(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=qn),i}function LT(i,r,o){var c=r.pendingProps,m=!1,g=(r.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(Rt.current&2)!==0),b&&(m=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(He){if(m?Tr(r):br(),(i=ot)?(i=Yb(i,ri),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:dr!==null?{id:rs,overflow:as}:null,retryLane:536870912,hydrationErrors:null},o=g_(i),o.return=r,r.child=o,sn=r,ot=null)):i=null,i===null)throw pr(r);return tg(i)?r.lanes=32:r.lanes=536870912,null}var A=c.children;return c=c.fallback,m?(br(),m=r.mode,A=Xh({mode:"hidden",children:A},m),c=Ia(c,m,o,null),A.return=r,c.return=r,A.sibling=c,r.child=A,c=r.child,c.memoizedState=vp(o),c.childLanes=_p(i,b,o),r.memoizedState=yp,Su(null,c)):(Tr(r),Tp(r,A))}var k=i.memoizedState;if(k!==null&&(A=k.dehydrated,A!==null)){if(g)r.flags&256?(Tr(r),r.flags&=-257,r=bp(i,r,o)):r.memoizedState!==null?(br(),r.child=i.child,r.flags|=128,r=null):(br(),A=c.fallback,m=r.mode,c=Xh({mode:"visible",children:c.children},m),A=Ia(A,m,o,null),A.flags|=2,c.return=r,A.return=r,c.sibling=A,r.child=c,ja(r,i.child,null,o),c=r.child,c.memoizedState=vp(o),c.childLanes=_p(i,b,o),r.memoizedState=yp,r=Su(null,c));else if(Tr(r),tg(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var K=b.dgst;b=K,c=Error(s(419)),c.stack="",c.digest=b,fu({value:c,source:null,stack:null}),r=bp(i,r,o)}else if(zt||jo(i,r,o,!1),b=(o&i.childLanes)!==0,zt||b){if(b=st,b!==null&&(c=Yl(b,o),c!==0&&c!==k.retryLane))throw k.retryLane=c,Da(i,c),Dn(b,i,c),pp;eg(A)||sf(),r=bp(i,r,o)}else eg(A)?(r.flags|=192,r.child=i.child,r=null):(i=k.treeContext,ot=oi(A.nextSibling),sn=r,He=!0,mr=null,ri=!1,i!==null&&__(r,i),r=Tp(r,c.children),r.flags|=4096);return r}return m?(br(),A=c.fallback,m=r.mode,k=i.child,K=k.sibling,c=Rs(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,K!==null?A=Rs(K,A):(A=Ia(A,m,o,null),A.flags|=2),A.return=r,c.return=r,c.sibling=A,r.child=c,Su(null,c),c=r.child,A=i.child.memoizedState,A===null?A=vp(o):(m=A.cachePool,m!==null?(k=jt._currentValue,m=m.parent!==k?{parent:k,pool:k}:m):m=A_(),A={baseLanes:A.baseLanes|o,cachePool:m}),c.memoizedState=A,c.childLanes=_p(i,b,o),r.memoizedState=yp,Su(i.child,c)):(Tr(r),o=i.child,i=o.sibling,o=Rs(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function Tp(i,r){return r=Xh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Xh(i,r){return i=zn(22,i,null,r),i.lanes=0,i}function bp(i,r,o){return ja(r,i.child,null,o),i=Tp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function jT(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),km(i.return,r,o)}function wp(i,r,o,c,m,g){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=o,b.tailMode=m,b.treeForkCount=g)}function UT(i,r,o){var c=r.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var b=Rt.current,A=(b&2)!==0;if(A?(b=b&1|2,r.flags|=128):b&=1,ce(Rt,b),an(i,r,c,o),c=He?hu:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&jT(i,o,r);else if(i.tag===19)jT(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)i=o.alternate,i!==null&&kh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),wp(r,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(i=m.alternate,i!==null&&kh(i)===null){r.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}wp(r,!0,o,null,g,c);break;case"together":wp(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Os(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Sr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(jo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Rs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Rs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Ep(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Rh(i)))}function MN(i,r,o){switch(r.tag){case 3:_e(r,r.stateNode.containerInfo),gr(r,jt,i.memoizedState.cache),Ma();break;case 27:case 5:pt(r);break;case 4:_e(r,r.stateNode.containerInfo);break;case 10:gr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Xm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(Tr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?LT(i,r,o):(Tr(r),i=Os(i,r,o),i!==null?i.sibling:null);Tr(r);break;case 19:var m=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(jo(i,r,o,!1),c=(o&r.childLanes)!==0),m){if(c)return UT(i,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ce(Rt,Rt.current),c)break;return null;case 22:return r.lanes=0,IT(i,r,o,r.pendingProps);case 24:gr(r,jt,i.memoizedState.cache)}return Os(i,r,o)}function zT(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)zt=!0;else{if(!Ep(i,o)&&(r.flags&128)===0)return zt=!1,MN(i,r,o);zt=(i.flags&131072)!==0}else zt=!1,He&&(r.flags&1048576)!==0&&v_(r,hu,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=ka(r.elementType),r.type=i,typeof i=="function")Rm(i)?(c=za(i,c),r.tag=1,r=VT(null,r,i,c,o)):(r.tag=0,r=gp(null,r,i,c,o));else{if(i!=null){var m=i.$$typeof;if(m===ee){r.tag=11,r=RT(null,r,i,c,o);break e}else if(m===R){r.tag=14,r=NT(null,r,i,c,o);break e}}throw r=Fe(i)||i,Error(s(306,r,""))}}return r;case 0:return gp(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,m=za(c,r.pendingProps),VT(i,r,c,m,o);case 3:e:{if(_e(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var g=r.memoizedState;m=g.element,Hm(i,r),_u(r,c,null,o);var b=r.memoizedState;if(c=b.cache,gr(r,jt,c),c!==g.cache&&Lm(r,[jt],o,!0),vu(),c=b.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=kT(i,r,c,o);break e}else if(c!==m){m=ni(Error(s(424)),r),fu(m),r=kT(i,r,c,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ot=oi(i.firstChild),sn=r,He=!0,mr=null,ri=!0,o=I_(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ma(),c===m){r=Os(i,r,o);break e}an(i,r,c,o)}r=r.child}return r;case 26:return Kh(i,r),i===null?(o=Qb(r.type,null,r.pendingProps,null))?r.memoizedState=o:He||(o=r.type,i=r.pendingProps,c=hf(Ce.current).createElement(o),c[Vt]=r,c[Wt]=i,on(c,o,i),kt(c),r.stateNode=c):r.memoizedState=Qb(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return pt(r),i===null&&He&&(c=r.stateNode=Xb(r.type,r.pendingProps,Ce.current),sn=r,ri=!0,m=ot,Nr(r.type)?(ng=m,ot=oi(c.firstChild)):ot=m),an(i,r,r.pendingProps.children,o),Kh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&He&&((m=c=ot)&&(c=lD(c,r.type,r.pendingProps,ri),c!==null?(r.stateNode=c,sn=r,ot=oi(c.firstChild),ri=!1,m=!0):m=!1),m||pr(r)),pt(r),m=r.type,g=r.pendingProps,b=i!==null?i.memoizedProps:null,c=g.children,Qp(m,g)?c=null:b!==null&&Qp(m,b)&&(r.flags|=32),r.memoizedState!==null&&(m=Wm(i,r,EN,null,null,o),Uu._currentValue=m),Kh(i,r),an(i,r,c,o),r.child;case 6:return i===null&&He&&((i=o=ot)&&(o=uD(o,r.pendingProps,ri),o!==null?(r.stateNode=o,sn=r,ot=null,i=!0):i=!1),i||pr(r)),null;case 13:return LT(i,r,o);case 4:return _e(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=ja(r,null,c,o):an(i,r,c,o),r.child;case 11:return RT(i,r,r.type,r.pendingProps,o);case 7:return an(i,r,r.pendingProps,o),r.child;case 8:return an(i,r,r.pendingProps.children,o),r.child;case 12:return an(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,gr(r,r.type,c.value),an(i,r,c.children,o),r.child;case 9:return m=r.type._context,c=r.pendingProps.children,Oa(r),m=rn(m),c=c(m),r.flags|=1,an(i,r,c,o),r.child;case 14:return NT(i,r,r.type,r.pendingProps,o);case 15:return DT(i,r,r.type,r.pendingProps,o);case 19:return UT(i,r,o);case 31:return IN(i,r,o);case 22:return IT(i,r,o,r.pendingProps);case 24:return Oa(r),c=rn(jt),i===null?(m=zm(),m===null&&(m=st,g=jm(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),r.memoizedState={parent:c,cache:m},Fm(r),gr(r,jt,m)):((i.lanes&o)!==0&&(Hm(i,r),_u(r,null,null,o),vu()),m=i.memoizedState,g=r.memoizedState,m.parent!==c?(m={parent:c,cache:c},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),gr(r,jt,c)):(c=g.cache,gr(r,jt,c),c!==m.cache&&Lm(r,[jt],o,!0))),an(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Vs(i){i.flags|=4}function Sp(i,r,o,c,m){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(db())i.flags|=8192;else throw La=Mh,Bm}else i.flags&=-16777217}function BT(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!nw(r))if(db())i.flags|=8192;else throw La=Mh,Bm}function $h(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?th():536870912,i.lanes|=r,Wo|=r)}function Au(i,r){if(!He)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function lt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function PN(i,r,o){var c=r.pendingProps;switch(Mm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Is(jt),we(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Lo(r)?Vs(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Om())),lt(r),null;case 26:var m=r.type,g=r.memoizedState;return i===null?(Vs(r),g!==null?(lt(r),BT(r,g)):(lt(r),Sp(r,m,null,c,o))):g?g!==i.memoizedState?(Vs(r),lt(r),BT(r,g)):(lt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&Vs(r),lt(r),Sp(r,m,i,c,o)),null;case 27:if(En(r),o=Ce.current,m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Vs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return lt(r),null}i=he.current,Lo(r)?T_(r):(i=Xb(m,c,o),r.stateNode=i,Vs(r))}return lt(r),null;case 5:if(En(r),m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Vs(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return lt(r),null}if(g=he.current,Lo(r))T_(r);else{var b=hf(Ce.current);switch(g){case 1:g=b.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=b.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=b.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?b.createElement(m,{is:c.is}):b.createElement(m)}}g[Vt]=r,g[Wt]=c;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)g.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=g;e:switch(on(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Vs(r)}}return lt(r),Sp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&Vs(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ce.current,Lo(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,m=sn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[Vt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Lb(i.nodeValue,o)),i||pr(r,!0)}else i=hf(i).createTextNode(c),i[Vt]=r,r.stateNode=i}return lt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=Lo(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Vt]=r}else Ma(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),i=!1}else o=Om(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Fn(r),r):(Fn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return lt(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Lo(r),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[Vt]=r}else Ma(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),m=!1}else m=Om(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(Fn(r),r):(Fn(r),null)}return Fn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),$h(r,r.updateQueue),lt(r),null);case 4:return we(),i===null&&Gp(r.stateNode.containerInfo),lt(r),null;case 10:return Is(r.type),lt(r),null;case 19:if(ie(Rt),c=r.memoizedState,c===null)return lt(r),null;if(m=(r.flags&128)!==0,g=c.rendering,g===null)if(m)Au(c,!1);else{if(Et!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=kh(i),g!==null){for(r.flags|=128,Au(c,!1),i=g.updateQueue,r.updateQueue=i,$h(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)p_(o,i),o=o.sibling;return ce(Rt,Rt.current&1|2),He&&Ns(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&bt()>ef&&(r.flags|=128,m=!0,Au(c,!1),r.lanes=4194304)}else{if(!m)if(i=kh(g),i!==null){if(r.flags|=128,m=!0,i=i.updateQueue,r.updateQueue=i,$h(r,i),Au(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!He)return lt(r),null}else 2*bt()-c.renderingStartTime>ef&&o!==536870912&&(r.flags|=128,m=!0,Au(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(i=c.last,i!==null?i.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=bt(),i.sibling=null,o=Rt.current,ce(Rt,m?o&1|2:o&1),He&&Ns(r,c.treeForkCount),i):(lt(r),null);case 22:case 23:return Fn(r),Km(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),o=r.updateQueue,o!==null&&$h(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&ie(Va),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Is(jt),lt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function ON(i,r){switch(Mm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Is(jt),we(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return En(r),null;case 31:if(r.memoizedState!==null){if(Fn(r),r.alternate===null)throw Error(s(340));Ma()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Fn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ma()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ie(Rt),null;case 4:return we(),null;case 10:return Is(r.type),null;case 22:case 23:return Fn(r),Km(),i!==null&&ie(Va),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Is(jt),null;case 25:return null;default:return null}}function FT(i,r){switch(Mm(r),r.tag){case 3:Is(jt),we();break;case 26:case 27:case 5:En(r);break;case 4:we();break;case 31:r.memoizedState!==null&&Fn(r);break;case 13:Fn(r);break;case 19:ie(Rt);break;case 10:Is(r.type);break;case 22:case 23:Fn(r),Km(),i!==null&&ie(Va);break;case 24:Is(jt)}}function xu(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var g=o.create,b=o.inst;c=g(),b.destroy=c}o=o.next}while(o!==m)}}catch(A){Je(r,r.return,A)}}function wr(i,r,o){try{var c=r.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&i)===i){var b=c.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,m=r;var k=o,K=A;try{K()}catch(J){Je(m,k,J)}}}c=c.next}while(c!==g)}}catch(J){Je(r,r.return,J)}}function HT(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{P_(r,o)}catch(c){Je(i,i.return,c)}}}function qT(i,r,o){o.props=za(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){Je(i,r,c)}}function Cu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(m){Je(i,r,m)}}function os(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Je(i,r,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Je(i,r,m)}else o.current=null}function YT(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Je(i,i.return,m)}}function Ap(i,r,o){try{var c=i.stateNode;nD(c,i.type,o,r),c[Wt]=r}catch(m){Je(i,i.return,m)}}function GT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Nr(i.type)||i.tag===4}function xp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||GT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Nr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Cp(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ci));else if(c!==4&&(c===27&&Nr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Cp(i,r,o),i=i.sibling;i!==null;)Cp(i,r,o),i=i.sibling}function Wh(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&Nr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Wh(i,r,o),i=i.sibling;i!==null;)Wh(i,r,o),i=i.sibling}function KT(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);on(r,c,o),r[Vt]=i,r[Wt]=o}catch(g){Je(i,i.return,g)}}var ks=!1,Bt=!1,Rp=!1,XT=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function VN(i,r){if(i=i.containerInfo,$p=vf,i=a_(i),bm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,A=-1,k=-1,K=0,J=0,re=i,X=null;t:for(;;){for(var W;re!==o||m!==0&&re.nodeType!==3||(A=b+m),re!==g||c!==0&&re.nodeType!==3||(k=b+c),re.nodeType===3&&(b+=re.nodeValue.length),(W=re.firstChild)!==null;)X=re,re=W;for(;;){if(re===i)break t;if(X===o&&++K===m&&(A=b),X===g&&++J===c&&(k=b),(W=re.nextSibling)!==null)break;re=X,X=re.parentNode}re=W}o=A===-1||k===-1?null:{start:A,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(Wp={focusedElem:i,selectionRange:o},vf=!1,Zt=r;Zt!==null;)if(r=Zt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Zt=i;else for(;Zt!==null;){switch(r=Zt,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var pe=za(o.type,m);i=c.getSnapshotBeforeUpdate(pe,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(be){Je(o,o.return,be)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Jp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Jp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Zt=i;break}Zt=r.return}}function $T(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:js(i,o),c&4&&xu(5,o);break;case 1:if(js(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){Je(o,o.return,b)}else{var m=za(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(m,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){Je(o,o.return,b)}}c&64&&HT(o),c&512&&Cu(o,o.return);break;case 3:if(js(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{P_(i,r)}catch(b){Je(o,o.return,b)}}break;case 27:r===null&&c&4&&KT(o);case 26:case 5:js(i,o),r===null&&c&4&&YT(o),c&512&&Cu(o,o.return);break;case 12:js(i,o);break;case 31:js(i,o),c&4&&ZT(i,o);break;case 13:js(i,o),c&4&&JT(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=qN.bind(null,o),cD(i,o))));break;case 22:if(c=o.memoizedState!==null||ks,!c){r=r!==null&&r.memoizedState!==null||Bt,m=ks;var g=Bt;ks=c,(Bt=r)&&!g?Us(i,o,(o.subtreeFlags&8772)!==0):js(i,o),ks=m,Bt=g}break;case 30:break;default:js(i,o)}}function WT(i){var r=i.alternate;r!==null&&(i.alternate=null,WT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&To(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ht=null,xn=!1;function Ls(i,r,o){for(o=o.child;o!==null;)QT(i,r,o),o=o.sibling}function QT(i,r,o){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Ei,o)}catch{}switch(o.tag){case 26:Bt||os(o,r),Ls(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Bt||os(o,r);var c=ht,m=xn;Nr(o.type)&&(ht=o.stateNode,xn=!1),Ls(i,r,o),ku(o.stateNode),ht=c,xn=m;break;case 5:Bt||os(o,r);case 6:if(c=ht,m=xn,ht=null,Ls(i,r,o),ht=c,xn=m,ht!==null)if(xn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(o.stateNode)}catch(g){Je(o,r,g)}else try{ht.removeChild(o.stateNode)}catch(g){Je(o,r,g)}break;case 18:ht!==null&&(xn?(i=ht,Hb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),sl(i)):Hb(ht,o.stateNode));break;case 4:c=ht,m=xn,ht=o.stateNode.containerInfo,xn=!0,Ls(i,r,o),ht=c,xn=m;break;case 0:case 11:case 14:case 15:wr(2,o,r),Bt||wr(4,o,r),Ls(i,r,o);break;case 1:Bt||(os(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&qT(o,r,c)),Ls(i,r,o);break;case 21:Ls(i,r,o);break;case 22:Bt=(c=Bt)||o.memoizedState!==null,Ls(i,r,o),Bt=c;break;default:Ls(i,r,o)}}function ZT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{sl(i)}catch(o){Je(r,r.return,o)}}}function JT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{sl(i)}catch(o){Je(r,r.return,o)}}function kN(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new XT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new XT),r;default:throw Error(s(435,i.tag))}}function Qh(i,r){var o=kN(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var m=YN.bind(null,i,c);c.then(m,m)}})}function Cn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=i,b=r,A=b;e:for(;A!==null;){switch(A.tag){case 27:if(Nr(A.type)){ht=A.stateNode,xn=!1;break e}break;case 5:ht=A.stateNode,xn=!1;break e;case 3:case 4:ht=A.stateNode.containerInfo,xn=!0;break e}A=A.return}if(ht===null)throw Error(s(160));QT(g,b,m),ht=null,xn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)eb(r,i),r=r.sibling}var Pi=null;function eb(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Cn(r,i),Rn(i),c&4&&(wr(3,i,i.return),xu(3,i),wr(5,i,i.return));break;case 1:Cn(r,i),Rn(i),c&512&&(Bt||o===null||os(o,o.return)),c&64&&ks&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Pi;if(Cn(r,i),Rn(i),c&512&&(Bt||o===null||os(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Ki]||g[Vt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),on(g,c,o),g[Vt]=i,kt(g),c=g;break e;case"link":var b=ew("link","href",m).get(c+(o.href||""));if(b){for(var A=0;A<b.length;A++)if(g=b[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(A,1);break t}}g=m.createElement(c),on(g,c,o),m.head.appendChild(g);break;case"meta":if(b=ew("meta","content",m).get(c+(o.content||""))){for(A=0;A<b.length;A++)if(g=b[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(A,1);break t}}g=m.createElement(c),on(g,c,o),m.head.appendChild(g);break;default:throw Error(s(468,c))}g[Vt]=i,kt(g),c=g}i.stateNode=c}else tw(m,i.type,i.stateNode);else i.stateNode=Jb(m,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?tw(m,i.type,i.stateNode):Jb(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Ap(i,i.memoizedProps,o.memoizedProps)}break;case 27:Cn(r,i),Rn(i),c&512&&(Bt||o===null||os(o,o.return)),o!==null&&c&4&&Ap(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Cn(r,i),Rn(i),c&512&&(Bt||o===null||os(o,o.return)),i.flags&32){m=i.stateNode;try{An(m,"")}catch(pe){Je(i,i.return,pe)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,Ap(i,m,o!==null?o.memoizedProps:m)),c&1024&&(Rp=!0);break;case 6:if(Cn(r,i),Rn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(pe){Je(i,i.return,pe)}}break;case 3:if(mf=null,m=Pi,Pi=ff(r.containerInfo),Cn(r,i),Pi=m,Rn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{sl(r.containerInfo)}catch(pe){Je(i,i.return,pe)}Rp&&(Rp=!1,tb(i));break;case 4:c=Pi,Pi=ff(i.stateNode.containerInfo),Cn(r,i),Rn(i),Pi=c;break;case 12:Cn(r,i),Rn(i);break;case 31:Cn(r,i),Rn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Qh(i,c)));break;case 13:Cn(r,i),Rn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Jh=bt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Qh(i,c)));break;case 22:m=i.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,K=ks,J=Bt;if(ks=K||m,Bt=J||k,Cn(r,i),Bt=J,ks=K,Rn(i),c&8192)e:for(r=i.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||k||ks||Bt||Ba(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){k=o=r;try{if(g=k.stateNode,m)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=k.stateNode;var re=k.memoizedProps.style,X=re!=null&&re.hasOwnProperty("display")?re.display:null;A.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(pe){Je(k,k.return,pe)}}}else if(r.tag===6){if(o===null){k=r;try{k.stateNode.nodeValue=m?"":k.memoizedProps}catch(pe){Je(k,k.return,pe)}}}else if(r.tag===18){if(o===null){k=r;try{var W=k.stateNode;m?qb(W,!0):qb(k.stateNode,!1)}catch(pe){Je(k,k.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Qh(i,o))));break;case 19:Cn(r,i),Rn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Qh(i,c)));break;case 30:break;case 21:break;default:Cn(r,i),Rn(i)}}function Rn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(GT(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,g=xp(i);Wh(i,g,m);break;case 5:var b=o.stateNode;o.flags&32&&(An(b,""),o.flags&=-33);var A=xp(i);Wh(i,A,b);break;case 3:case 4:var k=o.stateNode.containerInfo,K=xp(i);Cp(i,K,k);break;default:throw Error(s(161))}}catch(J){Je(i,i.return,J)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function tb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;tb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function js(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)$T(i,r.alternate,r),r=r.sibling}function Ba(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:wr(4,r,r.return),Ba(r);break;case 1:os(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&qT(r,r.return,o),Ba(r);break;case 27:ku(r.stateNode);case 26:case 5:os(r,r.return),Ba(r);break;case 22:r.memoizedState===null&&Ba(r);break;case 30:Ba(r);break;default:Ba(r)}i=i.sibling}}function Us(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,m=i,g=r,b=g.flags;switch(g.tag){case 0:case 11:case 15:Us(m,g,o),xu(4,g);break;case 1:if(Us(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(K){Je(c,c.return,K)}if(c=g,m=c.updateQueue,m!==null){var A=c.stateNode;try{var k=m.shared.hiddenCallbacks;if(k!==null)for(m.shared.hiddenCallbacks=null,m=0;m<k.length;m++)M_(k[m],A)}catch(K){Je(c,c.return,K)}}o&&b&64&&HT(g),Cu(g,g.return);break;case 27:KT(g);case 26:case 5:Us(m,g,o),o&&c===null&&b&4&&YT(g),Cu(g,g.return);break;case 12:Us(m,g,o);break;case 31:Us(m,g,o),o&&b&4&&ZT(m,g);break;case 13:Us(m,g,o),o&&b&4&&JT(m,g);break;case 22:g.memoizedState===null&&Us(m,g,o),Cu(g,g.return);break;case 30:break;default:Us(m,g,o)}r=r.sibling}}function Np(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&du(o))}function Dp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&du(i))}function Oi(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)nb(i,r,o,c),r=r.sibling}function nb(i,r,o,c){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Oi(i,r,o,c),m&2048&&xu(9,r);break;case 1:Oi(i,r,o,c);break;case 3:Oi(i,r,o,c),m&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&du(i)));break;case 12:if(m&2048){Oi(i,r,o,c),i=r.stateNode;try{var g=r.memoizedProps,b=g.id,A=g.onPostCommit;typeof A=="function"&&A(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(k){Je(r,r.return,k)}}else Oi(i,r,o,c);break;case 31:Oi(i,r,o,c);break;case 13:Oi(i,r,o,c);break;case 23:break;case 22:g=r.stateNode,b=r.alternate,r.memoizedState!==null?g._visibility&2?Oi(i,r,o,c):Ru(i,r):g._visibility&2?Oi(i,r,o,c):(g._visibility|=2,Ko(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),m&2048&&Np(b,r);break;case 24:Oi(i,r,o,c),m&2048&&Dp(r.alternate,r);break;default:Oi(i,r,o,c)}}function Ko(i,r,o,c,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,b=r,A=o,k=c,K=b.flags;switch(b.tag){case 0:case 11:case 15:Ko(g,b,A,k,m),xu(8,b);break;case 23:break;case 22:var J=b.stateNode;b.memoizedState!==null?J._visibility&2?Ko(g,b,A,k,m):Ru(g,b):(J._visibility|=2,Ko(g,b,A,k,m)),m&&K&2048&&Np(b.alternate,b);break;case 24:Ko(g,b,A,k,m),m&&K&2048&&Dp(b.alternate,b);break;default:Ko(g,b,A,k,m)}r=r.sibling}}function Ru(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,m=c.flags;switch(c.tag){case 22:Ru(o,c),m&2048&&Np(c.alternate,c);break;case 24:Ru(o,c),m&2048&&Dp(c.alternate,c);break;default:Ru(o,c)}r=r.sibling}}var Nu=8192;function Xo(i,r,o){if(i.subtreeFlags&Nu)for(i=i.child;i!==null;)ib(i,r,o),i=i.sibling}function ib(i,r,o){switch(i.tag){case 26:Xo(i,r,o),i.flags&Nu&&i.memoizedState!==null&&wD(o,Pi,i.memoizedState,i.memoizedProps);break;case 5:Xo(i,r,o);break;case 3:case 4:var c=Pi;Pi=ff(i.stateNode.containerInfo),Xo(i,r,o),Pi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Nu,Nu=16777216,Xo(i,r,o),Nu=c):Xo(i,r,o));break;default:Xo(i,r,o)}}function sb(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Du(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Zt=c,ab(c,i)}sb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)rb(i),i=i.sibling}function rb(i){switch(i.tag){case 0:case 11:case 15:Du(i),i.flags&2048&&wr(9,i,i.return);break;case 3:Du(i);break;case 12:Du(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Zh(i)):Du(i);break;default:Du(i)}}function Zh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Zt=c,ab(c,i)}sb(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:wr(8,r,r.return),Zh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Zh(r));break;default:Zh(r)}i=i.sibling}}function ab(i,r){for(;Zt!==null;){var o=Zt;switch(o.tag){case 0:case 11:case 15:wr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:du(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Zt=c;else e:for(o=i;Zt!==null;){c=Zt;var m=c.sibling,g=c.return;if(WT(c),c===o){Zt=null;break e}if(m!==null){m.return=g,Zt=m;break e}Zt=g}}}var LN={getCacheForType:function(i){var r=rn(jt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return rn(jt).controller.signal}},jN=typeof WeakMap=="function"?WeakMap:Map,Xe=0,st=null,Ve=null,Le=0,Ze=0,Hn=null,Er=!1,$o=!1,Ip=!1,zs=0,Et=0,Sr=0,Fa=0,Mp=0,qn=0,Wo=0,Iu=null,Nn=null,Pp=!1,Jh=0,ob=0,ef=1/0,tf=null,Ar=null,Gt=0,xr=null,Qo=null,Bs=0,Op=0,Vp=null,lb=null,Mu=0,kp=null;function Yn(){return(Xe&2)!==0&&Le!==0?Le&-Le:Q.T!==null?Fp():nh()}function ub(){if(qn===0)if((Le&536870912)===0||He){var i=pa;pa<<=1,(pa&3932160)===0&&(pa=262144),qn=i}else qn=536870912;return i=Bn.current,i!==null&&(i.flags|=32),qn}function Dn(i,r,o){(i===st&&(Ze===2||Ze===9)||i.cancelPendingCommit!==null)&&(Zo(i,0),Cr(i,Le,qn,!1)),ga(i,o),((Xe&2)===0||i!==st)&&(i===st&&((Xe&2)===0&&(Fa|=o),Et===4&&Cr(i,Le,qn,!1)),ls(i))}function cb(i,r,o){if((Xe&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||Si(i,r),m=c?BN(i,r):jp(i,r,!0),g=c;do{if(m===0){$o&&!c&&Cr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!UN(o)){m=jp(i,r,!1),g=!1;continue}if(m===2){if(g=r,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var A=i;m=Iu;var k=A.current.memoizedState.isDehydrated;if(k&&(Zo(A,b).flags|=256),b=jp(A,b,!1),b!==2){if(Ip&&!k){A.errorRecoveryDisabledLanes|=g,Fa|=g,m=4;break e}g=Nn,Nn=m,g!==null&&(Nn===null?Nn=g:Nn.push.apply(Nn,g))}m=b}if(g=!1,m!==2)continue}}if(m===1){Zo(i,0),Cr(i,r,0,!0);break}e:{switch(c=i,g=m,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Cr(c,r,qn,!Er);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(m=Jh+300-bt(),10<m)){if(Cr(c,r,qn,!Er),qi(c,0,!0)!==0)break e;Bs=r,c.timeoutHandle=Bb(hb.bind(null,c,o,Nn,tf,Pp,r,qn,Fa,Wo,Er,g,"Throttled",-0,0),m);break e}hb(c,o,Nn,tf,Pp,r,qn,Fa,Wo,Er,g,null,-0,0)}}break}while(!0);ls(i)}function hb(i,r,o,c,m,g,b,A,k,K,J,re,X,W){if(i.timeoutHandle=-1,re=r.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ci},ib(r,g,re);var pe=(g&62914560)===g?Jh-bt():(g&4194048)===g?ob-bt():0;if(pe=ED(re,pe),pe!==null){Bs=g,i.cancelPendingCommit=pe(_b.bind(null,i,r,g,o,c,m,b,A,k,J,re,null,X,W)),Cr(i,g,b,!K);return}}_b(i,r,g,o,c,m,b,A,k)}function UN(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!Un(g(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Cr(i,r,o,c){r&=~Mp,r&=~Fa,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var m=r;0<m;){var g=31-xt(m),b=1<<g;c[g]=-1,m&=~b}o!==0&&ya(i,o,r)}function nf(){return(Xe&6)===0?(Pu(0),!1):!0}function Lp(){if(Ve!==null){if(Ze===0)var i=Ve.return;else i=Ve,Ds=Pa=null,Jm(i),Fo=null,pu=0,i=Ve;for(;i!==null;)FT(i.alternate,i),i=i.return;Ve=null}}function Zo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,rD(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Bs=0,Lp(),st=i,Ve=o=Rs(i.current,null),Le=r,Ze=0,Hn=null,Er=!1,$o=Si(i,r),Ip=!1,Wo=qn=Mp=Fa=Sr=Et=0,Nn=Iu=null,Pp=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var m=31-xt(c),g=1<<m;r|=i[m],c&=~g}return zs=r,Eh(),o}function fb(i,r){Me=null,Q.H=Eu,r===Bo||r===Ih?(r=R_(),Ze=3):r===Bm?(r=R_(),Ze=4):Ze=r===pp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Hn=r,Ve===null&&(Et=1,Yh(i,ni(r,i.current)))}function db(){var i=Bn.current;return i===null?!0:(Le&4194048)===Le?ai===null:(Le&62914560)===Le||(Le&536870912)!==0?i===ai:!1}function mb(){var i=Q.H;return Q.H=Eu,i===null?Eu:i}function pb(){var i=Q.A;return Q.A=LN,i}function sf(){Et=4,Er||(Le&4194048)!==Le&&Bn.current!==null||($o=!0),(Sr&134217727)===0&&(Fa&134217727)===0||st===null||Cr(st,Le,qn,!1)}function jp(i,r,o){var c=Xe;Xe|=2;var m=mb(),g=pb();(st!==i||Le!==r)&&(tf=null,Zo(i,r)),r=!1;var b=Et;e:do try{if(Ze!==0&&Ve!==null){var A=Ve,k=Hn;switch(Ze){case 8:Lp(),b=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(r=!0);var K=Ze;if(Ze=0,Hn=null,Jo(i,A,k,K),o&&$o){b=0;break e}break;default:K=Ze,Ze=0,Hn=null,Jo(i,A,k,K)}}zN(),b=Et;break}catch(J){fb(i,J)}while(!0);return r&&i.shellSuspendCounter++,Ds=Pa=null,Xe=c,Q.H=m,Q.A=g,Ve===null&&(st=null,Le=0,Eh()),b}function zN(){for(;Ve!==null;)gb(Ve)}function BN(i,r){var o=Xe;Xe|=2;var c=mb(),m=pb();st!==i||Le!==r?(tf=null,ef=bt()+500,Zo(i,r)):$o=Si(i,r);e:do try{if(Ze!==0&&Ve!==null){r=Ve;var g=Hn;t:switch(Ze){case 1:Ze=0,Hn=null,Jo(i,r,g,1);break;case 2:case 9:if(x_(g)){Ze=0,Hn=null,yb(r);break}r=function(){Ze!==2&&Ze!==9||st!==i||(Ze=7),ls(i)},g.then(r,r);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:x_(g)?(Ze=0,Hn=null,yb(r)):(Ze=0,Hn=null,Jo(i,r,g,7));break;case 5:var b=null;switch(Ve.tag){case 26:b=Ve.memoizedState;case 5:case 27:var A=Ve;if(b?nw(b):A.stateNode.complete){Ze=0,Hn=null;var k=A.sibling;if(k!==null)Ve=k;else{var K=A.return;K!==null?(Ve=K,rf(K)):Ve=null}break t}}Ze=0,Hn=null,Jo(i,r,g,5);break;case 6:Ze=0,Hn=null,Jo(i,r,g,6);break;case 8:Lp(),Et=6;break e;default:throw Error(s(462))}}FN();break}catch(J){fb(i,J)}while(!0);return Ds=Pa=null,Q.H=c,Q.A=m,Xe=o,Ve!==null?0:(st=null,Le=0,Eh(),Et)}function FN(){for(;Ve!==null&&!go();)gb(Ve)}function gb(i){var r=zT(i.alternate,i,zs);i.memoizedProps=i.pendingProps,r===null?rf(i):Ve=r}function yb(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=OT(o,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=OT(o,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:Jm(r);default:FT(o,r),r=Ve=p_(r,zs),r=zT(o,r,zs)}i.memoizedProps=i.pendingProps,r===null?rf(i):Ve=r}function Jo(i,r,o,c){Ds=Pa=null,Jm(r),Fo=null,pu=0;var m=r.return;try{if(DN(i,m,r,o,Le)){Et=1,Yh(i,ni(o,i.current)),Ve=null;return}}catch(g){if(m!==null)throw Ve=m,g;Et=1,Yh(i,ni(o,i.current)),Ve=null;return}r.flags&32768?(He||c===1?i=!0:$o||(Le&536870912)!==0?i=!1:(Er=i=!0,(c===2||c===9||c===3||c===6)&&(c=Bn.current,c!==null&&c.tag===13&&(c.flags|=16384))),vb(r,i)):rf(r)}function rf(i){var r=i;do{if((r.flags&32768)!==0){vb(r,Er);return}i=r.return;var o=PN(r.alternate,r,zs);if(o!==null){Ve=o;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=i}while(r!==null);Et===0&&(Et=5)}function vb(i,r){do{var o=ON(i.alternate,i);if(o!==null){o.flags&=32767,Ve=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ve=i;return}Ve=i=o}while(i!==null);Et=6,Ve=null}function _b(i,r,o,c,m,g,b,A,k){i.cancelPendingCommit=null;do af();while(Gt!==0);if((Xe&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=xm,ym(i,o,g,b,A,k),i===st&&(Ve=st=null,Le=0),Qo=r,xr=i,Bs=o,Op=g,Vp=m,lb=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,GN(en,function(){return Sb(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null,m=le.p,le.p=2,b=Xe,Xe|=4;try{VN(i,r,o)}finally{Xe=b,le.p=m,Q.T=c}}Gt=1,Tb(),bb(),wb()}}function Tb(){if(Gt===1){Gt=0;var i=xr,r=Qo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null;var c=le.p;le.p=2;var m=Xe;Xe|=4;try{eb(r,i);var g=Wp,b=a_(i.containerInfo),A=g.focusedElem,k=g.selectionRange;if(b!==A&&A&&A.ownerDocument&&r_(A.ownerDocument.documentElement,A)){if(k!==null&&bm(A)){var K=k.start,J=k.end;if(J===void 0&&(J=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(J,A.value.length);else{var re=A.ownerDocument||document,X=re&&re.defaultView||window;if(X.getSelection){var W=X.getSelection(),pe=A.textContent.length,be=Math.min(k.start,pe),it=k.end===void 0?be:Math.min(k.end,pe);!W.extend&&be>it&&(b=it,it=be,be=b);var q=s_(A,be),B=s_(A,it);if(q&&B&&(W.rangeCount!==1||W.anchorNode!==q.node||W.anchorOffset!==q.offset||W.focusNode!==B.node||W.focusOffset!==B.offset)){var G=re.createRange();G.setStart(q.node,q.offset),W.removeAllRanges(),be>it?(W.addRange(G),W.extend(B.node,B.offset)):(G.setEnd(B.node,B.offset),W.addRange(G))}}}}for(re=[],W=A;W=W.parentNode;)W.nodeType===1&&re.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<re.length;A++){var ne=re[A];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}vf=!!$p,Wp=$p=null}finally{Xe=m,le.p=c,Q.T=o}}i.current=r,Gt=2}}function bb(){if(Gt===2){Gt=0;var i=xr,r=Qo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=Q.T,Q.T=null;var c=le.p;le.p=2;var m=Xe;Xe|=4;try{$T(i,r.alternate,r)}finally{Xe=m,le.p=c,Q.T=o}}Gt=3}}function wb(){if(Gt===4||Gt===3){Gt=0,yo();var i=xr,r=Qo,o=Bs,c=lb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Gt=5:(Gt=0,Qo=xr=null,Eb(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Ar=null),Ss(o),r=r.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Ei,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=Q.T,m=le.p,le.p=2,Q.T=null;try{for(var g=i.onRecoverableError,b=0;b<c.length;b++){var A=c[b];g(A.value,{componentStack:A.stack})}}finally{Q.T=r,le.p=m}}(Bs&3)!==0&&af(),ls(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===kp?Mu++:(Mu=0,kp=i):Mu=0,Pu(0)}}function Eb(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,du(r)))}function af(){return Tb(),bb(),wb(),Sb()}function Sb(){if(Gt!==5)return!1;var i=xr,r=Op;Op=0;var o=Ss(Bs),c=Q.T,m=le.p;try{le.p=32>o?32:o,Q.T=null,o=Vp,Vp=null;var g=xr,b=Bs;if(Gt=0,Qo=xr=null,Bs=0,(Xe&6)!==0)throw Error(s(331));var A=Xe;if(Xe|=4,rb(g.current),nb(g,g.current,b,o),Xe=A,Pu(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Ei,g)}catch{}return!0}finally{le.p=m,Q.T=c,Eb(i,r)}}function Ab(i,r,o){r=ni(o,r),r=mp(i.stateNode,r,2),i=_r(i,r,2),i!==null&&(ga(i,2),ls(i))}function Je(i,r,o){if(i.tag===3)Ab(i,i,o);else for(;r!==null;){if(r.tag===3){Ab(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ar===null||!Ar.has(c))){i=ni(o,i),o=xT(2),c=_r(r,o,2),c!==null&&(CT(o,c,r,i),ga(c,2),ls(c));break}}r=r.return}}function Up(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new jN;var m=new Set;c.set(r,m)}else m=c.get(r),m===void 0&&(m=new Set,c.set(r,m));m.has(o)||(Ip=!0,m.add(o),i=HN.bind(null,i,r,o),r.then(i,i))}function HN(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,st===i&&(Le&o)===o&&(Et===4||Et===3&&(Le&62914560)===Le&&300>bt()-Jh?(Xe&2)===0&&Zo(i,0):Mp|=o,Wo===Le&&(Wo=0)),ls(i)}function xb(i,r){r===0&&(r=th()),i=Da(i,r),i!==null&&(ga(i,r),ls(i))}function qN(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),xb(i,o)}function YN(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),xb(i,o)}function GN(i,r){return Pt(i,r)}var of=null,el=null,zp=!1,lf=!1,Bp=!1,Rr=0;function ls(i){i!==el&&i.next===null&&(el===null?of=el=i:el=el.next=i),lf=!0,zp||(zp=!0,XN())}function Pu(i,r){if(!Bp&&lf){Bp=!0;do for(var o=!1,c=of;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var b=c.suspendedLanes,A=c.pingedLanes;g=(1<<31-xt(42|i)+1)-1,g&=m&~(b&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Db(c,g))}else g=Le,g=qi(c,c===st?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Si(c,g)||(o=!0,Db(c,g));c=c.next}while(o);Bp=!1}}function KN(){Cb()}function Cb(){lf=zp=!1;var i=0;Rr!==0&&sD()&&(i=Rr);for(var r=bt(),o=null,c=of;c!==null;){var m=c.next,g=Rb(c,r);g===0?(c.next=null,o===null?of=m:o.next=m,m===null&&(el=o)):(o=c,(i!==0||(g&3)!==0)&&(lf=!0)),c=m}Gt!==0&&Gt!==5||Pu(i),Rr!==0&&(Rr=0)}function Rb(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-xt(g),A=1<<b,k=m[b];k===-1?((A&o)===0||(A&c)!==0)&&(m[b]=gm(A,r)):k<=r&&(i.expiredLanes|=A),g&=~A}if(r=st,o=Le,o=qi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(Ze===2||Ze===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&ws(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Si(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&ws(c),Ss(o)){case 2:case 8:o=ma;break;case 32:o=en;break;case 268435456:o=Wc;break;default:o=en}return c=Nb.bind(null,i),o=Pt(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&ws(c),i.callbackPriority=2,i.callbackNode=null,2}function Nb(i,r){if(Gt!==0&&Gt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(af()&&i.callbackNode!==o)return null;var c=Le;return c=qi(i,i===st?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(cb(i,c,r),Rb(i,bt()),i.callbackNode!=null&&i.callbackNode===o?Nb.bind(null,i):null)}function Db(i,r){if(af())return null;cb(i,r,!0)}function XN(){aD(function(){(Xe&6)!==0?Pt(kn,KN):Cb()})}function Fp(){if(Rr===0){var i=Uo;i===0&&(i=Fi,Fi<<=1,(Fi&261888)===0&&(Fi=256)),Rr=i}return Rr}function Ib(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:So(""+i)}function Mb(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function $N(i,r,o,c,m){if(r==="submit"&&o&&o.stateNode===m){var g=Ib((m[Wt]||null).action),b=c.submitter;b&&(r=(r=b[Wt]||null)?Ib(r.formAction):b.getAttribute("formAction"),r!==null&&(g=r,b=null));var A=new ts("action","action",null,c,m);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Rr!==0){var k=b?Mb(m,b):new FormData(m);lp(o,{pending:!0,data:k,method:m.method,action:g},null,k)}}else typeof g=="function"&&(A.preventDefault(),k=b?Mb(m,b):new FormData(m),lp(o,{pending:!0,data:k,method:m.method,action:g},g,k))},currentTarget:m}]})}}for(var Hp=0;Hp<Am.length;Hp++){var qp=Am[Hp],WN=qp.toLowerCase(),QN=qp[0].toUpperCase()+qp.slice(1);Mi(WN,"on"+QN)}Mi(u_,"onAnimationEnd"),Mi(c_,"onAnimationIteration"),Mi(h_,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(dN,"onTransitionRun"),Mi(mN,"onTransitionStart"),Mi(pN,"onTransitionCancel"),Mi(f_,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function Pb(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var b=c.length-1;0<=b;b--){var A=c[b],k=A.instance,K=A.currentTarget;if(A=A.listener,k!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=K;try{g(m)}catch(J){wh(J)}m.currentTarget=null,g=k}else for(b=0;b<c.length;b++){if(A=c[b],k=A.instance,K=A.currentTarget,A=A.listener,k!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=K;try{g(m)}catch(J){wh(J)}m.currentTarget=null,g=k}}}}function ke(i,r){var o=r[_o];o===void 0&&(o=r[_o]=new Set);var c=i+"__bubble";o.has(c)||(Ob(r,i,2,!1),o.add(c))}function Yp(i,r,o){var c=0;r&&(c|=4),Ob(o,i,c,r)}var uf="_reactListening"+Math.random().toString(36).slice(2);function Gp(i){if(!i[uf]){i[uf]=!0,Gl.forEach(function(o){o!=="selectionchange"&&(ZN.has(o)||Yp(o,!1,i),Yp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[uf]||(r[uf]=!0,Yp("selectionchange",!1,r))}}function Ob(i,r,o,c){switch(uw(r)){case 2:var m=xD;break;case 8:m=CD;break;default:m=og}o=m.bind(null,r,o,i),m=void 0,!wa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(r,o,{capture:!0,passive:m}):i.addEventListener(r,o,!0):m!==void 0?i.addEventListener(r,o,{passive:m}):i.addEventListener(r,o,!1)}function Kp(i,r,o,c,m){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var A=c.stateNode.containerInfo;if(A===m)break;if(b===4)for(b=c.return;b!==null;){var k=b.tag;if((k===3||k===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;A!==null;){if(b=Xi(A),b===null)return;if(k=b.tag,k===5||k===6||k===26||k===27){c=g=b;continue e}A=A.parentNode}}c=c.return}ur(function(){var K=g,J=Zn(o),re=[];e:{var X=d_.get(i);if(X!==void 0){var W=ts,pe=i;switch(i){case"keypress":if(Sa(o)===0)break e;case"keydown":case"keyup":W=_h;break;case"focusin":pe="focus",W=xa;break;case"focusout":pe="blur",W=xa;break;case"beforeblur":case"afterblur":W=xa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=ru;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=ch;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=_;break;case u_:case c_:case h_:W=fh;break;case f_:W=C;break;case"scroll":case"scrollend":W=su;break;case"wheel":W=$;break;case"copy":case"cut":case"paste":W=dh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Cs;break;case"toggle":case"beforetoggle":W=Ie}var be=(r&4)!==0,it=!be&&(i==="scroll"||i==="scrollend"),q=be?X!==null?X+"Capture":null:X;be=[];for(var B=K,G;B!==null;){var ne=B;if(G=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||G===null||q===null||(ne=Ri(B,q),ne!=null&&be.push(Vu(B,ne,G))),it)break;B=B.return}0<be.length&&(X=new W(X,pe,null,o,J),re.push({event:X,listeners:be}))}}if((r&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",X&&o!==tu&&(pe=o.relatedTarget||o.fromElement)&&(Xi(pe)||pe[Gi]))break e;if((W||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,W?(pe=o.relatedTarget||o.toElement,W=K,pe=pe?Xi(pe):null,pe!==null&&(it=l(pe),be=pe.tag,pe!==it||be!==5&&be!==27&&be!==6)&&(pe=null)):(W=null,pe=K),W!==pe)){if(be=ru,ne="onMouseLeave",q="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(be=Cs,ne="onPointerLeave",q="onPointerEnter",B="pointer"),it=W==null?X:Ln(W),G=pe==null?X:Ln(pe),X=new be(ne,B+"leave",W,o,J),X.target=it,X.relatedTarget=G,ne=null,Xi(J)===K&&(be=new be(q,B+"enter",pe,o,J),be.target=G,be.relatedTarget=it,ne=be),it=ne,W&&pe)t:{for(be=JN,q=W,B=pe,G=0,ne=q;ne;ne=be(ne))G++;ne=0;for(var ye=B;ye;ye=be(ye))ne++;for(;0<G-ne;)q=be(q),G--;for(;0<ne-G;)B=be(B),ne--;for(;G--;){if(q===B||B!==null&&q===B.alternate){be=q;break t}q=be(q),B=be(B)}be=null}else be=null;W!==null&&Vb(re,X,W,be,!1),pe!==null&&it!==null&&Vb(re,it,pe,be,!0)}}e:{if(X=K?Ln(K):window,W=X.nodeName&&X.nodeName.toLowerCase(),W==="select"||W==="input"&&X.type==="file")var Ye=Z0;else if(W0(X))if(J0)Ye=cN;else{Ye=lN;var ge=oN}else W=X.nodeName,!W||W.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?K&&Eo(K.elementType)&&(Ye=Z0):Ye=uN;if(Ye&&(Ye=Ye(i,K))){Q0(re,Ye,o,J);break e}ge&&ge(i,X,K),i==="focusout"&&K&&X.type==="number"&&K.memoizedProps.value!=null&&Zl(X,"number",X.value)}switch(ge=K?Ln(K):window,i){case"focusin":(W0(ge)||ge.contentEditable==="true")&&(Io=ge,wm=K,cu=null);break;case"focusout":cu=wm=Io=null;break;case"mousedown":Em=!0;break;case"contextmenu":case"mouseup":case"dragend":Em=!1,o_(re,o,J);break;case"selectionchange":if(fN)break;case"keydown":case"keyup":o_(re,o,J)}var Pe;if(Ke)e:{switch(i){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Do?Ca(i,o)&&(je="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(je="onCompositionStart");je&&(ss&&o.locale!=="ko"&&(Do||je!=="onCompositionStart"?je==="onCompositionEnd"&&Do&&(Pe=iu()):(es=J,nu="value"in es?es.value:es.textContent,Do=!0)),ge=cf(K,je),0<ge.length&&(je=new is(je,i,null,o,J),re.push({event:je,listeners:ge}),Pe?je.data=Pe:(Pe=No(o),Pe!==null&&(je.data=Pe)))),(Pe=ei?iN(i,o):sN(i,o))&&(je=cf(K,"onBeforeInput"),0<je.length&&(ge=new is("onBeforeInput","beforeinput",null,o,J),re.push({event:ge,listeners:je}),ge.data=Pe)),$N(re,i,K,o,J)}Pb(re,r)})}function Vu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function cf(i,r){for(var o=r+"Capture",c=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=Ri(i,o),m!=null&&c.unshift(Vu(i,m,g)),m=Ri(i,r),m!=null&&c.push(Vu(i,m,g))),i.tag===3)return c;i=i.return}return[]}function JN(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Vb(i,r,o,c,m){for(var g=r._reactName,b=[];o!==null&&o!==c;){var A=o,k=A.alternate,K=A.stateNode;if(A=A.tag,k!==null&&k===c)break;A!==5&&A!==26&&A!==27||K===null||(k=K,m?(K=Ri(o,g),K!=null&&b.unshift(Vu(o,K,k))):m||(K=Ri(o,g),K!=null&&b.push(Vu(o,K,k)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var eD=/\r\n?/g,tD=/\u0000|\uFFFD/g;function kb(i){return(typeof i=="string"?i:""+i).replace(eD,`
`).replace(tD,"")}function Lb(i,r){return r=kb(r),kb(i)===r}function nt(i,r,o,c,m,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||An(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&An(i,""+c);break;case"className":jn(i,"class",c);break;case"tabIndex":jn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(i,o,c);break;case"style":eu(i,c,g);break;case"data":if(r!=="object"){jn(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=So(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&nt(i,r,"name",m.name,m,null),nt(i,r,"formEncType",m.formEncType,m,null),nt(i,r,"formMethod",m.formMethod,m,null),nt(i,r,"formTarget",m.formTarget,m,null)):(nt(i,r,"encType",m.encType,m,null),nt(i,r,"method",m.method,m,null),nt(i,r,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=So(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Ci);break;case"onScroll":c!=null&&ke("scroll",i);break;case"onScrollEnd":c!=null&&ke("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=So(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":ke("beforetoggle",i),ke("toggle",i),bo(i,"popover",c);break;case"xlinkActuate":Lt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Lt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Lt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Lt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Lt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Lt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Lt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Lt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Lt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":bo(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=uh.get(o)||o,bo(i,o,c))}}function Xp(i,r,o,c,m,g){switch(o){case"style":eu(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?An(i,c):(typeof c=="number"||typeof c=="bigint")&&An(i,""+c);break;case"onScroll":c!=null&&ke("scroll",i);break;case"onScrollEnd":c!=null&&ke("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Kl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),g=i[Wt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,m);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):bo(i,o,c)}}}function on(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",i),ke("load",i);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(i,r,g,b,o,null)}}m&&nt(i,r,"srcSet",o.srcSet,o,null),c&&nt(i,r,"src",o.src,o,null);return;case"input":ke("invalid",i);var A=g=b=m=null,k=null,K=null;for(c in o)if(o.hasOwnProperty(c)){var J=o[c];if(J!=null)switch(c){case"name":m=J;break;case"type":b=J;break;case"checked":k=J;break;case"defaultChecked":K=J;break;case"value":g=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:nt(i,r,c,J,o,null)}}ah(i,g,A,k,K,b,m,!1);return;case"select":ke("invalid",i),c=b=g=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":g=A;break;case"defaultValue":b=A;break;case"multiple":c=A;default:nt(i,r,m,A,o,null)}r=g,o=b,i.multiple=!!c,r!=null?rr(i,!!c,r,!1):o!=null&&rr(i,!!c,o,!0);return;case"textarea":ke("invalid",i),g=m=c=null;for(b in o)if(o.hasOwnProperty(b)&&(A=o[b],A!=null))switch(b){case"value":c=A;break;case"defaultValue":m=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:nt(i,r,b,A,o,null)}ar(i,c,m,g);return;case"option":for(k in o)if(o.hasOwnProperty(k)&&(c=o[k],c!=null))switch(k){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:nt(i,r,k,c,o,null)}return;case"dialog":ke("beforetoggle",i),ke("toggle",i),ke("cancel",i),ke("close",i);break;case"iframe":case"object":ke("load",i);break;case"video":case"audio":for(c=0;c<Ou.length;c++)ke(Ou[c],i);break;case"image":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"embed":case"source":case"link":ke("error",i),ke("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(c=o[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(i,r,K,c,o,null)}return;default:if(Eo(r)){for(J in o)o.hasOwnProperty(J)&&(c=o[J],c!==void 0&&Xp(i,r,J,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&nt(i,r,A,c,o,null))}function nD(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,b=null,A=null,k=null,K=null,J=null;for(W in o){var re=o[W];if(o.hasOwnProperty(W)&&re!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":k=re;default:c.hasOwnProperty(W)||nt(i,r,W,null,c,re)}}for(var X in c){var W=c[X];if(re=o[X],c.hasOwnProperty(X)&&(W!=null||re!=null))switch(X){case"type":g=W;break;case"name":m=W;break;case"checked":K=W;break;case"defaultChecked":J=W;break;case"value":b=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:W!==re&&nt(i,r,X,W,c,re)}}wo(i,b,A,k,K,J,g,m);return;case"select":W=b=A=X=null;for(g in o)if(k=o[g],o.hasOwnProperty(g)&&k!=null)switch(g){case"value":break;case"multiple":W=k;default:c.hasOwnProperty(g)||nt(i,r,g,null,c,k)}for(m in c)if(g=c[m],k=o[m],c.hasOwnProperty(m)&&(g!=null||k!=null))switch(m){case"value":X=g;break;case"defaultValue":A=g;break;case"multiple":b=g;default:g!==k&&nt(i,r,m,g,c,k)}r=A,o=b,c=W,X!=null?rr(i,!!o,X,!1):!!c!=!!o&&(r!=null?rr(i,!!o,r,!0):rr(i,!!o,o?[]:"",!1));return;case"textarea":W=X=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:nt(i,r,A,null,c,m)}for(b in c)if(m=c[b],g=o[b],c.hasOwnProperty(b)&&(m!=null||g!=null))switch(b){case"value":X=m;break;case"defaultValue":W=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==g&&nt(i,r,b,m,c,g)}oh(i,X,W);return;case"option":for(var pe in o)if(X=o[pe],o.hasOwnProperty(pe)&&X!=null&&!c.hasOwnProperty(pe))switch(pe){case"selected":i.selected=!1;break;default:nt(i,r,pe,null,c,X)}for(k in c)if(X=c[k],W=o[k],c.hasOwnProperty(k)&&X!==W&&(X!=null||W!=null))switch(k){case"selected":i.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:nt(i,r,k,X,c,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in o)X=o[be],o.hasOwnProperty(be)&&X!=null&&!c.hasOwnProperty(be)&&nt(i,r,be,null,c,X);for(K in c)if(X=c[K],W=o[K],c.hasOwnProperty(K)&&X!==W&&(X!=null||W!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:nt(i,r,K,X,c,W)}return;default:if(Eo(r)){for(var it in o)X=o[it],o.hasOwnProperty(it)&&X!==void 0&&!c.hasOwnProperty(it)&&Xp(i,r,it,void 0,c,X);for(J in c)X=c[J],W=o[J],!c.hasOwnProperty(J)||X===W||X===void 0&&W===void 0||Xp(i,r,J,X,c,W);return}}for(var q in o)X=o[q],o.hasOwnProperty(q)&&X!=null&&!c.hasOwnProperty(q)&&nt(i,r,q,null,c,X);for(re in c)X=c[re],W=o[re],!c.hasOwnProperty(re)||X===W||X==null&&W==null||nt(i,r,re,X,c,W)}function jb(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function iD(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,b=m.initiatorType,A=m.duration;if(g&&A&&jb(b)){for(b=0,A=m.responseEnd,c+=1;c<o.length;c++){var k=o[c],K=k.startTime;if(K>A)break;var J=k.transferSize,re=k.initiatorType;J&&jb(re)&&(k=k.responseEnd,b+=J*(k<A?1:(A-K)/(k-K)))}if(--c,r+=8*(g+b)/(m.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var $p=null,Wp=null;function hf(i){return i.nodeType===9?i:i.ownerDocument}function Ub(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zb(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Qp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Zp=null;function sD(){var i=window.event;return i&&i.type==="popstate"?i===Zp?!1:(Zp=i,!0):(Zp=null,!1)}var Bb=typeof setTimeout=="function"?setTimeout:void 0,rD=typeof clearTimeout=="function"?clearTimeout:void 0,Fb=typeof Promise=="function"?Promise:void 0,aD=typeof queueMicrotask=="function"?queueMicrotask:typeof Fb<"u"?function(i){return Fb.resolve(null).then(i).catch(oD)}:Bb;function oD(i){setTimeout(function(){throw i})}function Nr(i){return i==="head"}function Hb(i,r){var o=r,c=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(m),sl(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")ku(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,ku(o);for(var g=o.firstChild;g;){var b=g.nextSibling,A=g.nodeName;g[Ki]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=b}}else o==="body"&&ku(i.ownerDocument.body);o=m}while(o);sl(r)}function qb(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function Jp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Jp(o),To(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function lD(i,r,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Ki])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=oi(i.nextSibling),i===null)break}return null}function uD(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=oi(i.nextSibling),i===null))return null;return i}function Yb(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=oi(i.nextSibling),i===null))return null;return i}function eg(i){return i.data==="$?"||i.data==="$~"}function tg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function cD(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function oi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var ng=null;function Gb(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return oi(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function Kb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function Xb(i,r,o){switch(r=hf(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function ku(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);To(i)}var li=new Map,$b=new Set;function ff(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Fs=le.d;le.d={f:hD,r:fD,D:dD,C:mD,L:pD,m:gD,X:vD,S:yD,M:_D};function hD(){var i=Fs.f(),r=nf();return i||r}function fD(i){var r=Qn(i);r!==null&&r.tag===5&&r.type==="form"?fT(r):Fs.r(i)}var tl=typeof document>"u"?null:document;function Wb(i,r,o){var c=tl;if(c&&typeof r=="string"&&r){var m=Sn(r);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),$b.has(m)||($b.add(m),i={rel:i,crossOrigin:o,href:r},c.querySelector(m)===null&&(r=c.createElement("link"),on(r,"link",i),kt(r),c.head.appendChild(r)))}}function dD(i){Fs.D(i),Wb("dns-prefetch",i,null)}function mD(i,r){Fs.C(i,r),Wb("preconnect",i,r)}function pD(i,r,o){Fs.L(i,r,o);var c=tl;if(c&&i&&r){var m='link[rel="preload"][as="'+Sn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Sn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Sn(o.imageSizes)+'"]')):m+='[href="'+Sn(i)+'"]';var g=m;switch(r){case"style":g=nl(i);break;case"script":g=il(i)}li.has(g)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),li.set(g,i),c.querySelector(m)!==null||r==="style"&&c.querySelector(Lu(g))||r==="script"&&c.querySelector(ju(g))||(r=c.createElement("link"),on(r,"link",i),kt(r),c.head.appendChild(r)))}}function gD(i,r){Fs.m(i,r);var o=tl;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+Sn(c)+'"][href="'+Sn(i)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=il(i)}if(!li.has(g)&&(i=v({rel:"modulepreload",href:i},r),li.set(g,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ju(g)))return}c=o.createElement("link"),on(c,"link",i),kt(c),o.head.appendChild(c)}}}function yD(i,r,o){Fs.S(i,r,o);var c=tl;if(c&&i){var m=$i(c).hoistableStyles,g=nl(i);r=r||"default";var b=m.get(g);if(!b){var A={loading:0,preload:null};if(b=c.querySelector(Lu(g)))A.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=li.get(g))&&ig(i,o);var k=b=c.createElement("link");kt(k),on(k,"link",i),k._p=new Promise(function(K,J){k.onload=K,k.onerror=J}),k.addEventListener("load",function(){A.loading|=1}),k.addEventListener("error",function(){A.loading|=2}),A.loading|=4,df(b,r,c)}b={type:"stylesheet",instance:b,count:1,state:A},m.set(g,b)}}}function vD(i,r){Fs.X(i,r);var o=tl;if(o&&i){var c=$i(o).hoistableScripts,m=il(i),g=c.get(m);g||(g=o.querySelector(ju(m)),g||(i=v({src:i,async:!0},r),(r=li.get(m))&&sg(i,r),g=o.createElement("script"),kt(g),on(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function _D(i,r){Fs.M(i,r);var o=tl;if(o&&i){var c=$i(o).hoistableScripts,m=il(i),g=c.get(m);g||(g=o.querySelector(ju(m)),g||(i=v({src:i,async:!0,type:"module"},r),(r=li.get(m))&&sg(i,r),g=o.createElement("script"),kt(g),on(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function Qb(i,r,o,c){var m=(m=Ce.current)?ff(m):null;if(!m)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=nl(o.href),o=$i(m).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=nl(o.href);var g=$i(m).hoistableStyles,b=g.get(i);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=m.querySelector(Lu(i)))&&!g._p&&(b.instance=g,b.state.loading=5),li.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},li.set(i,o),g||TD(m,i,o,b.state))),r&&c===null)throw Error(s(528,""));return b}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=il(o),o=$i(m).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function nl(i){return'href="'+Sn(i)+'"'}function Lu(i){return'link[rel="stylesheet"]['+i+"]"}function Zb(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function TD(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),on(r,"link",o),kt(r),i.head.appendChild(r))}function il(i){return'[src="'+Sn(i)+'"]'}function ju(i){return"script[async]"+i}function Jb(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+Sn(o.href)+'"]');if(c)return r.instance=c,kt(c),c;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),kt(c),on(c,"style",m),df(c,o.precedence,i),r.instance=c;case"stylesheet":m=nl(o.href);var g=i.querySelector(Lu(m));if(g)return r.state.loading|=4,r.instance=g,kt(g),g;c=Zb(o),(m=li.get(m))&&ig(c,m),g=(i.ownerDocument||i).createElement("link"),kt(g);var b=g;return b._p=new Promise(function(A,k){b.onload=A,b.onerror=k}),on(g,"link",c),r.state.loading|=4,df(g,o.precedence,i),r.instance=g;case"script":return g=il(o.src),(m=i.querySelector(ju(g)))?(r.instance=m,kt(m),m):(c=o,(m=li.get(g))&&(c=v({},o),sg(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),kt(m),on(m,"link",c),i.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,df(c,o.precedence,i));return r.instance}function df(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,b=0;b<c.length;b++){var A=c[b];if(A.dataset.precedence===r)g=A;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function ig(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function sg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var mf=null;function ew(i,r,o){if(mf===null){var c=new Map,m=mf=new Map;m.set(o,c)}else m=mf,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[Ki]||g[Vt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(r)||"";b=i+b;var A=c.get(b);A?A.push(g):c.set(b,[g])}}return c}function tw(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function bD(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function nw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function wD(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=nl(c.href),g=r.querySelector(Lu(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=pf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,kt(g);return}g=r.ownerDocument||r,c=Zb(c),(m=li.get(m))&&ig(c,m),g=g.createElement("link"),kt(g);var b=g;b._p=new Promise(function(A,k){b.onload=A,b.onerror=k}),on(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=pf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var rg=0;function ED(i,r){return i.stylesheets&&i.count===0&&yf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&yf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&rg===0&&(rg=62500*iD());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&yf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>rg?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function pf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var gf=null;function yf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,gf=new Map,r.forEach(SD,i),gf=null,pf.call(i))}function SD(i,r){if(!(r.state.loading&4)){var o=gf.get(i);if(o)var c=o.get(null);else{o=new Map,gf.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var b=m[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}m=r.instance,b=m.getAttribute("data-precedence"),g=o.get(b)||c,g===c&&o.set(null,m),o.set(b,m),this.count++,c=pf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),r.state.loading|=4}}var Uu={$$typeof:F,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function AD(i,r,o,c,m,g,b,A,k){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yi(0),this.hiddenUpdates=Yi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function iw(i,r,o,c,m,g,b,A,k,K,J,re){return i=new AD(i,r,o,b,k,K,J,re,A),r=1,g===!0&&(r|=24),g=zn(3,null,null,r),i.current=g,g.stateNode=i,r=jm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},Fm(g),i}function sw(i){return i?(i=Oo,i):Oo}function rw(i,r,o,c,m,g){m=sw(m),c.context===null?c.context=m:c.pendingContext=m,c=vr(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=_r(i,c,r),o!==null&&(Dn(o,i,r),yu(o,i,r))}function aw(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function ag(i,r){aw(i,r),(i=i.alternate)&&aw(i,r)}function ow(i){if(i.tag===13||i.tag===31){var r=Da(i,67108864);r!==null&&Dn(r,i,67108864),ag(i,67108864)}}function lw(i){if(i.tag===13||i.tag===31){var r=Yn();r=va(r);var o=Da(i,r);o!==null&&Dn(o,i,r),ag(i,r)}}var vf=!0;function xD(i,r,o,c){var m=Q.T;Q.T=null;var g=le.p;try{le.p=2,og(i,r,o,c)}finally{le.p=g,Q.T=m}}function CD(i,r,o,c){var m=Q.T;Q.T=null;var g=le.p;try{le.p=8,og(i,r,o,c)}finally{le.p=g,Q.T=m}}function og(i,r,o,c){if(vf){var m=lg(c);if(m===null)Kp(i,r,c,_f,o),cw(i,c);else if(ND(m,i,r,o,c))c.stopPropagation();else if(cw(i,c),r&4&&-1<RD.indexOf(i)){for(;m!==null;){var g=Qn(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=Hi(g.pendingLanes);if(b!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var k=1<<31-xt(b);A.entanglements[1]|=k,b&=~k}ls(g),(Xe&6)===0&&(ef=bt()+500,Pu(0))}}break;case 31:case 13:A=Da(g,2),A!==null&&Dn(A,g,2),nf(),ag(g,2)}if(g=lg(c),g===null&&Kp(i,r,c,_f,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else Kp(i,r,c,null,o)}}function lg(i){return i=Zn(i),ug(i)}var _f=null;function ug(i){if(_f=null,i=Xi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=h(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return _f=i,null}function uw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case kn:return 2;case ma:return 8;case en:case Hl:return 32;case Wc:return 268435456;default:return 32}default:return 32}}var cg=!1,Dr=null,Ir=null,Mr=null,zu=new Map,Bu=new Map,Pr=[],RD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cw(i,r){switch(i){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":zu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bu.delete(r.pointerId)}}function Fu(i,r,o,c,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},r!==null&&(r=Qn(r),r!==null&&ow(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),i)}function ND(i,r,o,c,m){switch(r){case"focusin":return Dr=Fu(Dr,i,r,o,c,m),!0;case"dragenter":return Ir=Fu(Ir,i,r,o,c,m),!0;case"mouseover":return Mr=Fu(Mr,i,r,o,c,m),!0;case"pointerover":var g=m.pointerId;return zu.set(g,Fu(zu.get(g)||null,i,r,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,Bu.set(g,Fu(Bu.get(g)||null,i,r,o,c,m)),!0}return!1}function hw(i){var r=Xi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,Ai(i.priority,function(){lw(o)});return}}else if(r===31){if(r=h(o),r!==null){i.blockedOn=r,Ai(i.priority,function(){lw(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Tf(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=lg(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);tu=c,o.target.dispatchEvent(c),tu=null}else return r=Qn(o),r!==null&&ow(r),i.blockedOn=o,!1;r.shift()}return!0}function fw(i,r,o){Tf(i)&&o.delete(r)}function DD(){cg=!1,Dr!==null&&Tf(Dr)&&(Dr=null),Ir!==null&&Tf(Ir)&&(Ir=null),Mr!==null&&Tf(Mr)&&(Mr=null),zu.forEach(fw),Bu.forEach(fw)}function bf(i,r){i.blockedOn===r&&(i.blockedOn=null,cg||(cg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,DD)))}var wf=null;function dw(i){wf!==i&&(wf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){wf===i&&(wf=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],m=i[r+2];if(typeof c!="function"){if(ug(c||o)===null)continue;break}var g=Qn(o);g!==null&&(i.splice(r,3),r-=3,lp(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function sl(i){function r(k){return bf(k,i)}Dr!==null&&bf(Dr,i),Ir!==null&&bf(Ir,i),Mr!==null&&bf(Mr,i),zu.forEach(r),Bu.forEach(r);for(var o=0;o<Pr.length;o++){var c=Pr[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Pr.length&&(o=Pr[0],o.blockedOn===null);)hw(o),o.blockedOn===null&&Pr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],b=m[Wt]||null;if(typeof g=="function")b||dw(o);else if(b){var A=null;if(g&&g.hasAttribute("formAction")){if(m=g,b=g[Wt]||null)A=b.formAction;else if(ug(m)!==null)continue}else A=b.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),dw(o)}}}function mw(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(b){return m=b})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function hg(i){this._internalRoot=i}Ef.prototype.render=hg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=Yn();rw(o,c,i,r,null,null)},Ef.prototype.unmount=hg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;rw(i.current,2,null,i,null,null),nf(),r[Gi]=null}};function Ef(i){this._internalRoot=i}Ef.prototype.unstable_scheduleHydration=function(i){if(i){var r=nh();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Pr.length&&r!==0&&r<Pr[o].priority;o++);Pr.splice(o,0,i),o===0&&hw(i)}};var pw=e.version;if(pw!=="19.2.0")throw Error(s(527,pw,"19.2.0"));le.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var ID={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sf.isDisabled&&Sf.supportsFiber)try{Ei=Sf.inject(ID),tn=Sf}catch{}}return qu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",m=wT,g=ET,b=ST;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=iw(i,1,!1,null,null,o,c,null,m,g,b,mw),i[Gi]=r.current,Gp(i),new hg(r)},qu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,m="",g=wT,b=ET,A=ST,k=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(k=o.formState)),r=iw(i,1,!0,r,o??null,c,m,k,g,b,A,mw),r.context=sw(null),o=r.current,c=Yn(),c=va(c),m=vr(c),m.callback=null,_r(o,m,c),o=c,r.current.lanes=o,ga(r,o),ls(r),i[Gi]=r.current,Gp(i),new Ef(r)},qu.version="19.2.0",qu}var Aw;function FD(){if(Aw)return mg.exports;Aw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mg.exports=BD(),mg.exports}var HD=FD();var xw="popstate";function qD(t={}){function e(a,l){let{pathname:u="/",search:h="",hash:d=""}=lo(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Zg("",{pathname:u,search:h,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let u=a.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let d=a.location.href,p=d.indexOf("#");h=p===-1?d:d.slice(0,p)}return h+"#"+(typeof l=="string"?l:fc(l))}function s(a,l){Ti(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return GD(e,n,s,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ti(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YD(){return Math.random().toString(36).substring(2,10)}function Cw(t,e){return{usr:t.state,key:t.key,idx:e}}function Zg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?lo(e):e,state:n,key:e&&e.key||s||YD()}}function fc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function lo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function GD(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,h="POP",d=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let I=y(),V=I==null?null:I-p;p=I,d&&d({action:h,location:M.location,delta:V})}function T(I,V){h="PUSH";let U=Zg(M.location,I,V);n&&n(U,I),p=y()+1;let F=Cw(U,p),ee=M.createHref(U);try{u.pushState(F,"",ee)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;a.location.assign(ee)}l&&d&&d({action:h,location:M.location,delta:1})}function S(I,V){h="REPLACE";let U=Zg(M.location,I,V);n&&n(U,I),p=y();let F=Cw(U,p),ee=M.createHref(U);u.replaceState(F,"",ee),l&&d&&d({action:h,location:M.location,delta:0})}function N(I){return KD(I)}let M={get action(){return h},get location(){return t(a,u)},listen(I){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(xw,v),d=I,()=>{a.removeEventListener(xw,v),d=null}},createHref(I){return e(a,I)},createURL:N,encodeLocation(I){let V=N(I);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:T,replace:S,go(I){return u.go(I)}};return M}function KD(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),yt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:fc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function YA(t,e,n="/"){return XD(t,e,n,!1)}function XD(t,e,n,s){let a=typeof e=="string"?lo(e):e,l=$s(a.pathname||"/",n);if(l==null)return null;let u=GA(t);$D(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=aI(l);h=sI(u[d],p,s)}return h}function GA(t,e=[],n=[],s="",a=!1){let l=(u,h,d=a,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&d)return;yt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let v=Gs([s,y.relativePath]),T=n.concat(y);u.children&&u.children.length>0&&(yt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),GA(u.children,e,T,v,d)),!(u.path==null&&!u.index)&&e.push({path:v,score:nI(v,u.index),routesMeta:T})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let d of KA(u.path))l(u,h,!0,d)}),e}function KA(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=KA(s.join("/")),h=[];return h.push(...u.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function $D(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:iI(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var WD=/^:[\w-]+$/,QD=3,ZD=2,JD=1,eI=10,tI=-2,Rw=t=>t==="*";function nI(t,e){let n=t.split("/"),s=n.length;return n.some(Rw)&&(s+=tI),e&&(s+=ZD),n.filter(a=>!Rw(a)).reduce((a,l)=>a+(WD.test(l)?QD:l===""?JD:eI),s)}function iI(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function sI(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let h=0;h<s.length;++h){let d=s[h],p=h===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=td({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},y),T=d.route;if(!v&&p&&n&&!s[s.length-1].route.index&&(v=td({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:Gs([l,v.pathname]),pathnameBase:hI(Gs([l,v.pathnameBase])),route:T}),v.pathnameBase!=="/"&&(l=Gs([l,v.pathnameBase]))}return u}function td(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=rI(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:v},T)=>{if(y==="*"){let N=h[T]||"";u=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const S=h[T];return v&&!S?p[y]=void 0:p[y]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function rI(t,e=!1,n=!0){Ti(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(s.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function aI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ti(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function $s(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var oI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lI=t=>oI.test(t);function uI(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?lo(t):t,l;if(n)if(lI(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Ti(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=Nw(n.substring(1),"/"):l=Nw(n,e)}else l=e;return{pathname:l,search:fI(s),hash:dI(a)}}function Nw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function vg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function XA(t){let e=cI(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function $A(t,e,n,s=!1){let a;typeof t=="string"?a=lo(t):(a={...t},yt(!a.pathname||!a.pathname.includes("?"),vg("?","pathname","search",a)),yt(!a.pathname||!a.pathname.includes("#"),vg("#","pathname","hash",a)),yt(!a.search||!a.search.includes("#"),vg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=n;else{let v=e.length-1;if(!s&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),v-=1;a.pathname=T.join("/")}h=v>=0?e[v]:"/"}let d=uI(a,h),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||y)&&(d.pathname+="/"),d}var Gs=t=>t.join("/").replace(/\/\/+/g,"/"),hI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var WA=["POST","PUT","PATCH","DELETE"];new Set(WA);var pI=["GET",...WA];new Set(pI);var Il=O.createContext(null);Il.displayName="DataRouter";var Vd=O.createContext(null);Vd.displayName="DataRouterState";O.createContext(!1);var QA=O.createContext({isTransitioning:!1});QA.displayName="ViewTransition";var gI=O.createContext(new Map);gI.displayName="Fetchers";var yI=O.createContext(null);yI.displayName="Await";var Ts=O.createContext(null);Ts.displayName="Navigation";var Dc=O.createContext(null);Dc.displayName="Location";var bs=O.createContext({outlet:null,matches:[],isDataRoute:!1});bs.displayName="Route";var tv=O.createContext(null);tv.displayName="RouteError";function vI(t,{relative:e}={}){yt(Ic(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=O.useContext(Ts),{hash:a,pathname:l,search:u}=Mc(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Gs([n,l])),s.createHref({pathname:h,search:u,hash:a})}function Ic(){return O.useContext(Dc)!=null}function uo(){return yt(Ic(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Dc).location}var ZA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JA(t){O.useContext(Ts).static||O.useLayoutEffect(t)}function nv(){let{isDataRoute:t}=O.useContext(bs);return t?MI():_I()}function _I(){yt(Ic(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(Il),{basename:e,navigator:n}=O.useContext(Ts),{matches:s}=O.useContext(bs),{pathname:a}=uo(),l=JSON.stringify(XA(s)),u=O.useRef(!1);return JA(()=>{u.current=!0}),O.useCallback((d,p={})=>{if(Ti(u.current,ZA),!u.current)return;if(typeof d=="number"){n.go(d);return}let y=$A(d,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Gs([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}O.createContext(null);function TI(){let{matches:t}=O.useContext(bs),e=t[t.length-1];return e?e.params:{}}function Mc(t,{relative:e}={}){let{matches:n}=O.useContext(bs),{pathname:s}=uo(),a=JSON.stringify(XA(n));return O.useMemo(()=>$A(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function bI(t,e){return e1(t,e)}function e1(t,e,n,s,a){yt(Ic(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=O.useContext(Ts),{matches:u}=O.useContext(bs),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let U=v&&v.path||"";t1(p,!v||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let T=uo(),S;if(e){let U=typeof e=="string"?lo(e):e;yt(y==="/"||U.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${U.pathname}" was given in the \`location\` prop.`),S=U}else S=T;let N=S.pathname||"/",M=N;if(y!=="/"){let U=y.replace(/^\//,"").split("/");M="/"+N.replace(/^\//,"").split("/").slice(U.length).join("/")}let I=YA(t,{pathname:M});Ti(v||I!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Ti(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=xI(I&&I.map(U=>Object.assign({},U,{params:Object.assign({},d,U.params),pathname:Gs([y,l.encodeLocation?l.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?y:Gs([y,l.encodeLocation?l.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),u,n,s,a);return e&&V?O.createElement(Dc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},V):V}function wI(){let t=II(),e=mI(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:l},"ErrorBoundary")," or"," ",O.createElement("code",{style:l},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:a},n):null,u)}var EI=O.createElement(wI,null),SI=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?O.createElement(bs.Provider,{value:this.props.routeContext},O.createElement(tv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function AI({routeContext:t,match:e,children:n}){let s=O.useContext(Il);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(bs.Provider,{value:t},n)}function xI(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let y=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);yt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let h=!1,d=-1;if(n)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=y),v.route.id){let{loaderData:T,errors:S}=n,N=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||N){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let p=n&&s?(y,v)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:v})}:void 0;return l.reduceRight((y,v,T)=>{let S,N=!1,M=null,I=null;n&&(S=u&&v.route.id?u[v.route.id]:void 0,M=v.route.errorElement||EI,h&&(d<0&&T===0?(t1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,I=null):d===T&&(N=!0,I=v.route.hydrateFallbackElement||null)));let V=e.concat(l.slice(0,T+1)),U=()=>{let F;return S?F=M:N?F=I:v.route.Component?F=O.createElement(v.route.Component,null):v.route.element?F=v.route.element:F=y,O.createElement(AI,{match:v,routeContext:{outlet:y,matches:V,isDataRoute:n!=null},children:F})};return n&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?O.createElement(SI,{location:n.location,revalidation:n.revalidation,component:M,error:S,children:U(),routeContext:{outlet:null,matches:V,isDataRoute:!0},onError:p}):U()},null)}function iv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CI(t){let e=O.useContext(Il);return yt(e,iv(t)),e}function RI(t){let e=O.useContext(Vd);return yt(e,iv(t)),e}function NI(t){let e=O.useContext(bs);return yt(e,iv(t)),e}function sv(t){let e=NI(t),n=e.matches[e.matches.length-1];return yt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function DI(){return sv("useRouteId")}function II(){let t=O.useContext(tv),e=RI("useRouteError"),n=sv("useRouteError");return t!==void 0?t:e.errors?.[n]}function MI(){let{router:t}=CI("useNavigate"),e=sv("useNavigate"),n=O.useRef(!1);return JA(()=>{n.current=!0}),O.useCallback(async(a,l={})=>{Ti(n.current,ZA),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Dw={};function t1(t,e,n){!e&&!Dw[t]&&(Dw[t]=!0,Ti(!1,n))}O.memo(PI);function PI({routes:t,future:e,state:n,unstable_onError:s}){return e1(t,void 0,n,s,e)}function rl(t){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OI({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){yt(!Ic(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=O.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=lo(n));let{pathname:d="/",search:p="",hash:y="",state:v=null,key:T="default"}=n,S=O.useMemo(()=>{let N=$s(d,u);return N==null?null:{location:{pathname:N,search:p,hash:y,state:v,key:T},navigationType:s}},[u,d,p,y,v,T,s]);return Ti(S!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:O.createElement(Ts.Provider,{value:h},O.createElement(Dc.Provider,{children:e,value:S}))}function VI({children:t,location:e}){return bI(Jg(t),e)}function Jg(t,e=[]){let n=[];return O.Children.forEach(t,(s,a)=>{if(!O.isValidElement(s))return;let l=[...e,a];if(s.type===O.Fragment){n.push.apply(n,Jg(s.props.children,l));return}yt(s.type===rl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Jg(s.props.children,l)),n.push(u)}),n}var Uf="get",zf="application/x-www-form-urlencoded";function kd(t){return t!=null&&typeof t.tagName=="string"}function kI(t){return kd(t)&&t.tagName.toLowerCase()==="button"}function LI(t){return kd(t)&&t.tagName.toLowerCase()==="form"}function jI(t){return kd(t)&&t.tagName.toLowerCase()==="input"}function UI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zI(t,e){return t.button===0&&(!e||e==="_self")&&!UI(t)}var Af=null;function BI(){if(Af===null)try{new FormData(document.createElement("form"),0),Af=!1}catch{Af=!0}return Af}var FI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _g(t){return t!=null&&!FI.has(t)?(Ti(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zf}"`),null):t}function HI(t,e){let n,s,a,l,u;if(LI(t)){let h=t.getAttribute("action");s=h?$s(h,e):null,n=t.getAttribute("method")||Uf,a=_g(t.getAttribute("enctype"))||zf,l=new FormData(t)}else if(kI(t)||jI(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(s=d?$s(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Uf,a=_g(t.getAttribute("formenctype"))||_g(h.getAttribute("enctype"))||zf,l=new FormData(h,t),!BI()){let{name:p,type:y,value:v}=t;if(y==="image"){let T=p?`${p}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else p&&l.append(p,v)}}else{if(kd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Uf,s=null,a=zf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qI(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&$s(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function YI(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GI(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function KI(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await YI(l,n);return u.links?u.links():[]}return[]}));return QI(s.flat(1).filter(GI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Iw(t,e,n,s,a,l){let u=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>n[p].pathname!==d.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,p)=>u(d,p)||h(d,p)):l==="data"?e.filter((d,p)=>{let y=s.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function XI(t,e,{includeHydrateFallback:n}={}){return $I(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function $I(t){return[...new Set(t)]}function WI(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function QI(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(WI(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function n1(){let t=O.useContext(Il);return rv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ZI(){let t=O.useContext(Vd);return rv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var av=O.createContext(void 0);av.displayName="FrameworkContext";function i1(){let t=O.useContext(av);return rv(t,"You must render this element inside a <HydratedRouter> element"),t}function JI(t,e){let n=O.useContext(av),[s,a]=O.useState(!1),[l,u]=O.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,T=O.useRef(null);O.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let M=V=>{V.forEach(U=>{u(U.isIntersecting)})},I=new IntersectionObserver(M,{threshold:.5});return T.current&&I.observe(T.current),()=>{I.disconnect()}}},[t]),O.useEffect(()=>{if(s){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[s]);let S=()=>{a(!0)},N=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:Yu(h,S),onBlur:Yu(d,N),onMouseEnter:Yu(p,S),onMouseLeave:Yu(y,N),onTouchStart:Yu(v,S)}]:[!1,T,{}]}function Yu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function eM({page:t,...e}){let{router:n}=n1(),s=O.useMemo(()=>YA(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?O.createElement(nM,{page:t,matches:s,...e}):null}function tM(t){let{manifest:e,routeModules:n}=i1(),[s,a]=O.useState([]);return O.useEffect(()=>{let l=!1;return KI(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function nM({page:t,matches:e,...n}){let s=uo(),{manifest:a,routeModules:l}=i1(),{basename:u}=n1(),{loaderData:h,matches:d}=ZI(),p=O.useMemo(()=>Iw(t,e,d,a,s,"data"),[t,e,d,a,s]),y=O.useMemo(()=>Iw(t,e,d,a,s,"assets"),[t,e,d,a,s]),v=O.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let N=new Set,M=!1;if(e.forEach(V=>{let U=a.routes[V.route.id];!U||!U.hasLoader||(!p.some(F=>F.route.id===V.route.id)&&V.route.id in h&&l[V.route.id]?.shouldRevalidate||U.hasClientLoader?M=!0:N.add(V.route.id))}),N.size===0)return[];let I=qI(t,u,"data");return M&&N.size>0&&I.searchParams.set("_routes",e.filter(V=>N.has(V.route.id)).map(V=>V.route.id).join(",")),[I.pathname+I.search]},[u,h,s,a,p,e,t,l]),T=O.useMemo(()=>XI(y,a),[y,a]),S=tM(y);return O.createElement(O.Fragment,null,v.map(N=>O.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),T.map(N=>O.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),S.map(({key:N,link:M})=>O.createElement("link",{key:N,nonce:n.nonce,...M})))}function iM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var s1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{s1&&(window.__reactRouterVersion="7.9.6")}catch{}function sM({basename:t,children:e,window:n}){let s=O.useRef();s.current==null&&(s.current=qD({window:n,v5Compat:!0}));let a=s.current,[l,u]=O.useState({action:a.action,location:a.location}),h=O.useCallback(d=>{O.startTransition(()=>u(d))},[u]);return O.useLayoutEffect(()=>a.listen(h),[a,h]),O.createElement(OI,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var r1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yr=O.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:h,target:d,to:p,preventScrollReset:y,viewTransition:v,...T},S){let{basename:N}=O.useContext(Ts),M=typeof p=="string"&&r1.test(p),I,V=!1;if(typeof p=="string"&&M&&(I=p,s1))try{let D=new URL(window.location.href),j=p.startsWith("//")?new URL(D.protocol+p):new URL(p),L=$s(j.pathname,N);j.origin===D.origin&&L!=null?p=L+j.search+j.hash:V=!0}catch{Ti(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=vI(p,{relative:a}),[F,ee,te]=JI(s,T),Z=lM(p,{replace:u,state:h,target:d,preventScrollReset:y,relative:a,viewTransition:v});function R(D){e&&e(D),D.defaultPrevented||Z(D)}let x=O.createElement("a",{...T,...te,href:I||U,onClick:V||l?e:R,ref:iM(S,ee),target:d,"data-discover":!M&&n==="render"?"true":void 0});return F&&!M?O.createElement(O.Fragment,null,x,O.createElement(eM,{page:U})):x});Yr.displayName="Link";var rM=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:h,children:d,...p},y){let v=Mc(u,{relative:p.relative}),T=uo(),S=O.useContext(Vd),{navigator:N,basename:M}=O.useContext(Ts),I=S!=null&&dM(v)&&h===!0,V=N.encodeLocation?N.encodeLocation(v).pathname:v.pathname,U=T.pathname,F=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(U=U.toLowerCase(),F=F?F.toLowerCase():null,V=V.toLowerCase()),F&&M&&(F=$s(F,M)||F);const ee=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let te=U===V||!a&&U.startsWith(V)&&U.charAt(ee)==="/",Z=F!=null&&(F===V||!a&&F.startsWith(V)&&F.charAt(V.length)==="/"),R={isActive:te,isPending:Z,isTransitioning:I},x=te?e:void 0,D;typeof s=="function"?D=s(R):D=[s,te?"active":null,Z?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let j=typeof l=="function"?l(R):l;return O.createElement(Yr,{...p,"aria-current":x,className:D,ref:y,style:j,to:u,viewTransition:h},typeof d=="function"?d(R):d)});rM.displayName="NavLink";var aM=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=Uf,action:h,onSubmit:d,relative:p,preventScrollReset:y,viewTransition:v,...T},S)=>{let N=hM(),M=fM(h,{relative:p}),I=u.toLowerCase()==="get"?"get":"post",V=typeof h=="string"&&r1.test(h),U=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let ee=F.nativeEvent.submitter,te=ee?.getAttribute("formmethod")||u;N(ee||F.currentTarget,{fetcherKey:e,method:te,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:v})};return O.createElement("form",{ref:S,method:I,action:M,onSubmit:s?d:U,...T,"data-discover":!V&&t==="render"?"true":void 0})});aM.displayName="Form";function oM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function a1(t){let e=O.useContext(Il);return yt(e,oM(t)),e}function lM(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u}={}){let h=nv(),d=uo(),p=Mc(t,{relative:l});return O.useCallback(y=>{if(zI(y,e)){y.preventDefault();let v=n!==void 0?n:fc(d)===fc(p);h(t,{replace:v,state:s,preventScrollReset:a,relative:l,viewTransition:u})}},[d,h,p,n,s,e,t,a,l,u])}var uM=0,cM=()=>`__${String(++uM)}__`;function hM(){let{router:t}=a1("useSubmit"),{basename:e}=O.useContext(Ts),n=DI();return O.useCallback(async(s,a={})=>{let{action:l,method:u,encType:h,formData:d,body:p}=HI(s,e);if(a.navigate===!1){let y=a.fetcherKey||cM();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function fM(t,{relative:e}={}){let{basename:n}=O.useContext(Ts),s=O.useContext(bs);yt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Mc(t||".",{relative:e})},u=uo();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Gs([n,l.pathname])),fc(l)}function dM(t,{relative:e}={}){let n=O.useContext(QA);yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=a1("useViewTransitionState"),a=Mc(t,{relative:e});if(!n.isTransitioning)return!1;let l=$s(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=$s(n.nextLocation.pathname,s)||n.nextLocation.pathname;return td(a.pathname,u)!=null||td(a.pathname,l)!=null}const mM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pM=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Mw=t=>{const e=pM(t);return e.charAt(0).toUpperCase()+e.slice(1)},o1=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),gM=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var yM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const vM=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...h},d)=>O.createElement("svg",{ref:d,...yM,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:o1("lucide",a),...!l&&!gM(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,y])=>O.createElement(p,y)),...Array.isArray(l)?l:[l]]));const mt=(t,e)=>{const n=O.forwardRef(({className:s,...a},l)=>O.createElement(vM,{ref:l,iconNode:e,className:o1(`lucide-${mM(Mw(t))}`,`lucide-${t}`,s),...a}));return n.displayName=Mw(t),n};const _M=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],TM=mt("arrow-left",_M);const bM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ov=mt("arrow-right",bM);const wM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],l1=mt("circle-check-big",wM);const EM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nd=mt("clock",EM);const SM=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],AM=mt("eye-off",SM);const xM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],CM=mt("eye",xM);const RM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],NM=mt("file-text",RM);const DM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Pw=mt("history",DM);const IM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],MM=mt("loader-circle",IM);const PM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ey=mt("lock",PM);const OM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],VM=mt("log-out",OM);const kM=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],LM=mt("map",kM);const jM=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],UM=mt("phone",jM);const zM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],BM=mt("plus",zM);const FM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],HM=mt("refresh-cw",FM);const qM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],xf=mt("search",qM);const YM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],u1=mt("shield",YM);const GM=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],Ow=mt("store",GM);const KM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],c1=mt("trash-2",KM);const XM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],h1=mt("triangle-alert",XM);const $M=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Vw=mt("upload",$M);const WM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ty=mt("user-plus",WM);const QM=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],id=mt("utensils-crossed",QM);const ZM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],to=mt("x",ZM),lv=O.createContext({});function uv(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const cv=typeof window<"u",f1=cv?O.useLayoutEffect:O.useEffect,Ld=O.createContext(null);function hv(t,e){t.indexOf(e)===-1&&t.push(e)}function fv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ws=(t,e,n)=>n>e?e:n<t?t:n;let dv=()=>{};const Qs={},d1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function m1(t){return typeof t=="object"&&t!==null}const p1=t=>/^0[^.\s]+$/u.test(t);function mv(t){let e;return()=>(e===void 0&&(e=t()),e)}const yi=t=>t,JM=(t,e)=>n=>e(t(n)),Pc=(...t)=>t.reduce(JM),dc=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class pv{constructor(){this.subscriptions=[]}add(e){return hv(this.subscriptions,e),()=>fv(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cs=t=>t*1e3,mi=t=>t/1e3;function g1(t,e){return e?t*(1e3/e):0}const y1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,eP=1e-7,tP=12;function nP(t,e,n,s,a){let l,u,h=0;do u=e+(n-e)/2,l=y1(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>eP&&++h<tP);return u}function Oc(t,e,n,s){if(t===e&&n===s)return yi;const a=l=>nP(l,0,1,t,n);return l=>l===0||l===1?l:y1(a(l),e,s)}const v1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,_1=t=>e=>1-t(1-e),T1=Oc(.33,1.53,.69,.99),gv=_1(T1),b1=v1(gv),w1=t=>(t*=2)<1?.5*gv(t):.5*(2-Math.pow(2,-10*(t-1))),yv=t=>1-Math.sin(Math.acos(t)),E1=_1(yv),S1=v1(yv),iP=Oc(.42,0,1,1),sP=Oc(0,0,.58,1),A1=Oc(.42,0,.58,1),rP=t=>Array.isArray(t)&&typeof t[0]!="number",x1=t=>Array.isArray(t)&&typeof t[0]=="number",aP={linear:yi,easeIn:iP,easeInOut:A1,easeOut:sP,circIn:yv,circInOut:S1,circOut:E1,backIn:gv,backInOut:b1,backOut:T1,anticipate:w1},oP=t=>typeof t=="string",kw=t=>{if(x1(t)){dv(t.length===4);const[e,n,s,a]=t;return Oc(e,n,s,a)}else if(oP(t))return aP[t];return t},Cf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function lP(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(y){u.has(y)&&(p.schedule(y),t()),y(h)}const p={schedule:(y,v=!1,T=!1)=>{const N=T&&a?n:s;return v&&u.add(y),N.has(y)||N.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const uP=40;function C1(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Cf.reduce((F,ee)=>(F[ee]=lP(l),F),{}),{setup:h,read:d,resolveKeyframes:p,preUpdate:y,update:v,preRender:T,render:S,postRender:N}=u,M=()=>{const F=Qs.useManualTiming?a.timestamp:performance.now();n=!1,Qs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(F-a.timestamp,uP),1)),a.timestamp=F,a.isProcessing=!0,h.process(a),d.process(a),p.process(a),y.process(a),v.process(a),T.process(a),S.process(a),N.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(M))},I=()=>{n=!0,s=!0,a.isProcessing||t(M)};return{schedule:Cf.reduce((F,ee)=>{const te=u[ee];return F[ee]=(Z,R=!1,x=!1)=>(n||I(),te.schedule(Z,R,x)),F},{}),cancel:F=>{for(let ee=0;ee<Cf.length;ee++)u[Cf[ee]].cancel(F)},state:a,steps:u}}const{schedule:dt,cancel:Qr,state:ln,steps:Tg}=C1(typeof requestAnimationFrame<"u"?requestAnimationFrame:yi,!0);let Bf;function cP(){Bf=void 0}const Pn={now:()=>(Bf===void 0&&Pn.set(ln.isProcessing||Qs.useManualTiming?ln.timestamp:performance.now()),Bf),set:t=>{Bf=t,queueMicrotask(cP)}},R1=t=>e=>typeof e=="string"&&e.startsWith(t),vv=R1("--"),hP=R1("var(--"),_v=t=>hP(t)?fP.test(t.split("/*")[0].trim()):!1,fP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ml={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},mc={...Ml,transform:t=>Ws(0,1,t)},Rf={...Ml,default:1},tc=t=>Math.round(t*1e5)/1e5,Tv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function dP(t){return t==null}const mP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bv=(t,e)=>n=>!!(typeof n=="string"&&mP.test(n)&&n.startsWith(t)||e&&!dP(n)&&Object.prototype.hasOwnProperty.call(n,e)),N1=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,h]=s.match(Tv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},pP=t=>Ws(0,255,t),bg={...Ml,transform:t=>Math.round(pP(t))},Ga={test:bv("rgb","red"),parse:N1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+bg.transform(t)+", "+bg.transform(e)+", "+bg.transform(n)+", "+tc(mc.transform(s))+")"};function gP(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const ny={test:bv("#"),parse:gP,transform:Ga.transform},Vc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),kr=Vc("deg"),hs=Vc("%"),Ae=Vc("px"),yP=Vc("vh"),vP=Vc("vw"),Lw={...hs,parse:t=>hs.parse(t)/100,transform:t=>hs.transform(t*100)},cl={test:bv("hsl","hue"),parse:N1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+hs.transform(tc(e))+", "+hs.transform(tc(n))+", "+tc(mc.transform(s))+")"},Ht={test:t=>Ga.test(t)||ny.test(t)||cl.test(t),parse:t=>Ga.test(t)?Ga.parse(t):cl.test(t)?cl.parse(t):ny.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ga.transform(t):cl.transform(t),getAnimatableNone:t=>{const e=Ht.parse(t);return e.alpha=0,Ht.transform(e)}},_P=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TP(t){return isNaN(t)&&typeof t=="string"&&(t.match(Tv)?.length||0)+(t.match(_P)?.length||0)>0}const D1="number",I1="color",bP="var",wP="var(",jw="${}",EP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(EP,d=>(Ht.test(d)?(s.color.push(l),a.push(I1),n.push(Ht.parse(d))):d.startsWith(wP)?(s.var.push(l),a.push(bP),n.push(d)):(s.number.push(l),a.push(D1),n.push(parseFloat(d))),++l,jw)).split(jw);return{values:n,split:h,indexes:s,types:a}}function M1(t){return pc(t).values}function P1(t){const{split:e,types:n}=pc(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const h=n[u];h===D1?l+=tc(a[u]):h===I1?l+=Ht.transform(a[u]):l+=a[u]}return l}}const SP=t=>typeof t=="number"?0:Ht.test(t)?Ht.getAnimatableNone(t):t;function AP(t){const e=M1(t);return P1(t)(e.map(SP))}const Zr={test:TP,parse:M1,createTransformer:P1,getAnimatableNone:AP};function wg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function xP({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=wg(d,h,t+1/3),l=wg(d,h,t),u=wg(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function sd(t,e){return n=>n>0?e:t}const gt=(t,e,n)=>t+(e-t)*n,Eg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},CP=[ny,Ga,cl],RP=t=>CP.find(e=>e.test(t));function Uw(t){const e=RP(t);if(!e)return!1;let n=e.parse(t);return e===cl&&(n=xP(n)),n}const zw=(t,e)=>{const n=Uw(t),s=Uw(e);if(!n||!s)return sd(t,e);const a={...n};return l=>(a.red=Eg(n.red,s.red,l),a.green=Eg(n.green,s.green,l),a.blue=Eg(n.blue,s.blue,l),a.alpha=gt(n.alpha,s.alpha,l),Ga.transform(a))},iy=new Set(["none","hidden"]);function NP(t,e){return iy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function DP(t,e){return n=>gt(t,e,n)}function wv(t){return typeof t=="number"?DP:typeof t=="string"?_v(t)?sd:Ht.test(t)?zw:PP:Array.isArray(t)?O1:typeof t=="object"?Ht.test(t)?zw:IP:sd}function O1(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>wv(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function IP(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=wv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function MP(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],h=t.values[u]??0;n[a]=h,s[l]++}return n}const PP=(t,e)=>{const n=Zr.createTransformer(e),s=pc(t),a=pc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?iy.has(t)&&!a.values.length||iy.has(e)&&!s.values.length?NP(t,e):Pc(O1(MP(s,a),a.values),n):sd(t,e)};function V1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?gt(t,e,n):wv(t)(t,e)}const OP=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>dt.update(e,n),stop:()=>Qr(e),now:()=>ln.isProcessing?ln.timestamp:Pn.now()}},k1=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},rd=2e4;function Ev(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<rd;)e+=n,s=t.next(e);return e>=rd?1/0:e}function VP(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(Ev(s),rd);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:mi(a)}}const kP=5;function L1(t,e,n){const s=Math.max(e-kP,0);return g1(n-t(s),e-s)}const St={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sg=.001;function LP({duration:t=St.duration,bounce:e=St.bounce,velocity:n=St.velocity,mass:s=St.mass}){let a,l,u=1-e;u=Ws(St.minDamping,St.maxDamping,u),t=Ws(St.minDuration,St.maxDuration,mi(t)),u<1?(a=p=>{const y=p*u,v=y*t,T=y-n,S=sy(p,u),N=Math.exp(-v);return Sg-T/S*N},l=p=>{const v=p*u*t,T=v*n+n,S=Math.pow(u,2)*Math.pow(p,2)*t,N=Math.exp(-v),M=sy(Math.pow(p,2),u);return(-a(p)+Sg>0?-1:1)*((T-S)*N)/M}):(a=p=>{const y=Math.exp(-p*t),v=(p-n)*t+1;return-Sg+y*v},l=p=>{const y=Math.exp(-p*t),v=(n-p)*(t*t);return y*v});const h=5/t,d=UP(a,l,h);if(t=cs(t),isNaN(d))return{stiffness:St.stiffness,damping:St.damping,duration:t};{const p=Math.pow(d,2)*s;return{stiffness:p,damping:u*2*Math.sqrt(s*p),duration:t}}}const jP=12;function UP(t,e,n){let s=n;for(let a=1;a<jP;a++)s=s-t(s)/e(s);return s}function sy(t,e){return t*Math.sqrt(1-e*e)}const zP=["duration","bounce"],BP=["stiffness","damping","mass"];function Bw(t,e){return e.some(n=>t[n]!==void 0)}function FP(t){let e={velocity:St.velocity,stiffness:St.stiffness,damping:St.damping,mass:St.mass,isResolvedFromDuration:!1,...t};if(!Bw(t,BP)&&Bw(t,zP))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Ws(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:St.mass,stiffness:a,damping:l}}else{const n=LP(t);e={...e,...n,mass:St.mass},e.isResolvedFromDuration=!0}return e}function ad(t=St.visualDuration,e=St.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:p,mass:y,duration:v,velocity:T,isResolvedFromDuration:S}=FP({...n,velocity:-mi(n.velocity||0)}),N=T||0,M=p/(2*Math.sqrt(d*y)),I=u-l,V=mi(Math.sqrt(d/y)),U=Math.abs(I)<5;s||(s=U?St.restSpeed.granular:St.restSpeed.default),a||(a=U?St.restDelta.granular:St.restDelta.default);let F;if(M<1){const te=sy(V,M);F=Z=>{const R=Math.exp(-M*V*Z);return u-R*((N+M*V*I)/te*Math.sin(te*Z)+I*Math.cos(te*Z))}}else if(M===1)F=te=>u-Math.exp(-V*te)*(I+(N+V*I)*te);else{const te=V*Math.sqrt(M*M-1);F=Z=>{const R=Math.exp(-M*V*Z),x=Math.min(te*Z,300);return u-R*((N+M*V*I)*Math.sinh(x)+te*I*Math.cosh(x))/te}}const ee={calculatedDuration:S&&v||null,next:te=>{const Z=F(te);if(S)h.done=te>=v;else{let R=te===0?N:0;M<1&&(R=te===0?cs(N):L1(F,te,Z));const x=Math.abs(R)<=s,D=Math.abs(u-Z)<=a;h.done=x&&D}return h.value=h.done?u:Z,h},toString:()=>{const te=Math.min(Ev(ee),rd),Z=k1(R=>ee.next(te*R).value,te,30);return te+"ms "+Z},toTransition:()=>{}};return ee}ad.applyToOptions=t=>{const e=VP(t,100,ad);return t.ease=e.ease,t.duration=cs(e.duration),t.type="keyframes",t};function ry({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:d,restDelta:p=.5,restSpeed:y}){const v=t[0],T={done:!1,value:v},S=x=>h!==void 0&&x<h||d!==void 0&&x>d,N=x=>h===void 0?d:d===void 0||Math.abs(h-x)<Math.abs(d-x)?h:d;let M=n*e;const I=v+M,V=u===void 0?I:u(I);V!==I&&(M=V-v);const U=x=>-M*Math.exp(-x/s),F=x=>V+U(x),ee=x=>{const D=U(x),j=F(x);T.done=Math.abs(D)<=p,T.value=T.done?V:j};let te,Z;const R=x=>{S(T.value)&&(te=x,Z=ad({keyframes:[T.value,N(T.value)],velocity:L1(F,x,T.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return R(0),{calculatedDuration:null,next:x=>{let D=!1;return!Z&&te===void 0&&(D=!0,ee(x),R(x)),te!==void 0&&x>=te?Z.next(x-te):(!D&&ee(x),T)}}}function HP(t,e,n){const s=[],a=n||Qs.mix||V1,l=t.length-1;for(let u=0;u<l;u++){let h=a(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||yi:e;h=Pc(d,h)}s.push(h)}return s}function qP(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(dv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=HP(e,s,a),d=h.length,p=y=>{if(u&&y<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const T=dc(t[v],t[v+1],y);return h[v](T)};return n?y=>p(Ws(t[0],t[l-1],y)):p}function YP(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=dc(0,e,s);t.push(gt(n,1,a))}}function GP(t){const e=[0];return YP(e,t.length-1),e}function KP(t,e){return t.map(n=>n*e)}function XP(t,e){return t.map(()=>e||A1).splice(0,t.length-1)}function nc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=rP(s)?s.map(kw):kw(s),l={done:!1,value:e[0]},u=KP(n&&n.length===e.length?n:GP(e),t),h=qP(u,e,{ease:Array.isArray(a)?a:XP(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const $P=t=>t!==null;function Sv(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter($P),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||s===void 0?l[h]:s}const WP={decay:ry,inertia:ry,tween:nc,keyframes:nc,spring:ad};function j1(t){typeof t.type=="string"&&(t.type=WP[t.type])}class Av{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const QP=t=>t/100;class xv extends Av{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Pn.now()&&this.tick(Pn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;j1(e);const{type:n=nc,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:h}=e;const d=n||nc;d!==nc&&typeof h[0]!="number"&&(this.mixKeyframes=Pc(QP,V1(h[0],h[1])),h=[0,100]);const p=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Ev(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:T,repeatDelay:S,type:N,onUpdate:M,finalKeyframe:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const V=this.currentTime-p*(this.playbackSpeed>=0?1:-1),U=this.playbackSpeed>=0?V<0:V>a;this.currentTime=Math.max(V,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,ee=s;if(v){const x=Math.min(this.currentTime,a)/h;let D=Math.floor(x),j=x%1;!j&&x>=1&&(j=1),j===1&&D--,D=Math.min(D,v+1),!!(D%2)&&(T==="reverse"?(j=1-j,S&&(j-=S/h)):T==="mirror"&&(ee=u)),F=Ws(0,1,j)*h}const te=U?{done:!1,value:y[0]}:ee.next(F);l&&(te.value=l(te.value));let{done:Z}=te;!U&&d!==null&&(Z=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Z);return R&&N!==ry&&(te.value=Sv(y,this.options,I,this.speed)),M&&M(te.value),R&&this.finish(),te}then(e,n){return this.finished.then(e,n)}get duration(){return mi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+mi(e)}get time(){return mi(this.currentTime)}set time(e){e=cs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Pn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=mi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=OP,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function ZP(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ka=t=>t*180/Math.PI,ay=t=>{const e=Ka(Math.atan2(t[1],t[0]));return oy(e)},JP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ay,rotateZ:ay,skewX:t=>Ka(Math.atan(t[1])),skewY:t=>Ka(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},oy=t=>(t=t%360,t<0&&(t+=360),t),Fw=ay,Hw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),qw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),eO={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Hw,scaleY:qw,scale:t=>(Hw(t)+qw(t))/2,rotateX:t=>oy(Ka(Math.atan2(t[6],t[5]))),rotateY:t=>oy(Ka(Math.atan2(-t[2],t[0]))),rotateZ:Fw,rotate:Fw,skewX:t=>Ka(Math.atan(t[4])),skewY:t=>Ka(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ly(t){return t.includes("scale")?1:0}function uy(t,e){if(!t||t==="none")return ly(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=eO,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=JP,a=h}if(!a)return ly(e);const l=s[e],u=a[1].split(",").map(nO);return typeof l=="function"?l(u):u[l]}const tO=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return uy(n,e)};function nO(t){return parseFloat(t.trim())}const Pl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ol=new Set(Pl),Yw=t=>t===Ml||t===Ae,iO=new Set(["x","y","z"]),sO=Pl.filter(t=>!iO.has(t));function rO(t){const e=[];return sO.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Wa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>uy(e,"x"),y:(t,{transform:e})=>uy(e,"y")};Wa.translateX=Wa.x;Wa.translateY=Wa.y;const Qa=new Set;let cy=!1,hy=!1,fy=!1;function U1(){if(hy){const t=Array.from(Qa).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=rO(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}hy=!1,cy=!1,Qa.forEach(t=>t.complete(fy)),Qa.clear()}function z1(){Qa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(hy=!0)})}function aO(){fy=!0,z1(),U1(),fy=!1}class Cv{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Qa.add(this),cy||(cy=!0,dt.read(z1),dt.resolveKeyframes(U1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const h=s.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}ZP(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Qa.delete(this)}cancel(){this.state==="scheduled"&&(Qa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const oO=t=>t.startsWith("--");function lO(t,e,n){oO(e)?t.style.setProperty(e,n):t.style[e]=n}const uO=mv(()=>window.ScrollTimeline!==void 0),cO={};function hO(t,e){const n=mv(t);return()=>cO[e]??n()}const B1=hO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xu=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Gw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xu([0,.65,.55,1]),circOut:Xu([.55,0,1,.45]),backIn:Xu([.31,.01,.66,-.59]),backOut:Xu([.33,1.53,.69,.99])};function F1(t,e){if(t)return typeof t=="function"?B1()?k1(t,e):"ease-out":x1(t)?Xu(t):Array.isArray(t)?t.map(n=>F1(n,e)||Gw.easeOut):Gw[t]}function fO(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:d}={},p=void 0){const y={[e]:n};d&&(y.offset=d);const v=F1(h,a);Array.isArray(v)&&(y.easing=v);const T={delay:s,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(T.pseudoElement=p),t.animate(y,T)}function H1(t){return typeof t=="function"&&"applyToOptions"in t}function dO({type:t,...e}){return H1(t)&&B1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class mO extends Av{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,dv(typeof e.type!="string");const p=dO(e);this.animation=fO(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Sv(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):lO(n,s,y),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return mi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+mi(e)}get time(){return mi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=cs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&uO()?(this.animation.timeline=e,yi):n(this)}}const q1={anticipate:w1,backInOut:b1,circInOut:S1};function pO(t){return t in q1}function gO(t){typeof t.ease=="string"&&pO(t.ease)&&(t.ease=q1[t.ease])}const Kw=10;class yO extends mO{constructor(e){gO(e),j1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new xv({...u,autoplay:!1}),d=cs(this.finishedTime??this.time);n.setWithVelocity(h.sample(d-Kw).value,h.sample(d).value,Kw),h.stop()}}const Xw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Zr.test(t)||t==="0")&&!t.startsWith("url("));function vO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function _O(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=Xw(a,e),h=Xw(l,e);return!u||!h?!1:vO(t)||(n==="spring"||H1(n))&&s}function dy(t){t.duration=0,t.type="keyframes"}const TO=new Set(["opacity","clipPath","filter","transform"]),bO=mv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function wO(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return bO()&&n&&TO.has(n)&&(n!=="transform"||!p)&&!d&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const EO=40;class SO extends Av{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:d,motionValue:p,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Pn.now();const T={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:d,motionValue:p,element:y,...v},S=y?.KeyframeResolver||Cv;this.keyframeResolver=new S(h,(N,M,I)=>this.onKeyframesResolved(N,M,T,!I),d,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:d,isHandoff:p,onUpdate:y}=s;this.resolvedAt=Pn.now(),_O(e,l,u,h)||((Qs.instantAnimations||!d)&&y?.(Sv(e,s,n)),e[0]=e[e.length-1],dy(s),s.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>EO?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},S=!p&&wO(T)?new yO({...T,element:T.motionValue.owner.current}):new xv(T);S.finished.then(()=>this.notifyFinished()).catch(yi),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),aO()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const AO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xO(t){const e=AO.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function Y1(t,e,n=1){const[s,a]=xO(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return d1(u)?parseFloat(u):u}return _v(a)?Y1(a,e,n+1):a}function Rv(t,e){return t?.[e]??t?.default??t}const G1=new Set(["width","height","top","left","right","bottom",...Pl]),CO={test:t=>t==="auto",parse:t=>t},K1=t=>e=>e.test(t),X1=[Ml,Ae,hs,kr,vP,yP,CO],$w=t=>X1.find(K1(t));function RO(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||p1(t):!0}const NO=new Set(["brightness","contrast","saturate","opacity"]);function DO(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Tv)||[];if(!s)return t;const a=n.replace(s,"");let l=NO.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const IO=/\b([a-z-]*)\(.*?\)/gu,my={...Zr,getAnimatableNone:t=>{const e=t.match(IO);return e?e.map(DO).join(" "):t}},Ww={...Ml,transform:Math.round},MO={rotate:kr,rotateX:kr,rotateY:kr,rotateZ:kr,scale:Rf,scaleX:Rf,scaleY:Rf,scaleZ:Rf,skew:kr,skewX:kr,skewY:kr,distance:Ae,translateX:Ae,translateY:Ae,translateZ:Ae,x:Ae,y:Ae,z:Ae,perspective:Ae,transformPerspective:Ae,opacity:mc,originX:Lw,originY:Lw,originZ:Ae},Nv={borderWidth:Ae,borderTopWidth:Ae,borderRightWidth:Ae,borderBottomWidth:Ae,borderLeftWidth:Ae,borderRadius:Ae,radius:Ae,borderTopLeftRadius:Ae,borderTopRightRadius:Ae,borderBottomRightRadius:Ae,borderBottomLeftRadius:Ae,width:Ae,maxWidth:Ae,height:Ae,maxHeight:Ae,top:Ae,right:Ae,bottom:Ae,left:Ae,padding:Ae,paddingTop:Ae,paddingRight:Ae,paddingBottom:Ae,paddingLeft:Ae,margin:Ae,marginTop:Ae,marginRight:Ae,marginBottom:Ae,marginLeft:Ae,backgroundPositionX:Ae,backgroundPositionY:Ae,...MO,zIndex:Ww,fillOpacity:mc,strokeOpacity:mc,numOctaves:Ww},PO={...Nv,color:Ht,backgroundColor:Ht,outlineColor:Ht,fill:Ht,stroke:Ht,borderColor:Ht,borderTopColor:Ht,borderRightColor:Ht,borderBottomColor:Ht,borderLeftColor:Ht,filter:my,WebkitFilter:my},$1=t=>PO[t];function W1(t,e){let n=$1(t);return n!==my&&(n=Zr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const OO=new Set(["auto","none","0"]);function VO(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!OO.has(l)&&pc(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=W1(n,a)}class kO extends Cv{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),_v(p))){const y=Y1(p,n.current);y!==void 0&&(e[d]=y),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!G1.has(s)||e.length!==2)return;const[a,l]=e,u=$w(a),h=$w(l);if(u!==h)if(Yw(u)&&Yw(h))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else Wa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||RO(e[a]))&&s.push(a);s.length&&VO(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wa[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Wa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function LO(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const Q1=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Z1(t){return m1(t)&&"offsetHeight"in t}const Qw=30,jO=t=>!isNaN(parseFloat(t));class UO{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Pn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Pn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=jO(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new pv);const s=this.events[e].add(n);return e==="change"?()=>{s(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Pn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Qw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Qw);return g1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function El(t,e){return new UO(t,e)}const{schedule:Dv}=C1(queueMicrotask,!1),Vi={x:!1,y:!1};function J1(){return Vi.x||Vi.y}function zO(t){return t==="x"||t==="y"?Vi[t]?null:(Vi[t]=!0,()=>{Vi[t]=!1}):Vi.x||Vi.y?null:(Vi.x=Vi.y=!0,()=>{Vi.x=Vi.y=!1})}function ex(t,e){const n=LO(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function Zw(t){return!(t.pointerType==="touch"||J1())}function BO(t,e,n={}){const[s,a,l]=ex(t,n),u=h=>{if(!Zw(h))return;const{target:d}=h,p=e(d,h);if(typeof p!="function"||!d)return;const y=v=>{Zw(v)&&(p(v),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,a)};return s.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const tx=(t,e)=>e?t===e?!0:tx(t,e.parentElement):!1,Iv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,FO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function HO(t){return FO.has(t.tagName)||t.tabIndex!==-1}const Ff=new WeakSet;function Jw(t){return e=>{e.key==="Enter"&&t(e)}}function Ag(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const qO=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Jw(()=>{if(Ff.has(n))return;Ag(n,"down");const a=Jw(()=>{Ag(n,"up")}),l=()=>Ag(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function eE(t){return Iv(t)&&!J1()}function YO(t,e,n={}){const[s,a,l]=ex(t,n),u=h=>{const d=h.currentTarget;if(!eE(h))return;Ff.add(d);const p=e(d,h),y=(S,N)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",T),Ff.has(d)&&Ff.delete(d),eE(S)&&typeof p=="function"&&p(S,{success:N})},v=S=>{y(S,d===window||d===document||n.useGlobalTarget||tx(d,S.target))},T=S=>{y(S,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",T,a)};return s.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),Z1(h)&&(h.addEventListener("focus",p=>qO(p,a)),!HO(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function nx(t){return m1(t)&&"ownerSVGElement"in t}function GO(t){return nx(t)&&t.tagName==="svg"}const gn=t=>!!(t&&t.getVelocity),KO=[...X1,Ht,Zr],XO=t=>KO.find(K1(t)),Mv=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function tE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function $O(...t){return e=>{let n=!1;const s=t.map(a=>{const l=tE(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():tE(t[a],null)}}}}function WO(...t){return O.useCallback($O(...t),t)}class QO extends O.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=Z1(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ZO({children:t,isPresent:e,anchorX:n,root:s}){const a=O.useId(),l=O.useRef(null),u=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=O.useContext(Mv),d=WO(l,t?.ref);return O.useInsertionEffect(()=>{const{width:p,height:y,top:v,left:T,right:S}=u.current;if(e||!l.current||!p||!y)return;const N=n==="left"?`left: ${T}`:`right: ${S}`;l.current.dataset.motionPopId=a;const M=document.createElement("style");h&&(M.nonce=h);const I=s??document.head;return I.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${N}px !important;
            top: ${v}px !important;
          }
        `),()=>{I.contains(M)&&I.removeChild(M)}},[e]),w.jsx(QO,{isPresent:e,childRef:l,sizeRef:u,children:O.cloneElement(t,{ref:d})})}const JO=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h,root:d})=>{const p=uv(eV),y=O.useId();let v=!0,T=O.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:S=>{p.set(S,!0);for(const N of p.values())if(!N)return;s&&s()},register:S=>(p.set(S,!1),()=>p.delete(S))}),[n,p,s]);return l&&v&&(T={...T}),O.useMemo(()=>{p.forEach((S,N)=>p.set(N,!1))},[n]),O.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),u==="popLayout"&&(t=w.jsx(ZO,{isPresent:n,anchorX:h,root:d,children:t})),w.jsx(Ld.Provider,{value:T,children:t})};function eV(){return new Map}function ix(t=!0){const e=O.useContext(Ld);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=O.useId();O.useEffect(()=>{if(t)return a(l)},[t]);const u=O.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const Nf=t=>t.key||"";function nE(t){const e=[];return O.Children.forEach(t,n=>{O.isValidElement(n)&&e.push(n)}),e}const Br=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",root:d})=>{const[p,y]=ix(u),v=O.useMemo(()=>nE(t),[t]),T=u&&!p?[]:v.map(Nf),S=O.useRef(!0),N=O.useRef(v),M=uv(()=>new Map),[I,V]=O.useState(v),[U,F]=O.useState(v);f1(()=>{S.current=!1,N.current=v;for(let Z=0;Z<U.length;Z++){const R=Nf(U[Z]);T.includes(R)?M.delete(R):M.get(R)!==!0&&M.set(R,!1)}},[U,T.length,T.join("-")]);const ee=[];if(v!==I){let Z=[...v];for(let R=0;R<U.length;R++){const x=U[R],D=Nf(x);T.includes(D)||(Z.splice(R,0,x),ee.push(x))}return l==="wait"&&ee.length&&(Z=ee),F(nE(Z)),V(v),null}const{forceRender:te}=O.useContext(lv);return w.jsx(w.Fragment,{children:U.map(Z=>{const R=Nf(Z),x=u&&!p?!1:v===U||T.includes(R),D=()=>{if(M.has(R))M.set(R,!0);else return;let j=!0;M.forEach(L=>{L||(j=!1)}),j&&(te?.(),F(N.current),u&&y?.(),s&&s())};return w.jsx(JO,{isPresent:x,initial:!S.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:x?void 0:D,anchorX:h,children:Z},R)})})},sx=O.createContext({strict:!1}),iE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Sl={};for(const t in iE)Sl[t]={isEnabled:e=>iE[t].some(n=>!!e[n])};function tV(t){for(const e in t)Sl[e]={...Sl[e],...t[e]}}const nV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function od(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||nV.has(t)}let rx=t=>!od(t);function iV(t){typeof t=="function"&&(rx=e=>e.startsWith("on")?!od(e):t(e))}try{iV(require("@emotion/is-prop-valid").default)}catch{}function sV(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(rx(a)||n===!0&&od(a)||!e&&!od(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const jd=O.createContext({});function Ud(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function gc(t){return typeof t=="string"||Array.isArray(t)}const Pv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ov=["initial",...Pv];function zd(t){return Ud(t.animate)||Ov.some(e=>gc(t[e]))}function ax(t){return!!(zd(t)||t.variants)}function rV(t,e){if(zd(t)){const{initial:n,animate:s}=t;return{initial:n===!1||gc(n)?n:void 0,animate:gc(s)?s:void 0}}return t.inherit!==!1?e:{}}function aV(t){const{initial:e,animate:n}=rV(t,O.useContext(jd));return O.useMemo(()=>({initial:e,animate:n}),[sE(e),sE(n)])}function sE(t){return Array.isArray(t)?t.join(" "):t}const yc={};function oV(t){for(const e in t)yc[e]=t[e],vv(e)&&(yc[e].isCSSVariable=!0)}function ox(t,{layout:e,layoutId:n}){return Ol.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!yc[t]||t==="opacity")}const lV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uV=Pl.length;function cV(t,e,n){let s="",a=!0;for(let l=0;l<uV;l++){const u=Pl[l],h=t[u];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(u.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const p=Q1(h,Nv[u]);if(!d){a=!1;const y=lV[u]||u;s+=`${y}(${p}) `}n&&(e[u]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function Vv(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,h=!1;for(const d in e){const p=e[d];if(Ol.has(d)){u=!0;continue}else if(vv(d)){a[d]=p;continue}else{const y=Q1(p,Nv[d]);d.startsWith("origin")?(h=!0,l[d]=y):s[d]=y}}if(e.transform||(u||n?s.transform=cV(e,t.transform,n):s.transform&&(s.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${d} ${p} ${y}`}}const kv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lx(t,e,n){for(const s in e)!gn(e[s])&&!ox(s,n)&&(t[s]=e[s])}function hV({transformTemplate:t},e){return O.useMemo(()=>{const n=kv();return Vv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function fV(t,e){const n=t.style||{},s={};return lx(s,n,t),Object.assign(s,hV(t,e)),s}function dV(t,e){const n={},s=fV(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const mV={offset:"stroke-dashoffset",array:"stroke-dasharray"},pV={offset:"strokeDashoffset",array:"strokeDasharray"};function gV(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?mV:pV;t[l.offset]=Ae.transform(-s);const u=Ae.transform(e),h=Ae.transform(n);t[l.array]=`${u} ${h}`}function ux(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},d,p,y){if(Vv(t,h,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:T}=t;v.transform&&(T.transform=v.transform,delete v.transform),(T.transform||v.transformOrigin)&&(T.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),T.transform&&(T.transformBox=y?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),a!==void 0&&gV(v,a,l,u,!1)}const cx=()=>({...kv(),attrs:{}}),hx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function yV(t,e,n,s){const a=O.useMemo(()=>{const l=cx();return ux(l,e,hx(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};lx(l,t.style,t),a.style={...l,...a.style}}return a}const vV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Lv(t){return typeof t!="string"||t.includes("-")?!1:!!(vV.indexOf(t)>-1||/[A-Z]/u.test(t))}function _V(t,e,n,{latestValues:s},a,l=!1){const h=(Lv(t)?yV:dV)(e,s,a,t),d=sV(e,typeof t=="string",l),p=t!==O.Fragment?{...d,...h,ref:n}:{},{children:y}=e,v=O.useMemo(()=>gn(y)?y.get():y,[y]);return O.createElement(t,{...p,children:v})}function rE(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function jv(t,e,n,s){if(typeof e=="function"){const[a,l]=rE(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=rE(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Hf(t){return gn(t)?t.get():t}function TV({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:bV(n,s,a,t),renderState:e()}}function bV(t,e,n,s){const a={},l=s(t,{});for(const T in l)a[T]=Hf(l[T]);let{initial:u,animate:h}=t;const d=zd(t),p=ax(t);e&&p&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const v=y?h:u;if(v&&typeof v!="boolean"&&!Ud(v)){const T=Array.isArray(v)?v:[v];for(let S=0;S<T.length;S++){const N=jv(t,T[S]);if(N){const{transitionEnd:M,transition:I,...V}=N;for(const U in V){let F=V[U];if(Array.isArray(F)){const ee=y?F.length-1:0;F=F[ee]}F!==null&&(a[U]=F)}for(const U in M)a[U]=M[U]}}}return a}const fx=t=>(e,n)=>{const s=O.useContext(jd),a=O.useContext(Ld),l=()=>TV(t,e,s,a);return n?l():uv(l)};function Uv(t,e,n){const{style:s}=t,a={};for(const l in s)(gn(s[l])||e.style&&gn(e.style[l])||ox(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const wV=fx({scrapeMotionValuesFromProps:Uv,createRenderState:kv});function dx(t,e,n){const s=Uv(t,e,n);for(const a in t)if(gn(t[a])||gn(e[a])){const l=Pl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const EV=fx({scrapeMotionValuesFromProps:dx,createRenderState:cx}),SV=Symbol.for("motionComponentSymbol");function hl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function AV(t,e,n){return O.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):hl(n)&&(n.current=s))},[e])}const zv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xV="framerAppearId",mx="data-"+zv(xV),px=O.createContext({});function CV(t,e,n,s,a){const{visualElement:l}=O.useContext(jd),u=O.useContext(sx),h=O.useContext(Ld),d=O.useContext(Mv).reducedMotion,p=O.useRef(null);s=s||u.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const y=p.current,v=O.useContext(px);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&RV(p.current,n,a,v);const T=O.useRef(!1);O.useInsertionEffect(()=>{y&&T.current&&y.update(n,h)});const S=n[mx],N=O.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return f1(()=>{y&&(T.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),N.current&&y.animationState&&y.animationState.animateChanges())}),O.useEffect(()=>{y&&(!N.current&&y.animationState&&y.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),N.current=!1),y.enteringChildren=void 0)}),y}function RV(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:gx(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&hl(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:d,layoutRoot:p})}function gx(t){if(t)return t.options.allowProjection!==!1?t.projection:gx(t.parent)}function xg(t,{forwardMotionProps:e=!1}={},n,s){n&&tV(n);const a=Lv(t)?EV:wV;function l(h,d){let p;const y={...O.useContext(Mv),...h,layoutId:NV(h)},{isStatic:v}=y,T=aV(h),S=a(h,v);if(!v&&cv){DV();const N=IV(y);p=N.MeasureLayout,T.visualElement=CV(t,S,y,s,N.ProjectionNode)}return w.jsxs(jd.Provider,{value:T,children:[p&&T.visualElement?w.jsx(p,{visualElement:T.visualElement,...y}):null,_V(t,h,AV(S,T.visualElement,d),S,v,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=O.forwardRef(l);return u[SV]=t,u}function NV({layoutId:t}){const e=O.useContext(lv).id;return e&&t!==void 0?e+"-"+t:t}function DV(t,e){O.useContext(sx).strict}function IV(t){const{drag:e,layout:n}=Sl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function MV(t,e){if(typeof Proxy>"u")return xg;const n=new Map,s=(l,u)=>xg(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,xg(u,void 0,t,e)),n.get(u))})}function yx({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function PV({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function OV(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Cg(t){return t===void 0||t===1}function py({scale:t,scaleX:e,scaleY:n}){return!Cg(t)||!Cg(e)||!Cg(n)}function qa(t){return py(t)||vx(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function vx(t){return aE(t.x)||aE(t.y)}function aE(t){return t&&t!=="0%"}function ld(t,e,n){const s=t-n,a=e*s;return n+a}function oE(t,e,n,s,a){return a!==void 0&&(t=ld(t,a,s)),ld(t,n,s)+e}function gy(t,e=0,n=1,s,a){t.min=oE(t.min,e,n,s,a),t.max=oE(t.max,e,n,s,a)}function _x(t,{x:e,y:n}){gy(t.x,e.translate,e.scale,e.originPoint),gy(t.y,n.translate,n.scale,n.originPoint)}const lE=.999999999999,uE=1.0000000000001;function VV(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let h=0;h<a;h++){l=n[h],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&dl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,_x(t,u)),s&&qa(l.latestValues)&&dl(t,l.latestValues))}e.x<uE&&e.x>lE&&(e.x=1),e.y<uE&&e.y>lE&&(e.y=1)}function fl(t,e){t.min=t.min+e,t.max=t.max+e}function cE(t,e,n,s,a=.5){const l=gt(t.min,t.max,a);gy(t,e,n,l,s)}function dl(t,e){cE(t.x,e.x,e.scaleX,e.scale,e.originX),cE(t.y,e.y,e.scaleY,e.scale,e.originY)}function Tx(t,e){return yx(OV(t.getBoundingClientRect(),e))}function kV(t,e,n){const s=Tx(t,n),{scroll:a}=e;return a&&(fl(s.x,a.offset.x),fl(s.y,a.offset.y)),s}const hE=()=>({translate:0,scale:1,origin:0,originPoint:0}),ml=()=>({x:hE(),y:hE()}),fE=()=>({min:0,max:0}),Dt=()=>({x:fE(),y:fE()}),yy={current:null},bx={current:!1};function LV(){if(bx.current=!0,!!cv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>yy.current=t.matches;t.addEventListener("change",e),e()}else yy.current=!1}const jV=new WeakMap;function UV(t,e,n){for(const s in e){const a=e[s],l=n[s];if(gn(a))t.addValue(s,a);else if(gn(l))t.addValue(s,El(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,El(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const dE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zV{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Cv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Pn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,dt.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=zd(n),this.isVariantNode=ax(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in v){const S=v[T];d[T]!==void 0&&gn(S)&&S.set(d[T])}}mount(e){this.current=e,jV.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),bx.current||LV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Qr(this.notifyUpdate),Qr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ol.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&dt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Sl){const n=Sl[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<dE.length;s++){const a=dE[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=UV(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=El(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(d1(s)||p1(s))?s=parseFloat(s):!XO(s)&&Zr.test(n)&&(s=W1(e,n)),this.setBaseTarget(e,gn(s)?s.get():s)),gn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=jv(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!gn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new pv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Dv.render(this.render)}}class wx extends zV{constructor(){super(...arguments),this.KeyframeResolver=kO}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Ex(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function BV(t){return window.getComputedStyle(t)}class FV extends wx{constructor(){super(...arguments),this.type="html",this.renderInstance=Ex}readValueFromInstance(e,n){if(Ol.has(n))return this.projection?.isProjecting?ly(n):tO(e,n);{const s=BV(e),a=(vv(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Tx(e,n)}build(e,n,s){Vv(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Uv(e,n,s)}}const Sx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function HV(t,e,n,s){Ex(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(Sx.has(a)?a:zv(a),e.attrs[a])}class qV extends wx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Dt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ol.has(n)){const s=$1(n);return s&&s.default||0}return n=Sx.has(n)?n:zv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return dx(e,n,s)}build(e,n,s){ux(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){HV(e,n,s,a)}mount(e){this.isSVGTag=hx(e.tagName),super.mount(e)}}const YV=(t,e)=>Lv(t)?new qV(e):new FV(e,{allowProjection:t!==O.Fragment});function gl(t,e,n){const s=t.getProps();return jv(s,e,n!==void 0?n:s.custom,t)}const vy=t=>Array.isArray(t);function GV(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,El(n))}function KV(t){return vy(t)?t[t.length-1]||0:t}function XV(t,e){const n=gl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const h=KV(l[u]);GV(t,u,h)}}function $V(t){return!!(gn(t)&&t.add)}function _y(t,e){const n=t.getValue("willChange");if($V(n))return n.add(e);if(!n&&Qs.WillChange){const s=new Qs.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function Ax(t){return t.props[mx]}const WV=t=>t!==null;function QV(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(WV),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const ZV={type:"spring",stiffness:500,damping:25,restSpeed:10},JV=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ek={type:"keyframes",duration:.8},tk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nk=(t,{keyframes:e})=>e.length>2?ek:Ol.has(t)?t.startsWith("scale")?JV(e[1]):ZV:tk;function ik({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:d,elapsed:p,...y}){return!!Object.keys(y).length}const Bv=(t,e,n,s={},a,l)=>u=>{const h=Rv(s,t)||{},d=h.delay||s.delay||0;let{elapsed:p=0}=s;p=p-cs(d);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:T=>{e.set(T),h.onUpdate&&h.onUpdate(T)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};ik(h)||Object.assign(y,nk(t,y)),y.duration&&(y.duration=cs(y.duration)),y.repeatDelay&&(y.repeatDelay=cs(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(dy(y),y.delay===0&&(v=!0)),(Qs.instantAnimations||Qs.skipAnimations)&&(v=!0,dy(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const T=QV(y.keyframes,h);if(T!==void 0){dt.update(()=>{y.onUpdate(T),y.onComplete()});return}}return h.isSync?new xv(y):new SO(y)};function sk({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function xx(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;s&&(l=s);const d=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in h){const v=t.getValue(y,t.latestValues[y]??null),T=h[y];if(T===void 0||p&&sk(p,y))continue;const S={delay:n,...Rv(l||{},y)},N=v.get();if(N!==void 0&&!v.isAnimating&&!Array.isArray(T)&&T===N&&!S.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const V=Ax(t);if(V){const U=window.MotionHandoffAnimation(V,y,dt);U!==null&&(S.startTime=U,M=!0)}}_y(t,y),v.start(Bv(y,v,T,t.shouldReduceMotion&&G1.has(y)?{type:!1}:S,t,M));const I=v.animation;I&&d.push(I)}return u&&Promise.all(d).then(()=>{dt.update(()=>{u&&XV(t,u)})}),d}function Cx(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),u=t.size,h=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:h-l*s}function Ty(t,e,n={}){const s=gl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(xx(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=a;return rk(t,e,d,p,y,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,p]=h==="beforeChildren"?[l,u]:[u,l];return d().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function rk(t,e,n=0,s=0,a=0,l=1,u){const h=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),h.push(Ty(d,e,{...u,delay:n+(typeof s=="function"?0:s)+Cx(t.variantChildren,d,s,a,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function ak(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Ty(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Ty(t,e,n);else{const a=typeof e=="function"?gl(t,e,n.custom):e;s=Promise.all(xx(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function Rx(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const ok=Ov.length;function Nx(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Nx(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<ok;n++){const s=Ov[n],a=t.props[s];(gc(a)||a===!1)&&(e[s]=a)}return e}const lk=[...Pv].reverse(),uk=Pv.length;function ck(t){return e=>Promise.all(e.map(({animation:n,options:s})=>ak(t,n,s)))}function hk(t){let e=ck(t),n=mE(),s=!0;const a=d=>(p,y)=>{const v=gl(t,y,d==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:T,transitionEnd:S,...N}=v;p={...p,...N,...S}}return p};function l(d){e=d(t)}function u(d){const{props:p}=t,y=Nx(t.parent)||{},v=[],T=new Set;let S={},N=1/0;for(let I=0;I<uk;I++){const V=lk[I],U=n[V],F=p[V]!==void 0?p[V]:y[V],ee=gc(F),te=V===d?U.isActive:null;te===!1&&(N=I);let Z=F===y[V]&&F!==p[V]&&ee;if(Z&&s&&t.manuallyAnimateOnMount&&(Z=!1),U.protectedKeys={...S},!U.isActive&&te===null||!F&&!U.prevProp||Ud(F)||typeof F=="boolean")continue;const R=fk(U.prevProp,F);let x=R||V===d&&U.isActive&&!Z&&ee||I>N&&ee,D=!1;const j=Array.isArray(F)?F:[F];let L=j.reduce(a(V),{});te===!1&&(L={});const{prevResolvedValues:H={}}=U,P={...H,...L},Fe=le=>{x=!0,T.has(le)&&(D=!0,T.delete(le)),U.needsAnimating[le]=!0;const de=t.getValue(le);de&&(de.liveStyle=!1)};for(const le in P){const de=L[le],xe=H[le];if(S.hasOwnProperty(le))continue;let Oe=!1;vy(de)&&vy(xe)?Oe=!Rx(de,xe):Oe=de!==xe,Oe?de!=null?Fe(le):T.add(le):de!==void 0&&T.has(le)?Fe(le):U.protectedKeys[le]=!0}U.prevProp=F,U.prevResolvedValues=L,U.isActive&&(S={...S,...L}),s&&t.blockInitialAnimation&&(x=!1);const We=Z&&R;x&&(!We||D)&&v.push(...j.map(le=>{const de={type:V};if(typeof le=="string"&&s&&!We&&t.manuallyAnimateOnMount&&t.parent){const{parent:xe}=t,Oe=gl(xe,le);if(xe.enteringChildren&&Oe){const{delayChildren:z}=Oe.transition||{};de.delay=Cx(xe.enteringChildren,t,z)}}return{animation:le,options:de}}))}if(T.size){const I={};if(typeof p.initial!="boolean"){const V=gl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);V&&V.transition&&(I.transition=V.transition)}T.forEach(V=>{const U=t.getBaseTarget(V),F=t.getValue(V);F&&(F.liveStyle=!0),I[V]=U??null}),v.push({animation:I})}let M=!!v.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(M=!1),s=!1,M?e(v):Promise.resolve()}function h(d,p){if(n[d].isActive===p)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(d,p)),n[d].isActive=p;const y=u(d);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=mE()}}}function fk(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Rx(e,t):!1}function Ha(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mE(){return{animate:Ha(!0),whileInView:Ha(),whileHover:Ha(),whileTap:Ha(),whileDrag:Ha(),whileFocus:Ha(),exit:Ha()}}class oa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class dk extends oa{constructor(e){super(e),e.animationState||(e.animationState=hk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ud(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let mk=0;class pk extends oa{constructor(){super(...arguments),this.id=mk++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const gk={animation:{Feature:dk},exit:{Feature:pk}};function vc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function kc(t){return{point:{x:t.pageX,y:t.pageY}}}const yk=t=>e=>Iv(e)&&t(e,kc(e));function ic(t,e,n,s){return vc(t,e,yk(n),s)}const Dx=1e-4,vk=1-Dx,_k=1+Dx,Ix=.01,Tk=0-Ix,bk=0+Ix;function bn(t){return t.max-t.min}function wk(t,e,n){return Math.abs(t-e)<=n}function pE(t,e,n,s=.5){t.origin=s,t.originPoint=gt(e.min,e.max,t.origin),t.scale=bn(n)/bn(e),t.translate=gt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=vk&&t.scale<=_k||isNaN(t.scale))&&(t.scale=1),(t.translate>=Tk&&t.translate<=bk||isNaN(t.translate))&&(t.translate=0)}function sc(t,e,n,s){pE(t.x,e.x,n.x,s?s.originX:void 0),pE(t.y,e.y,n.y,s?s.originY:void 0)}function gE(t,e,n){t.min=n.min+e.min,t.max=t.min+bn(e)}function Ek(t,e,n){gE(t.x,e.x,n.x),gE(t.y,e.y,n.y)}function yE(t,e,n){t.min=e.min-n.min,t.max=t.min+bn(e)}function rc(t,e,n){yE(t.x,e.x,n.x),yE(t.y,e.y,n.y)}function ci(t){return[t("x"),t("y")]}const Mx=({current:t})=>t?t.ownerDocument.defaultView:null,vE=(t,e)=>Math.abs(t-e);function Sk(t,e){const n=vE(t.x,e.x),s=vE(t.y,e.y);return Math.sqrt(n**2+s**2)}class Px{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Ng(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,N=Sk(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!N)return;const{point:M}=T,{timestamp:I}=ln;this.history.push({...M,timestamp:I});const{onStart:V,onMove:U}=this.handlers;S||(V&&V(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,T)},this.handlePointerMove=(T,S)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=Rg(S,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(T,S)=>{this.end();const{onEnd:N,onSessionEnd:M,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const V=Ng(T.type==="pointercancel"?this.lastMoveEventInfo:Rg(S,this.transformPagePoint),this.history);this.startEvent&&N&&N(T,V),M&&M(T,V)},!Iv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const h=kc(e),d=Rg(h,this.transformPagePoint),{point:p}=d,{timestamp:y}=ln;this.history=[{...p,timestamp:y}];const{onSessionStart:v}=n;v&&v(e,Ng(d,this.history)),this.removeListeners=Pc(ic(this.contextWindow,"pointermove",this.handlePointerMove),ic(this.contextWindow,"pointerup",this.handlePointerUp),ic(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Qr(this.updatePoint)}}function Rg(t,e){return e?{point:e(t.point)}:t}function _E(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ng({point:t},e){return{point:t,delta:_E(t,Ox(e)),offset:_E(t,Ak(e)),velocity:xk(e,.1)}}function Ak(t){return t[0]}function Ox(t){return t[t.length-1]}function xk(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=Ox(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>cs(e)));)n--;if(!s)return{x:0,y:0};const l=mi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Ck(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?gt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?gt(n,t,s.max):Math.min(t,n)),t}function TE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Rk(t,{top:e,left:n,bottom:s,right:a}){return{x:TE(t.x,n,a),y:TE(t.y,e,s)}}function bE(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function Nk(t,e){return{x:bE(t.x,e.x),y:bE(t.y,e.y)}}function Dk(t,e){let n=.5;const s=bn(t),a=bn(e);return a>s?n=dc(e.min,e.max-s,t.min):s>a&&(n=dc(t.min,t.max-a,e.min)),Ws(0,1,n)}function Ik(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const by=.35;function Mk(t=by){return t===!1?t=0:t===!0&&(t=by),{x:wE(t,"left","right"),y:wE(t,"top","bottom")}}function wE(t,e,n){return{min:EE(t,e),max:EE(t,n)}}function EE(t,e){return typeof t=="number"?t:t[e]||0}const Pk=new WeakMap;class Ok{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(kc(v).point)},u=(v,T)=>{const{drag:S,dragPropagation:N,onDragStart:M}=this.getProps();if(S&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zO(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ci(V=>{let U=this.getAxisMotionValue(V).get()||0;if(hs.test(U)){const{projection:F}=this.visualElement;if(F&&F.layout){const ee=F.layout.layoutBox[V];ee&&(U=bn(ee)*(parseFloat(U)/100))}}this.originPoint[V]=U}),M&&dt.postRender(()=>M(v,T)),_y(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},h=(v,T)=>{this.latestPointerEvent=v,this.latestPanInfo=T;const{dragPropagation:S,dragDirectionLock:N,onDirectionLock:M,onDrag:I}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:V}=T;if(N&&this.currentDirection===null){this.currentDirection=Vk(V),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",T.point,V),this.updateAxis("y",T.point,V),this.visualElement.render(),I&&I(v,T)},d=(v,T)=>{this.latestPointerEvent=v,this.latestPanInfo=T,this.stop(v,T),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ci(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new Px(e,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:Mx(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&dt.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Df(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=Ck(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&hl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=Rk(s.layoutBox,e):this.constraints=!1,this.elastic=Mk(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ci(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Ik(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!hl(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=kV(s,a.root,this.visualElement.getTransformPagePoint());let u=Nk(a.layout.layoutBox,l);if(n){const h=n(PV(u));this.hasMutatedConstraints=!!h,h&&(u=yx(h))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=ci(y=>{if(!Df(y,n,this.currentDirection))return;let v=d&&d[y]||{};u&&(v={min:0,max:0});const T=a?200:1e6,S=a?40:1e7,N={type:"inertia",velocity:s?e[y]:0,bounceStiffness:T,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,N)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return _y(this.visualElement,e),s.start(Bv(e,s,0,n,this.visualElement,!1))}stopAnimation(){ci(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ci(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){ci(n=>{const{drag:s}=this.getProps();if(!Df(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];l.set(e[n]-gt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!hl(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ci(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=Dk({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ci(u=>{if(!Df(u,e,null))return;const h=this.getAxisMotionValue(u),{min:d,max:p}=this.constraints[u];h.set(gt(d,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;Pk.set(this.visualElement,this);const e=this.visualElement.current,n=ic(e,"pointerdown",d=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();hl(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),dt.read(s);const u=vc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(ci(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=d[y].translate,v.set(v.get()+d[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=by,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function Df(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Vk(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class kk extends oa{constructor(e){super(e),this.removeGroupControls=yi,this.removeListeners=yi,this.controls=new Ok(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yi}unmount(){this.removeGroupControls(),this.removeListeners()}}const SE=t=>(e,n)=>{t&&dt.postRender(()=>t(e,n))};class Lk extends oa{constructor(){super(...arguments),this.removePointerDownListener=yi}onPointerDown(e){this.session=new Px(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Mx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:SE(e),onStart:SE(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&dt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=ic(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function AE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Gu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ae.test(t))t=parseFloat(t);else return t;const n=AE(t,e.target.x),s=AE(t,e.target.y);return`${n}% ${s}%`}},jk={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Zr.parse(t);if(a.length>5)return s;const l=Zr.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=d;const p=gt(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}};let Dg=!1;class Uk extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;oV(zk),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Dg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),qf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,Dg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||dt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Dv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Dg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Vx(t){const[e,n]=ix(),s=O.useContext(lv);return w.jsx(Uk,{...t,layoutGroup:s,switchLayoutGroup:O.useContext(px),isPresent:e,safeToRemove:n})}const zk={borderRadius:{...Gu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gu,borderTopRightRadius:Gu,borderBottomLeftRadius:Gu,borderBottomRightRadius:Gu,boxShadow:jk};function Bk(t,e,n){const s=gn(t)?t:El(t);return s.start(Bv("",s,e,n)),s.animation}const Fk=(t,e)=>t.depth-e.depth;class Hk{constructor(){this.children=[],this.isDirty=!1}add(e){hv(this.children,e),this.isDirty=!0}remove(e){fv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Fk),this.isDirty=!1,this.children.forEach(e)}}function qk(t,e){const n=Pn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Qr(s),t(l-e))};return dt.setup(s,!0),()=>Qr(s)}const kx=["TopLeft","TopRight","BottomLeft","BottomRight"],Yk=kx.length,xE=t=>typeof t=="string"?parseFloat(t):t,CE=t=>typeof t=="number"||Ae.test(t);function Gk(t,e,n,s,a,l){a?(t.opacity=gt(0,n.opacity??1,Kk(s)),t.opacityExit=gt(e.opacity??1,0,Xk(s))):l&&(t.opacity=gt(e.opacity??1,n.opacity??1,s));for(let u=0;u<Yk;u++){const h=`border${kx[u]}Radius`;let d=RE(e,h),p=RE(n,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||CE(d)===CE(p)?(t[h]=Math.max(gt(xE(d),xE(p),s),0),(hs.test(p)||hs.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=gt(e.rotate||0,n.rotate||0,s))}function RE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Kk=Lx(0,.5,E1),Xk=Lx(.5,.95,yi);function Lx(t,e,n){return s=>s<t?0:s>e?1:n(dc(t,e,s))}function NE(t,e){t.min=e.min,t.max=e.max}function ui(t,e){NE(t.x,e.x),NE(t.y,e.y)}function DE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function IE(t,e,n,s,a){return t-=e,t=ld(t,1/n,s),a!==void 0&&(t=ld(t,1/a,s)),t}function $k(t,e=0,n=1,s=.5,a,l=t,u=t){if(hs.test(e)&&(e=parseFloat(e),e=gt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=gt(l.min,l.max,s);t===l&&(h-=e),t.min=IE(t.min,e,n,h,a),t.max=IE(t.max,e,n,h,a)}function ME(t,e,[n,s,a],l,u){$k(t,e[n],e[s],e[a],e.scale,l,u)}const Wk=["x","scaleX","originX"],Qk=["y","scaleY","originY"];function PE(t,e,n,s){ME(t.x,e,Wk,n?n.x:void 0,s?s.x:void 0),ME(t.y,e,Qk,n?n.y:void 0,s?s.y:void 0)}function OE(t){return t.translate===0&&t.scale===1}function jx(t){return OE(t.x)&&OE(t.y)}function VE(t,e){return t.min===e.min&&t.max===e.max}function Zk(t,e){return VE(t.x,e.x)&&VE(t.y,e.y)}function kE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Ux(t,e){return kE(t.x,e.x)&&kE(t.y,e.y)}function LE(t){return bn(t.x)/bn(t.y)}function jE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Jk{constructor(){this.members=[]}add(e){hv(this.members,e),e.scheduleRender()}remove(e){if(fv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function e4(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:T,skewX:S,skewY:N}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),v&&(s+=`rotateX(${v}deg) `),T&&(s+=`rotateY(${T}deg) `),S&&(s+=`skewX(${S}deg) `),N&&(s+=`skewY(${N}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(s+=`scale(${h}, ${d})`),s||"none"}const Ig=["","X","Y","Z"],t4=1e3;let n4=0;function Mg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function zx(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Ax(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&zx(s)}function Bx({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},h=e?.()){this.id=n4++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(r4),this.nodes.forEach(u4),this.nodes.forEach(c4),this.nodes.forEach(a4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Hk)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new pv),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=nx(u)&&!GO(u),this.instance=u;const{layoutId:h,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let y,v=0;const T=()=>this.root.updateBlockedByResize=!1;dt.read(()=>{v=window.innerWidth}),t(u,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,y&&y(),y=qk(T,250),qf.hasAnimatedSinceResize&&(qf.hasAnimatedSinceResize=!1,this.nodes.forEach(BE)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:T,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||p.getDefaultTransition()||p4,{onLayoutAnimationStart:M,onLayoutAnimationComplete:I}=p.getProps(),V=!this.targetLayout||!Ux(this.targetLayout,S),U=!v&&T;if(this.options.layoutRoot||this.resumeFrom||U||v&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...Rv(N,"layout"),onPlay:M,onComplete:I};(p.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(y,U)}else v||BE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Qr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(h4),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(UE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(zE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(l4),this.nodes.forEach(i4),this.nodes.forEach(s4)):this.nodes.forEach(zE),this.clearAllSnapshots();const h=Pn.now();ln.delta=Ws(0,1e3/60,h-ln.timestamp),ln.timestamp=h,ln.isProcessing=!0,Tg.update.process(ln),Tg.preRender.process(ln),Tg.render.process(ln),ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Dv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(o4),this.sharedNodes.forEach(f4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!bn(this.snapshot.measuredBox.x)&&!bn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Dt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!jx(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||qa(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),g4(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Dt();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(y4))){const{scroll:p}=this.root;p&&(fl(h.x,p.offset.x),fl(h.y,p.offset.y))}return h}removeElementScroll(u){const h=Dt();if(ui(h,u),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&ui(h,u),fl(h.x,y.offset.x),fl(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const d=Dt();ui(d,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&dl(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),qa(y.latestValues)&&dl(d,y.latestValues)}return qa(this.latestValues)&&dl(d,this.latestValues),d}removeTransform(u){const h=Dt();ui(h,u);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!qa(p.latestValues))continue;py(p.latestValues)&&p.updateSnapshot();const y=Dt(),v=p.measurePageBox();ui(y,v),PE(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return qa(this.latestValues)&&PE(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=ln.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),rc(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),ui(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Dt(),this.targetWithTransforms=Dt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ek(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ui(this.target,this.layout.layoutBox),_x(this.target,this.targetDelta)):ui(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),rc(this.relativeTargetOrigin,this.target,T.target),ui(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||py(this.parent.latestValues)||vx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ln.timestamp&&(d=!1),d)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;ui(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,T=this.treeScale.y;VV(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Dt());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(DE(this.prevProjectionDelta.x,this.projectionDelta.x),DE(this.prevProjectionDelta.y,this.projectionDelta.y)),sc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==T||!jE(this.projectionDelta.x,this.prevProjectionDelta.x)||!jE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ml(),this.projectionDelta=ml(),this.projectionDeltaWithTransform=ml()}setAnimationOrigin(u,h=!1){const d=this.snapshot,p=d?d.latestValues:{},y={...this.latestValues},v=ml();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const T=Dt(),S=d?d.source:void 0,N=this.layout?this.layout.source:void 0,M=S!==N,I=this.getStack(),V=!I||I.members.length<=1,U=!!(M&&!V&&this.options.crossfade===!0&&!this.path.some(m4));this.animationProgress=0;let F;this.mixTargetDelta=ee=>{const te=ee/1e3;FE(v.x,u.x,te),FE(v.y,u.y,te),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(rc(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),d4(this.relativeTarget,this.relativeTargetOrigin,T,te),F&&Zk(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Dt()),ui(F,this.relativeTarget)),M&&(this.animationValues=y,Gk(y,p,this.latestValues,te,U,V)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=te},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Qr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{qf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=El(0)),this.currentAnimation=Bk(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(t4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:y}=u;if(!(!h||!d||!p)){if(this!==u&&this.layout&&p&&Fx(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||Dt();const v=bn(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+v;const T=bn(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+T}ui(h,d),dl(h,y),sc(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new Jk),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&Mg("z",u,p,this.animationValues);for(let y=0;y<Ig.length;y++)Mg(`rotate${Ig[y]}`,u,p,this.animationValues),Mg(`skew${Ig[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Hf(h?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Hf(h?.pointerEvents)||""),this.hasProjected&&!qa(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=e4(this.projectionDeltaWithTransform,this.treeScale,y);d&&(v=d(y,v)),u.transform=v;const{x:T,y:S}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${S.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const N in yc){if(y[N]===void 0)continue;const{correct:M,applyTo:I,isCSSVariable:V}=yc[N],U=v==="none"?y[N]:M(y[N],p);if(I){const F=I.length;for(let ee=0;ee<F;ee++)u[I[ee]]=U}else V?this.options.visualElement.renderState.vars[N]=U:u[N]=U}this.options.layoutId&&(u.pointerEvents=p===this?Hf(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(UE),this.root.sharedNodes.clear()}}}function i4(t){t.updateLayout()}function s4(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ci(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],T=bn(v);v.min=n[y].min,v.max=v.min+T}):Fx(a,e.layoutBox,n)&&ci(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],T=bn(n[y]);v.max=v.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+T)});const u=ml();sc(u,n,e.layoutBox);const h=ml();l?sc(h,t.applyTransform(s,!0),e.measuredBox):sc(h,n,e.layoutBox);const d=!jx(u);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:T}=y;if(v&&T){const S=Dt();rc(S,e.layoutBox,v.layoutBox);const N=Dt();rc(N,n,T.layoutBox),Ux(S,N)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=S,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function r4(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function a4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function o4(t){t.clearSnapshot()}function UE(t){t.clearMeasurements()}function zE(t){t.isLayoutDirty=!1}function l4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function BE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function u4(t){t.resolveTargetDelta()}function c4(t){t.calcProjection()}function h4(t){t.resetSkewAndRotation()}function f4(t){t.removeLeadSnapshot()}function FE(t,e,n){t.translate=gt(e.translate,0,n),t.scale=gt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function HE(t,e,n,s){t.min=gt(e.min,n.min,s),t.max=gt(e.max,n.max,s)}function d4(t,e,n,s){HE(t.x,e.x,n.x,s),HE(t.y,e.y,n.y,s)}function m4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const p4={duration:.45,ease:[.4,0,.1,1]},qE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),YE=qE("applewebkit/")&&!qE("chrome/")?Math.round:yi;function GE(t){t.min=YE(t.min),t.max=YE(t.max)}function g4(t){GE(t.x),GE(t.y)}function Fx(t,e,n){return t==="position"||t==="preserve-aspect"&&!wk(LE(e),LE(n),.2)}function y4(t){return t!==t.root&&t.scroll?.wasRoot}const v4=Bx({attachResizeListener:(t,e)=>vc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Pg={current:void 0},Hx=Bx({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Pg.current){const t=new v4({});t.mount(window),t.setOptions({layoutScroll:!0}),Pg.current=t}return Pg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),_4={pan:{Feature:Lk},drag:{Feature:kk,ProjectionNode:Hx,MeasureLayout:Vx}};function KE(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&dt.postRender(()=>l(e,kc(e)))}class T4 extends oa{mount(){const{current:e}=this.node;e&&(this.unmount=BO(e,(n,s)=>(KE(this.node,s,"Start"),a=>KE(this.node,a,"End"))))}unmount(){}}class b4 extends oa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Pc(vc(this.node.current,"focus",()=>this.onFocus()),vc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function XE(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&dt.postRender(()=>l(e,kc(e)))}class w4 extends oa{mount(){const{current:e}=this.node;e&&(this.unmount=YO(e,(n,s)=>(XE(this.node,s,"Start"),(a,{success:l})=>XE(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const wy=new WeakMap,Og=new WeakMap,E4=t=>{const e=wy.get(t.target);e&&e(t)},S4=t=>{t.forEach(E4)};function A4({root:t,...e}){const n=t||document;Og.has(n)||Og.set(n,{});const s=Og.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(S4,{root:t,...e})),s[a]}function x4(t,e,n){const s=A4(e);return wy.set(t,n),s.observe(t),()=>{wy.delete(t),s.unobserve(t)}}const C4={some:0,all:1};class R4 extends oa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:C4[a]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),T=p?y:v;T&&T(d)};return x4(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(N4(e,n))&&this.startObserver()}unmount(){}}function N4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const D4={inView:{Feature:R4},tap:{Feature:w4},focus:{Feature:b4},hover:{Feature:T4}},I4={layout:{ProjectionNode:Hx,MeasureLayout:Vx}},M4={...gk,...D4,..._4,...I4},Xt=MV(M4,YV),qx=[{name:"Taco House",phone:"+91 7795815315"},{name:"Hungry House",phone:"+91 9820243177"},{name:"MFC",phone:"+91 7338334970"},{name:"Hit&Run",phone:"+91 7406330088"},{name:"Janani Canteen",phone:"+91 8660138488"},{name:"Dollar Cafe",phone:"+91 8105306109"},{name:"Kamath Cafe",phone:"+91 8217044886"},{name:"Aditya Mess",phone:"+91 7483644586"},{name:"Apoorva Mess",phone:"+91 9108888320"},{name:"FC 2",phone:"+91 8861953102"},{name:"Poornima",phone:"+91 7090641985"},{name:"Nom Nom cafe",phone:"+91 7619422026"},{name:"Ashraya",phone:"+91 6361201519"}],Bd=({searchTerm:t,setSearchTerm:e})=>{const[n,s]=O.useState(!1),[a,l]=O.useState(!1),[u,h]=O.useState(""),d=qx.filter(p=>p.name.toLowerCase().includes(u.toLowerCase())).sort((p,y)=>p.name.localeCompare(y.name));return w.jsxs(w.Fragment,{children:[w.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white/10 backdrop-blur-md border-b border-white/20 shadow-lg",children:w.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"flex items-center justify-between h-16",children:[w.jsx(Br,{mode:"wait",children:(!n||window.innerWidth>=768)&&w.jsx(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center gap-2",children:w.jsxs(Yr,{to:"/",className:"flex items-center gap-2",children:[w.jsx("div",{className:"hidden md:block p-2 bg-orange-500 rounded-lg text-white",children:w.jsx(id,{size:24})}),w.jsx(Yr,{to:"/admin",className:"md:hidden p-2 bg-orange-500 rounded-lg text-white",onClick:p=>p.stopPropagation(),children:w.jsx(id,{size:24})}),w.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent",children:"MIT Mess"})]})})}),e&&w.jsxs("div",{className:"hidden md:flex flex-1 max-w-md mx-8 relative group",children:[w.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:w.jsx(xf,{className:"h-4 w-4 text-gray-400 group-focus-within:text-orange-500 transition-colors"})}),w.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-200/50 rounded-full leading-5 bg-white/50 backdrop-blur-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 sm:text-sm shadow-sm transition-all duration-300 hover:bg-white/80 focus:bg-white",placeholder:"Search messes...",value:t,onChange:p=>e(p.target.value)})]}),w.jsx(Br,{children:n&&w.jsxs(Xt.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:"100%"},exit:{opacity:0,width:0},className:"absolute inset-0 flex items-center px-4 bg-white md:hidden z-20",children:[w.jsx(xf,{className:"text-gray-400 mr-2",size:20}),w.jsx("input",{type:"text",placeholder:"Search...",value:t,onChange:p=>e(p.target.value),className:"flex-1 bg-transparent border-none focus:ring-0 text-gray-800 placeholder-gray-500 outline-none",autoFocus:!0}),w.jsx("button",{onClick:()=>s(!1),className:"p-2 text-gray-500 hover:text-orange-600",children:w.jsx(to,{size:20})})]})}),w.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[w.jsx("a",{href:"https://mit.nakshatramaps.com/",target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-orange-600 transition-colors",title:"Campus Map",children:w.jsx(LM,{size:20})}),w.jsx("button",{onClick:()=>l(!0),className:"md:hidden p-2 text-gray-600 hover:text-orange-600 transition-colors",title:"Restaurants",children:w.jsx(Ow,{size:20})}),e&&!n&&w.jsx("button",{onClick:()=>s(!0),className:"md:hidden p-2 text-gray-600 hover:text-orange-600 transition-colors",children:w.jsx(xf,{size:20})}),w.jsx("button",{onClick:()=>l(!0),className:"hidden md:block p-2 text-gray-600 hover:text-orange-600 transition-colors",title:"Restaurants",children:w.jsx(Ow,{size:20})}),w.jsx(Yr,{to:"/admin",children:w.jsx("button",{className:"hidden md:block px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-orange-500 to-red-500 rounded-full hover:shadow-lg hover:scale-105 transition-all duration-300",children:"Admin Login"})})]})]})})}),w.jsx(Br,{children:a&&w.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>l(!1),children:w.jsxs(Xt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},onClick:p=>p.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[80vh] overflow-hidden flex flex-col",children:[w.jsxs("div",{className:"p-6 bg-gradient-to-r from-orange-500 to-red-500 text-white shrink-0",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-2xl font-bold",children:"Nearby Restaurants"}),w.jsx("p",{className:"text-white/80 text-sm",children:"Tap a card to call"})]}),w.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:w.jsx(to,{size:24})})]}),w.jsxs("div",{className:"relative",children:[w.jsx(xf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-orange-500",size:18}),w.jsx("input",{type:"text",placeholder:"Search restaurants...",value:u,onChange:p=>h(p.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-white/50"})]})]}),w.jsx("div",{className:"p-6 overflow-y-auto",children:w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map((p,y)=>w.jsxs("a",{href:`tel:${p.phone}`,className:"block p-4 rounded-xl bg-white border border-gray-100 shadow-sm hover:shadow-md hover:border-orange-200 transition-all duration-300 group",children:[w.jsx("h4",{className:"font-bold text-gray-800 group-hover:text-orange-600 transition-colors mb-1",children:p.name}),w.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[w.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),p.phone]})]},y))})})]})})})]})};function Yx(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=Yx(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function Hs(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=Yx(t))&&(s&&(s+=" "),s+=e);return s}const P4=({mess:t})=>{const[e,n]=O.useState(new Date().toLocaleDateString("en-US",{weekday:"long"})),s=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],l=(()=>{if(!t.menuStartDate||!t.nextWeekMenu)return t.menu;const T=new Date(t.menuStartDate),N=Math.abs(new Date-T);return Math.ceil(N/(1e3*60*60*24))>7&&Object.keys(t.nextWeekMenu).length>0?{...t.menu,...t.nextWeekMenu}:t.menu})(),u=l[e]||l.Monday,h=T=>{if(T.Dinner?.toLowerCase().includes("theme dinner"))return"Theme Dinner";if([T.Breakfast,T.Lunch,T.Snacks,T.Dinner].join(" ").toLowerCase().includes("month end dinner"))return"Month End Dinner";const N=["chicken","paneer","egg","sewaiya","kebab","ice cream","semiyan","kheer","swiss roll","gulab jamun"],M=["chapati","steam rice","steamed rice","rice"],I=ee=>{if(!ee)return null;const te=ee.split(",").map(Z=>Z.trim());for(const Z of te){const R=Z.toLowerCase();if(N.some(x=>R.includes(x)))return Z}for(const Z of te){const R=Z.toLowerCase();if(!M.some(x=>R.includes(x)))return Z}return te[0]},V=I(T.Lunch),U=I(T.Dinner),F=ee=>ee?N.some(te=>ee.toLowerCase().includes(te)):!1;return F(V)?V:F(U)?U:V||U||"Special Meal"},d={"from-orange-500 to-red-500":{text:"text-orange-600",shadow:"hover:shadow-orange-500/40",bg:"bg-orange-50"},"from-blue-500 to-cyan-500":{text:"text-blue-600",shadow:"hover:shadow-blue-500/40",bg:"bg-blue-50"},"from-green-500 to-emerald-500":{text:"text-green-600",shadow:"hover:shadow-green-500/40",bg:"bg-green-50"},"from-purple-500 to-pink-500":{text:"text-purple-600",shadow:"hover:shadow-purple-500/40",bg:"bg-purple-50"},"from-pink-500 to-rose-500":{text:"text-pink-600",shadow:"hover:shadow-pink-500/40",bg:"bg-pink-50"}},y=(T=>T?T.includes("blue")||T.includes("cyan")?d["from-blue-500 to-cyan-500"]:T.includes("green")||T.includes("emerald")?d["from-green-500 to-emerald-500"]:T.includes("purple")?d["from-purple-500 to-pink-500"]:T.includes("pink")||T.includes("rose")?d["from-pink-500 to-rose-500"]:d["from-orange-500 to-red-500"]:d["from-orange-500 to-red-500"])(t.color),v=T=>T?T.toLowerCase().split(" ").map(S=>S.charAt(0).toUpperCase()+S.slice(1)).join(" "):"";return w.jsx(Yr,{to:`/mess/${t.id}`,className:"h-full block",children:w.jsxs(Xt.div,{layout:!0,whileHover:{y:-5,transition:{duration:.1}},className:Hs("relative overflow-hidden rounded-2xl bg-white/40 backdrop-blur-lg border border-white/50 shadow-xl hover:shadow-2xl transition-all duration-100 cursor-pointer group h-full flex flex-col",y.shadow),children:[w.jsxs("div",{className:Hs("px-5 py-3 bg-gradient-to-r text-white transition-all duration-300",t.color),children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("h3",{className:"text-xl font-bold group-hover:scale-105 transition-transform duration-300",children:t.name}),w.jsx("div",{className:"p-1.5 bg-white/20 rounded-full group-hover:bg-white/30 transition-colors",children:w.jsx(ov,{size:16})})]}),w.jsxs("p",{className:"mt-1 text-white/90 text-xs flex items-center gap-1",children:[w.jsx(nd,{size:12}),"Today's Special: ",(()=>{const T=()=>{const V=new Date,U=V.getDay(),F=V.getDate()-U+(U===0?-6:1),ee=new Date(V.setDate(F));return ee.setHours(0,0,0,0),ee},S=t.lastUpdated?new Date(t.lastUpdated):null,N=T(),M=!S||S<N,I=l&&Object.keys(l).some(V=>{const U=l[V];return U?Object.values(U).some(F=>F&&F!=="N/A"&&F.trim()!==""):!1});return M||!I?"N/A":v(h(u))})()]})]}),w.jsx("div",{className:"p-5 flex-1 flex flex-col",children:(()=>{const T=()=>{const V=new Date,U=V.getDay(),F=V.getDate()-U+(U===0?-6:1),ee=new Date(V.setDate(F));return ee.setHours(0,0,0,0),ee},S=t.lastUpdated?new Date(t.lastUpdated):null,N=T(),M=!S||S<N,I=l&&Object.keys(l).some(V=>{const U=l[V];return U?Object.values(U).some(F=>F&&F!=="N/A"&&F.trim()!==""):!1});return M||!I?w.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center opacity-70 min-h-[200px]",children:[w.jsx("div",{className:Hs("text-lg font-bold mb-1",y.text),children:"Menu Not Uploaded"}),w.jsx("p",{className:"text-xs text-gray-400",children:"Check back later"})]}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"flex justify-between items-center w-full mb-3",onClick:V=>V.preventDefault(),children:s.map(V=>w.jsx("button",{onClick:U=>{U.preventDefault(),U.stopPropagation(),n(V)},className:Hs("px-1.5 py-1 rounded-md text-[10px] font-medium transition-all",e===V?"bg-gray-800 text-white shadow-md":"bg-white/50 text-gray-600 hover:bg-white/80"),children:V.slice(0,3)},V))}),w.jsx("div",{className:"grid grid-cols-1 flex-1 min-h-0",children:s.map(V=>{const U=l[V]||l.Monday,F=e===V;return w.jsxs("div",{className:Hs("flex flex-col gap-2.5 overflow-y-auto pr-1 pb-2 custom-scrollbar scrollbar-hide transition-opacity duration-200",F?"opacity-100 z-10 pointer-events-auto":"opacity-0 z-0 pointer-events-none"),style:{gridArea:"1 / 1 / 2 / 2"},children:[w.jsx("style",{jsx:!0,children:`
                                                    .scrollbar-hide::-webkit-scrollbar {
                                                        display: none;
                                                    }
                                                    .scrollbar-hide {
                                                        -ms-overflow-style: none;
                                                        scrollbar-width: none;
                                                    }
                                                `}),w.jsxs("div",{className:"p-3 rounded-xl bg-white/60 border border-white/40 shrink-0",children:[w.jsx("h4",{className:"text-[10px] font-bold text-orange-600 uppercase tracking-wider mb-0.5",children:"Breakfast"}),w.jsx("p",{className:"text-gray-800 font-medium text-xs leading-tight break-words",children:v(U.Breakfast)})]}),w.jsxs("div",{className:"p-3 rounded-xl bg-white/60 border border-white/40 shrink-0",children:[w.jsx("h4",{className:"text-[10px] font-bold text-green-600 uppercase tracking-wider mb-0.5",children:"Lunch"}),w.jsx("p",{className:"text-gray-800 font-medium text-xs leading-tight break-words",children:v(U.Lunch)})]}),w.jsxs("div",{className:"p-3 rounded-xl bg-white/60 border border-white/40 shrink-0",children:[w.jsx("h4",{className:"text-[10px] font-bold text-yellow-600 uppercase tracking-wider mb-0.5",children:"Snacks"}),w.jsx("p",{className:"text-gray-800 font-medium text-xs leading-tight break-words",children:v(U.Snacks)})]}),w.jsxs("div",{className:"p-3 rounded-xl bg-white/60 border border-white/40 shrink-0 mb-4",children:[w.jsx("h4",{className:"text-[10px] font-bold text-blue-600 uppercase tracking-wider mb-0.5",children:"Dinner"}),w.jsx("p",{className:"text-gray-800 font-medium text-xs leading-tight break-words",children:v(U.Dinner)})]})]},V)})})]})})()})]})})},O4=()=>{};var $E={};const Gx=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},V4=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Kx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,d=a+2<t.length,p=d?t[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let T=(h&15)<<2|p>>6,S=p&63;d||(S=64,u||(T=64)),s.push(n[y],n[v],n[T],n[S])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Gx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):V4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||v==null)throw new k4;const T=l<<2|h>>4;if(s.push(T),p!==64){const S=h<<4&240|p>>2;if(s.push(S),v!==64){const N=p<<6&192|v;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class k4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L4=function(t){const e=Gx(t);return Kx.encodeByteArray(e,!0)},ud=function(t){return L4(t).replace(/\./g,"")},Xx=function(t){try{return Kx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function j4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const U4=()=>j4().__FIREBASE_DEFAULTS__,z4=()=>{if(typeof process>"u"||typeof $E>"u")return;const t=$E.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},B4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Xx(t[1]);return e&&JSON.parse(e)},Fd=()=>{try{return O4()||U4()||z4()||B4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$x=t=>Fd()?.emulatorHosts?.[t],F4=t=>{const e=$x(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Wx=()=>Fd()?.config,Qx=t=>Fd()?.[`_${t}`];class H4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Vl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Zx(t){return(await fetch(t,{credentials:"include"})).ok}function q4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ud(JSON.stringify(n)),ud(JSON.stringify(u)),""].join(".")}const ac={};function Y4(){const t={prod:[],emulator:[]};for(const e of Object.keys(ac))ac[e]?t.emulator.push(e):t.prod.push(e);return t}function G4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let WE=!1;function Jx(t,e){if(typeof window>"u"||typeof document>"u"||!Vl(window.location.host)||ac[t]===e||ac[t]||WE)return;ac[t]=e;function n(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=Y4().prod.length>0;function u(){const T=document.getElementById(s);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function d(T,S){T.setAttribute("width","24"),T.setAttribute("id",S),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{WE=!0,u()},T}function y(T,S){T.setAttribute("id",S),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function v(){const T=G4(s),S=n("text"),N=document.getElementById(S)||document.createElement("span"),M=n("learnmore"),I=document.getElementById(M)||document.createElement("a"),V=n("preprendIcon"),U=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const F=T.element;h(F),y(I,M);const ee=p();d(U,V),F.append(U,N,I,ee),document.body.appendChild(F)}l?(N.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function X4(){const t=Fd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function W4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Q4(){const t=yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Z4(){return!X4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tC(){try{return typeof indexedDB=="object"}catch{return!1}}function nC(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}function J4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const eL="FirebaseError";class Bi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=eL,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,co.prototype.create)}}class co{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?tL(l,s):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Bi(a,h,s)}}function tL(t,e){return t.replace(nL,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const nL=/\{\$([^}]+)}/g;function iL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jr(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(QE(l)&&QE(u)){if(!Jr(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function QE(t){return t!==null&&typeof t=="object"}function Lc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function $u(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Wu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function sL(t,e){const n=new rL(t,e);return n.subscribe.bind(n)}class rL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");aL(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Vg),a.error===void 0&&(a.error=Vg),a.complete===void 0&&(a.complete=Vg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vg(){}const oL=1e3,lL=2,uL=14400*1e3,cL=.5;function ZE(t,e=oL,n=lL){const s=e*Math.pow(n,t),a=Math.round(cL*s*(Math.random()-.5)*2);return Math.min(uL,s+a)}function vt(t){return t&&t._delegate?t._delegate:t}class ji{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ya="[DEFAULT]";class hL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new H4;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dL(e))try{this.getOrInitializeService({instanceIdentifier:Ya})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ya){return this.instances.has(e)}getOptions(e=Ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:fL(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ya){return this.component?this.component.multipleInstances?e:Ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fL(t){return t===Ya?void 0:t}function dL(t){return t.instantiationMode==="EAGER"}class mL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const pL={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},gL=Ue.INFO,yL={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},vL=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=yL[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hd{constructor(e){this.name=e,this._logLevel=gL,this._logHandler=vL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const _L=(t,e)=>e.some(n=>t instanceof n);let JE,eS;function TL(){return JE||(JE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bL(){return eS||(eS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iC=new WeakMap,Ey=new WeakMap,sC=new WeakMap,kg=new WeakMap,Fv=new WeakMap;function wL(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Gr(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&iC.set(n,t)}).catch(()=>{}),Fv.set(e,t),e}function EL(t){if(Ey.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Ey.set(t,e)}let Sy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ey.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function SL(t){Sy=t(Sy)}function AL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Lg(this),e,...n);return sC.set(s,e.sort?e.sort():[e]),Gr(s)}:bL().includes(t)?function(...e){return t.apply(Lg(this),e),Gr(iC.get(this))}:function(...e){return Gr(t.apply(Lg(this),e))}}function xL(t){return typeof t=="function"?AL(t):(t instanceof IDBTransaction&&EL(t),_L(t,TL())?new Proxy(t,Sy):t)}function Gr(t){if(t instanceof IDBRequest)return wL(t);if(kg.has(t))return kg.get(t);const e=xL(t);return e!==t&&(kg.set(t,e),Fv.set(e,t)),e}const Lg=t=>Fv.get(t);function rC(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=Gr(u);return s&&u.addEventListener("upgradeneeded",d=>{s(Gr(u.result),d.oldVersion,d.newVersion,Gr(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const CL=["get","getKey","getAll","getAllKeys","count"],RL=["put","add","delete","clear"],jg=new Map;function tS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jg.get(e))return jg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=RL.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||CL.includes(n)))return;const l=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let p=d.store;return s&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&d.done]))[0]};return jg.set(e,l),l}SL(t=>({...t,get:(e,n,s)=>tS(e,n)||t.get(e,n,s),has:(e,n)=>!!tS(e,n)||t.has(e,n)}));class NL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DL(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function DL(t){return t.getComponent()?.type==="VERSION"}const Ay="@firebase/app",nS="0.14.6";const Zs=new Hd("@firebase/app"),IL="@firebase/app-compat",ML="@firebase/analytics-compat",PL="@firebase/analytics",OL="@firebase/app-check-compat",VL="@firebase/app-check",kL="@firebase/auth",LL="@firebase/auth-compat",jL="@firebase/database",UL="@firebase/data-connect",zL="@firebase/database-compat",BL="@firebase/functions",FL="@firebase/functions-compat",HL="@firebase/installations",qL="@firebase/installations-compat",YL="@firebase/messaging",GL="@firebase/messaging-compat",KL="@firebase/performance",XL="@firebase/performance-compat",$L="@firebase/remote-config",WL="@firebase/remote-config-compat",QL="@firebase/storage",ZL="@firebase/storage-compat",JL="@firebase/firestore",e6="@firebase/ai",t6="@firebase/firestore-compat",n6="firebase",i6="12.6.0";const xy="[DEFAULT]",s6={[Ay]:"fire-core",[IL]:"fire-core-compat",[PL]:"fire-analytics",[ML]:"fire-analytics-compat",[VL]:"fire-app-check",[OL]:"fire-app-check-compat",[kL]:"fire-auth",[LL]:"fire-auth-compat",[jL]:"fire-rtdb",[UL]:"fire-data-connect",[zL]:"fire-rtdb-compat",[BL]:"fire-fn",[FL]:"fire-fn-compat",[HL]:"fire-iid",[qL]:"fire-iid-compat",[YL]:"fire-fcm",[GL]:"fire-fcm-compat",[KL]:"fire-perf",[XL]:"fire-perf-compat",[$L]:"fire-rc",[WL]:"fire-rc-compat",[QL]:"fire-gcs",[ZL]:"fire-gcs-compat",[JL]:"fire-fst",[t6]:"fire-fst-compat",[e6]:"fire-vertex","fire-js":"fire-js",[n6]:"fire-js-all"};const cd=new Map,r6=new Map,Cy=new Map;function iS(t,e){try{t.container.addComponent(e)}catch(n){Zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vs(t){const e=t.name;if(Cy.has(e))return Zs.debug(`There were multiple attempts to register component ${e}.`),!1;Cy.set(e,t);for(const n of cd.values())iS(n,t);for(const n of r6.values())iS(n,t);return!0}function ho(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hi(t){return t==null?!1:t.settings!==void 0}const a6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new co("app","Firebase",a6);class o6{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}const kl=i6;function aC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:xy,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Kr.create("bad-app-name",{appName:String(a)});if(n||(n=Wx()),!n)throw Kr.create("no-options");const l=cd.get(a);if(l){if(Jr(n,l.options)&&Jr(s,l.config))return l;throw Kr.create("duplicate-app",{appName:a})}const u=new mL(a);for(const d of Cy.values())u.addComponent(d);const h=new o6(n,s,u);return cd.set(a,h),h}function Hv(t=xy){const e=cd.get(t);if(!e&&t===xy&&Wx())return aC();if(!e)throw Kr.create("no-app",{appName:t});return e}function vi(t,e,n){let s=s6[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zs.warn(u.join(" "));return}vs(new ji(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const l6="firebase-heartbeat-database",u6=1,_c="firebase-heartbeat-store";let Ug=null;function oC(){return Ug||(Ug=rC(l6,u6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_c)}catch(n){console.warn(n)}}}}).catch(t=>{throw Kr.create("idb-open",{originalErrorMessage:t.message})})),Ug}async function c6(t){try{const n=(await oC()).transaction(_c),s=await n.objectStore(_c).get(lC(t));return await n.done,s}catch(e){if(e instanceof Bi)Zs.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e?.message});Zs.warn(n.message)}}}async function sS(t,e){try{const s=(await oC()).transaction(_c,"readwrite");await s.objectStore(_c).put(e,lC(t)),await s.done}catch(n){if(n instanceof Bi)Zs.warn(n.message);else{const s=Kr.create("idb-set",{originalErrorMessage:n?.message});Zs.warn(s.message)}}}function lC(t){return`${t.name}!${t.options.appId}`}const h6=1024,f6=30;class d6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new p6(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=rS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>f6){const a=g6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Zs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=rS(),{heartbeatsToSend:n,unsentEntries:s}=m6(this._heartbeatsCache.heartbeats),a=ud(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Zs.warn(e),""}}}function rS(){return new Date().toISOString().substring(0,10)}function m6(t,e=h6){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),aS(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),aS(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class p6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tC()?nC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await c6(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return sS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return sS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function aS(t){return ud(JSON.stringify({version:2,heartbeats:t})).length}function g6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function y6(t){vs(new ji("platform-logger",e=>new NL(e),"PRIVATE")),vs(new ji("heartbeat",e=>new d6(e),"PRIVATE")),vi(Ay,nS,t),vi(Ay,nS,"esm2020"),vi("fire-js","")}y6("");var v6="firebase",_6="12.6.0";vi(v6,_6,"app");var oS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xr,uC;(function(){var t;function e(R,x){function D(){}D.prototype=x.prototype,R.F=x.prototype,R.prototype=new D,R.prototype.constructor=R,R.D=function(j,L,H){for(var P=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)P[Fe-2]=arguments[Fe];return x.prototype[L].apply(j,P)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,x,D){D||(D=0);const j=Array(16);if(typeof x=="string")for(var L=0;L<16;++L)j[L]=x.charCodeAt(D++)|x.charCodeAt(D++)<<8|x.charCodeAt(D++)<<16|x.charCodeAt(D++)<<24;else for(L=0;L<16;++L)j[L]=x[D++]|x[D++]<<8|x[D++]<<16|x[D++]<<24;x=R.g[0],D=R.g[1],L=R.g[2];let H=R.g[3],P;P=x+(H^D&(L^H))+j[0]+3614090360&4294967295,x=D+(P<<7&4294967295|P>>>25),P=H+(L^x&(D^L))+j[1]+3905402710&4294967295,H=x+(P<<12&4294967295|P>>>20),P=L+(D^H&(x^D))+j[2]+606105819&4294967295,L=H+(P<<17&4294967295|P>>>15),P=D+(x^L&(H^x))+j[3]+3250441966&4294967295,D=L+(P<<22&4294967295|P>>>10),P=x+(H^D&(L^H))+j[4]+4118548399&4294967295,x=D+(P<<7&4294967295|P>>>25),P=H+(L^x&(D^L))+j[5]+1200080426&4294967295,H=x+(P<<12&4294967295|P>>>20),P=L+(D^H&(x^D))+j[6]+2821735955&4294967295,L=H+(P<<17&4294967295|P>>>15),P=D+(x^L&(H^x))+j[7]+4249261313&4294967295,D=L+(P<<22&4294967295|P>>>10),P=x+(H^D&(L^H))+j[8]+1770035416&4294967295,x=D+(P<<7&4294967295|P>>>25),P=H+(L^x&(D^L))+j[9]+2336552879&4294967295,H=x+(P<<12&4294967295|P>>>20),P=L+(D^H&(x^D))+j[10]+4294925233&4294967295,L=H+(P<<17&4294967295|P>>>15),P=D+(x^L&(H^x))+j[11]+2304563134&4294967295,D=L+(P<<22&4294967295|P>>>10),P=x+(H^D&(L^H))+j[12]+1804603682&4294967295,x=D+(P<<7&4294967295|P>>>25),P=H+(L^x&(D^L))+j[13]+4254626195&4294967295,H=x+(P<<12&4294967295|P>>>20),P=L+(D^H&(x^D))+j[14]+2792965006&4294967295,L=H+(P<<17&4294967295|P>>>15),P=D+(x^L&(H^x))+j[15]+1236535329&4294967295,D=L+(P<<22&4294967295|P>>>10),P=x+(L^H&(D^L))+j[1]+4129170786&4294967295,x=D+(P<<5&4294967295|P>>>27),P=H+(D^L&(x^D))+j[6]+3225465664&4294967295,H=x+(P<<9&4294967295|P>>>23),P=L+(x^D&(H^x))+j[11]+643717713&4294967295,L=H+(P<<14&4294967295|P>>>18),P=D+(H^x&(L^H))+j[0]+3921069994&4294967295,D=L+(P<<20&4294967295|P>>>12),P=x+(L^H&(D^L))+j[5]+3593408605&4294967295,x=D+(P<<5&4294967295|P>>>27),P=H+(D^L&(x^D))+j[10]+38016083&4294967295,H=x+(P<<9&4294967295|P>>>23),P=L+(x^D&(H^x))+j[15]+3634488961&4294967295,L=H+(P<<14&4294967295|P>>>18),P=D+(H^x&(L^H))+j[4]+3889429448&4294967295,D=L+(P<<20&4294967295|P>>>12),P=x+(L^H&(D^L))+j[9]+568446438&4294967295,x=D+(P<<5&4294967295|P>>>27),P=H+(D^L&(x^D))+j[14]+3275163606&4294967295,H=x+(P<<9&4294967295|P>>>23),P=L+(x^D&(H^x))+j[3]+4107603335&4294967295,L=H+(P<<14&4294967295|P>>>18),P=D+(H^x&(L^H))+j[8]+1163531501&4294967295,D=L+(P<<20&4294967295|P>>>12),P=x+(L^H&(D^L))+j[13]+2850285829&4294967295,x=D+(P<<5&4294967295|P>>>27),P=H+(D^L&(x^D))+j[2]+4243563512&4294967295,H=x+(P<<9&4294967295|P>>>23),P=L+(x^D&(H^x))+j[7]+1735328473&4294967295,L=H+(P<<14&4294967295|P>>>18),P=D+(H^x&(L^H))+j[12]+2368359562&4294967295,D=L+(P<<20&4294967295|P>>>12),P=x+(D^L^H)+j[5]+4294588738&4294967295,x=D+(P<<4&4294967295|P>>>28),P=H+(x^D^L)+j[8]+2272392833&4294967295,H=x+(P<<11&4294967295|P>>>21),P=L+(H^x^D)+j[11]+1839030562&4294967295,L=H+(P<<16&4294967295|P>>>16),P=D+(L^H^x)+j[14]+4259657740&4294967295,D=L+(P<<23&4294967295|P>>>9),P=x+(D^L^H)+j[1]+2763975236&4294967295,x=D+(P<<4&4294967295|P>>>28),P=H+(x^D^L)+j[4]+1272893353&4294967295,H=x+(P<<11&4294967295|P>>>21),P=L+(H^x^D)+j[7]+4139469664&4294967295,L=H+(P<<16&4294967295|P>>>16),P=D+(L^H^x)+j[10]+3200236656&4294967295,D=L+(P<<23&4294967295|P>>>9),P=x+(D^L^H)+j[13]+681279174&4294967295,x=D+(P<<4&4294967295|P>>>28),P=H+(x^D^L)+j[0]+3936430074&4294967295,H=x+(P<<11&4294967295|P>>>21),P=L+(H^x^D)+j[3]+3572445317&4294967295,L=H+(P<<16&4294967295|P>>>16),P=D+(L^H^x)+j[6]+76029189&4294967295,D=L+(P<<23&4294967295|P>>>9),P=x+(D^L^H)+j[9]+3654602809&4294967295,x=D+(P<<4&4294967295|P>>>28),P=H+(x^D^L)+j[12]+3873151461&4294967295,H=x+(P<<11&4294967295|P>>>21),P=L+(H^x^D)+j[15]+530742520&4294967295,L=H+(P<<16&4294967295|P>>>16),P=D+(L^H^x)+j[2]+3299628645&4294967295,D=L+(P<<23&4294967295|P>>>9),P=x+(L^(D|~H))+j[0]+4096336452&4294967295,x=D+(P<<6&4294967295|P>>>26),P=H+(D^(x|~L))+j[7]+1126891415&4294967295,H=x+(P<<10&4294967295|P>>>22),P=L+(x^(H|~D))+j[14]+2878612391&4294967295,L=H+(P<<15&4294967295|P>>>17),P=D+(H^(L|~x))+j[5]+4237533241&4294967295,D=L+(P<<21&4294967295|P>>>11),P=x+(L^(D|~H))+j[12]+1700485571&4294967295,x=D+(P<<6&4294967295|P>>>26),P=H+(D^(x|~L))+j[3]+2399980690&4294967295,H=x+(P<<10&4294967295|P>>>22),P=L+(x^(H|~D))+j[10]+4293915773&4294967295,L=H+(P<<15&4294967295|P>>>17),P=D+(H^(L|~x))+j[1]+2240044497&4294967295,D=L+(P<<21&4294967295|P>>>11),P=x+(L^(D|~H))+j[8]+1873313359&4294967295,x=D+(P<<6&4294967295|P>>>26),P=H+(D^(x|~L))+j[15]+4264355552&4294967295,H=x+(P<<10&4294967295|P>>>22),P=L+(x^(H|~D))+j[6]+2734768916&4294967295,L=H+(P<<15&4294967295|P>>>17),P=D+(H^(L|~x))+j[13]+1309151649&4294967295,D=L+(P<<21&4294967295|P>>>11),P=x+(L^(D|~H))+j[4]+4149444226&4294967295,x=D+(P<<6&4294967295|P>>>26),P=H+(D^(x|~L))+j[11]+3174756917&4294967295,H=x+(P<<10&4294967295|P>>>22),P=L+(x^(H|~D))+j[2]+718787259&4294967295,L=H+(P<<15&4294967295|P>>>17),P=D+(H^(L|~x))+j[9]+3951481745&4294967295,R.g[0]=R.g[0]+x&4294967295,R.g[1]=R.g[1]+(L+(P<<21&4294967295|P>>>11))&4294967295,R.g[2]=R.g[2]+L&4294967295,R.g[3]=R.g[3]+H&4294967295}s.prototype.v=function(R,x){x===void 0&&(x=R.length);const D=x-this.blockSize,j=this.C;let L=this.h,H=0;for(;H<x;){if(L==0)for(;H<=D;)a(this,R,H),H+=this.blockSize;if(typeof R=="string"){for(;H<x;)if(j[L++]=R.charCodeAt(H++),L==this.blockSize){a(this,j),L=0;break}}else for(;H<x;)if(j[L++]=R[H++],L==this.blockSize){a(this,j),L=0;break}}this.h=L,this.o+=x},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var x=1;x<R.length-8;++x)R[x]=0;x=this.o*8;for(var D=R.length-8;D<R.length;++D)R[D]=x&255,x/=256;for(this.v(R),R=Array(16),x=0,D=0;D<4;++D)for(let j=0;j<32;j+=8)R[x++]=this.g[D]>>>j&255;return R};function l(R,x){var D=h;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=x(R)}function u(R,x){this.h=x;const D=[];let j=!0;for(let L=R.length-1;L>=0;L--){const H=R[L]|0;j&&H==x||(D[L]=H,j=!1)}this.g=D}var h={};function d(R){return-128<=R&&R<128?l(R,function(x){return new u([x|0],x<0?-1:0)}):new u([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return v;if(R<0)return I(p(-R));const x=[];let D=1;for(let j=0;R>=D;j++)x[j]=R/D|0,D*=4294967296;return new u(x,0)}function y(R,x){if(R.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(R.charAt(0)=="-")return I(y(R.substring(1),x));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=p(Math.pow(x,8));let j=v;for(let H=0;H<R.length;H+=8){var L=Math.min(8,R.length-H);const P=parseInt(R.substring(H,H+L),x);L<8?(L=p(Math.pow(x,L)),j=j.j(L).add(p(P))):(j=j.j(D),j=j.add(p(P)))}return j}var v=d(0),T=d(1),S=d(16777216);t=u.prototype,t.m=function(){if(M(this))return-I(this).m();let R=0,x=1;for(let D=0;D<this.g.length;D++){const j=this.i(D);R+=(j>=0?j:4294967296+j)*x,x*=4294967296}return R},t.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N(this))return"0";if(M(this))return"-"+I(this).toString(R);const x=p(Math.pow(R,6));var D=this;let j="";for(;;){const L=ee(D,x).g;D=V(D,L.j(x));let H=((D.g.length>0?D.g[0]:D.h)>>>0).toString(R);if(D=L,N(D))return H+j;for(;H.length<6;)H="0"+H;j=H+j}},t.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function N(R){if(R.h!=0)return!1;for(let x=0;x<R.g.length;x++)if(R.g[x]!=0)return!1;return!0}function M(R){return R.h==-1}t.l=function(R){return R=V(this,R),M(R)?-1:N(R)?0:1};function I(R){const x=R.g.length,D=[];for(let j=0;j<x;j++)D[j]=~R.g[j];return new u(D,~R.h).add(T)}t.abs=function(){return M(this)?I(this):this},t.add=function(R){const x=Math.max(this.g.length,R.g.length),D=[];let j=0;for(let L=0;L<=x;L++){let H=j+(this.i(L)&65535)+(R.i(L)&65535),P=(H>>>16)+(this.i(L)>>>16)+(R.i(L)>>>16);j=P>>>16,H&=65535,P&=65535,D[L]=P<<16|H}return new u(D,D[D.length-1]&-2147483648?-1:0)};function V(R,x){return R.add(I(x))}t.j=function(R){if(N(this)||N(R))return v;if(M(this))return M(R)?I(this).j(I(R)):I(I(this).j(R));if(M(R))return I(this.j(I(R)));if(this.l(S)<0&&R.l(S)<0)return p(this.m()*R.m());const x=this.g.length+R.g.length,D=[];for(var j=0;j<2*x;j++)D[j]=0;for(j=0;j<this.g.length;j++)for(let L=0;L<R.g.length;L++){const H=this.i(j)>>>16,P=this.i(j)&65535,Fe=R.i(L)>>>16,We=R.i(L)&65535;D[2*j+2*L]+=P*We,U(D,2*j+2*L),D[2*j+2*L+1]+=H*We,U(D,2*j+2*L+1),D[2*j+2*L+1]+=P*Fe,U(D,2*j+2*L+1),D[2*j+2*L+2]+=H*Fe,U(D,2*j+2*L+2)}for(R=0;R<x;R++)D[R]=D[2*R+1]<<16|D[2*R];for(R=x;R<2*x;R++)D[R]=0;return new u(D,0)};function U(R,x){for(;(R[x]&65535)!=R[x];)R[x+1]+=R[x]>>>16,R[x]&=65535,x++}function F(R,x){this.g=R,this.h=x}function ee(R,x){if(N(x))throw Error("division by zero");if(N(R))return new F(v,v);if(M(R))return x=ee(I(R),x),new F(I(x.g),I(x.h));if(M(x))return x=ee(R,I(x)),new F(I(x.g),x.h);if(R.g.length>30){if(M(R)||M(x))throw Error("slowDivide_ only works with positive integers.");for(var D=T,j=x;j.l(R)<=0;)D=te(D),j=te(j);var L=Z(D,1),H=Z(j,1);for(j=Z(j,2),D=Z(D,2);!N(j);){var P=H.add(j);P.l(R)<=0&&(L=L.add(D),H=P),j=Z(j,1),D=Z(D,1)}return x=V(R,L.j(x)),new F(L,x)}for(L=v;R.l(x)>=0;){for(D=Math.max(1,Math.floor(R.m()/x.m())),j=Math.ceil(Math.log(D)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),H=p(D),P=H.j(x);M(P)||P.l(R)>0;)D-=j,H=p(D),P=H.j(x);N(H)&&(H=T),L=L.add(H),R=V(R,P)}return new F(L,R)}t.B=function(R){return ee(this,R).h},t.and=function(R){const x=Math.max(this.g.length,R.g.length),D=[];for(let j=0;j<x;j++)D[j]=this.i(j)&R.i(j);return new u(D,this.h&R.h)},t.or=function(R){const x=Math.max(this.g.length,R.g.length),D=[];for(let j=0;j<x;j++)D[j]=this.i(j)|R.i(j);return new u(D,this.h|R.h)},t.xor=function(R){const x=Math.max(this.g.length,R.g.length),D=[];for(let j=0;j<x;j++)D[j]=this.i(j)^R.i(j);return new u(D,this.h^R.h)};function te(R){const x=R.g.length+1,D=[];for(let j=0;j<x;j++)D[j]=R.i(j)<<1|R.i(j-1)>>>31;return new u(D,R.h)}function Z(R,x){const D=x>>5;x%=32;const j=R.g.length-D,L=[];for(let H=0;H<j;H++)L[H]=x>0?R.i(H+D)>>>x|R.i(H+D+1)<<32-x:R.i(H+D);return new u(L,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,uC=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Xr=u}).apply(typeof oS<"u"?oS:typeof self<"u"?self:typeof window<"u"?window:{});var If=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cC,Qu,hC,Yf,Ry,fC,dC,mC;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof If=="object"&&If];for(var _=0;_<f.length;++_){var E=f[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(f,_){if(_)e:{var E=s;f=f.split(".");for(var C=0;C<f.length-1;C++){var Y=f[C];if(!(Y in E))break e;E=E[Y]}f=f[f.length-1],C=E[f],_=_(C),_!=C&&_!=null&&e(E,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var E=[],C;for(C in _)Object.prototype.hasOwnProperty.call(_,C)&&E.push([C,_[C]]);return E}});var l=l||{},u=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,E){return f.call.apply(f.bind,arguments)}function p(f,_,E){return p=d,p.apply(null,arguments)}function y(f,_){var E=Array.prototype.slice.call(arguments,1);return function(){var C=E.slice();return C.push.apply(C,arguments),f.apply(this,C)}}function v(f,_){function E(){}E.prototype=_.prototype,f.Z=_.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(C,Y,$){for(var ue=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ue[Ie-2]=arguments[Ie];return _.prototype[Y].apply(C,ue)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function S(f){const _=f.length;if(_>0){const E=Array(_);for(let C=0;C<_;C++)E[C]=f[C];return E}return[]}function N(f,_){for(let C=1;C<arguments.length;C++){const Y=arguments[C];var E=typeof Y;if(E=E!="object"?E:Y?Array.isArray(Y)?"array":E:"null",E=="array"||E=="object"&&typeof Y.length=="number"){E=f.length||0;const $=Y.length||0;f.length=E+$;for(let ue=0;ue<$;ue++)f[E+ue]=Y[ue]}else f.push(Y)}}class M{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function I(f){u.setTimeout(()=>{throw f},0)}function V(){var f=R;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class U{constructor(){this.h=this.g=null}add(_,E){const C=F.get();C.set(_,E),this.h?this.h.next=C:this.g=C,this.h=C}}var F=new M(()=>new ee,f=>f.reset());class ee{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let te,Z=!1,R=new U,x=()=>{const f=Promise.resolve(void 0);te=()=>{f.then(D)}};function D(){for(var f;f=V();){try{f.h.call(f.g)}catch(E){I(E)}var _=F;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}Z=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return f})();function P(f){return/^[\s\xa0]*$/.test(f)}function Fe(f,_){L.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(Fe,L),Fe.prototype.init=function(f,_){const E=this.type=f.type,C=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(E=="mouseover"?_=f.fromElement:E=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Fe.Z.h.call(this)},Fe.prototype.h=function(){Fe.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var We="closure_listenable_"+(Math.random()*1e6|0),Q=0;function le(f,_,E,C,Y){this.listener=f,this.proxy=null,this.src=_,this.type=E,this.capture=!!C,this.ha=Y,this.key=++Q,this.da=this.fa=!1}function de(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function xe(f,_,E){for(const C in f)_.call(E,f[C],C,f)}function Oe(f,_){for(const E in f)_.call(void 0,f[E],E,f)}function z(f){const _={};for(const E in f)_[E]=f[E];return _}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(f,_){let E,C;for(let Y=1;Y<arguments.length;Y++){C=arguments[Y];for(E in C)f[E]=C[E];for(let $=0;$<ie.length;$++)E=ie[$],Object.prototype.hasOwnProperty.call(C,E)&&(f[E]=C[E])}}function he(f){this.src=f,this.g={},this.h=0}he.prototype.add=function(f,_,E,C,Y){const $=f.toString();f=this.g[$],f||(f=this.g[$]=[],this.h++);const ue=Ce(f,_,C,Y);return ue>-1?(_=f[ue],E||(_.fa=!1)):(_=new le(_,this.src,$,!!C,Y),_.fa=E,f.push(_)),_};function Te(f,_){const E=_.type;if(E in f.g){var C=f.g[E],Y=Array.prototype.indexOf.call(C,_,void 0),$;($=Y>=0)&&Array.prototype.splice.call(C,Y,1),$&&(de(_),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Ce(f,_,E,C){for(let Y=0;Y<f.length;++Y){const $=f[Y];if(!$.da&&$.listener==_&&$.capture==!!E&&$.ha==C)return Y}return-1}var oe="closure_lm_"+(Math.random()*1e6|0),_e={};function we(f,_,E,C,Y){if(Array.isArray(_)){for(let $=0;$<_.length;$++)we(f,_[$],E,C,Y);return null}return E=da(E),f&&f[We]?f.J(_,E,h(C)?!!C.capture:!1,Y):pt(f,_,E,!1,C,Y)}function pt(f,_,E,C,Y,$){if(!_)throw Error("Invalid event type");const ue=h(Y)?!!Y.capture:!!Y;let Ie=vn(f);if(Ie||(f[oe]=Ie=new he(f)),E=Ie.add(_,E,C,ue,$),E.proxy)return E;if(C=En(),E.proxy=C,C.src=f,C.listener=E,f.addEventListener)H||(Y=ue),Y===void 0&&(Y=!1),f.addEventListener(_.toString(),C,Y);else if(f.attachEvent)f.attachEvent(Mt(_.toString()),C);else if(f.addListener&&f.removeListener)f.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return E}function En(){function f(E){return _.call(f.src,f.listener,E)}const _=wi;return f}function $n(f,_,E,C,Y){if(Array.isArray(_))for(var $=0;$<_.length;$++)$n(f,_[$],E,C,Y);else C=h(C)?!!C.capture:!!C,E=da(E),f&&f[We]?(f=f.i,$=String(_).toString(),$ in f.g&&(_=f.g[$],E=Ce(_,E,C,Y),E>-1&&(de(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete f.g[$],f.h--)))):f&&(f=vn(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Ce(_,E,C,Y)),(E=f>-1?_[f]:null)&&bi(E))}function bi(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[We])Te(_.i,f);else{var E=f.type,C=f.proxy;_.removeEventListener?_.removeEventListener(E,C,f.capture):_.detachEvent?_.detachEvent(Mt(E),C):_.addListener&&_.removeListener&&_.removeListener(C),(E=vn(_))?(Te(E,f),E.h==0&&(E.src=null,_[oe]=null)):de(f)}}}function Mt(f){return f in _e?_e[f]:_e[f]="on"+f}function wi(f,_){if(f.da)f=!0;else{_=new Fe(_,this);const E=f.listener,C=f.ha||f.src;f.fa&&bi(f),f=E.call(C,_)}return f}function vn(f){return f=f[oe],f instanceof he?f:null}var Vn="__closure_events_fn_"+(Math.random()*1e9>>>0);function da(f){return typeof f=="function"?f:(f[Vn]||(f[Vn]=function(_){return f.handleEvent(_)}),f[Vn])}function Tt(){j.call(this),this.i=new he(this),this.M=this,this.G=null}v(Tt,j),Tt.prototype[We]=!0,Tt.prototype.removeEventListener=function(f,_,E,C){$n(this,f,_,E,C)};function Pt(f,_){var E,C=f.G;if(C)for(E=[];C;C=C.G)E.push(C);if(f=f.M,C=_.type||_,typeof _=="string")_=new L(_,f);else if(_ instanceof L)_.target=_.target||f;else{var Y=_;_=new L(C,f),ce(_,Y)}Y=!0;let $,ue;if(E)for(ue=E.length-1;ue>=0;ue--)$=_.g=E[ue],Y=ws($,C,!0,_)&&Y;if($=_.g=f,Y=ws($,C,!0,_)&&Y,Y=ws($,C,!1,_)&&Y,E)for(ue=0;ue<E.length;ue++)$=_.g=E[ue],Y=ws($,C,!1,_)&&Y}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const E=f.g[_];for(let C=0;C<E.length;C++)de(E[C]);delete f.g[_],f.h--}}this.G=null},Tt.prototype.J=function(f,_,E,C){return this.i.add(String(f),_,!1,E,C)},Tt.prototype.K=function(f,_,E,C){return this.i.add(String(f),_,!0,E,C)};function ws(f,_,E,C){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let Y=!0;for(let $=0;$<_.length;++$){const ue=_[$];if(ue&&!ue.da&&ue.capture==E){const Ie=ue.listener,Ct=ue.ha||ue.src;ue.fa&&Te(f.i,ue),Y=Ie.call(Ct,C)!==!1&&Y}}return Y&&!C.defaultPrevented}function go(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(f,_||0)}function yo(f){f.g=go(()=>{f.g=null,f.i&&(f.i=!1,yo(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class bt extends j{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:yo(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(f){j.call(this),this.h=f,this.g={}}v(Es,j);var kn=[];function ma(f){xe(f.g,function(_,E){this.g.hasOwnProperty(E)&&bi(_)},f),f.g={}}Es.prototype.N=function(){Es.Z.N.call(this),ma(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var en=u.JSON.stringify,Hl=u.JSON.parse,Wc=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function Qc(){}function Zc(){}var Ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tn(){L.call(this,"d")}v(tn,L);function Wn(){L.call(this,"c")}v(Wn,L);var xt={},Jc=null;function vo(){return Jc=Jc||new Tt}xt.Ia="serverreachability";function eh(f){L.call(this,xt.Ia,f)}v(eh,L);function Fi(f){const _=vo();Pt(_,new eh(_))}xt.STAT_EVENT="statevent";function pa(f,_){L.call(this,xt.STAT_EVENT,f),this.stat=_}v(pa,L);function Ot(f){const _=vo();Pt(_,new pa(_,f))}xt.Ja="timingevent";function Hi(f,_){L.call(this,xt.Ja,f),this.size=_}v(Hi,L);function qi(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},_)}function Si(){this.g=!0}Si.prototype.ua=function(){this.g=!1};function gm(f,_,E,C,Y,$){f.info(function(){if(f.g)if($){var ue="",Ie=$.split("&");for(let Ke=0;Ke<Ie.length;Ke++){var Ct=Ie[Ke].split("=");if(Ct.length>1){const ct=Ct[0];Ct=Ct[1];const ei=ct.split("_");ue=ei.length>=2&&ei[1]=="type"?ue+(ct+"="+Ct+"&"):ue+(ct+"=redacted&")}}}else ue=null;else ue=$;return"XMLHTTP REQ ("+C+") [attempt "+Y+"]: "+_+`
`+E+`
`+ue})}function th(f,_,E,C,Y,$,ue){f.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+Y+"]: "+_+`
`+E+`
`+$+" "+ue})}function Yi(f,_,E,C){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+ym(f,E)+(C?" "+C:"")})}function ga(f,_){f.info(function(){return"TIMEOUT: "+_})}Si.prototype.info=function(){};function ym(f,_){if(!f.g)return _;if(!_)return null;try{const $=JSON.parse(_);if($){for(f=0;f<$.length;f++)if(Array.isArray($[f])){var E=$[f];if(!(E.length<2)){var C=E[1];if(Array.isArray(C)&&!(C.length<1)){var Y=C[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let ue=1;ue<C.length;ue++)C[ue]=""}}}}return en($)}catch{return _}}var ya={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ql={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yl;function va(){}v(va,Qc),va.prototype.g=function(){return new XMLHttpRequest},Yl=new va;function Ss(f){return encodeURIComponent(String(f))}function nh(f){var _=1;f=f.split(":");const E=[];for(;_>0&&f.length;)E.push(f.shift()),_--;return f.length&&E.push(f.join(":")),E}function Ai(f,_,E,C){this.j=f,this.i=_,this.l=E,this.S=C||1,this.V=new Es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new xi}function xi(){this.i=null,this.g="",this.h=!1}var Vt={},Wt={};function Gi(f,_,E){f.M=1,f.A=_a(Lt(_)),f.u=E,f.R=!0,_o(f,null)}function _o(f,_){f.F=Date.now(),Ki(f),f.B=Lt(f.A);var E=f.B,C=f.S;Array.isArray(C)||(C=[String(C)]),Eo(E.i,"t",C),f.C=0,E=f.j.L,f.h=new xi,f.g=yh(f.j,E?_:null,!f.u),f.P>0&&(f.O=new bt(p(f.Y,f,f.g),f.P)),_=f.V,E=f.g,C=f.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(kn[0]=Y.toString()),Y=kn);for(let $=0;$<Y.length;$++){const ue=we(E,Y[$],C||_.handleEvent,!1,_.h||_);if(!ue)break;_.g[ue.key]=ue}_=f.J?z(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),Fi(),gm(f.i,f.v,f.B,f.l,f.S,f.u)}Ai.prototype.ba=function(f){f=f.target;const _=this.O;_&&Ni(f)==3?_.j():this.Y(f)},Ai.prototype.Y=function(f){try{if(f==this.g)e:{const Ie=Ni(this.g),Ct=this.g.ya(),Ke=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||nn(this.g)))){this.K||Ie!=4||Ct==7||(Ct==8||Ke<=0?Fi(3):Fi(2)),Xi(this);var _=this.g.ca();this.X=_;var E=vm(this);if(this.o=_==200,th(this.i,this.v,this.B,this.l,this.S,Ie,_),this.o){if(this.U&&!this.L){t:{if(this.g){var C,Y=this.g;if((C=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(C)){var $=C;break t}}$=null}if(f=$)Yi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$i(this,f);else{this.o=!1,this.m=3,Ot(12),Ln(this),Qn(this);break e}}if(this.R){f=!0;let ct;for(;!this.K&&this.C<E.length;)if(ct=sh(this,E),ct==Wt){Ie==4&&(this.m=4,Ot(14),f=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Vt){this.m=4,Ot(15),Yi(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else Yi(this.i,this.l,ct,null),$i(this,ct);if(ih(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||E.length!=0||this.h.h||(this.m=1,Ot(16),f=!1),this.o=this.o&&f,!f)Yi(this.i,this.l,E,"[Invalid Chunked Response]"),Ln(this),Qn(this);else if(E.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),au(ue),ue.P=!0,Ot(11))}}else Yi(this.i,this.l,E,null),$i(this,E);Ie==4&&Ln(this),this.o&&!this.K&&(Ie==4?dh(this.j,this):(this.o=!1,Ki(this)))}else xs(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ot(12)):(this.m=0,Ot(13)),Ln(this),Qn(this)}}}catch{}finally{}};function vm(f){if(!ih(f))return f.g.la();const _=nn(f.g);if(_==="")return"";let E="";const C=_.length,Y=Ni(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Ln(f),Qn(f),"";f.h.i=new u.TextDecoder}for(let $=0;$<C;$++)f.h.h=!0,E+=f.h.i.decode(_[$],{stream:!(Y&&$==C-1)});return _.length=0,f.h.g+=E,f.C=0,f.h.g}function ih(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function sh(f,_){var E=f.C,C=_.indexOf(`
`,E);return C==-1?Wt:(E=Number(_.substring(E,C)),isNaN(E)?Vt:(C+=1,C+E>_.length?Wt:(_=_.slice(C,C+E),f.C=C+E,_)))}Ai.prototype.cancel=function(){this.K=!0,Ln(this)};function Ki(f){f.T=Date.now()+f.H,To(f,f.H)}function To(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=qi(p(f.aa,f),_)}function Xi(f){f.D&&(u.clearTimeout(f.D),f.D=null)}Ai.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ga(this.i,this.B),this.M!=2&&(Fi(),Ot(17)),Ln(this),this.m=2,Qn(this)):To(this,this.T-f)};function Qn(f){f.j.I==0||f.K||dh(f.j,f)}function Ln(f){Xi(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,ma(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function $i(f,_){try{var E=f.j;if(E.I!=0&&(E.g==f||Qi(E.h,f))){if(!f.L&&Qi(E.h,f)&&E.I==3){try{var C=E.Ba.g.parse(_)}catch{C=null}if(Array.isArray(C)&&C.length==3){var Y=C;if(Y[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)Ro(E),hr(E);else break e;xa(E),Ot(18)}}else E.xa=Y[1],0<E.xa-E.K&&Y[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=qi(p(E.Va,E),6e3));Wi(E.h)<=1&&E.ta&&(E.ta=void 0)}else is(E,11)}else if((f.L||E.g==f)&&Ro(E),!P(_))for(Y=E.Ba.g.parse(_),_=0;_<Y.length;_++){let Ke=Y[_];const ct=Ke[0];if(!(ct<=E.K))if(E.K=ct,Ke=Ke[1],E.I==2)if(Ke[0]=="c"){E.M=Ke[1],E.ba=Ke[2];const ei=Ke[3];ei!=null&&(E.ka=ei,E.j.info("VER="+E.ka));const ss=Ke[4];ss!=null&&(E.za=ss,E.j.info("SVER="+E.za));const Di=Ke[5];Di!=null&&typeof Di=="number"&&Di>0&&(C=1.5*Di,E.O=C,E.j.info("backChannelRequestTimeoutMs_="+C)),C=E;const Ii=f.g;if(Ii){const Ca=Ii.g?Ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ca){var $=C.h;$.g||Ca.indexOf("spdy")==-1&&Ca.indexOf("quic")==-1&&Ca.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Xl($,$.h),$.h=null))}if(C.G){const No=Ii.g?Ii.g.getResponseHeader("X-HTTP-Session-Id"):null;No&&(C.wa=No,Qe(C.J,C.G,No))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),C=E;var ue=f;if(C.na=gh(C,C.L?C.ba:null,C.W),ue.L){$l(C.h,ue);var Ie=ue,Ct=C.O;Ct&&(Ie.H=Ct),Ie.D&&(Xi(Ie),Ki(Ie)),C.g=ue}else hh(C);E.i.length>0&&ns(E)}else Ke[0]!="stop"&&Ke[0]!="close"||is(E,7);else E.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?is(E,7):su(E):Ke[0]!="noop"&&E.l&&E.l.qa(Ke),E.A=0)}}Fi(4)}catch{}}var kt=class{constructor(f,_){this.g=f,this.map=_}};function Gl(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Kl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Wi(f){return f.h?1:f.g?f.g.size:0}function Qi(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Xl(f,_){f.g?f.g.add(_):f.h=_}function $l(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Gl.prototype.cancel=function(){if(this.i=Wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Wl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const E of f.g.values())_=_.concat(E.G);return _}return S(f.i)}var rh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bo(f,_){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const C=f[E].indexOf("=");let Y,$=null;C>=0?(Y=f[E].substring(0,C),$=f[E].substring(C+1)):Y=f[E],_(Y,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function jn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof jn?(this.l=f.l,Qt(this,f.j),this.o=f.o,this.g=f.g,sr(this,f.u),this.h=f.h,Ql(this,uh(f.i)),this.m=f.m):f&&(_=String(f).match(rh))?(this.l=!1,Qt(this,_[1]||"",!0),this.o=Zi(_[2]||""),this.g=Zi(_[3]||"",!0),sr(this,_[4]),this.h=Zi(_[5]||"",!0),Ql(this,_[6]||"",!0),this.m=Zi(_[7]||"")):(this.l=!1,this.i=new ar(null,this.l))}jn.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(Ta(_,wo,!0),":");var E=this.g;return(E||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Ta(_,wo,!0),"@"),f.push(Ss(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(Ta(E,E.charAt(0)=="/"?Zl:ah,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",Ta(E,oh)),f.join("")},jn.prototype.resolve=function(f){const _=Lt(this);let E=!!f.j;E?Qt(_,f.j):E=!!f.o,E?_.o=f.o:E=!!f.g,E?_.g=f.g:E=f.u!=null;var C=f.h;if(E)sr(_,f.u);else if(E=!!f.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var Y=_.h.lastIndexOf("/");Y!=-1&&(C=_.h.slice(0,Y+1)+C)}if(Y=C,Y==".."||Y==".")C="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){C=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const $=[];for(let ue=0;ue<Y.length;){const Ie=Y[ue++];Ie=="."?C&&ue==Y.length&&$.push(""):Ie==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),C&&ue==Y.length&&$.push("")):($.push(Ie),C=!0)}C=$.join("/")}else C=Y}return E?_.h=C:E=f.i.toString()!=="",E?Ql(_,uh(f.i)):E=!!f.m,E&&(_.m=f.m),_};function Lt(f){return new jn(f)}function Qt(f,_,E){f.j=E?Zi(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function sr(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function Ql(f,_,E){_ instanceof ar?(f.i=_,So(f.i,f.l)):(E||(_=Ta(_,rr)),f.i=new ar(_,f.l))}function Qe(f,_,E){f.i.set(_,E)}function _a(f){return Qe(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Zi(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ta(f,_,E){return typeof f=="string"?(f=encodeURI(f).replace(_,Sn),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Sn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var wo=/[#\/\?@]/g,ah=/[#\?:]/g,Zl=/[#\?]/g,rr=/[#\?@]/g,oh=/#/g;function ar(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function An(f){f.g||(f.g=new Map,f.h=0,f.i&&bo(f.i,function(_,E){f.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=ar.prototype,t.add=function(f,_){An(this),this.i=null,f=or(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(_),this.h+=1,this};function lh(f,_){An(f),_=or(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Jl(f,_){return An(f),_=or(f,_),f.g.has(_)}t.forEach=function(f,_){An(this),this.g.forEach(function(E,C){E.forEach(function(Y){f.call(_,Y,C,this)},this)},this)};function eu(f,_){An(f);let E=[];if(typeof _=="string")Jl(f,_)&&(E=E.concat(f.g.get(or(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)E=E.concat(f[_]);return E}t.set=function(f,_){return An(this),this.i=null,f=or(this,f),Jl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=eu(this,f),f.length>0?String(f[0]):_):_};function Eo(f,_,E){lh(f,_),E.length>0&&(f.i=null,f.g.set(or(f,_),S(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let C=0;C<_.length;C++){var E=_[C];const Y=Ss(E);E=eu(this,E);for(let $=0;$<E.length;$++){let ue=Y;E[$]!==""&&(ue+="="+Ss(E[$])),f.push(ue)}}return this.i=f.join("&")};function uh(f){const _=new ar;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function or(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function So(f,_){_&&!f.j&&(An(f),f.i=null,f.g.forEach(function(E,C){const Y=C.toLowerCase();C!=Y&&(lh(this,C),Eo(this,Y,E))},f)),f.j=_}function Ci(f,_){const E=new Si;if(u.Image){const C=new Image;C.onload=y(Zn,E,"TestLoadImage: loaded",!0,_,C),C.onerror=y(Zn,E,"TestLoadImage: error",!1,_,C),C.onabort=y(Zn,E,"TestLoadImage: abort",!1,_,C),C.ontimeout=y(Zn,E,"TestLoadImage: timeout",!1,_,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=f}else _(!1)}function tu(f,_){const E=new Si,C=new AbortController,Y=setTimeout(()=>{C.abort(),Zn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:C.signal}).then($=>{clearTimeout(Y),$.ok?Zn(E,"TestPingServer: ok",!0,_):Zn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Y),Zn(E,"TestPingServer: error",!1,_)})}function Zn(f,_,E,C,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),C(E)}catch{}}function lr(){this.g=new Wc}function Ji(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Ji,Qc),Ji.prototype.g=function(){return new ba(this.i,this.h)};function ba(f,_){Tt.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(ba,Tt),t=ba.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,Ri(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ao(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ao(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?ur(this):Ri(this),this.readyState==3&&Ao(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,ur(this))},t.Na=function(f){this.g&&(this.response=f,ur(this))},t.ga=function(){this.g&&ur(this)};function ur(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Ri(f)}t.setRequestHeader=function(f,_){this.A.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=_.next();return f.join(`\r
`)};function Ri(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ba.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Jn(f){let _="";return xe(f,function(E,C){_+=C,_+=":",_+=E,_+=`\r
`}),_}function wa(f,_,E){e:{for(C in E){var C=!1;break e}C=!0}C||(E=Jn(E),typeof f=="string"?E!=null&&Ss(E):Qe(f,_,E))}function et(f){Tt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(et,Tt);var es=/^https?$/i,nu=["POST","PUT"];t=et.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,_,E,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yl.g(),this.g.onreadystatechange=T(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch($){Ea(this,$);return}if(f=E||"",E=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var Y in C)E.set(Y,C[Y]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const $ of C.keys())E.set($,C.get($));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),Y=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(nu,_,void 0)>=0)||C||Y||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ue]of E)this.g.setRequestHeader($,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch($){Ea(this,$)}};function Ea(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,iu(f),As(f)}function iu(f){f.A||(f.A=!0,Pt(f,"complete"),Pt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Pt(this,"complete"),Pt(this,"abort"),As(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),As(this,!0)),et.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Sa(this):this.Xa())},t.Xa=function(){Sa(this)};function Sa(f){if(f.h&&typeof l<"u"){if(f.v&&Ni(f)==4)setTimeout(f.Ca.bind(f),0);else if(Pt(f,"readystatechange"),Ni(f)==4){f.h=!1;try{const $=f.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var C;if(C=$===0){let ue=String(f.D).match(rh)[1]||null;!ue&&u.self&&u.self.location&&(ue=u.self.location.protocol.slice(0,-1)),C=!es.test(ue?ue.toLowerCase():"")}E=C}if(E)Pt(f,"complete"),Pt(f,"success");else{f.o=6;try{var Y=Ni(f)>2?f.g.statusText:""}catch{Y=""}f.l=Y+" ["+f.ca()+"]",iu(f)}}finally{As(f)}}}}function As(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,_||Pt(f,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ni(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Ni(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Hl(_)}};function nn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function xs(f){const _={};f=(f.g&&Ni(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<f.length;C++){if(P(f[C]))continue;var E=nh(f[C]);const Y=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=_[Y]||[];_[Y]=$,$.push(E)}Oe(_,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(f,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||_}function cr(f){this.za=0,this.i=[],this.j=new Si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ts("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ts("baseRetryDelayMs",5e3,f),this.Za=ts("retryDelaySeedMs",1e4,f),this.Ta=ts("forwardChannelMaxRetries",2,f),this.va=ts("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Gl(f&&f.concurrentRequestLimit),this.Ba=new lr,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=cr.prototype,t.ka=8,t.I=1,t.connect=function(f,_,E,C){Ot(0),this.W=f,this.H=_||{},E&&C!==void 0&&(this.H.OSID=E,this.H.OAID=C),this.F=this.X,this.J=gh(this,null,this.W),ns(this)};function su(f){if(xo(f),f.I==3){var _=f.V++,E=Lt(f.J);if(Qe(E,"SID",f.M),Qe(E,"RID",_),Qe(E,"TYPE","terminate"),Aa(f,E),_=new Ai(f,f.j,_),_.M=2,_.A=_a(Lt(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.A,E=!0),E||(_.g=yh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Ki(_)}ph(f)}function hr(f){f.g&&(au(f),f.g.cancel(),f.g=null)}function xo(f){hr(f),f.v&&(u.clearTimeout(f.v),f.v=null),Ro(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function ns(f){if(!Kl(f.h)&&!f.m){f.m=!0;var _=f.Ea;te||x(),Z||(te(),Z=!0),R.add(_,f),f.D=0}}function Co(f,_){return Wi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=qi(p(f.Ea,f,_),mh(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const Y=new Ai(this,this.j,f);let $=this.o;if(this.U&&($?($=z($),ce($,this.U)):$=this.U),this.u!==null||this.R||(Y.J=$,$=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var C=this.i[E];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(_+=C,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=ch(this,Y,_),E=Lt(this.J),Qe(E,"RID",f),Qe(E,"CVER",22),this.G&&Qe(E,"X-HTTP-Session-Id",this.G),Aa(this,E),$&&(this.R?_="headers="+Ss(Jn($))+"&"+_:this.u&&wa(E,this.u,$)),Xl(this.h,Y),this.Ra&&Qe(E,"TYPE","init"),this.S?(Qe(E,"$req",_),Qe(E,"SID","null"),Y.U=!0,Gi(Y,E,null)):Gi(Y,E,_),this.I=2}}else this.I==3&&(f?ru(this,f):this.i.length==0||Kl(this.h)||ru(this))};function ru(f,_){var E;_?E=_.l:E=f.V++;const C=Lt(f.J);Qe(C,"SID",f.M),Qe(C,"RID",E),Qe(C,"AID",f.K),Aa(f,C),f.u&&f.o&&wa(C,f.u,f.o),E=new Ai(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),_&&(f.i=_.G.concat(f.i)),_=ch(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Xl(f.h,E),Gi(E,C,_)}function Aa(f,_){f.H&&xe(f.H,function(E,C){Qe(_,C,E)}),f.l&&xe({},function(E,C){Qe(_,C,E)})}function ch(f,_,E){E=Math.min(f.i.length,E);const C=f.l?p(f.l.Ka,f.l,f):null;e:{var Y=f.i;let Ie=-1;for(;;){const Ct=["count="+E];Ie==-1?E>0?(Ie=Y[0].g,Ct.push("ofs="+Ie)):Ie=0:Ct.push("ofs="+Ie);let Ke=!0;for(let ct=0;ct<E;ct++){var $=Y[ct].g;const ei=Y[ct].map;if($-=Ie,$<0)Ie=Math.max(0,Y[ct].g-100),Ke=!1;else try{$="req"+$+"_"||"";try{var ue=ei instanceof Map?ei:Object.entries(ei);for(const[ss,Di]of ue){let Ii=Di;h(Di)&&(Ii=en(Di)),Ct.push($+ss+"="+encodeURIComponent(Ii))}}catch(ss){throw Ct.push($+"type="+encodeURIComponent("_badmap")),ss}}catch{C&&C(ei)}}if(Ke){ue=Ct.join("&");break e}}ue=void 0}return f=f.i.splice(0,E),_.G=f,ue}function hh(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;te||x(),Z||(te(),Z=!0),R.add(_,f),f.A=0}}function xa(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=qi(p(f.Da,f),mh(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,fh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=qi(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ot(10),hr(this),fh(this))};function au(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function fh(f){f.g=new Ai(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=Lt(f.na);Qe(_,"RID","rpc"),Qe(_,"SID",f.M),Qe(_,"AID",f.K),Qe(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&Qe(_,"TO",f.ia),Qe(_,"TYPE","xmlhttp"),Aa(f,_),f.u&&f.o&&wa(_,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=_a(Lt(_)),E.u=null,E.R=!0,_o(E,f)}t.Va=function(){this.C!=null&&(this.C=null,hr(this),xa(this),Ot(19))};function Ro(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function dh(f,_){var E=null;if(f.g==_){Ro(f),au(f),f.g=null;var C=2}else if(Qi(f.h,_))E=_.G,$l(f.h,_),C=1;else return;if(f.I!=0){if(_.o)if(C==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var Y=f.D;C=vo(),Pt(C,new Hi(C,E)),ns(f)}else hh(f);else if(Y=_.m,Y==3||Y==0&&_.X>0||!(C==1&&Co(f,_)||C==2&&xa(f)))switch(E&&E.length>0&&(_=f.h,_.i=_.i.concat(E)),Y){case 1:is(f,5);break;case 4:is(f,10);break;case 3:is(f,6);break;default:is(f,2)}}}function mh(f,_){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*_}function is(f,_){if(f.j.info("Error code "+_),_==2){var E=p(f.bb,f),C=f.Ua;const Y=!C;C=new jn(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Qt(C,"https"),_a(C),Y?Ci(C.toString(),E):tu(C.toString(),E)}else Ot(2);f.I=0,f.l&&f.l.pa(_),ph(f),xo(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function ph(f){if(f.I=0,f.ja=[],f.l){const _=Wl(f.h);(_.length!=0||f.i.length!=0)&&(N(f.ja,_),N(f.ja,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.oa()}}function gh(f,_,E){var C=E instanceof jn?Lt(E):new jn(E);if(C.g!="")_&&(C.g=_+"."+C.g),sr(C,C.u);else{var Y=u.location;C=Y.protocol,_=_?_+"."+Y.hostname:Y.hostname,Y=+Y.port;const $=new jn(null);C&&Qt($,C),_&&($.g=_),Y&&sr($,Y),E&&($.h=E),C=$}return E=f.G,_=f.wa,E&&_&&Qe(C,E,_),Qe(C,"VER",f.ka),Aa(f,C),C}function yh(f,_,E){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new et(new Ji({ab:E})):new et(f.ma),_.Fa(f.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vh(){}t=vh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function fr(){}fr.prototype.g=function(f,_){return new _n(f,_)};function _n(f,_){Tt.call(this),this.g=new cr(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!P(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Cs(this)}v(_n,Tt),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){su(this.g)},_n.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=en(f),f=E);_.i.push(new kt(_.Ya++,f)),_.I==3&&ns(_)},_n.prototype.N=function(){this.g.l=null,delete this.j,su(this.g),delete this.g,_n.Z.N.call(this)};function _h(f){tn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const E in _){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(_h,tn);function Th(){Wn.call(this),this.status=1}v(Th,Wn);function Cs(f){this.g=f}v(Cs,vh),Cs.prototype.ra=function(){Pt(this.g,"a")},Cs.prototype.qa=function(f){Pt(this.g,new _h(f))},Cs.prototype.pa=function(f){Pt(this.g,new Th)},Cs.prototype.oa=function(){Pt(this.g,"b")},fr.prototype.createWebChannel=fr.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,mC=function(){return new fr},dC=function(){return vo()},fC=xt,Ry={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ya.NO_ERROR=0,ya.TIMEOUT=8,ya.HTTP_ERROR=6,Yf=ya,ql.COMPLETE="complete",hC=ql,Zc.EventType=Ei,Ei.OPEN="a",Ei.CLOSE="b",Ei.ERROR="c",Ei.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Qu=Zc,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,cC=et}).apply(typeof If<"u"?If:typeof self<"u"?self:typeof window<"u"?window:{});const lS="@firebase/firestore",uS="4.9.2";class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");let Ll="12.3.0";const no=new Hd("@firebase/firestore");function al(){return no.logLevel}function me(t,...e){if(no.logLevel<=Ue.DEBUG){const n=e.map(qv);no.debug(`Firestore (${Ll}): ${t}`,...n)}}function Js(t,...e){if(no.logLevel<=Ue.ERROR){const n=e.map(qv);no.error(`Firestore (${Ll}): ${t}`,...n)}}function Al(t,...e){if(no.logLevel<=Ue.WARN){const n=e.map(qv);no.warn(`Firestore (${Ll}): ${t}`,...n)}}function qv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Se(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,pC(t,s,n)}function pC(t,e,n){let s=`FIRESTORE (${Ll}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Js(s),new Error(s)}function $e(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||pC(e,a,s)}function De(t,e){return t}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ks{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class gC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class T6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(mn.UNAUTHENTICATED)))}shutdown(){}}class b6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class w6{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let s=this.i;const a=d=>this.i!==s?(s=this.i,n(d)):Promise.resolve();let l=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ks,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ks)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string",31837,{l:s}),new gC(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class E6{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class S6{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new E6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(mn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class A6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const s=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new cS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new cS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function x6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class Yv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=x6(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function ze(t,e){return t<e?-1:t>e?1:0}function Ny(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return zg(a)===zg(l)?ze(a,l):zg(a)?1:-1}return ze(t.length,e.length)}const C6=55296,R6=57343;function zg(t){const e=t.charCodeAt(0);return e>=C6&&e<=R6}function xl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const hS="__name__";class us{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return us.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof us?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=us.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return ze(e.length,n.length)}static compareSegments(e,n){const s=us.isNumericId(e),a=us.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?us.extractNumericId(e).compare(us.extractNumericId(n)):Ny(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xr.fromString(e.substring(4,e.length-2))}}class at extends us{construct(e,n,s){return new at(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const N6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends us{construct(e,n,s){return new cn(e,n,s)}static isValidIdentifier(e){return N6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hS}static keyField(){return new cn([hS])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new fe(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new fe(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new fe(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(s+=h,a++):(l(),a++)}if(l(),u)throw new fe(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(at.fromString(e))}static fromName(e){return new ve(at.fromString(e).popFirst(5))}static empty(){return new ve(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new at(e.slice()))}}function yC(t,e,n){if(!n)throw new fe(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function D6(t,e,n,s){if(e===!0&&s===!0)throw new fe(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fS(t){if(!ve.isDocumentKey(t))throw new fe(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function dS(t){if(ve.isDocumentKey(t))throw new fe(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function qd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function On(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qd(t);throw new fe(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Yt(t,e){const n={typeString:t};return e&&(n.value=e),n}function jc(t,e){if(!vC(t))throw new fe(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new fe(se.INVALID_ARGUMENT,n);return!0}const mS=-62135596800,pS=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*pS);return new ut(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<mS)throw new fe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pS}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(jc(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-mS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Yt("string",ut._jsonSchemaVersion),seconds:Yt("number"),nanoseconds:Yt("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new ut(0,0))}static max(){return new Re(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Tc=-1;function I6(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Re.fromTimestamp(s===1e9?new ut(n+1,0):new ut(n,s));return new ea(a,ve.empty(),e)}function M6(t){return new ea(t.readTime,t.key,Tc)}class ea{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ea(Re.min(),ve.empty(),Tc)}static max(){return new ea(Re.max(),ve.empty(),Tc)}}function P6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}const O6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function jl(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==O6)throw t;me("LocalStore","Unexpectedly lost primary lease")}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,s)=>{n(e)}))}static reject(e){return new ae(((n,s)=>{s(e)}))}static waitFor(e){return new ae(((n,s)=>{let a=0,l=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&n()}),(d=>s(d)))})),u=!0,l===a&&n()}))}static or(e){let n=ae.resolve(!1);for(const s of e)n=n.next((a=>a?ae.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new ae(((s,a)=>{const l=e.length,u=new Array(l);let h=0;for(let d=0;d<l;d++){const p=d;n(e[p]).next((y=>{u[p]=y,++h,h===l&&s(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new ae(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function k6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ul(t){return t.name==="IndexedDbTransactionError"}class Yd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Yd.ce=-1;const Gv=-1;function Gd(t){return t==null}function hd(t){return t===0&&1/t==-1/0}function L6(t){return typeof t=="number"&&Number.isInteger(t)&&!hd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const _C="";function j6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=gS(e)),e=U6(t.get(n),e);return gS(e)}function U6(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case _C:n+="";break;default:n+=l}}return n}function gS(t){return t+_C+""}function yS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function la(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class _t{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mf(this.root,e,this.comparator,!0)}}class Mf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??un.RED,this.left=a??un.EMPTY,this.right=l??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new un(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return un.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $t{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vS(this.data.getIterator())}getIteratorFrom(e){return new vS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new $t(this.comparator);return n.data=e,n}}class vS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Kn{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new Kn([])}unionWith(e){let n=new $t(cn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class bC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new bC("Invalid base64 string: "+l):l}})(e);return new hn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hn.EMPTY_BYTE_STRING=new hn("");const z6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ta(t){if($e(!!t,39018),typeof t=="string"){let e=0;const n=z6.exec(t);if($e(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function na(t){return typeof t=="string"?hn.fromBase64String(t):hn.fromUint8Array(t)}const wC="server_timestamp",EC="__type__",SC="__previous_value__",AC="__local_write_time__";function Kv(t){return(t?.mapValue?.fields||{})[EC]?.stringValue===wC}function Kd(t){const e=t.mapValue.fields[SC];return Kv(e)?Kd(e):e}function bc(t){const e=ta(t.mapValue.fields[AC].timestampValue);return new ut(e.seconds,e.nanos)}class B6{constructor(e,n,s,a,l,u,h,d,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=y}}const fd="(default)";class wc{constructor(e,n){this.projectId=e,this.database=n||fd}static empty(){return new wc("","")}get isDefaultDatabase(){return this.database===fd}isEqual(e){return e instanceof wc&&e.projectId===this.projectId&&e.database===this.database}}const xC="__type__",F6="__max__",Pf={mapValue:{}},CC="__vector__",dd="value";function ia(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kv(t)?4:q6(t)?9007199254740991:H6(t)?10:11:Se(28295,{value:t})}function _s(t,e){if(t===e)return!0;const n=ia(t);if(n!==ia(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bc(t).isEqual(bc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=ta(a.timestampValue),h=ta(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return na(a.bytesValue).isEqual(na(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return It(a.geoPointValue.latitude)===It(l.geoPointValue.latitude)&&It(a.geoPointValue.longitude)===It(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return It(a.integerValue)===It(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=It(a.doubleValue),h=It(l.doubleValue);return u===h?hd(u)===hd(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return xl(t.arrayValue.values||[],e.arrayValue.values||[],_s);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(yS(u)!==yS(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!_s(u[d],h[d])))return!1;return!0})(t,e);default:return Se(52216,{left:t})}}function Ec(t,e){return(t.values||[]).find((n=>_s(n,e)))!==void 0}function Cl(t,e){if(t===e)return 0;const n=ia(t),s=ia(e);if(n!==s)return ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=It(l.integerValue||l.doubleValue),d=It(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return _S(t.timestampValue,e.timestampValue);case 4:return _S(bc(t),bc(e));case 5:return Ny(t.stringValue,e.stringValue);case 6:return(function(l,u){const h=na(l),d=na(u);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),d=u.split("/");for(let p=0;p<h.length&&p<d.length;p++){const y=ze(h[p],d[p]);if(y!==0)return y}return ze(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=ze(It(l.latitude),It(u.latitude));return h!==0?h:ze(It(l.longitude),It(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return TS(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const h=l.fields||{},d=u.fields||{},p=h[dd]?.arrayValue,y=d[dd]?.arrayValue,v=ze(p?.values?.length||0,y?.values?.length||0);return v!==0?v:TS(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Pf.mapValue&&u===Pf.mapValue)return 0;if(l===Pf.mapValue)return 1;if(u===Pf.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),p=u.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const T=Ny(d[v],y[v]);if(T!==0)return T;const S=Cl(h[d[v]],p[y[v]]);if(S!==0)return S}return ze(d.length,y.length)})(t.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function _S(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=ta(t),s=ta(e),a=ze(n.seconds,s.seconds);return a!==0?a:ze(n.nanos,s.nanos)}function TS(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Cl(n[a],s[a]);if(l)return l}return ze(n.length,s.length)}function Rl(t){return Dy(t)}function Dy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=ta(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return na(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ve.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Dy(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${Dy(n.fields[u])}`;return a+"}"})(t.mapValue):Se(61005,{value:t})}function Gf(t){switch(ia(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kd(t);return e?16+Gf(e):16;case 5:return 2*t.stringValue.length;case 6:return na(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Gf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return la(s.fields,((l,u)=>{a+=l.length+Gf(u)})),a})(t.mapValue);default:throw Se(13486,{value:t})}}function bS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Iy(t){return!!t&&"integerValue"in t}function Xv(t){return!!t&&"arrayValue"in t}function wS(t){return!!t&&"nullValue"in t}function ES(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kf(t){return!!t&&"mapValue"in t}function H6(t){return(t?.mapValue?.fields||{})[xC]?.stringValue===CC}function oc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return la(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=oc(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=oc(t.arrayValue.values[n]);return e}return{...t}}function q6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===F6}class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Kf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=oc(n)}setAll(e){let n=cn.emptyPath(),s={},a=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,s,a),s={},a=[],n=h.popLast()}u?s[h.lastSegment()]=oc(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Kf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _s(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Kf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){la(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Mn(oc(this.value))}}function RC(t){const e=[];return la(t.fields,((n,s)=>{const a=new cn([n]);if(Kf(s)){const l=RC(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Kn(e)}class pn{constructor(e,n,s,a,l,u,h){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new pn(e,0,Re.min(),Re.min(),Re.min(),Mn.empty(),0)}static newFoundDocument(e,n,s,a){return new pn(e,1,n,Re.min(),s,a,0)}static newNoDocument(e,n){return new pn(e,2,n,Re.min(),Re.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,Re.min(),Re.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class md{constructor(e,n){this.position=e,this.inclusive=n}}function SS(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=ve.comparator(ve.fromName(u.referenceValue),n.key):s=Cl(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function AS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_s(t.position[n],e.position[n]))return!1;return!0}class Sc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Y6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class NC{}class qt extends NC{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new K6(e,n,s):n==="array-contains"?new W6(e,s):n==="in"?new Q6(e,s):n==="not-in"?new Z6(e,s):n==="array-contains-any"?new J6(e,s):new qt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new X6(e,s):new $6(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Cl(n,this.value)):n!==null&&ia(this.value)===ia(n)&&this.matchesComparison(Cl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends NC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ui(e,n)}matches(e){return DC(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DC(t){return t.op==="and"}function IC(t){return G6(t)&&DC(t)}function G6(t){for(const e of t.filters)if(e instanceof Ui)return!1;return!0}function My(t){if(t instanceof qt)return t.field.canonicalString()+t.op.toString()+Rl(t.value);if(IC(t))return t.filters.map((e=>My(e))).join(",");{const e=t.filters.map((n=>My(n))).join(",");return`${t.op}(${e})`}}function MC(t,e){return t instanceof qt?(function(s,a){return a instanceof qt&&s.op===a.op&&s.field.isEqual(a.field)&&_s(s.value,a.value)})(t,e):t instanceof Ui?(function(s,a){return a instanceof Ui&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,h)=>l&&MC(u,a.filters[h])),!0):!1})(t,e):void Se(19439)}function PC(t){return t instanceof qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Rl(n.value)}`})(t):t instanceof Ui?(function(n){return n.op.toString()+" {"+n.getFilters().map(PC).join(" ,")+"}"})(t):"Filter"}class K6 extends qt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class X6 extends qt{constructor(e,n){super(e,"in",n),this.keys=OC("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class $6 extends qt{constructor(e,n){super(e,"not-in",n),this.keys=OC("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function OC(t,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class W6 extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xv(n)&&Ec(n.arrayValue,this.value)}}class Q6 extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ec(this.value.arrayValue,n)}}class Z6 extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ec(this.value.arrayValue,n)}}class J6 extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ec(this.value.arrayValue,s)))}}class e3{constructor(e,n=null,s=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function xS(t,e=null,n=[],s=[],a=null,l=null,u=null){return new e3(t,e,n,s,a,l,u)}function $v(t){const e=De(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>My(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Gd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Rl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Rl(s))).join(",")),e.Te=n}return e.Te}function Wv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Y6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!AS(t.startAt,e.startAt)&&AS(t.endAt,e.endAt)}function Py(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class zl{constructor(e,n=null,s=[],a=[],l=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function t3(t,e,n,s,a,l,u,h){return new zl(t,e,n,s,a,l,u,h)}function Xd(t){return new zl(t)}function CS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function VC(t){return t.collectionGroup!==null}function lc(t){const e=De(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new $t(cn.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Sc(l,s))})),n.has(cn.keyField().canonicalString())||e.Ie.push(new Sc(cn.keyField(),s))}return e.Ie}function fs(t){const e=De(t);return e.Ee||(e.Ee=n3(e,lc(t))),e.Ee}function n3(t,e){if(t.limitType==="F")return xS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Sc(a.field,l)}));const n=t.endAt?new md(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new md(t.startAt.position,t.startAt.inclusive):null;return xS(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Oy(t,e){const n=t.filters.concat([e]);return new zl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function pd(t,e,n){return new zl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $d(t,e){return Wv(fs(t),fs(e))&&t.limitType===e.limitType}function kC(t){return`${$v(fs(t))}|lt:${t.limitType}`}function ol(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>PC(a))).join(", ")}]`),Gd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Rl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Rl(a))).join(",")),`Target(${s})`})(fs(t))}; limitType=${t.limitType})`}function Wd(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ve.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of lc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,h,d){const p=SS(u,h,d);return u.inclusive?p<=0:p<0})(s.startAt,lc(s),a)||s.endAt&&!(function(u,h,d){const p=SS(u,h,d);return u.inclusive?p>=0:p>0})(s.endAt,lc(s),a))})(t,e)}function i3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function LC(t){return(e,n)=>{let s=!1;for(const a of lc(t)){const l=s3(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function s3(t,e,n){const s=t.field.isKeyField()?ve.comparator(e.key,n.key):(function(l,u,h){const d=u.data.field(l),p=h.data.field(l);return d!==null&&p!==null?Cl(d,p):Se(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:t.dir})}}class fo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return TC(this.inner)}size(){return this.innerSize}}const r3=new _t(ve.comparator);function er(){return r3}const jC=new _t(ve.comparator);function Zu(...t){let e=jC;for(const n of t)e=e.insert(n.key,n);return e}function UC(t){let e=jC;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Xa(){return uc()}function zC(){return uc()}function uc(){return new fo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const a3=new _t(ve.comparator),o3=new $t(ve.comparator);function Be(...t){let e=o3;for(const n of t)e=e.add(n);return e}const l3=new $t(ze);function u3(){return l3}function Qv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hd(e)?"-0":e}}function BC(t){return{integerValue:""+t}}function c3(t,e){return L6(e)?BC(e):Qv(t,e)}class Qd{constructor(){this._=void 0}}function h3(t,e,n){return t instanceof gd?(function(a,l){const u={fields:{[EC]:{stringValue:wC},[AC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Kv(l)&&(l=Kd(l)),l&&(u.fields[SC]=l),{mapValue:u}})(n,e):t instanceof Ac?HC(t,e):t instanceof xc?qC(t,e):(function(a,l){const u=FC(a,l),h=RS(u)+RS(a.Ae);return Iy(u)&&Iy(a.Ae)?BC(h):Qv(a.serializer,h)})(t,e)}function f3(t,e,n){return t instanceof Ac?HC(t,e):t instanceof xc?qC(t,e):n}function FC(t,e){return t instanceof yd?(function(s){return Iy(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class gd extends Qd{}class Ac extends Qd{constructor(e){super(),this.elements=e}}function HC(t,e){const n=YC(e);for(const s of t.elements)n.some((a=>_s(a,s)))||n.push(s);return{arrayValue:{values:n}}}class xc extends Qd{constructor(e){super(),this.elements=e}}function qC(t,e){let n=YC(e);for(const s of t.elements)n=n.filter((a=>!_s(a,s)));return{arrayValue:{values:n}}}class yd extends Qd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function RS(t){return It(t.integerValue||t.doubleValue)}function YC(t){return Xv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function d3(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Ac&&a instanceof Ac||s instanceof xc&&a instanceof xc?xl(s.elements,a.elements,_s):s instanceof yd&&a instanceof yd?_s(s.Ae,a.Ae):s instanceof gd&&a instanceof gd})(t.transform,e.transform)}class m3{constructor(e,n){this.version=e,this.transformResults=n}}class _i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zd{}function GC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zv(t.key,_i.none()):new Uc(t.key,t.data,_i.none());{const n=t.data,s=Mn.empty();let a=new $t(cn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new ua(t.key,s,new Kn(a.toArray()),_i.none())}}function p3(t,e,n){t instanceof Uc?(function(a,l,u){const h=a.value.clone(),d=DS(a.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof ua?(function(a,l,u){if(!Xf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=DS(a.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(KC(a)),d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function cc(t,e,n,s){return t instanceof Uc?(function(l,u,h,d){if(!Xf(l.precondition,u))return h;const p=l.value.clone(),y=IS(l.fieldTransforms,d,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof ua?(function(l,u,h,d){if(!Xf(l.precondition,u))return h;const p=IS(l.fieldTransforms,d,u),y=u.data;return y.setAll(KC(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,s):(function(l,u,h){return Xf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function g3(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=FC(s.transform,a||null);l!=null&&(n===null&&(n=Mn.empty()),n.set(s.field,l))}return n||null}function NS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&xl(s,a,((l,u)=>d3(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Uc extends Zd{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ua extends Zd{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function KC(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function DS(t,e,n){const s=new Map;$e(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,h=e.data.field(l.field);s.set(l.field,f3(u,h,n[a]))}return s}function IS(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,h3(l,u,e))}return s}class Zv extends Zd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class y3 extends Zd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class v3{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&p3(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=cc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=cc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=zC();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const d=GC(u,h);d!==null&&s.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&xl(this.mutations,e.mutations,((n,s)=>NS(n,s)))&&xl(this.baseMutations,e.baseMutations,((n,s)=>NS(n,s)))}}class Jv{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){$e(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return a3})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new Jv(e,n,s,a)}}class _3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class T3{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ft,qe;function b3(t){switch(t){case se.OK:return Se(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function XC(t){if(t===void 0)return Js("GRPC error has no .code"),se.UNKNOWN;switch(t){case Ft.OK:return se.OK;case Ft.CANCELLED:return se.CANCELLED;case Ft.UNKNOWN:return se.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return se.INTERNAL;case Ft.UNAVAILABLE:return se.UNAVAILABLE;case Ft.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Ft.NOT_FOUND:return se.NOT_FOUND;case Ft.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Ft.ABORTED:return se.ABORTED;case Ft.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Ft.DATA_LOSS:return se.DATA_LOSS;default:return Se(39323,{code:t})}}(qe=Ft||(Ft={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function w3(){return new TextEncoder}const E3=new Xr([4294967295,4294967295],0);function MS(t){const e=w3().encode(t),n=new uC;return n.update(e),new Uint8Array(n.digest())}function PS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Xr([n,s],0),new Xr([a,l],0)]}class e0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ju(`Invalid padding: ${n}`);if(s<0)throw new Ju(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ju(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ju(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Xr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Xr.fromNumber(s)));return a.compare(E3)===1&&(a=new Xr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=MS(e),[s,a]=PS(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new e0(l,a,n);return s.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=MS(e),[s,a]=PS(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ju extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,zc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Jd(Re.min(),a,new _t(ze),er(),Be())}}class zc{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new zc(s,n,Be(),Be(),Be())}}class $f{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class $C{constructor(e,n){this.targetId=e,this.Ce=n}}class WC{constructor(e,n,s=hn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class OS{constructor(){this.ve=0,this.Fe=VS(),this.Me=hn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),s=Be();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Se(38017,{changeType:l})}})),new zc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=VS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class S3{constructor(e){this.Ge=e,this.ze=new Map,this.je=er(),this.Je=Of(),this.He=Of(),this.Ye=new _t(ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Py(l))if(s===0){const u=new ve(l.path);this.et(n,u,pn.newNoDocument(u,Re.min()))}else $e(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const h=this.ut(e),d=h?this.ct(h,e,u):1;if(d!==0){this.it(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=na(s).toUint8Array()}catch(d){if(d instanceof bC)return Al("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new e0(u,a,l)}catch(d){return Al(d instanceof Ju?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Py(h.target)){const d=new ve(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,pn.newNoDocument(d,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let s=Be();this.He.forEach(((l,u)=>{let h=!0;u.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Jd(e,n,this.Ye,this.je,s);return this.je=er(),this.Je=Of(),this.He=Of(),this.Ye=new _t(ze),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new OS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new $t(ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new $t(ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new OS),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Of(){return new _t(ve.comparator)}function VS(){return new _t(ve.comparator)}const A3={asc:"ASCENDING",desc:"DESCENDING"},x3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},C3={and:"AND",or:"OR"};class R3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vy(t,e){return t.useProto3Json||Gd(e)?e:{value:e}}function vd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function N3(t,e){return vd(t,e.toTimestamp())}function ds(t){return $e(!!t,49232),Re.fromTimestamp((function(n){const s=ta(n);return new ut(s.seconds,s.nanos)})(t))}function t0(t,e){return ky(t,e).canonicalString()}function ky(t,e){const n=(function(a){return new at(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function ZC(t){const e=at.fromString(t);return $e(iR(e),10190,{key:e.toString()}),e}function Ly(t,e){return t0(t.databaseId,e.path)}function Bg(t,e){const n=ZC(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(eR(n))}function JC(t,e){return t0(t.databaseId,e)}function D3(t){const e=ZC(t);return e.length===4?at.emptyPath():eR(e)}function jy(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eR(t){return $e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function kS(t,e,n){return{name:Ly(t,e),fields:n.value.mapValue.fields}}function I3(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?($e(y===void 0||typeof y=="string",58123),hn.fromBase64String(y||"")):($e(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),hn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const y=p.code===void 0?se.UNKNOWN:XC(p.code);return new fe(y,p.message||"")})(u);n=new WC(s,a,l,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Bg(t,s.document.name),l=ds(s.document.updateTime),u=s.document.createTime?ds(s.document.createTime):Re.min(),h=new Mn({mapValue:{fields:s.document.fields}}),d=pn.newFoundDocument(a,l,u,h),p=s.targetIds||[],y=s.removedTargetIds||[];n=new $f(p,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Bg(t,s.document),l=s.readTime?ds(s.readTime):Re.min(),u=pn.newNoDocument(a,l),h=s.removedTargetIds||[];n=new $f([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Bg(t,s.document),l=s.removedTargetIds||[];n=new $f([],l,a,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new T3(a,l),h=s.targetId;n=new $C(h,u)}}return n}function M3(t,e){let n;if(e instanceof Uc)n={update:kS(t,e.key,e.value)};else if(e instanceof Zv)n={delete:Ly(t,e.key)};else if(e instanceof ua)n={update:kS(t,e.key,e.data),updateMask:B3(e.fieldMask)};else{if(!(e instanceof y3))return Se(16599,{Vt:e.type});n={verify:Ly(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const h=u.transform;if(h instanceof gd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ac)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof xc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof yd)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Se(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:N3(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se(27497)})(t,e.precondition)),n}function P3(t,e){return t&&t.length>0?($e(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?ds(a.updateTime):ds(l);return u.isEqual(Re.min())&&(u=ds(l)),new m3(u,a.transformResults||[])})(n,e)))):[]}function O3(t,e){return{documents:[JC(t,e.path)]}}function V3(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=JC(t,a);const l=(function(p){if(p.length!==0)return nR(Ui.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(T){return{field:ll(T.field),direction:j3(T.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Vy(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function k3(t){let e=D3(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){$e(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const T=tR(v);return T instanceof Ui&&IC(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(v){return v.map((T=>(function(N){return new Sc(ul(N.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(T)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let T;return T=typeof v=="object"?v.value:v,Gd(T)?null:T})(n.limit));let d=null;n.startAt&&(d=(function(v){const T=!!v.before,S=v.values||[];return new md(S,T)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const T=!v.before,S=v.values||[];return new md(S,T)})(n.endAt)),t3(e,a,u,l,h,"F",d,p)}function L3(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tR(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ul(n.unaryFilter.field);return qt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=ul(n.unaryFilter.field);return qt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ul(n.unaryFilter.field);return qt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ul(n.unaryFilter.field);return qt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(t):t.fieldFilter!==void 0?(function(n){return qt.create(ul(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ui.create(n.compositeFilter.filters.map((s=>tR(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(t):Se(30097,{filter:t})}function j3(t){return A3[t]}function U3(t){return x3[t]}function z3(t){return C3[t]}function ll(t){return{fieldPath:t.canonicalString()}}function ul(t){return cn.fromServerFormat(t.fieldPath)}function nR(t){return t instanceof qt?(function(n){if(n.op==="=="){if(ES(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NAN"}};if(wS(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ES(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NAN"}};if(wS(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(n.field),op:U3(n.op),value:n.value}}})(t):t instanceof Ui?(function(n){const s=n.getFilters().map((a=>nR(a)));return s.length===1?s[0]:{compositeFilter:{op:z3(n.op),filters:s}}})(t):Se(54877,{filter:t})}function B3(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function iR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Fr{constructor(e,n,s,a,l=Re.min(),u=Re.min(),h=hn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class F3{constructor(e){this.yt=e}}function H3(t){const e=k3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?pd(e,e.limit,"L"):e}class q3{constructor(){this.Cn=new Y3}addToCollectionParentIndex(e,n){return this.Cn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(ea.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(ea.min())}updateCollectionGroup(e,n,s){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class Y3{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new $t(at.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new $t(at.comparator)).toArray()}}const LS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sR=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(sR,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class Nl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Nl(0)}static cr(){return new Nl(-1)}}const jS="LruGarbageCollector",G3=1048576;function US([t,e],[n,s]){const a=ze(t,n);return a===0?ze(e,s):a}class K3{constructor(e){this.Ir=e,this.buffer=new $t(US),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();US(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class X3{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(jS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ul(n)?me(jS,"Ignoring IndexedDB error during garbage collection: ",n):await jl(n)}await this.Vr(3e5)}))}}class $3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(Yd.ce);const s=new K3(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(LS)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LS):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,u,h,d,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(s=v,h=Date.now(),this.removeTargets(e,s,n)))).next((v=>(l=v,d=Date.now(),this.removeOrphanedDocuments(e,s)))).next((v=>(p=Date.now(),al()<=Ue.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-y}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function W3(t,e){return new $3(t,e)}class Q3{constructor(){this.changes=new fo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ae.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Z3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class J3{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&cc(s.mutation,a,Kn.empty(),ut.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Be()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Be()){const a=Xa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=Zu();return l.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=Xa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Be())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,s,a){let l=er();const u=uc(),h=(function(){return uc()})();return n.forEach(((d,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof ua)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),cc(y.mutation,p,y.mutation.getFieldMask(),ut.now())):u.set(p.key,Kn.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((p,y)=>u.set(p,y))),n.forEach(((p,y)=>h.set(p,new Z3(y,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const s=uc();let a=new _t(((u,h)=>u-h)),l=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let y=s.get(d)||Kn.empty();y=h.applyToLocalView(p,y),s.set(d,y);const v=(a.get(h.batchId)||Be()).add(d);a=a.insert(h.batchId,v)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,y=d.value,v=zC();y.forEach((T=>{if(!l.has(T)){const S=GC(n.get(T),s.get(T));S!==null&&v.set(T,S),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return ae.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(u){return ve.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):VC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):ae.resolve(Xa());let h=Tc,d=l;return u.next((p=>ae.forEach(p,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?ae.resolve():this.remoteDocumentCache.getEntry(e,y).next((T=>{d=d.insert(y,T)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,d,p,Be()))).next((y=>({batchId:h,changes:UC(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((s=>{let a=Zu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=Zu();return this.indexManager.getCollectionParents(e,l).next((h=>ae.forEach(h,(d=>{const p=(function(v,T){return new zl(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((y=>{y.forEach(((v,T)=>{u=u.insert(v,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((d,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,pn.newInvalidDocument(y)))}));let h=Zu();return u.forEach(((d,p)=>{const y=l.get(d);y!==void 0&&cc(y.mutation,p,Kn.empty(),ut.now()),Wd(n,p)&&(h=h.insert(d,p))})),h}))}}class e5{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ae.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ds(a.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:H3(a.bundledQuery),readTime:ds(a.readTime)}})(n)),ae.resolve()}}class t5{constructor(){this.overlays=new _t(ve.comparator),this.qr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Xa();return ae.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),ae.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),ae.resolve()}getOverlaysForCollection(e,n,s){const a=Xa(),l=n.length+1,u=new ve(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>s&&a.set(d.getKey(),d)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new _t(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=Xa(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=Xa(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=a)););return ae.resolve(h)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new _3(n,s));let l=this.qr.get(n);l===void 0&&(l=Be(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class n5{constructor(){this.sessionToken=hn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}class n0{constructor(){this.Qr=new $t(Jt.$r),this.Ur=new $t(Jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Jt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Jt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ve(new at([])),s=new Jt(n,e),a=new Jt(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new at([])),s=new Jt(n,e),a=new Jt(n,e+1);let l=Be();return this.Ur.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new Jt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Jt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||ze(e.Yr,n.Yr)}static Kr(e,n){return ze(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}class i5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new $t(Jt.$r)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new v3(l,n,s,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new Jt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,n){return ae.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Gv:this.tr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Jt(n,0),a=new Jt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(u=>{const h=this.Xr(u.Yr);l.push(h)})),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new $t(ze);return n.forEach((a=>{const l=new Jt(a,0),u=new Jt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(h=>{s=s.add(h.Yr)}))})),ae.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;ve.isDocumentKey(l)||(l=l.child(""));const u=new Jt(new ve(l),0);let h=new $t(ze);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Yr)),!0)}),u),ae.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){$e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ae.forEach(n.mutations,(a=>{const l=new Jt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Jt(n,0),a=this.Zr.firstAfterOrEqual(s);return ae.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class s5{constructor(e){this.ri=e,this.docs=(function(){return new _t(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ae.resolve(s?s.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let s=er();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():pn.newInvalidDocument(a))})),ae.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=er();const u=n.path,h=new ve(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||P6(M6(y),s)<=0||(a.has(y.key)||Wd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Se(9500)}ii(e,n){return ae.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new r5(this)}getSize(e){return ae.resolve(this.size)}}class r5 extends Q3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),ae.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class a5{constructor(e){this.persistence=e,this.si=new fo((n=>$v(n)),Wv),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new n0,this.targetCount=0,this.ai=Nl.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ae.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Nl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Pr(n),ae.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&s.get(h.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),ae.waitFor(l).next((()=>a))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ae.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ae.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),ae.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ae.resolve(s)}containsKey(e,n){return ae.resolve(this._i.containsKey(n))}}class rR{constructor(e,n){this.ui={},this.overlays={},this.ci=new Yd(0),this.li=!1,this.li=!0,this.hi=new n5,this.referenceDelegate=e(this),this.Pi=new a5(this),this.indexManager=new q3,this.remoteDocumentCache=(function(a){return new s5(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new F3(n),this.Ii=new e5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new t5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new i5(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const a=new o5(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return ae.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class o5 extends V6{constructor(e){super(),this.currentSequenceNumber=e}}class i0{constructor(e){this.persistence=e,this.Ri=new n0,this.Vi=null}static mi(e){return new i0(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ae.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.fi,(s=>{const a=ve.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Re.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class _d{constructor(e,n){this.persistence=e,this.pi=new fo((s=>j6(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=W3(this,n)}static mi(e,n){return new _d(e,n)}Ei(){}di(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ae.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?ae.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((h=>{h||(s++,l.removeEntry(u,Re.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ae.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gf(e.data.value)),n}br(e,n,s){return ae.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ae.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class s0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Be(),a=Be();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new s0(e,n.fromCache,s,a)}}class l5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class u5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Z4()?8:k6(yn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new l5;return this.Ss(e,n,u).next((h=>{if(l.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(al()<=Ue.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",ol(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ae.resolve()):(al()<=Ue.DEBUG&&me("QueryEngine","Query:",ol(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(al()<=Ue.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",ol(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fs(n))):ae.resolve())}ys(e,n){if(CS(n))return ae.resolve(null);let s=fs(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=pd(n,null,"F"),s=fs(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=Be(...l);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,s).next((d=>{const p=this.Ds(n,h);return this.Cs(n,p,u,d.readTime)?this.ys(e,pd(n,null,"F")):this.vs(e,p,n,d)}))))})))))}ws(e,n,s,a){return CS(n)||a.isEqual(Re.min())?ae.resolve(null):this.ps.getDocuments(e,s).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,s,a)?ae.resolve(null):(al()<=Ue.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ol(n)),this.vs(e,u,n,I6(a,Tc)).next((h=>h)))}))}Ds(e,n){let s=new $t(LC(e));return n.forEach(((a,l)=>{Wd(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return al()<=Ue.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",ol(n)),this.ps.getDocumentsMatchingQuery(e,n,ea.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const r0="LocalStore",c5=3e8;class h5{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new _t(ze),this.xs=new fo((l=>$v(l)),Wv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function f5(t,e,n,s){return new h5(t,e,n,s)}async function aR(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],h=[];let d=Be();for(const p of a){u.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(s,d).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function d5(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,p,y){const v=p.batch,T=v.keys();let S=ae.resolve();return T.forEach((N=>{S=S.next((()=>y.getEntry(d,N))).next((M=>{const I=p.docVersions.get(N);$e(I!==null,48541),M.version.compareTo(I)<0&&(v.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),y.addEntry(M)))}))})),S.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let d=Be();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function oR(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function m5(t,e){const n=De(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((y,v)=>{const T=a.get(v);if(!T)return;h.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,v))));let S=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(hn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,s)),a=a.insert(v,S),(function(M,I,V){return M.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=c5?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(T,S,y)&&h.push(n.Pi.updateTargetData(l,S))}));let d=er(),p=Be();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(p5(l,u,e.documentUpdates).next((y=>{d=y.ks,p=y.qs}))),!s.isEqual(Re.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((v=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(y)}return ae.waitFor(h).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,p))).next((()=>d))})).then((l=>(n.Ms=a,l)))}function p5(t,e,n){let s=Be(),a=Be();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=er();return n.forEach(((h,d)=>{const p=l.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Re.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):me(r0,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)})),{ks:u,qs:a}}))}function g5(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Gv),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function y5(t,e){const n=De(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,ae.resolve(a)):n.Pi.allocateTargetId(s).next((u=>(a=new Fr(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Uy(t,e,n){const s=De(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Ul(u))throw u;me(r0,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function zS(t,e,n){const s=De(t);let a=Re.min(),l=Be();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,p,y){const v=De(d),T=v.xs.get(y);return T!==void 0?ae.resolve(v.Ms.get(T)):v.Pi.getTargetData(p,y)})(s,u,fs(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,h.targetId).next((d=>{l=d}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,n?a:Re.min(),n?l:Be()))).next((h=>(v5(s,i3(e),h),{documents:h,Qs:l})))))}function v5(t,e,n){let s=t.Os.get(e)||Re.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class BS{constructor(){this.activeTargetIds=u3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _5{constructor(){this.Mo=new BS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new BS,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class T5{Oo(e){}shutdown(){}}const FS="ConnectivityMonitor";class HS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(FS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(FS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vf=null;function zy(){return Vf===null?Vf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vf++,"0x"+Vf.toString(16)}const Fg="RestConnection",b5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class w5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===fd?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const u=zy(),h=this.zo(e,n.toUriEncodedString());me(Fg,`Sending RPC '${e}' ${u}:`,h,s);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,l);const{host:p}=new URL(h),y=Vl(p);return this.Jo(e,h,d,s,y).then((v=>(me(Fg,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw Al(Fg,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",s),v}))}Ho(e,n,s,a,l,u){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ll})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=b5[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class E5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const dn="WebChannelConnection";class S5 extends w5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const u=zy();return new Promise(((h,d)=>{const p=new cC;p.setWithCredentials(!0),p.listenOnce(hC.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Yf.NO_ERROR:const v=p.getResponseJson();me(dn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case Yf.TIMEOUT:me(dn,`RPC '${e}' ${u} timed out`),d(new fe(se.DEADLINE_EXCEEDED,"Request time out"));break;case Yf.HTTP_ERROR:const T=p.getStatus();if(me(dn,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const N=S?.error;if(N&&N.status&&N.message){const M=(function(V){const U=V.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(U)>=0?U:se.UNKNOWN})(N.status);d(new fe(M,N.message))}else d(new fe(se.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new fe(se.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{me(dn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);me(dn,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=zy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=mC(),h=dC(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,s),d.encodeInitMessageHeaders=!0;const y=l.join("");me(dn,`Creating RPC '${e}' stream ${a}: ${y}`,d);const v=u.createWebChannel(y,d);this.I_(v);let T=!1,S=!1;const N=new E5({Yo:I=>{S?me(dn,`Not sending because RPC '${e}' stream ${a} is closed:`,I):(T||(me(dn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),T=!0),me(dn,`RPC '${e}' stream ${a} sending:`,I),v.send(I))},Zo:()=>v.close()}),M=(I,V,U)=>{I.listen(V,(F=>{try{U(F)}catch(ee){setTimeout((()=>{throw ee}),0)}}))};return M(v,Qu.EventType.OPEN,(()=>{S||(me(dn,`RPC '${e}' stream ${a} transport opened.`),N.o_())})),M(v,Qu.EventType.CLOSE,(()=>{S||(S=!0,me(dn,`RPC '${e}' stream ${a} transport closed`),N.a_(),this.E_(v))})),M(v,Qu.EventType.ERROR,(I=>{S||(S=!0,Al(dn,`RPC '${e}' stream ${a} transport errored. Name:`,I.name,"Message:",I.message),N.a_(new fe(se.UNAVAILABLE,"The operation could not be completed")))})),M(v,Qu.EventType.MESSAGE,(I=>{if(!S){const V=I.data[0];$e(!!V,16349);const U=V,F=U?.error||U[0]?.error;if(F){me(dn,`RPC '${e}' stream ${a} received error:`,F);const ee=F.status;let te=(function(x){const D=Ft[x];if(D!==void 0)return XC(D)})(ee),Z=F.message;te===void 0&&(te=se.INTERNAL,Z="Unknown error status: "+ee+" with message "+F.message),S=!0,N.a_(new fe(te,Z)),v.close()}else me(dn,`RPC '${e}' stream ${a} received:`,V),N.u_(V)}})),M(h,fC.STAT_EVENT,(I=>{I.stat===Ry.PROXY?me(dn,`RPC '${e}' stream ${a} detected buffering proxy`):I.stat===Ry.NOPROXY&&me(dn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Hg(){return typeof document<"u"?document:null}function em(t){return new R3(t,!0)}class lR{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const qS="PersistentStream";class uR{constructor(e,n,s,a,l,u,h,d){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Js(n.toString()),Js("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new fe(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(qS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(qS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class A5 extends uR{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=I3(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Re.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Re.min():u.readTime?ds(u.readTime):Re.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=jy(this.serializer),n.addTarget=(function(l,u){let h;const d=u.target;if(h=Py(d)?{documents:O3(l,d)}:{query:V3(l,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=QC(l,u.resumeToken);const p=Vy(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Re.min())>0){h.readTime=vd(l,u.snapshotVersion.toTimestamp());const p=Vy(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const s=L3(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=jy(this.serializer),n.removeTarget=e,this.q_(n)}}class x5 extends uR{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=P3(e.writeResults,e.commitTime),s=ds(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=jy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>M3(this.serializer,s)))};this.q_(n)}}class C5{}class R5 extends C5{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new fe(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,ky(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(se.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,ky(n,s),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(se.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class N5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Js(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const io="RemoteStore";class D5{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{mo(this)&&(me(io,"Restarting streams for network reachability change."),await(async function(d){const p=De(d);p.Ea.add(4),await Bc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await tm(p)})(this))}))})),this.Ra=new N5(s,a)}}async function tm(t){if(mo(t))for(const e of t.da)await e(!0)}async function Bc(t){for(const e of t.da)await e(!1)}function cR(t,e){const n=De(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),u0(n)?l0(n):Bl(n).O_()&&o0(n,e))}function a0(t,e){const n=De(t),s=Bl(n);n.Ia.delete(e),s.O_()&&hR(n,e),n.Ia.size===0&&(s.O_()?s.L_():mo(n)&&n.Ra.set("Unknown"))}function o0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Bl(t).Y_(e)}function hR(t,e){t.Va.Ue(e),Bl(t).Z_(e)}function l0(t){t.Va=new S3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Bl(t).start(),t.Ra.ua()}function u0(t){return mo(t)&&!Bl(t).x_()&&t.Ia.size>0}function mo(t){return De(t).Ea.size===0}function fR(t){t.Va=void 0}async function I5(t){t.Ra.set("Online")}async function M5(t){t.Ia.forEach(((e,n)=>{o0(t,e)}))}async function P5(t,e){fR(t),u0(t)?(t.Ra.ha(e),l0(t)):t.Ra.set("Unknown")}async function O5(t,e,n){if(t.Ra.set("Online"),e instanceof WC&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(s){me(io,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Td(t,s)}else if(e instanceof $f?t.Va.Ze(e):e instanceof $C?t.Va.st(e):t.Va.tt(e),!n.isEqual(Re.min()))try{const s=await oR(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const h=l.Va.Tt(u);return h.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,p)=>{const y=l.Ia.get(d);if(!y)return;l.Ia.set(d,y.withResumeToken(hn.EMPTY_BYTE_STRING,y.snapshotVersion)),hR(l,d);const v=new Fr(y.target,d,p,y.sequenceNumber);o0(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(s){me(io,"Failed to raise snapshot:",s),await Td(t,s)}}async function Td(t,e,n){if(!Ul(e))throw e;t.Ea.add(1),await Bc(t),t.Ra.set("Offline"),n||(n=()=>oR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(io,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await tm(t)}))}function dR(t,e){return e().catch((n=>Td(t,n,e)))}async function nm(t){const e=De(t),n=sa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gv;for(;V5(e);)try{const a=await g5(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,k5(e,a)}catch(a){await Td(e,a)}mR(e)&&pR(e)}function V5(t){return mo(t)&&t.Ta.length<10}function k5(t,e){t.Ta.push(e);const n=sa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function mR(t){return mo(t)&&!sa(t).x_()&&t.Ta.length>0}function pR(t){sa(t).start()}async function L5(t){sa(t).ra()}async function j5(t){const e=sa(t);for(const n of t.Ta)e.ea(n.mutations)}async function U5(t,e,n){const s=t.Ta.shift(),a=Jv.from(s,e,n);await dR(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await nm(t)}async function z5(t,e){e&&sa(t).X_&&await(async function(s,a){if((function(u){return b3(u)&&u!==se.ABORTED})(a.code)){const l=s.Ta.shift();sa(s).B_(),await dR(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await nm(s)}})(t,e),mR(t)&&pR(t)}async function YS(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),me(io,"RemoteStore received new credentials");const s=mo(n);n.Ea.add(3),await Bc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await tm(n)}async function B5(t,e){const n=De(t);e?(n.Ea.delete(2),await tm(n)):e||(n.Ea.add(2),await Bc(n),n.Ra.set("Unknown"))}function Bl(t){return t.ma||(t.ma=(function(n,s,a){const l=De(n);return l.sa(),new A5(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:I5.bind(null,t),t_:M5.bind(null,t),r_:P5.bind(null,t),H_:O5.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),u0(t)?l0(t):t.Ra.set("Unknown")):(await t.ma.stop(),fR(t))}))),t.ma}function sa(t){return t.fa||(t.fa=(function(n,s,a){const l=De(n);return l.sa(),new x5(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:L5.bind(null,t),r_:z5.bind(null,t),ta:j5.bind(null,t),na:U5.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await nm(t)):(await t.fa.stop(),t.Ta.length>0&&(me(io,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class c0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,h=new c0(e,n,u,a,l);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function h0(t,e){if(Js("AsyncQueue",`${e}: ${t}`),Ul(t))return new fe(se.UNAVAILABLE,`${e}: ${t}`);throw t}class yl{static emptySet(e){return new yl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=Zu(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new yl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class GS{constructor(){this.ga=new _t(ve.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Dl{constructor(e,n,s,a,l,u,h,d,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Dl(e,n,yl.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class F5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class H5{constructor(){this.queries=KS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=De(n),l=a.queries;a.queries=KS(),l.forEach(((u,h)=>{for(const d of h.Sa)d.onError(s)}))})(this,new fe(se.ABORTED,"Firestore shutting down"))}}function KS(){return new fo((t=>kC(t)),$d)}async function f0(t,e){const n=De(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new F5,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=h0(u,`Initialization of query '${ol(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&m0(n)}async function d0(t,e){const n=De(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function q5(t,e){const n=De(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.Sa)h.Fa(a)&&(s=!0);u.wa=a}}s&&m0(n)}function Y5(t,e,n){const s=De(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function m0(t){t.Ca.forEach((e=>{e.next()}))}var By,XS;(XS=By||(By={})).Ma="default",XS.Cache="cache";class p0{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Dl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==By.Cache}}class gR{constructor(e){this.key=e}}class yR{constructor(e){this.key=e}}class G5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=LC(e),this.tu=new yl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new GS,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const T=a.get(y),S=Wd(this.query,v)?v:null,N=!!T&&this.mutatedKeys.has(T.key),M=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let I=!1;T&&S?T.data.isEqual(S.data)?N!==M&&(s.track({type:3,doc:S}),I=!0):this.su(T,S)||(s.track({type:2,doc:S}),I=!0,(d&&this.eu(S,d)>0||p&&this.eu(S,p)<0)&&(h=!0)):!T&&S?(s.track({type:0,doc:S}),I=!0):T&&!S&&(s.track({type:1,doc:T}),I=!0,(d||p)&&(h=!0)),I&&(S?(u=u.add(S),l=M?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Cs:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(S,N){const M=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:I})}};return M(S)-M(N)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(s),a=a??!1;const h=n&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,p=d!==this.Za;return this.Za=d,u.length!==0||p?{snapshot:new Dl(this.query,e.tu,l,u,e.mutatedKeys,d===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new GS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new yR(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new gR(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Dl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const g0="SyncEngine";class K5{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class X5{constructor(e){this.key=e,this.hu=!1}}class $5{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new fo((h=>kC(h)),$d),this.Iu=new Map,this.Eu=new Set,this.du=new _t(ve.comparator),this.Au=new Map,this.Ru=new n0,this.Vu={},this.mu=new Map,this.fu=Nl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function W5(t,e,n=!0){const s=ER(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await vR(s,e,n,!0),a}async function Q5(t,e){const n=ER(t);await vR(n,e,!0,!1)}async function vR(t,e,n,s){const a=await y5(t.localStore,fs(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return s&&(h=await Z5(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&cR(t.remoteStore,a),h}async function Z5(t,e,n,s,a){t.pu=(v,T,S)=>(async function(M,I,V,U){let F=I.view.ru(V);F.Cs&&(F=await zS(M.localStore,I.query,!1).then((({documents:R})=>I.view.ru(R,F))));const ee=U&&U.targetChanges.get(I.targetId),te=U&&U.targetMismatches.get(I.targetId)!=null,Z=I.view.applyChanges(F,M.isPrimaryClient,ee,te);return WS(M,I.targetId,Z.au),Z.snapshot})(t,v,T,S);const l=await zS(t.localStore,e,!0),u=new G5(e,l.Qs),h=u.ru(l.documents),d=zc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=u.applyChanges(h,t.isPrimaryClient,d);WS(t,n,p.au);const y=new K5(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function J5(t,e,n){const s=De(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!$d(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Uy(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&a0(s.remoteStore,a.targetId),Fy(s,a.targetId)})).catch(jl)):(Fy(s,a.targetId),await Uy(s.localStore,a.targetId,!0))}async function ej(t,e){const n=De(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),a0(n.remoteStore,s.targetId))}async function tj(t,e,n){const s=lj(t);try{const a=await(function(u,h){const d=De(u),p=ut.now(),y=h.reduce(((S,N)=>S.add(N.key)),Be());let v,T;return d.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let N=er(),M=Be();return d.Ns.getEntries(S,y).next((I=>{N=I,N.forEach(((V,U)=>{U.isValidDocument()||(M=M.add(V))}))})).next((()=>d.localDocuments.getOverlayedDocuments(S,N))).next((I=>{v=I;const V=[];for(const U of h){const F=g3(U,v.get(U.key).overlayedDocument);F!=null&&V.push(new ua(U.key,F,RC(F.value.mapValue),_i.exists(!0)))}return d.mutationQueue.addMutationBatch(S,p,V,h)})).next((I=>{T=I;const V=I.applyToLocalDocumentSet(v,M);return d.documentOverlayCache.saveOverlays(S,I.batchId,V)}))})).then((()=>({batchId:T.batchId,changes:UC(v)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,h,d){let p=u.Vu[u.currentUser.toKey()];p||(p=new _t(ze)),p=p.insert(h,d),u.Vu[u.currentUser.toKey()]=p})(s,a.batchId,n),await Fc(s,a.changes),await nm(s.remoteStore)}catch(a){const l=h0(a,"Failed to persist write");n.reject(l)}}async function _R(t,e){const n=De(t);try{const s=await m5(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&($e(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?$e(u.hu,14607):a.removedDocuments.size>0&&($e(u.hu,42227),u.hu=!1))})),await Fc(n,s,e)}catch(s){await jl(s)}}function $S(t,e,n){const s=De(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const d=De(u);d.onlineState=h;let p=!1;d.queries.forEach(((y,v)=>{for(const T of v.Sa)T.va(h)&&(p=!0)})),p&&m0(d)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function nj(t,e,n){const s=De(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new _t(ve.comparator);u=u.insert(l,pn.newNoDocument(l,Re.min()));const h=Be().add(l),d=new Jd(Re.min(),new Map,new _t(ze),u,h);await _R(s,d),s.du=s.du.remove(l),s.Au.delete(e),y0(s)}else await Uy(s.localStore,e,!1).then((()=>Fy(s,e,n))).catch(jl)}async function ij(t,e){const n=De(t),s=e.batch.batchId;try{const a=await d5(n.localStore,e);bR(n,s,null),TR(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Fc(n,a)}catch(a){await jl(a)}}async function sj(t,e,n){const s=De(t);try{const a=await(function(u,h){const d=De(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return d.mutationQueue.lookupMutationBatch(p,h).next((v=>($e(v!==null,37113),y=v.keys(),d.mutationQueue.removeMutationBatch(p,v)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>d.localDocuments.getDocuments(p,y)))}))})(s.localStore,e);bR(s,e,n),TR(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Fc(s,a)}catch(a){await jl(a)}}function TR(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function bR(t,e,n){const s=De(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Fy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||wR(t,s)}))}function wR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(a0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),y0(t))}function WS(t,e,n){for(const s of n)s instanceof gR?(t.Ru.addReference(s.key,e),rj(t,s)):s instanceof yR?(me(g0,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||wR(t,s.key)):Se(19791,{wu:s})}function rj(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(me(g0,"New document in limbo: "+n),t.Eu.add(s),y0(t))}function y0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ve(at.fromString(e)),s=t.fu.next();t.Au.set(s,new X5(n)),t.du=t.du.insert(n,s),cR(t.remoteStore,new Fr(fs(Xd(n.path)),s,"TargetPurposeLimboResolution",Yd.ce))}}async function Fc(t,e,n){const s=De(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,d)=>{u.push(s.pu(d,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(d.targetId)?.current;s.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){a.push(p);const y=s0.As(d.targetId,p);l.push(y)}})))})),await Promise.all(u),s.Pu.H_(a),await(async function(d,p){const y=De(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ae.forEach(p,(T=>ae.forEach(T.Es,(S=>y.persistence.referenceDelegate.addReference(v,T.targetId,S))).next((()=>ae.forEach(T.ds,(S=>y.persistence.referenceDelegate.removeReference(v,T.targetId,S)))))))))}catch(v){if(!Ul(v))throw v;me(r0,"Failed to update sequence numbers: "+v)}for(const v of p){const T=v.targetId;if(!v.fromCache){const S=y.Ms.get(T),N=S.snapshotVersion,M=S.withLastLimboFreeSnapshotVersion(N);y.Ms=y.Ms.insert(T,M)}}})(s.localStore,l))}async function aj(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){me(g0,"User change. New user:",e.toKey());const s=await aR(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new fe(se.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Fc(n,s.Ls)}}function oj(t,e){const n=De(t),s=n.Au.get(e);if(s&&s.hu)return Be().add(s.key);{let a=Be();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function ER(t){const e=De(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_R.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nj.bind(null,e),e.Pu.H_=q5.bind(null,e.eventManager),e.Pu.yu=Y5.bind(null,e.eventManager),e}function lj(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ij.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sj.bind(null,e),e}class bd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=em(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return f5(this.persistence,new u5,e.initialUser,this.serializer)}Cu(e){return new rR(i0.mi,this.serializer)}Du(e){return new _5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bd.provider={build:()=>new bd};class uj extends bd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$e(this.persistence.referenceDelegate instanceof _d,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new X3(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new rR((s=>_d.mi(s,n)),this.serializer)}}class Hy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$S(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=aj.bind(null,this.syncEngine),await B5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new H5})()}createDatastore(e){const n=em(e.databaseInfo.databaseId),s=(function(l){return new S5(l)})(e.databaseInfo);return(function(l,u,h,d){return new R5(l,u,h,d)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,h){return new D5(s,a,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>$S(this.syncEngine,n,0)),(function(){return HS.v()?new HS:new T5})())}createSyncEngine(e,n){return(function(a,l,u,h,d,p,y){const v=new $5(a,l,u,h,d,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=De(n);me(io,"RemoteStore shutting down."),s.Ea.add(5),await Bc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Hy.provider={build:()=>new Hy};class v0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Js("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ra="FirestoreClient";class cj{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=mn.UNAUTHENTICATED,this.clientId=Yv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{me(ra,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(me(ra,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=h0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function qg(t,e){t.asyncQueue.verifyOperationInProgress(),me(ra,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await aR(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function QS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await hj(t);me(ra,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>YS(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>YS(e.remoteStore,a))),t._onlineComponents=e}async function hj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(ra,"Using user provided OfflineComponentProvider");try{await qg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===se.FAILED_PRECONDITION||a.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Al("Error using user provided cache. Falling back to memory cache: "+n),await qg(t,new bd)}}else me(ra,"Using default OfflineComponentProvider"),await qg(t,new uj(void 0));return t._offlineComponents}async function SR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(ra,"Using user provided OnlineComponentProvider"),await QS(t,t._uninitializedComponentsProvider._online)):(me(ra,"Using default OnlineComponentProvider"),await QS(t,new Hy))),t._onlineComponents}function fj(t){return SR(t).then((e=>e.syncEngine))}async function wd(t){const e=await SR(t),n=e.eventManager;return n.onListen=W5.bind(null,e.syncEngine),n.onUnlisten=J5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Q5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ej.bind(null,e.syncEngine),n}function dj(t,e,n={}){const s=new Ks;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,p){const y=new v0({next:T=>{y.Nu(),u.enqueueAndForget((()=>d0(l,v)));const S=T.docs.has(h);!S&&T.fromCache?p.reject(new fe(se.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&T.fromCache&&d&&d.source==="server"?p.reject(new fe(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),v=new p0(Xd(h.path),y,{includeMetadataChanges:!0,qa:!0});return f0(l,v)})(await wd(t),t.asyncQueue,e,n,s))),s.promise}function mj(t,e,n={}){const s=new Ks;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,p){const y=new v0({next:T=>{y.Nu(),u.enqueueAndForget((()=>d0(l,v))),T.fromCache&&d.source==="server"?p.reject(new fe(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),v=new p0(h,y,{includeMetadataChanges:!0,qa:!0});return f0(l,v)})(await wd(t),t.asyncQueue,e,n,s))),s.promise}function AR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const ZS=new Map;const xR="firestore.googleapis.com",JS=!0;class eA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xR,this.ssl=JS}else this.host=e.host,this.ssl=e.ssl??JS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<G3)throw new fe(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}D6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AR(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class im{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new T6;switch(s.type){case"firstParty":return new S6(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=ZS.get(n);s&&(me("ComponentProvider","Removing Datastore"),ZS.delete(n),s.terminate())})(this),Promise.resolve()}}function pj(t,e,n,s={}){t=On(t,im);const a=Vl(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(Zx(`https://${h}`),Jx("Firestore",!0)),l.host!==xR&&l.host!==h&&Al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:a,emulatorOptions:s};if(!Jr(d,u)&&(t._setSettings(d),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=mn.MOCK_USER;else{p=q4(s.mockUserToken,t._app?.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new fe(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new mn(v)}t._authCredentials=new b6(new gC(p,y))}}class ir{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ir(this.firestore,e,this._query)}}class At{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(jc(n,At._jsonSchema))return new At(e,s||null,new ve(at.fromString(n.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:Yt("string",At._jsonSchemaVersion),referencePath:Yt("string")};class $r extends ir{constructor(e,n,s){super(e,n,Xd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new ve(e))}withConverter(e){return new $r(this.firestore,e,this._path)}}function Hr(t,e,...n){if(t=vt(t),yC("collection","path",e),t instanceof im){const s=at.fromString(e,...n);return dS(s),new $r(t,null,s)}{if(!(t instanceof At||t instanceof $r))throw new fe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(at.fromString(e,...n));return dS(s),new $r(t.firestore,null,s)}}function pi(t,e,...n){if(t=vt(t),arguments.length===1&&(e=Yv.newId()),yC("doc","path",e),t instanceof im){const s=at.fromString(e,...n);return fS(s),new At(t,null,new ve(s))}{if(!(t instanceof At||t instanceof $r))throw new fe(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(at.fromString(e,...n));return fS(s),new At(t.firestore,t instanceof $r?t.converter:null,new ve(s))}}const tA="AsyncQueue";class nA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lR(this,"async_queue_retry"),this._c=()=>{const s=Hg();s&&me(tA,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Hg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Hg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ks;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ul(e))throw e;me(tA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Js("INTERNAL UNHANDLED ERROR: ",iA(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=c0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Se(47125,{Pc:iA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function iA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function sA(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class tr extends im{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new nA,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nA(e),this._firestoreClient=void 0,await e}}}function gj(t,e){const n=typeof t=="object"?t:Hv(),s=typeof t=="string"?t:fd,a=ho(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=F4("firestore");l&&pj(a,...l)}return a}function sm(t){if(t._terminated)throw new fe(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||yj(t),t._firestoreClient}function yj(t){const e=t._freezeSettings(),n=(function(a,l,u,h){return new B6(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,AR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new cj(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class fi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fi(hn.fromBase64String(e))}catch(n){throw new fe(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fi(hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(jc(e,fi._jsonSchema))return fi.fromBase64String(e.bytes)}}fi._jsonSchemaVersion="firestore/bytes/1.0",fi._jsonSchema={type:Yt("string",fi._jsonSchemaVersion),bytes:Yt("string")};class rm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _0{constructor(e){this._methodName=e}}class ms{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ms._jsonSchemaVersion}}static fromJSON(e){if(jc(e,ms._jsonSchema))return new ms(e.latitude,e.longitude)}}ms._jsonSchemaVersion="firestore/geoPoint/1.0",ms._jsonSchema={type:Yt("string",ms._jsonSchemaVersion),latitude:Yt("number"),longitude:Yt("number")};class ps{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ps._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(jc(e,ps._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ps(e.vectorValues);throw new fe(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ps._jsonSchemaVersion="firestore/vectorValue/1.0",ps._jsonSchema={type:Yt("string",ps._jsonSchemaVersion),vectorValues:Yt("object")};const vj=/^__.*__$/;class _j{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ua(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uc(e,this.data,n,this.fieldTransforms)}}class CR{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ua(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function RR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:t})}}class T0{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new T0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ed(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(RR(this.Ac)&&vj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Tj{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||em(e)}Cc(e,n,s,a=!1){return new T0({Ac:e,methodName:n,Dc:s,path:cn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function am(t){const e=t._freezeSettings(),n=em(t._databaseId);return new Tj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NR(t,e,n,s,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);b0("Data must be an object, but it was:",u,s);const h=DR(s,u);let d,p;if(l.merge)d=new Kn(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const T=qy(e,v,n);if(!u.contains(T))throw new fe(se.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);MR(y,T)||y.push(T)}d=new Kn(y),p=u.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,p=u.fieldTransforms;return new _j(new Mn(h),d,p)}class om extends _0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof om}}function bj(t,e,n,s){const a=t.Cc(1,e,n);b0("Data must be an object, but it was:",a,s);const l=[],u=Mn.empty();la(s,((d,p)=>{const y=w0(e,d,n);p=vt(p);const v=a.yc(y);if(p instanceof om)l.push(y);else{const T=Hc(p,v);T!=null&&(l.push(y),u.set(y,T))}}));const h=new Kn(l);return new CR(u,h,a.fieldTransforms)}function wj(t,e,n,s,a,l){const u=t.Cc(1,e,n),h=[qy(e,s,n)],d=[a];if(l.length%2!=0)throw new fe(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)h.push(qy(e,l[T])),d.push(l[T+1]);const p=[],y=Mn.empty();for(let T=h.length-1;T>=0;--T)if(!MR(p,h[T])){const S=h[T];let N=d[T];N=vt(N);const M=u.yc(S);if(N instanceof om)p.push(S);else{const I=Hc(N,M);I!=null&&(p.push(S),y.set(S,I))}}const v=new Kn(p);return new CR(y,v,u.fieldTransforms)}function Ej(t,e,n,s=!1){return Hc(n,t.Cc(s?4:3,e))}function Hc(t,e){if(IR(t=vt(t)))return b0("Unsupported field value:",e,t),DR(t,e);if(t instanceof _0)return(function(s,a){if(!RR(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const h of s){let d=Hc(h,a.wc(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=vt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return c3(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ut.fromDate(s);return{timestampValue:vd(a.serializer,l)}}if(s instanceof ut){const l=new ut(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:vd(a.serializer,l)}}if(s instanceof ms)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof fi)return{bytesValue:QC(a.serializer,s._byteString)};if(s instanceof At){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:t0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ps)return(function(u,h){return{mapValue:{fields:{[xC]:{stringValue:CC},[dd]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return Qv(h.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${qd(s)}`)})(t,e)}function DR(t,e){const n={};return TC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(t,((s,a)=>{const l=Hc(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function IR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof ms||t instanceof fi||t instanceof At||t instanceof _0||t instanceof ps)}function b0(t,e,n){if(!IR(n)||!vC(n)){const s=qd(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function qy(t,e,n){if((e=vt(e))instanceof rm)return e._internalPath;if(typeof e=="string")return w0(t,e);throw Ed("Field path arguments must be of type string or ",t,!1,void 0,n)}const Sj=new RegExp("[~\\*/\\[\\]]");function w0(t,e,n){if(e.search(Sj)>=0)throw Ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rm(...e.split("."))._internalPath}catch{throw Ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ed(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${s}`),u&&(d+=` in document ${a}`),d+=")"),new fe(se.INVALID_ARGUMENT,h+t+d)}function MR(t,e){return t.some((n=>n.isEqual(e)))}class PR{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Aj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(E0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Aj extends PR{data(){return super.data()}}function E0(t,e){return typeof e=="string"?w0(t,e):e instanceof rm?e._internalPath:e._delegate._internalPath}function OR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class S0{}class A0 extends S0{}function xj(t,e,...n){let s=[];e instanceof S0&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((d=>d instanceof C0)).length,h=l.filter((d=>d instanceof x0)).length;if(u>1||u>0&&h>0)throw new fe(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class x0 extends A0{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new x0(e,n,s)}_apply(e){const n=this._parse(e);return VR(e._query,n),new ir(e.firestore,e.converter,Oy(e._query,n))}_parse(e){const n=am(e.firestore);return(function(l,u,h,d,p,y,v){let T;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new fe(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){aA(v,y);const N=[];for(const M of v)N.push(rA(d,l,M));T={arrayValue:{values:N}}}else T=rA(d,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||aA(v,y),T=Ej(h,u,v,y==="in"||y==="not-in");return qt.create(p,y,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class C0 extends S0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new C0(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ui.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const h=l.getFlattenedFilters();for(const d of h)VR(u,d),u=Oy(u,d)})(e._query,n),new ir(e.firestore,e.converter,Oy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class R0 extends A0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new R0(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new fe(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new fe(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sc(l,u)})(e._query,this._field,this._direction);return new ir(e.firestore,e.converter,(function(a,l){const u=a.explicitOrderBy.concat([l]);return new zl(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Cj(t,e="asc"){const n=e,s=E0("orderBy",t);return R0._create(s,n)}class N0 extends A0{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new N0(e,n,s)}_apply(e){return new ir(e.firestore,e.converter,pd(e._query,this._limit,this._limitType))}}function Rj(t){return N0._create("limit",t,"F")}function rA(t,e,n){if(typeof(n=vt(n))=="string"){if(n==="")throw new fe(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VC(e)&&n.indexOf("/")!==-1)throw new fe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(at.fromString(n));if(!ve.isDocumentKey(s))throw new fe(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return bS(t,new ve(s))}if(n instanceof At)return bS(t,n._key);throw new fe(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qd(n)}.`)}function aA(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VR(t,e){const n=(function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Nj{convertValue(e,n="none"){switch(ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return la(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[dd].arrayValue?.values?.map((s=>It(s.doubleValue)));return new ps(n)}convertGeoPoint(e){return new ms(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Kd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(bc(e));default:return null}}convertTimestamp(e){const n=ta(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=at.fromString(e);$e(iR(s),9688,{name:e});const a=new wc(s.get(1),s.get(3)),l=new ve(s.popFirst(5));return a.isEqual(n)||Js(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function kR(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class ec{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Za extends PR{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(E0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Za._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Za._jsonSchemaVersion="firestore/documentSnapshot/1.0",Za._jsonSchema={type:Yt("string",Za._jsonSchemaVersion),bundleSource:Yt("string","DocumentSnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class Wf extends Za{data(e={}){return super.data(e)}}class Ja{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new ec(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Wf(this._firestore,this._userDataWriter,s.key,s,new ec(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const d=new Wf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ec(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new Wf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new ec(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:Dj(h.type),doc:d,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ja._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Yv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Dj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}function Sd(t){t=On(t,At);const e=On(t.firestore,tr);return dj(sm(e),t._key).then((n=>jR(e,t,n)))}Ja._jsonSchemaVersion="firestore/querySnapshot/1.0",Ja._jsonSchema={type:Yt("string",Ja._jsonSchemaVersion),bundleSource:Yt("string","QuerySnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class D0 extends Nj{constructor(e){super(),this.firestore=e}convertBytes(e){return new fi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}function Cc(t){t=On(t,ir);const e=On(t.firestore,tr),n=sm(e),s=new D0(e);return OR(t._query),mj(n,t._query).then((a=>new Ja(e,s,t,a)))}function Ad(t,e,n){t=On(t,At);const s=On(t.firestore,tr),a=kR(t.converter,e);return lm(s,[NR(am(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,_i.none())])}function xd(t,e,n,...s){t=On(t,At);const a=On(t.firestore,tr),l=am(a);let u;return u=typeof(e=vt(e))=="string"||e instanceof rm?wj(l,"updateDoc",t._key,e,n,s):bj(l,"updateDoc",t._key,e),lm(a,[u.toMutation(t._key,_i.exists(!0))])}function LR(t){return lm(On(t.firestore,tr),[new Zv(t._key,_i.none())])}function oA(t,e){const n=On(t.firestore,tr),s=pi(t),a=kR(t.converter,e);return lm(n,[NR(am(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,_i.exists(!1))]).then((()=>s))}function Ij(t,...e){t=vt(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||sA(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(sA(e[s])){const d=e[s];e[s]=d.next?.bind(d),e[s+1]=d.error?.bind(d),e[s+2]=d.complete?.bind(d)}let l,u,h;if(t instanceof At)u=On(t.firestore,tr),h=Xd(t._key.path),l={next:d=>{e[s]&&e[s](jR(u,t,d))},error:e[s+1],complete:e[s+2]};else{const d=On(t,ir);u=On(d.firestore,tr),h=d._query;const p=new D0(u);l={next:y=>{e[s]&&e[s](new Ja(u,p,d,y))},error:e[s+1],complete:e[s+2]},OR(t._query)}return(function(p,y,v,T){const S=new v0(T),N=new p0(y,S,v);return p.asyncQueue.enqueueAndForget((async()=>f0(await wd(p),N))),()=>{S.Nu(),p.asyncQueue.enqueueAndForget((async()=>d0(await wd(p),N)))}})(sm(u),h,a,l)}function lm(t,e){return(function(s,a){const l=new Ks;return s.asyncQueue.enqueueAndForget((async()=>tj(await fj(s),a,l))),l.promise})(sm(t),e)}function jR(t,e,n){const s=n.docs.get(e._key),a=new D0(t);return new Za(t,a,e._key,s,new ec(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Ll=a})(kl),vs(new ji("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),h=new tr(new w6(s.getProvider("auth-internal")),new A6(u,s.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new fe(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wc(p.options.projectId,y)})(u,a),u);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),vi(lS,uS,e),vi(lS,uS,"esm2020")})();function UR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Mj=UR,zR=new co("auth","Firebase",UR());const Cd=new Hd("@firebase/auth");function Pj(t,...e){Cd.logLevel<=Ue.WARN&&Cd.warn(`Auth (${kl}): ${t}`,...e)}function Qf(t,...e){Cd.logLevel<=Ue.ERROR&&Cd.error(`Auth (${kl}): ${t}`,...e)}function zi(t,...e){throw I0(t,...e)}function gs(t,...e){return I0(t,...e)}function BR(t,e,n){const s={...Mj(),[e]:n};return new co("auth","Firebase",s).create(e,{appName:t.name})}function Xs(t){return BR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function I0(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return zR.create(t,...e)}function Ee(t,e,...n){if(!t)throw I0(e,...n)}function qs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qf(e),new Error(e)}function nr(t,e){t||qs(e)}function Yy(){return typeof self<"u"&&self.location?.href||""}function Oj(){return lA()==="http:"||lA()==="https:"}function lA(){return typeof self<"u"&&self.location?.protocol||null}function Vj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Oj()||eC()||"connection"in navigator)?navigator.onLine:!0}function kj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class qc{constructor(e,n){this.shortDelay=e,this.longDelay=n,nr(n>e,"Short delay should be less than long delay!"),this.isMobile=K4()||W4()}get(){return Vj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function M0(t,e){nr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class FR{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const jj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Uj=new qc(3e4,6e4);function ca(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ha(t,e,n,s,a={}){return HR(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const h=Lc({key:t.config.apiKey,...u}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:d,...l};return $4()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Vl(t.emulatorConfig.host)&&(p.credentials="include"),FR.fetch()(await qR(t,t.config.apiHost,n,h),p)})}async function HR(t,e,n){t._canInitEmulator=!1;const s={...Lj,...e};try{const a=new Bj(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw kf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw kf(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw kf(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw kf(t,"user-disabled",u);const y=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw BR(t,y,p);zi(t,y)}}catch(a){if(a instanceof Bi)throw a;zi(t,"network-request-failed",{message:String(a)})}}async function Yc(t,e,n,s,a={}){const l=await ha(t,e,n,s,a);return"mfaPendingCredential"in l&&zi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function qR(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?M0(t.config,a):`${t.config.apiScheme}://${a}`;return jj.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function zj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Bj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(gs(this.auth,"network-request-failed")),Uj.get())})}}function kf(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=gs(t,e,s);return a.customData._tokenResponse=n,a}function uA(t){return t!==void 0&&t.enterprise!==void 0}class Fj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Hj(t,e){return ha(t,"GET","/v2/recaptchaConfig",ca(t,e))}async function qj(t,e){return ha(t,"POST","/v1/accounts:delete",e)}async function Rd(t,e){return ha(t,"POST","/v1/accounts:lookup",e)}function hc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Yj(t,e=!1){const n=vt(t),s=await n.getIdToken(e),a=P0(s);Ee(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:hc(Yg(a.auth_time)),issuedAtTime:hc(Yg(a.iat)),expirationTime:hc(Yg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Yg(t){return Number(t)*1e3}function P0(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Qf("JWT malformed, contained fewer than 3 sections"),null;try{const a=Xx(n);return a?JSON.parse(a):(Qf("Failed to decode base64 JWT payload"),null)}catch(a){return Qf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function cA(t){const e=P0(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Rc(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Bi&&Gj(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function Gj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class Kj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hc(this.lastLoginAt),this.creationTime=hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Nd(t){const e=t.auth,n=await t.getIdToken(),s=await Rc(t,Rd(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?YR(a.providerUserInfo):[],u=$j(t.providerData,l),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!u?.length,p=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Gy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function Xj(t){const e=vt(t);await Nd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $j(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function YR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Wj(t,e){const n=await HR(t,{},async()=>{const s=Lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await qR(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:s};return t.emulatorConfig&&Vl(t.emulatorConfig.host)&&(d.credentials="include"),FR.fetch()(u,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Qj(t,e){return ha(t,"POST","/v2/accounts:revokeToken",ca(t,e))}class vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=cA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await Wj(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new vl;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Ee(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ee(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vl,this.toJSON())}_performRefresh(){return qs("not implemented")}}function Vr(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Li{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new Kj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Gy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Rc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Yj(this,e)}reload(){return Xj(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Li({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Nd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hi(this.auth.app))return Promise.reject(Xs(this.auth));const e=await this.getIdToken();return await Rc(this,qj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:T,isAnonymous:S,providerData:N,stsTokenManager:M}=n;Ee(v&&M,e,"internal-error");const I=vl.fromJSON(this.name,M);Ee(typeof v=="string",e,"internal-error"),Vr(s,e.name),Vr(a,e.name),Ee(typeof T=="boolean",e,"internal-error"),Ee(typeof S=="boolean",e,"internal-error"),Vr(l,e.name),Vr(u,e.name),Vr(h,e.name),Vr(d,e.name),Vr(p,e.name),Vr(y,e.name);const V=new Li({uid:v,auth:e,email:a,emailVerified:T,displayName:s,isAnonymous:S,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:I,createdAt:p,lastLoginAt:y});return N&&Array.isArray(N)&&(V.providerData=N.map(U=>({...U}))),d&&(V._redirectEventId=d),V}static async _fromIdTokenResponse(e,n,s=!1){const a=new vl;a.updateFromServerResponse(n);const l=new Li({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Nd(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Ee(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?YR(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new vl;h.updateFromIdToken(s);const d=new Li({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Gy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,p),d}}const hA=new Map;function Ys(t){nr(t instanceof Function,"Expected a class definition");let e=hA.get(t);return e?(nr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hA.set(t,e),e)}class GR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}GR.type="NONE";const fA=GR;function Zf(t,e,n){return`firebase:${t}:${e}:${n}`}class _l{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Zf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Zf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Rd(this.auth,{idToken:e}).catch(()=>{});return n?Li._fromGetAccountInfoResponse(this.auth,n,e):null}return Li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new _l(Ys(fA),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Ys(fA);const u=Zf(s,e.config.apiKey,e.name);let h=null;for(const p of n)try{const y=await p._get(u);if(y){let v;if(typeof y=="string"){const T=await Rd(e,{idToken:y}).catch(()=>{});if(!T)break;v=await Li._fromGetAccountInfoResponse(e,T,y)}else v=Li._fromJSON(e,y);p!==l&&(h=v),l=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new _l(l,e,s):(l=d[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new _l(l,e,s))}}function dA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZR(e))return"Blackberry";if(JR(e))return"Webos";if(XR(e))return"Safari";if((e.includes("chrome/")||$R(e))&&!e.includes("edge/"))return"Chrome";if(QR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function KR(t=yn()){return/firefox\//i.test(t)}function XR(t=yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $R(t=yn()){return/crios\//i.test(t)}function WR(t=yn()){return/iemobile/i.test(t)}function QR(t=yn()){return/android/i.test(t)}function ZR(t=yn()){return/blackberry/i.test(t)}function JR(t=yn()){return/webos/i.test(t)}function O0(t=yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Zj(t=yn()){return O0(t)&&!!window.navigator?.standalone}function Jj(){return Q4()&&document.documentMode===10}function e2(t=yn()){return O0(t)||QR(t)||JR(t)||ZR(t)||/windows phone/i.test(t)||WR(t)}function t2(t,e=[]){let n;switch(t){case"Browser":n=dA(yn());break;case"Worker":n=`${dA(yn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${kl}/${s}`}class eU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,h)=>{try{const d=e(l);u(d)}catch(d){h(d)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function tU(t,e={}){return ha(t,"GET","/v2/passwordPolicy",ca(t,e))}const nU=6;class iU{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??nU,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class sU{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mA(this),this.idTokenSubscription=new mA(this),this.beforeStateQueue=new eU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ys(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await _l.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Rd(this,{idToken:e}),s=await Li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(hi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hi(this.app))return Promise.reject(Xs(this));const n=e?vt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hi(this.app)?Promise.reject(Xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hi(this.app)?Promise.reject(Xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tU(this),n=new iU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new co("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Qj(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ys(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await _l.create(this,[Ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,s,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=t2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Pj(`Error while retrieving App Check token: ${e.error}`),e?.token}}function po(t){return vt(t)}class mA{constructor(e){this.auth=e,this.observer=null,this.addObserver=sL(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rU(t){um=t}function n2(t){return um.loadJS(t)}function aU(){return um.recaptchaEnterpriseScript}function oU(){return um.gapiScript}function lU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class uU{constructor(){this.enterprise=new cU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class cU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const hU="recaptcha-enterprise",i2="NO_RECAPTCHA";class fU{constructor(e){this.type=hU,this.auth=po(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{Hj(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new Fj(d);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(d=>{h(d)})})}function a(l,u,h){const d=window.grecaptcha;uA(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(i2)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uU().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(h=>{if(!n&&uA(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=aU();d.length!==0&&(d+=h),n2(d).then(()=>{a(h,l,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function pA(t,e,n,s=!1,a=!1){const l=new fU(t);let u;if(a)u=i2;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Ky(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await pA(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await pA(t,e,n,n==="getOobCode");return s(t,u)}else return Promise.reject(l)})}function dU(t,e){const n=ho(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Jr(l,e??{}))return a;zi(a,"already-initialized")}return n.initialize({options:e})}function mU(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Ys);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function pU(t,e,n){const s=po(t);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=s2(e),{host:u,port:h}=gU(e),d=h===null?"":`:${h}`,p={url:`${l}//${u}${d}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Jr(p,s.config.emulator)&&Jr(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Vl(u)?(Zx(`${l}//${u}${d}`),Jx("Auth",!0)):yU()}function s2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gU(t){const e=s2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:gA(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:gA(u)}}}function gA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function yU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class V0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qs("not implemented")}_getIdTokenResponse(e){return qs("not implemented")}_linkToIdToken(e,n){return qs("not implemented")}_getReauthenticationResolver(e){return qs("not implemented")}}async function vU(t,e){return ha(t,"POST","/v1/accounts:signUp",e)}async function _U(t,e){return Yc(t,"POST","/v1/accounts:signInWithPassword",ca(t,e))}async function TU(t,e){return Yc(t,"POST","/v1/accounts:signInWithEmailLink",ca(t,e))}async function bU(t,e){return Yc(t,"POST","/v1/accounts:signInWithEmailLink",ca(t,e))}class Nc extends V0{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Nc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Nc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ky(e,n,"signInWithPassword",_U);case"emailLink":return TU(e,{email:this._email,oobCode:this._password});default:zi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ky(e,s,"signUpPassword",vU);case"emailLink":return bU(e,{idToken:n,email:this._email,oobCode:this._password});default:zi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Tl(t,e){return Yc(t,"POST","/v1/accounts:signInWithIdp",ca(t,e))}const wU="http://localhost";class so extends V0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new so(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new so(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Tl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Tl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Tl(e,n)}buildRequest(){const e={requestUri:wU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lc(n)}return e}}function EU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SU(t){const e=$u(Wu(t)).link,n=e?$u(Wu(e)).deep_link_id:null,s=$u(Wu(t)).deep_link_id;return(s?$u(Wu(s)).link:null)||s||n||e||t}class k0{constructor(e){const n=$u(Wu(e)),s=n.apiKey??null,a=n.oobCode??null,l=EU(n.mode??null);Ee(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=SU(e);try{return new k0(n)}catch{return null}}}class Fl{constructor(){this.providerId=Fl.PROVIDER_ID}static credential(e,n){return Nc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=k0.parseLink(n);return Ee(s,"argument-error"),Nc._fromEmailAndCode(e,s.code,s.tenantId)}}Fl.PROVIDER_ID="password";Fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class r2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Gc extends r2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Lr extends Gc{constructor(){super("facebook.com")}static credential(e){return so._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";class jr extends Gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return so._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return jr.credential(n,s)}catch{return null}}}jr.GOOGLE_SIGN_IN_METHOD="google.com";jr.PROVIDER_ID="google.com";class Ur extends Gc{constructor(){super("github.com")}static credential(e){return so._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.GITHUB_SIGN_IN_METHOD="github.com";Ur.PROVIDER_ID="github.com";class zr extends Gc{constructor(){super("twitter.com")}static credential(e,n){return so._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return zr.credential(n,s)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";async function AU(t,e){return Yc(t,"POST","/v1/accounts:signUp",ca(t,e))}class ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Li._fromIdTokenResponse(e,s,a),u=yA(s);return new ro({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=yA(s);return new ro({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function yA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Dd extends Bi{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Dd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Dd(e,n,s,a)}}function a2(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Dd._fromErrorAndOperation(t,l,e,s):l})}async function xU(t,e,n=!1){const s=await Rc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ro._forOperation(t,"link",s)}async function CU(t,e,n=!1){const{auth:s}=t;if(hi(s.app))return Promise.reject(Xs(s));const a="reauthenticate";try{const l=await Rc(t,a2(s,a,e,t),n);Ee(l.idToken,s,"internal-error");const u=P0(l.idToken);Ee(u,s,"internal-error");const{sub:h}=u;return Ee(t.uid===h,s,"user-mismatch"),ro._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&zi(s,"user-mismatch"),l}}async function o2(t,e,n=!1){if(hi(t.app))return Promise.reject(Xs(t));const s="signIn",a=await a2(t,s,e),l=await ro._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function RU(t,e){return o2(po(t),e)}async function l2(t){const e=po(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function u2(t,e,n){if(hi(t.app))return Promise.reject(Xs(t));const s=po(t),u=await Ky(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AU).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&l2(t),d}),h=await ro._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(h.user),h}function NU(t,e,n){return hi(t.app)?Promise.reject(Xs(t)):RU(vt(t),Fl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&l2(t),s})}function DU(t,e){return vt(t).setPersistence(e)}function IU(t,e,n,s){return vt(t).onIdTokenChanged(e,n,s)}function MU(t,e,n){return vt(t).beforeAuthStateChanged(e,n)}function c2(t,e,n,s){return vt(t).onAuthStateChanged(e,n,s)}function bl(t){return vt(t).signOut()}const Id="__sak";class h2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Id,"1"),this.storage.removeItem(Id),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const PU=1e3,OU=10;class f2 extends h2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=e2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);Jj()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,OU):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},PU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}f2.type="LOCAL";const d2=f2;class m2 extends h2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}m2.type="SESSION";const p2=m2;function VU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class cm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new cm(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const h=Array.from(u).map(async p=>p(n.origin,l)),d=await VU(h);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cm.receivers=[];function L0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class kU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,d)=>{const p=L0("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(v){const T=v;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(T.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function ys(){return window}function LU(t){ys().location.href=t}function g2(){return typeof ys().WorkerGlobalScope<"u"&&typeof ys().importScripts=="function"}async function jU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UU(){return navigator?.serviceWorker?.controller||null}function zU(){return g2()?self:null}const y2="firebaseLocalStorageDb",BU=1,Md="firebaseLocalStorage",v2="fbase_key";class Kc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hm(t,e){return t.transaction([Md],e?"readwrite":"readonly").objectStore(Md)}function FU(){const t=indexedDB.deleteDatabase(y2);return new Kc(t).toPromise()}function Xy(){const t=indexedDB.open(y2,BU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Md,{keyPath:v2})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Md)?e(s):(s.close(),await FU(),e(await Xy()))})})}async function vA(t,e,n){const s=hm(t,!0).put({[v2]:e,value:n});return new Kc(s).toPromise()}async function HU(t,e){const n=hm(t,!1).get(e),s=await new Kc(n).toPromise();return s===void 0?null:s.value}function _A(t,e){const n=hm(t,!0).delete(e);return new Kc(n).toPromise()}const qU=800,YU=3;class _2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>YU)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return g2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cm._getInstance(zU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jU(),!this.activeServiceWorker)return;this.sender=new kU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xy();return await vA(e,Id,"1"),await _A(e,Id),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>vA(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>HU(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_A(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=hm(a,!1).getAll();return new Kc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_2.type="LOCAL";const GU=_2;new qc(3e4,6e4);function KU(t,e){return e?Ys(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class j0 extends V0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function XU(t){return o2(t.auth,new j0(t),t.bypassAuthState)}function $U(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),CU(n,new j0(t),t.bypassAuthState)}async function WU(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),xU(n,new j0(t),t.bypassAuthState)}class T2{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XU;case"linkViaPopup":case"linkViaRedirect":return WU;case"reauthViaPopup":case"reauthViaRedirect":return $U;default:zi(this.auth,"internal-error")}}resolve(e){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const QU=new qc(2e3,1e4);class pl extends T2{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,pl.currentPopupAction&&pl.currentPopupAction.cancel(),pl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){nr(this.filter.length===1,"Popup operations only handle one event");const e=L0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(gs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QU.get())};e()}}pl.currentPopupAction=null;const ZU="pendingRedirect",Jf=new Map;class JU extends T2{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Jf.get(this.auth._key());if(!e){try{const s=await e9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Jf.set(this.auth._key(),e)}return this.bypassAuthState||Jf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function e9(t,e){const n=i9(e),s=n9(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function t9(t,e){Jf.set(t._key(),e)}function n9(t){return Ys(t._redirectPersistence)}function i9(t){return Zf(ZU,t.config.apiKey,t.name)}async function s9(t,e,n=!1){if(hi(t.app))return Promise.reject(Xs(t));const s=po(t),a=KU(s,e),u=await new JU(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const r9=600*1e3;class a9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!b2(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(gs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=r9&&this.cachedEventUids.clear(),this.cachedEventUids.has(TA(e))}saveEventToCache(e){this.cachedEventUids.add(TA(e)),this.lastProcessedEventTime=Date.now()}}function TA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function b2({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function o9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b2(t);default:return!1}}async function l9(t,e={}){return ha(t,"GET","/v1/projects",e)}const u9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c9=/^https?/;async function h9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await l9(t);for(const n of e)try{if(f9(n))return}catch{}zi(t,"unauthorized-domain")}function f9(t){const e=Yy(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!c9.test(n))return!1;if(u9.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const d9=new qc(3e4,6e4);function bA(){const t=ys().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function m9(t){return new Promise((e,n)=>{function s(){bA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bA(),n(gs(t,"network-request-failed"))},timeout:d9.get()})}if(ys().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ys().gapi?.load)s();else{const a=lU("iframefcb");return ys()[a]=()=>{gapi.load?s():n(gs(t,"network-request-failed"))},n2(`${oU()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ed=null,e})}let ed=null;function p9(t){return ed=ed||m9(t),ed}const g9=new qc(5e3,15e3),y9="__/auth/iframe",v9="emulator/auth/iframe",_9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function b9(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?M0(e,v9):`https://${t.config.authDomain}/${y9}`,s={apiKey:e.apiKey,appName:t.name,v:kl},a=T9.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${Lc(s).slice(1)}`}async function w9(t){const e=await p9(t),n=ys().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:b9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_9,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=gs(t,"network-request-failed"),h=ys().setTimeout(()=>{l(u)},g9.get());function d(){ys().clearTimeout(h),a(s)}s.ping(d).then(d,()=>{l(u)})}))}const E9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S9=500,A9=600,x9="_blank",C9="http://localhost";class wA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function R9(t,e,n,s=S9,a=A9){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const d={...E9,width:s.toString(),height:a.toString(),top:l,left:u},p=yn().toLowerCase();n&&(h=$R(p)?x9:n),KR(p)&&(e=e||C9,d.scrollbars="yes");const y=Object.entries(d).reduce((T,[S,N])=>`${T}${S}=${N},`,"");if(Zj(p)&&h!=="_self")return N9(e||"",h),new wA(null);const v=window.open(e||"",h,y);Ee(v,t,"popup-blocked");try{v.focus()}catch{}return new wA(v)}function N9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const D9="__/auth/handler",I9="emulator/auth/handler",M9=encodeURIComponent("fac");async function EA(t,e,n,s,a,l){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:kl,eventId:a};if(e instanceof r2){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",iL(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof Gc){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await t._getAppCheckToken(),p=d?`#${M9}=${encodeURIComponent(d)}`:"";return`${P9(t)}?${Lc(h).slice(1)}${p}`}function P9({config:t}){return t.emulator?M0(t,I9):`https://${t.authDomain}/${D9}`}const Gg="webStorageSupport";class O9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=p2,this._completeRedirectFn=s9,this._overrideRedirectResult=t9}async _openPopup(e,n,s,a){nr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await EA(e,n,s,Yy(),a);return R9(e,l,L0())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await EA(e,n,s,Yy(),a);return LU(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(nr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await w9(e),s=new a9(e);return n.register("authEvent",a=>(Ee(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gg,{type:Gg},a=>{const l=a?.[0]?.[Gg];l!==void 0&&n(!!l),zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=h9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return e2()||XR()||O0()}}const V9=O9;var SA="@firebase/auth",AA="1.11.1";class k9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function L9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function j9(t){vs(new ji("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=s.options;Ee(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:t2(t)},p=new sU(s,a,l,d);return mU(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),vs(new ji("auth-internal",e=>{const n=po(e.getProvider("auth").getImmediate());return(s=>new k9(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vi(SA,AA,L9(t)),vi(SA,AA,"esm2020")}const U9=300,z9=Qx("authIdTokenMaxAge")||U9;let xA=null;const B9=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>z9)return;const a=n?.token;xA!==a&&(xA=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function F9(t=Hv()){const e=ho(t,"auth");if(e.isInitialized())return e.getImmediate();const n=dU(t,{popupRedirectResolver:V9,persistence:[GU,d2,p2]}),s=Qx("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=B9(l.toString());MU(n,u,()=>u(n.currentUser)),IU(n,h=>u(h))}}const a=$x("auth");return a&&pU(n,`http://${a}`),n}function H9(){return document.getElementsByTagName("head")?.[0]??document}rU({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=gs("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",H9().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});j9("Browser");const w2="@firebase/installations",U0="0.6.19";const E2=1e4,S2=`w:${U0}`,A2="FIS_v2",q9="https://firebaseinstallations.googleapis.com/v1",Y9=3600*1e3,G9="installations",K9="Installations";const X9={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ao=new co(G9,K9,X9);function x2(t){return t instanceof Bi&&t.code.includes("request-failed")}function C2({projectId:t}){return`${q9}/projects/${t}/installations`}function R2(t){return{token:t.token,requestStatus:2,expiresIn:W9(t.expiresIn),creationTime:Date.now()}}async function N2(t,e){const s=(await e.json()).error;return ao.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function D2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function $9(t,{refreshToken:e}){const n=D2(t);return n.append("Authorization",Q9(e)),n}async function I2(t){const e=await t();return e.status>=500&&e.status<600?t():e}function W9(t){return Number(t.replace("s","000"))}function Q9(t){return`${A2} ${t}`}async function Z9({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=C2(t),a=D2(t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={fid:n,authVersion:A2,appId:t.appId,sdkVersion:S2},h={method:"POST",headers:a,body:JSON.stringify(u)},d=await I2(()=>fetch(s,h));if(d.ok){const p=await d.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:R2(p.authToken)}}else throw await N2("Create Installation",d)}function M2(t){return new Promise(e=>{setTimeout(e,t)})}function J9(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const ez=/^[cdef][\w-]{21}$/,$y="";function tz(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=nz(t);return ez.test(n)?n:$y}catch{return $y}}function nz(t){return J9(t).substr(0,22)}function fm(t){return`${t.appName}!${t.appId}`}const P2=new Map;function O2(t,e){const n=fm(t);V2(n,e),iz(n,e)}function V2(t,e){const n=P2.get(t);if(n)for(const s of n)s(e)}function iz(t,e){const n=sz();n&&n.postMessage({key:t,fid:e}),rz()}let $a=null;function sz(){return!$a&&"BroadcastChannel"in self&&($a=new BroadcastChannel("[Firebase] FID Change"),$a.onmessage=t=>{V2(t.data.key,t.data.fid)}),$a}function rz(){P2.size===0&&$a&&($a.close(),$a=null)}const az="firebase-installations-database",oz=1,oo="firebase-installations-store";let Kg=null;function z0(){return Kg||(Kg=rC(az,oz,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(oo)}}})),Kg}async function Pd(t,e){const n=fm(t),a=(await z0()).transaction(oo,"readwrite"),l=a.objectStore(oo),u=await l.get(n);return await l.put(e,n),await a.done,(!u||u.fid!==e.fid)&&O2(t,e.fid),e}async function k2(t){const e=fm(t),s=(await z0()).transaction(oo,"readwrite");await s.objectStore(oo).delete(e),await s.done}async function dm(t,e){const n=fm(t),a=(await z0()).transaction(oo,"readwrite"),l=a.objectStore(oo),u=await l.get(n),h=e(u);return h===void 0?await l.delete(n):await l.put(h,n),await a.done,h&&(!u||u.fid!==h.fid)&&O2(t,h.fid),h}async function B0(t){let e;const n=await dm(t.appConfig,s=>{const a=lz(s),l=uz(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===$y?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function lz(t){const e=t||{fid:tz(),registrationStatus:0};return L2(e)}function uz(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(ao.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=cz(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:hz(t)}:{installationEntry:e}}async function cz(t,e){try{const n=await Z9(t,e);return Pd(t.appConfig,n)}catch(n){throw x2(n)&&n.customData.serverCode===409?await k2(t.appConfig):await Pd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function hz(t){let e=await CA(t.appConfig);for(;e.registrationStatus===1;)await M2(100),e=await CA(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await B0(t);return s||n}return e}function CA(t){return dm(t,e=>{if(!e)throw ao.create("installation-not-found");return L2(e)})}function L2(t){return fz(t)?{fid:t.fid,registrationStatus:0}:t}function fz(t){return t.registrationStatus===1&&t.registrationTime+E2<Date.now()}async function dz({appConfig:t,heartbeatServiceProvider:e},n){const s=mz(t,n),a=$9(t,n),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={installation:{sdkVersion:S2,appId:t.appId}},h={method:"POST",headers:a,body:JSON.stringify(u)},d=await I2(()=>fetch(s,h));if(d.ok){const p=await d.json();return R2(p)}else throw await N2("Generate Auth Token",d)}function mz(t,{fid:e}){return`${C2(t)}/${e}/authTokens:generate`}async function F0(t,e=!1){let n;const s=await dm(t.appConfig,l=>{if(!j2(l))throw ao.create("not-registered");const u=l.authToken;if(!e&&yz(u))return l;if(u.requestStatus===1)return n=pz(t,e),l;{if(!navigator.onLine)throw ao.create("app-offline");const h=_z(l);return n=gz(t,h),h}});return n?await n:s.authToken}async function pz(t,e){let n=await RA(t.appConfig);for(;n.authToken.requestStatus===1;)await M2(100),n=await RA(t.appConfig);const s=n.authToken;return s.requestStatus===0?F0(t,e):s}function RA(t){return dm(t,e=>{if(!j2(e))throw ao.create("not-registered");const n=e.authToken;return Tz(n)?{...e,authToken:{requestStatus:0}}:e})}async function gz(t,e){try{const n=await dz(t,e),s={...e,authToken:n};return await Pd(t.appConfig,s),n}catch(n){if(x2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await k2(t.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Pd(t.appConfig,s)}throw n}}function j2(t){return t!==void 0&&t.registrationStatus===2}function yz(t){return t.requestStatus===2&&!vz(t)}function vz(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Y9}function _z(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Tz(t){return t.requestStatus===1&&t.requestTime+E2<Date.now()}async function bz(t){const e=t,{installationEntry:n,registrationPromise:s}=await B0(e);return s?s.catch(console.error):F0(e).catch(console.error),n.fid}async function wz(t,e=!1){const n=t;return await Ez(n),(await F0(n,e)).token}async function Ez(t){const{registrationPromise:e}=await B0(t);e&&await e}function Sz(t){if(!t||!t.options)throw Xg("App Configuration");if(!t.name)throw Xg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Xg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Xg(t){return ao.create("missing-app-config-values",{valueName:t})}const U2="installations",Az="installations-internal",xz=t=>{const e=t.getProvider("app").getImmediate(),n=Sz(e),s=ho(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},Cz=t=>{const e=t.getProvider("app").getImmediate(),n=ho(e,U2).getImmediate();return{getId:()=>bz(n),getToken:a=>wz(n,a)}};function Rz(){vs(new ji(U2,xz,"PUBLIC")),vs(new ji(Az,Cz,"PRIVATE"))}Rz();vi(w2,U0);vi(w2,U0,"esm2020");const Od="analytics",Nz="firebase_id",Dz="origin",Iz=60*1e3,Mz="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",H0="https://www.googletagmanager.com/gtag/js";const wn=new Hd("@firebase/analytics");const Pz={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Xn=new co("analytics","Analytics",Pz);function Oz(t){if(!t.startsWith(H0)){const e=Xn.create("invalid-gtag-resource",{gtagURL:t});return wn.warn(e.message),""}return t}function z2(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Vz(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function kz(t,e){const n=Vz("firebase-js-sdk-policy",{createScriptURL:Oz}),s=document.createElement("script"),a=`${H0}?l=${t}&id=${e}`;s.src=n?n?.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function Lz(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function jz(t,e,n,s,a,l){const u=s[a];try{if(u)await e[u];else{const d=(await z2(n)).find(p=>p.measurementId===a);d&&await e[d.appId]}}catch(h){wn.error(h)}t("config",a,l)}async function Uz(t,e,n,s,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const h=await z2(n);for(const d of u){const p=h.find(v=>v.measurementId===d),y=p&&e[p.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",s,a||{})}catch(l){wn.error(l)}}function zz(t,e,n,s){async function a(l,...u){try{if(l==="event"){const[h,d]=u;await Uz(t,e,n,h,d)}else if(l==="config"){const[h,d]=u;await jz(t,e,n,s,h,d)}else if(l==="consent"){const[h,d]=u;t("consent",h,d)}else if(l==="get"){const[h,d,p]=u;t("get",h,d,p)}else if(l==="set"){const[h]=u;t("set",h)}else t(l,...u)}catch(h){wn.error(h)}}return a}function Bz(t,e,n,s,a){let l=function(...u){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=zz(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function Fz(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(H0)&&n.src.includes(t))return n;return null}const Hz=30,qz=1e3;class Yz{constructor(e={},n=qz){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const B2=new Yz;function Gz(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Kz(t){const{appId:e,apiKey:n}=t,s={method:"GET",headers:Gz(n)},a=Mz.replace("{app-id}",e),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let u="";try{const h=await l.json();h.error?.message&&(u=h.error.message)}catch{}throw Xn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function Xz(t,e=B2,n){const{appId:s,apiKey:a,measurementId:l}=t.options;if(!s)throw Xn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:s};throw Xn.create("no-api-key")}const u=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new Qz;return setTimeout(async()=>{h.abort()},Iz),F2({appId:s,apiKey:a,measurementId:l},u,h,e)}async function F2(t,{throttleEndTimeMillis:e,backoffCount:n},s,a=B2){const{appId:l,measurementId:u}=t;try{await $z(s,e)}catch(h){if(u)return wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:l,measurementId:u};throw h}try{const h=await Kz(t);return a.deleteThrottleMetadata(l),h}catch(h){const d=h;if(!Wz(d)){if(a.deleteThrottleMetadata(l),u)return wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:u};throw h}const p=Number(d?.customData?.httpStatus)===503?ZE(n,a.intervalMillis,Hz):ZE(n,a.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return a.setThrottleMetadata(l,y),wn.debug(`Calling attemptFetch again in ${p} millis`),F2(t,y,s,a)}}function $z(t,e){return new Promise((n,s)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),s(Xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Wz(t){if(!(t instanceof Bi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Qz{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Zz(t,e,n,s,a){if(a&&a.global){t("event",n,s);return}else{const l=await e,u={...s,send_to:l};t("event",n,u)}}async function Jz(t,e,n,s){if(s&&s.global){const a={};for(const l of Object.keys(n))a[`user_properties.${l}`]=n[l];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}async function eB(){if(tC())try{await nC()}catch(t){return wn.warn(Xn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return wn.warn(Xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function tB(t,e,n,s,a,l,u){const h=Xz(t);h.then(T=>{n[T.measurementId]=T.appId,t.options.measurementId&&T.measurementId!==t.options.measurementId&&wn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>wn.error(T)),e.push(h);const d=eB().then(T=>{if(T)return s.getId()}),[p,y]=await Promise.all([h,d]);Fz(l)||kz(l,p.measurementId),a("js",new Date);const v=u?.config??{};return v[Dz]="firebase",v.update=!0,y!=null&&(v[Nz]=y),a("config",p.measurementId,v),p.measurementId}class nB{constructor(e){this.app=e}_delete(){return delete wl[this.app.options.appId],Promise.resolve()}}let wl={},NA=[];const DA={};let $g="dataLayer",iB="gtag",IA,q0,MA=!1;function sB(){const t=[];if(eC()&&t.push("This is a browser extension environment."),J4()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,a)=>`(${a+1}) ${s}`).join(" "),n=Xn.create("invalid-analytics-context",{errorInfo:e});wn.warn(n.message)}}function rB(t,e,n){sB();const s=t.options.appId;if(!s)throw Xn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Xn.create("no-api-key");if(wl[s]!=null)throw Xn.create("already-exists",{id:s});if(!MA){Lz($g);const{wrappedGtag:l,gtagCore:u}=Bz(wl,NA,DA,$g,iB);q0=l,IA=u,MA=!0}return wl[s]=tB(t,NA,DA,e,IA,$g,n),new nB(t)}function aB(t=Hv()){t=vt(t);const e=ho(t,Od);return e.isInitialized()?e.getImmediate():oB(t)}function oB(t,e={}){const n=ho(t,Od);if(n.isInitialized()){const a=n.getImmediate();if(Jr(e,n.getOptions()))return a;throw Xn.create("already-initialized")}return n.initialize({options:e})}function lB(t,e,n){t=vt(t),Jz(q0,wl[t.app.options.appId],e,n).catch(s=>wn.error(s))}function uB(t,e,n,s){t=vt(t),Zz(q0,wl[t.app.options.appId],e,n,s).catch(a=>wn.error(a))}const PA="@firebase/analytics",OA="0.10.19";function cB(){vs(new ji(Od,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return rB(s,a,n)},"PUBLIC")),vs(new ji("analytics-internal",t,"PRIVATE")),vi(PA,OA),vi(PA,OA,"esm2020");function t(e){try{const n=e.getProvider(Od).getImmediate();return{logEvent:(s,a,l)=>uB(n,s,a,l),setUserProperties:(s,a)=>lB(n,s,a)}}catch(n){throw Xn.create("interop-component-reg-failed",{reason:n})}}}cB();const hB={apiKey:"AIzaSyD-GIU-_XMDNkFNyYpBGfrcuAqypNCboxk",authDomain:"mit-mess-23f98.firebaseapp.com",projectId:"mit-mess-23f98",storageBucket:"mit-mess-23f98.firebasestorage.app",messagingSenderId:"286644195454",appId:"1:286644195454:web:97f456209765291e37082f",measurementId:"G-2TSYYR3ZYM"},Y0=aC(hB),Kt=gj(Y0),Gn=F9(Y0);aB(Y0);const fB=()=>{const[t,e]=O.useState(""),[n,s]=O.useState([]),[a,l]=O.useState(!0);O.useEffect(()=>{const d=Ij(Hr(Kt,"messes"),p=>{const y=p.docs.map(v=>({id:v.id,...v.data()}));s(y),l(!1)});return()=>d()},[]);const h=(()=>{const d=t.toLowerCase();if(!d)return n.sort((T,S)=>{const N=localStorage.getItem("lastViewedMess");return N?T.id===N?-1:S.id===N?1:0:0}).map(T=>({...T,type:"mess"}));const p=qx.filter(T=>T.name.toLowerCase().includes(d)).map(T=>({...T,type:"restaurant"})),y=n.filter(T=>T.name.toLowerCase().includes(d)).map(T=>({...T,type:"mess"})),v=n.filter(T=>T.name.toLowerCase().includes(d)||!T.menu?!1:Object.values(T.menu).some(S=>Object.values(S).some(N=>N&&N.toLowerCase().includes(d)))).map(T=>({...T,type:"mess"}));return[...p,...y,...v]})();return w.jsxs("div",{className:"min-h-screen bg-gray-50 relative selection:bg-orange-200 selection:text-orange-900",children:[w.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[w.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),w.jsx("div",{className:"absolute top-0 -left-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"}),w.jsx("div",{className:"absolute -bottom-40 left-20 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-4000"})]}),w.jsx(Bd,{searchTerm:t,setSearchTerm:e}),w.jsxs("main",{className:"relative z-10 pt-20 pb-12 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto flex flex-col min-h-[calc(100vh-80px)]",children:[w.jsx("div",{className:"flex-grow",children:a?w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-8",children:[1,2,3,4,5,6].map(d=>w.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-sm border border-gray-100 h-full flex flex-col",children:[w.jsx("div",{className:"h-48 w-full skeleton-loader"}),w.jsxs("div",{className:"p-6 space-y-4 flex-grow",children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsx("div",{className:"h-6 w-3/4 rounded skeleton-loader"}),w.jsx("div",{className:"h-6 w-16 rounded-full skeleton-loader"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("div",{className:"h-4 w-full rounded skeleton-loader"}),w.jsx("div",{className:"h-4 w-5/6 rounded skeleton-loader"})]}),w.jsxs("div",{className:"pt-4 mt-auto flex justify-between items-center",children:[w.jsx("div",{className:"h-8 w-24 rounded-lg skeleton-loader"}),w.jsx("div",{className:"h-8 w-8 rounded-full skeleton-loader"})]})]})]},d))}):w.jsxs(Xt.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-8",children:[h.map((d,p)=>d.type==="mess"?t?w.jsxs(Yr,{to:`/mess/${d.id}`,className:`block p-6 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 group h-fit bg-gradient-to-r ${d.color||"from-orange-500 to-red-500"}`,children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-start mb-4",children:[w.jsx("h3",{className:"text-xl font-bold text-white group-hover:scale-105 transition-transform origin-left",children:d.name}),w.jsx("div",{className:"p-2 bg-white/20 rounded-full text-white backdrop-blur-sm",children:w.jsx(id,{size:20})})]}),w.jsx("p",{className:"text-white/80 text-sm font-medium",children:"View Weekly Menu"})]}),w.jsxs("div",{className:"mt-6 pt-4 border-t border-white/20 flex items-center text-white/90 font-medium",children:[w.jsx("span",{className:"w-2 h-2 rounded-full bg-white/50 mr-2"}),"Tap to open"]})]},d.id):w.jsx(P4,{mess:d},d.id):w.jsxs(Xt.a,{layout:!0,href:`tel:${d.phone}`,whileHover:{y:-5},className:"block p-6 rounded-2xl bg-white border border-gray-100 shadow-xl hover:shadow-2xl transition-all duration-300 group h-fit",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-start mb-4",children:[w.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-orange-600 transition-colors",children:d.name}),w.jsx("div",{className:"p-2 bg-orange-100 rounded-full text-orange-600",children:w.jsx(UM,{size:20})})]}),w.jsx("p",{className:"text-gray-500 text-sm",children:"Restaurant / Cafe"})]}),w.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-100 flex items-center text-gray-600 font-medium",children:[w.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 mr-2"}),d.phone]})]},`rest-${p}`)),h.length===0&&w.jsx(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"col-span-full text-center py-12",children:w.jsx("p",{className:"text-gray-500 text-lg",children:"No messes found matching your search."})})]})}),w.jsxs("footer",{className:"text-center py-8 mt-8 border-t border-gray-200/50",children:[w.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 tracking-tight mb-2",children:["What's on the ",w.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-red-600",children:"Menu?"})]}),w.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto px-4",children:"Daily menus for all hostel messes. Click a card for the full weekly schedule."})]})]})]})};var gi=function(t,e){return Number(t.toFixed(e))},dB=function(t,e){return e},ft=function(t,e,n){n&&typeof n=="function"&&n(t,e)},mB=function(t){return-Math.cos(t*Math.PI)/2+.5},pB=function(t){return t},gB=function(t){return t*t},yB=function(t){return t*(2-t)},vB=function(t){return t<.5?2*t*t:-1+(4-2*t)*t},_B=function(t){return t*t*t},TB=function(t){return--t*t*t+1},bB=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},wB=function(t){return t*t*t*t},EB=function(t){return 1- --t*t*t*t},SB=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},AB=function(t){return t*t*t*t*t},xB=function(t){return 1+--t*t*t*t*t},CB=function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},H2={easeOut:mB,linear:pB,easeInQuad:gB,easeOutQuad:yB,easeInOutQuad:vB,easeInCubic:_B,easeOutCubic:TB,easeInOutCubic:bB,easeInQuart:wB,easeOutQuart:EB,easeInOutQuart:SB,easeInQuint:AB,easeOutQuint:xB,easeInOutQuint:CB},q2=function(t){typeof t=="number"&&cancelAnimationFrame(t)},ki=function(t){t.mounted&&(q2(t.animation),t.animate=!1,t.animation=null,t.velocity=null)};function Y2(t,e,n,s){if(t.mounted){var a=new Date().getTime(),l=1;ki(t),t.animation=function(){if(!t.mounted)return q2(t.animation);var u=new Date().getTime()-a,h=u/n,d=H2[e],p=d(h);u>=n?(s(l),t.animation=null):t.animation&&(s(p),requestAnimationFrame(t.animation))},requestAnimationFrame(t.animation)}}function RB(t){var e=t.scale,n=t.positionX,s=t.positionY;return!(Number.isNaN(e)||Number.isNaN(n)||Number.isNaN(s))}function fa(t,e,n,s){var a=RB(e);if(!(!t.mounted||!a)){var l=t.setTransformState,u=t.transformState,h=u.scale,d=u.positionX,p=u.positionY,y=e.scale-h,v=e.positionX-d,T=e.positionY-p;n===0?l(e.scale,e.positionX,e.positionY):Y2(t,s,n,function(S){var N=h+y*S,M=d+v*S,I=p+T*S;l(N,M,I)})}}function NB(t,e,n){var s=t.offsetWidth,a=t.offsetHeight,l=e.offsetWidth,u=e.offsetHeight,h=l*n,d=u*n,p=s-h,y=a-d;return{wrapperWidth:s,wrapperHeight:a,newContentWidth:h,newDiffWidth:p,newContentHeight:d,newDiffHeight:y}}var DB=function(t,e,n,s,a,l,u){var h=t>e?n*(u?1:.5):0,d=s>a?l*(u?1:.5):0,p=t-e-h,y=h,v=s-a-d,T=d;return{minPositionX:p,maxPositionX:y,minPositionY:v,maxPositionY:T}},G0=function(t,e){var n=t.wrapperComponent,s=t.contentComponent,a=t.setup.centerZoomedOut;if(!n||!s)throw new Error("Components are not mounted");var l=NB(n,s,e),u=l.wrapperWidth,h=l.wrapperHeight,d=l.newContentWidth,p=l.newDiffWidth,y=l.newContentHeight,v=l.newDiffHeight,T=DB(u,d,p,h,y,v,!!a);return T},Wy=function(t,e,n,s){return s?t<e?gi(e,2):t>n?gi(n,2):gi(t,2):gi(t,2)},eo=function(t,e){var n=G0(t,e);return t.bounds=n,n};function Xc(t,e,n,s,a,l,u){var h=n.minPositionX,d=n.minPositionY,p=n.maxPositionX,y=n.maxPositionY,v=0,T=0;u&&(v=a,T=l);var S=Wy(t,h-v,p+v,s),N=Wy(e,d-T,y+T,s);return{x:S,y:N}}function mm(t,e,n,s,a,l){var u=t.transformState,h=u.scale,d=u.positionX,p=u.positionY,y=s-h;if(typeof e!="number"||typeof n!="number")return console.error("Mouse X and Y position were not provided!"),{x:d,y:p};var v=d-e*y,T=p-n*y,S=Xc(v,T,a,l,0,0,null);return S}function $c(t,e,n,s,a){var l=a?s:0,u=e-l;return!Number.isNaN(n)&&t>=n?n:!Number.isNaN(e)&&t<=u?u:t}var VA=function(t,e){var n=t.setup.panning.excluded,s=t.isInitialized,a=t.wrapperComponent,l=e.target,u="shadowRoot"in l&&"composedPath"in e,h=u?e.composedPath().some(function(y){return y instanceof Element?a?.contains(y):!1}):a?.contains(l),d=s&&l&&h;if(!d)return!1;var p=pm(l,n);return!p},kA=function(t){var e=t.isInitialized,n=t.isPanning,s=t.setup,a=s.panning.disabled,l=e&&n&&!a;return!!l},IB=function(t,e){var n=t.transformState,s=n.positionX,a=n.positionY;t.isPanning=!0;var l=e.clientX,u=e.clientY;t.startCoords={x:l-s,y:u-a}},MB=function(t,e){var n=e.touches,s=t.transformState,a=s.positionX,l=s.positionY;t.isPanning=!0;var u=n.length===1;if(u){var h=n[0].clientX,d=n[0].clientY;t.startCoords={x:h-a,y:d-l}}};function PB(t){var e=t.transformState,n=e.positionX,s=e.positionY,a=e.scale,l=t.setup,u=l.disabled,h=l.limitToBounds,d=l.centerZoomedOut,p=t.wrapperComponent;if(!(u||!p||!t.bounds)){var y=t.bounds,v=y.maxPositionX,T=y.minPositionX,S=y.maxPositionY,N=y.minPositionY,M=n>v||n<T,I=s>S||s<N,V=n>v?p.offsetWidth:t.setup.minPositionX||0,U=s>S?p.offsetHeight:t.setup.minPositionY||0,F=mm(t,V,U,a,t.bounds,h||d),ee=F.x,te=F.y;return{scale:a,positionX:M?ee:n,positionY:I?te:s}}}function G2(t,e,n,s,a){var l=t.setup.limitToBounds,u=t.wrapperComponent,h=t.bounds,d=t.transformState,p=d.scale,y=d.positionX,v=d.positionY;if(!(u===null||h===null||e===y&&n===v)){var T=Xc(e,n,h,l,s,a,u),S=T.x,N=T.y;t.setTransformState(p,S,N)}}var OB=function(t,e,n){var s=t.startCoords,a=t.transformState,l=t.setup.panning,u=l.lockAxisX,h=l.lockAxisY,d=a.positionX,p=a.positionY;if(!s)return{x:d,y:p};var y=e-s.x,v=n-s.y,T=u?d:y,S=h?p:v;return{x:T,y:S}},aa=function(t,e){var n=t.setup,s=t.transformState,a=s.scale,l=n.minScale,u=n.disablePadding;return e>0&&a>=l&&!u?e:0},VB=function(t){var e=t.mounted,n=t.setup,s=n.disabled,a=n.velocityAnimation,l=t.transformState.scale,u=a.disabled,h=!u||l>1||!s||e;return!!h},kB=function(t){var e=t.mounted,n=t.velocity,s=t.bounds,a=t.setup,l=a.disabled,u=a.velocityAnimation,h=t.transformState.scale,d=u.disabled,p=!d||h>1||!l||e;return!(!p||!n||!s)};function LB(t,e){var n=t.setup.velocityAnimation,s=n.equalToMove,a=n.animationTime,l=n.sensitivity;return s?a*e*l:a}function LA(t,e,n,s,a,l,u,h,d,p){if(a){if(e>u&&n>u){var y=u+(t-u)*p;return y>d?d:y<u?u:y}if(e<l&&n<l){var y=l+(t-l)*p;return y<h?h:y>l?l:y}}return s?e:Wy(t,l,u,a)}function jB(t,e){var n=1;return e?Math.min(n,t.offsetWidth/window.innerWidth):n}function UB(t,e){var n=VB(t);if(n){var s=t.lastMousePosition,a=t.velocityTime,l=t.setup,u=t.wrapperComponent,h=l.velocityAnimation.equalToMove,d=Date.now();if(s&&a&&u){var p=jB(u,h),y=e.x-s.x,v=e.y-s.y,T=y/p,S=v/p,N=d-a,M=y*y+v*v,I=Math.sqrt(M)/N;t.velocity={velocityX:T,velocityY:S,total:I}}t.lastMousePosition=e,t.velocityTime=d}}function zB(t){var e=t.velocity,n=t.bounds,s=t.setup,a=t.wrapperComponent,l=kB(t);if(!(!l||!e||!n||!a)){var u=e.velocityX,h=e.velocityY,d=e.total,p=n.maxPositionX,y=n.minPositionX,v=n.maxPositionY,T=n.minPositionY,S=s.limitToBounds,N=s.alignmentAnimation,M=s.zoomAnimation,I=s.panning,V=I.lockAxisY,U=I.lockAxisX,F=M.animationType,ee=N.sizeX,te=N.sizeY,Z=N.velocityAlignmentTime,R=Z,x=LB(t,d),D=Math.max(x,R),j=aa(t,ee),L=aa(t,te),H=j*a.offsetWidth/100,P=L*a.offsetHeight/100,Fe=p+H,We=y-H,Q=v+P,le=T-P,de=t.transformState,xe=new Date().getTime();Y2(t,F,D,function(Oe){var z=t.transformState,ie=z.scale,ce=z.positionX,he=z.positionY,Te=new Date().getTime()-xe,Ce=Te/R,oe=H2[N.animationType],_e=1-oe(Math.min(1,Ce)),we=1-Oe,pt=ce+u*we,En=he+h*we,$n=LA(pt,de.positionX,ce,U,S,y,p,We,Fe,_e),bi=LA(En,de.positionY,he,V,S,T,v,le,Q,_e);(ce!==pt||he!==En)&&t.setTransformState(ie,$n,bi)})}}function jA(t,e){var n=t.transformState.scale;ki(t),eo(t,n),window.TouchEvent!==void 0&&e instanceof TouchEvent?MB(t,e):IB(t,e)}function K0(t,e){var n=t.transformState.scale,s=t.setup,a=s.minScale,l=s.alignmentAnimation,u=l.disabled,h=l.sizeX,d=l.sizeY,p=l.animationTime,y=l.animationType,v=u||n<a||!h&&!d;if(!v){var T=PB(t);T&&fa(t,T,e??p,y)}}function UA(t,e,n){var s=t.startCoords,a=t.setup,l=a.alignmentAnimation,u=l.sizeX,h=l.sizeY;if(s){var d=OB(t,e,n),p=d.x,y=d.y,v=aa(t,u),T=aa(t,h);UB(t,{x:p,y}),G2(t,p,y,v,T)}}function BB(t){if(t.isPanning){var e=t.setup.panning.velocityDisabled,n=t.velocity,s=t.wrapperComponent,a=t.contentComponent;t.isPanning=!1,t.animate=!1,t.animation=null;var l=s?.getBoundingClientRect(),u=a?.getBoundingClientRect(),h=l?.width||0,d=l?.height||0,p=u?.width||0,y=u?.height||0,v=h<p||d<y,T=!e&&n&&n?.total>.1&&v;T?zB(t):K0(t)}}function X0(t,e,n,s){var a=t.setup,l=a.minScale,u=a.maxScale,h=a.limitToBounds,d=$c(gi(e,2),l,u,0,!1),p=eo(t,d),y=mm(t,n,s,d,p,h),v=y.x,T=y.y;return{scale:d,positionX:v,positionY:T}}function K2(t,e,n){var s=t.transformState.scale,a=t.wrapperComponent,l=t.setup,u=l.minScale,h=l.limitToBounds,d=l.zoomAnimation,p=d.disabled,y=d.animationTime,v=d.animationType,T=p||s>=u;if((s>=1||h)&&K0(t),!(T||!a||!t.mounted)){var S=e||a.offsetWidth/2,N=n||a.offsetHeight/2,M=X0(t,u,S,N);M&&fa(t,M,y,v)}}var Wr=function(){return Wr=Object.assign||function(e){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Wr.apply(this,arguments)};function zA(t,e,n){for(var s=0,a=e.length,l;s<a;s++)(l||!(s in e))&&(l||(l=Array.prototype.slice.call(e,0,s)),l[s]=e[s]);return t.concat(l||Array.prototype.slice.call(e))}var Lf={scale:1,positionX:0,positionY:0},Ku={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},Qy={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},X2=function(t){var e,n,s,a;return{previousScale:(e=t.initialScale)!==null&&e!==void 0?e:Lf.scale,scale:(n=t.initialScale)!==null&&n!==void 0?n:Lf.scale,positionX:(s=t.initialPositionX)!==null&&s!==void 0?s:Lf.positionX,positionY:(a=t.initialPositionY)!==null&&a!==void 0?a:Lf.positionY}},BA=function(t){var e=Wr({},Ku);return Object.keys(t).forEach(function(n){var s=typeof t[n]<"u",a=typeof Ku[n]<"u";if(a&&s){var l=Object.prototype.toString.call(Ku[n]),u=l==="[object Object]",h=l==="[object Array]";u?e[n]=Wr(Wr({},Ku[n]),t[n]):h?e[n]=zA(zA([],Ku[n],!0),t[n]):e[n]=t[n]}}),e},$2=function(t,e,n){var s=t.transformState.scale,a=t.wrapperComponent,l=t.setup,u=l.maxScale,h=l.minScale,d=l.zoomAnimation,p=l.smooth,y=d.size;if(!a)throw new Error("Wrapper is not mounted");var v=p?s*Math.exp(e*n):s+e*n,T=$c(gi(v,3),h,u,y,!1);return T};function W2(t,e,n,s,a){var l=t.wrapperComponent,u=t.transformState,h=u.scale,d=u.positionX,p=u.positionY;if(!l)return console.error("No WrapperComponent found");var y=l.offsetWidth,v=l.offsetHeight,T=(y/2-d)/h,S=(v/2-p)/h,N=$2(t,e,n),M=X0(t,N,T,S);if(!M)return console.error("Error during zoom event. New transformation state was not calculated.");fa(t,M,s,a)}function Q2(t,e,n,s){var a=t.setup,l=t.wrapperComponent,u=a.limitToBounds,h=X2(t.props),d=t.transformState,p=d.scale,y=d.positionX,v=d.positionY;if(l){var T=G0(t,h.scale),S=Xc(h.positionX,h.positionY,T,u,0,0,l),N={scale:h.scale,positionX:S.x,positionY:S.y};p===h.scale&&y===h.positionX&&v===h.positionY||(s?.(),fa(t,N,e,n))}}function FB(t,e,n,s){var a=t.getBoundingClientRect(),l=e.getBoundingClientRect(),u=n.getBoundingClientRect(),h=l.x*s.scale,d=l.y*s.scale;return{x:(a.x-u.x+h)/s.scale,y:(a.y-u.y+d)/s.scale}}function HB(t,e,n){var s=t.wrapperComponent,a=t.contentComponent,l=t.transformState,u=t.setup,h=u.limitToBounds,d=u.minScale,p=u.maxScale;if(!s||!a)return l;var y=s.getBoundingClientRect(),v=e.getBoundingClientRect(),T=FB(e,s,a,l),S=T.x,N=T.y,M=v.width/l.scale,I=v.height/l.scale,V=s.offsetWidth/M,U=s.offsetHeight/I,F=$c(n||Math.min(V,U),d,p,0,!1),ee=(y.width-M*F)/2,te=(y.height-I*F)/2,Z=(y.left-S)*F+ee,R=(y.top-N)*F+te,x=G0(t,F),D=Xc(Z,R,x,h,0,0,s),j=D.x,L=D.y;return{positionX:j,positionY:L,scale:F}}var qB=function(t){return function(e,n,s){e===void 0&&(e=.5),n===void 0&&(n=300),s===void 0&&(s="easeOut"),W2(t,1,e,n,s)}},YB=function(t){return function(e,n,s){e===void 0&&(e=.5),n===void 0&&(n=300),s===void 0&&(s="easeOut"),W2(t,-1,e,n,s)}},GB=function(t){return function(e,n,s,a,l){a===void 0&&(a=300),l===void 0&&(l="easeOut");var u=t.transformState,h=u.positionX,d=u.positionY,p=u.scale,y=t.wrapperComponent,v=t.contentComponent,T=t.setup.disabled;if(!(T||!y||!v)){var S={positionX:Number.isNaN(e)?h:e,positionY:Number.isNaN(n)?d:n,scale:Number.isNaN(s)?p:s};fa(t,S,a,l)}}},KB=function(t){return function(e,n){e===void 0&&(e=200),n===void 0&&(n="easeOut"),Q2(t,e,n)}},XB=function(t){return function(e,n,s){n===void 0&&(n=200),s===void 0&&(s="easeOut");var a=t.transformState,l=t.wrapperComponent,u=t.contentComponent;if(l&&u){var h=Z2(e||a.scale,l,u);fa(t,h,n,s)}}},$B=function(t){return function(e,n,s,a){s===void 0&&(s=600),a===void 0&&(a="easeOut"),ki(t);var l=t.wrapperComponent,u=typeof e=="string"?document.getElementById(e):e;if(l&&u&&l.contains(u)){var h=HB(t,u,n);fa(t,h,s,a)}}},Zy=function(t){return{instance:t,zoomIn:qB(t),zoomOut:YB(t),setTransform:GB(t),resetTransform:KB(t),centerView:XB(t),zoomToElement:$B(t)}},WB=function(t){return{instance:t,state:t.transformState}},rt=function(t){var e={};return Object.assign(e,WB(t)),Object.assign(e,Zy(t)),e},Wg=!1;function Qg(){try{var t={get passive(){return Wg=!0,!1}};return t}catch{return Wg=!1,Wg}}var jf=".".concat(Qy.wrapperClass),pm=function(t,e){return e.some(function(n){return t.matches("".concat(jf," ").concat(n,", ").concat(jf," .").concat(n,", ").concat(jf," ").concat(n," *, ").concat(jf," .").concat(n," *"))})},Jy=function(t){t&&clearTimeout(t)},QB=function(t,e,n){return"translate(".concat(t,"px, ").concat(e,"px) scale(").concat(n,")")},Z2=function(t,e,n){var s=n.offsetWidth*t,a=n.offsetHeight*t,l=(e.offsetWidth-s)/2,u=(e.offsetHeight-a)/2;return{scale:t,positionX:l,positionY:u}};function ZB(t){return function(e){t.forEach(function(n){typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var JB=function(t,e){var n=t.setup.wheel,s=n.disabled,a=n.wheelDisabled,l=n.touchPadDisabled,u=n.excluded,h=t.isInitialized,d=t.isPanning,p=e.target,y=h&&!d&&!s&&p;if(!y||a&&!e.ctrlKey||l&&e.ctrlKey)return!1;var v=pm(p,u);return!v},e8=function(t){return t?t.deltaY<0?1:-1:0};function t8(t,e){var n=e8(t),s=dB(e,n);return s}function J2(t,e,n){var s=e.getBoundingClientRect(),a=0,l=0;if("clientX"in t)a=(t.clientX-s.left)/n,l=(t.clientY-s.top)/n;else{var u=t.touches[0];a=(u.clientX-s.left)/n,l=(u.clientY-s.top)/n}return(Number.isNaN(a)||Number.isNaN(l))&&console.error("No mouse or touch offset found"),{x:a,y:l}}var n8=function(t,e,n,s,a){var l=t.transformState.scale,u=t.wrapperComponent,h=t.setup,d=h.maxScale,p=h.minScale,y=h.zoomAnimation,v=h.disablePadding,T=y.size,S=y.disabled;if(!u)throw new Error("Wrapper is not mounted");var N=l+e*n,M=s?!1:!S,I=$c(gi(N,3),p,d,T,M&&!v);return I},i8=function(t,e){var n=t.previousWheelEvent,s=t.transformState.scale,a=t.setup,l=a.maxScale,u=a.minScale;return n?s<l||s>u||Math.sign(n.deltaY)!==Math.sign(e.deltaY)||n.deltaY>0&&n.deltaY<e.deltaY||n.deltaY<0&&n.deltaY>e.deltaY||Math.sign(n.deltaY)!==Math.sign(e.deltaY):!1},s8=function(t,e){var n=t.setup.pinch,s=n.disabled,a=n.excluded,l=t.isInitialized,u=e.target,h=l&&!s&&u;if(!h)return!1;var d=pm(u,a);return!d},r8=function(t){var e=t.setup.pinch.disabled,n=t.isInitialized,s=t.pinchStartDistance,a=n&&!e&&s;return!!a},a8=function(t,e,n){var s=n.getBoundingClientRect(),a=t.touches,l=gi(a[0].clientX-s.left,5),u=gi(a[0].clientY-s.top,5),h=gi(a[1].clientX-s.left,5),d=gi(a[1].clientY-s.top,5);return{x:(l+h)/2/e,y:(u+d)/2/e}},eN=function(t){return Math.sqrt(Math.pow(t.touches[0].pageX-t.touches[1].pageX,2)+Math.pow(t.touches[0].pageY-t.touches[1].pageY,2))},o8=function(t,e){var n=t.pinchStartScale,s=t.pinchStartDistance,a=t.setup,l=a.maxScale,u=a.minScale,h=a.zoomAnimation,d=a.disablePadding,p=h.size,y=h.disabled;if(!n||s===null||!e)throw new Error("Pinch touches distance was not provided");if(e<0)return t.transformState.scale;var v=e/s,T=v*n;return $c(gi(T,2),u,l,p,!y&&!d)},l8=160,u8=100,c8=function(t,e){var n=t.props,s=n.onWheelStart,a=n.onZoomStart;t.wheelStopEventTimer||(ki(t),ft(rt(t),e,s),ft(rt(t),e,a))},h8=function(t,e){var n=t.props,s=n.onWheel,a=n.onZoom,l=t.contentComponent,u=t.setup,h=t.transformState,d=h.scale,p=u.limitToBounds,y=u.centerZoomedOut,v=u.zoomAnimation,T=u.wheel,S=u.disablePadding,N=u.smooth,M=v.size,I=v.disabled,V=T.step,U=T.smoothStep;if(!l)throw new Error("Component not mounted");e.preventDefault(),e.stopPropagation();var F=t8(e,null),ee=N?U*Math.abs(e.deltaY):V,te=n8(t,F,ee,!e.ctrlKey);if(d!==te){var Z=eo(t,te),R=J2(e,l,d),x=I||M===0||y||S,D=p&&x,j=mm(t,R.x,R.y,te,Z,D),L=j.x,H=j.y;t.previousWheelEvent=e,t.setTransformState(te,L,H),ft(rt(t),e,s),ft(rt(t),e,a)}},f8=function(t,e){var n=t.props,s=n.onWheelStop,a=n.onZoomStop;Jy(t.wheelAnimationTimer),t.wheelAnimationTimer=setTimeout(function(){t.mounted&&(K2(t,e.x,e.y),t.wheelAnimationTimer=null)},u8);var l=i8(t,e);l&&(Jy(t.wheelStopEventTimer),t.wheelStopEventTimer=setTimeout(function(){t.mounted&&(t.wheelStopEventTimer=null,ft(rt(t),e,s),ft(rt(t),e,a))},l8))},tN=function(t){for(var e=0,n=0,s=0;s<2;s+=1)e+=t.touches[s].clientX,n+=t.touches[s].clientY;var a=e/2,l=n/2;return{x:a,y:l}},d8=function(t,e){var n=eN(e);t.pinchStartDistance=n,t.lastDistance=n,t.pinchStartScale=t.transformState.scale,t.isPanning=!1;var s=tN(e);t.pinchLastCenterX=s.x,t.pinchLastCenterY=s.y,ki(t)},m8=function(t,e){var n=t.contentComponent,s=t.pinchStartDistance,a=t.wrapperComponent,l=t.transformState.scale,u=t.setup,h=u.limitToBounds,d=u.centerZoomedOut,p=u.zoomAnimation,y=u.alignmentAnimation,v=p.disabled,T=p.size;if(!(s===null||!n)){var S=a8(e,l,n);if(!(!Number.isFinite(S.x)||!Number.isFinite(S.y))){var N=eN(e),M=o8(t,N),I=tN(e),V=I.x-(t.pinchLastCenterX||0),U=I.y-(t.pinchLastCenterY||0);if(!(M===l&&V===0&&U===0)){t.pinchLastCenterX=I.x,t.pinchLastCenterY=I.y;var F=eo(t,M),ee=v||T===0||d,te=h&&ee,Z=mm(t,S.x,S.y,M,F,te),R=Z.x,x=Z.y;t.pinchMidpoint=S,t.lastDistance=N;var D=y.sizeX,j=y.sizeY,L=aa(t,D),H=aa(t,j),P=R+V,Fe=x+U,We=Xc(P,Fe,F,h,L,H,a),Q=We.x,le=We.y;t.setTransformState(M,Q,le)}}}},p8=function(t){var e=t.pinchMidpoint;t.velocity=null,t.lastDistance=null,t.pinchMidpoint=null,t.pinchStartScale=null,t.pinchStartDistance=null,K2(t,e?.x,e?.y)},nN=function(t,e){var n=t.props.onZoomStop,s=t.setup.doubleClick.animationTime;Jy(t.doubleClickStopEventTimer),t.doubleClickStopEventTimer=setTimeout(function(){t.doubleClickStopEventTimer=null,ft(rt(t),e,n)},s)},g8=function(t,e){var n=t.props,s=n.onZoomStart,a=n.onZoom,l=t.setup.doubleClick,u=l.animationTime,h=l.animationType;ft(rt(t),e,s),Q2(t,u,h,function(){return ft(rt(t),e,a)}),nN(t,e)};function y8(t,e){return t==="toggle"?e===1?1:-1:t==="zoomOut"?-1:1}function v8(t,e){var n=t.setup,s=t.doubleClickStopEventTimer,a=t.transformState,l=t.contentComponent,u=a.scale,h=t.props,d=h.onZoomStart,p=h.onZoom,y=n.doubleClick,v=y.disabled,T=y.mode,S=y.step,N=y.animationTime,M=y.animationType;if(!v&&!s){if(T==="reset")return g8(t,e);if(!l)return console.error("No ContentComponent found");var I=y8(T,t.transformState.scale),V=$2(t,I,S);if(u!==V){ft(rt(t),e,d);var U=J2(e,l,u),F=X0(t,V,U.x,U.y);if(!F)return console.error("Error during zoom event. New transformation state was not calculated.");ft(rt(t),e,p),fa(t,F,N,M),nN(t,e)}}}var _8=function(t,e){var n=t.isInitialized,s=t.setup,a=t.wrapperComponent,l=s.doubleClick,u=l.disabled,h=l.excluded,d=e.target,p=a?.contains(d),y=n&&d&&p&&!u;if(!y)return!1;var v=pm(d,h);return!v},T8=(function(){function t(e){var n=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){n.initializeWindowEvents()},this.unmount=function(){n.cleanupWindowEvents()},this.update=function(s){n.props=s,eo(n,n.transformState.scale),n.setup=BA(s)},this.initializeWindowEvents=function(){var s,a,l=Qg(),u=(s=n.wrapperComponent)===null||s===void 0?void 0:s.ownerDocument,h=u?.defaultView;(a=n.wrapperComponent)===null||a===void 0||a.addEventListener("wheel",n.onWheelPanning,l),h?.addEventListener("mousedown",n.onPanningStart,l),h?.addEventListener("mousemove",n.onPanning,l),h?.addEventListener("mouseup",n.onPanningStop,l),u?.addEventListener("mouseleave",n.clearPanning,l),h?.addEventListener("keyup",n.setKeyUnPressed,l),h?.addEventListener("keydown",n.setKeyPressed,l)},this.cleanupWindowEvents=function(){var s,a,l=Qg(),u=(s=n.wrapperComponent)===null||s===void 0?void 0:s.ownerDocument,h=u?.defaultView;h?.removeEventListener("mousedown",n.onPanningStart,l),h?.removeEventListener("mousemove",n.onPanning,l),h?.removeEventListener("mouseup",n.onPanningStop,l),u?.removeEventListener("mouseleave",n.clearPanning,l),h?.removeEventListener("keyup",n.setKeyUnPressed,l),h?.removeEventListener("keydown",n.setKeyPressed,l),document.removeEventListener("mouseleave",n.clearPanning,l),ki(n),(a=n.observer)===null||a===void 0||a.disconnect()},this.handleInitializeWrapperEvents=function(s){var a=Qg();s.addEventListener("wheel",n.onWheelZoom,a),s.addEventListener("dblclick",n.onDoubleClick,a),s.addEventListener("touchstart",n.onTouchPanningStart,a),s.addEventListener("touchmove",n.onTouchPanning,a),s.addEventListener("touchend",n.onTouchPanningStop,a)},this.handleInitialize=function(s,a){var l=!1,u=n.setup.centerOnInit,h=function(d,p){for(var y=0,v=d;y<v.length;y++){var T=v[y];if(T.target===p)return!0}return!1};n.applyTransformation(),n.onInitCallbacks.forEach(function(d){d(rt(n))}),n.observer=new ResizeObserver(function(d){if(h(d,s)||h(d,a))if(u&&!l){var p=a.offsetWidth,y=a.offsetHeight;(p>0||y>0)&&(l=!0,n.setCenter())}else ki(n),eo(n,n.transformState.scale),K0(n,0)}),n.observer.observe(s),n.observer.observe(a)},this.onWheelZoom=function(s){var a=n.setup.disabled;if(!a){var l=JB(n,s);if(l){var u=n.isPressingKeys(n.setup.wheel.activationKeys);u&&(c8(n,s),h8(n,s),f8(n,s))}}},this.onWheelPanning=function(s){var a=n.setup,l=a.disabled,u=a.wheel,h=a.panning;if(!(!n.wrapperComponent||!n.contentComponent||l||!u.wheelDisabled||h.disabled||!h.wheelPanning||s.ctrlKey)){s.preventDefault(),s.stopPropagation();var d=n.transformState,p=d.positionX,y=d.positionY,v=p-s.deltaX,T=y-s.deltaY,S=h.lockAxisX?p:v,N=h.lockAxisY?y:T,M=n.setup.alignmentAnimation,I=M.sizeX,V=M.sizeY,U=aa(n,I),F=aa(n,V);S===p&&N===y||G2(n,S,N,U,F)}},this.onPanningStart=function(s){var a=n.setup.disabled,l=n.props.onPanningStart;if(!a){var u=VA(n,s);if(u){var h=n.isPressingKeys(n.setup.panning.activationKeys);h&&(s.button===0&&!n.setup.panning.allowLeftClickPan||s.button===1&&!n.setup.panning.allowMiddleClickPan||s.button===2&&!n.setup.panning.allowRightClickPan||(s.preventDefault(),s.stopPropagation(),ki(n),jA(n,s),ft(rt(n),s,l)))}}},this.onPanning=function(s){var a=n.setup.disabled,l=n.props.onPanning;if(!a){var u=kA(n);if(u){var h=n.isPressingKeys(n.setup.panning.activationKeys);h&&(s.preventDefault(),s.stopPropagation(),UA(n,s.clientX,s.clientY),ft(rt(n),s,l))}}},this.onPanningStop=function(s){var a=n.props.onPanningStop;n.isPanning&&(BB(n),ft(rt(n),s,a))},this.onPinchStart=function(s){var a=n.setup.disabled,l=n.props,u=l.onPinchingStart,h=l.onZoomStart;if(!a){var d=s8(n,s);d&&(d8(n,s),ki(n),ft(rt(n),s,u),ft(rt(n),s,h))}},this.onPinch=function(s){var a=n.setup.disabled,l=n.props,u=l.onPinching,h=l.onZoom;if(!a){var d=r8(n);d&&(s.preventDefault(),s.stopPropagation(),m8(n,s),ft(rt(n),s,u),ft(rt(n),s,h))}},this.onPinchStop=function(s){var a=n.props,l=a.onPinchingStop,u=a.onZoomStop;n.pinchStartScale&&(p8(n),ft(rt(n),s,l),ft(rt(n),s,u))},this.onTouchPanningStart=function(s){var a=n.setup.disabled,l=n.props.onPanningStart;if(!a){var u=VA(n,s);if(u){var h=n.lastTouch&&+new Date-n.lastTouch<200&&s.touches.length===1;if(!h){n.lastTouch=+new Date,ki(n);var d=s.touches,p=d.length===1,y=d.length===2;p&&(ki(n),jA(n,s),ft(rt(n),s,l)),y&&n.onPinchStart(s)}}}},this.onTouchPanning=function(s){var a=n.setup.disabled,l=n.props.onPanning;if(n.isPanning&&s.touches.length===1){if(a)return;var u=kA(n);if(!u)return;s.preventDefault(),s.stopPropagation();var h=s.touches[0];UA(n,h.clientX,h.clientY),ft(rt(n),s,l)}else s.touches.length>1&&n.onPinch(s)},this.onTouchPanningStop=function(s){n.onPanningStop(s),n.onPinchStop(s)},this.onDoubleClick=function(s){var a=n.setup.disabled;if(!a){var l=_8(n,s);l&&v8(n,s)}},this.clearPanning=function(s){n.isPanning&&n.onPanningStop(s)},this.setKeyPressed=function(s){n.pressedKeys[s.key]=!0},this.setKeyUnPressed=function(s){n.pressedKeys[s.key]=!1},this.isPressingKeys=function(s){return s.length?!!s.find(function(a){return n.pressedKeys[a]}):!0},this.setTransformState=function(s,a,l){var u=n.props.onTransformed;if(!Number.isNaN(s)&&!Number.isNaN(a)&&!Number.isNaN(l)){s!==n.transformState.scale&&(n.transformState.previousScale=n.transformState.scale,n.transformState.scale=s),n.transformState.positionX=a,n.transformState.positionY=l,n.applyTransformation();var h=rt(n);n.onChangeCallbacks.forEach(function(d){return d(h)}),ft(h,{scale:s,positionX:a,positionY:l},u)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(n.wrapperComponent&&n.contentComponent){var s=Z2(n.transformState.scale,n.wrapperComponent,n.contentComponent);n.setTransformState(s.scale,s.positionX,s.positionY)}},this.handleTransformStyles=function(s,a,l){return n.props.customTransform?n.props.customTransform(s,a,l):QB(s,a,l)},this.applyTransformation=function(){if(!(!n.mounted||!n.contentComponent)){var s=n.transformState,a=s.scale,l=s.positionX,u=s.positionY,h=n.handleTransformStyles(l,u,a);n.contentComponent.style.transform=h}},this.getContext=function(){return rt(n)},this.onChange=function(s){return n.onChangeCallbacks.has(s)||n.onChangeCallbacks.add(s),function(){n.onChangeCallbacks.delete(s)}},this.onInit=function(s){return n.onInitCallbacks.has(s)||n.onInitCallbacks.add(s),function(){n.onInitCallbacks.delete(s)}},this.init=function(s,a){n.cleanupWindowEvents(),n.wrapperComponent=s,n.contentComponent=a,eo(n,n.transformState.scale),n.handleInitializeWrapperEvents(s),n.handleInitialize(s,a),n.initializeWindowEvents(),n.isInitialized=!0;var l=rt(n);ft(l,void 0,n.props.onInit)},this.props=e,this.setup=BA(this.props),this.transformState=X2(this.props)}return t})(),$0=di.createContext(null),b8=function(t,e){return typeof t=="function"?t(e):t},w8=di.forwardRef(function(t,e){var n=O.useRef(new T8(t)).current,s=b8(t.children,Zy(n));return O.useImperativeHandle(e,function(){return Zy(n)},[n]),O.useEffect(function(){n.update(t)},[n,t]),di.createElement($0.Provider,{value:n},s)});di.forwardRef(function(t,e){var n=O.useRef(null),s=O.useContext($0);return O.useEffect(function(){return s.onChange(function(a){if(n.current){var l=0,u=0;n.current.style.transform=s.handleTransformStyles(l,u,1/a.instance.transformState.scale)}})},[s]),di.createElement("div",Wr({},t,{ref:ZB([n,e])}))});function E8(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",n==="top"&&s.firstChild?s.insertBefore(a,s.firstChild):s.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}}var S8=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,FA={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};E8(S8);var A8=function(t){var e=t.children,n=t.wrapperClass,s=n===void 0?"":n,a=t.contentClass,l=a===void 0?"":a,u=t.wrapperStyle,h=t.contentStyle,d=t.wrapperProps,p=d===void 0?{}:d,y=t.contentProps,v=y===void 0?{}:y,T=O.useContext($0),S=T.init,N=T.cleanupWindowEvents,M=O.useRef(null),I=O.useRef(null);return O.useEffect(function(){var V=M.current,U=I.current;return V!==null&&U!==null&&S&&S?.(V,U),function(){N?.()}},[]),di.createElement("div",Wr({},p,{ref:M,className:"".concat(Qy.wrapperClass," ").concat(FA.wrapper," ").concat(s),style:u}),di.createElement("div",Wr({},v,{ref:I,className:"".concat(Qy.contentClass," ").concat(FA.content," ").concat(l),style:h}),e))};const x8=()=>{const{id:t}=TI(),[e,n]=O.useState(null),[s,a]=O.useState(!0),l=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],u=di.useRef(null),[h,d]=di.useState(window.innerWidth<768),[p,y]=di.useState(!1);return O.useEffect(()=>{(async()=>{try{const T=pi(Kt,"messes",t),S=await Sd(T);S.exists()&&n({id:S.id,...S.data()})}catch(T){console.error("Error fetching mess:",T)}finally{a(!1)}})()},[t]),di.useEffect(()=>{const v=()=>d(window.innerWidth<768);return window.addEventListener("resize",v),t&&localStorage.setItem("lastViewedMess",t),()=>window.removeEventListener("resize",v)},[t]),s?w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):e?w.jsxs("div",{className:"min-h-screen bg-gray-50 relative",children:[w.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[w.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),w.jsx("div",{className:"absolute top-0 -left-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"})]}),w.jsx(Bd,{}),w.jsxs("main",{className:"relative z-10 pt-20 pb-4 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto h-[calc(100vh-20px)] flex flex-col",children:[w.jsxs(Yr,{to:"/",className:"inline-flex items-center text-gray-600 hover:text-orange-600 mb-2 transition-colors text-sm",children:[w.jsx(TM,{size:16,className:"mr-1"}),"Back"]}),w.jsxs(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/60 backdrop-blur-xl rounded-2xl shadow-2xl overflow-hidden border border-white/50 flex flex-col flex-1 min-h-0",children:[w.jsx("div",{className:Hs("px-4 py-2 md:px-6 md:py-3 bg-gradient-to-r text-white shrink-0",e.color),children:w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-2 md:gap-0",children:[w.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:e.name}),w.jsxs("div",{className:"flex items-center gap-2 md:gap-3 w-full md:w-auto",children:[w.jsxs("button",{onClick:()=>u.current?.resetTransform(),className:"flex-1 md:flex-none justify-center px-3 py-1 bg-white/20 hover:bg-white/30 text-white rounded-full text-[10px] md:text-xs font-medium transition-colors backdrop-blur-sm border border-white/20 flex items-center gap-1 cursor-pointer",title:"Click to reset view",children:[w.jsx(nd,{size:12}),"Weekly Menu"]}),w.jsxs("button",{onClick:()=>y(!0),className:"flex-1 md:flex-none justify-center px-3 py-1 bg-white/20 hover:bg-white/30 text-white rounded-full text-[10px] md:text-xs font-medium transition-colors backdrop-blur-sm border border-white/20 flex items-center gap-1",children:[w.jsx(id,{size:12}),"Today's Menu"]})]})]})}),w.jsx("div",{className:Hs("flex-1 relative bg-gray-50/50",h?"overflow-hidden":"overflow-auto"),children:(()=>{const v=()=>{const U=new Date,F=U.getDay(),ee=U.getDate()-F+(F===0?-6:1),te=new Date(U.setDate(ee));return te.setHours(0,0,0,0),te},S=(()=>{if(!e.menuStartDate||!e.nextWeekMenu)return e.menu;const U=new Date(e.menuStartDate),ee=Math.abs(new Date-U);return Math.ceil(ee/(1e3*60*60*24))>7&&Object.keys(e.nextWeekMenu).length>0?{...e.menu,...e.nextWeekMenu}:e.menu})(),N=e.lastUpdated?new Date(e.lastUpdated):null,M=v(),I=!N||N<M,V=S&&Object.keys(S).some(U=>{const F=S[U];return F?Object.values(F).some(ee=>ee&&ee!=="N/A"&&ee.trim()!==""):!1});return I||!V?w.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[w.jsx("div",{className:Hs("text-3xl md:text-4xl font-bold mb-2 bg-clip-text text-transparent bg-gradient-to-r",e.color),children:"Menu Not Uploaded"}),w.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Check back later for this week's menu"})]}):h?w.jsx(w8,{ref:u,initialScale:1,minScale:.5,maxScale:3,centerOnInit:!1,wheel:{step:.1},limitToBounds:!1,children:w.jsx(A8,{wrapperClass:"!w-full !h-full",contentClass:"!w-full",children:w.jsx(HA,{days:l,mess:{...e,menu:S}})})}):w.jsx(HA,{days:l,mess:{...e,menu:S}})})()})]})]}),w.jsx(Br,{children:p&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>y(!1),children:w.jsxs(Xt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},onClick:v=>v.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[w.jsxs("div",{className:Hs("p-4 bg-gradient-to-r text-white flex justify-between items-center",e.color),children:[w.jsxs("h3",{className:"text-lg font-bold",children:["Today's Menu (",new Date().toLocaleDateString("en-US",{weekday:"long"}),")"]}),w.jsx("button",{onClick:()=>y(!1),className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:w.jsx(to,{size:20})})]}),w.jsx("div",{className:"p-6 space-y-4",children:(()=>{const v=()=>{const ee=new Date,te=ee.getDay(),Z=ee.getDate()-te+(te===0?-6:1),R=new Date(ee.setDate(Z));return R.setHours(0,0,0,0),R},S=(()=>{if(!e.menuStartDate||!e.nextWeekMenu)return e.menu;const ee=new Date(e.menuStartDate),Z=Math.abs(new Date-ee);return Math.ceil(Z/(1e3*60*60*24))>7&&Object.keys(e.nextWeekMenu).length>0?{...e.menu,...e.nextWeekMenu}:e.menu})(),N=e.lastUpdated?new Date(e.lastUpdated):null,M=v(),I=!N||N<M,V=S&&Object.keys(S).some(ee=>{const te=S[ee];return te?Object.values(te).some(Z=>Z&&Z!=="N/A"&&Z.trim()!==""):!1});if(I||!V)return w.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[w.jsx("div",{className:"text-xl font-bold text-gray-400 mb-2",children:"Menu Not Uploaded"}),w.jsx("p",{className:"text-sm text-gray-400",children:"Check back later"})]});const U=new Date().toLocaleDateString("en-US",{weekday:"long"}),F=S[U]||S.Monday;return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"p-3 rounded-xl bg-orange-50 border border-orange-100",children:[w.jsx("h4",{className:"text-xs font-bold text-orange-600 uppercase tracking-wider mb-1",children:"Breakfast"}),w.jsx("p",{className:"text-gray-800 text-sm",children:qr(F.Breakfast)})]}),w.jsxs("div",{className:"p-3 rounded-xl bg-green-50 border border-green-100",children:[w.jsx("h4",{className:"text-xs font-bold text-green-600 uppercase tracking-wider mb-1",children:"Lunch"}),w.jsx("p",{className:"text-gray-800 text-sm",children:qr(F.Lunch)})]}),w.jsxs("div",{className:"p-3 rounded-xl bg-yellow-50 border border-yellow-100",children:[w.jsx("h4",{className:"text-xs font-bold text-yellow-600 uppercase tracking-wider mb-1",children:"Snacks"}),w.jsx("p",{className:"text-gray-800 text-sm",children:qr(F.Snacks)})]}),w.jsxs("div",{className:"p-3 rounded-xl bg-blue-50 border border-blue-100",children:[w.jsx("h4",{className:"text-xs font-bold text-blue-600 uppercase tracking-wider mb-1",children:"Dinner"}),w.jsx("p",{className:"text-gray-800 text-sm",children:qr(F.Dinner)})]})]})})()})]})})})]}):w.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Mess not found"})},qr=t=>t?t.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"",HA=({days:t,mess:e})=>w.jsxs("table",{className:"w-full text-left border-collapse min-w-[600px] bg-white origin-top-left h-full",children:[w.jsx("thead",{className:"bg-white/95 backdrop-blur-sm shadow-sm sticky top-0 z-10",children:w.jsxs("tr",{className:"border-b border-gray-200",children:[w.jsx("th",{className:"py-2 px-3 font-bold text-gray-500 uppercase tracking-wider text-[10px]",children:"Day"}),w.jsx("th",{className:"py-2 px-3 font-bold text-orange-600 uppercase tracking-wider text-[10px]",children:"Breakfast"}),w.jsx("th",{className:"py-2 px-3 font-bold text-green-600 uppercase tracking-wider text-[10px]",children:"Lunch"}),w.jsx("th",{className:"py-2 px-3 font-bold text-yellow-600 uppercase tracking-wider text-[10px]",children:"Snacks"}),w.jsx("th",{className:"py-2 px-3 font-bold text-blue-600 uppercase tracking-wider text-[10px]",children:"Dinner"})]})}),w.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(n=>w.jsxs("tr",{id:`row-${n}`,className:"hover:bg-gray-50 transition-colors group duration-300",children:[w.jsx("td",{className:"py-1.5 px-3 font-bold text-gray-800 text-[10px]",children:n}),w.jsx("td",{className:"py-1.5 px-3 text-gray-600 group-hover:text-gray-900 text-[10px] leading-tight",children:qr(e.menu[n]?.Breakfast)}),w.jsx("td",{className:"py-1.5 px-3 text-gray-600 group-hover:text-gray-900 text-[10px] leading-tight",children:qr(e.menu[n]?.Lunch)}),w.jsx("td",{className:"py-1.5 px-3 text-gray-600 group-hover:text-gray-900 text-[10px] leading-tight",children:qr(e.menu[n]?.Snacks)}),w.jsx("td",{className:"py-1.5 px-3 text-gray-600 group-hover:text-gray-900 text-[10px] leading-tight",children:qr(e.menu[n]?.Dinner)})]},n))})]}),C8=()=>{const[t,e]=O.useState("admin@mitmess.com"),[n,s]=O.useState(""),[a,l]=O.useState(!1),[u,h]=O.useState(""),[d,p]=O.useState(!0),y=nv();O.useEffect(()=>{const S=c2(Gn,async N=>{if(N){const M=await Sd(pi(Kt,"users",N.email));M.exists()&&M.data().deleted?(await bl(Gn),p(!1)):y("/admin/dashboard")}else p(!1)});return()=>S()},[y]);const v=async S=>{S.preventDefault(),p(!0),h("");try{await DU(Gn,d2);const N=await NU(Gn,t,n),M=pi(Kt,"users",N.user.email),I=await Sd(M);if(I.exists()){if(I.data().deleted)if(n==="LALA HI LALA")console.log("Owner account was deleted. Reactivating..."),await xd(M,{deleted:!1});else throw await bl(Gn),new Error("Access Denied: Account has been revoked.")}else{console.warn("User document missing. Recreating...");const V=n==="LALA HI LALA",U={email:N.user.email,name:V?"M Shoaib Khan":"Recovered Admin",accessCode:n,role:V?"super_admin":"mess_admin",messId:null,createdAt:new Date().toISOString(),deleted:!1,recovered:!0};await Ad(M,U)}}catch(N){console.error("Login error:",N),h(N.message==="Access Denied: Account has been revoked."?N.message:"Invalid password"),p(!1)}},T=S=>{window.innerWidth<768&&S.target===S.currentTarget&&y("/")};return w.jsxs("div",{className:"min-h-screen bg-gray-50 relative flex flex-col",children:[w.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[w.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),w.jsx("div",{className:"absolute top-0 -left-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"})]}),w.jsx(Bd,{}),w.jsx("div",{className:"flex-1 flex items-center justify-center relative z-10 px-4 cursor-pointer md:cursor-default",onClick:T,children:w.jsxs(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-xl p-8 rounded-2xl shadow-2xl w-full max-w-md border border-white/50 cursor-default",onClick:S=>S.stopPropagation(),children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsx("div",{className:"bg-orange-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:w.jsx(ey,{className:"text-orange-600",size:32})}),w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Admin Login"}),w.jsx("p",{className:"text-gray-500 mt-2",children:"Enter your password to access the dashboard"})]}),w.jsxs("form",{onSubmit:v,className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 ml-1",children:"Access Code"}),w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:w.jsx(ey,{className:"h-5 w-5 text-gray-400"})}),w.jsx("input",{type:a?"text":"password",value:n,onChange:S=>{s(S.target.value);const N=S.target.value.trim().replace(/\s+/g,"_").toLowerCase();e(`${N}@mitmess.com`)},className:"w-full pl-10 pr-10 px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-all bg-white/50",placeholder:"Enter your secret code",autoFocus:!0}),w.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:a?w.jsx(AM,{size:20}):w.jsx(CM,{size:20})})]}),u&&w.jsx("p",{className:"text-red-500 text-sm mt-2 ml-1",children:u})]}),w.jsx("button",{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-orange-600 to-red-600 text-white py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:d?w.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):w.jsxs(w.Fragment,{children:["Access Dashboard ",w.jsx(ov,{size:20})]})})]})]})})]})},R8="modulepreload",N8=function(t,e){return new URL(t,e).href},qA={},D8=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let p=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};const u=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");a=p(n.map(y=>{if(y=N8(y,s),y in qA)return;qA[y]=!0;const v=y.endsWith(".css"),T=v?'[rel="stylesheet"]':"";if(s)for(let N=u.length-1;N>=0;N--){const M=u[N];if(M.href===y&&(!v||M.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${y}"]${T}`))return;const S=document.createElement("link");if(S.rel=v?"stylesheet":R8,v||(S.as="script"),S.crossOrigin="",S.href=y,d&&S.setAttribute("nonce",d),document.head.appendChild(S),v)return new Promise((N,M)=>{S.addEventListener("load",N),S.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},I8=({onClose:t})=>{const[e,n]=O.useState([]),[s,a]=O.useState([]),[l,u]=O.useState(""),[h,d]=O.useState(""),[p,y]=O.useState("mess_admin"),[v,T]=O.useState(""),[S,N]=O.useState(!1),[M,I]=O.useState(""),[V,U]=O.useState(null);O.useEffect(()=>{(async()=>{const x=(await Cc(Hr(Kt,"messes"))).docs.map(D=>({id:D.id,...D.data()}));n(x),x.length>0&&T(x[0].id),F()})()},[]);const F=async()=>{const R=(await Cc(Hr(Kt,"users"))).docs.map(x=>({id:x.id,...x.data()})).filter(x=>!x.deleted);a(R)},ee=async Z=>{if(Z.preventDefault(),!(!l||!h)&&window.confirm("WARNING: Creating a new account requires logging out of the current session. You will need to log back in as Super Admin afterwards. Continue?")){N(!0),I("");try{const x=`${l.trim().replace(/\s+/g,"_").toLowerCase()}@mitmess.com`,D=l;try{await u2(Gn,x,D)}catch(j){if(j.code==="auth/email-already-in-use"||j.message.includes("email-already-in-use")){console.log("Account exists. Overwriting/Reactivating..."),await Ad(pi(Kt,"users",x),{email:x,name:h,accessCode:l,role:p,messId:p==="mess_admin"?v:null,createdAt:new Date().toISOString(),deleted:!1,reactivatedAt:new Date().toISOString()}),alert(`Account "${l}" already existed. It has been completely reset and reactivated with the new details. You will now be logged out.`),await bl(Gn),window.location.reload();return}else throw j}await Ad(pi(Kt,"users",x),{email:x,name:h,accessCode:l,role:p,messId:p==="mess_admin"?v:null,createdAt:new Date().toISOString(),deleted:!1}),alert(`Success! Access Code "${l}" created for "${h}". You will now be logged out.`),await bl(Gn),window.location.reload()}catch(R){console.error("Creation Error:",R),I(R.message),N(!1),await bl(Gn)}}},te=async(Z,R)=>{if(window.confirm(`Are you sure you want to delete admin "${R}"? They will no longer be able to log in.`))try{await xd(pi(Kt,"users",Z),{deleted:!0}),a(s.filter(x=>x.id!==Z)),U(null),alert(`Admin "${R}" deleted successfully.`)}catch(x){console.error("Delete Error:",x),alert("Failed to delete user: "+x.message)}};return w.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm overflow-y-auto",children:[w.jsxs(Xt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-4xl overflow-hidden my-8",children:[w.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(u1,{className:"text-orange-600",size:24}),w.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Manage Admins"})]}),w.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:w.jsx(to,{size:24})})]}),w.jsxs("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[w.jsxs("div",{children:[w.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[w.jsx(ty,{size:20})," Create New Admin"]}),w.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 flex gap-3",children:[w.jsx(h1,{className:"text-yellow-600 shrink-0",size:20}),w.jsxs("p",{className:"text-sm text-yellow-800",children:["Creating a new code will ",w.jsx("strong",{children:"log you out"}),". You'll need to sign back in with your Super Admin code afterwards."]})]}),w.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Name"}),w.jsx("input",{type:"text",value:h,onChange:Z=>d(Z.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",placeholder:"e.g. Rahul (Mess Manager)",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Access Code (Password)"}),w.jsx("input",{type:"text",value:l,onChange:Z=>u(Z.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",placeholder:"e.g. SecretCode123",required:!0}),w.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be used to log in."})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),w.jsxs("select",{value:p,onChange:Z=>y(Z.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",children:[w.jsx("option",{value:"mess_admin",children:"Mess Admin"}),w.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),p==="mess_admin"&&w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign Mess"}),w.jsx("select",{value:v,onChange:Z=>T(Z.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",children:e.map(Z=>w.jsx("option",{value:Z.id,children:Z.name},Z.id))})]}),M&&w.jsx("p",{className:"text-red-600 text-sm bg-red-50 p-2 rounded",children:M}),w.jsx("button",{type:"submit",disabled:S,className:"w-full bg-orange-600 text-white py-3 rounded-lg font-semibold shadow-lg hover:bg-orange-700 transition-all flex items-center justify-center gap-2 disabled:opacity-70",children:S?w.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):w.jsxs(w.Fragment,{children:["Create & Logout ",w.jsx(ty,{size:20})]})})]})]}),w.jsxs("div",{className:"border-t lg:border-t-0 lg:border-l border-gray-200 pt-8 lg:pt-0 lg:pl-8",children:[w.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Existing Admins"}),w.jsx("div",{className:"overflow-y-auto max-h-[500px] pr-2 custom-scrollbar",children:w.jsxs("div",{className:"space-y-3",children:[s.map(Z=>w.jsx("div",{onClick:()=>U(Z),className:"p-4 rounded-xl border border-gray-200 bg-gray-50 hover:bg-white hover:shadow-md transition-all cursor-pointer group",children:w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("div",{children:[w.jsx("h5",{className:"font-bold text-gray-900 group-hover:text-orange-600 transition-colors",children:Z.name||"Unnamed Admin"}),w.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[w.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${Z.role==="super_admin"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:Z.role==="super_admin"?"Super Admin":"Mess Admin"}),Z.messId&&w.jsxs("span",{className:"text-xs text-gray-500",children:[" ",e.find(R=>R.id===Z.messId)?.name||Z.messId]})]})]}),w.jsx("div",{className:"text-gray-400",children:w.jsx(ov,{size:16})})]})},Z.id)),s.length===0&&w.jsx("p",{className:"text-gray-500 text-center py-8",children:"No admins found."})]})})]})]})]}),V&&w.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/20 backdrop-blur-sm",children:w.jsxs(Xt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden border border-gray-100",children:[w.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[w.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Admin Profile"}),w.jsx("button",{onClick:()=>U(null),className:"text-gray-400 hover:text-gray-600",children:w.jsx(to,{size:20})})]}),w.jsxs("div",{className:"p-6 space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Name"}),w.jsx("p",{className:"text-lg font-medium text-gray-900",children:V.name||"N/A"})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Role"}),w.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:V.role.replace("_"," ")})]}),V.messId&&w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Mess"}),w.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.find(Z=>Z.id===V.messId)?.name||V.messId})]})]}),w.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[w.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider block mb-1",children:"Access Code (Password)"}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(ey,{size:14,className:"text-orange-500"}),w.jsx("p",{className:"font-mono text-lg font-bold text-gray-900",children:V.accessCode})]}),w.jsx("p",{className:"text-xs text-gray-400 mt-2 break-all",children:V.email})]}),V.accessCode==="LALA HI LALA"?w.jsx("div",{className:"bg-purple-50 text-purple-700 p-3 rounded-lg text-sm text-center font-medium border border-purple-100",children:" Owner Account (Protected)"}):w.jsxs("button",{onClick:()=>te(V.id,V.name),className:"w-full py-3 bg-red-50 text-red-600 rounded-xl font-semibold hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[w.jsx(c1,{size:18})," Delete Admin"]})]})]})})]})},M8=()=>{const[t,e]=O.useState([]),[n,s]=O.useState(""),[a,l]=O.useState(!1),[u,h]=O.useState("idle"),[d,p]=O.useState(""),[y,v]=O.useState(null),[T,S]=O.useState(null),[N,M]=O.useState(""),[I,V]=O.useState(!1),[U,F]=O.useState(""),[ee,te]=O.useState("from-orange-500 to-red-500"),[Z,R]=O.useState(!1),[x,D]=O.useState([]),[j,L]=O.useState(!1),[H,P]=O.useState(!1),Fe=nv(),We=async()=>{try{await bl(Gn),Fe("/admin")}catch(oe){console.error("Error logging out:",oe)}},Q=async(oe,_e,we=null)=>{try{await oA(Hr(Kt,"audit_logs"),{timestamp:new Date().toISOString(),action:oe,details:_e,messId:we,adminEmail:Gn.currentUser?.email||"unknown",adminName:N||"Unknown Admin"})}catch(pt){console.error("Failed to log action:",pt)}},le=async()=>{const _e=(await Cc(Hr(Kt,"messes"))).docs.map(we=>({id:we.id,...we.data()}));e(_e),T?s(T):_e.length>0&&!n&&s(_e[0].id)},de=async oe=>{if(oe)try{const _e=await Sd(pi(Kt,"users",oe.email));if(_e.exists()){const we=_e.data();v(we.role),S(we.messId),M(we.name||"Unknown Admin"),we.role==="mess_admin"&&we.messId&&s(we.messId)}else console.warn("User not found in users collection, defaulting to restricted access."),v("mess_admin"),M("Unknown Admin")}catch(_e){console.error("Error fetching user role:",_e)}},xe=async()=>{L(!0);try{const oe=xj(Hr(Kt,"audit_logs"),Cj("timestamp","desc"),Rj(50)),we=(await Cc(oe)).docs.map(pt=>({id:pt.id,...pt.data()}));D(we)}catch(oe){console.error("Error fetching history:",oe)}finally{L(!1)}};x.map(oe=>w.jsxs("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[w.jsx("div",{className:"mt-1",children:w.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm",children:w.jsx(nd,{size:16,className:"text-gray-500"})})}),w.jsxs("div",{children:[w.jsx("p",{className:"font-medium text-gray-900",children:oe.details}),w.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500",children:[w.jsx("span",{className:"font-semibold text-orange-600",children:oe.adminName||oe.adminEmail}),oe.adminName&&w.jsxs("span",{className:"text-gray-400",children:["(",oe.adminEmail,")"]}),w.jsx("span",{children:""}),w.jsx("span",{children:new Date(oe.timestamp).toLocaleString()})]})]})]},oe.id)),O.useEffect(()=>{const oe=c2(Gn,async _e=>{_e?(await de(_e),le()):Fe("/admin")});return()=>oe()},[Fe,T]);const Oe=oe=>{oe.preventDefault(),l(!0)},z=()=>{l(!1)},ie=oe=>{oe.preventDefault(),l(!1);const _e=oe.dataTransfer.files;_e.length>0&&Te(_e[0])},ce=async oe=>{if(oe.preventDefault(),!!U)try{const _e={Monday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Tuesday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Wednesday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Thursday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Friday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Saturday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Sunday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"}},we=await oA(Hr(Kt,"messes"),{name:U,color:ee,menu:_e,lastUpdated:new Date().toISOString()});await Q("CREATE_MESS",`Created mess: ${U}`,we.id),F(""),V(!1),await le(),s(we.id),alert("Mess added successfully!")}catch(_e){console.error("Error adding mess: ",_e),alert("Failed to add mess.")}},he=async()=>{if(n&&window.confirm("Are you sure you want to delete this mess? This action cannot be undone."))try{const oe=t.find(_e=>_e.id===n)?.name||n;await LR(pi(Kt,"messes",n)),await Q("DELETE_MESS",`Deleted mess: ${oe}`,n),await le(),t.length>1?s(t[0].id===n?t[1].id:t[0].id):s(""),alert("Mess deleted successfully.")}catch(oe){console.error("Error deleting mess: ",oe),alert("Failed to delete mess.")}},Te=async oe=>{h("uploading"),p("");try{const _e=new FileReader;_e.readAsDataURL(oe),_e.onload=async()=>{const we=_e.result.split(",")[1];h("processing");try{console.log("VERSION: GEMINI-2.0-FLASH-FINAL");const{GoogleGenerativeAI:pt}=await D8(async()=>{const{GoogleGenerativeAI:en}=await import("./index-eZp-A-GY.js");return{GoogleGenerativeAI:en}},[],import.meta.url),$n="Y25CZ1cS-QLpTHhtWrcJWK6etE8ZFpF8CySazIA".split("").reverse().join(""),Mt=new pt($n).getGenerativeModel({model:"gemini-2.0-flash"}),wi=t.find(en=>en.id===n),vn=wi?.name?.toLowerCase().includes("fc1")||wi?.name?.toLowerCase().includes("food court 1");let Vn;vn?Vn=`
                        Extract the menu from this image. This is a 10-day menu cycle.
                        
                        **CRITICAL INSTRUCTIONS:**
                        1.  **Start Date**: Extract the start date of the menu (e.g., "1st December 2025") and format it as "YYYY-MM-DD" (e.g., "2025-12-01").
                        2.  **Theme Dinner**: If a meal slot says "Theme Dinner" (or similar), set the value to EXACTLY "Theme Dinner". Do not list other items if it's a theme dinner.
                        3.  **10-Day Cycle**: 
                            - Extract the first 7 days into the "menu" object.
                            - Extract the remaining days (Days 8, 9, 10, etc.) into the "nextWeekMenu" object, mapping them to their respective day names (e.g., if Day 1 is Monday, Day 8 is Monday).
                        4.  **Dishes**: List every single dish. Sentence case. No ALL CAPS.
                        
                        **JSON Structure:**
                        {
                            "startDate": "YYYY-MM-DD",
                            "menu": {
                                "Monday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                                ... (Days 1-7)
                            },
                            "nextWeekMenu": {
                                "Monday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                                ... (Days 8-10, mapped to day names)
                            }
                        }
                        
                        If a meal is missing, use "N/A".
                        Return ONLY raw JSON.
                        `:Vn=`
                        Extract the weekly menu from this image and return it as a strictly valid JSON object.
                        
                        CRITICAL INSTRUCTION: You must extract EVERY SINGLE DISH listed for each meal. 
                        - Do NOT summarize. 
                        - Do NOT truncate. 
                        - List all items separated by commas exactly as they appear in the image.
                        - If there are multiple items (e.g., "Rice, Dal, Curd"), include ALL of them.
                        - **IMPORTANT: Format all text in Sentence case (e.g., "Paneer butter masala", "Mix veg paratha"). Do NOT use ALL CAPS.**
                        - **Theme Dinner**: If a meal slot says "Theme Dinner" (or similar), set the value to EXACTLY "Theme Dinner".

                        The JSON structure must be exactly like this:
                        {
                            "menu": {
                                "Monday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                                "Tuesday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                                "Wednesday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                                "Thursday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                                "Friday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                                "Saturday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                                "Sunday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." }
                            }
                        }
                        If a meal is missing, use "N/A".
                        Do not include any markdown formatting (like \`\`\`json), just the raw JSON string.
                        `;const da=new Promise((en,Hl)=>setTimeout(()=>Hl(new Error("Request timed out (30s)")),3e4)),Tt=Mt.generateContent([Vn,{inlineData:{data:we,mimeType:oe.type}}]),go=(await(await Promise.race([Tt,da])).response).text();console.log("Gemini Response:",go);const yo=go.replace(/```json/g,"").replace(/```/g,"").trim();let bt;try{bt=JSON.parse(yo)}catch(en){throw console.error("JSON Parse Error:",en),new Error("AI returned invalid data. Try a clearer image.")}const Es=pi(Kt,"messes",n),kn={lastUpdated:new Date().toISOString()};vn?(kn.menu=bt.menu,kn.nextWeekMenu=bt.nextWeekMenu||{},kn.menuStartDate=bt.startDate||new Date().toISOString().split("T")[0]):(kn.menu=bt.menu||bt,kn.nextWeekMenu={},kn.menuStartDate=null),await xd(Es,kn);const ma=t.find(en=>en.id===n)?.name||n;await Q("UPDATE_MENU",`Updated menu for ${ma}`,n),h("success")}catch(pt){console.error("Gemini/Firestore Error:",pt),h("error"),p(pt.message||"Unknown error occurred")}}}catch(_e){console.error("File Reading Error:",_e),h("error"),p("Failed to read the file.")}},Ce=async()=>{if(n){h("processing"),p("");try{const we=await fetch("https://api.allorigins.win/raw?url="+encodeURIComponent("https://tikm.coolstuff.work/api/menu"));if(!we.ok)throw new Error("Failed to fetch from FC2 API");const pt=await we.json();if(!pt.menu)throw new Error("Invalid data received from FC2 API");const En={Monday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Tuesday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Wednesday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Thursday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Friday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Saturday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Sunday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"}};Object.values(pt.menu).forEach(Mt=>{const wi=Mt.day;if(En[wi]){const vn=Vn=>Array.isArray(Vn)?Vn.join(", "):Vn||"N/A";En[wi]={Breakfast:vn(Mt.meals?.breakfast?.items),Lunch:vn(Mt.meals?.lunch?.items),Snacks:vn(Mt.meals?.snacks?.items),Dinner:vn(Mt.meals?.dinner?.items)}}});const $n=pi(Kt,"messes",n);await xd($n,{menu:En,lastUpdated:new Date().toISOString()});const bi=t.find(Mt=>Mt.id===n)?.name||n;await Q("AUTO_SYNC_MENU",`Auto-synced menu from FC2 for ${bi}`,n),h("success")}catch(oe){console.error("Auto Sync Error:",oe),h("error"),p(oe.message||"Failed to sync with FC2.")}}};return w.jsxs("div",{className:"min-h-screen bg-gray-50 relative",children:[w.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[w.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),w.jsx("div",{className:"absolute top-0 -left-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"})]}),w.jsx(Bd,{}),w.jsx("main",{className:"relative z-10 pt-24 pb-12 px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto",children:w.jsxs(Xt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/50 overflow-hidden",children:[w.jsxs("div",{className:"p-8 border-b border-gray-100 flex justify-between items-center",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Menu Dashboard"}),w.jsx("p",{className:"text-gray-500 mt-2",children:"Update weekly menus using AI-powered image recognition"})]}),w.jsxs("div",{className:"flex gap-2",children:[y==="super_admin"&&w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>P(!0),className:"p-2 text-gray-500 hover:text-orange-600 hover:bg-orange-50 rounded-full transition-all",title:"Manage Access Codes",children:w.jsx(ty,{size:24})}),w.jsx("button",{onClick:()=>{R(!0),xe()},className:"p-2 text-gray-500 hover:text-orange-600 hover:bg-orange-50 rounded-full transition-all",title:"View History",children:w.jsx(Pw,{size:24})})]}),w.jsx("button",{onClick:We,className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-full transition-all",title:"Logout",children:w.jsx(VM,{size:24})})]})]}),w.jsxs("div",{className:"p-8",children:[w.jsxs("div",{className:"mb-8 flex items-end gap-4",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Mess"}),w.jsx("select",{value:n,onChange:oe=>s(oe.target.value),disabled:y==="mess_admin",className:`w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none bg-white/50 ${y==="mess_admin"?"opacity-70 cursor-not-allowed":""}`,children:t.map(oe=>w.jsx("option",{value:oe.id,children:oe.name},oe.id))})]}),y==="super_admin"&&w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>V(!0),className:"p-3 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",title:"Add New Mess",children:w.jsx(BM,{size:24})}),w.jsx("button",{onClick:he,className:"p-3 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",title:"Delete Selected Mess",children:w.jsx(c1,{size:24})})]})]}),w.jsxs(Br,{mode:"wait",children:[u==="idle"&&w.jsxs(Xt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`border-3 border-dashed rounded-2xl p-12 text-center transition-all duration-300 ${a?"border-orange-500 bg-orange-50":"border-gray-300 hover:border-orange-400 hover:bg-gray-50"}`,onDragOver:Oe,onDragLeave:z,onDrop:ie,children:[w.jsx("div",{className:"bg-orange-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:w.jsx(Vw,{className:"text-orange-600",size:40})}),w.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Drag & Drop Menu Image"}),w.jsx("p",{className:"text-gray-500 mb-6",children:"or click to browse files"}),w.jsx("input",{type:"file",id:"file-upload",className:"hidden",onChange:oe=>{oe.target.files.length>0&&Te(oe.target.files[0])},accept:"image/*"}),w.jsxs("div",{className:"flex flex-col items-center gap-4",children:[w.jsx("label",{htmlFor:"file-upload",className:"px-6 py-2 bg-white border border-gray-200 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors shadow-sm cursor-pointer",children:"Browse Files"}),(t.find(oe=>oe.id===n)?.name?.toLowerCase().includes("food court 2")||t.find(oe=>oe.id===n)?.name?.toLowerCase().includes("fc2"))&&w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm",children:[w.jsx("span",{className:"h-px w-12 bg-gray-200"}),w.jsx("span",{children:"OR"}),w.jsx("span",{className:"h-px w-12 bg-gray-200"})]}),w.jsxs("button",{onClick:Ce,className:"px-6 py-2 bg-blue-50 text-blue-600 border border-blue-100 rounded-lg font-medium hover:bg-blue-100 transition-colors shadow-sm flex items-center gap-2",children:[w.jsx(HM,{size:18})," Sync with FC2"]})]})]})]}),(u==="uploading"||u==="processing")&&w.jsxs(Xt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0},className:"border rounded-2xl p-12 text-center bg-white/50",children:[w.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-6",children:[w.jsx("div",{className:"absolute inset-0 border-4 border-orange-100 rounded-full"}),w.jsx("div",{className:"absolute inset-0 border-4 border-orange-500 rounded-full border-t-transparent animate-spin"}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u==="uploading"?w.jsx(Vw,{className:"text-orange-500 animate-pulse",size:32}):w.jsx(NM,{className:"text-orange-500 animate-pulse",size:32})})]}),w.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:u==="uploading"?"Uploading Image...":"Processing Menu..."}),w.jsx("p",{className:"text-gray-500",children:u==="uploading"?"Sending to server":"Extracting menu items..."})]}),u==="success"&&w.jsxs(Xt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"border border-green-200 bg-green-50/50 rounded-2xl p-12 text-center",children:[w.jsx("div",{className:"bg-green-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:w.jsx(l1,{className:"text-green-600",size:40})}),w.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Menu Updated Successfully!"}),w.jsxs("p",{className:"text-gray-600 mb-6",children:["The menu for ",w.jsx("span",{className:"font-semibold",children:t.find(oe=>oe.id===n)?.name})," has been updated."]}),w.jsx("button",{onClick:()=>h("idle"),className:"px-6 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors shadow-lg",children:"Upload Another"})]}),u==="error"&&w.jsxs(Xt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"border border-red-200 bg-red-50/50 rounded-2xl p-8 text-center",children:[w.jsx("h3",{className:"text-xl font-semibold text-red-900 mb-2",children:"Upload Failed"}),w.jsx("p",{className:"text-red-600 mb-6 font-mono text-sm bg-red-100 p-3 rounded",children:d}),w.jsx("button",{onClick:()=>h("idle"),className:"px-6 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors shadow-lg",children:"Try Again"})]})]})]})]})}),w.jsx(Br,{children:I&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:w.jsxs(Xt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:[w.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[w.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add New Mess"}),w.jsx("button",{onClick:()=>V(!1),className:"text-gray-400 hover:text-gray-600",children:w.jsx(to,{size:24})})]}),w.jsxs("form",{onSubmit:ce,className:"p-6 space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mess Name"}),w.jsx("input",{type:"text",value:U,onChange:oe=>F(oe.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",placeholder:"e.g., New Hostel Mess",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Theme Color"}),w.jsxs("select",{value:ee,onChange:oe=>te(oe.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",children:[w.jsx("option",{value:"from-orange-500 to-red-500",children:"Orange (Default)"}),w.jsx("option",{value:"from-blue-500 to-cyan-500",children:"Blue"}),w.jsx("option",{value:"from-green-500 to-emerald-500",children:"Green"}),w.jsx("option",{value:"from-purple-500 to-pink-500",children:"Purple"}),w.jsx("option",{value:"from-pink-500 to-rose-500",children:"Pink"})]})]}),w.jsxs("div",{className:"pt-4 flex gap-3",children:[w.jsx("button",{type:"button",onClick:()=>V(!1),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),w.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-colors",children:"Create Mess"})]})]})]})})}),w.jsx(Br,{children:Z&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:w.jsxs(Xt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[80vh]",children:[w.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center shrink-0",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(Pw,{className:"text-orange-600",size:24}),w.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Activity History"})]}),w.jsx("button",{onClick:()=>R(!1),className:"text-gray-400 hover:text-gray-600",children:w.jsx(to,{size:24})})]}),w.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:j?w.jsx("div",{className:"space-y-4",children:[1,2,3].map(oe=>w.jsxs("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[w.jsx("div",{className:"mt-1",children:w.jsx("div",{className:"w-8 h-8 rounded-full skeleton-loader"})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("div",{className:"h-4 w-3/4 mb-2 rounded skeleton-loader"}),w.jsx("div",{className:"h-3 w-1/2 rounded skeleton-loader"})]})]},oe))}):x.length===0?w.jsx("p",{className:"text-center text-gray-500 py-8",children:"No activity recorded yet."}):w.jsx("div",{className:"space-y-4",children:x.map(oe=>w.jsxs("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[w.jsx("div",{className:"mt-1",children:w.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm",children:w.jsx(nd,{size:16,className:"text-gray-500"})})}),w.jsxs("div",{children:[w.jsx("p",{className:"font-medium text-gray-900",children:oe.details}),w.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 mt-1 text-xs text-gray-500",children:[w.jsx("span",{className:"font-semibold text-orange-600 whitespace-nowrap",children:oe.adminName||oe.adminEmail}),oe.adminName&&w.jsxs("span",{className:"text-gray-400 break-all",children:["(",oe.adminEmail,")"]}),w.jsx("span",{className:"hidden sm:inline",children:""}),w.jsx("span",{className:"w-full sm:w-auto text-gray-400",children:new Date(oe.timestamp).toLocaleString()})]})]})]},oe.id))})})]})})}),w.jsx(Br,{children:H&&w.jsx(I8,{onClose:()=>P(!1)})})]})};class P8 extends di.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){this.setState({error:e,errorInfo:n}),console.error("Uncaught error:",e,n)}render(){return this.state.hasError?w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:w.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-lg w-full border border-red-100",children:[w.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),w.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg overflow-auto max-h-64 mb-4 text-sm font-mono text-gray-800",children:[this.state.error&&this.state.error.toString(),w.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]}),w.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Reload Page"})]})}):this.props.children}}const O8=()=>{const[t,e]=O.useState(""),[n,s]=O.useState("idle"),[a,l]=O.useState(""),u=async h=>{if(h.preventDefault(),!!t){s("processing"),l("Starting system reset...");try{l("Removing existing user roles...");const d=Hr(Kt,"users"),y=(await Cc(d)).docs.map(S=>LR(S.ref));await Promise.all(y),l("Creating Super Admin privileges...");const T=`${t.trim().replace(/\s+/g,"_").toLowerCase()}@mitmess.com`;await Ad(pi(Kt,"users",T),{email:T,role:"super_admin",createdAt:new Date().toISOString()}),l("Setting up authentication...");try{await u2(Gn,T,t),l("System reset complete! Super Admin created.")}catch(S){if(S.code==="auth/email-already-in-use")l("System reset complete! (Admin account already existed, permissions restored).");else throw S}s("success")}catch(d){console.error("Reset failed:",d),s("error"),l(`Failed: ${d.message}`)}}};return w.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:w.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl overflow-hidden border border-red-100",children:[w.jsxs("div",{className:"bg-red-50 p-6 border-b border-red-100 flex items-center gap-4",children:[w.jsx("div",{className:"p-3 bg-red-100 text-red-600 rounded-full",children:w.jsx(h1,{size:24})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-xl font-bold text-red-900",children:"System Reset"}),w.jsx("p",{className:"text-red-600 text-sm",children:"Emergency Recovery Tool"})]})]}),w.jsxs("div",{className:"p-6",children:[w.jsxs("p",{className:"text-gray-600 mb-6 text-sm",children:["This tool will ",w.jsx("strong",{children:"delete all existing user roles"})," from the database and allow you to create a new Super Admin account.",w.jsx("br",{}),w.jsx("br",{}),"Use this if you have lost access to the Super Admin account."]}),n==="success"?w.jsxs("div",{className:"text-center py-6",children:[w.jsx("div",{className:"w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:w.jsx(l1,{size:32})}),w.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Reset Successful"}),w.jsx("p",{className:"text-gray-600 mb-6",children:a}),w.jsx("a",{href:"/admin",className:"inline-block w-full py-3 px-4 bg-gray-900 text-white rounded-xl font-medium hover:bg-gray-800 transition-colors",children:"Go to Login"})]}):w.jsxs("form",{onSubmit:u,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Super Admin Access Code"}),w.jsxs("div",{className:"relative",children:[w.jsx(u1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),w.jsx("input",{type:"text",value:t,onChange:h=>e(h.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-red-500 outline-none transition-all",placeholder:"Enter new code (e.g. admin123)",required:!0,disabled:n==="processing"})]})]}),n==="error"&&w.jsx("div",{className:"p-3 bg-red-50 text-red-600 text-sm rounded-lg",children:a}),w.jsx("button",{type:"submit",disabled:n==="processing"||!t,className:"w-full py-3 px-4 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:n==="processing"?w.jsxs(w.Fragment,{children:[w.jsx(MM,{className:"animate-spin",size:20}),"Resetting..."]}):"Reset System & Create Admin"})]})]})]})})};function V8(){return w.jsx(P8,{children:w.jsx(sM,{children:w.jsxs(VI,{children:[w.jsx(rl,{path:"/",element:w.jsx(fB,{})}),w.jsx(rl,{path:"/mess/:id",element:w.jsx(x8,{})}),w.jsx(rl,{path:"/admin",element:w.jsx(C8,{})}),w.jsx(rl,{path:"/admin/dashboard",element:w.jsx(M8,{})}),w.jsx(rl,{path:"/system-reset",element:w.jsx(O8,{})})]})})})}HD.createRoot(document.getElementById("root")).render(w.jsx(O.StrictMode,{children:w.jsx(V8,{})}));
