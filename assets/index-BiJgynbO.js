(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function PI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fg={exports:{}},Fu={};var gw;function VI(){if(gw)return Fu;gw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return Fu.Fragment=e,Fu.jsx=n,Fu.jsxs=n,Fu}var yw;function OI(){return yw||(yw=1,fg.exports=VI()),fg.exports}var w=OI(),dg={exports:{}},Ne={};var vw;function kI(){if(vw)return Ne;vw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),T=Symbol.iterator;function S(U){return U===null||typeof U!="object"?null:(U=T&&U[T]||U["@@iterator"],typeof U=="function"?U:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,D={};function O(U,te,ce){this.props=U,this.context=te,this.refs=D,this.updater=ce||R}O.prototype.isReactComponent={},O.prototype.setState=function(U,te){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,te,"setState")},O.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function z(){}z.prototype=O.prototype;function F(U,te,ce){this.props=U,this.context=te,this.refs=D,this.updater=ce||R}var ae=F.prototype=new z;ae.constructor=F,M(ae,O.prototype),ae.isPureReactComponent=!0;var re=Array.isArray;function J(){}var N={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function I(U,te,ce){var he=ce.ref;return{$$typeof:t,type:U,key:te,ref:he!==void 0?he:null,props:ce}}function j(U,te){return I(U.type,te,U.props)}function L(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function H(U){var te={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ce){return te[ce]})}var P=/\/+/g;function Fe(U,te){return typeof U=="object"&&U!==null&&U.key!=null?H(""+U.key):te.toString(36)}function Qe(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(J,J):(U.status="pending",U.then(function(te){U.status==="pending"&&(U.status="fulfilled",U.value=te)},function(te){U.status==="pending"&&(U.status="rejected",U.reason=te)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function W(U,te,ce,he,Te){var Ce=typeof U;(Ce==="undefined"||Ce==="boolean")&&(U=null);var oe=!1;if(U===null)oe=!0;else switch(Ce){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(U.$$typeof){case t:case e:oe=!0;break;case y:return oe=U._init,W(oe(U._payload),te,ce,he,Te)}}if(oe)return Te=Te(U),oe=he===""?"."+Fe(U,0):he,re(Te)?(ce="",oe!=null&&(ce=oe.replace(P,"$&/")+"/"),W(Te,te,ce,"",function(pt){return pt})):Te!=null&&(L(Te)&&(Te=j(Te,ce+(Te.key==null||U&&U.key===Te.key?"":(""+Te.key).replace(P,"$&/")+"/")+oe)),te.push(Te)),1;oe=0;var _e=he===""?".":he+":";if(re(U))for(var we=0;we<U.length;we++)he=U[we],Ce=_e+Fe(he,we),oe+=W(he,te,ce,Ce,Te);else if(we=S(U),typeof we=="function")for(U=we.call(U),we=0;!(he=U.next()).done;)he=he.value,Ce=_e+Fe(he,we++),oe+=W(he,te,ce,Ce,Te);else if(Ce==="object"){if(typeof U.then=="function")return W(Qe(U),te,ce,he,Te);throw te=String(U),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return oe}function le(U,te,ce){if(U==null)return U;var he=[],Te=0;return W(U,he,"","",function(Ce){return te.call(ce,Ce,Te++)}),he}function de(U){if(U._status===-1){var te=U._result;te=te(),te.then(function(ce){(U._status===0||U._status===-1)&&(U._status=1,U._result=ce)},function(ce){(U._status===0||U._status===-1)&&(U._status=2,U._result=ce)}),U._status===-1&&(U._status=0,U._result=te)}if(U._status===1)return U._result.default;throw U._result}var xe=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Ve={map:le,forEach:function(U,te,ce){le(U,function(){te.apply(this,arguments)},ce)},count:function(U){var te=0;return le(U,function(){te++}),te},toArray:function(U){return le(U,function(te){return te})||[]},only:function(U){if(!L(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Ne.Activity=v,Ne.Children=Ve,Ne.Component=O,Ne.Fragment=n,Ne.Profiler=a,Ne.PureComponent=F,Ne.StrictMode=s,Ne.Suspense=d,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(U){return N.H.useMemoCache(U)}},Ne.cache=function(U){return function(){return U.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(U,te,ce){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var he=M({},U.props),Te=U.key;if(te!=null)for(Ce in te.key!==void 0&&(Te=""+te.key),te)!x.call(te,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&te.ref===void 0||(he[Ce]=te[Ce]);var Ce=arguments.length-2;if(Ce===1)he.children=ce;else if(1<Ce){for(var oe=Array(Ce),_e=0;_e<Ce;_e++)oe[_e]=arguments[_e+2];he.children=oe}return I(U.type,Te,he)},Ne.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Ne.createElement=function(U,te,ce){var he,Te={},Ce=null;if(te!=null)for(he in te.key!==void 0&&(Ce=""+te.key),te)x.call(te,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Te[he]=te[he]);var oe=arguments.length-2;if(oe===1)Te.children=ce;else if(1<oe){for(var _e=Array(oe),we=0;we<oe;we++)_e[we]=arguments[we+2];Te.children=_e}if(U&&U.defaultProps)for(he in oe=U.defaultProps,oe)Te[he]===void 0&&(Te[he]=oe[he]);return I(U,Ce,Te)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(U){return{$$typeof:h,render:U}},Ne.isValidElement=L,Ne.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:de}},Ne.memo=function(U,te){return{$$typeof:p,type:U,compare:te===void 0?null:te}},Ne.startTransition=function(U){var te=N.T,ce={};N.T=ce;try{var he=U(),Te=N.S;Te!==null&&Te(ce,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(J,xe)}catch(Ce){xe(Ce)}finally{te!==null&&ce.types!==null&&(te.types=ce.types),N.T=te}},Ne.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ne.use=function(U){return N.H.use(U)},Ne.useActionState=function(U,te,ce){return N.H.useActionState(U,te,ce)},Ne.useCallback=function(U,te){return N.H.useCallback(U,te)},Ne.useContext=function(U){return N.H.useContext(U)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(U,te){return N.H.useDeferredValue(U,te)},Ne.useEffect=function(U,te){return N.H.useEffect(U,te)},Ne.useEffectEvent=function(U){return N.H.useEffectEvent(U)},Ne.useId=function(){return N.H.useId()},Ne.useImperativeHandle=function(U,te,ce){return N.H.useImperativeHandle(U,te,ce)},Ne.useInsertionEffect=function(U,te){return N.H.useInsertionEffect(U,te)},Ne.useLayoutEffect=function(U,te){return N.H.useLayoutEffect(U,te)},Ne.useMemo=function(U,te){return N.H.useMemo(U,te)},Ne.useOptimistic=function(U,te){return N.H.useOptimistic(U,te)},Ne.useReducer=function(U,te,ce){return N.H.useReducer(U,te,ce)},Ne.useRef=function(U){return N.H.useRef(U)},Ne.useState=function(U){return N.H.useState(U)},Ne.useSyncExternalStore=function(U,te,ce){return N.H.useSyncExternalStore(U,te,ce)},Ne.useTransition=function(){return N.H.useTransition()},Ne.version="19.2.0",Ne}var _w;function ev(){return _w||(_w=1,dg.exports=kI()),dg.exports}var V=ev();const hi=PI(V);var mg={exports:{}},Hu={},pg={exports:{}},gg={};var Tw;function LI(){return Tw||(Tw=1,(function(t){function e(W,le){var de=W.length;W.push(le);e:for(;0<de;){var xe=de-1>>>1,Ve=W[xe];if(0<a(Ve,le))W[xe]=le,W[de]=Ve,de=xe;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var le=W[0],de=W.pop();if(de!==le){W[0]=de;e:for(var xe=0,Ve=W.length,U=Ve>>>1;xe<U;){var te=2*(xe+1)-1,ce=W[te],he=te+1,Te=W[he];if(0>a(ce,de))he<Ve&&0>a(Te,ce)?(W[xe]=Te,W[he]=de,xe=he):(W[xe]=ce,W[te]=de,xe=te);else if(he<Ve&&0>a(Te,de))W[xe]=Te,W[he]=de,xe=he;else break e}}return le}function a(W,le){var de=W.sortIndex-le.sortIndex;return de!==0?de:W.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],y=1,v=null,T=3,S=!1,R=!1,M=!1,D=!1,O=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function ae(W){for(var le=n(p);le!==null;){if(le.callback===null)s(p);else if(le.startTime<=W)s(p),le.sortIndex=le.expirationTime,e(d,le);else break;le=n(p)}}function re(W){if(M=!1,ae(W),!R)if(n(d)!==null)R=!0,J||(J=!0,H());else{var le=n(p);le!==null&&Qe(re,le.startTime-W)}}var J=!1,N=-1,x=5,I=-1;function j(){return D?!0:!(t.unstable_now()-I<x)}function L(){if(D=!1,J){var W=t.unstable_now();I=W;var le=!0;try{e:{R=!1,M&&(M=!1,z(N),N=-1),S=!0;var de=T;try{t:{for(ae(W),v=n(d);v!==null&&!(v.expirationTime>W&&j());){var xe=v.callback;if(typeof xe=="function"){v.callback=null,T=v.priorityLevel;var Ve=xe(v.expirationTime<=W);if(W=t.unstable_now(),typeof Ve=="function"){v.callback=Ve,ae(W),le=!0;break t}v===n(d)&&s(d),ae(W)}else s(d);v=n(d)}if(v!==null)le=!0;else{var U=n(p);U!==null&&Qe(re,U.startTime-W),le=!1}}break e}finally{v=null,T=de,S=!1}le=void 0}}finally{le?H():J=!1}}}var H;if(typeof F=="function")H=function(){F(L)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Fe=P.port2;P.port1.onmessage=L,H=function(){Fe.postMessage(null)}}else H=function(){O(L,0)};function Qe(W,le){N=O(function(){W(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(W){switch(T){case 1:case 2:case 3:var le=3;break;default:le=T}var de=T;T=le;try{return W()}finally{T=de}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(W,le){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var de=T;T=W;try{return le()}finally{T=de}},t.unstable_scheduleCallback=function(W,le,de){var xe=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?xe+de:xe):de=xe,W){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=de+Ve,W={id:y++,callback:le,priorityLevel:W,startTime:de,expirationTime:Ve,sortIndex:-1},de>xe?(W.sortIndex=de,e(p,W),n(d)===null&&W===n(p)&&(M?(z(N),N=-1):M=!0,Qe(re,de-xe))):(W.sortIndex=Ve,e(d,W),R||S||(R=!0,J||(J=!0,H()))),W},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(W){var le=T;return function(){var de=T;T=le;try{return W.apply(this,arguments)}finally{T=de}}}})(gg)),gg}var bw;function jI(){return bw||(bw=1,pg.exports=LI()),pg.exports}var yg={exports:{}},hn={};var ww;function UI(){if(ww)return hn;ww=1;var t=ev();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:p,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,hn.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,y)},hn.flushSync=function(d){var p=u.T,y=s.p;try{if(u.T=null,s.p=2,d)return d()}finally{u.T=p,s.p=y,s.d.f()}},hn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(d,p))},hn.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},hn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:S}):y==="script"&&s.d.X(d,{crossOrigin:v,integrity:T,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},hn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);s.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(d)},hn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);s.d.L(d,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},hn.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=h(p.as,p.crossOrigin);s.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(d)},hn.requestFormReset=function(d){s.d.r(d)},hn.unstable_batchedUpdates=function(d,p){return d(p)},hn.useFormState=function(d,p,y){return u.H.useFormState(d,p,y)},hn.useFormStatus=function(){return u.H.useHostTransitionStatus()},hn.version="19.2.0",hn}var Ew;function zI(){if(Ew)return yg.exports;Ew=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),yg.exports=UI(),yg.exports}var Sw;function BI(){if(Sw)return Hu;Sw=1;var t=jI(),e=ev(),n=zI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return d(m),i;if(g===c)return d(m),r;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=m,c=g;else{for(var b=!1,A=m.child;A;){if(A===o){b=!0,o=m,c=g;break}if(A===c){b=!0,c=m,o=g;break}A=A.sibling}if(!b){for(A=g.child;A;){if(A===o){b=!0,o=g,c=m;break}if(A===c){b=!0,c=g,o=m;break}A=A.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),F=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var P=Symbol.for("react.client.reference");function Fe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===P?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case O:return"Profiler";case D:return"StrictMode";case re:return"Suspense";case J:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case R:return"Portal";case F:return i.displayName||"Context";case z:return(i._context.displayName||"Context")+".Consumer";case ae:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return r=i.displayName||null,r!==null?r:Fe(i.type)||"Memo";case x:r=i._payload,i=i._init;try{return Fe(i(r))}catch{}}return null}var Qe=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},xe=[],Ve=-1;function U(i){return{current:i}}function te(i){0>Ve||(i.current=xe[Ve],xe[Ve]=null,Ve--)}function ce(i,r){Ve++,xe[Ve]=i.current,i.current=r}var he=U(null),Te=U(null),Ce=U(null),oe=U(null);function _e(i,r){switch(ce(Ce,r),ce(Te,i),ce(he,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Ub(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Ub(r),i=zb(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}te(he),ce(he,i)}function we(){te(he),te(Te),te(Ce)}function pt(i){i.memoizedState!==null&&ce(oe,i);var r=he.current,o=zb(r,i.type);r!==o&&(ce(Te,i),ce(he,o))}function bn(i){Te.current===i&&(te(he),te(Te)),oe.current===i&&(te(oe),ju._currentValue=de)}var Kn,_i;function Mt(i){if(Kn===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Kn=r&&r[1]||"",_i=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kn+i+_i}var zi=!1;function wn(i,r){if(!i||zi)return"";zi=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Q){var X=Q}Reflect.construct(i,[],ie)}else{try{ie.call()}catch(Q){X=Q}i.call(ie.prototype)}}else{try{throw Error()}catch(Q){X=Q}(ie=i())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Q){if(Q&&X&&typeof Q.stack=="string")return[Q.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),b=g[0],A=g[1];if(b&&A){var k=b.split(`
`),K=A.split(`
`);for(m=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;if(c===k.length||m===K.length)for(c=k.length-1,m=K.length-1;1<=c&&0<=m&&k[c]!==K[m];)m--;for(;1<=c&&0<=m;c--,m--)if(k[c]!==K[m]){if(c!==1||m!==1)do if(c--,m--,0>m||k[c]!==K[m]){var Z=`
`+k[c].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=c&&0<=m);break}}}finally{zi=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Mt(o):""}function Ti(i,r){switch(i.tag){case 26:case 27:case 5:return Mt(i.type);case 16:return Mt("Lazy");case 13:return i.child!==r&&r!==null?Mt("Suspense Fallback"):Mt("Suspense");case 19:return Mt("SuspenseList");case 0:case 15:return wn(i.type,!1);case 11:return wn(i.type.render,!1);case 1:return wn(i.type,!0);case 31:return Mt("Activity");default:return""}}function mo(i){try{var r="",o=null;do r+=Ti(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var At=Object.prototype.hasOwnProperty,Tt=t.unstable_scheduleCallback,Bi=t.unstable_cancelCallback,po=t.unstable_shouldYield,go=t.unstable_requestPaint,Jt=t.unstable_now,En=t.unstable_getCurrentPriorityLevel,fa=t.unstable_ImmediatePriority,Fl=t.unstable_UserBlockingPriority,nr=t.unstable_NormalPriority,pm=t.unstable_LowPriority,$c=t.unstable_IdlePriority,Qc=t.log,Wc=t.unstable_setDisableYieldValue,bi=null,en=null;function Xn(i){if(typeof Qc=="function"&&Wc(i),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(bi,i)}catch{}}var xt=Math.clz32?Math.clz32:Jc,Zc=Math.log,yo=Math.LN2;function Jc(i){return i>>>=0,i===0?32:31-(Zc(i)/yo|0)|0}var Fi=256,da=262144,Pt=4194304;function Hi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function qi(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~g,c!==0?m=Hi(c):(b&=A,b!==0?m=Hi(b):o||(o=A&~i,o!==0&&(m=Hi(o))))):(A=c&~g,A!==0?m=Hi(A):b!==0?m=Hi(b):o||(o=c&~i,o!==0&&(m=Hi(o)))),m===0?0:r!==0&&r!==m&&(r&g)===0&&(g=m&-m,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:m}function wi(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function gm(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eh(){var i=Pt;return Pt<<=1,(Pt&62914560)===0&&(Pt=4194304),i}function Gi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function ma(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ym(i,r,o,c,m,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,k=i.expirationTimes,K=i.hiddenUpdates;for(o=b&~o;0<o;){var Z=31-xt(o),ie=1<<Z;A[Z]=0,k[Z]=-1;var X=K[Z];if(X!==null)for(K[Z]=null,Z=0;Z<X.length;Z++){var Q=X[Z];Q!==null&&(Q.lane&=-536870913)}o&=~ie}c!==0&&pa(i,c,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~r))}function pa(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-xt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Hl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-xt(o),m=1<<c;m&r|i[c]&r&&(i[c]|=r),o&=~m}}function ql(i,r){var o=r&-r;return o=(o&42)!==0?1:ga(o),(o&(i.suspendedLanes|r))!==0?0:o}function ga(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ws(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function th(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:uw(i.type))}function Ei(i,r){var o=le.p;try{return le.p=i,r()}finally{le.p=o}}var Si=Math.random().toString(36).slice(2),Vt="__reactFiber$"+Si,$t="__reactProps$"+Si,Yi="__reactContainer$"+Si,vo="__reactEvents$"+Si,vm="__reactListeners$"+Si,nh="__reactHandles$"+Si,ih="__reactResources$"+Si,Ki="__reactMarker$"+Si;function _o(i){delete i[Vt],delete i[$t],delete i[vo],delete i[vm],delete i[nh]}function Xi(i){var r=i[Vt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Yi]||o[Vt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=Kb(i);i!==null;){if(o=i[Vt])return o;i=Kb(i)}return r}i=o,o=i.parentNode}return null}function $n(i){if(i=i[Vt]||i[Yi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function On(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function $i(i){var r=i[ih];return r||(r=i[ih]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ot(i){i[Ki]=!0}var Gl=new Set,Yl={};function Qi(i,r){Wi(i,r),Wi(i+"Capture",r)}function Wi(i,r){for(Yl[i]=r,i=0;i<r.length;i++)Gl.add(r[i])}var Kl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xl={},$l={};function sh(i){return At.call($l,i)?!0:At.call(Xl,i)?!1:Kl.test(i)?$l[i]=!0:(Xl[i]=!0,!1)}function To(i,r,o){if(sh(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function kn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function kt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function Qt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ir(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ql(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return m.call(this)},set:function(b){o=""+b,g.call(this,b)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function We(i){if(!i._valueTracker){var r=ir(i)?"checked":"value";i._valueTracker=Ql(i,r,""+i[r])}}function ya(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=ir(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function Zi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var va=/[\n"\\]/g;function Sn(i){return i.replace(va,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function bo(i,r,o,c,m,g,b,A){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),r!=null?b==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Qt(r)):i.value!==""+Qt(r)&&(i.value=""+Qt(r)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),r!=null?Wl(i,b,Qt(r)):o!=null?Wl(i,b,Qt(o)):c!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+Qt(A):i.removeAttribute("name")}function rh(i,r,o,c,m,g,b,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){We(i);return}o=o!=null?""+Qt(o):"",r=r!=null?""+Qt(r):o,A||r===i.value||(i.value=r),i.defaultValue=r}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b),We(i)}function Wl(i,r,o){r==="number"&&Zi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function sr(i,r,o,c){if(i=i.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=r.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Qt(o),r=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}r!==null||i[m].disabled||(r=i[m])}r!==null&&(r.selected=!0)}}function ah(i,r,o){if(r!=null&&(r=""+Qt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Qt(o):""}function rr(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(Qe(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=Qt(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),We(i)}function An(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var oh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zl(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||oh.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Jl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in r)c=r[m],r.hasOwnProperty(m)&&o[m]!==c&&Zl(i,m,c)}else for(var g in r)r.hasOwnProperty(g)&&Zl(i,g,r[g])}function wo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Eo(i){return ar.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ai(){}var eu=null;function Qn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var or=null,Ji=null;function _a(i){var r=$n(i);if(r&&(i=r.stateNode)){var o=i[$t]||null;e:switch(i=r.stateNode,r.type){case"input":if(bo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Sn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var m=c[$t]||null;if(!m)throw Error(s(90));bo(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&ya(c)}break e;case"textarea":ah(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&sr(i,!!o.multiple,r,!1)}}}var So=!1;function lr(i,r,o){if(So)return i(r,o);So=!0;try{var c=i(r);return c}finally{if(So=!1,(or!==null||Ji!==null)&&(tf(),or&&(r=or,i=Ji,Ji=or=null,_a(r),i)))for(r=0;r<i.length;r++)_a(i[r])}}function xi(i,r){var o=i.stateNode;if(o===null)return null;var c=o[$t]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ta=!1;if(Wn)try{var et={};Object.defineProperty(et,"passive",{get:function(){Ta=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Ta=!1}var es=null,tu=null,ba=null;function nu(){if(ba)return ba;var i,r=tu,o=r.length,c,m="value"in es?es.value:es.textContent,g=m.length;for(i=0;i<o&&r[i]===m[i];i++);var b=o-i;for(c=1;c<=b&&r[o-c]===m[g-c];c++);return ba=m.slice(i,1<c?1-c:void 0)}function wa(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Es(){return!0}function Ci(){return!1}function tn(i){function r(o,c,m,g,b){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Es:Ci,this.isPropagationStopped=Ci,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),r}var Ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ts=tn(Ss),ur=v({},Ss,{view:0,detail:0}),iu=tn(ur),cr,Ao,ns,xo=v({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ns&&(ns&&i.type==="mousemove"?(cr=i.screenX-ns.screenX,Ao=i.screenY-ns.screenY):Ao=cr=0,ns=i),cr)},movementY:function(i){return"movementY"in i?i.movementY:Ao}}),su=tn(xo),Ea=v({},xo,{dataTransfer:0}),uh=tn(Ea),ch=v({},ur,{relatedTarget:0}),Sa=tn(ch),ru=v({},Ss,{animationName:0,elapsedTime:0,pseudoElement:0}),hh=tn(ru),Co=v({},Ss,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),fh=tn(Co),dh=v({},Ss,{data:0}),is=tn(dh),mh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ph={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=gh[i])?!!r[i]:!1}function hr(){return yh}var yn=v({},ur,{key:function(i){if(i.key){var r=mh[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=wa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ph[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(i){return i.type==="keypress"?wa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?wa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),vh=tn(yn),_h=v({},xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),As=tn(_h),f=v({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr}),_=tn(f),E=v({},Ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=tn(E),G=v({},xo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$=tn(G),ue=v({},Ss,{newState:0,oldState:0}),De=tn(ue),Ct=[9,13,27,32],Ke=Wn&&"CompositionEvent"in window,ct=null;Wn&&"documentMode"in document&&(ct=document.documentMode);var Zn=Wn&&"TextEvent"in window&&!ct,ss=Wn&&(!Ke||ct&&8<ct&&11>=ct),Ri=" ",Ni=!1;function Aa(i,r){switch(i){case"keyup":return Ct.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ro(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var No=!1;function iN(i,r){switch(i){case"compositionend":return Ro(r);case"keypress":return r.which!==32?null:(Ni=!0,Ri);case"textInput":return i=r.data,i===Ri&&Ni?null:i;default:return null}}function sN(i,r){if(No)return i==="compositionend"||!Ke&&Aa(i,r)?(i=nu(),ba=tu=es=null,No=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ss&&r.locale!=="ko"?null:r.data;default:return null}}var rN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q0(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!rN[i.type]:r==="textarea"}function W0(i,r,o,c){or?Ji?Ji.push(c):Ji=[c]:or=c,r=uf(r,"onChange"),0<r.length&&(o=new ts("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var au=null,ou=null;function aN(i){Pb(i,0)}function Th(i){var r=On(i);if(ya(r))return i}function Z0(i,r){if(i==="change")return r}var J0=!1;if(Wn){var _m;if(Wn){var Tm="oninput"in document;if(!Tm){var e_=document.createElement("div");e_.setAttribute("oninput","return;"),Tm=typeof e_.oninput=="function"}_m=Tm}else _m=!1;J0=_m&&(!document.documentMode||9<document.documentMode)}function t_(){au&&(au.detachEvent("onpropertychange",n_),ou=au=null)}function n_(i){if(i.propertyName==="value"&&Th(ou)){var r=[];W0(r,ou,i,Qn(i)),lr(aN,r)}}function oN(i,r,o){i==="focusin"?(t_(),au=r,ou=o,au.attachEvent("onpropertychange",n_)):i==="focusout"&&t_()}function lN(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Th(ou)}function uN(i,r){if(i==="click")return Th(r)}function cN(i,r){if(i==="input"||i==="change")return Th(r)}function hN(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Ln=typeof Object.is=="function"?Object.is:hN;function lu(i,r){if(Ln(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!At.call(r,m)||!Ln(i[m],r[m]))return!1}return!0}function i_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function s_(i,r){var o=i_(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=i_(o)}}function r_(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?r_(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function a_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Zi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Zi(i.document)}return r}function bm(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var fN=Wn&&"documentMode"in document&&11>=document.documentMode,Io=null,wm=null,uu=null,Em=!1;function o_(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Em||Io==null||Io!==Zi(c)||(c=Io,"selectionStart"in c&&bm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),uu&&lu(uu,c)||(uu=c,c=uf(wm,"onSelect"),0<c.length&&(r=new ts("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=Io)))}function xa(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var Do={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionrun:xa("Transition","TransitionRun"),transitionstart:xa("Transition","TransitionStart"),transitioncancel:xa("Transition","TransitionCancel"),transitionend:xa("Transition","TransitionEnd")},Sm={},l_={};Wn&&(l_=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function Ca(i){if(Sm[i])return Sm[i];if(!Do[i])return i;var r=Do[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in l_)return Sm[i]=r[o];return i}var u_=Ca("animationend"),c_=Ca("animationiteration"),h_=Ca("animationstart"),dN=Ca("transitionrun"),mN=Ca("transitionstart"),pN=Ca("transitioncancel"),f_=Ca("transitionend"),d_=new Map,Am="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Am.push("scrollEnd");function Ii(i,r){d_.set(i,r),Qi(r,[i])}var bh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Jn=[],Mo=0,xm=0;function wh(){for(var i=Mo,r=xm=Mo=0;r<i;){var o=Jn[r];Jn[r++]=null;var c=Jn[r];Jn[r++]=null;var m=Jn[r];Jn[r++]=null;var g=Jn[r];if(Jn[r++]=null,c!==null&&m!==null){var b=c.pending;b===null?m.next=m:(m.next=b.next,b.next=m),c.pending=m}g!==0&&m_(o,m,g)}}function Eh(i,r,o,c){Jn[Mo++]=i,Jn[Mo++]=r,Jn[Mo++]=o,Jn[Mo++]=c,xm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Cm(i,r,o,c){return Eh(i,r,o,c),Sh(i)}function Ra(i,r){return Eh(i,null,null,r),Sh(i)}function m_(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&r!==null&&(m=31-xt(o),i=g.hiddenUpdates,c=i[m],c===null?i[m]=[r]:c.push(r),r.lane=o|536870912),g):null}function Sh(i){if(50<Du)throw Du=0,kp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Po={};function gN(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(i,r,o,c){return new gN(i,r,o,c)}function Rm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function xs(i,r){var o=i.alternate;return o===null?(o=jn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function p_(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Ah(i,r,o,c,m,g){var b=0;if(c=i,typeof i=="function")Rm(i)&&(b=1);else if(typeof i=="string")b=bI(i,o,he.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=jn(31,o,r,m),i.elementType=I,i.lanes=g,i;case M:return Na(o.children,m,g,r);case D:b=8,m|=24;break;case O:return i=jn(12,o,r,m|2),i.elementType=O,i.lanes=g,i;case re:return i=jn(13,o,r,m),i.elementType=re,i.lanes=g,i;case J:return i=jn(19,o,r,m),i.elementType=J,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:b=10;break e;case z:b=9;break e;case ae:b=11;break e;case N:b=14;break e;case x:b=16,c=null;break e}b=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=jn(b,o,r,m),r.elementType=i,r.type=c,r.lanes=g,r}function Na(i,r,o,c){return i=jn(7,i,c,r),i.lanes=o,i}function Nm(i,r,o){return i=jn(6,i,null,r),i.lanes=o,i}function g_(i){var r=jn(18,null,null,0);return r.stateNode=i,r}function Im(i,r,o){return r=jn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var y_=new WeakMap;function ei(i,r){if(typeof i=="object"&&i!==null){var o=y_.get(i);return o!==void 0?o:(r={value:i,source:r,stack:mo(r)},y_.set(i,r),r)}return{value:i,source:r,stack:mo(r)}}var Vo=[],Oo=0,xh=null,cu=0,ti=[],ni=0,fr=null,rs=1,as="";function Cs(i,r){Vo[Oo++]=cu,Vo[Oo++]=xh,xh=i,cu=r}function v_(i,r,o){ti[ni++]=rs,ti[ni++]=as,ti[ni++]=fr,fr=i;var c=rs;i=as;var m=32-xt(c)-1;c&=~(1<<m),o+=1;var g=32-xt(r)+m;if(30<g){var b=m-m%5;g=(c&(1<<b)-1).toString(32),c>>=b,m-=b,rs=1<<32-xt(r)+m|o<<m|c,as=g+i}else rs=1<<g|o<<m|c,as=i}function Dm(i){i.return!==null&&(Cs(i,1),v_(i,1,0))}function Mm(i){for(;i===xh;)xh=Vo[--Oo],Vo[Oo]=null,cu=Vo[--Oo],Vo[Oo]=null;for(;i===fr;)fr=ti[--ni],ti[ni]=null,as=ti[--ni],ti[ni]=null,rs=ti[--ni],ti[ni]=null}function __(i,r){ti[ni++]=rs,ti[ni++]=as,ti[ni++]=fr,rs=r.id,as=r.overflow,fr=i}var nn=null,ot=null,He=!1,dr=null,ii=!1,Pm=Error(s(519));function mr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw hu(ei(r,i)),Pm}function T_(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[Vt]=i,r[$t]=c,o){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(o=0;o<Pu.length;o++)ke(Pu[o],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),rh(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),rr(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||Lb(r.textContent,o)?(c.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),c.onScroll!=null&&ke("scroll",r),c.onScrollEnd!=null&&ke("scrollend",r),c.onClick!=null&&(r.onclick=Ai),r=!0):r=!1,r||mr(i,!0)}function b_(i){for(nn=i.return;nn;)switch(nn.tag){case 5:case 31:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:nn=nn.return}}function ko(i){if(i!==nn)return!1;if(!He)return b_(i),He=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Wp(i.type,i.memoizedProps)),o=!o),o&&ot&&mr(i),b_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ot=Yb(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ot=Yb(i)}else r===27?(r=ot,Rr(i.type)?(i=ng,ng=null,ot=i):ot=r):ot=nn?ri(i.stateNode.nextSibling):null;return!0}function Ia(){ot=nn=null,He=!1}function Vm(){var i=dr;return i!==null&&(Nn===null?Nn=i:Nn.push.apply(Nn,i),dr=null),i}function hu(i){dr===null?dr=[i]:dr.push(i)}var Om=U(null),Da=null,Rs=null;function pr(i,r,o){ce(Om,r._currentValue),r._currentValue=o}function Ns(i){i._currentValue=Om.current,te(Om)}function km(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function Lm(i,r,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var b=m.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=m;for(var k=0;k<r.length;k++)if(A.context===r[k]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),km(g.return,o,i),c||(b=null);break e}g=A.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(s(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),km(b,o,i),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===i){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function Lo(i,r,o,c){i=null;for(var m=r,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var A=m.type;Ln(m.pendingProps.value,b.value)||(i!==null?i.push(A):i=[A])}}else if(m===oe.current){if(b=m.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(ju):i=[ju])}m=m.return}i!==null&&Lm(r,i,o,c),r.flags|=262144}function Ch(i){for(i=i.firstContext;i!==null;){if(!Ln(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ma(i){Da=i,Rs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function sn(i){return w_(Da,i)}function Rh(i,r){return Da===null&&Ma(i),w_(i,r)}function w_(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Rs===null){if(i===null)throw Error(s(308));Rs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Rs=Rs.next=r;return o}var yN=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},vN=t.unstable_scheduleCallback,_N=t.unstable_NormalPriority,Lt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jm(){return{controller:new yN,data:new Map,refCount:0}}function fu(i){i.refCount--,i.refCount===0&&vN(_N,function(){i.controller.abort()})}var du=null,Um=0,jo=0,Uo=null;function TN(i,r){if(du===null){var o=du=[];Um=0,jo=Fp(),Uo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Um++,r.then(E_,E_),r}function E_(){if(--Um===0&&du!==null){Uo!==null&&(Uo.status="fulfilled");var i=du;du=null,jo=0,Uo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function bN(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var S_=W.S;W.S=function(i,r){ob=Jt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&TN(i,r),S_!==null&&S_(i,r)};var Pa=U(null);function zm(){var i=Pa.current;return i!==null?i:st.pooledCache}function Nh(i,r){r===null?ce(Pa,Pa.current):ce(Pa,r.pool)}function A_(){var i=zm();return i===null?null:{parent:Lt._currentValue,pool:i}}var zo=Error(s(460)),Bm=Error(s(474)),Ih=Error(s(542)),Dh={then:function(){}};function x_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function C_(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Ai,Ai),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,N_(i),i;default:if(typeof r.status=="string")r.then(Ai,Ai);else{if(i=st,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=c}},function(c){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,N_(i),i}throw Oa=r,zo}}function Va(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Oa=o,zo):o}}var Oa=null;function R_(){if(Oa===null)throw Error(s(459));var i=Oa;return Oa=null,i}function N_(i){if(i===zo||i===Ih)throw Error(s(483))}var Bo=null,mu=0;function Mh(i){var r=mu;return mu+=1,Bo===null&&(Bo=[]),C_(Bo,i,r)}function pu(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ph(i,r){throw r.$$typeof===T?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function I_(i){function r(q,B){if(i){var Y=q.deletions;Y===null?(q.deletions=[B],q.flags|=16):Y.push(B)}}function o(q,B){if(!i)return null;for(;B!==null;)r(q,B),B=B.sibling;return null}function c(q){for(var B=new Map;q!==null;)q.key!==null?B.set(q.key,q):B.set(q.index,q),q=q.sibling;return B}function m(q,B){return q=xs(q,B),q.index=0,q.sibling=null,q}function g(q,B,Y){return q.index=Y,i?(Y=q.alternate,Y!==null?(Y=Y.index,Y<B?(q.flags|=67108866,B):Y):(q.flags|=67108866,B)):(q.flags|=1048576,B)}function b(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function A(q,B,Y,ee){return B===null||B.tag!==6?(B=Nm(Y,q.mode,ee),B.return=q,B):(B=m(B,Y),B.return=q,B)}function k(q,B,Y,ee){var ye=Y.type;return ye===M?Z(q,B,Y.props.children,ee,Y.key):B!==null&&(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&Va(ye)===B.type)?(B=m(B,Y.props),pu(B,Y),B.return=q,B):(B=Ah(Y.type,Y.key,Y.props,null,q.mode,ee),pu(B,Y),B.return=q,B)}function K(q,B,Y,ee){return B===null||B.tag!==4||B.stateNode.containerInfo!==Y.containerInfo||B.stateNode.implementation!==Y.implementation?(B=Im(Y,q.mode,ee),B.return=q,B):(B=m(B,Y.children||[]),B.return=q,B)}function Z(q,B,Y,ee,ye){return B===null||B.tag!==7?(B=Na(Y,q.mode,ee,ye),B.return=q,B):(B=m(B,Y),B.return=q,B)}function ie(q,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Nm(""+B,q.mode,Y),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return Y=Ah(B.type,B.key,B.props,null,q.mode,Y),pu(Y,B),Y.return=q,Y;case R:return B=Im(B,q.mode,Y),B.return=q,B;case x:return B=Va(B),ie(q,B,Y)}if(Qe(B)||H(B))return B=Na(B,q.mode,Y,null),B.return=q,B;if(typeof B.then=="function")return ie(q,Mh(B),Y);if(B.$$typeof===F)return ie(q,Rh(q,B),Y);Ph(q,B)}return null}function X(q,B,Y,ee){var ye=B!==null?B.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ye!==null?null:A(q,B,""+Y,ee);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return Y.key===ye?k(q,B,Y,ee):null;case R:return Y.key===ye?K(q,B,Y,ee):null;case x:return Y=Va(Y),X(q,B,Y,ee)}if(Qe(Y)||H(Y))return ye!==null?null:Z(q,B,Y,ee,null);if(typeof Y.then=="function")return X(q,B,Mh(Y),ee);if(Y.$$typeof===F)return X(q,B,Rh(q,Y),ee);Ph(q,Y)}return null}function Q(q,B,Y,ee,ye){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return q=q.get(Y)||null,A(B,q,""+ee,ye);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case S:return q=q.get(ee.key===null?Y:ee.key)||null,k(B,q,ee,ye);case R:return q=q.get(ee.key===null?Y:ee.key)||null,K(B,q,ee,ye);case x:return ee=Va(ee),Q(q,B,Y,ee,ye)}if(Qe(ee)||H(ee))return q=q.get(Y)||null,Z(B,q,ee,ye,null);if(typeof ee.then=="function")return Q(q,B,Y,Mh(ee),ye);if(ee.$$typeof===F)return Q(q,B,Y,Rh(B,ee),ye);Ph(B,ee)}return null}function pe(q,B,Y,ee){for(var ye=null,Ge=null,ge=B,Pe=B=0,je=null;ge!==null&&Pe<Y.length;Pe++){ge.index>Pe?(je=ge,ge=null):je=ge.sibling;var Ye=X(q,ge,Y[Pe],ee);if(Ye===null){ge===null&&(ge=je);break}i&&ge&&Ye.alternate===null&&r(q,ge),B=g(Ye,B,Pe),Ge===null?ye=Ye:Ge.sibling=Ye,Ge=Ye,ge=je}if(Pe===Y.length)return o(q,ge),He&&Cs(q,Pe),ye;if(ge===null){for(;Pe<Y.length;Pe++)ge=ie(q,Y[Pe],ee),ge!==null&&(B=g(ge,B,Pe),Ge===null?ye=ge:Ge.sibling=ge,Ge=ge);return He&&Cs(q,Pe),ye}for(ge=c(ge);Pe<Y.length;Pe++)je=Q(ge,q,Pe,Y[Pe],ee),je!==null&&(i&&je.alternate!==null&&ge.delete(je.key===null?Pe:je.key),B=g(je,B,Pe),Ge===null?ye=je:Ge.sibling=je,Ge=je);return i&&ge.forEach(function(Pr){return r(q,Pr)}),He&&Cs(q,Pe),ye}function be(q,B,Y,ee){if(Y==null)throw Error(s(151));for(var ye=null,Ge=null,ge=B,Pe=B=0,je=null,Ye=Y.next();ge!==null&&!Ye.done;Pe++,Ye=Y.next()){ge.index>Pe?(je=ge,ge=null):je=ge.sibling;var Pr=X(q,ge,Ye.value,ee);if(Pr===null){ge===null&&(ge=je);break}i&&ge&&Pr.alternate===null&&r(q,ge),B=g(Pr,B,Pe),Ge===null?ye=Pr:Ge.sibling=Pr,Ge=Pr,ge=je}if(Ye.done)return o(q,ge),He&&Cs(q,Pe),ye;if(ge===null){for(;!Ye.done;Pe++,Ye=Y.next())Ye=ie(q,Ye.value,ee),Ye!==null&&(B=g(Ye,B,Pe),Ge===null?ye=Ye:Ge.sibling=Ye,Ge=Ye);return He&&Cs(q,Pe),ye}for(ge=c(ge);!Ye.done;Pe++,Ye=Y.next())Ye=Q(ge,q,Pe,Ye.value,ee),Ye!==null&&(i&&Ye.alternate!==null&&ge.delete(Ye.key===null?Pe:Ye.key),B=g(Ye,B,Pe),Ge===null?ye=Ye:Ge.sibling=Ye,Ge=Ye);return i&&ge.forEach(function(MI){return r(q,MI)}),He&&Cs(q,Pe),ye}function it(q,B,Y,ee){if(typeof Y=="object"&&Y!==null&&Y.type===M&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:e:{for(var ye=Y.key;B!==null;){if(B.key===ye){if(ye=Y.type,ye===M){if(B.tag===7){o(q,B.sibling),ee=m(B,Y.props.children),ee.return=q,q=ee;break e}}else if(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===x&&Va(ye)===B.type){o(q,B.sibling),ee=m(B,Y.props),pu(ee,Y),ee.return=q,q=ee;break e}o(q,B);break}else r(q,B);B=B.sibling}Y.type===M?(ee=Na(Y.props.children,q.mode,ee,Y.key),ee.return=q,q=ee):(ee=Ah(Y.type,Y.key,Y.props,null,q.mode,ee),pu(ee,Y),ee.return=q,q=ee)}return b(q);case R:e:{for(ye=Y.key;B!==null;){if(B.key===ye)if(B.tag===4&&B.stateNode.containerInfo===Y.containerInfo&&B.stateNode.implementation===Y.implementation){o(q,B.sibling),ee=m(B,Y.children||[]),ee.return=q,q=ee;break e}else{o(q,B);break}else r(q,B);B=B.sibling}ee=Im(Y,q.mode,ee),ee.return=q,q=ee}return b(q);case x:return Y=Va(Y),it(q,B,Y,ee)}if(Qe(Y))return pe(q,B,Y,ee);if(H(Y)){if(ye=H(Y),typeof ye!="function")throw Error(s(150));return Y=ye.call(Y),be(q,B,Y,ee)}if(typeof Y.then=="function")return it(q,B,Mh(Y),ee);if(Y.$$typeof===F)return it(q,B,Rh(q,Y),ee);Ph(q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,B!==null&&B.tag===6?(o(q,B.sibling),ee=m(B,Y),ee.return=q,q=ee):(o(q,B),ee=Nm(Y,q.mode,ee),ee.return=q,q=ee),b(q)):o(q,B)}return function(q,B,Y,ee){try{mu=0;var ye=it(q,B,Y,ee);return Bo=null,ye}catch(ge){if(ge===zo||ge===Ih)throw ge;var Ge=jn(29,ge,null,q.mode);return Ge.lanes=ee,Ge.return=q,Ge}finally{}}}var ka=I_(!0),D_=I_(!1),gr=!1;function Fm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function yr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function vr(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Xe&2)!==0){var m=c.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),c.pending=r,r=Sh(i),m_(i,null,o),r}return Eh(i,c,r,o),Sh(i)}function gu(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Hl(i,o)}}function qm(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?m=g=r:g=g.next=r}else m=g=r;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Gm=!1;function yu(){if(Gm){var i=Uo;if(i!==null)throw i}}function vu(i,r,o,c){Gm=!1;var m=i.updateQueue;gr=!1;var g=m.firstBaseUpdate,b=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var k=A,K=k.next;k.next=null,b===null?g=K:b.next=K,b=k;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==b&&(A===null?Z.firstBaseUpdate=K:A.next=K,Z.lastBaseUpdate=k))}if(g!==null){var ie=m.baseState;b=0,Z=K=k=null,A=g;do{var X=A.lane&-536870913,Q=X!==A.lane;if(Q?(Le&X)===X:(c&X)===X){X!==0&&X===jo&&(Gm=!0),Z!==null&&(Z=Z.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var pe=i,be=A;X=r;var it=o;switch(be.tag){case 1:if(pe=be.payload,typeof pe=="function"){ie=pe.call(it,ie,X);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=be.payload,X=typeof pe=="function"?pe.call(it,ie,X):pe,X==null)break e;ie=v({},ie,X);break e;case 2:gr=!0}}X=A.callback,X!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=m.callbacks,Q===null?m.callbacks=[X]:Q.push(X))}else Q={lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(K=Z=Q,k=ie):Z=Z.next=Q,b|=X;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,m.lastBaseUpdate=Q,m.shared.pending=null}}while(!0);Z===null&&(k=ie),m.baseState=k,m.firstBaseUpdate=K,m.lastBaseUpdate=Z,g===null&&(m.shared.lanes=0),Er|=b,i.lanes=b,i.memoizedState=ie}}function M_(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function P_(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)M_(o[i],r)}var Fo=U(null),Vh=U(0);function V_(i,r){i=js,ce(Vh,i),ce(Fo,r),js=i|r.baseLanes}function Ym(){ce(Vh,js),ce(Fo,Fo.current)}function Km(){js=Vh.current,te(Fo),te(Vh)}var Un=U(null),si=null;function _r(i){var r=i.alternate;ce(Rt,Rt.current&1),ce(Un,i),si===null&&(r===null||Fo.current!==null||r.memoizedState!==null)&&(si=i)}function Xm(i){ce(Rt,Rt.current),ce(Un,i),si===null&&(si=i)}function O_(i){i.tag===22?(ce(Rt,Rt.current),ce(Un,i),si===null&&(si=i)):Tr()}function Tr(){ce(Rt,Rt.current),ce(Un,Un.current)}function zn(i){te(Un),si===i&&(si=null),te(Rt)}var Rt=U(0);function Oh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||eg(o)||tg(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Is=0,Me=null,tt=null,jt=null,kh=!1,Ho=!1,La=!1,Lh=0,_u=0,qo=null,wN=0;function bt(){throw Error(s(321))}function $m(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Ln(i[o],r[o]))return!1;return!0}function Qm(i,r,o,c,m,g){return Is=g,Me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=i===null||i.memoizedState===null?vT:hp,La=!1,g=o(c,m),La=!1,Ho&&(g=L_(r,o,c,m)),k_(i),g}function k_(i){W.H=wu;var r=tt!==null&&tt.next!==null;if(Is=0,jt=tt=Me=null,kh=!1,_u=0,qo=null,r)throw Error(s(300));i===null||Ut||(i=i.dependencies,i!==null&&Ch(i)&&(Ut=!0))}function L_(i,r,o,c){Me=i;var m=0;do{if(Ho&&(qo=null),_u=0,Ho=!1,25<=m)throw Error(s(301));if(m+=1,jt=tt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=_T,g=r(o,c)}while(Ho);return g}function EN(){var i=W.H,r=i.useState()[0];return r=typeof r.then=="function"?Tu(r):r,i=i.useState()[0],(tt!==null?tt.memoizedState:null)!==i&&(Me.flags|=1024),r}function Wm(){var i=Lh!==0;return Lh=0,i}function Zm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Jm(i){if(kh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}kh=!1}Is=0,jt=tt=Me=null,Ho=!1,_u=Lh=0,qo=null}function vn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Me.memoizedState=jt=i:jt=jt.next=i,jt}function Nt(){if(tt===null){var i=Me.alternate;i=i!==null?i.memoizedState:null}else i=tt.next;var r=jt===null?Me.memoizedState:jt.next;if(r!==null)jt=r,tt=i;else{if(i===null)throw Me.alternate===null?Error(s(467)):Error(s(310));tt=i,i={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},jt===null?Me.memoizedState=jt=i:jt=jt.next=i}return jt}function jh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tu(i){var r=_u;return _u+=1,qo===null&&(qo=[]),i=C_(qo,i,r),r=Me,(jt===null?r.memoizedState:jt.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?vT:hp),i}function Uh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Tu(i);if(i.$$typeof===F)return sn(i)}throw Error(s(438,String(i)))}function ep(i){var r=null,o=Me.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Me.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=jh(),Me.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=j;return r.index++,o}function Ds(i,r){return typeof r=="function"?r(i):r}function zh(i){var r=Nt();return tp(r,tt,i)}function tp(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var m=i.baseQueue,g=c.pending;if(g!==null){if(m!==null){var b=m.next;m.next=g.next,g.next=b}r.baseQueue=m=g,c.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{r=m.next;var A=b=null,k=null,K=r,Z=!1;do{var ie=K.lane&-536870913;if(ie!==K.lane?(Le&ie)===ie:(Is&ie)===ie){var X=K.revertLane;if(X===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ie===jo&&(Z=!0);else if((Is&X)===X){K=K.next,X===jo&&(Z=!0);continue}else ie={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},k===null?(A=k=ie,b=g):k=k.next=ie,Me.lanes|=X,Er|=X;ie=K.action,La&&o(g,ie),g=K.hasEagerState?K.eagerState:o(g,ie)}else X={lane:ie,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},k===null?(A=k=X,b=g):k=k.next=X,Me.lanes|=ie,Er|=ie;K=K.next}while(K!==null&&K!==r);if(k===null?b=g:k.next=A,!Ln(g,i.memoizedState)&&(Ut=!0,Z&&(o=Uo,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=k,c.lastRenderedState=g}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function np(i){var r=Nt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,g=r.memoizedState;if(m!==null){o.pending=null;var b=m=m.next;do g=i(g,b.action),b=b.next;while(b!==m);Ln(g,r.memoizedState)||(Ut=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function j_(i,r,o){var c=Me,m=Nt(),g=He;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var b=!Ln((tt||m).memoizedState,o);if(b&&(m.memoizedState=o,Ut=!0),m=m.queue,rp(B_.bind(null,c,m,i),[i]),m.getSnapshot!==r||b||jt!==null&&jt.memoizedState.tag&1){if(c.flags|=2048,Go(9,{destroy:void 0},z_.bind(null,c,m,o,r),null),st===null)throw Error(s(349));g||(Is&127)!==0||U_(c,r,o)}return o}function U_(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Me.updateQueue,r===null?(r=jh(),Me.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function z_(i,r,o,c){r.value=o,r.getSnapshot=c,F_(r)&&H_(i)}function B_(i,r,o){return o(function(){F_(r)&&H_(i)})}function F_(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Ln(i,o)}catch{return!0}}function H_(i){var r=Ra(i,2);r!==null&&In(r,i,2)}function ip(i){var r=vn();if(typeof i=="function"){var o=i;if(i=o(),La){Xn(!0);try{o()}finally{Xn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:i},r}function q_(i,r,o,c){return i.baseState=o,tp(i,tt,typeof c=="function"?c:Ds)}function SN(i,r,o,c,m){if(Hh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};W.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,G_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function G_(i,r){var o=r.action,c=r.payload,m=i.state;if(r.isTransition){var g=W.T,b={};W.T=b;try{var A=o(m,c),k=W.S;k!==null&&k(b,A),Y_(i,r,A)}catch(K){sp(i,r,K)}finally{g!==null&&b.types!==null&&(g.types=b.types),W.T=g}}else try{g=o(m,c),Y_(i,r,g)}catch(K){sp(i,r,K)}}function Y_(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){K_(i,r,c)},function(c){return sp(i,r,c)}):K_(i,r,o)}function K_(i,r,o){r.status="fulfilled",r.value=o,X_(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,G_(i,o)))}function sp(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,X_(r),r=r.next;while(r!==c)}i.action=null}function X_(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function $_(i,r){return r}function Q_(i,r){if(He){var o=st.formState;if(o!==null){e:{var c=Me;if(He){if(ot){t:{for(var m=ot,g=ii;m.nodeType!==8;){if(!g){m=null;break t}if(m=ri(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){ot=ri(m.nextSibling),c=m.data==="F!";break e}}mr(c)}c=!1}c&&(r=o[0])}}return o=vn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$_,lastRenderedState:r},o.queue=c,o=pT.bind(null,Me,c),c.dispatch=o,c=ip(!1),g=cp.bind(null,Me,!1,c.queue),c=vn(),m={state:r,dispatch:null,action:i,pending:null},c.queue=m,o=SN.bind(null,Me,m,g,o),m.dispatch=o,c.memoizedState=i,[r,o,!1]}function W_(i){var r=Nt();return Z_(r,tt,i)}function Z_(i,r,o){if(r=tp(i,r,$_)[0],i=zh(Ds)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Tu(r)}catch(b){throw b===zo?Ih:b}else c=r;r=Nt();var m=r.queue,g=m.dispatch;return o!==r.memoizedState&&(Me.flags|=2048,Go(9,{destroy:void 0},AN.bind(null,m,o),null)),[c,g,i]}function AN(i,r){i.action=r}function J_(i){var r=Nt(),o=tt;if(o!==null)return Z_(r,o,i);Nt(),r=r.memoizedState,o=Nt();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function Go(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=Me.updateQueue,r===null&&(r=jh(),Me.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function eT(){return Nt().memoizedState}function Bh(i,r,o,c){var m=vn();Me.flags|=i,m.memoizedState=Go(1|r,{destroy:void 0},o,c===void 0?null:c)}function Fh(i,r,o,c){var m=Nt();c=c===void 0?null:c;var g=m.memoizedState.inst;tt!==null&&c!==null&&$m(c,tt.memoizedState.deps)?m.memoizedState=Go(r,g,o,c):(Me.flags|=i,m.memoizedState=Go(1|r,g,o,c))}function tT(i,r){Bh(8390656,8,i,r)}function rp(i,r){Fh(2048,8,i,r)}function xN(i){Me.flags|=4;var r=Me.updateQueue;if(r===null)r=jh(),Me.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function nT(i){var r=Nt().memoizedState;return xN({ref:r,nextImpl:i}),function(){if((Xe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function iT(i,r){return Fh(4,2,i,r)}function sT(i,r){return Fh(4,4,i,r)}function rT(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function aT(i,r,o){o=o!=null?o.concat([i]):null,Fh(4,4,rT.bind(null,r,i),o)}function ap(){}function oT(i,r){var o=Nt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&$m(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function lT(i,r){var o=Nt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&$m(r,c[1]))return c[0];if(c=i(),La){Xn(!0);try{i()}finally{Xn(!1)}}return o.memoizedState=[c,r],c}function op(i,r,o){return o===void 0||(Is&1073741824)!==0&&(Le&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=ub(),Me.lanes|=i,Er|=i,o)}function uT(i,r,o,c){return Ln(o,r)?o:Fo.current!==null?(i=op(i,o,c),Ln(i,r)||(Ut=!0),i):(Is&42)===0||(Is&1073741824)!==0&&(Le&261930)===0?(Ut=!0,i.memoizedState=o):(i=ub(),Me.lanes|=i,Er|=i,r)}function cT(i,r,o,c,m){var g=le.p;le.p=g!==0&&8>g?g:8;var b=W.T,A={};W.T=A,cp(i,!1,r,o);try{var k=m(),K=W.S;if(K!==null&&K(A,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var Z=bN(k,c);bu(i,r,Z,Hn(i))}else bu(i,r,c,Hn(i))}catch(ie){bu(i,r,{then:function(){},status:"rejected",reason:ie},Hn())}finally{le.p=g,b!==null&&A.types!==null&&(b.types=A.types),W.T=b}}function CN(){}function lp(i,r,o,c){if(i.tag!==5)throw Error(s(476));var m=hT(i).queue;cT(i,m,r,de,o===null?CN:function(){return fT(i),o(c)})}function hT(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:de},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function fT(i){var r=hT(i);r.next===null&&(r=i.alternate.memoizedState),bu(i,r.next.queue,{},Hn())}function up(){return sn(ju)}function dT(){return Nt().memoizedState}function mT(){return Nt().memoizedState}function RN(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=Hn();i=yr(o);var c=vr(r,i,o);c!==null&&(In(c,r,o),gu(c,r,o)),r={cache:jm()},i.payload=r;return}r=r.return}}function NN(i,r,o){var c=Hn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Hh(i)?gT(r,o):(o=Cm(i,r,o,c),o!==null&&(In(o,i,c),yT(o,r,c)))}function pT(i,r,o){var c=Hn();bu(i,r,o,c)}function bu(i,r,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Hh(i))gT(r,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var b=r.lastRenderedState,A=g(b,o);if(m.hasEagerState=!0,m.eagerState=A,Ln(A,b))return Eh(i,r,m,0),st===null&&wh(),!1}catch{}finally{}if(o=Cm(i,r,m,c),o!==null)return In(o,i,c),yT(o,r,c),!0}return!1}function cp(i,r,o,c){if(c={lane:2,revertLane:Fp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Hh(i)){if(r)throw Error(s(479))}else r=Cm(i,o,c,2),r!==null&&In(r,i,2)}function Hh(i){var r=i.alternate;return i===Me||r!==null&&r===Me}function gT(i,r){Ho=kh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function yT(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,Hl(i,o)}}var wu={readContext:sn,use:Uh,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};wu.useEffectEvent=bt;var vT={readContext:sn,use:Uh,useCallback:function(i,r){return vn().memoizedState=[i,r===void 0?null:r],i},useContext:sn,useEffect:tT,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Bh(4194308,4,rT.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Bh(4194308,4,i,r)},useInsertionEffect:function(i,r){Bh(4,2,i,r)},useMemo:function(i,r){var o=vn();r=r===void 0?null:r;var c=i();if(La){Xn(!0);try{i()}finally{Xn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=vn();if(o!==void 0){var m=o(r);if(La){Xn(!0);try{o(r)}finally{Xn(!1)}}}else m=r;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=NN.bind(null,Me,i),[c.memoizedState,i]},useRef:function(i){var r=vn();return i={current:i},r.memoizedState=i},useState:function(i){i=ip(i);var r=i.queue,o=pT.bind(null,Me,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:ap,useDeferredValue:function(i,r){var o=vn();return op(o,i,r)},useTransition:function(){var i=ip(!1);return i=cT.bind(null,Me,i.queue,!0,!1),vn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=Me,m=vn();if(He){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),st===null)throw Error(s(349));(Le&127)!==0||U_(c,r,o)}m.memoizedState=o;var g={value:o,getSnapshot:r};return m.queue=g,tT(B_.bind(null,c,g,i),[i]),c.flags|=2048,Go(9,{destroy:void 0},z_.bind(null,c,g,o,r),null),o},useId:function(){var i=vn(),r=st.identifierPrefix;if(He){var o=as,c=rs;o=(c&~(1<<32-xt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Lh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=wN++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:up,useFormState:Q_,useActionState:Q_,useOptimistic:function(i){var r=vn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=cp.bind(null,Me,!0,o),o.dispatch=r,[i,r]},useMemoCache:ep,useCacheRefresh:function(){return vn().memoizedState=RN.bind(null,Me)},useEffectEvent:function(i){var r=vn(),o={impl:i};return r.memoizedState=o,function(){if((Xe&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},hp={readContext:sn,use:Uh,useCallback:oT,useContext:sn,useEffect:rp,useImperativeHandle:aT,useInsertionEffect:iT,useLayoutEffect:sT,useMemo:lT,useReducer:zh,useRef:eT,useState:function(){return zh(Ds)},useDebugValue:ap,useDeferredValue:function(i,r){var o=Nt();return uT(o,tt.memoizedState,i,r)},useTransition:function(){var i=zh(Ds)[0],r=Nt().memoizedState;return[typeof i=="boolean"?i:Tu(i),r]},useSyncExternalStore:j_,useId:dT,useHostTransitionStatus:up,useFormState:W_,useActionState:W_,useOptimistic:function(i,r){var o=Nt();return q_(o,tt,i,r)},useMemoCache:ep,useCacheRefresh:mT};hp.useEffectEvent=nT;var _T={readContext:sn,use:Uh,useCallback:oT,useContext:sn,useEffect:rp,useImperativeHandle:aT,useInsertionEffect:iT,useLayoutEffect:sT,useMemo:lT,useReducer:np,useRef:eT,useState:function(){return np(Ds)},useDebugValue:ap,useDeferredValue:function(i,r){var o=Nt();return tt===null?op(o,i,r):uT(o,tt.memoizedState,i,r)},useTransition:function(){var i=np(Ds)[0],r=Nt().memoizedState;return[typeof i=="boolean"?i:Tu(i),r]},useSyncExternalStore:j_,useId:dT,useHostTransitionStatus:up,useFormState:J_,useActionState:J_,useOptimistic:function(i,r){var o=Nt();return tt!==null?q_(o,tt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:ep,useCacheRefresh:mT};_T.useEffectEvent=nT;function fp(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var dp={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=Hn(),m=yr(c);m.payload=r,o!=null&&(m.callback=o),r=vr(i,m,c),r!==null&&(In(r,i,c),gu(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=Hn(),m=yr(c);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=vr(i,m,c),r!==null&&(In(r,i,c),gu(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=Hn(),c=yr(o);c.tag=2,r!=null&&(c.callback=r),r=vr(i,c,o),r!==null&&(In(r,i,o),gu(r,i,o))}};function TT(i,r,o,c,m,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,b):r.prototype&&r.prototype.isPureReactComponent?!lu(o,c)||!lu(m,g):!0}function bT(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&dp.enqueueReplaceState(r,r.state,null)}function ja(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function wT(i){bh(i)}function ET(i){console.error(i)}function ST(i){bh(i)}function qh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function AT(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function mp(i,r,o){return o=yr(o),o.tag=3,o.payload={element:null},o.callback=function(){qh(i,r)},o}function xT(i){return i=yr(i),i.tag=3,i}function CT(i,r,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;i.payload=function(){return m(g)},i.callback=function(){AT(r,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){AT(r,o,c),typeof m!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function IN(i,r,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Lo(r,o,m,!0),o=Un.current,o!==null){switch(o.tag){case 31:case 13:return si===null?nf():o.alternate===null&&wt===0&&(wt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Dh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),Up(i,c,m)),!1;case 22:return o.flags|=65536,c===Dh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),Up(i,c,m)),!1}throw Error(s(435,o.tag))}return Up(i,c,m),nf(),!1}if(He)return r=Un.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,c!==Pm&&(i=Error(s(422),{cause:c}),hu(ei(i,o)))):(c!==Pm&&(r=Error(s(423),{cause:c}),hu(ei(r,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=ei(c,o),m=mp(i.stateNode,c,m),qm(i,m),wt!==4&&(wt=2)),!1;var g=Error(s(520),{cause:c});if(g=ei(g,o),Iu===null?Iu=[g]:Iu.push(g),wt!==4&&(wt=2),r===null)return!0;c=ei(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=mp(o.stateNode,c,i),qm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Sr===null||!Sr.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=xT(m),CT(m,i,o,c),qm(o,m),!1}o=o.return}while(o!==null);return!1}var pp=Error(s(461)),Ut=!1;function rn(i,r,o,c){r.child=i===null?D_(r,null,o,c):ka(r,i.child,o,c)}function RT(i,r,o,c,m){o=o.render;var g=r.ref;if("ref"in c){var b={};for(var A in c)A!=="ref"&&(b[A]=c[A])}else b=c;return Ma(r),c=Qm(i,r,o,b,g,m),A=Wm(),i!==null&&!Ut?(Zm(i,r,m),Ms(i,r,m)):(He&&A&&Dm(r),r.flags|=1,rn(i,r,c,m),r.child)}function NT(i,r,o,c,m){if(i===null){var g=o.type;return typeof g=="function"&&!Rm(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,IT(i,r,g,c,m)):(i=Ah(o.type,null,c,r,r.mode,m),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Ep(i,m)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:lu,o(b,c)&&i.ref===r.ref)return Ms(i,r,m)}return r.flags|=1,i=xs(g,c),i.ref=r.ref,i.return=r,r.child=i}function IT(i,r,o,c,m){if(i!==null){var g=i.memoizedProps;if(lu(g,c)&&i.ref===r.ref)if(Ut=!1,r.pendingProps=c=g,Ep(i,m))(i.flags&131072)!==0&&(Ut=!0);else return r.lanes=i.lanes,Ms(i,r,m)}return gp(i,r,o,c,m)}function DT(i,r,o,c){var m=c.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=r.child=i.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,r.child=null;return MT(i,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Nh(r,g!==null?g.cachePool:null),g!==null?V_(r,g):Ym(),O_(r);else return c=r.lanes=536870912,MT(i,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Nh(r,g.cachePool),V_(r,g),Tr(),r.memoizedState=null):(i!==null&&Nh(r,null),Ym(),Tr());return rn(i,r,m,o),r.child}function Eu(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function MT(i,r,o,c,m){var g=zm();return g=g===null?null:{parent:Lt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&Nh(r,null),Ym(),O_(r),i!==null&&Lo(i,r,c,!0),r.childLanes=m,null}function Gh(i,r){return r=Kh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function PT(i,r,o){return ka(r,i.child,null,o),i=Gh(r,r.pendingProps),i.flags|=2,zn(r),r.memoizedState=null,i}function DN(i,r,o){var c=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(He){if(c.mode==="hidden")return i=Gh(r,c),r.lanes=536870912,Eu(null,i);if(Xm(r),(i=ot)?(i=Gb(i,ii),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:fr!==null?{id:rs,overflow:as}:null,retryLane:536870912,hydrationErrors:null},o=g_(i),o.return=r,r.child=o,nn=r,ot=null)):i=null,i===null)throw mr(r);return r.lanes=536870912,null}return Gh(r,c)}var g=i.memoizedState;if(g!==null){var b=g.dehydrated;if(Xm(r),m)if(r.flags&256)r.flags&=-257,r=PT(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ut||Lo(i,r,o,!1),m=(o&i.childLanes)!==0,Ut||m){if(c=st,c!==null&&(b=ql(c,o),b!==0&&b!==g.retryLane))throw g.retryLane=b,Ra(i,b),In(c,i,b),pp;nf(),r=PT(i,r,o)}else i=g.treeContext,ot=ri(b.nextSibling),nn=r,He=!0,dr=null,ii=!1,i!==null&&__(r,i),r=Gh(r,c),r.flags|=4096;return r}return i=xs(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Yh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function gp(i,r,o,c,m){return Ma(r),o=Qm(i,r,o,c,void 0,m),c=Wm(),i!==null&&!Ut?(Zm(i,r,m),Ms(i,r,m)):(He&&c&&Dm(r),r.flags|=1,rn(i,r,o,m),r.child)}function VT(i,r,o,c,m,g){return Ma(r),r.updateQueue=null,o=L_(r,c,o,m),k_(i),c=Wm(),i!==null&&!Ut?(Zm(i,r,g),Ms(i,r,g)):(He&&c&&Dm(r),r.flags|=1,rn(i,r,o,g),r.child)}function OT(i,r,o,c,m){if(Ma(r),r.stateNode===null){var g=Po,b=o.contextType;typeof b=="object"&&b!==null&&(g=sn(b)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=dp,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},Fm(r),b=o.contextType,g.context=typeof b=="object"&&b!==null?sn(b):Po,g.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(fp(r,o,b,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&dp.enqueueReplaceState(g,g.state,null),vu(r,c,g,m),yu(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){g=r.stateNode;var A=r.memoizedProps,k=ja(o,A);g.props=k;var K=g.context,Z=o.contextType;b=Po,typeof Z=="object"&&Z!==null&&(b=sn(Z));var ie=o.getDerivedStateFromProps;Z=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||K!==b)&&bT(r,g,c,b),gr=!1;var X=r.memoizedState;g.state=X,vu(r,c,g,m),yu(),K=r.memoizedState,A||X!==K||gr?(typeof ie=="function"&&(fp(r,o,ie,c),K=r.memoizedState),(k=gr||TT(r,o,k,c,X,K,b))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=K),g.props=c,g.state=K,g.context=b,c=k):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,Hm(i,r),b=r.memoizedProps,Z=ja(o,b),g.props=Z,ie=r.pendingProps,X=g.context,K=o.contextType,k=Po,typeof K=="object"&&K!==null&&(k=sn(K)),A=o.getDerivedStateFromProps,(K=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==ie||X!==k)&&bT(r,g,c,k),gr=!1,X=r.memoizedState,g.state=X,vu(r,c,g,m),yu();var Q=r.memoizedState;b!==ie||X!==Q||gr||i!==null&&i.dependencies!==null&&Ch(i.dependencies)?(typeof A=="function"&&(fp(r,o,A,c),Q=r.memoizedState),(Z=gr||TT(r,o,Z,c,X,Q,k)||i!==null&&i.dependencies!==null&&Ch(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,Q,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,Q,k)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=Q),g.props=c,g.state=Q,g.context=k,c=Z):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&X===i.memoizedState||(r.flags|=1024),c=!1)}return g=c,Yh(i,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&c?(r.child=ka(r,i.child,null,m),r.child=ka(r,null,o,m)):rn(i,r,o,m),r.memoizedState=g.state,i=r.child):i=Ms(i,r,m),i}function kT(i,r,o,c){return Ia(),r.flags|=256,rn(i,r,o,c),r.child}var yp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vp(i){return{baseLanes:i,cachePool:A_()}}function _p(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Fn),i}function LT(i,r,o){var c=r.pendingProps,m=!1,g=(r.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(Rt.current&2)!==0),b&&(m=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,i===null){if(He){if(m?_r(r):Tr(),(i=ot)?(i=Gb(i,ii),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:fr!==null?{id:rs,overflow:as}:null,retryLane:536870912,hydrationErrors:null},o=g_(i),o.return=r,r.child=o,nn=r,ot=null)):i=null,i===null)throw mr(r);return tg(i)?r.lanes=32:r.lanes=536870912,null}var A=c.children;return c=c.fallback,m?(Tr(),m=r.mode,A=Kh({mode:"hidden",children:A},m),c=Na(c,m,o,null),A.return=r,c.return=r,A.sibling=c,r.child=A,c=r.child,c.memoizedState=vp(o),c.childLanes=_p(i,b,o),r.memoizedState=yp,Eu(null,c)):(_r(r),Tp(r,A))}var k=i.memoizedState;if(k!==null&&(A=k.dehydrated,A!==null)){if(g)r.flags&256?(_r(r),r.flags&=-257,r=bp(i,r,o)):r.memoizedState!==null?(Tr(),r.child=i.child,r.flags|=128,r=null):(Tr(),A=c.fallback,m=r.mode,c=Kh({mode:"visible",children:c.children},m),A=Na(A,m,o,null),A.flags|=2,c.return=r,A.return=r,c.sibling=A,r.child=c,ka(r,i.child,null,o),c=r.child,c.memoizedState=vp(o),c.childLanes=_p(i,b,o),r.memoizedState=yp,r=Eu(null,c));else if(_r(r),tg(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var K=b.dgst;b=K,c=Error(s(419)),c.stack="",c.digest=b,hu({value:c,source:null,stack:null}),r=bp(i,r,o)}else if(Ut||Lo(i,r,o,!1),b=(o&i.childLanes)!==0,Ut||b){if(b=st,b!==null&&(c=ql(b,o),c!==0&&c!==k.retryLane))throw k.retryLane=c,Ra(i,c),In(b,i,c),pp;eg(A)||nf(),r=bp(i,r,o)}else eg(A)?(r.flags|=192,r.child=i.child,r=null):(i=k.treeContext,ot=ri(A.nextSibling),nn=r,He=!0,dr=null,ii=!1,i!==null&&__(r,i),r=Tp(r,c.children),r.flags|=4096);return r}return m?(Tr(),A=c.fallback,m=r.mode,k=i.child,K=k.sibling,c=xs(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,K!==null?A=xs(K,A):(A=Na(A,m,o,null),A.flags|=2),A.return=r,c.return=r,c.sibling=A,r.child=c,Eu(null,c),c=r.child,A=i.child.memoizedState,A===null?A=vp(o):(m=A.cachePool,m!==null?(k=Lt._currentValue,m=m.parent!==k?{parent:k,pool:k}:m):m=A_(),A={baseLanes:A.baseLanes|o,cachePool:m}),c.memoizedState=A,c.childLanes=_p(i,b,o),r.memoizedState=yp,Eu(i.child,c)):(_r(r),o=i.child,i=o.sibling,o=xs(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(b=r.deletions,b===null?(r.deletions=[i],r.flags|=16):b.push(i)),r.child=o,r.memoizedState=null,o)}function Tp(i,r){return r=Kh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Kh(i,r){return i=jn(22,i,null,r),i.lanes=0,i}function bp(i,r,o){return ka(r,i.child,null,o),i=Tp(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function jT(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),km(i.return,r,o)}function wp(i,r,o,c,m,g){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=o,b.tailMode=m,b.treeForkCount=g)}function UT(i,r,o){var c=r.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var b=Rt.current,A=(b&2)!==0;if(A?(b=b&1|2,r.flags|=128):b&=1,ce(Rt,b),rn(i,r,c,o),c=He?cu:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&jT(i,o,r);else if(i.tag===19)jT(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)i=o.alternate,i!==null&&Oh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),wp(r,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(i=m.alternate,i!==null&&Oh(i)===null){r.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}wp(r,!0,o,null,g,c);break;case"together":wp(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Ms(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Er|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(Lo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=xs(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=xs(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Ep(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Ch(i)))}function MN(i,r,o){switch(r.tag){case 3:_e(r,r.stateNode.containerInfo),pr(r,Lt,i.memoizedState.cache),Ia();break;case 27:case 5:pt(r);break;case 4:_e(r,r.stateNode.containerInfo);break;case 10:pr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Xm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(_r(r),r.flags|=128,null):(o&r.child.childLanes)!==0?LT(i,r,o):(_r(r),i=Ms(i,r,o),i!==null?i.sibling:null);_r(r);break;case 19:var m=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Lo(i,r,o,!1),c=(o&r.childLanes)!==0),m){if(c)return UT(i,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ce(Rt,Rt.current),c)break;return null;case 22:return r.lanes=0,DT(i,r,o,r.pendingProps);case 24:pr(r,Lt,i.memoizedState.cache)}return Ms(i,r,o)}function zT(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ut=!0;else{if(!Ep(i,o)&&(r.flags&128)===0)return Ut=!1,MN(i,r,o);Ut=(i.flags&131072)!==0}else Ut=!1,He&&(r.flags&1048576)!==0&&v_(r,cu,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=Va(r.elementType),r.type=i,typeof i=="function")Rm(i)?(c=ja(i,c),r.tag=1,r=OT(null,r,i,c,o)):(r.tag=0,r=gp(null,r,i,c,o));else{if(i!=null){var m=i.$$typeof;if(m===ae){r.tag=11,r=RT(null,r,i,c,o);break e}else if(m===N){r.tag=14,r=NT(null,r,i,c,o);break e}}throw r=Fe(i)||i,Error(s(306,r,""))}}return r;case 0:return gp(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,m=ja(c,r.pendingProps),OT(i,r,c,m,o);case 3:e:{if(_e(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var g=r.memoizedState;m=g.element,Hm(i,r),vu(r,c,null,o);var b=r.memoizedState;if(c=b.cache,pr(r,Lt,c),c!==g.cache&&Lm(r,[Lt],o,!0),yu(),c=b.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=kT(i,r,c,o);break e}else if(c!==m){m=ei(Error(s(424)),r),hu(m),r=kT(i,r,c,o);break e}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ot=ri(i.firstChild),nn=r,He=!0,dr=null,ii=!0,o=D_(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ia(),c===m){r=Ms(i,r,o);break e}rn(i,r,c,o)}r=r.child}return r;case 26:return Yh(i,r),i===null?(o=Wb(r.type,null,r.pendingProps,null))?r.memoizedState=o:He||(o=r.type,i=r.pendingProps,c=cf(Ce.current).createElement(o),c[Vt]=r,c[$t]=i,an(c,o,i),Ot(c),r.stateNode=c):r.memoizedState=Wb(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return pt(r),i===null&&He&&(c=r.stateNode=Xb(r.type,r.pendingProps,Ce.current),nn=r,ii=!0,m=ot,Rr(r.type)?(ng=m,ot=ri(c.firstChild)):ot=m),rn(i,r,r.pendingProps.children,o),Yh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&He&&((m=c=ot)&&(c=lI(c,r.type,r.pendingProps,ii),c!==null?(r.stateNode=c,nn=r,ot=ri(c.firstChild),ii=!1,m=!0):m=!1),m||mr(r)),pt(r),m=r.type,g=r.pendingProps,b=i!==null?i.memoizedProps:null,c=g.children,Wp(m,g)?c=null:b!==null&&Wp(m,b)&&(r.flags|=32),r.memoizedState!==null&&(m=Qm(i,r,EN,null,null,o),ju._currentValue=m),Yh(i,r),rn(i,r,c,o),r.child;case 6:return i===null&&He&&((i=o=ot)&&(o=uI(o,r.pendingProps,ii),o!==null?(r.stateNode=o,nn=r,ot=null,i=!0):i=!1),i||mr(r)),null;case 13:return LT(i,r,o);case 4:return _e(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=ka(r,null,c,o):rn(i,r,c,o),r.child;case 11:return RT(i,r,r.type,r.pendingProps,o);case 7:return rn(i,r,r.pendingProps,o),r.child;case 8:return rn(i,r,r.pendingProps.children,o),r.child;case 12:return rn(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,pr(r,r.type,c.value),rn(i,r,c.children,o),r.child;case 9:return m=r.type._context,c=r.pendingProps.children,Ma(r),m=sn(m),c=c(m),r.flags|=1,rn(i,r,c,o),r.child;case 14:return NT(i,r,r.type,r.pendingProps,o);case 15:return IT(i,r,r.type,r.pendingProps,o);case 19:return UT(i,r,o);case 31:return DN(i,r,o);case 22:return DT(i,r,o,r.pendingProps);case 24:return Ma(r),c=sn(Lt),i===null?(m=zm(),m===null&&(m=st,g=jm(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),r.memoizedState={parent:c,cache:m},Fm(r),pr(r,Lt,m)):((i.lanes&o)!==0&&(Hm(i,r),vu(r,null,null,o),yu()),m=i.memoizedState,g=r.memoizedState,m.parent!==c?(m={parent:c,cache:c},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),pr(r,Lt,c)):(c=g.cache,pr(r,Lt,c),c!==m.cache&&Lm(r,[Lt],o,!0))),rn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ps(i){i.flags|=4}function Sp(i,r,o,c,m){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(db())i.flags|=8192;else throw Oa=Dh,Bm}else i.flags&=-16777217}function BT(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!nw(r))if(db())i.flags|=8192;else throw Oa=Dh,Bm}function Xh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?eh():536870912,i.lanes|=r,$o|=r)}function Su(i,r){if(!He)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function lt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function PN(i,r,o){var c=r.pendingProps;switch(Mm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Ns(Lt),we(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(ko(r)?Ps(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Vm())),lt(r),null;case 26:var m=r.type,g=r.memoizedState;return i===null?(Ps(r),g!==null?(lt(r),BT(r,g)):(lt(r),Sp(r,m,null,c,o))):g?g!==i.memoizedState?(Ps(r),lt(r),BT(r,g)):(lt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&Ps(r),lt(r),Sp(r,m,i,c,o)),null;case 27:if(bn(r),o=Ce.current,m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Ps(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return lt(r),null}i=he.current,ko(r)?T_(r):(i=Xb(m,c,o),r.stateNode=i,Ps(r))}return lt(r),null;case 5:if(bn(r),m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Ps(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return lt(r),null}if(g=he.current,ko(r))T_(r);else{var b=cf(Ce.current);switch(g){case 1:g=b.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=b.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=b.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=b.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?b.createElement(m,{is:c.is}):b.createElement(m)}}g[Vt]=r,g[$t]=c;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)g.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=g;e:switch(an(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ps(r)}}return lt(r),Sp(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&Ps(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=Ce.current,ko(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,m=nn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[Vt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Lb(i.nodeValue,o)),i||mr(r,!0)}else i=cf(i).createTextNode(c),i[Vt]=r,r.stateNode=i}return lt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=ko(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Vt]=r}else Ia(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),i=!1}else o=Vm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(zn(r),r):(zn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return lt(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=ko(r),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[Vt]=r}else Ia(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),m=!1}else m=Vm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(zn(r),r):(zn(r),null)}return zn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Xh(r,r.updateQueue),lt(r),null);case 4:return we(),i===null&&Yp(r.stateNode.containerInfo),lt(r),null;case 10:return Ns(r.type),lt(r),null;case 19:if(te(Rt),c=r.memoizedState,c===null)return lt(r),null;if(m=(r.flags&128)!==0,g=c.rendering,g===null)if(m)Su(c,!1);else{if(wt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Oh(i),g!==null){for(r.flags|=128,Su(c,!1),i=g.updateQueue,r.updateQueue=i,Xh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)p_(o,i),o=o.sibling;return ce(Rt,Rt.current&1|2),He&&Cs(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&Jt()>Jh&&(r.flags|=128,m=!0,Su(c,!1),r.lanes=4194304)}else{if(!m)if(i=Oh(g),i!==null){if(r.flags|=128,m=!0,i=i.updateQueue,r.updateQueue=i,Xh(r,i),Su(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!He)return lt(r),null}else 2*Jt()-c.renderingStartTime>Jh&&o!==536870912&&(r.flags|=128,m=!0,Su(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(i=c.last,i!==null?i.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=Jt(),i.sibling=null,o=Rt.current,ce(Rt,m?o&1|2:o&1),He&&Cs(r,c.treeForkCount),i):(lt(r),null);case 22:case 23:return zn(r),Km(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),o=r.updateQueue,o!==null&&Xh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&te(Pa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Ns(Lt),lt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function VN(i,r){switch(Mm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Ns(Lt),we(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return bn(r),null;case 31:if(r.memoizedState!==null){if(zn(r),r.alternate===null)throw Error(s(340));Ia()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(zn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ia()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return te(Rt),null;case 4:return we(),null;case 10:return Ns(r.type),null;case 22:case 23:return zn(r),Km(),i!==null&&te(Pa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Ns(Lt),null;case 25:return null;default:return null}}function FT(i,r){switch(Mm(r),r.tag){case 3:Ns(Lt),we();break;case 26:case 27:case 5:bn(r);break;case 4:we();break;case 31:r.memoizedState!==null&&zn(r);break;case 13:zn(r);break;case 19:te(Rt);break;case 10:Ns(r.type);break;case 22:case 23:zn(r),Km(),i!==null&&te(Pa);break;case 24:Ns(Lt)}}function Au(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var g=o.create,b=o.inst;c=g(),b.destroy=c}o=o.next}while(o!==m)}}catch(A){Je(r,r.return,A)}}function br(i,r,o){try{var c=r.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&i)===i){var b=c.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,m=r;var k=o,K=A;try{K()}catch(Z){Je(m,k,Z)}}}c=c.next}while(c!==g)}}catch(Z){Je(r,r.return,Z)}}function HT(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{P_(r,o)}catch(c){Je(i,i.return,c)}}}function qT(i,r,o){o.props=ja(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){Je(i,r,c)}}function xu(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(m){Je(i,r,m)}}function os(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Je(i,r,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Je(i,r,m)}else o.current=null}function GT(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Je(i,i.return,m)}}function Ap(i,r,o){try{var c=i.stateNode;nI(c,i.type,o,r),c[$t]=r}catch(m){Je(i,i.return,m)}}function YT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Rr(i.type)||i.tag===4}function xp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||YT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Rr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Cp(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ai));else if(c!==4&&(c===27&&Rr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(Cp(i,r,o),i=i.sibling;i!==null;)Cp(i,r,o),i=i.sibling}function $h(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&Rr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for($h(i,r,o),i=i.sibling;i!==null;)$h(i,r,o),i=i.sibling}function KT(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);an(r,c,o),r[Vt]=i,r[$t]=o}catch(g){Je(i,i.return,g)}}var Vs=!1,zt=!1,Rp=!1,XT=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function ON(i,r){if(i=i.containerInfo,$p=yf,i=a_(i),bm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,A=-1,k=-1,K=0,Z=0,ie=i,X=null;t:for(;;){for(var Q;ie!==o||m!==0&&ie.nodeType!==3||(A=b+m),ie!==g||c!==0&&ie.nodeType!==3||(k=b+c),ie.nodeType===3&&(b+=ie.nodeValue.length),(Q=ie.firstChild)!==null;)X=ie,ie=Q;for(;;){if(ie===i)break t;if(X===o&&++K===m&&(A=b),X===g&&++Z===c&&(k=b),(Q=ie.nextSibling)!==null)break;ie=X,X=ie.parentNode}ie=Q}o=A===-1||k===-1?null:{start:A,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(Qp={focusedElem:i,selectionRange:o},yf=!1,Wt=r;Wt!==null;)if(r=Wt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,Wt=i;else for(;Wt!==null;){switch(r=Wt,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var pe=ja(o.type,m);i=c.getSnapshotBeforeUpdate(pe,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(be){Je(o,o.return,be)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Jp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Jp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,Wt=i;break}Wt=r.return}}function $T(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ks(i,o),c&4&&Au(5,o);break;case 1:if(ks(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(b){Je(o,o.return,b)}else{var m=ja(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(m,r,i.__reactInternalSnapshotBeforeUpdate)}catch(b){Je(o,o.return,b)}}c&64&&HT(o),c&512&&xu(o,o.return);break;case 3:if(ks(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{P_(i,r)}catch(b){Je(o,o.return,b)}}break;case 27:r===null&&c&4&&KT(o);case 26:case 5:ks(i,o),r===null&&c&4&&GT(o),c&512&&xu(o,o.return);break;case 12:ks(i,o);break;case 31:ks(i,o),c&4&&ZT(i,o);break;case 13:ks(i,o),c&4&&JT(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=qN.bind(null,o),cI(i,o))));break;case 22:if(c=o.memoizedState!==null||Vs,!c){r=r!==null&&r.memoizedState!==null||zt,m=Vs;var g=zt;Vs=c,(zt=r)&&!g?Ls(i,o,(o.subtreeFlags&8772)!==0):ks(i,o),Vs=m,zt=g}break;case 30:break;default:ks(i,o)}}function QT(i){var r=i.alternate;r!==null&&(i.alternate=null,QT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&_o(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ht=null,xn=!1;function Os(i,r,o){for(o=o.child;o!==null;)WT(i,r,o),o=o.sibling}function WT(i,r,o){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(bi,o)}catch{}switch(o.tag){case 26:zt||os(o,r),Os(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:zt||os(o,r);var c=ht,m=xn;Rr(o.type)&&(ht=o.stateNode,xn=!1),Os(i,r,o),Ou(o.stateNode),ht=c,xn=m;break;case 5:zt||os(o,r);case 6:if(c=ht,m=xn,ht=null,Os(i,r,o),ht=c,xn=m,ht!==null)if(xn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(o.stateNode)}catch(g){Je(o,r,g)}else try{ht.removeChild(o.stateNode)}catch(g){Je(o,r,g)}break;case 18:ht!==null&&(xn?(i=ht,Hb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),il(i)):Hb(ht,o.stateNode));break;case 4:c=ht,m=xn,ht=o.stateNode.containerInfo,xn=!0,Os(i,r,o),ht=c,xn=m;break;case 0:case 11:case 14:case 15:br(2,o,r),zt||br(4,o,r),Os(i,r,o);break;case 1:zt||(os(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&qT(o,r,c)),Os(i,r,o);break;case 21:Os(i,r,o);break;case 22:zt=(c=zt)||o.memoizedState!==null,Os(i,r,o),zt=c;break;default:Os(i,r,o)}}function ZT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{il(i)}catch(o){Je(r,r.return,o)}}}function JT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{il(i)}catch(o){Je(r,r.return,o)}}function kN(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new XT),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new XT),r;default:throw Error(s(435,i.tag))}}function Qh(i,r){var o=kN(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var m=GN.bind(null,i,c);c.then(m,m)}})}function Cn(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=i,b=r,A=b;e:for(;A!==null;){switch(A.tag){case 27:if(Rr(A.type)){ht=A.stateNode,xn=!1;break e}break;case 5:ht=A.stateNode,xn=!1;break e;case 3:case 4:ht=A.stateNode.containerInfo,xn=!0;break e}A=A.return}if(ht===null)throw Error(s(160));WT(g,b,m),ht=null,xn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)eb(r,i),r=r.sibling}var Di=null;function eb(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Cn(r,i),Rn(i),c&4&&(br(3,i,i.return),Au(3,i),br(5,i,i.return));break;case 1:Cn(r,i),Rn(i),c&512&&(zt||o===null||os(o,o.return)),c&64&&Vs&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Di;if(Cn(r,i),Rn(i),c&512&&(zt||o===null||os(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Ki]||g[Vt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),an(g,c,o),g[Vt]=i,Ot(g),c=g;break e;case"link":var b=ew("link","href",m).get(c+(o.href||""));if(b){for(var A=0;A<b.length;A++)if(g=b[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(A,1);break t}}g=m.createElement(c),an(g,c,o),m.head.appendChild(g);break;case"meta":if(b=ew("meta","content",m).get(c+(o.content||""))){for(A=0;A<b.length;A++)if(g=b[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(A,1);break t}}g=m.createElement(c),an(g,c,o),m.head.appendChild(g);break;default:throw Error(s(468,c))}g[Vt]=i,Ot(g),c=g}i.stateNode=c}else tw(m,i.type,i.stateNode);else i.stateNode=Jb(m,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?tw(m,i.type,i.stateNode):Jb(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Ap(i,i.memoizedProps,o.memoizedProps)}break;case 27:Cn(r,i),Rn(i),c&512&&(zt||o===null||os(o,o.return)),o!==null&&c&4&&Ap(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Cn(r,i),Rn(i),c&512&&(zt||o===null||os(o,o.return)),i.flags&32){m=i.stateNode;try{An(m,"")}catch(pe){Je(i,i.return,pe)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,Ap(i,m,o!==null?o.memoizedProps:m)),c&1024&&(Rp=!0);break;case 6:if(Cn(r,i),Rn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(pe){Je(i,i.return,pe)}}break;case 3:if(df=null,m=Di,Di=hf(r.containerInfo),Cn(r,i),Di=m,Rn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{il(r.containerInfo)}catch(pe){Je(i,i.return,pe)}Rp&&(Rp=!1,tb(i));break;case 4:c=Di,Di=hf(i.stateNode.containerInfo),Cn(r,i),Rn(i),Di=c;break;case 12:Cn(r,i),Rn(i);break;case 31:Cn(r,i),Rn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Qh(i,c)));break;case 13:Cn(r,i),Rn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Zh=Jt()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Qh(i,c)));break;case 22:m=i.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,K=Vs,Z=zt;if(Vs=K||m,zt=Z||k,Cn(r,i),zt=Z,Vs=K,Rn(i),c&8192)e:for(r=i.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||k||Vs||zt||Ua(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){k=o=r;try{if(g=k.stateNode,m)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=k.stateNode;var ie=k.memoizedProps.style,X=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;A.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(pe){Je(k,k.return,pe)}}}else if(r.tag===6){if(o===null){k=r;try{k.stateNode.nodeValue=m?"":k.memoizedProps}catch(pe){Je(k,k.return,pe)}}}else if(r.tag===18){if(o===null){k=r;try{var Q=k.stateNode;m?qb(Q,!0):qb(k.stateNode,!1)}catch(pe){Je(k,k.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Qh(i,o))));break;case 19:Cn(r,i),Rn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Qh(i,c)));break;case 30:break;case 21:break;default:Cn(r,i),Rn(i)}}function Rn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if(YT(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,g=xp(i);$h(i,g,m);break;case 5:var b=o.stateNode;o.flags&32&&(An(b,""),o.flags&=-33);var A=xp(i);$h(i,A,b);break;case 3:case 4:var k=o.stateNode.containerInfo,K=xp(i);Cp(i,K,k);break;default:throw Error(s(161))}}catch(Z){Je(i,i.return,Z)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function tb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;tb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ks(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)$T(i,r.alternate,r),r=r.sibling}function Ua(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:br(4,r,r.return),Ua(r);break;case 1:os(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&qT(r,r.return,o),Ua(r);break;case 27:Ou(r.stateNode);case 26:case 5:os(r,r.return),Ua(r);break;case 22:r.memoizedState===null&&Ua(r);break;case 30:Ua(r);break;default:Ua(r)}i=i.sibling}}function Ls(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,m=i,g=r,b=g.flags;switch(g.tag){case 0:case 11:case 15:Ls(m,g,o),Au(4,g);break;case 1:if(Ls(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(K){Je(c,c.return,K)}if(c=g,m=c.updateQueue,m!==null){var A=c.stateNode;try{var k=m.shared.hiddenCallbacks;if(k!==null)for(m.shared.hiddenCallbacks=null,m=0;m<k.length;m++)M_(k[m],A)}catch(K){Je(c,c.return,K)}}o&&b&64&&HT(g),xu(g,g.return);break;case 27:KT(g);case 26:case 5:Ls(m,g,o),o&&c===null&&b&4&&GT(g),xu(g,g.return);break;case 12:Ls(m,g,o);break;case 31:Ls(m,g,o),o&&b&4&&ZT(m,g);break;case 13:Ls(m,g,o),o&&b&4&&JT(m,g);break;case 22:g.memoizedState===null&&Ls(m,g,o),xu(g,g.return);break;case 30:break;default:Ls(m,g,o)}r=r.sibling}}function Np(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&fu(o))}function Ip(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&fu(i))}function Mi(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)nb(i,r,o,c),r=r.sibling}function nb(i,r,o,c){var m=r.flags;switch(r.tag){case 0:case 11:case 15:Mi(i,r,o,c),m&2048&&Au(9,r);break;case 1:Mi(i,r,o,c);break;case 3:Mi(i,r,o,c),m&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&fu(i)));break;case 12:if(m&2048){Mi(i,r,o,c),i=r.stateNode;try{var g=r.memoizedProps,b=g.id,A=g.onPostCommit;typeof A=="function"&&A(b,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(k){Je(r,r.return,k)}}else Mi(i,r,o,c);break;case 31:Mi(i,r,o,c);break;case 13:Mi(i,r,o,c);break;case 23:break;case 22:g=r.stateNode,b=r.alternate,r.memoizedState!==null?g._visibility&2?Mi(i,r,o,c):Cu(i,r):g._visibility&2?Mi(i,r,o,c):(g._visibility|=2,Yo(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),m&2048&&Np(b,r);break;case 24:Mi(i,r,o,c),m&2048&&Ip(r.alternate,r);break;default:Mi(i,r,o,c)}}function Yo(i,r,o,c,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,b=r,A=o,k=c,K=b.flags;switch(b.tag){case 0:case 11:case 15:Yo(g,b,A,k,m),Au(8,b);break;case 23:break;case 22:var Z=b.stateNode;b.memoizedState!==null?Z._visibility&2?Yo(g,b,A,k,m):Cu(g,b):(Z._visibility|=2,Yo(g,b,A,k,m)),m&&K&2048&&Np(b.alternate,b);break;case 24:Yo(g,b,A,k,m),m&&K&2048&&Ip(b.alternate,b);break;default:Yo(g,b,A,k,m)}r=r.sibling}}function Cu(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,m=c.flags;switch(c.tag){case 22:Cu(o,c),m&2048&&Np(c.alternate,c);break;case 24:Cu(o,c),m&2048&&Ip(c.alternate,c);break;default:Cu(o,c)}r=r.sibling}}var Ru=8192;function Ko(i,r,o){if(i.subtreeFlags&Ru)for(i=i.child;i!==null;)ib(i,r,o),i=i.sibling}function ib(i,r,o){switch(i.tag){case 26:Ko(i,r,o),i.flags&Ru&&i.memoizedState!==null&&wI(o,Di,i.memoizedState,i.memoizedProps);break;case 5:Ko(i,r,o);break;case 3:case 4:var c=Di;Di=hf(i.stateNode.containerInfo),Ko(i,r,o),Di=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Ru,Ru=16777216,Ko(i,r,o),Ru=c):Ko(i,r,o));break;default:Ko(i,r,o)}}function sb(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Nu(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Wt=c,ab(c,i)}sb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)rb(i),i=i.sibling}function rb(i){switch(i.tag){case 0:case 11:case 15:Nu(i),i.flags&2048&&br(9,i,i.return);break;case 3:Nu(i);break;case 12:Nu(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Wh(i)):Nu(i);break;default:Nu(i)}}function Wh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Wt=c,ab(c,i)}sb(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:br(8,r,r.return),Wh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Wh(r));break;default:Wh(r)}i=i.sibling}}function ab(i,r){for(;Wt!==null;){var o=Wt;switch(o.tag){case 0:case 11:case 15:br(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:fu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Wt=c;else e:for(o=i;Wt!==null;){c=Wt;var m=c.sibling,g=c.return;if(QT(c),c===o){Wt=null;break e}if(m!==null){m.return=g,Wt=m;break e}Wt=g}}}var LN={getCacheForType:function(i){var r=sn(Lt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return sn(Lt).controller.signal}},jN=typeof WeakMap=="function"?WeakMap:Map,Xe=0,st=null,Oe=null,Le=0,Ze=0,Bn=null,wr=!1,Xo=!1,Dp=!1,js=0,wt=0,Er=0,za=0,Mp=0,Fn=0,$o=0,Iu=null,Nn=null,Pp=!1,Zh=0,ob=0,Jh=1/0,ef=null,Sr=null,Gt=0,Ar=null,Qo=null,Us=0,Vp=0,Op=null,lb=null,Du=0,kp=null;function Hn(){return(Xe&2)!==0&&Le!==0?Le&-Le:W.T!==null?Fp():th()}function ub(){if(Fn===0)if((Le&536870912)===0||He){var i=da;da<<=1,(da&3932160)===0&&(da=262144),Fn=i}else Fn=536870912;return i=Un.current,i!==null&&(i.flags|=32),Fn}function In(i,r,o){(i===st&&(Ze===2||Ze===9)||i.cancelPendingCommit!==null)&&(Wo(i,0),xr(i,Le,Fn,!1)),ma(i,o),((Xe&2)===0||i!==st)&&(i===st&&((Xe&2)===0&&(za|=o),wt===4&&xr(i,Le,Fn,!1)),ls(i))}function cb(i,r,o){if((Xe&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||wi(i,r),m=c?BN(i,r):jp(i,r,!0),g=c;do{if(m===0){Xo&&!c&&xr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!UN(o)){m=jp(i,r,!1),g=!1;continue}if(m===2){if(g=r,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var A=i;m=Iu;var k=A.current.memoizedState.isDehydrated;if(k&&(Wo(A,b).flags|=256),b=jp(A,b,!1),b!==2){if(Dp&&!k){A.errorRecoveryDisabledLanes|=g,za|=g,m=4;break e}g=Nn,Nn=m,g!==null&&(Nn===null?Nn=g:Nn.push.apply(Nn,g))}m=b}if(g=!1,m!==2)continue}}if(m===1){Wo(i,0),xr(i,r,0,!0);break}e:{switch(c=i,g=m,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:xr(c,r,Fn,!wr);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(m=Zh+300-Jt(),10<m)){if(xr(c,r,Fn,!wr),qi(c,0,!0)!==0)break e;Us=r,c.timeoutHandle=Bb(hb.bind(null,c,o,Nn,ef,Pp,r,Fn,za,$o,wr,g,"Throttled",-0,0),m);break e}hb(c,o,Nn,ef,Pp,r,Fn,za,$o,wr,g,null,-0,0)}}break}while(!0);ls(i)}function hb(i,r,o,c,m,g,b,A,k,K,Z,ie,X,Q){if(i.timeoutHandle=-1,ie=r.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ai},ib(r,g,ie);var pe=(g&62914560)===g?Zh-Jt():(g&4194048)===g?ob-Jt():0;if(pe=EI(ie,pe),pe!==null){Us=g,i.cancelPendingCommit=pe(_b.bind(null,i,r,g,o,c,m,b,A,k,Z,ie,null,X,Q)),xr(i,g,b,!K);return}}_b(i,r,g,o,c,m,b,A,k)}function UN(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!Ln(g(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function xr(i,r,o,c){r&=~Mp,r&=~za,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var m=r;0<m;){var g=31-xt(m),b=1<<g;c[g]=-1,m&=~b}o!==0&&pa(i,o,r)}function tf(){return(Xe&6)===0?(Mu(0),!1):!0}function Lp(){if(Oe!==null){if(Ze===0)var i=Oe.return;else i=Oe,Rs=Da=null,Jm(i),Bo=null,mu=0,i=Oe;for(;i!==null;)FT(i.alternate,i),i=i.return;Oe=null}}function Wo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,rI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Us=0,Lp(),st=i,Oe=o=xs(i.current,null),Le=r,Ze=0,Bn=null,wr=!1,Xo=wi(i,r),Dp=!1,$o=Fn=Mp=za=Er=wt=0,Nn=Iu=null,Pp=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var m=31-xt(c),g=1<<m;r|=i[m],c&=~g}return js=r,wh(),o}function fb(i,r){Me=null,W.H=wu,r===zo||r===Ih?(r=R_(),Ze=3):r===Bm?(r=R_(),Ze=4):Ze=r===pp?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Bn=r,Oe===null&&(wt=1,qh(i,ei(r,i.current)))}function db(){var i=Un.current;return i===null?!0:(Le&4194048)===Le?si===null:(Le&62914560)===Le||(Le&536870912)!==0?i===si:!1}function mb(){var i=W.H;return W.H=wu,i===null?wu:i}function pb(){var i=W.A;return W.A=LN,i}function nf(){wt=4,wr||(Le&4194048)!==Le&&Un.current!==null||(Xo=!0),(Er&134217727)===0&&(za&134217727)===0||st===null||xr(st,Le,Fn,!1)}function jp(i,r,o){var c=Xe;Xe|=2;var m=mb(),g=pb();(st!==i||Le!==r)&&(ef=null,Wo(i,r)),r=!1;var b=wt;e:do try{if(Ze!==0&&Oe!==null){var A=Oe,k=Bn;switch(Ze){case 8:Lp(),b=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(r=!0);var K=Ze;if(Ze=0,Bn=null,Zo(i,A,k,K),o&&Xo){b=0;break e}break;default:K=Ze,Ze=0,Bn=null,Zo(i,A,k,K)}}zN(),b=wt;break}catch(Z){fb(i,Z)}while(!0);return r&&i.shellSuspendCounter++,Rs=Da=null,Xe=c,W.H=m,W.A=g,Oe===null&&(st=null,Le=0,wh()),b}function zN(){for(;Oe!==null;)gb(Oe)}function BN(i,r){var o=Xe;Xe|=2;var c=mb(),m=pb();st!==i||Le!==r?(ef=null,Jh=Jt()+500,Wo(i,r)):Xo=wi(i,r);e:do try{if(Ze!==0&&Oe!==null){r=Oe;var g=Bn;t:switch(Ze){case 1:Ze=0,Bn=null,Zo(i,r,g,1);break;case 2:case 9:if(x_(g)){Ze=0,Bn=null,yb(r);break}r=function(){Ze!==2&&Ze!==9||st!==i||(Ze=7),ls(i)},g.then(r,r);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:x_(g)?(Ze=0,Bn=null,yb(r)):(Ze=0,Bn=null,Zo(i,r,g,7));break;case 5:var b=null;switch(Oe.tag){case 26:b=Oe.memoizedState;case 5:case 27:var A=Oe;if(b?nw(b):A.stateNode.complete){Ze=0,Bn=null;var k=A.sibling;if(k!==null)Oe=k;else{var K=A.return;K!==null?(Oe=K,sf(K)):Oe=null}break t}}Ze=0,Bn=null,Zo(i,r,g,5);break;case 6:Ze=0,Bn=null,Zo(i,r,g,6);break;case 8:Lp(),wt=6;break e;default:throw Error(s(462))}}FN();break}catch(Z){fb(i,Z)}while(!0);return Rs=Da=null,W.H=c,W.A=m,Xe=o,Oe!==null?0:(st=null,Le=0,wh(),wt)}function FN(){for(;Oe!==null&&!po();)gb(Oe)}function gb(i){var r=zT(i.alternate,i,js);i.memoizedProps=i.pendingProps,r===null?sf(i):Oe=r}function yb(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=VT(o,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=VT(o,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:Jm(r);default:FT(o,r),r=Oe=p_(r,js),r=zT(o,r,js)}i.memoizedProps=i.pendingProps,r===null?sf(i):Oe=r}function Zo(i,r,o,c){Rs=Da=null,Jm(r),Bo=null,mu=0;var m=r.return;try{if(IN(i,m,r,o,Le)){wt=1,qh(i,ei(o,i.current)),Oe=null;return}}catch(g){if(m!==null)throw Oe=m,g;wt=1,qh(i,ei(o,i.current)),Oe=null;return}r.flags&32768?(He||c===1?i=!0:Xo||(Le&536870912)!==0?i=!1:(wr=i=!0,(c===2||c===9||c===3||c===6)&&(c=Un.current,c!==null&&c.tag===13&&(c.flags|=16384))),vb(r,i)):sf(r)}function sf(i){var r=i;do{if((r.flags&32768)!==0){vb(r,wr);return}i=r.return;var o=PN(r.alternate,r,js);if(o!==null){Oe=o;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=i}while(r!==null);wt===0&&(wt=5)}function vb(i,r){do{var o=VN(i.alternate,i);if(o!==null){o.flags&=32767,Oe=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Oe=i;return}Oe=i=o}while(i!==null);wt=6,Oe=null}function _b(i,r,o,c,m,g,b,A,k){i.cancelPendingCommit=null;do rf();while(Gt!==0);if((Xe&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=xm,ym(i,o,g,b,A,k),i===st&&(Oe=st=null,Le=0),Qo=r,Ar=i,Us=o,Vp=g,Op=m,lb=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,YN(nr,function(){return Sb(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=W.T,W.T=null,m=le.p,le.p=2,b=Xe,Xe|=4;try{ON(i,r,o)}finally{Xe=b,le.p=m,W.T=c}}Gt=1,Tb(),bb(),wb()}}function Tb(){if(Gt===1){Gt=0;var i=Ar,r=Qo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var c=le.p;le.p=2;var m=Xe;Xe|=4;try{eb(r,i);var g=Qp,b=a_(i.containerInfo),A=g.focusedElem,k=g.selectionRange;if(b!==A&&A&&A.ownerDocument&&r_(A.ownerDocument.documentElement,A)){if(k!==null&&bm(A)){var K=k.start,Z=k.end;if(Z===void 0&&(Z=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(Z,A.value.length);else{var ie=A.ownerDocument||document,X=ie&&ie.defaultView||window;if(X.getSelection){var Q=X.getSelection(),pe=A.textContent.length,be=Math.min(k.start,pe),it=k.end===void 0?be:Math.min(k.end,pe);!Q.extend&&be>it&&(b=it,it=be,be=b);var q=s_(A,be),B=s_(A,it);if(q&&B&&(Q.rangeCount!==1||Q.anchorNode!==q.node||Q.anchorOffset!==q.offset||Q.focusNode!==B.node||Q.focusOffset!==B.offset)){var Y=ie.createRange();Y.setStart(q.node,q.offset),Q.removeAllRanges(),be>it?(Q.addRange(Y),Q.extend(B.node,B.offset)):(Y.setEnd(B.node,B.offset),Q.addRange(Y))}}}}for(ie=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&ie.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ie.length;A++){var ee=ie[A];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}yf=!!$p,Qp=$p=null}finally{Xe=m,le.p=c,W.T=o}}i.current=r,Gt=2}}function bb(){if(Gt===2){Gt=0;var i=Ar,r=Qo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var c=le.p;le.p=2;var m=Xe;Xe|=4;try{$T(i,r.alternate,r)}finally{Xe=m,le.p=c,W.T=o}}Gt=3}}function wb(){if(Gt===4||Gt===3){Gt=0,go();var i=Ar,r=Qo,o=Us,c=lb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Gt=5:(Gt=0,Qo=Ar=null,Eb(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Sr=null),ws(o),r=r.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(bi,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=W.T,m=le.p,le.p=2,W.T=null;try{for(var g=i.onRecoverableError,b=0;b<c.length;b++){var A=c[b];g(A.value,{componentStack:A.stack})}}finally{W.T=r,le.p=m}}(Us&3)!==0&&rf(),ls(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===kp?Du++:(Du=0,kp=i):Du=0,Mu(0)}}function Eb(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,fu(r)))}function rf(){return Tb(),bb(),wb(),Sb()}function Sb(){if(Gt!==5)return!1;var i=Ar,r=Vp;Vp=0;var o=ws(Us),c=W.T,m=le.p;try{le.p=32>o?32:o,W.T=null,o=Op,Op=null;var g=Ar,b=Us;if(Gt=0,Qo=Ar=null,Us=0,(Xe&6)!==0)throw Error(s(331));var A=Xe;if(Xe|=4,rb(g.current),nb(g,g.current,b,o),Xe=A,Mu(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(bi,g)}catch{}return!0}finally{le.p=m,W.T=c,Eb(i,r)}}function Ab(i,r,o){r=ei(o,r),r=mp(i.stateNode,r,2),i=vr(i,r,2),i!==null&&(ma(i,2),ls(i))}function Je(i,r,o){if(i.tag===3)Ab(i,i,o);else for(;r!==null;){if(r.tag===3){Ab(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Sr===null||!Sr.has(c))){i=ei(o,i),o=xT(2),c=vr(r,o,2),c!==null&&(CT(o,c,r,i),ma(c,2),ls(c));break}}r=r.return}}function Up(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new jN;var m=new Set;c.set(r,m)}else m=c.get(r),m===void 0&&(m=new Set,c.set(r,m));m.has(o)||(Dp=!0,m.add(o),i=HN.bind(null,i,r,o),r.then(i,i))}function HN(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,st===i&&(Le&o)===o&&(wt===4||wt===3&&(Le&62914560)===Le&&300>Jt()-Zh?(Xe&2)===0&&Wo(i,0):Mp|=o,$o===Le&&($o=0)),ls(i)}function xb(i,r){r===0&&(r=eh()),i=Ra(i,r),i!==null&&(ma(i,r),ls(i))}function qN(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),xb(i,o)}function GN(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),xb(i,o)}function YN(i,r){return Tt(i,r)}var af=null,Jo=null,zp=!1,of=!1,Bp=!1,Cr=0;function ls(i){i!==Jo&&i.next===null&&(Jo===null?af=Jo=i:Jo=Jo.next=i),of=!0,zp||(zp=!0,XN())}function Mu(i,r){if(!Bp&&of){Bp=!0;do for(var o=!1,c=af;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var b=c.suspendedLanes,A=c.pingedLanes;g=(1<<31-xt(42|i)+1)-1,g&=m&~(b&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Ib(c,g))}else g=Le,g=qi(c,c===st?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||wi(c,g)||(o=!0,Ib(c,g));c=c.next}while(o);Bp=!1}}function KN(){Cb()}function Cb(){of=zp=!1;var i=0;Cr!==0&&sI()&&(i=Cr);for(var r=Jt(),o=null,c=af;c!==null;){var m=c.next,g=Rb(c,r);g===0?(c.next=null,o===null?af=m:o.next=m,m===null&&(Jo=o)):(o=c,(i!==0||(g&3)!==0)&&(of=!0)),c=m}Gt!==0&&Gt!==5||Mu(i),Cr!==0&&(Cr=0)}function Rb(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-xt(g),A=1<<b,k=m[b];k===-1?((A&o)===0||(A&c)!==0)&&(m[b]=gm(A,r)):k<=r&&(i.expiredLanes|=A),g&=~A}if(r=st,o=Le,o=qi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(Ze===2||Ze===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Bi(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||wi(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&Bi(c),ws(o)){case 2:case 8:o=Fl;break;case 32:o=nr;break;case 268435456:o=$c;break;default:o=nr}return c=Nb.bind(null,i),o=Tt(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&Bi(c),i.callbackPriority=2,i.callbackNode=null,2}function Nb(i,r){if(Gt!==0&&Gt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(rf()&&i.callbackNode!==o)return null;var c=Le;return c=qi(i,i===st?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(cb(i,c,r),Rb(i,Jt()),i.callbackNode!=null&&i.callbackNode===o?Nb.bind(null,i):null)}function Ib(i,r){if(rf())return null;cb(i,r,!0)}function XN(){aI(function(){(Xe&6)!==0?Tt(fa,KN):Cb()})}function Fp(){if(Cr===0){var i=jo;i===0&&(i=Fi,Fi<<=1,(Fi&261888)===0&&(Fi=256)),Cr=i}return Cr}function Db(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Eo(""+i)}function Mb(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function $N(i,r,o,c,m){if(r==="submit"&&o&&o.stateNode===m){var g=Db((m[$t]||null).action),b=c.submitter;b&&(r=(r=b[$t]||null)?Db(r.formAction):b.getAttribute("formAction"),r!==null&&(g=r,b=null));var A=new ts("action","action",null,c,m);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Cr!==0){var k=b?Mb(m,b):new FormData(m);lp(o,{pending:!0,data:k,method:m.method,action:g},null,k)}}else typeof g=="function"&&(A.preventDefault(),k=b?Mb(m,b):new FormData(m),lp(o,{pending:!0,data:k,method:m.method,action:g},g,k))},currentTarget:m}]})}}for(var Hp=0;Hp<Am.length;Hp++){var qp=Am[Hp],QN=qp.toLowerCase(),WN=qp[0].toUpperCase()+qp.slice(1);Ii(QN,"on"+WN)}Ii(u_,"onAnimationEnd"),Ii(c_,"onAnimationIteration"),Ii(h_,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(dN,"onTransitionRun"),Ii(mN,"onTransitionStart"),Ii(pN,"onTransitionCancel"),Ii(f_,"onTransitionEnd"),Wi("onMouseEnter",["mouseout","mouseover"]),Wi("onMouseLeave",["mouseout","mouseover"]),Wi("onPointerEnter",["pointerout","pointerover"]),Wi("onPointerLeave",["pointerout","pointerover"]),Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pu));function Pb(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var b=c.length-1;0<=b;b--){var A=c[b],k=A.instance,K=A.currentTarget;if(A=A.listener,k!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=K;try{g(m)}catch(Z){bh(Z)}m.currentTarget=null,g=k}else for(b=0;b<c.length;b++){if(A=c[b],k=A.instance,K=A.currentTarget,A=A.listener,k!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=K;try{g(m)}catch(Z){bh(Z)}m.currentTarget=null,g=k}}}}function ke(i,r){var o=r[vo];o===void 0&&(o=r[vo]=new Set);var c=i+"__bubble";o.has(c)||(Vb(r,i,2,!1),o.add(c))}function Gp(i,r,o){var c=0;r&&(c|=4),Vb(o,i,c,r)}var lf="_reactListening"+Math.random().toString(36).slice(2);function Yp(i){if(!i[lf]){i[lf]=!0,Gl.forEach(function(o){o!=="selectionchange"&&(ZN.has(o)||Gp(o,!1,i),Gp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[lf]||(r[lf]=!0,Gp("selectionchange",!1,r))}}function Vb(i,r,o,c){switch(uw(r)){case 2:var m=xI;break;case 8:m=CI;break;default:m=og}o=m.bind(null,r,o,i),m=void 0,!Ta||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(r,o,{capture:!0,passive:m}):i.addEventListener(r,o,!0):m!==void 0?i.addEventListener(r,o,{passive:m}):i.addEventListener(r,o,!1)}function Kp(i,r,o,c,m){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var A=c.stateNode.containerInfo;if(A===m)break;if(b===4)for(b=c.return;b!==null;){var k=b.tag;if((k===3||k===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;A!==null;){if(b=Xi(A),b===null)return;if(k=b.tag,k===5||k===6||k===26||k===27){c=g=b;continue e}A=A.parentNode}}c=c.return}lr(function(){var K=g,Z=Qn(o),ie=[];e:{var X=d_.get(i);if(X!==void 0){var Q=ts,pe=i;switch(i){case"keypress":if(wa(o)===0)break e;case"keydown":case"keyup":Q=vh;break;case"focusin":pe="focus",Q=Sa;break;case"focusout":pe="blur",Q=Sa;break;case"beforeblur":case"afterblur":Q=Sa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=su;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=_;break;case u_:case c_:case h_:Q=hh;break;case f_:Q=C;break;case"scroll":case"scrollend":Q=iu;break;case"wheel":Q=$;break;case"copy":case"cut":case"paste":Q=fh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=As;break;case"toggle":case"beforetoggle":Q=De}var be=(r&4)!==0,it=!be&&(i==="scroll"||i==="scrollend"),q=be?X!==null?X+"Capture":null:X;be=[];for(var B=K,Y;B!==null;){var ee=B;if(Y=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||Y===null||q===null||(ee=xi(B,q),ee!=null&&be.push(Vu(B,ee,Y))),it)break;B=B.return}0<be.length&&(X=new Q(X,pe,null,o,Z),ie.push({event:X,listeners:be}))}}if((r&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",X&&o!==eu&&(pe=o.relatedTarget||o.fromElement)&&(Xi(pe)||pe[Yi]))break e;if((Q||X)&&(X=Z.window===Z?Z:(X=Z.ownerDocument)?X.defaultView||X.parentWindow:window,Q?(pe=o.relatedTarget||o.toElement,Q=K,pe=pe?Xi(pe):null,pe!==null&&(it=l(pe),be=pe.tag,pe!==it||be!==5&&be!==27&&be!==6)&&(pe=null)):(Q=null,pe=K),Q!==pe)){if(be=su,ee="onMouseLeave",q="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(be=As,ee="onPointerLeave",q="onPointerEnter",B="pointer"),it=Q==null?X:On(Q),Y=pe==null?X:On(pe),X=new be(ee,B+"leave",Q,o,Z),X.target=it,X.relatedTarget=Y,ee=null,Xi(Z)===K&&(be=new be(q,B+"enter",pe,o,Z),be.target=Y,be.relatedTarget=it,ee=be),it=ee,Q&&pe)t:{for(be=JN,q=Q,B=pe,Y=0,ee=q;ee;ee=be(ee))Y++;ee=0;for(var ye=B;ye;ye=be(ye))ee++;for(;0<Y-ee;)q=be(q),Y--;for(;0<ee-Y;)B=be(B),ee--;for(;Y--;){if(q===B||B!==null&&q===B.alternate){be=q;break t}q=be(q),B=be(B)}be=null}else be=null;Q!==null&&Ob(ie,X,Q,be,!1),pe!==null&&it!==null&&Ob(ie,it,pe,be,!0)}}e:{if(X=K?On(K):window,Q=X.nodeName&&X.nodeName.toLowerCase(),Q==="select"||Q==="input"&&X.type==="file")var Ge=Z0;else if(Q0(X))if(J0)Ge=cN;else{Ge=lN;var ge=oN}else Q=X.nodeName,!Q||Q.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?K&&wo(K.elementType)&&(Ge=Z0):Ge=uN;if(Ge&&(Ge=Ge(i,K))){W0(ie,Ge,o,Z);break e}ge&&ge(i,X,K),i==="focusout"&&K&&X.type==="number"&&K.memoizedProps.value!=null&&Wl(X,"number",X.value)}switch(ge=K?On(K):window,i){case"focusin":(Q0(ge)||ge.contentEditable==="true")&&(Io=ge,wm=K,uu=null);break;case"focusout":uu=wm=Io=null;break;case"mousedown":Em=!0;break;case"contextmenu":case"mouseup":case"dragend":Em=!1,o_(ie,o,Z);break;case"selectionchange":if(fN)break;case"keydown":case"keyup":o_(ie,o,Z)}var Pe;if(Ke)e:{switch(i){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else No?Aa(i,o)&&(je="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(je="onCompositionStart");je&&(ss&&o.locale!=="ko"&&(No||je!=="onCompositionStart"?je==="onCompositionEnd"&&No&&(Pe=nu()):(es=Z,tu="value"in es?es.value:es.textContent,No=!0)),ge=uf(K,je),0<ge.length&&(je=new is(je,i,null,o,Z),ie.push({event:je,listeners:ge}),Pe?je.data=Pe:(Pe=Ro(o),Pe!==null&&(je.data=Pe)))),(Pe=Zn?iN(i,o):sN(i,o))&&(je=uf(K,"onBeforeInput"),0<je.length&&(ge=new is("onBeforeInput","beforeinput",null,o,Z),ie.push({event:ge,listeners:je}),ge.data=Pe)),$N(ie,i,K,o,Z)}Pb(ie,r)})}function Vu(i,r,o){return{instance:i,listener:r,currentTarget:o}}function uf(i,r){for(var o=r+"Capture",c=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=xi(i,o),m!=null&&c.unshift(Vu(i,m,g)),m=xi(i,r),m!=null&&c.push(Vu(i,m,g))),i.tag===3)return c;i=i.return}return[]}function JN(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Ob(i,r,o,c,m){for(var g=r._reactName,b=[];o!==null&&o!==c;){var A=o,k=A.alternate,K=A.stateNode;if(A=A.tag,k!==null&&k===c)break;A!==5&&A!==26&&A!==27||K===null||(k=K,m?(K=xi(o,g),K!=null&&b.unshift(Vu(o,K,k))):m||(K=xi(o,g),K!=null&&b.push(Vu(o,K,k)))),o=o.return}b.length!==0&&i.push({event:r,listeners:b})}var eI=/\r\n?/g,tI=/\u0000|\uFFFD/g;function kb(i){return(typeof i=="string"?i:""+i).replace(eI,`
`).replace(tI,"")}function Lb(i,r){return r=kb(r),kb(i)===r}function nt(i,r,o,c,m,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||An(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&An(i,""+c);break;case"className":kn(i,"class",c);break;case"tabIndex":kn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(i,o,c);break;case"style":Jl(i,c,g);break;case"data":if(r!=="object"){kn(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Eo(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&nt(i,r,"name",m.name,m,null),nt(i,r,"formEncType",m.formEncType,m,null),nt(i,r,"formMethod",m.formMethod,m,null),nt(i,r,"formTarget",m.formTarget,m,null)):(nt(i,r,"encType",m.encType,m,null),nt(i,r,"method",m.method,m,null),nt(i,r,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Eo(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Ai);break;case"onScroll":c!=null&&ke("scroll",i);break;case"onScrollEnd":c!=null&&ke("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Eo(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":ke("beforetoggle",i),ke("toggle",i),To(i,"popover",c);break;case"xlinkActuate":kt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":kt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":kt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":kt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":kt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":kt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":kt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":kt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":kt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":To(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=lh.get(o)||o,To(i,o,c))}}function Xp(i,r,o,c,m,g){switch(o){case"style":Jl(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?An(i,c):(typeof c=="number"||typeof c=="bigint")&&An(i,""+c);break;case"onScroll":c!=null&&ke("scroll",i);break;case"onScrollEnd":c!=null&&ke("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),g=i[$t]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,m);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):To(i,o,c)}}}function an(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",i),ke("load",i);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(i,r,g,b,o,null)}}m&&nt(i,r,"srcSet",o.srcSet,o,null),c&&nt(i,r,"src",o.src,o,null);return;case"input":ke("invalid",i);var A=g=b=m=null,k=null,K=null;for(c in o)if(o.hasOwnProperty(c)){var Z=o[c];if(Z!=null)switch(c){case"name":m=Z;break;case"type":b=Z;break;case"checked":k=Z;break;case"defaultChecked":K=Z;break;case"value":g=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:nt(i,r,c,Z,o,null)}}rh(i,g,A,k,K,b,m,!1);return;case"select":ke("invalid",i),c=b=g=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":g=A;break;case"defaultValue":b=A;break;case"multiple":c=A;default:nt(i,r,m,A,o,null)}r=g,o=b,i.multiple=!!c,r!=null?sr(i,!!c,r,!1):o!=null&&sr(i,!!c,o,!0);return;case"textarea":ke("invalid",i),g=m=c=null;for(b in o)if(o.hasOwnProperty(b)&&(A=o[b],A!=null))switch(b){case"value":c=A;break;case"defaultValue":m=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:nt(i,r,b,A,o,null)}rr(i,c,m,g);return;case"option":for(k in o)if(o.hasOwnProperty(k)&&(c=o[k],c!=null))switch(k){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:nt(i,r,k,c,o,null)}return;case"dialog":ke("beforetoggle",i),ke("toggle",i),ke("cancel",i),ke("close",i);break;case"iframe":case"object":ke("load",i);break;case"video":case"audio":for(c=0;c<Pu.length;c++)ke(Pu[c],i);break;case"image":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"embed":case"source":case"link":ke("error",i),ke("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(c=o[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(i,r,K,c,o,null)}return;default:if(wo(r)){for(Z in o)o.hasOwnProperty(Z)&&(c=o[Z],c!==void 0&&Xp(i,r,Z,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&nt(i,r,A,c,o,null))}function nI(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,b=null,A=null,k=null,K=null,Z=null;for(Q in o){var ie=o[Q];if(o.hasOwnProperty(Q)&&ie!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":k=ie;default:c.hasOwnProperty(Q)||nt(i,r,Q,null,c,ie)}}for(var X in c){var Q=c[X];if(ie=o[X],c.hasOwnProperty(X)&&(Q!=null||ie!=null))switch(X){case"type":g=Q;break;case"name":m=Q;break;case"checked":K=Q;break;case"defaultChecked":Z=Q;break;case"value":b=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==ie&&nt(i,r,X,Q,c,ie)}}bo(i,b,A,k,K,Z,g,m);return;case"select":Q=b=A=X=null;for(g in o)if(k=o[g],o.hasOwnProperty(g)&&k!=null)switch(g){case"value":break;case"multiple":Q=k;default:c.hasOwnProperty(g)||nt(i,r,g,null,c,k)}for(m in c)if(g=c[m],k=o[m],c.hasOwnProperty(m)&&(g!=null||k!=null))switch(m){case"value":X=g;break;case"defaultValue":A=g;break;case"multiple":b=g;default:g!==k&&nt(i,r,m,g,c,k)}r=A,o=b,c=Q,X!=null?sr(i,!!o,X,!1):!!c!=!!o&&(r!=null?sr(i,!!o,r,!0):sr(i,!!o,o?[]:"",!1));return;case"textarea":Q=X=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:nt(i,r,A,null,c,m)}for(b in c)if(m=c[b],g=o[b],c.hasOwnProperty(b)&&(m!=null||g!=null))switch(b){case"value":X=m;break;case"defaultValue":Q=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==g&&nt(i,r,b,m,c,g)}ah(i,X,Q);return;case"option":for(var pe in o)if(X=o[pe],o.hasOwnProperty(pe)&&X!=null&&!c.hasOwnProperty(pe))switch(pe){case"selected":i.selected=!1;break;default:nt(i,r,pe,null,c,X)}for(k in c)if(X=c[k],Q=o[k],c.hasOwnProperty(k)&&X!==Q&&(X!=null||Q!=null))switch(k){case"selected":i.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:nt(i,r,k,X,c,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in o)X=o[be],o.hasOwnProperty(be)&&X!=null&&!c.hasOwnProperty(be)&&nt(i,r,be,null,c,X);for(K in c)if(X=c[K],Q=o[K],c.hasOwnProperty(K)&&X!==Q&&(X!=null||Q!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:nt(i,r,K,X,c,Q)}return;default:if(wo(r)){for(var it in o)X=o[it],o.hasOwnProperty(it)&&X!==void 0&&!c.hasOwnProperty(it)&&Xp(i,r,it,void 0,c,X);for(Z in c)X=c[Z],Q=o[Z],!c.hasOwnProperty(Z)||X===Q||X===void 0&&Q===void 0||Xp(i,r,Z,X,c,Q);return}}for(var q in o)X=o[q],o.hasOwnProperty(q)&&X!=null&&!c.hasOwnProperty(q)&&nt(i,r,q,null,c,X);for(ie in c)X=c[ie],Q=o[ie],!c.hasOwnProperty(ie)||X===Q||X==null&&Q==null||nt(i,r,ie,X,c,Q)}function jb(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function iI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,b=m.initiatorType,A=m.duration;if(g&&A&&jb(b)){for(b=0,A=m.responseEnd,c+=1;c<o.length;c++){var k=o[c],K=k.startTime;if(K>A)break;var Z=k.transferSize,ie=k.initiatorType;Z&&jb(ie)&&(k=k.responseEnd,b+=Z*(k<A?1:(A-K)/(k-K)))}if(--c,r+=8*(g+b)/(m.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var $p=null,Qp=null;function cf(i){return i.nodeType===9?i:i.ownerDocument}function Ub(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zb(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Wp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Zp=null;function sI(){var i=window.event;return i&&i.type==="popstate"?i===Zp?!1:(Zp=i,!0):(Zp=null,!1)}var Bb=typeof setTimeout=="function"?setTimeout:void 0,rI=typeof clearTimeout=="function"?clearTimeout:void 0,Fb=typeof Promise=="function"?Promise:void 0,aI=typeof queueMicrotask=="function"?queueMicrotask:typeof Fb<"u"?function(i){return Fb.resolve(null).then(i).catch(oI)}:Bb;function oI(i){setTimeout(function(){throw i})}function Rr(i){return i==="head"}function Hb(i,r){var o=r,c=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(m),il(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Ou(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Ou(o);for(var g=o.firstChild;g;){var b=g.nextSibling,A=g.nodeName;g[Ki]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=b}}else o==="body"&&Ou(i.ownerDocument.body);o=m}while(o);il(r)}function qb(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function Jp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Jp(o),_o(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function lI(i,r,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Ki])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=ri(i.nextSibling),i===null)break}return null}function uI(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ri(i.nextSibling),i===null))return null;return i}function Gb(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=ri(i.nextSibling),i===null))return null;return i}function eg(i){return i.data==="$?"||i.data==="$~"}function tg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function cI(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function ri(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var ng=null;function Yb(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return ri(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function Kb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function Xb(i,r,o){switch(r=cf(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Ou(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);_o(i)}var ai=new Map,$b=new Set;function hf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var zs=le.d;le.d={f:hI,r:fI,D:dI,C:mI,L:pI,m:gI,X:vI,S:yI,M:_I};function hI(){var i=zs.f(),r=tf();return i||r}function fI(i){var r=$n(i);r!==null&&r.tag===5&&r.type==="form"?fT(r):zs.r(i)}var el=typeof document>"u"?null:document;function Qb(i,r,o){var c=el;if(c&&typeof r=="string"&&r){var m=Sn(r);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),$b.has(m)||($b.add(m),i={rel:i,crossOrigin:o,href:r},c.querySelector(m)===null&&(r=c.createElement("link"),an(r,"link",i),Ot(r),c.head.appendChild(r)))}}function dI(i){zs.D(i),Qb("dns-prefetch",i,null)}function mI(i,r){zs.C(i,r),Qb("preconnect",i,r)}function pI(i,r,o){zs.L(i,r,o);var c=el;if(c&&i&&r){var m='link[rel="preload"][as="'+Sn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Sn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Sn(o.imageSizes)+'"]')):m+='[href="'+Sn(i)+'"]';var g=m;switch(r){case"style":g=tl(i);break;case"script":g=nl(i)}ai.has(g)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ai.set(g,i),c.querySelector(m)!==null||r==="style"&&c.querySelector(ku(g))||r==="script"&&c.querySelector(Lu(g))||(r=c.createElement("link"),an(r,"link",i),Ot(r),c.head.appendChild(r)))}}function gI(i,r){zs.m(i,r);var o=el;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+Sn(c)+'"][href="'+Sn(i)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=nl(i)}if(!ai.has(g)&&(i=v({rel:"modulepreload",href:i},r),ai.set(g,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Lu(g)))return}c=o.createElement("link"),an(c,"link",i),Ot(c),o.head.appendChild(c)}}}function yI(i,r,o){zs.S(i,r,o);var c=el;if(c&&i){var m=$i(c).hoistableStyles,g=tl(i);r=r||"default";var b=m.get(g);if(!b){var A={loading:0,preload:null};if(b=c.querySelector(ku(g)))A.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ai.get(g))&&ig(i,o);var k=b=c.createElement("link");Ot(k),an(k,"link",i),k._p=new Promise(function(K,Z){k.onload=K,k.onerror=Z}),k.addEventListener("load",function(){A.loading|=1}),k.addEventListener("error",function(){A.loading|=2}),A.loading|=4,ff(b,r,c)}b={type:"stylesheet",instance:b,count:1,state:A},m.set(g,b)}}}function vI(i,r){zs.X(i,r);var o=el;if(o&&i){var c=$i(o).hoistableScripts,m=nl(i),g=c.get(m);g||(g=o.querySelector(Lu(m)),g||(i=v({src:i,async:!0},r),(r=ai.get(m))&&sg(i,r),g=o.createElement("script"),Ot(g),an(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function _I(i,r){zs.M(i,r);var o=el;if(o&&i){var c=$i(o).hoistableScripts,m=nl(i),g=c.get(m);g||(g=o.querySelector(Lu(m)),g||(i=v({src:i,async:!0,type:"module"},r),(r=ai.get(m))&&sg(i,r),g=o.createElement("script"),Ot(g),an(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function Wb(i,r,o,c){var m=(m=Ce.current)?hf(m):null;if(!m)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=tl(o.href),o=$i(m).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=tl(o.href);var g=$i(m).hoistableStyles,b=g.get(i);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=m.querySelector(ku(i)))&&!g._p&&(b.instance=g,b.state.loading=5),ai.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ai.set(i,o),g||TI(m,i,o,b.state))),r&&c===null)throw Error(s(528,""));return b}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=nl(o),o=$i(m).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function tl(i){return'href="'+Sn(i)+'"'}function ku(i){return'link[rel="stylesheet"]['+i+"]"}function Zb(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function TI(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),an(r,"link",o),Ot(r),i.head.appendChild(r))}function nl(i){return'[src="'+Sn(i)+'"]'}function Lu(i){return"script[async]"+i}function Jb(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+Sn(o.href)+'"]');if(c)return r.instance=c,Ot(c),c;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Ot(c),an(c,"style",m),ff(c,o.precedence,i),r.instance=c;case"stylesheet":m=tl(o.href);var g=i.querySelector(ku(m));if(g)return r.state.loading|=4,r.instance=g,Ot(g),g;c=Zb(o),(m=ai.get(m))&&ig(c,m),g=(i.ownerDocument||i).createElement("link"),Ot(g);var b=g;return b._p=new Promise(function(A,k){b.onload=A,b.onerror=k}),an(g,"link",c),r.state.loading|=4,ff(g,o.precedence,i),r.instance=g;case"script":return g=nl(o.src),(m=i.querySelector(Lu(g)))?(r.instance=m,Ot(m),m):(c=o,(m=ai.get(g))&&(c=v({},o),sg(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),Ot(m),an(m,"link",c),i.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,ff(c,o.precedence,i));return r.instance}function ff(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,b=0;b<c.length;b++){var A=c[b];if(A.dataset.precedence===r)g=A;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function ig(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function sg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var df=null;function ew(i,r,o){if(df===null){var c=new Map,m=df=new Map;m.set(o,c)}else m=df,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[Ki]||g[Vt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(r)||"";b=i+b;var A=c.get(b);A?A.push(g):c.set(b,[g])}}return c}function tw(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function bI(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function nw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function wI(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=tl(c.href),g=r.querySelector(ku(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=mf.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Ot(g);return}g=r.ownerDocument||r,c=Zb(c),(m=ai.get(m))&&ig(c,m),g=g.createElement("link"),Ot(g);var b=g;b._p=new Promise(function(A,k){b.onload=A,b.onerror=k}),an(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=mf.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var rg=0;function EI(i,r){return i.stylesheets&&i.count===0&&gf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&gf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&rg===0&&(rg=62500*iI());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&gf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>rg?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function mf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var pf=null;function gf(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,pf=new Map,r.forEach(SI,i),pf=null,mf.call(i))}function SI(i,r){if(!(r.state.loading&4)){var o=pf.get(i);if(o)var c=o.get(null);else{o=new Map,pf.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var b=m[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}m=r.instance,b=m.getAttribute("data-precedence"),g=o.get(b)||c,g===c&&o.set(null,m),o.set(b,m),this.count++,c=mf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),r.state.loading|=4}}var ju={$$typeof:F,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function AI(i,r,o,c,m,g,b,A,k){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function iw(i,r,o,c,m,g,b,A,k,K,Z,ie){return i=new AI(i,r,o,b,k,K,Z,ie,A),r=1,g===!0&&(r|=24),g=jn(3,null,null,r),i.current=g,g.stateNode=i,r=jm(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},Fm(g),i}function sw(i){return i?(i=Po,i):Po}function rw(i,r,o,c,m,g){m=sw(m),c.context===null?c.context=m:c.pendingContext=m,c=yr(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=vr(i,c,r),o!==null&&(In(o,i,r),gu(o,i,r))}function aw(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function ag(i,r){aw(i,r),(i=i.alternate)&&aw(i,r)}function ow(i){if(i.tag===13||i.tag===31){var r=Ra(i,67108864);r!==null&&In(r,i,67108864),ag(i,67108864)}}function lw(i){if(i.tag===13||i.tag===31){var r=Hn();r=ga(r);var o=Ra(i,r);o!==null&&In(o,i,r),ag(i,r)}}var yf=!0;function xI(i,r,o,c){var m=W.T;W.T=null;var g=le.p;try{le.p=2,og(i,r,o,c)}finally{le.p=g,W.T=m}}function CI(i,r,o,c){var m=W.T;W.T=null;var g=le.p;try{le.p=8,og(i,r,o,c)}finally{le.p=g,W.T=m}}function og(i,r,o,c){if(yf){var m=lg(c);if(m===null)Kp(i,r,c,vf,o),cw(i,c);else if(NI(m,i,r,o,c))c.stopPropagation();else if(cw(i,c),r&4&&-1<RI.indexOf(i)){for(;m!==null;){var g=$n(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=Hi(g.pendingLanes);if(b!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var k=1<<31-xt(b);A.entanglements[1]|=k,b&=~k}ls(g),(Xe&6)===0&&(Jh=Jt()+500,Mu(0))}}break;case 31:case 13:A=Ra(g,2),A!==null&&In(A,g,2),tf(),ag(g,2)}if(g=lg(c),g===null&&Kp(i,r,c,vf,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else Kp(i,r,c,null,o)}}function lg(i){return i=Qn(i),ug(i)}var vf=null;function ug(i){if(vf=null,i=Xi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=h(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return vf=i,null}function uw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(En()){case fa:return 2;case Fl:return 8;case nr:case pm:return 32;case $c:return 268435456;default:return 32}default:return 32}}var cg=!1,Nr=null,Ir=null,Dr=null,Uu=new Map,zu=new Map,Mr=[],RI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cw(i,r){switch(i){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":Uu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":zu.delete(r.pointerId)}}function Bu(i,r,o,c,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},r!==null&&(r=$n(r),r!==null&&ow(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),i)}function NI(i,r,o,c,m){switch(r){case"focusin":return Nr=Bu(Nr,i,r,o,c,m),!0;case"dragenter":return Ir=Bu(Ir,i,r,o,c,m),!0;case"mouseover":return Dr=Bu(Dr,i,r,o,c,m),!0;case"pointerover":var g=m.pointerId;return Uu.set(g,Bu(Uu.get(g)||null,i,r,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,zu.set(g,Bu(zu.get(g)||null,i,r,o,c,m)),!0}return!1}function hw(i){var r=Xi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,Ei(i.priority,function(){lw(o)});return}}else if(r===31){if(r=h(o),r!==null){i.blockedOn=r,Ei(i.priority,function(){lw(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function _f(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=lg(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);eu=c,o.target.dispatchEvent(c),eu=null}else return r=$n(o),r!==null&&ow(r),i.blockedOn=o,!1;r.shift()}return!0}function fw(i,r,o){_f(i)&&o.delete(r)}function II(){cg=!1,Nr!==null&&_f(Nr)&&(Nr=null),Ir!==null&&_f(Ir)&&(Ir=null),Dr!==null&&_f(Dr)&&(Dr=null),Uu.forEach(fw),zu.forEach(fw)}function Tf(i,r){i.blockedOn===r&&(i.blockedOn=null,cg||(cg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,II)))}var bf=null;function dw(i){bf!==i&&(bf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){bf===i&&(bf=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],m=i[r+2];if(typeof c!="function"){if(ug(c||o)===null)continue;break}var g=$n(o);g!==null&&(i.splice(r,3),r-=3,lp(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function il(i){function r(k){return Tf(k,i)}Nr!==null&&Tf(Nr,i),Ir!==null&&Tf(Ir,i),Dr!==null&&Tf(Dr,i),Uu.forEach(r),zu.forEach(r);for(var o=0;o<Mr.length;o++){var c=Mr[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Mr.length&&(o=Mr[0],o.blockedOn===null);)hw(o),o.blockedOn===null&&Mr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],b=m[$t]||null;if(typeof g=="function")b||dw(o);else if(b){var A=null;if(g&&g.hasAttribute("formAction")){if(m=g,b=g[$t]||null)A=b.formAction;else if(ug(m)!==null)continue}else A=b.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),dw(o)}}}function mw(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(b){return m=b})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function hg(i){this._internalRoot=i}wf.prototype.render=hg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=Hn();rw(o,c,i,r,null,null)},wf.prototype.unmount=hg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;rw(i.current,2,null,i,null,null),tf(),r[Yi]=null}};function wf(i){this._internalRoot=i}wf.prototype.unstable_scheduleHydration=function(i){if(i){var r=th();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Mr.length&&r!==0&&r<Mr[o].priority;o++);Mr.splice(o,0,i),o===0&&hw(i)}};var pw=e.version;if(pw!=="19.2.0")throw Error(s(527,pw,"19.2.0"));le.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var DI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ef.isDisabled&&Ef.supportsFiber)try{bi=Ef.inject(DI),en=Ef}catch{}}return Hu.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",m=wT,g=ET,b=ST;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=iw(i,1,!1,null,null,o,c,null,m,g,b,mw),i[Yi]=r.current,Yp(i),new hg(r)},Hu.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,m="",g=wT,b=ET,A=ST,k=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(k=o.formState)),r=iw(i,1,!0,r,o??null,c,m,k,g,b,A,mw),r.context=sw(null),o=r.current,c=Hn(),c=ga(c),m=yr(c),m.callback=null,vr(o,m,c),o=c,r.current.lanes=o,ma(r,o),ls(r),i[Yi]=r.current,Yp(i),new wf(r)},Hu.version="19.2.0",Hu}var Aw;function FI(){if(Aw)return mg.exports;Aw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mg.exports=BI(),mg.exports}var HI=FI();var xw="popstate";function qI(t={}){function e(a,l){let{pathname:u="/",search:h="",hash:d=""}=ao(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Zg("",{pathname:u,search:h,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let u=a.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let d=a.location.href,p=d.indexOf("#");h=p===-1?d:d.slice(0,p)}return h+"#"+(typeof l=="string"?l:hc(l))}function s(a,l){vi(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return YI(e,n,s,t)}function yt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function vi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GI(){return Math.random().toString(36).substring(2,10)}function Cw(t,e){return{usr:t.state,key:t.key,idx:e}}function Zg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ao(e):e,state:n,key:e&&e.key||s||GI()}}function hc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ao(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function YI(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,h="POP",d=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let D=y(),O=D==null?null:D-p;p=D,d&&d({action:h,location:M.location,delta:O})}function T(D,O){h="PUSH";let z=Zg(M.location,D,O);n&&n(z,D),p=y()+1;let F=Cw(z,p),ae=M.createHref(z);try{u.pushState(F,"",ae)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;a.location.assign(ae)}l&&d&&d({action:h,location:M.location,delta:1})}function S(D,O){h="REPLACE";let z=Zg(M.location,D,O);n&&n(z,D),p=y();let F=Cw(z,p),ae=M.createHref(z);u.replaceState(F,"",ae),l&&d&&d({action:h,location:M.location,delta:0})}function R(D){return KI(D)}let M={get action(){return h},get location(){return t(a,u)},listen(D){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(xw,v),d=D,()=>{a.removeEventListener(xw,v),d=null}},createHref(D){return e(a,D)},createURL:R,encodeLocation(D){let O=R(D);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:T,replace:S,go(D){return u.go(D)}};return M}function KI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),yt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:hc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function GA(t,e,n="/"){return XI(t,e,n,!1)}function XI(t,e,n,s){let a=typeof e=="string"?ao(e):e,l=Ks(a.pathname||"/",n);if(l==null)return null;let u=YA(t);$I(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=aD(l);h=sD(u[d],p,s)}return h}function YA(t,e=[],n=[],s="",a=!1){let l=(u,h,d=a,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(s)&&d)return;yt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length)}let v=qs([s,y.relativePath]),T=n.concat(y);u.children&&u.children.length>0&&(yt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),YA(u.children,e,T,v,d)),!(u.path==null&&!u.index)&&e.push({path:v,score:nD(v,u.index),routesMeta:T})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let d of KA(u.path))l(u,h,!0,d)}),e}function KA(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=KA(s.join("/")),h=[];return h.push(...u.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function $I(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:iD(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var QI=/^:[\w-]+$/,WI=3,ZI=2,JI=1,eD=10,tD=-2,Rw=t=>t==="*";function nD(t,e){let n=t.split("/"),s=n.length;return n.some(Rw)&&(s+=tD),e&&(s+=ZI),n.filter(a=>!Rw(a)).reduce((a,l)=>a+(QI.test(l)?WI:l===""?JI:eD),s)}function iD(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function sD(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let h=0;h<s.length;++h){let d=s[h],p=h===s.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=ed({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},y),T=d.route;if(!v&&p&&n&&!s[s.length-1].route.index&&(v=ed({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:qs([l,v.pathname]),pathnameBase:hD(qs([l,v.pathnameBase])),route:T}),v.pathnameBase!=="/"&&(l=qs([l,v.pathnameBase]))}return u}function ed(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=rD(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((p,{paramName:y,isOptional:v},T)=>{if(y==="*"){let R=h[T]||"";u=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const S=h[T];return v&&!S?p[y]=void 0:p[y]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function rD(t,e=!1,n=!0){vi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(s.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function aD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ks(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var oD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lD=t=>oD.test(t);function uD(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?ao(t):t,l;if(n)if(lD(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),vi(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=Nw(n.substring(1),"/"):l=Nw(n,e)}else l=e;return{pathname:l,search:fD(s),hash:dD(a)}}function Nw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function vg(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function cD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function XA(t){let e=cD(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function $A(t,e,n,s=!1){let a;typeof t=="string"?a=ao(t):(a={...t},yt(!a.pathname||!a.pathname.includes("?"),vg("?","pathname","search",a)),yt(!a.pathname||!a.pathname.includes("#"),vg("#","pathname","hash",a)),yt(!a.search||!a.search.includes("#"),vg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=n;else{let v=e.length-1;if(!s&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),v-=1;a.pathname=T.join("/")}h=v>=0?e[v]:"/"}let d=uD(a,h),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||y)&&(d.pathname+="/"),d}var qs=t=>t.join("/").replace(/\/\/+/g,"/"),hD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var QA=["POST","PUT","PATCH","DELETE"];new Set(QA);var pD=["GET",...QA];new Set(pD);var Il=V.createContext(null);Il.displayName="DataRouter";var Vd=V.createContext(null);Vd.displayName="DataRouterState";V.createContext(!1);var WA=V.createContext({isTransitioning:!1});WA.displayName="ViewTransition";var gD=V.createContext(new Map);gD.displayName="Fetchers";var yD=V.createContext(null);yD.displayName="Await";var Ts=V.createContext(null);Ts.displayName="Navigation";var Nc=V.createContext(null);Nc.displayName="Location";var bs=V.createContext({outlet:null,matches:[],isDataRoute:!1});bs.displayName="Route";var tv=V.createContext(null);tv.displayName="RouteError";function vD(t,{relative:e}={}){yt(Ic(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=V.useContext(Ts),{hash:a,pathname:l,search:u}=Dc(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:qs([n,l])),s.createHref({pathname:h,search:u,hash:a})}function Ic(){return V.useContext(Nc)!=null}function oo(){return yt(Ic(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Nc).location}var ZA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JA(t){V.useContext(Ts).static||V.useLayoutEffect(t)}function nv(){let{isDataRoute:t}=V.useContext(bs);return t?MD():_D()}function _D(){yt(Ic(),"useNavigate() may be used only in the context of a <Router> component.");let t=V.useContext(Il),{basename:e,navigator:n}=V.useContext(Ts),{matches:s}=V.useContext(bs),{pathname:a}=oo(),l=JSON.stringify(XA(s)),u=V.useRef(!1);return JA(()=>{u.current=!0}),V.useCallback((d,p={})=>{if(vi(u.current,ZA),!u.current)return;if(typeof d=="number"){n.go(d);return}let y=$A(d,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:qs([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}V.createContext(null);function TD(){let{matches:t}=V.useContext(bs),e=t[t.length-1];return e?e.params:{}}function Dc(t,{relative:e}={}){let{matches:n}=V.useContext(bs),{pathname:s}=oo(),a=JSON.stringify(XA(n));return V.useMemo(()=>$A(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function bD(t,e){return e1(t,e)}function e1(t,e,n,s,a){yt(Ic(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=V.useContext(Ts),{matches:u}=V.useContext(bs),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let z=v&&v.path||"";t1(p,!v||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let T=oo(),S;if(e){let z=typeof e=="string"?ao(e):e;yt(y==="/"||z.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${z.pathname}" was given in the \`location\` prop.`),S=z}else S=T;let R=S.pathname||"/",M=R;if(y!=="/"){let z=y.replace(/^\//,"").split("/");M="/"+R.replace(/^\//,"").split("/").slice(z.length).join("/")}let D=GA(t,{pathname:M});vi(v||D!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),vi(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=xD(D&&D.map(z=>Object.assign({},z,{params:Object.assign({},d,z.params),pathname:qs([y,l.encodeLocation?l.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?y:qs([y,l.encodeLocation?l.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),u,n,s,a);return e&&O?V.createElement(Nc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},O):O}function wD(){let t=DD(),e=mD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:l},"ErrorBoundary")," or"," ",V.createElement("code",{style:l},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:a},n):null,u)}var ED=V.createElement(wD,null),SD=class extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?V.createElement(bs.Provider,{value:this.props.routeContext},V.createElement(tv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function AD({routeContext:t,match:e,children:n}){let s=V.useContext(Il);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(bs.Provider,{value:t},n)}function xD(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let y=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);yt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let h=!1,d=-1;if(n)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=y),v.route.id){let{loaderData:T,errors:S}=n,R=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||R){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let p=n&&s?(y,v)=>{s(y,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:v})}:void 0;return l.reduceRight((y,v,T)=>{let S,R=!1,M=null,D=null;n&&(S=u&&v.route.id?u[v.route.id]:void 0,M=v.route.errorElement||ED,h&&(d<0&&T===0?(t1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,D=null):d===T&&(R=!0,D=v.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,T+1)),z=()=>{let F;return S?F=M:R?F=D:v.route.Component?F=V.createElement(v.route.Component,null):v.route.element?F=v.route.element:F=y,V.createElement(AD,{match:v,routeContext:{outlet:y,matches:O,isDataRoute:n!=null},children:F})};return n&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?V.createElement(SD,{location:n.location,revalidation:n.revalidation,component:M,error:S,children:z(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:p}):z()},null)}function iv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CD(t){let e=V.useContext(Il);return yt(e,iv(t)),e}function RD(t){let e=V.useContext(Vd);return yt(e,iv(t)),e}function ND(t){let e=V.useContext(bs);return yt(e,iv(t)),e}function sv(t){let e=ND(t),n=e.matches[e.matches.length-1];return yt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ID(){return sv("useRouteId")}function DD(){let t=V.useContext(tv),e=RD("useRouteError"),n=sv("useRouteError");return t!==void 0?t:e.errors?.[n]}function MD(){let{router:t}=CD("useNavigate"),e=sv("useNavigate"),n=V.useRef(!1);return JA(()=>{n.current=!0}),V.useCallback(async(a,l={})=>{vi(n.current,ZA),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Iw={};function t1(t,e,n){!e&&!Iw[t]&&(Iw[t]=!0,vi(!1,n))}V.memo(PD);function PD({routes:t,future:e,state:n,unstable_onError:s}){return e1(t,void 0,n,s,e)}function sl(t){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VD({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){yt(!Ic(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=V.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=ao(n));let{pathname:d="/",search:p="",hash:y="",state:v=null,key:T="default"}=n,S=V.useMemo(()=>{let R=Ks(d,u);return R==null?null:{location:{pathname:R,search:p,hash:y,state:v,key:T},navigationType:s}},[u,d,p,y,v,T,s]);return vi(S!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:V.createElement(Ts.Provider,{value:h},V.createElement(Nc.Provider,{children:e,value:S}))}function OD({children:t,location:e}){return bD(Jg(t),e)}function Jg(t,e=[]){let n=[];return V.Children.forEach(t,(s,a)=>{if(!V.isValidElement(s))return;let l=[...e,a];if(s.type===V.Fragment){n.push.apply(n,Jg(s.props.children,l));return}yt(s.type===sl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Jg(s.props.children,l)),n.push(u)}),n}var jf="get",Uf="application/x-www-form-urlencoded";function Od(t){return t!=null&&typeof t.tagName=="string"}function kD(t){return Od(t)&&t.tagName.toLowerCase()==="button"}function LD(t){return Od(t)&&t.tagName.toLowerCase()==="form"}function jD(t){return Od(t)&&t.tagName.toLowerCase()==="input"}function UD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zD(t,e){return t.button===0&&(!e||e==="_self")&&!UD(t)}var Sf=null;function BD(){if(Sf===null)try{new FormData(document.createElement("form"),0),Sf=!1}catch{Sf=!0}return Sf}var FD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _g(t){return t!=null&&!FD.has(t)?(vi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uf}"`),null):t}function HD(t,e){let n,s,a,l,u;if(LD(t)){let h=t.getAttribute("action");s=h?Ks(h,e):null,n=t.getAttribute("method")||jf,a=_g(t.getAttribute("enctype"))||Uf,l=new FormData(t)}else if(kD(t)||jD(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(s=d?Ks(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||jf,a=_g(t.getAttribute("formenctype"))||_g(h.getAttribute("enctype"))||Uf,l=new FormData(h,t),!BD()){let{name:p,type:y,value:v}=t;if(y==="image"){let T=p?`${p}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else p&&l.append(p,v)}}else{if(Od(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jf,s=null,a=Uf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qD(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Ks(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function GD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function KD(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await GD(l,n);return u.links?u.links():[]}return[]}));return WD(s.flat(1).filter(YD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Dw(t,e,n,s,a,l){let u=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>n[p].pathname!==d.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,p)=>u(d,p)||h(d,p)):l==="data"?e.filter((d,p)=>{let y=s.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function XD(t,e,{includeHydrateFallback:n}={}){return $D(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function $D(t){return[...new Set(t)]}function QD(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function WD(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(QD(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function n1(){let t=V.useContext(Il);return rv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function ZD(){let t=V.useContext(Vd);return rv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var av=V.createContext(void 0);av.displayName="FrameworkContext";function i1(){let t=V.useContext(av);return rv(t,"You must render this element inside a <HydratedRouter> element"),t}function JD(t,e){let n=V.useContext(av),[s,a]=V.useState(!1),[l,u]=V.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,T=V.useRef(null);V.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let M=O=>{O.forEach(z=>{u(z.isIntersecting)})},D=new IntersectionObserver(M,{threshold:.5});return T.current&&D.observe(T.current),()=>{D.disconnect()}}},[t]),V.useEffect(()=>{if(s){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[s]);let S=()=>{a(!0)},R=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:qu(h,S),onBlur:qu(d,R),onMouseEnter:qu(p,S),onMouseLeave:qu(y,R),onTouchStart:qu(v,S)}]:[!1,T,{}]}function qu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function eM({page:t,...e}){let{router:n}=n1(),s=V.useMemo(()=>GA(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?V.createElement(nM,{page:t,matches:s,...e}):null}function tM(t){let{manifest:e,routeModules:n}=i1(),[s,a]=V.useState([]);return V.useEffect(()=>{let l=!1;return KD(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function nM({page:t,matches:e,...n}){let s=oo(),{manifest:a,routeModules:l}=i1(),{basename:u}=n1(),{loaderData:h,matches:d}=ZD(),p=V.useMemo(()=>Dw(t,e,d,a,s,"data"),[t,e,d,a,s]),y=V.useMemo(()=>Dw(t,e,d,a,s,"assets"),[t,e,d,a,s]),v=V.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let R=new Set,M=!1;if(e.forEach(O=>{let z=a.routes[O.route.id];!z||!z.hasLoader||(!p.some(F=>F.route.id===O.route.id)&&O.route.id in h&&l[O.route.id]?.shouldRevalidate||z.hasClientLoader?M=!0:R.add(O.route.id))}),R.size===0)return[];let D=qD(t,u,"data");return M&&R.size>0&&D.searchParams.set("_routes",e.filter(O=>R.has(O.route.id)).map(O=>O.route.id).join(",")),[D.pathname+D.search]},[u,h,s,a,p,e,t,l]),T=V.useMemo(()=>XD(y,a),[y,a]),S=tM(y);return V.createElement(V.Fragment,null,v.map(R=>V.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),T.map(R=>V.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),S.map(({key:R,link:M})=>V.createElement("link",{key:R,nonce:n.nonce,...M})))}function iM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var s1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{s1&&(window.__reactRouterVersion="7.9.6")}catch{}function sM({basename:t,children:e,window:n}){let s=V.useRef();s.current==null&&(s.current=qI({window:n,v5Compat:!0}));let a=s.current,[l,u]=V.useState({action:a.action,location:a.location}),h=V.useCallback(d=>{V.startTransition(()=>u(d))},[u]);return V.useLayoutEffect(()=>a.listen(h),[a,h]),V.createElement(VD,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var r1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qr=V.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:h,target:d,to:p,preventScrollReset:y,viewTransition:v,...T},S){let{basename:R}=V.useContext(Ts),M=typeof p=="string"&&r1.test(p),D,O=!1;if(typeof p=="string"&&M&&(D=p,s1))try{let I=new URL(window.location.href),j=p.startsWith("//")?new URL(I.protocol+p):new URL(p),L=Ks(j.pathname,R);j.origin===I.origin&&L!=null?p=L+j.search+j.hash:O=!0}catch{vi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=vD(p,{relative:a}),[F,ae,re]=JD(s,T),J=lM(p,{replace:u,state:h,target:d,preventScrollReset:y,relative:a,viewTransition:v});function N(I){e&&e(I),I.defaultPrevented||J(I)}let x=V.createElement("a",{...T,...re,href:D||z,onClick:O||l?e:N,ref:iM(S,ae),target:d,"data-discover":!M&&n==="render"?"true":void 0});return F&&!M?V.createElement(V.Fragment,null,x,V.createElement(eM,{page:z})):x});qr.displayName="Link";var rM=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:h,children:d,...p},y){let v=Dc(u,{relative:p.relative}),T=oo(),S=V.useContext(Vd),{navigator:R,basename:M}=V.useContext(Ts),D=S!=null&&dM(v)&&h===!0,O=R.encodeLocation?R.encodeLocation(v).pathname:v.pathname,z=T.pathname,F=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(z=z.toLowerCase(),F=F?F.toLowerCase():null,O=O.toLowerCase()),F&&M&&(F=Ks(F,M)||F);const ae=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let re=z===O||!a&&z.startsWith(O)&&z.charAt(ae)==="/",J=F!=null&&(F===O||!a&&F.startsWith(O)&&F.charAt(O.length)==="/"),N={isActive:re,isPending:J,isTransitioning:D},x=re?e:void 0,I;typeof s=="function"?I=s(N):I=[s,re?"active":null,J?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let j=typeof l=="function"?l(N):l;return V.createElement(qr,{...p,"aria-current":x,className:I,ref:y,style:j,to:u,viewTransition:h},typeof d=="function"?d(N):d)});rM.displayName="NavLink";var aM=V.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=jf,action:h,onSubmit:d,relative:p,preventScrollReset:y,viewTransition:v,...T},S)=>{let R=hM(),M=fM(h,{relative:p}),D=u.toLowerCase()==="get"?"get":"post",O=typeof h=="string"&&r1.test(h),z=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let ae=F.nativeEvent.submitter,re=ae?.getAttribute("formmethod")||u;R(ae||F.currentTarget,{fetcherKey:e,method:re,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:v})};return V.createElement("form",{ref:S,method:D,action:M,onSubmit:s?d:z,...T,"data-discover":!O&&t==="render"?"true":void 0})});aM.displayName="Form";function oM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function a1(t){let e=V.useContext(Il);return yt(e,oM(t)),e}function lM(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u}={}){let h=nv(),d=oo(),p=Dc(t,{relative:l});return V.useCallback(y=>{if(zD(y,e)){y.preventDefault();let v=n!==void 0?n:hc(d)===hc(p);h(t,{replace:v,state:s,preventScrollReset:a,relative:l,viewTransition:u})}},[d,h,p,n,s,e,t,a,l,u])}var uM=0,cM=()=>`__${String(++uM)}__`;function hM(){let{router:t}=a1("useSubmit"),{basename:e}=V.useContext(Ts),n=ID();return V.useCallback(async(s,a={})=>{let{action:l,method:u,encType:h,formData:d,body:p}=HD(s,e);if(a.navigate===!1){let y=a.fetcherKey||cM();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function fM(t,{relative:e}={}){let{basename:n}=V.useContext(Ts),s=V.useContext(bs);yt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Dc(t||".",{relative:e})},u=oo();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:qs([n,l.pathname])),hc(l)}function dM(t,{relative:e}={}){let n=V.useContext(WA);yt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=a1("useViewTransitionState"),a=Dc(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ks(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=Ks(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ed(a.pathname,u)!=null||ed(a.pathname,l)!=null}const mM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pM=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Mw=t=>{const e=pM(t);return e.charAt(0).toUpperCase()+e.slice(1)},o1=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),gM=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var yM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const vM=V.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...h},d)=>V.createElement("svg",{ref:d,...yM,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:o1("lucide",a),...!l&&!gM(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,y])=>V.createElement(p,y)),...Array.isArray(l)?l:[l]]));const mt=(t,e)=>{const n=V.forwardRef(({className:s,...a},l)=>V.createElement(vM,{ref:l,iconNode:e,className:o1(`lucide-${mM(Mw(t))}`,`lucide-${t}`,s),...a}));return n.displayName=Mw(t),n};const _M=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],TM=mt("arrow-left",_M);const bM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ov=mt("arrow-right",bM);const wM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],l1=mt("circle-check-big",wM);const EM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],td=mt("clock",EM);const SM=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],AM=mt("eye-off",SM);const xM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],CM=mt("eye",xM);const RM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],NM=mt("file-text",RM);const IM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Pw=mt("history",IM);const DM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],MM=mt("loader-circle",DM);const PM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ey=mt("lock",PM);const VM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],OM=mt("log-out",VM);const kM=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],LM=mt("map",kM);const jM=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],UM=mt("phone",jM);const zM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],BM=mt("plus",zM);const FM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],HM=mt("refresh-cw",FM);const qM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Af=mt("search",qM);const GM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],u1=mt("shield",GM);const YM=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],Vw=mt("store",YM);const KM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],c1=mt("trash-2",KM);const XM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],h1=mt("triangle-alert",XM);const $M=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ow=mt("upload",$M);const QM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ty=mt("user-plus",QM);const WM=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],nd=mt("utensils-crossed",WM);const ZM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ja=mt("x",ZM),lv=V.createContext({});function uv(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}const cv=typeof window<"u",f1=cv?V.useLayoutEffect:V.useEffect,kd=V.createContext(null);function hv(t,e){t.indexOf(e)===-1&&t.push(e)}function fv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Xs=(t,e,n)=>n>e?e:n<t?t:n;let dv=()=>{};const $s={},d1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function m1(t){return typeof t=="object"&&t!==null}const p1=t=>/^0[^.\s]+$/u.test(t);function mv(t){let e;return()=>(e===void 0&&(e=t()),e)}const pi=t=>t,JM=(t,e)=>n=>e(t(n)),Mc=(...t)=>t.reduce(JM),fc=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class pv{constructor(){this.subscriptions=[]}add(e){return hv(this.subscriptions,e),()=>fv(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cs=t=>t*1e3,fi=t=>t/1e3;function g1(t,e){return e?t*(1e3/e):0}const y1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,eP=1e-7,tP=12;function nP(t,e,n,s,a){let l,u,h=0;do u=e+(n-e)/2,l=y1(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>eP&&++h<tP);return u}function Pc(t,e,n,s){if(t===e&&n===s)return pi;const a=l=>nP(l,0,1,t,n);return l=>l===0||l===1?l:y1(a(l),e,s)}const v1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,_1=t=>e=>1-t(1-e),T1=Pc(.33,1.53,.69,.99),gv=_1(T1),b1=v1(gv),w1=t=>(t*=2)<1?.5*gv(t):.5*(2-Math.pow(2,-10*(t-1))),yv=t=>1-Math.sin(Math.acos(t)),E1=_1(yv),S1=v1(yv),iP=Pc(.42,0,1,1),sP=Pc(0,0,.58,1),A1=Pc(.42,0,.58,1),rP=t=>Array.isArray(t)&&typeof t[0]!="number",x1=t=>Array.isArray(t)&&typeof t[0]=="number",aP={linear:pi,easeIn:iP,easeInOut:A1,easeOut:sP,circIn:yv,circInOut:S1,circOut:E1,backIn:gv,backInOut:b1,backOut:T1,anticipate:w1},oP=t=>typeof t=="string",kw=t=>{if(x1(t)){dv(t.length===4);const[e,n,s,a]=t;return Pc(e,n,s,a)}else if(oP(t))return aP[t];return t},xf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function lP(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(y){u.has(y)&&(p.schedule(y),t()),y(h)}const p={schedule:(y,v=!1,T=!1)=>{const R=T&&a?n:s;return v&&u.add(y),R.has(y)||R.add(y),y},cancel:y=>{s.delete(y),u.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const uP=40;function C1(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=xf.reduce((F,ae)=>(F[ae]=lP(l),F),{}),{setup:h,read:d,resolveKeyframes:p,preUpdate:y,update:v,preRender:T,render:S,postRender:R}=u,M=()=>{const F=$s.useManualTiming?a.timestamp:performance.now();n=!1,$s.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(F-a.timestamp,uP),1)),a.timestamp=F,a.isProcessing=!0,h.process(a),d.process(a),p.process(a),y.process(a),v.process(a),T.process(a),S.process(a),R.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(M))},D=()=>{n=!0,s=!0,a.isProcessing||t(M)};return{schedule:xf.reduce((F,ae)=>{const re=u[ae];return F[ae]=(J,N=!1,x=!1)=>(n||D(),re.schedule(J,N,x)),F},{}),cancel:F=>{for(let ae=0;ae<xf.length;ae++)u[xf[ae]].cancel(F)},state:a,steps:u}}const{schedule:dt,cancel:Qr,state:on,steps:Tg}=C1(typeof requestAnimationFrame<"u"?requestAnimationFrame:pi,!0);let zf;function cP(){zf=void 0}const Pn={now:()=>(zf===void 0&&Pn.set(on.isProcessing||$s.useManualTiming?on.timestamp:performance.now()),zf),set:t=>{zf=t,queueMicrotask(cP)}},R1=t=>e=>typeof e=="string"&&e.startsWith(t),vv=R1("--"),hP=R1("var(--"),_v=t=>hP(t)?fP.test(t.split("/*")[0].trim()):!1,fP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Dl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},dc={...Dl,transform:t=>Xs(0,1,t)},Cf={...Dl,default:1},ec=t=>Math.round(t*1e5)/1e5,Tv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function dP(t){return t==null}const mP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bv=(t,e)=>n=>!!(typeof n=="string"&&mP.test(n)&&n.startsWith(t)||e&&!dP(n)&&Object.prototype.hasOwnProperty.call(n,e)),N1=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,h]=s.match(Tv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},pP=t=>Xs(0,255,t),bg={...Dl,transform:t=>Math.round(pP(t))},qa={test:bv("rgb","red"),parse:N1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+bg.transform(t)+", "+bg.transform(e)+", "+bg.transform(n)+", "+ec(dc.transform(s))+")"};function gP(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const ny={test:bv("#"),parse:gP,transform:qa.transform},Vc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Or=Vc("deg"),hs=Vc("%"),Ae=Vc("px"),yP=Vc("vh"),vP=Vc("vw"),Lw={...hs,parse:t=>hs.parse(t)/100,transform:t=>hs.transform(t*100)},ul={test:bv("hsl","hue"),parse:N1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+hs.transform(ec(e))+", "+hs.transform(ec(n))+", "+ec(dc.transform(s))+")"},Ft={test:t=>qa.test(t)||ny.test(t)||ul.test(t),parse:t=>qa.test(t)?qa.parse(t):ul.test(t)?ul.parse(t):ny.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?qa.transform(t):ul.transform(t),getAnimatableNone:t=>{const e=Ft.parse(t);return e.alpha=0,Ft.transform(e)}},_P=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TP(t){return isNaN(t)&&typeof t=="string"&&(t.match(Tv)?.length||0)+(t.match(_P)?.length||0)>0}const I1="number",D1="color",bP="var",wP="var(",jw="${}",EP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(EP,d=>(Ft.test(d)?(s.color.push(l),a.push(D1),n.push(Ft.parse(d))):d.startsWith(wP)?(s.var.push(l),a.push(bP),n.push(d)):(s.number.push(l),a.push(I1),n.push(parseFloat(d))),++l,jw)).split(jw);return{values:n,split:h,indexes:s,types:a}}function M1(t){return mc(t).values}function P1(t){const{split:e,types:n}=mc(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const h=n[u];h===I1?l+=ec(a[u]):h===D1?l+=Ft.transform(a[u]):l+=a[u]}return l}}const SP=t=>typeof t=="number"?0:Ft.test(t)?Ft.getAnimatableNone(t):t;function AP(t){const e=M1(t);return P1(t)(e.map(SP))}const Wr={test:TP,parse:M1,createTransformer:P1,getAnimatableNone:AP};function wg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function xP({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=wg(d,h,t+1/3),l=wg(d,h,t),u=wg(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function id(t,e){return n=>n>0?e:t}const gt=(t,e,n)=>t+(e-t)*n,Eg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},CP=[ny,qa,ul],RP=t=>CP.find(e=>e.test(t));function Uw(t){const e=RP(t);if(!e)return!1;let n=e.parse(t);return e===ul&&(n=xP(n)),n}const zw=(t,e)=>{const n=Uw(t),s=Uw(e);if(!n||!s)return id(t,e);const a={...n};return l=>(a.red=Eg(n.red,s.red,l),a.green=Eg(n.green,s.green,l),a.blue=Eg(n.blue,s.blue,l),a.alpha=gt(n.alpha,s.alpha,l),qa.transform(a))},iy=new Set(["none","hidden"]);function NP(t,e){return iy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function IP(t,e){return n=>gt(t,e,n)}function wv(t){return typeof t=="number"?IP:typeof t=="string"?_v(t)?id:Ft.test(t)?zw:PP:Array.isArray(t)?V1:typeof t=="object"?Ft.test(t)?zw:DP:id}function V1(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>wv(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function DP(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=wv(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function MP(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],h=t.values[u]??0;n[a]=h,s[l]++}return n}const PP=(t,e)=>{const n=Wr.createTransformer(e),s=mc(t),a=mc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?iy.has(t)&&!a.values.length||iy.has(e)&&!s.values.length?NP(t,e):Mc(V1(MP(s,a),a.values),n):id(t,e)};function O1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?gt(t,e,n):wv(t)(t,e)}const VP=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>dt.update(e,n),stop:()=>Qr(e),now:()=>on.isProcessing?on.timestamp:Pn.now()}},k1=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},sd=2e4;function Ev(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<sd;)e+=n,s=t.next(e);return e>=sd?1/0:e}function OP(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(Ev(s),sd);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:fi(a)}}const kP=5;function L1(t,e,n){const s=Math.max(e-kP,0);return g1(n-t(s),e-s)}const Et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sg=.001;function LP({duration:t=Et.duration,bounce:e=Et.bounce,velocity:n=Et.velocity,mass:s=Et.mass}){let a,l,u=1-e;u=Xs(Et.minDamping,Et.maxDamping,u),t=Xs(Et.minDuration,Et.maxDuration,fi(t)),u<1?(a=p=>{const y=p*u,v=y*t,T=y-n,S=sy(p,u),R=Math.exp(-v);return Sg-T/S*R},l=p=>{const v=p*u*t,T=v*n+n,S=Math.pow(u,2)*Math.pow(p,2)*t,R=Math.exp(-v),M=sy(Math.pow(p,2),u);return(-a(p)+Sg>0?-1:1)*((T-S)*R)/M}):(a=p=>{const y=Math.exp(-p*t),v=(p-n)*t+1;return-Sg+y*v},l=p=>{const y=Math.exp(-p*t),v=(n-p)*(t*t);return y*v});const h=5/t,d=UP(a,l,h);if(t=cs(t),isNaN(d))return{stiffness:Et.stiffness,damping:Et.damping,duration:t};{const p=Math.pow(d,2)*s;return{stiffness:p,damping:u*2*Math.sqrt(s*p),duration:t}}}const jP=12;function UP(t,e,n){let s=n;for(let a=1;a<jP;a++)s=s-t(s)/e(s);return s}function sy(t,e){return t*Math.sqrt(1-e*e)}const zP=["duration","bounce"],BP=["stiffness","damping","mass"];function Bw(t,e){return e.some(n=>t[n]!==void 0)}function FP(t){let e={velocity:Et.velocity,stiffness:Et.stiffness,damping:Et.damping,mass:Et.mass,isResolvedFromDuration:!1,...t};if(!Bw(t,BP)&&Bw(t,zP))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*Xs(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Et.mass,stiffness:a,damping:l}}else{const n=LP(t);e={...e,...n,mass:Et.mass},e.isResolvedFromDuration=!0}return e}function rd(t=Et.visualDuration,e=Et.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:p,mass:y,duration:v,velocity:T,isResolvedFromDuration:S}=FP({...n,velocity:-fi(n.velocity||0)}),R=T||0,M=p/(2*Math.sqrt(d*y)),D=u-l,O=fi(Math.sqrt(d/y)),z=Math.abs(D)<5;s||(s=z?Et.restSpeed.granular:Et.restSpeed.default),a||(a=z?Et.restDelta.granular:Et.restDelta.default);let F;if(M<1){const re=sy(O,M);F=J=>{const N=Math.exp(-M*O*J);return u-N*((R+M*O*D)/re*Math.sin(re*J)+D*Math.cos(re*J))}}else if(M===1)F=re=>u-Math.exp(-O*re)*(D+(R+O*D)*re);else{const re=O*Math.sqrt(M*M-1);F=J=>{const N=Math.exp(-M*O*J),x=Math.min(re*J,300);return u-N*((R+M*O*D)*Math.sinh(x)+re*D*Math.cosh(x))/re}}const ae={calculatedDuration:S&&v||null,next:re=>{const J=F(re);if(S)h.done=re>=v;else{let N=re===0?R:0;M<1&&(N=re===0?cs(R):L1(F,re,J));const x=Math.abs(N)<=s,I=Math.abs(u-J)<=a;h.done=x&&I}return h.value=h.done?u:J,h},toString:()=>{const re=Math.min(Ev(ae),sd),J=k1(N=>ae.next(re*N).value,re,30);return re+"ms "+J},toTransition:()=>{}};return ae}rd.applyToOptions=t=>{const e=OP(t,100,rd);return t.ease=e.ease,t.duration=cs(e.duration),t.type="keyframes",t};function ry({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:d,restDelta:p=.5,restSpeed:y}){const v=t[0],T={done:!1,value:v},S=x=>h!==void 0&&x<h||d!==void 0&&x>d,R=x=>h===void 0?d:d===void 0||Math.abs(h-x)<Math.abs(d-x)?h:d;let M=n*e;const D=v+M,O=u===void 0?D:u(D);O!==D&&(M=O-v);const z=x=>-M*Math.exp(-x/s),F=x=>O+z(x),ae=x=>{const I=z(x),j=F(x);T.done=Math.abs(I)<=p,T.value=T.done?O:j};let re,J;const N=x=>{S(T.value)&&(re=x,J=rd({keyframes:[T.value,R(T.value)],velocity:L1(F,x,T.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return N(0),{calculatedDuration:null,next:x=>{let I=!1;return!J&&re===void 0&&(I=!0,ae(x),N(x)),re!==void 0&&x>=re?J.next(x-re):(!I&&ae(x),T)}}}function HP(t,e,n){const s=[],a=n||$s.mix||O1,l=t.length-1;for(let u=0;u<l;u++){let h=a(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||pi:e;h=Mc(d,h)}s.push(h)}return s}function qP(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(dv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=HP(e,s,a),d=h.length,p=y=>{if(u&&y<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const T=fc(t[v],t[v+1],y);return h[v](T)};return n?y=>p(Xs(t[0],t[l-1],y)):p}function GP(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=fc(0,e,s);t.push(gt(n,1,a))}}function YP(t){const e=[0];return GP(e,t.length-1),e}function KP(t,e){return t.map(n=>n*e)}function XP(t,e){return t.map(()=>e||A1).splice(0,t.length-1)}function tc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=rP(s)?s.map(kw):kw(s),l={done:!1,value:e[0]},u=KP(n&&n.length===e.length?n:YP(e),t),h=qP(u,e,{ease:Array.isArray(a)?a:XP(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const $P=t=>t!==null;function Sv(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter($P),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||s===void 0?l[h]:s}const QP={decay:ry,inertia:ry,tween:tc,keyframes:tc,spring:rd};function j1(t){typeof t.type=="string"&&(t.type=QP[t.type])}class Av{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const WP=t=>t/100;class xv extends Av{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Pn.now()&&this.tick(Pn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;j1(e);const{type:n=tc,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:h}=e;const d=n||tc;d!==tc&&typeof h[0]!="number"&&(this.mixKeyframes=Mc(WP,O1(h[0],h[1])),h=[0,100]);const p=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Ev(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:T,repeatDelay:S,type:R,onUpdate:M,finalKeyframe:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const O=this.currentTime-p*(this.playbackSpeed>=0?1:-1),z=this.playbackSpeed>=0?O<0:O>a;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,ae=s;if(v){const x=Math.min(this.currentTime,a)/h;let I=Math.floor(x),j=x%1;!j&&x>=1&&(j=1),j===1&&I--,I=Math.min(I,v+1),!!(I%2)&&(T==="reverse"?(j=1-j,S&&(j-=S/h)):T==="mirror"&&(ae=u)),F=Xs(0,1,j)*h}const re=z?{done:!1,value:y[0]}:ae.next(F);l&&(re.value=l(re.value));let{done:J}=re;!z&&d!==null&&(J=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&J);return N&&R!==ry&&(re.value=Sv(y,this.options,D,this.speed)),M&&M(re.value),N&&this.finish(),re}then(e,n){return this.finished.then(e,n)}get duration(){return fi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+fi(e)}get time(){return fi(this.currentTime)}set time(e){e=cs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Pn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=fi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=VP,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function ZP(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ga=t=>t*180/Math.PI,ay=t=>{const e=Ga(Math.atan2(t[1],t[0]));return oy(e)},JP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ay,rotateZ:ay,skewX:t=>Ga(Math.atan(t[1])),skewY:t=>Ga(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},oy=t=>(t=t%360,t<0&&(t+=360),t),Fw=ay,Hw=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),qw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),eV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Hw,scaleY:qw,scale:t=>(Hw(t)+qw(t))/2,rotateX:t=>oy(Ga(Math.atan2(t[6],t[5]))),rotateY:t=>oy(Ga(Math.atan2(-t[2],t[0]))),rotateZ:Fw,rotate:Fw,skewX:t=>Ga(Math.atan(t[4])),skewY:t=>Ga(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ly(t){return t.includes("scale")?1:0}function uy(t,e){if(!t||t==="none")return ly(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=eV,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=JP,a=h}if(!a)return ly(e);const l=s[e],u=a[1].split(",").map(nV);return typeof l=="function"?l(u):u[l]}const tV=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return uy(n,e)};function nV(t){return parseFloat(t.trim())}const Ml=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pl=new Set(Ml),Gw=t=>t===Dl||t===Ae,iV=new Set(["x","y","z"]),sV=Ml.filter(t=>!iV.has(t));function rV(t){const e=[];return sV.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Xa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>uy(e,"x"),y:(t,{transform:e})=>uy(e,"y")};Xa.translateX=Xa.x;Xa.translateY=Xa.y;const $a=new Set;let cy=!1,hy=!1,fy=!1;function U1(){if(hy){const t=Array.from($a).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=rV(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}hy=!1,cy=!1,$a.forEach(t=>t.complete(fy)),$a.clear()}function z1(){$a.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(hy=!0)})}function aV(){fy=!0,z1(),U1(),fy=!1}class Cv{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?($a.add(this),cy||(cy=!0,dt.read(z1),dt.resolveKeyframes(U1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const h=s.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}ZP(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),$a.delete(this)}cancel(){this.state==="scheduled"&&($a.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const oV=t=>t.startsWith("--");function lV(t,e,n){oV(e)?t.style.setProperty(e,n):t.style[e]=n}const uV=mv(()=>window.ScrollTimeline!==void 0),cV={};function hV(t,e){const n=mv(t);return()=>cV[e]??n()}const B1=hV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ku=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Yw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ku([0,.65,.55,1]),circOut:Ku([.55,0,1,.45]),backIn:Ku([.31,.01,.66,-.59]),backOut:Ku([.33,1.53,.69,.99])};function F1(t,e){if(t)return typeof t=="function"?B1()?k1(t,e):"ease-out":x1(t)?Ku(t):Array.isArray(t)?t.map(n=>F1(n,e)||Yw.easeOut):Yw[t]}function fV(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:d}={},p=void 0){const y={[e]:n};d&&(y.offset=d);const v=F1(h,a);Array.isArray(v)&&(y.easing=v);const T={delay:s,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(T.pseudoElement=p),t.animate(y,T)}function H1(t){return typeof t=="function"&&"applyToOptions"in t}function dV({type:t,...e}){return H1(t)&&B1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class mV extends Av{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,dv(typeof e.type!="string");const p=dV(e);this.animation=fV(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Sv(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):lV(n,s,y),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return fi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+fi(e)}get time(){return fi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=cs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&uV()?(this.animation.timeline=e,pi):n(this)}}const q1={anticipate:w1,backInOut:b1,circInOut:S1};function pV(t){return t in q1}function gV(t){typeof t.ease=="string"&&pV(t.ease)&&(t.ease=q1[t.ease])}const Kw=10;class yV extends mV{constructor(e){gV(e),j1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new xv({...u,autoplay:!1}),d=cs(this.finishedTime??this.time);n.setWithVelocity(h.sample(d-Kw).value,h.sample(d).value,Kw),h.stop()}}const Xw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Wr.test(t)||t==="0")&&!t.startsWith("url("));function vV(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function _V(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=Xw(a,e),h=Xw(l,e);return!u||!h?!1:vV(t)||(n==="spring"||H1(n))&&s}function dy(t){t.duration=0,t.type="keyframes"}const TV=new Set(["opacity","clipPath","filter","transform"]),bV=mv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function wV(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return bV()&&n&&TV.has(n)&&(n!=="transform"||!p)&&!d&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const EV=40;class SV extends Av{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:d,motionValue:p,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Pn.now();const T={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:d,motionValue:p,element:y,...v},S=y?.KeyframeResolver||Cv;this.keyframeResolver=new S(h,(R,M,D)=>this.onKeyframesResolved(R,M,T,!D),d,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:d,isHandoff:p,onUpdate:y}=s;this.resolvedAt=Pn.now(),_V(e,l,u,h)||(($s.instantAnimations||!d)&&y?.(Sv(e,s,n)),e[0]=e[e.length-1],dy(s),s.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>EV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},S=!p&&wV(T)?new yV({...T,element:T.motionValue.owner.current}):new xv(T);S.finished.then(()=>this.notifyFinished()).catch(pi),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),aV()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const AV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xV(t){const e=AV.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function G1(t,e,n=1){const[s,a]=xV(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return d1(u)?parseFloat(u):u}return _v(a)?G1(a,e,n+1):a}function Rv(t,e){return t?.[e]??t?.default??t}const Y1=new Set(["width","height","top","left","right","bottom",...Ml]),CV={test:t=>t==="auto",parse:t=>t},K1=t=>e=>e.test(t),X1=[Dl,Ae,hs,Or,vP,yP,CV],$w=t=>X1.find(K1(t));function RV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||p1(t):!0}const NV=new Set(["brightness","contrast","saturate","opacity"]);function IV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(Tv)||[];if(!s)return t;const a=n.replace(s,"");let l=NV.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const DV=/\b([a-z-]*)\(.*?\)/gu,my={...Wr,getAnimatableNone:t=>{const e=t.match(DV);return e?e.map(IV).join(" "):t}},Qw={...Dl,transform:Math.round},MV={rotate:Or,rotateX:Or,rotateY:Or,rotateZ:Or,scale:Cf,scaleX:Cf,scaleY:Cf,scaleZ:Cf,skew:Or,skewX:Or,skewY:Or,distance:Ae,translateX:Ae,translateY:Ae,translateZ:Ae,x:Ae,y:Ae,z:Ae,perspective:Ae,transformPerspective:Ae,opacity:dc,originX:Lw,originY:Lw,originZ:Ae},Nv={borderWidth:Ae,borderTopWidth:Ae,borderRightWidth:Ae,borderBottomWidth:Ae,borderLeftWidth:Ae,borderRadius:Ae,radius:Ae,borderTopLeftRadius:Ae,borderTopRightRadius:Ae,borderBottomRightRadius:Ae,borderBottomLeftRadius:Ae,width:Ae,maxWidth:Ae,height:Ae,maxHeight:Ae,top:Ae,right:Ae,bottom:Ae,left:Ae,padding:Ae,paddingTop:Ae,paddingRight:Ae,paddingBottom:Ae,paddingLeft:Ae,margin:Ae,marginTop:Ae,marginRight:Ae,marginBottom:Ae,marginLeft:Ae,backgroundPositionX:Ae,backgroundPositionY:Ae,...MV,zIndex:Qw,fillOpacity:dc,strokeOpacity:dc,numOctaves:Qw},PV={...Nv,color:Ft,backgroundColor:Ft,outlineColor:Ft,fill:Ft,stroke:Ft,borderColor:Ft,borderTopColor:Ft,borderRightColor:Ft,borderBottomColor:Ft,borderLeftColor:Ft,filter:my,WebkitFilter:my},$1=t=>PV[t];function Q1(t,e){let n=$1(t);return n!==my&&(n=Wr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const VV=new Set(["auto","none","0"]);function OV(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!VV.has(l)&&mc(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=Q1(n,a)}class kV extends Cv{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),_v(p))){const y=G1(p,n.current);y!==void 0&&(e[d]=y),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Y1.has(s)||e.length!==2)return;const[a,l]=e,u=$w(a),h=$w(l);if(u!==h)if(Gw(u)&&Gw(h))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else Xa[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||RV(e[a]))&&s.push(a);s.length&&OV(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xa[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Xa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function LV(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const W1=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Z1(t){return m1(t)&&"offsetHeight"in t}const Ww=30,jV=t=>!isNaN(parseFloat(t));class UV{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Pn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Pn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=jV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new pv);const s=this.events[e].add(n);return e==="change"?()=>{s(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Pn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Ww)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Ww);return g1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wl(t,e){return new UV(t,e)}const{schedule:Iv}=C1(queueMicrotask,!1),Pi={x:!1,y:!1};function J1(){return Pi.x||Pi.y}function zV(t){return t==="x"||t==="y"?Pi[t]?null:(Pi[t]=!0,()=>{Pi[t]=!1}):Pi.x||Pi.y?null:(Pi.x=Pi.y=!0,()=>{Pi.x=Pi.y=!1})}function ex(t,e){const n=LV(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function Zw(t){return!(t.pointerType==="touch"||J1())}function BV(t,e,n={}){const[s,a,l]=ex(t,n),u=h=>{if(!Zw(h))return;const{target:d}=h,p=e(d,h);if(typeof p!="function"||!d)return;const y=v=>{Zw(v)&&(p(v),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,a)};return s.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const tx=(t,e)=>e?t===e?!0:tx(t,e.parentElement):!1,Dv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,FV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function HV(t){return FV.has(t.tagName)||t.tabIndex!==-1}const Bf=new WeakSet;function Jw(t){return e=>{e.key==="Enter"&&t(e)}}function Ag(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const qV=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Jw(()=>{if(Bf.has(n))return;Ag(n,"down");const a=Jw(()=>{Ag(n,"up")}),l=()=>Ag(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function eE(t){return Dv(t)&&!J1()}function GV(t,e,n={}){const[s,a,l]=ex(t,n),u=h=>{const d=h.currentTarget;if(!eE(h))return;Bf.add(d);const p=e(d,h),y=(S,R)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",T),Bf.has(d)&&Bf.delete(d),eE(S)&&typeof p=="function"&&p(S,{success:R})},v=S=>{y(S,d===window||d===document||n.useGlobalTarget||tx(d,S.target))},T=S=>{y(S,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",T,a)};return s.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),Z1(h)&&(h.addEventListener("focus",p=>qV(p,a)),!HV(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function nx(t){return m1(t)&&"ownerSVGElement"in t}function YV(t){return nx(t)&&t.tagName==="svg"}const pn=t=>!!(t&&t.getVelocity),KV=[...X1,Ft,Wr],XV=t=>KV.find(K1(t)),Mv=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function tE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function $V(...t){return e=>{let n=!1;const s=t.map(a=>{const l=tE(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():tE(t[a],null)}}}}function QV(...t){return V.useCallback($V(...t),t)}class WV extends V.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=Z1(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ZV({children:t,isPresent:e,anchorX:n,root:s}){const a=V.useId(),l=V.useRef(null),u=V.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=V.useContext(Mv),d=QV(l,t?.ref);return V.useInsertionEffect(()=>{const{width:p,height:y,top:v,left:T,right:S}=u.current;if(e||!l.current||!p||!y)return;const R=n==="left"?`left: ${T}`:`right: ${S}`;l.current.dataset.motionPopId=a;const M=document.createElement("style");h&&(M.nonce=h);const D=s??document.head;return D.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${R}px !important;
            top: ${v}px !important;
          }
        `),()=>{D.contains(M)&&D.removeChild(M)}},[e]),w.jsx(WV,{isPresent:e,childRef:l,sizeRef:u,children:V.cloneElement(t,{ref:d})})}const JV=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h,root:d})=>{const p=uv(eO),y=V.useId();let v=!0,T=V.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:S=>{p.set(S,!0);for(const R of p.values())if(!R)return;s&&s()},register:S=>(p.set(S,!1),()=>p.delete(S))}),[n,p,s]);return l&&v&&(T={...T}),V.useMemo(()=>{p.forEach((S,R)=>p.set(R,!1))},[n]),V.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),u==="popLayout"&&(t=w.jsx(ZV,{isPresent:n,anchorX:h,root:d,children:t})),w.jsx(kd.Provider,{value:T,children:t})};function eO(){return new Map}function ix(t=!0){const e=V.useContext(kd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=V.useId();V.useEffect(()=>{if(t)return a(l)},[t]);const u=V.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const Rf=t=>t.key||"";function nE(t){const e=[];return V.Children.forEach(t,n=>{V.isValidElement(n)&&e.push(n)}),e}const zr=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",root:d})=>{const[p,y]=ix(u),v=V.useMemo(()=>nE(t),[t]),T=u&&!p?[]:v.map(Rf),S=V.useRef(!0),R=V.useRef(v),M=uv(()=>new Map),[D,O]=V.useState(v),[z,F]=V.useState(v);f1(()=>{S.current=!1,R.current=v;for(let J=0;J<z.length;J++){const N=Rf(z[J]);T.includes(N)?M.delete(N):M.get(N)!==!0&&M.set(N,!1)}},[z,T.length,T.join("-")]);const ae=[];if(v!==D){let J=[...v];for(let N=0;N<z.length;N++){const x=z[N],I=Rf(x);T.includes(I)||(J.splice(N,0,x),ae.push(x))}return l==="wait"&&ae.length&&(J=ae),F(nE(J)),O(v),null}const{forceRender:re}=V.useContext(lv);return w.jsx(w.Fragment,{children:z.map(J=>{const N=Rf(J),x=u&&!p?!1:v===z||T.includes(N),I=()=>{if(M.has(N))M.set(N,!0);else return;let j=!0;M.forEach(L=>{L||(j=!1)}),j&&(re?.(),F(R.current),u&&y?.(),s&&s())};return w.jsx(JV,{isPresent:x,initial:!S.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:x?void 0:I,anchorX:h,children:J},N)})})},sx=V.createContext({strict:!1}),iE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},El={};for(const t in iE)El[t]={isEnabled:e=>iE[t].some(n=>!!e[n])};function tO(t){for(const e in t)El[e]={...El[e],...t[e]}}const nO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ad(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||nO.has(t)}let rx=t=>!ad(t);function iO(t){typeof t=="function"&&(rx=e=>e.startsWith("on")?!ad(e):t(e))}try{iO(require("@emotion/is-prop-valid").default)}catch{}function sO(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(rx(a)||n===!0&&ad(a)||!e&&!ad(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Ld=V.createContext({});function jd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function pc(t){return typeof t=="string"||Array.isArray(t)}const Pv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vv=["initial",...Pv];function Ud(t){return jd(t.animate)||Vv.some(e=>pc(t[e]))}function ax(t){return!!(Ud(t)||t.variants)}function rO(t,e){if(Ud(t)){const{initial:n,animate:s}=t;return{initial:n===!1||pc(n)?n:void 0,animate:pc(s)?s:void 0}}return t.inherit!==!1?e:{}}function aO(t){const{initial:e,animate:n}=rO(t,V.useContext(Ld));return V.useMemo(()=>({initial:e,animate:n}),[sE(e),sE(n)])}function sE(t){return Array.isArray(t)?t.join(" "):t}const gc={};function oO(t){for(const e in t)gc[e]=t[e],vv(e)&&(gc[e].isCSSVariable=!0)}function ox(t,{layout:e,layoutId:n}){return Pl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!gc[t]||t==="opacity")}const lO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uO=Ml.length;function cO(t,e,n){let s="",a=!0;for(let l=0;l<uO;l++){const u=Ml[l],h=t[u];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(u.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const p=W1(h,Nv[u]);if(!d){a=!1;const y=lO[u]||u;s+=`${y}(${p}) `}n&&(e[u]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function Ov(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,h=!1;for(const d in e){const p=e[d];if(Pl.has(d)){u=!0;continue}else if(vv(d)){a[d]=p;continue}else{const y=W1(p,Nv[d]);d.startsWith("origin")?(h=!0,l[d]=y):s[d]=y}}if(e.transform||(u||n?s.transform=cO(e,t.transform,n):s.transform&&(s.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:y=0}=l;s.transformOrigin=`${d} ${p} ${y}`}}const kv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lx(t,e,n){for(const s in e)!pn(e[s])&&!ox(s,n)&&(t[s]=e[s])}function hO({transformTemplate:t},e){return V.useMemo(()=>{const n=kv();return Ov(n,e,t),Object.assign({},n.vars,n.style)},[e])}function fO(t,e){const n=t.style||{},s={};return lx(s,n,t),Object.assign(s,hO(t,e)),s}function dO(t,e){const n={},s=fO(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const mO={offset:"stroke-dashoffset",array:"stroke-dasharray"},pO={offset:"strokeDashoffset",array:"strokeDasharray"};function gO(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?mO:pO;t[l.offset]=Ae.transform(-s);const u=Ae.transform(e),h=Ae.transform(n);t[l.array]=`${u} ${h}`}function ux(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},d,p,y){if(Ov(t,h,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:T}=t;v.transform&&(T.transform=v.transform,delete v.transform),(T.transform||v.transformOrigin)&&(T.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),T.transform&&(T.transformBox=y?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),s!==void 0&&(v.scale=s),a!==void 0&&gO(v,a,l,u,!1)}const cx=()=>({...kv(),attrs:{}}),hx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function yO(t,e,n,s){const a=V.useMemo(()=>{const l=cx();return ux(l,e,hx(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};lx(l,t.style,t),a.style={...l,...a.style}}return a}const vO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Lv(t){return typeof t!="string"||t.includes("-")?!1:!!(vO.indexOf(t)>-1||/[A-Z]/u.test(t))}function _O(t,e,n,{latestValues:s},a,l=!1){const h=(Lv(t)?yO:dO)(e,s,a,t),d=sO(e,typeof t=="string",l),p=t!==V.Fragment?{...d,...h,ref:n}:{},{children:y}=e,v=V.useMemo(()=>pn(y)?y.get():y,[y]);return V.createElement(t,{...p,children:v})}function rE(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function jv(t,e,n,s){if(typeof e=="function"){const[a,l]=rE(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=rE(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Ff(t){return pn(t)?t.get():t}function TO({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:bO(n,s,a,t),renderState:e()}}function bO(t,e,n,s){const a={},l=s(t,{});for(const T in l)a[T]=Ff(l[T]);let{initial:u,animate:h}=t;const d=Ud(t),p=ax(t);e&&p&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const v=y?h:u;if(v&&typeof v!="boolean"&&!jd(v)){const T=Array.isArray(v)?v:[v];for(let S=0;S<T.length;S++){const R=jv(t,T[S]);if(R){const{transitionEnd:M,transition:D,...O}=R;for(const z in O){let F=O[z];if(Array.isArray(F)){const ae=y?F.length-1:0;F=F[ae]}F!==null&&(a[z]=F)}for(const z in M)a[z]=M[z]}}}return a}const fx=t=>(e,n)=>{const s=V.useContext(Ld),a=V.useContext(kd),l=()=>TO(t,e,s,a);return n?l():uv(l)};function Uv(t,e,n){const{style:s}=t,a={};for(const l in s)(pn(s[l])||e.style&&pn(e.style[l])||ox(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const wO=fx({scrapeMotionValuesFromProps:Uv,createRenderState:kv});function dx(t,e,n){const s=Uv(t,e,n);for(const a in t)if(pn(t[a])||pn(e[a])){const l=Ml.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const EO=fx({scrapeMotionValuesFromProps:dx,createRenderState:cx}),SO=Symbol.for("motionComponentSymbol");function cl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function AO(t,e,n){return V.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):cl(n)&&(n.current=s))},[e])}const zv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xO="framerAppearId",mx="data-"+zv(xO),px=V.createContext({});function CO(t,e,n,s,a){const{visualElement:l}=V.useContext(Ld),u=V.useContext(sx),h=V.useContext(kd),d=V.useContext(Mv).reducedMotion,p=V.useRef(null);s=s||u.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const y=p.current,v=V.useContext(px);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&RO(p.current,n,a,v);const T=V.useRef(!1);V.useInsertionEffect(()=>{y&&T.current&&y.update(n,h)});const S=n[mx],R=V.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return f1(()=>{y&&(T.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),R.current&&y.animationState&&y.animationState.animateChanges())}),V.useEffect(()=>{y&&(!R.current&&y.animationState&&y.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),R.current=!1),y.enteringChildren=void 0)}),y}function RO(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:gx(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&cl(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:d,layoutRoot:p})}function gx(t){if(t)return t.options.allowProjection!==!1?t.projection:gx(t.parent)}function xg(t,{forwardMotionProps:e=!1}={},n,s){n&&tO(n);const a=Lv(t)?EO:wO;function l(h,d){let p;const y={...V.useContext(Mv),...h,layoutId:NO(h)},{isStatic:v}=y,T=aO(h),S=a(h,v);if(!v&&cv){IO();const R=DO(y);p=R.MeasureLayout,T.visualElement=CO(t,S,y,s,R.ProjectionNode)}return w.jsxs(Ld.Provider,{value:T,children:[p&&T.visualElement?w.jsx(p,{visualElement:T.visualElement,...y}):null,_O(t,h,AO(S,T.visualElement,d),S,v,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=V.forwardRef(l);return u[SO]=t,u}function NO({layoutId:t}){const e=V.useContext(lv).id;return e&&t!==void 0?e+"-"+t:t}function IO(t,e){V.useContext(sx).strict}function DO(t){const{drag:e,layout:n}=El;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function MO(t,e){if(typeof Proxy>"u")return xg;const n=new Map,s=(l,u)=>xg(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,xg(u,void 0,t,e)),n.get(u))})}function yx({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function PO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function VO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Cg(t){return t===void 0||t===1}function py({scale:t,scaleX:e,scaleY:n}){return!Cg(t)||!Cg(e)||!Cg(n)}function Fa(t){return py(t)||vx(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function vx(t){return aE(t.x)||aE(t.y)}function aE(t){return t&&t!=="0%"}function od(t,e,n){const s=t-n,a=e*s;return n+a}function oE(t,e,n,s,a){return a!==void 0&&(t=od(t,a,s)),od(t,n,s)+e}function gy(t,e=0,n=1,s,a){t.min=oE(t.min,e,n,s,a),t.max=oE(t.max,e,n,s,a)}function _x(t,{x:e,y:n}){gy(t.x,e.translate,e.scale,e.originPoint),gy(t.y,n.translate,n.scale,n.originPoint)}const lE=.999999999999,uE=1.0000000000001;function OO(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let h=0;h<a;h++){l=n[h],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&fl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,_x(t,u)),s&&Fa(l.latestValues)&&fl(t,l.latestValues))}e.x<uE&&e.x>lE&&(e.x=1),e.y<uE&&e.y>lE&&(e.y=1)}function hl(t,e){t.min=t.min+e,t.max=t.max+e}function cE(t,e,n,s,a=.5){const l=gt(t.min,t.max,a);gy(t,e,n,l,s)}function fl(t,e){cE(t.x,e.x,e.scaleX,e.scale,e.originX),cE(t.y,e.y,e.scaleY,e.scale,e.originY)}function Tx(t,e){return yx(VO(t.getBoundingClientRect(),e))}function kO(t,e,n){const s=Tx(t,n),{scroll:a}=e;return a&&(hl(s.x,a.offset.x),hl(s.y,a.offset.y)),s}const hE=()=>({translate:0,scale:1,origin:0,originPoint:0}),dl=()=>({x:hE(),y:hE()}),fE=()=>({min:0,max:0}),It=()=>({x:fE(),y:fE()}),yy={current:null},bx={current:!1};function LO(){if(bx.current=!0,!!cv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>yy.current=t.matches;t.addEventListener("change",e),e()}else yy.current=!1}const jO=new WeakMap;function UO(t,e,n){for(const s in e){const a=e[s],l=n[s];if(pn(a))t.addValue(s,a);else if(pn(l))t.addValue(s,wl(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,wl(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const dE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zO{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Cv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Pn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,dt.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Ud(n),this.isVariantNode=ax(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in v){const S=v[T];d[T]!==void 0&&pn(S)&&S.set(d[T])}}mount(e){this.current=e,jO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),bx.current||LO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Qr(this.notifyUpdate),Qr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Pl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&dt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in El){const n=El[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):It()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<dE.length;s++){const a=dE[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=UO(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=wl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(d1(s)||p1(s))?s=parseFloat(s):!XV(s)&&Wr.test(n)&&(s=Q1(e,n)),this.setBaseTarget(e,pn(s)?s.get():s)),pn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=jv(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!pn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new pv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Iv.render(this.render)}}class wx extends zO{constructor(){super(...arguments),this.KeyframeResolver=kV}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Ex(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function BO(t){return window.getComputedStyle(t)}class FO extends wx{constructor(){super(...arguments),this.type="html",this.renderInstance=Ex}readValueFromInstance(e,n){if(Pl.has(n))return this.projection?.isProjecting?ly(n):tV(e,n);{const s=BO(e),a=(vv(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Tx(e,n)}build(e,n,s){Ov(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Uv(e,n,s)}}const Sx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function HO(t,e,n,s){Ex(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(Sx.has(a)?a:zv(a),e.attrs[a])}class qO extends wx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=It}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Pl.has(n)){const s=$1(n);return s&&s.default||0}return n=Sx.has(n)?n:zv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return dx(e,n,s)}build(e,n,s){ux(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){HO(e,n,s,a)}mount(e){this.isSVGTag=hx(e.tagName),super.mount(e)}}const GO=(t,e)=>Lv(t)?new qO(e):new FO(e,{allowProjection:t!==V.Fragment});function pl(t,e,n){const s=t.getProps();return jv(s,e,n!==void 0?n:s.custom,t)}const vy=t=>Array.isArray(t);function YO(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,wl(n))}function KO(t){return vy(t)?t[t.length-1]||0:t}function XO(t,e){const n=pl(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const h=KO(l[u]);YO(t,u,h)}}function $O(t){return!!(pn(t)&&t.add)}function _y(t,e){const n=t.getValue("willChange");if($O(n))return n.add(e);if(!n&&$s.WillChange){const s=new $s.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function Ax(t){return t.props[mx]}const QO=t=>t!==null;function WO(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(QO),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const ZO={type:"spring",stiffness:500,damping:25,restSpeed:10},JO=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ek={type:"keyframes",duration:.8},tk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nk=(t,{keyframes:e})=>e.length>2?ek:Pl.has(t)?t.startsWith("scale")?JO(e[1]):ZO:tk;function ik({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:d,elapsed:p,...y}){return!!Object.keys(y).length}const Bv=(t,e,n,s={},a,l)=>u=>{const h=Rv(s,t)||{},d=h.delay||s.delay||0;let{elapsed:p=0}=s;p=p-cs(d);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:T=>{e.set(T),h.onUpdate&&h.onUpdate(T)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};ik(h)||Object.assign(y,nk(t,y)),y.duration&&(y.duration=cs(y.duration)),y.repeatDelay&&(y.repeatDelay=cs(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(dy(y),y.delay===0&&(v=!0)),($s.instantAnimations||$s.skipAnimations)&&(v=!0,dy(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const T=WO(y.keyframes,h);if(T!==void 0){dt.update(()=>{y.onUpdate(T),y.onComplete()});return}}return h.isSync?new xv(y):new SV(y)};function sk({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function xx(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;s&&(l=s);const d=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in h){const v=t.getValue(y,t.latestValues[y]??null),T=h[y];if(T===void 0||p&&sk(p,y))continue;const S={delay:n,...Rv(l||{},y)},R=v.get();if(R!==void 0&&!v.isAnimating&&!Array.isArray(T)&&T===R&&!S.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const O=Ax(t);if(O){const z=window.MotionHandoffAnimation(O,y,dt);z!==null&&(S.startTime=z,M=!0)}}_y(t,y),v.start(Bv(y,v,T,t.shouldReduceMotion&&Y1.has(y)?{type:!1}:S,t,M));const D=v.animation;D&&d.push(D)}return u&&Promise.all(d).then(()=>{dt.update(()=>{u&&XO(t,u)})}),d}function Cx(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),u=t.size,h=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:h-l*s}function Ty(t,e,n={}){const s=pl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(xx(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=a;return rk(t,e,d,p,y,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,p]=h==="beforeChildren"?[l,u]:[u,l];return d().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function rk(t,e,n=0,s=0,a=0,l=1,u){const h=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),h.push(Ty(d,e,{...u,delay:n+(typeof s=="function"?0:s)+Cx(t.variantChildren,d,s,a,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function ak(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Ty(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Ty(t,e,n);else{const a=typeof e=="function"?pl(t,e,n.custom):e;s=Promise.all(xx(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function Rx(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const ok=Vv.length;function Nx(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Nx(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<ok;n++){const s=Vv[n],a=t.props[s];(pc(a)||a===!1)&&(e[s]=a)}return e}const lk=[...Pv].reverse(),uk=Pv.length;function ck(t){return e=>Promise.all(e.map(({animation:n,options:s})=>ak(t,n,s)))}function hk(t){let e=ck(t),n=mE(),s=!0;const a=d=>(p,y)=>{const v=pl(t,y,d==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:T,transitionEnd:S,...R}=v;p={...p,...R,...S}}return p};function l(d){e=d(t)}function u(d){const{props:p}=t,y=Nx(t.parent)||{},v=[],T=new Set;let S={},R=1/0;for(let D=0;D<uk;D++){const O=lk[D],z=n[O],F=p[O]!==void 0?p[O]:y[O],ae=pc(F),re=O===d?z.isActive:null;re===!1&&(R=D);let J=F===y[O]&&F!==p[O]&&ae;if(J&&s&&t.manuallyAnimateOnMount&&(J=!1),z.protectedKeys={...S},!z.isActive&&re===null||!F&&!z.prevProp||jd(F)||typeof F=="boolean")continue;const N=fk(z.prevProp,F);let x=N||O===d&&z.isActive&&!J&&ae||D>R&&ae,I=!1;const j=Array.isArray(F)?F:[F];let L=j.reduce(a(O),{});re===!1&&(L={});const{prevResolvedValues:H={}}=z,P={...H,...L},Fe=le=>{x=!0,T.has(le)&&(I=!0,T.delete(le)),z.needsAnimating[le]=!0;const de=t.getValue(le);de&&(de.liveStyle=!1)};for(const le in P){const de=L[le],xe=H[le];if(S.hasOwnProperty(le))continue;let Ve=!1;vy(de)&&vy(xe)?Ve=!Rx(de,xe):Ve=de!==xe,Ve?de!=null?Fe(le):T.add(le):de!==void 0&&T.has(le)?Fe(le):z.protectedKeys[le]=!0}z.prevProp=F,z.prevResolvedValues=L,z.isActive&&(S={...S,...L}),s&&t.blockInitialAnimation&&(x=!1);const Qe=J&&N;x&&(!Qe||I)&&v.push(...j.map(le=>{const de={type:O};if(typeof le=="string"&&s&&!Qe&&t.manuallyAnimateOnMount&&t.parent){const{parent:xe}=t,Ve=pl(xe,le);if(xe.enteringChildren&&Ve){const{delayChildren:U}=Ve.transition||{};de.delay=Cx(xe.enteringChildren,t,U)}}return{animation:le,options:de}}))}if(T.size){const D={};if(typeof p.initial!="boolean"){const O=pl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);O&&O.transition&&(D.transition=O.transition)}T.forEach(O=>{const z=t.getBaseTarget(O),F=t.getValue(O);F&&(F.liveStyle=!0),D[O]=z??null}),v.push({animation:D})}let M=!!v.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(M=!1),s=!1,M?e(v):Promise.resolve()}function h(d,p){if(n[d].isActive===p)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(d,p)),n[d].isActive=p;const y=u(d);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=mE()}}}function fk(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Rx(e,t):!1}function Ba(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mE(){return{animate:Ba(!0),whileInView:Ba(),whileHover:Ba(),whileTap:Ba(),whileDrag:Ba(),whileFocus:Ba(),exit:Ba()}}class aa{constructor(e){this.isMounted=!1,this.node=e}update(){}}class dk extends aa{constructor(e){super(e),e.animationState||(e.animationState=hk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let mk=0;class pk extends aa{constructor(){super(...arguments),this.id=mk++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const gk={animation:{Feature:dk},exit:{Feature:pk}};function yc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Oc(t){return{point:{x:t.pageX,y:t.pageY}}}const yk=t=>e=>Dv(e)&&t(e,Oc(e));function nc(t,e,n,s){return yc(t,e,yk(n),s)}const Ix=1e-4,vk=1-Ix,_k=1+Ix,Dx=.01,Tk=0-Dx,bk=0+Dx;function _n(t){return t.max-t.min}function wk(t,e,n){return Math.abs(t-e)<=n}function pE(t,e,n,s=.5){t.origin=s,t.originPoint=gt(e.min,e.max,t.origin),t.scale=_n(n)/_n(e),t.translate=gt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=vk&&t.scale<=_k||isNaN(t.scale))&&(t.scale=1),(t.translate>=Tk&&t.translate<=bk||isNaN(t.translate))&&(t.translate=0)}function ic(t,e,n,s){pE(t.x,e.x,n.x,s?s.originX:void 0),pE(t.y,e.y,n.y,s?s.originY:void 0)}function gE(t,e,n){t.min=n.min+e.min,t.max=t.min+_n(e)}function Ek(t,e,n){gE(t.x,e.x,n.x),gE(t.y,e.y,n.y)}function yE(t,e,n){t.min=e.min-n.min,t.max=t.min+_n(e)}function sc(t,e,n){yE(t.x,e.x,n.x),yE(t.y,e.y,n.y)}function li(t){return[t("x"),t("y")]}const Mx=({current:t})=>t?t.ownerDocument.defaultView:null,vE=(t,e)=>Math.abs(t-e);function Sk(t,e){const n=vE(t.x,e.x),s=vE(t.y,e.y);return Math.sqrt(n**2+s**2)}class Px{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Ng(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,R=Sk(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!R)return;const{point:M}=T,{timestamp:D}=on;this.history.push({...M,timestamp:D});const{onStart:O,onMove:z}=this.handlers;S||(O&&O(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,T)},this.handlePointerMove=(T,S)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=Rg(S,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(T,S)=>{this.end();const{onEnd:R,onSessionEnd:M,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=Ng(T.type==="pointercancel"?this.lastMoveEventInfo:Rg(S,this.transformPagePoint),this.history);this.startEvent&&R&&R(T,O),M&&M(T,O)},!Dv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const h=Oc(e),d=Rg(h,this.transformPagePoint),{point:p}=d,{timestamp:y}=on;this.history=[{...p,timestamp:y}];const{onSessionStart:v}=n;v&&v(e,Ng(d,this.history)),this.removeListeners=Mc(nc(this.contextWindow,"pointermove",this.handlePointerMove),nc(this.contextWindow,"pointerup",this.handlePointerUp),nc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Qr(this.updatePoint)}}function Rg(t,e){return e?{point:e(t.point)}:t}function _E(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ng({point:t},e){return{point:t,delta:_E(t,Vx(e)),offset:_E(t,Ak(e)),velocity:xk(e,.1)}}function Ak(t){return t[0]}function Vx(t){return t[t.length-1]}function xk(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=Vx(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>cs(e)));)n--;if(!s)return{x:0,y:0};const l=fi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Ck(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?gt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?gt(n,t,s.max):Math.min(t,n)),t}function TE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Rk(t,{top:e,left:n,bottom:s,right:a}){return{x:TE(t.x,n,a),y:TE(t.y,e,s)}}function bE(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function Nk(t,e){return{x:bE(t.x,e.x),y:bE(t.y,e.y)}}function Ik(t,e){let n=.5;const s=_n(t),a=_n(e);return a>s?n=fc(e.min,e.max-s,t.min):s>a&&(n=fc(t.min,t.max-a,e.min)),Xs(0,1,n)}function Dk(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const by=.35;function Mk(t=by){return t===!1?t=0:t===!0&&(t=by),{x:wE(t,"left","right"),y:wE(t,"top","bottom")}}function wE(t,e,n){return{min:EE(t,e),max:EE(t,n)}}function EE(t,e){return typeof t=="number"?t:t[e]||0}const Pk=new WeakMap;class Vk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=It(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Oc(v).point)},u=(v,T)=>{const{drag:S,dragPropagation:R,onDragStart:M}=this.getProps();if(S&&!R&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zV(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),li(O=>{let z=this.getAxisMotionValue(O).get()||0;if(hs.test(z)){const{projection:F}=this.visualElement;if(F&&F.layout){const ae=F.layout.layoutBox[O];ae&&(z=_n(ae)*(parseFloat(z)/100))}}this.originPoint[O]=z}),M&&dt.postRender(()=>M(v,T)),_y(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},h=(v,T)=>{this.latestPointerEvent=v,this.latestPanInfo=T;const{dragPropagation:S,dragDirectionLock:R,onDirectionLock:M,onDrag:D}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:O}=T;if(R&&this.currentDirection===null){this.currentDirection=Ok(O),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",T.point,O),this.updateAxis("y",T.point,O),this.visualElement.render(),D&&D(v,T)},d=(v,T)=>{this.latestPointerEvent=v,this.latestPanInfo=T,this.stop(v,T),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>li(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new Px(e,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:Mx(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&dt.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!Nf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=Ck(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&cl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=Rk(s.layoutBox,e):this.constraints=!1,this.elastic=Mk(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&li(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Dk(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!cl(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=kO(s,a.root,this.visualElement.getTransformPagePoint());let u=Nk(a.layout.layoutBox,l);if(n){const h=n(PO(u));this.hasMutatedConstraints=!!h,h&&(u=yx(h))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=li(y=>{if(!Nf(y,n,this.currentDirection))return;let v=d&&d[y]||{};u&&(v={min:0,max:0});const T=a?200:1e6,S=a?40:1e7,R={type:"inertia",velocity:s?e[y]:0,bounceStiffness:T,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,R)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return _y(this.visualElement,e),s.start(Bv(e,s,0,n,this.visualElement,!1))}stopAnimation(){li(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){li(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){li(n=>{const{drag:s}=this.getProps();if(!Nf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];l.set(e[n]-gt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!cl(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};li(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=Ik({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),li(u=>{if(!Nf(u,e,null))return;const h=this.getAxisMotionValue(u),{min:d,max:p}=this.constraints[u];h.set(gt(d,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;Pk.set(this.visualElement,this);const e=this.visualElement.current,n=nc(e,"pointerdown",d=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(d)}),s=()=>{const{dragConstraints:d}=this.getProps();cl(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),dt.read(s);const u=yc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(li(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=d[y].translate,v.set(v.get()+d[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=by,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function Nf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Ok(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class kk extends aa{constructor(e){super(e),this.removeGroupControls=pi,this.removeListeners=pi,this.controls=new Vk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||pi}unmount(){this.removeGroupControls(),this.removeListeners()}}const SE=t=>(e,n)=>{t&&dt.postRender(()=>t(e,n))};class Lk extends aa{constructor(){super(...arguments),this.removePointerDownListener=pi}onPointerDown(e){this.session=new Px(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Mx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:SE(e),onStart:SE(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&dt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=nc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Hf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function AE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Gu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ae.test(t))t=parseFloat(t);else return t;const n=AE(t,e.target.x),s=AE(t,e.target.y);return`${n}% ${s}%`}},jk={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Wr.parse(t);if(a.length>5)return s;const l=Wr.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=d;const p=gt(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}};let Ig=!1;class Uk extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;oO(zk),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),Ig&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Hf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,Ig=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||dt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Iv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;Ig=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ox(t){const[e,n]=ix(),s=V.useContext(lv);return w.jsx(Uk,{...t,layoutGroup:s,switchLayoutGroup:V.useContext(px),isPresent:e,safeToRemove:n})}const zk={borderRadius:{...Gu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gu,borderTopRightRadius:Gu,borderBottomLeftRadius:Gu,borderBottomRightRadius:Gu,boxShadow:jk};function Bk(t,e,n){const s=pn(t)?t:wl(t);return s.start(Bv("",s,e,n)),s.animation}const Fk=(t,e)=>t.depth-e.depth;class Hk{constructor(){this.children=[],this.isDirty=!1}add(e){hv(this.children,e),this.isDirty=!0}remove(e){fv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Fk),this.isDirty=!1,this.children.forEach(e)}}function qk(t,e){const n=Pn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Qr(s),t(l-e))};return dt.setup(s,!0),()=>Qr(s)}const kx=["TopLeft","TopRight","BottomLeft","BottomRight"],Gk=kx.length,xE=t=>typeof t=="string"?parseFloat(t):t,CE=t=>typeof t=="number"||Ae.test(t);function Yk(t,e,n,s,a,l){a?(t.opacity=gt(0,n.opacity??1,Kk(s)),t.opacityExit=gt(e.opacity??1,0,Xk(s))):l&&(t.opacity=gt(e.opacity??1,n.opacity??1,s));for(let u=0;u<Gk;u++){const h=`border${kx[u]}Radius`;let d=RE(e,h),p=RE(n,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||CE(d)===CE(p)?(t[h]=Math.max(gt(xE(d),xE(p),s),0),(hs.test(p)||hs.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=gt(e.rotate||0,n.rotate||0,s))}function RE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Kk=Lx(0,.5,E1),Xk=Lx(.5,.95,pi);function Lx(t,e,n){return s=>s<t?0:s>e?1:n(fc(t,e,s))}function NE(t,e){t.min=e.min,t.max=e.max}function oi(t,e){NE(t.x,e.x),NE(t.y,e.y)}function IE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function DE(t,e,n,s,a){return t-=e,t=od(t,1/n,s),a!==void 0&&(t=od(t,1/a,s)),t}function $k(t,e=0,n=1,s=.5,a,l=t,u=t){if(hs.test(e)&&(e=parseFloat(e),e=gt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=gt(l.min,l.max,s);t===l&&(h-=e),t.min=DE(t.min,e,n,h,a),t.max=DE(t.max,e,n,h,a)}function ME(t,e,[n,s,a],l,u){$k(t,e[n],e[s],e[a],e.scale,l,u)}const Qk=["x","scaleX","originX"],Wk=["y","scaleY","originY"];function PE(t,e,n,s){ME(t.x,e,Qk,n?n.x:void 0,s?s.x:void 0),ME(t.y,e,Wk,n?n.y:void 0,s?s.y:void 0)}function VE(t){return t.translate===0&&t.scale===1}function jx(t){return VE(t.x)&&VE(t.y)}function OE(t,e){return t.min===e.min&&t.max===e.max}function Zk(t,e){return OE(t.x,e.x)&&OE(t.y,e.y)}function kE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Ux(t,e){return kE(t.x,e.x)&&kE(t.y,e.y)}function LE(t){return _n(t.x)/_n(t.y)}function jE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Jk{constructor(){this.members=[]}add(e){hv(this.members,e),e.scheduleRender()}remove(e){if(fv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function e4(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:T,skewX:S,skewY:R}=n;p&&(s=`perspective(${p}px) ${s}`),y&&(s+=`rotate(${y}deg) `),v&&(s+=`rotateX(${v}deg) `),T&&(s+=`rotateY(${T}deg) `),S&&(s+=`skewX(${S}deg) `),R&&(s+=`skewY(${R}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(s+=`scale(${h}, ${d})`),s||"none"}const Dg=["","X","Y","Z"],t4=1e3;let n4=0;function Mg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function zx(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Ax(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&zx(s)}function Bx({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},h=e?.()){this.id=n4++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(r4),this.nodes.forEach(u4),this.nodes.forEach(c4),this.nodes.forEach(a4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Hk)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new pv),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=nx(u)&&!YV(u),this.instance=u;const{layoutId:h,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let y,v=0;const T=()=>this.root.updateBlockedByResize=!1;dt.read(()=>{v=window.innerWidth}),t(u,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,y&&y(),y=qk(T,250),Hf.hasAnimatedSinceResize&&(Hf.hasAnimatedSinceResize=!1,this.nodes.forEach(BE)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:T,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||p.getDefaultTransition()||p4,{onLayoutAnimationStart:M,onLayoutAnimationComplete:D}=p.getProps(),O=!this.targetLayout||!Ux(this.targetLayout,S),z=!v&&T;if(this.options.layoutRoot||this.resumeFrom||z||v&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...Rv(R,"layout"),onPlay:M,onComplete:D};(p.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(y,z)}else v||BE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Qr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(h4),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(UE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(zE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(l4),this.nodes.forEach(i4),this.nodes.forEach(s4)):this.nodes.forEach(zE),this.clearAllSnapshots();const h=Pn.now();on.delta=Xs(0,1e3/60,h-on.timestamp),on.timestamp=h,on.isProcessing=!0,Tg.update.process(on),Tg.preRender.process(on),Tg.render.process(on),on.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Iv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(o4),this.sharedNodes.forEach(f4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_n(this.snapshot.measuredBox.x)&&!_n(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=It(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!jx(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||Fa(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),g4(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return It();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(y4))){const{scroll:p}=this.root;p&&(hl(h.x,p.offset.x),hl(h.y,p.offset.y))}return h}removeElementScroll(u){const h=It();if(oi(h,u),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&oi(h,u),hl(h.x,y.offset.x),hl(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const d=It();oi(d,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&fl(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Fa(y.latestValues)&&fl(d,y.latestValues)}return Fa(this.latestValues)&&fl(d,this.latestValues),d}removeTransform(u){const h=It();oi(h,u);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Fa(p.latestValues))continue;py(p.latestValues)&&p.updateSnapshot();const y=It(),v=p.measurePageBox();oi(y,v),PE(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Fa(this.latestValues)&&PE(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==on.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=on.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),sc(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),oi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=It(),this.targetWithTransforms=It()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ek(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):oi(this.target,this.layout.layoutBox),_x(this.target,this.targetDelta)):oi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),sc(this.relativeTargetOrigin,this.target,T.target),oi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||py(this.parent.latestValues)||vx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===on.timestamp&&(d=!1),d)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;oi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,T=this.treeScale.y;OO(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=It());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(IE(this.prevProjectionDelta.x,this.projectionDelta.x),IE(this.prevProjectionDelta.y,this.projectionDelta.y)),ic(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==T||!jE(this.projectionDelta.x,this.prevProjectionDelta.x)||!jE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=dl(),this.projectionDelta=dl(),this.projectionDeltaWithTransform=dl()}setAnimationOrigin(u,h=!1){const d=this.snapshot,p=d?d.latestValues:{},y={...this.latestValues},v=dl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const T=It(),S=d?d.source:void 0,R=this.layout?this.layout.source:void 0,M=S!==R,D=this.getStack(),O=!D||D.members.length<=1,z=!!(M&&!O&&this.options.crossfade===!0&&!this.path.some(m4));this.animationProgress=0;let F;this.mixTargetDelta=ae=>{const re=ae/1e3;FE(v.x,u.x,re),FE(v.y,u.y,re),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(sc(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),d4(this.relativeTarget,this.relativeTargetOrigin,T,re),F&&Zk(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=It()),oi(F,this.relativeTarget)),M&&(this.animationValues=y,Yk(y,p,this.latestValues,re,z,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Qr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{Hf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=wl(0)),this.currentAnimation=Bk(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(t4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:y}=u;if(!(!h||!d||!p)){if(this!==u&&this.layout&&p&&Fx(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||It();const v=_n(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+v;const T=_n(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+T}oi(h,d),fl(h,y),ic(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new Jk),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&Mg("z",u,p,this.animationValues);for(let y=0;y<Dg.length;y++)Mg(`rotate${Dg[y]}`,u,p,this.animationValues),Mg(`skew${Dg[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Ff(h?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Ff(h?.pointerEvents)||""),this.hasProjected&&!Fa(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=e4(this.projectionDeltaWithTransform,this.treeScale,y);d&&(v=d(y,v)),u.transform=v;const{x:T,y:S}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${S.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const R in gc){if(y[R]===void 0)continue;const{correct:M,applyTo:D,isCSSVariable:O}=gc[R],z=v==="none"?y[R]:M(y[R],p);if(D){const F=D.length;for(let ae=0;ae<F;ae++)u[D[ae]]=z}else O?this.options.visualElement.renderState.vars[R]=z:u[R]=z}this.options.layoutId&&(u.pointerEvents=p===this?Ff(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(UE),this.root.sharedNodes.clear()}}}function i4(t){t.updateLayout()}function s4(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?li(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],T=_n(v);v.min=n[y].min,v.max=v.min+T}):Fx(a,e.layoutBox,n)&&li(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],T=_n(n[y]);v.max=v.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+T)});const u=dl();ic(u,n,e.layoutBox);const h=dl();l?ic(h,t.applyTransform(s,!0),e.measuredBox):ic(h,n,e.layoutBox);const d=!jx(u);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:T}=y;if(v&&T){const S=It();sc(S,e.layoutBox,v.layoutBox);const R=It();sc(R,n,T.layoutBox),Ux(S,R)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=R,t.relativeTargetOrigin=S,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function r4(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function a4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function o4(t){t.clearSnapshot()}function UE(t){t.clearMeasurements()}function zE(t){t.isLayoutDirty=!1}function l4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function BE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function u4(t){t.resolveTargetDelta()}function c4(t){t.calcProjection()}function h4(t){t.resetSkewAndRotation()}function f4(t){t.removeLeadSnapshot()}function FE(t,e,n){t.translate=gt(e.translate,0,n),t.scale=gt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function HE(t,e,n,s){t.min=gt(e.min,n.min,s),t.max=gt(e.max,n.max,s)}function d4(t,e,n,s){HE(t.x,e.x,n.x,s),HE(t.y,e.y,n.y,s)}function m4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const p4={duration:.45,ease:[.4,0,.1,1]},qE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),GE=qE("applewebkit/")&&!qE("chrome/")?Math.round:pi;function YE(t){t.min=GE(t.min),t.max=GE(t.max)}function g4(t){YE(t.x),YE(t.y)}function Fx(t,e,n){return t==="position"||t==="preserve-aspect"&&!wk(LE(e),LE(n),.2)}function y4(t){return t!==t.root&&t.scroll?.wasRoot}const v4=Bx({attachResizeListener:(t,e)=>yc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Pg={current:void 0},Hx=Bx({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Pg.current){const t=new v4({});t.mount(window),t.setOptions({layoutScroll:!0}),Pg.current=t}return Pg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),_4={pan:{Feature:Lk},drag:{Feature:kk,ProjectionNode:Hx,MeasureLayout:Ox}};function KE(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&dt.postRender(()=>l(e,Oc(e)))}class T4 extends aa{mount(){const{current:e}=this.node;e&&(this.unmount=BV(e,(n,s)=>(KE(this.node,s,"Start"),a=>KE(this.node,a,"End"))))}unmount(){}}class b4 extends aa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mc(yc(this.node.current,"focus",()=>this.onFocus()),yc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function XE(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&dt.postRender(()=>l(e,Oc(e)))}class w4 extends aa{mount(){const{current:e}=this.node;e&&(this.unmount=GV(e,(n,s)=>(XE(this.node,s,"Start"),(a,{success:l})=>XE(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const wy=new WeakMap,Vg=new WeakMap,E4=t=>{const e=wy.get(t.target);e&&e(t)},S4=t=>{t.forEach(E4)};function A4({root:t,...e}){const n=t||document;Vg.has(n)||Vg.set(n,{});const s=Vg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(S4,{root:t,...e})),s[a]}function x4(t,e,n){const s=A4(e);return wy.set(t,n),s.observe(t),()=>{wy.delete(t),s.unobserve(t)}}const C4={some:0,all:1};class R4 extends aa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:C4[a]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),T=p?y:v;T&&T(d)};return x4(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(N4(e,n))&&this.startObserver()}unmount(){}}function N4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const I4={inView:{Feature:R4},tap:{Feature:w4},focus:{Feature:b4},hover:{Feature:T4}},D4={layout:{ProjectionNode:Hx,MeasureLayout:Ox}},M4={...gk,...I4,..._4,...D4},Kt=MO(M4,GO),qx=[{name:"Taco House",phone:"+91 7795815315"},{name:"Hungry House",phone:"+91 9820243177"},{name:"MFC",phone:"+91 7338334970"},{name:"Hit&Run",phone:"+91 7406330088"},{name:"Janani Canteen",phone:"+91 8660138488"},{name:"Dollar Cafe",phone:"+91 8105306109"},{name:"Kamath Cafe",phone:"+91 8217044886"},{name:"Aditya Mess",phone:"+91 7483644586"},{name:"Apoorva Mess",phone:"+91 9108888320"},{name:"FC 2",phone:"+91 8861953102"},{name:"Poornima",phone:"+91 7090641985"},{name:"Nom Nom cafe",phone:"+91 7619422026"},{name:"Ashraya",phone:"+91 6361201519"}],zd=({searchTerm:t,setSearchTerm:e})=>{const[n,s]=V.useState(!1),[a,l]=V.useState(!1),[u,h]=V.useState(""),d=qx.filter(p=>p.name.toLowerCase().includes(u.toLowerCase())).sort((p,y)=>p.name.localeCompare(y.name));return w.jsxs(w.Fragment,{children:[w.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white/10 backdrop-blur-md border-b border-white/20 shadow-lg",children:w.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"flex items-center justify-between h-16",children:[w.jsx(zr,{mode:"wait",children:(!n||window.innerWidth>=768)&&w.jsx(Kt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center gap-2",children:w.jsxs(qr,{to:"/",className:"flex items-center gap-2",children:[w.jsx("div",{className:"hidden md:block p-2 bg-orange-500 rounded-lg text-white",children:w.jsx(nd,{size:24})}),w.jsx(qr,{to:"/admin",className:"md:hidden p-2 bg-orange-500 rounded-lg text-white",onClick:p=>p.stopPropagation(),children:w.jsx(nd,{size:24})}),w.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent",children:"MIT Mess"})]})})}),e&&w.jsxs("div",{className:"hidden md:flex flex-1 max-w-md mx-8 relative group",children:[w.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:w.jsx(Af,{className:"h-4 w-4 text-gray-400 group-focus-within:text-orange-500 transition-colors"})}),w.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-200/50 rounded-full leading-5 bg-white/50 backdrop-blur-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 sm:text-sm shadow-sm transition-all duration-300 hover:bg-white/80 focus:bg-white",placeholder:"Search messes...",value:t,onChange:p=>e(p.target.value)})]}),w.jsx(zr,{children:n&&w.jsxs(Kt.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:"100%"},exit:{opacity:0,width:0},className:"absolute inset-0 flex items-center px-4 bg-white md:hidden z-20",children:[w.jsx(Af,{className:"text-gray-400 mr-2",size:20}),w.jsx("input",{type:"text",placeholder:"Search...",value:t,onChange:p=>e(p.target.value),className:"flex-1 bg-transparent border-none focus:ring-0 text-gray-800 placeholder-gray-500 outline-none",autoFocus:!0}),w.jsx("button",{onClick:()=>s(!1),className:"p-2 text-gray-500 hover:text-orange-600",children:w.jsx(Ja,{size:20})})]})}),w.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[w.jsx("a",{href:"https://mit.nakshatramaps.com/",target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-orange-600 transition-colors",title:"Campus Map",children:w.jsx(LM,{size:20})}),w.jsx("button",{onClick:()=>l(!0),className:"md:hidden p-2 text-gray-600 hover:text-orange-600 transition-colors",title:"Restaurants",children:w.jsx(Vw,{size:20})}),e&&!n&&w.jsx("button",{onClick:()=>s(!0),className:"md:hidden p-2 text-gray-600 hover:text-orange-600 transition-colors",children:w.jsx(Af,{size:20})}),w.jsx("button",{onClick:()=>l(!0),className:"hidden md:block p-2 text-gray-600 hover:text-orange-600 transition-colors",title:"Restaurants",children:w.jsx(Vw,{size:20})}),w.jsx(qr,{to:"/admin",children:w.jsx("button",{className:"hidden md:block px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-orange-500 to-red-500 rounded-full hover:shadow-lg hover:scale-105 transition-all duration-300",children:"Admin Login"})})]})]})})}),w.jsx(zr,{children:a&&w.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>l(!1),children:w.jsxs(Kt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},onClick:p=>p.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[80vh] overflow-hidden flex flex-col",children:[w.jsxs("div",{className:"p-6 bg-gradient-to-r from-orange-500 to-red-500 text-white shrink-0",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-2xl font-bold",children:"Nearby Restaurants"}),w.jsx("p",{className:"text-white/80 text-sm",children:"Tap a card to call"})]}),w.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:w.jsx(Ja,{size:24})})]}),w.jsxs("div",{className:"relative",children:[w.jsx(Af,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-orange-500",size:18}),w.jsx("input",{type:"text",placeholder:"Search restaurants...",value:u,onChange:p=>h(p.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-white/50"})]})]}),w.jsx("div",{className:"p-6 overflow-y-auto",children:w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map((p,y)=>w.jsxs("a",{href:`tel:${p.phone}`,className:"block p-4 rounded-xl bg-white border border-gray-100 shadow-sm hover:shadow-md hover:border-orange-200 transition-all duration-300 group",children:[w.jsx("h4",{className:"font-bold text-gray-800 group-hover:text-orange-600 transition-colors mb-1",children:p.name}),w.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[w.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),p.phone]})]},y))})})]})})})]})};function Gx(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=Gx(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function Bs(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=Gx(t))&&(s&&(s+=" "),s+=e);return s}const P4=({mess:t})=>{const[e,n]=V.useState(new Date().toLocaleDateString("en-US",{weekday:"long"})),s=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],a=t.menu[e]||t.menu.Monday,l=y=>{if([y.Breakfast,y.Lunch,y.Snacks,y.Dinner].join(" ").toLowerCase().includes("month end dinner"))return"Month End Dinner";const T=["chicken","paneer","egg","sewaiya","kebab","ice cream","semiyan","kheer","swiss roll","gulab jamun"],S=["chapati","steam rice","steamed rice","rice"],R=z=>{if(!z)return null;const F=z.split(",").map(ae=>ae.trim());for(const ae of F){const re=ae.toLowerCase();if(T.some(J=>re.includes(J)))return ae}for(const ae of F){const re=ae.toLowerCase();if(!S.some(J=>re.includes(J)))return ae}return F[0]},M=R(y.Lunch),D=R(y.Dinner),O=z=>z?T.some(F=>z.toLowerCase().includes(F)):!1;return O(M)?M:O(D)?D:M||D||"Special Meal"},u={"from-orange-500 to-red-500":{text:"text-orange-600",shadow:"hover:shadow-orange-500/40",bg:"bg-orange-50"},"from-blue-500 to-cyan-500":{text:"text-blue-600",shadow:"hover:shadow-blue-500/40",bg:"bg-blue-50"},"from-green-500 to-emerald-500":{text:"text-green-600",shadow:"hover:shadow-green-500/40",bg:"bg-green-50"},"from-purple-500 to-pink-500":{text:"text-purple-600",shadow:"hover:shadow-purple-500/40",bg:"bg-purple-50"},"from-pink-500 to-rose-500":{text:"text-pink-600",shadow:"hover:shadow-pink-500/40",bg:"bg-pink-50"}},d=(y=>y?y.includes("blue")||y.includes("cyan")?u["from-blue-500 to-cyan-500"]:y.includes("green")||y.includes("emerald")?u["from-green-500 to-emerald-500"]:y.includes("purple")?u["from-purple-500 to-pink-500"]:y.includes("pink")||y.includes("rose")?u["from-pink-500 to-rose-500"]:u["from-orange-500 to-red-500"]:u["from-orange-500 to-red-500"])(t.color),p=y=>y?y.toLowerCase().split(" ").map(v=>v.charAt(0).toUpperCase()+v.slice(1)).join(" "):"";return w.jsx(qr,{to:`/mess/${t.id}`,className:"h-full block",children:w.jsxs(Kt.div,{layout:!0,whileHover:{y:-5,transition:{duration:.1}},className:Bs("relative overflow-hidden rounded-2xl bg-white/40 backdrop-blur-lg border border-white/50 shadow-xl hover:shadow-2xl transition-all duration-100 cursor-pointer group h-full flex flex-col",d.shadow),children:[w.jsxs("div",{className:Bs("px-5 py-3 bg-gradient-to-r text-white transition-all duration-300",t.color),children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("h3",{className:"text-xl font-bold group-hover:scale-105 transition-transform duration-300",children:t.name}),w.jsx("div",{className:"p-1.5 bg-white/20 rounded-full group-hover:bg-white/30 transition-colors",children:w.jsx(ov,{size:16})})]}),w.jsxs("p",{className:"mt-1 text-white/90 text-xs flex items-center gap-1",children:[w.jsx(td,{size:12}),"Today's Special: ",(()=>{const y=()=>{const M=new Date,D=M.getDay(),O=M.getDate()-D+(D===0?-6:1),z=new Date(M.setDate(O));return z.setHours(0,0,0,0),z},v=t.lastUpdated?new Date(t.lastUpdated):null,T=y(),S=!v||v<T,R=t.menu&&Object.keys(t.menu).some(M=>{const D=t.menu[M];return D?Object.values(D).some(O=>O&&O!=="N/A"&&O.trim()!==""):!1});return S||!R?"N/A":p(l(a))})()]})]}),w.jsx("div",{className:"p-5 flex-1 flex flex-col",children:(()=>{const y=()=>{const M=new Date,D=M.getDay(),O=M.getDate()-D+(D===0?-6:1),z=new Date(M.setDate(O));return z.setHours(0,0,0,0),z},v=t.lastUpdated?new Date(t.lastUpdated):null,T=y(),S=!v||v<T,R=t.menu&&Object.keys(t.menu).some(M=>{const D=t.menu[M];return D?Object.values(D).some(O=>O&&O!=="N/A"&&O.trim()!==""):!1});return S||!R?w.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center opacity-70 min-h-[200px]",children:[w.jsx("div",{className:Bs("text-lg font-bold mb-1",d.text),children:"Menu Not Uploaded"}),w.jsx("p",{className:"text-xs text-gray-400",children:"Check back later"})]}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"flex justify-between items-center w-full mb-3",onClick:M=>M.preventDefault(),children:s.map(M=>w.jsx("button",{onClick:D=>{D.preventDefault(),D.stopPropagation(),n(M)},className:Bs("px-1.5 py-1 rounded-md text-[10px] font-medium transition-all",e===M?"bg-gray-800 text-white shadow-md":"bg-white/50 text-gray-600 hover:bg-white/80"),children:M.slice(0,3)},M))}),w.jsx("div",{className:"grid grid-cols-1 flex-1 min-h-0",children:s.map(M=>{const D=t.menu[M]||t.menu.Monday,O=e===M;return w.jsxs("div",{className:Bs("flex flex-col gap-2.5 overflow-y-auto pr-1 pb-2 custom-scrollbar scrollbar-hide transition-opacity duration-200",O?"opacity-100 z-10 pointer-events-auto":"opacity-0 z-0 pointer-events-none"),style:{gridArea:"1 / 1 / 2 / 2"},children:[w.jsx("style",{jsx:!0,children:`
                                                    .scrollbar-hide::-webkit-scrollbar {
                                                        display: none;
                                                    }
                                                    .scrollbar-hide {
                                                        -ms-overflow-style: none;
                                                        scrollbar-width: none;
                                                    }
                                                `}),w.jsxs("div",{className:"p-3 rounded-xl bg-white/60 border border-white/40 shrink-0",children:[w.jsx("h4",{className:"text-[10px] font-bold text-orange-600 uppercase tracking-wider mb-0.5",children:"Breakfast"}),w.jsx("p",{className:"text-gray-800 font-medium text-xs leading-tight break-words",children:p(D.Breakfast)})]}),w.jsxs("div",{className:"p-3 rounded-xl bg-white/60 border border-white/40 shrink-0",children:[w.jsx("h4",{className:"text-[10px] font-bold text-green-600 uppercase tracking-wider mb-0.5",children:"Lunch"}),w.jsx("p",{className:"text-gray-800 font-medium text-xs leading-tight break-words",children:p(D.Lunch)})]}),w.jsxs("div",{className:"p-3 rounded-xl bg-white/60 border border-white/40 shrink-0",children:[w.jsx("h4",{className:"text-[10px] font-bold text-yellow-600 uppercase tracking-wider mb-0.5",children:"Snacks"}),w.jsx("p",{className:"text-gray-800 font-medium text-xs leading-tight break-words",children:p(D.Snacks)})]}),w.jsxs("div",{className:"p-3 rounded-xl bg-white/60 border border-white/40 shrink-0 mb-4",children:[w.jsx("h4",{className:"text-[10px] font-bold text-blue-600 uppercase tracking-wider mb-0.5",children:"Dinner"}),w.jsx("p",{className:"text-gray-800 font-medium text-xs leading-tight break-words",children:p(D.Dinner)})]})]},M)})})]})})()})]})})},V4=()=>{};var $E={};const Yx=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},O4=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(d>>10)),e[s++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Kx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,d=a+2<t.length,p=d?t[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let T=(h&15)<<2|p>>6,S=p&63;d||(S=64,u||(T=64)),s.push(n[y],n[v],n[T],n[S])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Yx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):O4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||v==null)throw new k4;const T=l<<2|h>>4;if(s.push(T),p!==64){const S=h<<4&240|p>>2;if(s.push(S),v!==64){const R=p<<6&192|v;s.push(R)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class k4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L4=function(t){const e=Yx(t);return Kx.encodeByteArray(e,!0)},ld=function(t){return L4(t).replace(/\./g,"")},Xx=function(t){try{return Kx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function j4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const U4=()=>j4().__FIREBASE_DEFAULTS__,z4=()=>{if(typeof process>"u"||typeof $E>"u")return;const t=$E.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},B4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Xx(t[1]);return e&&JSON.parse(e)},Bd=()=>{try{return V4()||U4()||z4()||B4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$x=t=>Bd()?.emulatorHosts?.[t],F4=t=>{const e=$x(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Qx=()=>Bd()?.config,Wx=t=>Bd()?.[`_${t}`];class H4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Vl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Zx(t){return(await fetch(t,{credentials:"include"})).ok}function q4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ld(JSON.stringify(n)),ld(JSON.stringify(u)),""].join(".")}const rc={};function G4(){const t={prod:[],emulator:[]};for(const e of Object.keys(rc))rc[e]?t.emulator.push(e):t.prod.push(e);return t}function Y4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let QE=!1;function Jx(t,e){if(typeof window>"u"||typeof document>"u"||!Vl(window.location.host)||rc[t]===e||rc[t]||QE)return;rc[t]=e;function n(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=G4().prod.length>0;function u(){const T=document.getElementById(s);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function d(T,S){T.setAttribute("width","24"),T.setAttribute("id",S),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{QE=!0,u()},T}function y(T,S){T.setAttribute("id",S),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function v(){const T=Y4(s),S=n("text"),R=document.getElementById(S)||document.createElement("span"),M=n("learnmore"),D=document.getElementById(M)||document.createElement("a"),O=n("preprendIcon"),z=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const F=T.element;h(F),y(D,M);const ae=p();d(z,O),F.append(z,R,D,ae),document.body.appendChild(F)}l?(R.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function X4(){const t=Bd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Q4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function W4(){const t=gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Z4(){return!X4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tC(){try{return typeof indexedDB=="object"}catch{return!1}}function nC(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}function J4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const eL="FirebaseError";class Ui extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=eL,Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lo.prototype.create)}}class lo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?tL(l,s):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Ui(a,h,s)}}function tL(t,e){return t.replace(nL,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const nL=/\{\$([^}]+)}/g;function iL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zr(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(WE(l)&&WE(u)){if(!Zr(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function WE(t){return t!==null&&typeof t=="object"}function kc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Xu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function $u(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function sL(t,e){const n=new rL(t,e);return n.subscribe.bind(n)}class rL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");aL(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Og),a.error===void 0&&(a.error=Og),a.complete===void 0&&(a.complete=Og);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Og(){}const oL=1e3,lL=2,uL=14400*1e3,cL=.5;function ZE(t,e=oL,n=lL){const s=e*Math.pow(n,t),a=Math.round(cL*s*(Math.random()-.5)*2);return Math.min(uL,s+a)}function vt(t){return t&&t._delegate?t._delegate:t}class ki{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ha="[DEFAULT]";class hL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new H4;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dL(e))try{this.getOrInitializeService({instanceIdentifier:Ha})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Ha){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ha){return this.instances.has(e)}getOptions(e=Ha){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:fL(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ha){return this.component?this.component.multipleInstances?e:Ha:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fL(t){return t===Ha?void 0:t}function dL(t){return t.instantiationMode==="EAGER"}class mL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const pL={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},gL=Ue.INFO,yL={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},vL=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=yL[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fd{constructor(e){this.name=e,this._logLevel=gL,this._logHandler=vL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const _L=(t,e)=>e.some(n=>t instanceof n);let JE,eS;function TL(){return JE||(JE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bL(){return eS||(eS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iC=new WeakMap,Ey=new WeakMap,sC=new WeakMap,kg=new WeakMap,Fv=new WeakMap;function wL(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Gr(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&iC.set(n,t)}).catch(()=>{}),Fv.set(e,t),e}function EL(t){if(Ey.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Ey.set(t,e)}let Sy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ey.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function SL(t){Sy=t(Sy)}function AL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Lg(this),e,...n);return sC.set(s,e.sort?e.sort():[e]),Gr(s)}:bL().includes(t)?function(...e){return t.apply(Lg(this),e),Gr(iC.get(this))}:function(...e){return Gr(t.apply(Lg(this),e))}}function xL(t){return typeof t=="function"?AL(t):(t instanceof IDBTransaction&&EL(t),_L(t,TL())?new Proxy(t,Sy):t)}function Gr(t){if(t instanceof IDBRequest)return wL(t);if(kg.has(t))return kg.get(t);const e=xL(t);return e!==t&&(kg.set(t,e),Fv.set(e,t)),e}const Lg=t=>Fv.get(t);function rC(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=Gr(u);return s&&u.addEventListener("upgradeneeded",d=>{s(Gr(u.result),d.oldVersion,d.newVersion,Gr(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const CL=["get","getKey","getAll","getAllKeys","count"],RL=["put","add","delete","clear"],jg=new Map;function tS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jg.get(e))return jg.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=RL.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||CL.includes(n)))return;const l=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let p=d.store;return s&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&d.done]))[0]};return jg.set(e,l),l}SL(t=>({...t,get:(e,n,s)=>tS(e,n)||t.get(e,n,s),has:(e,n)=>!!tS(e,n)||t.has(e,n)}));class NL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IL(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function IL(t){return t.getComponent()?.type==="VERSION"}const Ay="@firebase/app",nS="0.14.6";const Qs=new Fd("@firebase/app"),DL="@firebase/app-compat",ML="@firebase/analytics-compat",PL="@firebase/analytics",VL="@firebase/app-check-compat",OL="@firebase/app-check",kL="@firebase/auth",LL="@firebase/auth-compat",jL="@firebase/database",UL="@firebase/data-connect",zL="@firebase/database-compat",BL="@firebase/functions",FL="@firebase/functions-compat",HL="@firebase/installations",qL="@firebase/installations-compat",GL="@firebase/messaging",YL="@firebase/messaging-compat",KL="@firebase/performance",XL="@firebase/performance-compat",$L="@firebase/remote-config",QL="@firebase/remote-config-compat",WL="@firebase/storage",ZL="@firebase/storage-compat",JL="@firebase/firestore",e6="@firebase/ai",t6="@firebase/firestore-compat",n6="firebase",i6="12.6.0";const xy="[DEFAULT]",s6={[Ay]:"fire-core",[DL]:"fire-core-compat",[PL]:"fire-analytics",[ML]:"fire-analytics-compat",[OL]:"fire-app-check",[VL]:"fire-app-check-compat",[kL]:"fire-auth",[LL]:"fire-auth-compat",[jL]:"fire-rtdb",[UL]:"fire-data-connect",[zL]:"fire-rtdb-compat",[BL]:"fire-fn",[FL]:"fire-fn-compat",[HL]:"fire-iid",[qL]:"fire-iid-compat",[GL]:"fire-fcm",[YL]:"fire-fcm-compat",[KL]:"fire-perf",[XL]:"fire-perf-compat",[$L]:"fire-rc",[QL]:"fire-rc-compat",[WL]:"fire-gcs",[ZL]:"fire-gcs-compat",[JL]:"fire-fst",[t6]:"fire-fst-compat",[e6]:"fire-vertex","fire-js":"fire-js",[n6]:"fire-js-all"};const ud=new Map,r6=new Map,Cy=new Map;function iS(t,e){try{t.container.addComponent(e)}catch(n){Qs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vs(t){const e=t.name;if(Cy.has(e))return Qs.debug(`There were multiple attempts to register component ${e}.`),!1;Cy.set(e,t);for(const n of ud.values())iS(n,t);for(const n of r6.values())iS(n,t);return!0}function uo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ui(t){return t==null?!1:t.settings!==void 0}const a6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new lo("app","Firebase",a6);class o6{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}const Ol=i6;function aC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:xy,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Yr.create("bad-app-name",{appName:String(a)});if(n||(n=Qx()),!n)throw Yr.create("no-options");const l=ud.get(a);if(l){if(Zr(n,l.options)&&Zr(s,l.config))return l;throw Yr.create("duplicate-app",{appName:a})}const u=new mL(a);for(const d of Cy.values())u.addComponent(d);const h=new o6(n,s,u);return ud.set(a,h),h}function Hv(t=xy){const e=ud.get(t);if(!e&&t===xy&&Qx())return aC();if(!e)throw Yr.create("no-app",{appName:t});return e}function gi(t,e,n){let s=s6[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qs.warn(u.join(" "));return}vs(new ki(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const l6="firebase-heartbeat-database",u6=1,vc="firebase-heartbeat-store";let Ug=null;function oC(){return Ug||(Ug=rC(l6,u6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yr.create("idb-open",{originalErrorMessage:t.message})})),Ug}async function c6(t){try{const n=(await oC()).transaction(vc),s=await n.objectStore(vc).get(lC(t));return await n.done,s}catch(e){if(e instanceof Ui)Qs.warn(e.message);else{const n=Yr.create("idb-get",{originalErrorMessage:e?.message});Qs.warn(n.message)}}}async function sS(t,e){try{const s=(await oC()).transaction(vc,"readwrite");await s.objectStore(vc).put(e,lC(t)),await s.done}catch(n){if(n instanceof Ui)Qs.warn(n.message);else{const s=Yr.create("idb-set",{originalErrorMessage:n?.message});Qs.warn(s.message)}}}function lC(t){return`${t.name}!${t.options.appId}`}const h6=1024,f6=30;class d6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new p6(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=rS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>f6){const a=g6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=rS(),{heartbeatsToSend:n,unsentEntries:s}=m6(this._heartbeatsCache.heartbeats),a=ld(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Qs.warn(e),""}}}function rS(){return new Date().toISOString().substring(0,10)}function m6(t,e=h6){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),aS(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),aS(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class p6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tC()?nC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await c6(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return sS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return sS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function aS(t){return ld(JSON.stringify({version:2,heartbeats:t})).length}function g6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function y6(t){vs(new ki("platform-logger",e=>new NL(e),"PRIVATE")),vs(new ki("heartbeat",e=>new d6(e),"PRIVATE")),gi(Ay,nS,t),gi(Ay,nS,"esm2020"),gi("fire-js","")}y6("");var v6="firebase",_6="12.6.0";gi(v6,_6,"app");var oS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Kr,uC;(function(){var t;function e(N,x){function I(){}I.prototype=x.prototype,N.F=x.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(j,L,H){for(var P=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)P[Fe-2]=arguments[Fe];return x.prototype[L].apply(j,P)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,x,I){I||(I=0);const j=Array(16);if(typeof x=="string")for(var L=0;L<16;++L)j[L]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(L=0;L<16;++L)j[L]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=N.g[0],I=N.g[1],L=N.g[2];let H=N.g[3],P;P=x+(H^I&(L^H))+j[0]+3614090360&4294967295,x=I+(P<<7&4294967295|P>>>25),P=H+(L^x&(I^L))+j[1]+3905402710&4294967295,H=x+(P<<12&4294967295|P>>>20),P=L+(I^H&(x^I))+j[2]+606105819&4294967295,L=H+(P<<17&4294967295|P>>>15),P=I+(x^L&(H^x))+j[3]+3250441966&4294967295,I=L+(P<<22&4294967295|P>>>10),P=x+(H^I&(L^H))+j[4]+4118548399&4294967295,x=I+(P<<7&4294967295|P>>>25),P=H+(L^x&(I^L))+j[5]+1200080426&4294967295,H=x+(P<<12&4294967295|P>>>20),P=L+(I^H&(x^I))+j[6]+2821735955&4294967295,L=H+(P<<17&4294967295|P>>>15),P=I+(x^L&(H^x))+j[7]+4249261313&4294967295,I=L+(P<<22&4294967295|P>>>10),P=x+(H^I&(L^H))+j[8]+1770035416&4294967295,x=I+(P<<7&4294967295|P>>>25),P=H+(L^x&(I^L))+j[9]+2336552879&4294967295,H=x+(P<<12&4294967295|P>>>20),P=L+(I^H&(x^I))+j[10]+4294925233&4294967295,L=H+(P<<17&4294967295|P>>>15),P=I+(x^L&(H^x))+j[11]+2304563134&4294967295,I=L+(P<<22&4294967295|P>>>10),P=x+(H^I&(L^H))+j[12]+1804603682&4294967295,x=I+(P<<7&4294967295|P>>>25),P=H+(L^x&(I^L))+j[13]+4254626195&4294967295,H=x+(P<<12&4294967295|P>>>20),P=L+(I^H&(x^I))+j[14]+2792965006&4294967295,L=H+(P<<17&4294967295|P>>>15),P=I+(x^L&(H^x))+j[15]+1236535329&4294967295,I=L+(P<<22&4294967295|P>>>10),P=x+(L^H&(I^L))+j[1]+4129170786&4294967295,x=I+(P<<5&4294967295|P>>>27),P=H+(I^L&(x^I))+j[6]+3225465664&4294967295,H=x+(P<<9&4294967295|P>>>23),P=L+(x^I&(H^x))+j[11]+643717713&4294967295,L=H+(P<<14&4294967295|P>>>18),P=I+(H^x&(L^H))+j[0]+3921069994&4294967295,I=L+(P<<20&4294967295|P>>>12),P=x+(L^H&(I^L))+j[5]+3593408605&4294967295,x=I+(P<<5&4294967295|P>>>27),P=H+(I^L&(x^I))+j[10]+38016083&4294967295,H=x+(P<<9&4294967295|P>>>23),P=L+(x^I&(H^x))+j[15]+3634488961&4294967295,L=H+(P<<14&4294967295|P>>>18),P=I+(H^x&(L^H))+j[4]+3889429448&4294967295,I=L+(P<<20&4294967295|P>>>12),P=x+(L^H&(I^L))+j[9]+568446438&4294967295,x=I+(P<<5&4294967295|P>>>27),P=H+(I^L&(x^I))+j[14]+3275163606&4294967295,H=x+(P<<9&4294967295|P>>>23),P=L+(x^I&(H^x))+j[3]+4107603335&4294967295,L=H+(P<<14&4294967295|P>>>18),P=I+(H^x&(L^H))+j[8]+1163531501&4294967295,I=L+(P<<20&4294967295|P>>>12),P=x+(L^H&(I^L))+j[13]+2850285829&4294967295,x=I+(P<<5&4294967295|P>>>27),P=H+(I^L&(x^I))+j[2]+4243563512&4294967295,H=x+(P<<9&4294967295|P>>>23),P=L+(x^I&(H^x))+j[7]+1735328473&4294967295,L=H+(P<<14&4294967295|P>>>18),P=I+(H^x&(L^H))+j[12]+2368359562&4294967295,I=L+(P<<20&4294967295|P>>>12),P=x+(I^L^H)+j[5]+4294588738&4294967295,x=I+(P<<4&4294967295|P>>>28),P=H+(x^I^L)+j[8]+2272392833&4294967295,H=x+(P<<11&4294967295|P>>>21),P=L+(H^x^I)+j[11]+1839030562&4294967295,L=H+(P<<16&4294967295|P>>>16),P=I+(L^H^x)+j[14]+4259657740&4294967295,I=L+(P<<23&4294967295|P>>>9),P=x+(I^L^H)+j[1]+2763975236&4294967295,x=I+(P<<4&4294967295|P>>>28),P=H+(x^I^L)+j[4]+1272893353&4294967295,H=x+(P<<11&4294967295|P>>>21),P=L+(H^x^I)+j[7]+4139469664&4294967295,L=H+(P<<16&4294967295|P>>>16),P=I+(L^H^x)+j[10]+3200236656&4294967295,I=L+(P<<23&4294967295|P>>>9),P=x+(I^L^H)+j[13]+681279174&4294967295,x=I+(P<<4&4294967295|P>>>28),P=H+(x^I^L)+j[0]+3936430074&4294967295,H=x+(P<<11&4294967295|P>>>21),P=L+(H^x^I)+j[3]+3572445317&4294967295,L=H+(P<<16&4294967295|P>>>16),P=I+(L^H^x)+j[6]+76029189&4294967295,I=L+(P<<23&4294967295|P>>>9),P=x+(I^L^H)+j[9]+3654602809&4294967295,x=I+(P<<4&4294967295|P>>>28),P=H+(x^I^L)+j[12]+3873151461&4294967295,H=x+(P<<11&4294967295|P>>>21),P=L+(H^x^I)+j[15]+530742520&4294967295,L=H+(P<<16&4294967295|P>>>16),P=I+(L^H^x)+j[2]+3299628645&4294967295,I=L+(P<<23&4294967295|P>>>9),P=x+(L^(I|~H))+j[0]+4096336452&4294967295,x=I+(P<<6&4294967295|P>>>26),P=H+(I^(x|~L))+j[7]+1126891415&4294967295,H=x+(P<<10&4294967295|P>>>22),P=L+(x^(H|~I))+j[14]+2878612391&4294967295,L=H+(P<<15&4294967295|P>>>17),P=I+(H^(L|~x))+j[5]+4237533241&4294967295,I=L+(P<<21&4294967295|P>>>11),P=x+(L^(I|~H))+j[12]+1700485571&4294967295,x=I+(P<<6&4294967295|P>>>26),P=H+(I^(x|~L))+j[3]+2399980690&4294967295,H=x+(P<<10&4294967295|P>>>22),P=L+(x^(H|~I))+j[10]+4293915773&4294967295,L=H+(P<<15&4294967295|P>>>17),P=I+(H^(L|~x))+j[1]+2240044497&4294967295,I=L+(P<<21&4294967295|P>>>11),P=x+(L^(I|~H))+j[8]+1873313359&4294967295,x=I+(P<<6&4294967295|P>>>26),P=H+(I^(x|~L))+j[15]+4264355552&4294967295,H=x+(P<<10&4294967295|P>>>22),P=L+(x^(H|~I))+j[6]+2734768916&4294967295,L=H+(P<<15&4294967295|P>>>17),P=I+(H^(L|~x))+j[13]+1309151649&4294967295,I=L+(P<<21&4294967295|P>>>11),P=x+(L^(I|~H))+j[4]+4149444226&4294967295,x=I+(P<<6&4294967295|P>>>26),P=H+(I^(x|~L))+j[11]+3174756917&4294967295,H=x+(P<<10&4294967295|P>>>22),P=L+(x^(H|~I))+j[2]+718787259&4294967295,L=H+(P<<15&4294967295|P>>>17),P=I+(H^(L|~x))+j[9]+3951481745&4294967295,N.g[0]=N.g[0]+x&4294967295,N.g[1]=N.g[1]+(L+(P<<21&4294967295|P>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+H&4294967295}s.prototype.v=function(N,x){x===void 0&&(x=N.length);const I=x-this.blockSize,j=this.C;let L=this.h,H=0;for(;H<x;){if(L==0)for(;H<=I;)a(this,N,H),H+=this.blockSize;if(typeof N=="string"){for(;H<x;)if(j[L++]=N.charCodeAt(H++),L==this.blockSize){a(this,j),L=0;break}}else for(;H<x;)if(j[L++]=N[H++],L==this.blockSize){a(this,j),L=0;break}}this.h=L,this.o+=x},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var x=1;x<N.length-8;++x)N[x]=0;x=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=x&255,x/=256;for(this.v(N),N=Array(16),x=0,I=0;I<4;++I)for(let j=0;j<32;j+=8)N[x++]=this.g[I]>>>j&255;return N};function l(N,x){var I=h;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=x(N)}function u(N,x){this.h=x;const I=[];let j=!0;for(let L=N.length-1;L>=0;L--){const H=N[L]|0;j&&H==x||(I[L]=H,j=!1)}this.g=I}var h={};function d(N){return-128<=N&&N<128?l(N,function(x){return new u([x|0],x<0?-1:0)}):new u([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return v;if(N<0)return D(p(-N));const x=[];let I=1;for(let j=0;N>=I;j++)x[j]=N/I|0,I*=4294967296;return new u(x,0)}function y(N,x){if(N.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(N.charAt(0)=="-")return D(y(N.substring(1),x));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(x,8));let j=v;for(let H=0;H<N.length;H+=8){var L=Math.min(8,N.length-H);const P=parseInt(N.substring(H,H+L),x);L<8?(L=p(Math.pow(x,L)),j=j.j(L).add(p(P))):(j=j.j(I),j=j.add(p(P)))}return j}var v=d(0),T=d(1),S=d(16777216);t=u.prototype,t.m=function(){if(M(this))return-D(this).m();let N=0,x=1;for(let I=0;I<this.g.length;I++){const j=this.i(I);N+=(j>=0?j:4294967296+j)*x,x*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(R(this))return"0";if(M(this))return"-"+D(this).toString(N);const x=p(Math.pow(N,6));var I=this;let j="";for(;;){const L=ae(I,x).g;I=O(I,L.j(x));let H=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=L,R(I))return H+j;for(;H.length<6;)H="0"+H;j=H+j}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function R(N){if(N.h!=0)return!1;for(let x=0;x<N.g.length;x++)if(N.g[x]!=0)return!1;return!0}function M(N){return N.h==-1}t.l=function(N){return N=O(this,N),M(N)?-1:R(N)?0:1};function D(N){const x=N.g.length,I=[];for(let j=0;j<x;j++)I[j]=~N.g[j];return new u(I,~N.h).add(T)}t.abs=function(){return M(this)?D(this):this},t.add=function(N){const x=Math.max(this.g.length,N.g.length),I=[];let j=0;for(let L=0;L<=x;L++){let H=j+(this.i(L)&65535)+(N.i(L)&65535),P=(H>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);j=P>>>16,H&=65535,P&=65535,I[L]=P<<16|H}return new u(I,I[I.length-1]&-2147483648?-1:0)};function O(N,x){return N.add(D(x))}t.j=function(N){if(R(this)||R(N))return v;if(M(this))return M(N)?D(this).j(D(N)):D(D(this).j(N));if(M(N))return D(this.j(D(N)));if(this.l(S)<0&&N.l(S)<0)return p(this.m()*N.m());const x=this.g.length+N.g.length,I=[];for(var j=0;j<2*x;j++)I[j]=0;for(j=0;j<this.g.length;j++)for(let L=0;L<N.g.length;L++){const H=this.i(j)>>>16,P=this.i(j)&65535,Fe=N.i(L)>>>16,Qe=N.i(L)&65535;I[2*j+2*L]+=P*Qe,z(I,2*j+2*L),I[2*j+2*L+1]+=H*Qe,z(I,2*j+2*L+1),I[2*j+2*L+1]+=P*Fe,z(I,2*j+2*L+1),I[2*j+2*L+2]+=H*Fe,z(I,2*j+2*L+2)}for(N=0;N<x;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=x;N<2*x;N++)I[N]=0;return new u(I,0)};function z(N,x){for(;(N[x]&65535)!=N[x];)N[x+1]+=N[x]>>>16,N[x]&=65535,x++}function F(N,x){this.g=N,this.h=x}function ae(N,x){if(R(x))throw Error("division by zero");if(R(N))return new F(v,v);if(M(N))return x=ae(D(N),x),new F(D(x.g),D(x.h));if(M(x))return x=ae(N,D(x)),new F(D(x.g),x.h);if(N.g.length>30){if(M(N)||M(x))throw Error("slowDivide_ only works with positive integers.");for(var I=T,j=x;j.l(N)<=0;)I=re(I),j=re(j);var L=J(I,1),H=J(j,1);for(j=J(j,2),I=J(I,2);!R(j);){var P=H.add(j);P.l(N)<=0&&(L=L.add(I),H=P),j=J(j,1),I=J(I,1)}return x=O(N,L.j(x)),new F(L,x)}for(L=v;N.l(x)>=0;){for(I=Math.max(1,Math.floor(N.m()/x.m())),j=Math.ceil(Math.log(I)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),H=p(I),P=H.j(x);M(P)||P.l(N)>0;)I-=j,H=p(I),P=H.j(x);R(H)&&(H=T),L=L.add(H),N=O(N,P)}return new F(L,N)}t.B=function(N){return ae(this,N).h},t.and=function(N){const x=Math.max(this.g.length,N.g.length),I=[];for(let j=0;j<x;j++)I[j]=this.i(j)&N.i(j);return new u(I,this.h&N.h)},t.or=function(N){const x=Math.max(this.g.length,N.g.length),I=[];for(let j=0;j<x;j++)I[j]=this.i(j)|N.i(j);return new u(I,this.h|N.h)},t.xor=function(N){const x=Math.max(this.g.length,N.g.length),I=[];for(let j=0;j<x;j++)I[j]=this.i(j)^N.i(j);return new u(I,this.h^N.h)};function re(N){const x=N.g.length+1,I=[];for(let j=0;j<x;j++)I[j]=N.i(j)<<1|N.i(j-1)>>>31;return new u(I,N.h)}function J(N,x){const I=x>>5;x%=32;const j=N.g.length-I,L=[];for(let H=0;H<j;H++)L[H]=x>0?N.i(H+I)>>>x|N.i(H+I+1)<<32-x:N.i(H+I);return new u(L,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,uC=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Kr=u}).apply(typeof oS<"u"?oS:typeof self<"u"?self:typeof window<"u"?window:{});var If=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cC,Qu,hC,qf,Ry,fC,dC,mC;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof If=="object"&&If];for(var _=0;_<f.length;++_){var E=f[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function a(f,_){if(_)e:{var E=s;f=f.split(".");for(var C=0;C<f.length-1;C++){var G=f[C];if(!(G in E))break e;E=E[G]}f=f[f.length-1],C=E[f],_=_(C),_!=C&&_!=null&&e(E,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var E=[],C;for(C in _)Object.prototype.hasOwnProperty.call(_,C)&&E.push([C,_[C]]);return E}});var l=l||{},u=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,E){return f.call.apply(f.bind,arguments)}function p(f,_,E){return p=d,p.apply(null,arguments)}function y(f,_){var E=Array.prototype.slice.call(arguments,1);return function(){var C=E.slice();return C.push.apply(C,arguments),f.apply(this,C)}}function v(f,_){function E(){}E.prototype=_.prototype,f.Z=_.prototype,f.prototype=new E,f.prototype.constructor=f,f.Ob=function(C,G,$){for(var ue=Array(arguments.length-2),De=2;De<arguments.length;De++)ue[De-2]=arguments[De];return _.prototype[G].apply(C,ue)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function S(f){const _=f.length;if(_>0){const E=Array(_);for(let C=0;C<_;C++)E[C]=f[C];return E}return[]}function R(f,_){for(let C=1;C<arguments.length;C++){const G=arguments[C];var E=typeof G;if(E=E!="object"?E:G?Array.isArray(G)?"array":E:"null",E=="array"||E=="object"&&typeof G.length=="number"){E=f.length||0;const $=G.length||0;f.length=E+$;for(let ue=0;ue<$;ue++)f[E+ue]=G[ue]}else f.push(G)}}class M{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function D(f){u.setTimeout(()=>{throw f},0)}function O(){var f=N;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class z{constructor(){this.h=this.g=null}add(_,E){const C=F.get();C.set(_,E),this.h?this.h.next=C:this.g=C,this.h=C}}var F=new M(()=>new ae,f=>f.reset());class ae{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let re,J=!1,N=new z,x=()=>{const f=Promise.resolve(void 0);re=()=>{f.then(I)}};function I(){for(var f;f=O();){try{f.h.call(f.g)}catch(E){D(E)}var _=F;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}J=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return f})();function P(f){return/^[\s\xa0]*$/.test(f)}function Fe(f,_){L.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(Fe,L),Fe.prototype.init=function(f,_){const E=this.type=f.type,C=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(E=="mouseover"?_=f.fromElement:E=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Fe.Z.h.call(this)},Fe.prototype.h=function(){Fe.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Qe="closure_listenable_"+(Math.random()*1e6|0),W=0;function le(f,_,E,C,G){this.listener=f,this.proxy=null,this.src=_,this.type=E,this.capture=!!C,this.ha=G,this.key=++W,this.da=this.fa=!1}function de(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function xe(f,_,E){for(const C in f)_.call(E,f[C],C,f)}function Ve(f,_){for(const E in f)_.call(void 0,f[E],E,f)}function U(f){const _={};for(const E in f)_[E]=f[E];return _}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(f,_){let E,C;for(let G=1;G<arguments.length;G++){C=arguments[G];for(E in C)f[E]=C[E];for(let $=0;$<te.length;$++)E=te[$],Object.prototype.hasOwnProperty.call(C,E)&&(f[E]=C[E])}}function he(f){this.src=f,this.g={},this.h=0}he.prototype.add=function(f,_,E,C,G){const $=f.toString();f=this.g[$],f||(f=this.g[$]=[],this.h++);const ue=Ce(f,_,C,G);return ue>-1?(_=f[ue],E||(_.fa=!1)):(_=new le(_,this.src,$,!!C,G),_.fa=E,f.push(_)),_};function Te(f,_){const E=_.type;if(E in f.g){var C=f.g[E],G=Array.prototype.indexOf.call(C,_,void 0),$;($=G>=0)&&Array.prototype.splice.call(C,G,1),$&&(de(_),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Ce(f,_,E,C){for(let G=0;G<f.length;++G){const $=f[G];if(!$.da&&$.listener==_&&$.capture==!!E&&$.ha==C)return G}return-1}var oe="closure_lm_"+(Math.random()*1e6|0),_e={};function we(f,_,E,C,G){if(Array.isArray(_)){for(let $=0;$<_.length;$++)we(f,_[$],E,C,G);return null}return E=mo(E),f&&f[Qe]?f.J(_,E,h(C)?!!C.capture:!1,G):pt(f,_,E,!1,C,G)}function pt(f,_,E,C,G,$){if(!_)throw Error("Invalid event type");const ue=h(G)?!!G.capture:!!G;let De=wn(f);if(De||(f[oe]=De=new he(f)),E=De.add(_,E,C,ue,$),E.proxy)return E;if(C=bn(),E.proxy=C,C.src=f,C.listener=E,f.addEventListener)H||(G=ue),G===void 0&&(G=!1),f.addEventListener(_.toString(),C,G);else if(f.attachEvent)f.attachEvent(Mt(_.toString()),C);else if(f.addListener&&f.removeListener)f.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return E}function bn(){function f(E){return _.call(f.src,f.listener,E)}const _=zi;return f}function Kn(f,_,E,C,G){if(Array.isArray(_))for(var $=0;$<_.length;$++)Kn(f,_[$],E,C,G);else C=h(C)?!!C.capture:!!C,E=mo(E),f&&f[Qe]?(f=f.i,$=String(_).toString(),$ in f.g&&(_=f.g[$],E=Ce(_,E,C,G),E>-1&&(de(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete f.g[$],f.h--)))):f&&(f=wn(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Ce(_,E,C,G)),(E=f>-1?_[f]:null)&&_i(E))}function _i(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Qe])Te(_.i,f);else{var E=f.type,C=f.proxy;_.removeEventListener?_.removeEventListener(E,C,f.capture):_.detachEvent?_.detachEvent(Mt(E),C):_.addListener&&_.removeListener&&_.removeListener(C),(E=wn(_))?(Te(E,f),E.h==0&&(E.src=null,_[oe]=null)):de(f)}}}function Mt(f){return f in _e?_e[f]:_e[f]="on"+f}function zi(f,_){if(f.da)f=!0;else{_=new Fe(_,this);const E=f.listener,C=f.ha||f.src;f.fa&&_i(f),f=E.call(C,_)}return f}function wn(f){return f=f[oe],f instanceof he?f:null}var Ti="__closure_events_fn_"+(Math.random()*1e9>>>0);function mo(f){return typeof f=="function"?f:(f[Ti]||(f[Ti]=function(_){return f.handleEvent(_)}),f[Ti])}function At(){j.call(this),this.i=new he(this),this.M=this,this.G=null}v(At,j),At.prototype[Qe]=!0,At.prototype.removeEventListener=function(f,_,E,C){Kn(this,f,_,E,C)};function Tt(f,_){var E,C=f.G;if(C)for(E=[];C;C=C.G)E.push(C);if(f=f.M,C=_.type||_,typeof _=="string")_=new L(_,f);else if(_ instanceof L)_.target=_.target||f;else{var G=_;_=new L(C,f),ce(_,G)}G=!0;let $,ue;if(E)for(ue=E.length-1;ue>=0;ue--)$=_.g=E[ue],G=Bi($,C,!0,_)&&G;if($=_.g=f,G=Bi($,C,!0,_)&&G,G=Bi($,C,!1,_)&&G,E)for(ue=0;ue<E.length;ue++)$=_.g=E[ue],G=Bi($,C,!1,_)&&G}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const E=f.g[_];for(let C=0;C<E.length;C++)de(E[C]);delete f.g[_],f.h--}}this.G=null},At.prototype.J=function(f,_,E,C){return this.i.add(String(f),_,!1,E,C)},At.prototype.K=function(f,_,E,C){return this.i.add(String(f),_,!0,E,C)};function Bi(f,_,E,C){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let G=!0;for(let $=0;$<_.length;++$){const ue=_[$];if(ue&&!ue.da&&ue.capture==E){const De=ue.listener,Ct=ue.ha||ue.src;ue.fa&&Te(f.i,ue),G=De.call(Ct,C)!==!1&&G}}return G&&!C.defaultPrevented}function po(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(f,_||0)}function go(f){f.g=po(()=>{f.g=null,f.i&&(f.i=!1,go(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class Jt extends j{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:go(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function En(f){j.call(this),this.h=f,this.g={}}v(En,j);var fa=[];function Fl(f){xe(f.g,function(_,E){this.g.hasOwnProperty(E)&&_i(_)},f),f.g={}}En.prototype.N=function(){En.Z.N.call(this),Fl(this)},En.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nr=u.JSON.stringify,pm=u.JSON.parse,$c=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function Qc(){}function Wc(){}var bi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function en(){L.call(this,"d")}v(en,L);function Xn(){L.call(this,"c")}v(Xn,L);var xt={},Zc=null;function yo(){return Zc=Zc||new At}xt.Ia="serverreachability";function Jc(f){L.call(this,xt.Ia,f)}v(Jc,L);function Fi(f){const _=yo();Tt(_,new Jc(_))}xt.STAT_EVENT="statevent";function da(f,_){L.call(this,xt.STAT_EVENT,f),this.stat=_}v(da,L);function Pt(f){const _=yo();Tt(_,new da(_,f))}xt.Ja="timingevent";function Hi(f,_){L.call(this,xt.Ja,f),this.size=_}v(Hi,L);function qi(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},_)}function wi(){this.g=!0}wi.prototype.ua=function(){this.g=!1};function gm(f,_,E,C,G,$){f.info(function(){if(f.g)if($){var ue="",De=$.split("&");for(let Ke=0;Ke<De.length;Ke++){var Ct=De[Ke].split("=");if(Ct.length>1){const ct=Ct[0];Ct=Ct[1];const Zn=ct.split("_");ue=Zn.length>=2&&Zn[1]=="type"?ue+(ct+"="+Ct+"&"):ue+(ct+"=redacted&")}}}else ue=null;else ue=$;return"XMLHTTP REQ ("+C+") [attempt "+G+"]: "+_+`
`+E+`
`+ue})}function eh(f,_,E,C,G,$,ue){f.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+G+"]: "+_+`
`+E+`
`+$+" "+ue})}function Gi(f,_,E,C){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+ym(f,E)+(C?" "+C:"")})}function ma(f,_){f.info(function(){return"TIMEOUT: "+_})}wi.prototype.info=function(){};function ym(f,_){if(!f.g)return _;if(!_)return null;try{const $=JSON.parse(_);if($){for(f=0;f<$.length;f++)if(Array.isArray($[f])){var E=$[f];if(!(E.length<2)){var C=E[1];if(Array.isArray(C)&&!(C.length<1)){var G=C[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ue=1;ue<C.length;ue++)C[ue]=""}}}}return nr($)}catch{return _}}var pa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Hl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ql;function ga(){}v(ga,Qc),ga.prototype.g=function(){return new XMLHttpRequest},ql=new ga;function ws(f){return encodeURIComponent(String(f))}function th(f){var _=1;f=f.split(":");const E=[];for(;_>0&&f.length;)E.push(f.shift()),_--;return f.length&&E.push(f.join(":")),E}function Ei(f,_,E,C){this.j=f,this.i=_,this.l=E,this.S=C||1,this.V=new En(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Si}function Si(){this.i=null,this.g="",this.h=!1}var Vt={},$t={};function Yi(f,_,E){f.M=1,f.A=ya(kt(_)),f.u=E,f.R=!0,vo(f,null)}function vo(f,_){f.F=Date.now(),Ki(f),f.B=kt(f.A);var E=f.B,C=f.S;Array.isArray(C)||(C=[String(C)]),wo(E.i,"t",C),f.C=0,E=f.j.L,f.h=new Si,f.g=gh(f.j,E?_:null,!f.u),f.P>0&&(f.O=new Jt(p(f.Y,f,f.g),f.P)),_=f.V,E=f.g,C=f.ba;var G="readystatechange";Array.isArray(G)||(G&&(fa[0]=G.toString()),G=fa);for(let $=0;$<G.length;$++){const ue=we(E,G[$],C||_.handleEvent,!1,_.h||_);if(!ue)break;_.g[ue.key]=ue}_=f.J?U(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),Fi(),gm(f.i,f.v,f.B,f.l,f.S,f.u)}Ei.prototype.ba=function(f){f=f.target;const _=this.O;_&&Ci(f)==3?_.j():this.Y(f)},Ei.prototype.Y=function(f){try{if(f==this.g)e:{const De=Ci(this.g),Ct=this.g.ya(),Ke=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||De!=4||Ct==7||(Ct==8||Ke<=0?Fi(3):Fi(2)),Xi(this);var _=this.g.ca();this.X=_;var E=vm(this);if(this.o=_==200,eh(this.i,this.v,this.B,this.l,this.S,De,_),this.o){if(this.U&&!this.L){t:{if(this.g){var C,G=this.g;if((C=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(C)){var $=C;break t}}$=null}if(f=$)Gi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$i(this,f);else{this.o=!1,this.m=3,Pt(12),On(this),$n(this);break e}}if(this.R){f=!0;let ct;for(;!this.K&&this.C<E.length;)if(ct=ih(this,E),ct==$t){De==4&&(this.m=4,Pt(14),f=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Vt){this.m=4,Pt(15),Gi(this.i,this.l,E,"[Invalid Chunk]"),f=!1;break}else Gi(this.i,this.l,ct,null),$i(this,ct);if(nh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||E.length!=0||this.h.h||(this.m=1,Pt(16),f=!1),this.o=this.o&&f,!f)Gi(this.i,this.l,E,"[Invalid Chunked Response]"),On(this),$n(this);else if(E.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),ru(ue),ue.P=!0,Pt(11))}}else Gi(this.i,this.l,E,null),$i(this,E);De==4&&On(this),this.o&&!this.K&&(De==4?fh(this.j,this):(this.o=!1,Ki(this)))}else Ss(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Pt(12)):(this.m=0,Pt(13)),On(this),$n(this)}}}catch{}finally{}};function vm(f){if(!nh(f))return f.g.la();const _=tn(f.g);if(_==="")return"";let E="";const C=_.length,G=Ci(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return On(f),$n(f),"";f.h.i=new u.TextDecoder}for(let $=0;$<C;$++)f.h.h=!0,E+=f.h.i.decode(_[$],{stream:!(G&&$==C-1)});return _.length=0,f.h.g+=E,f.C=0,f.h.g}function nh(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function ih(f,_){var E=f.C,C=_.indexOf(`
`,E);return C==-1?$t:(E=Number(_.substring(E,C)),isNaN(E)?Vt:(C+=1,C+E>_.length?$t:(_=_.slice(C,C+E),f.C=C+E,_)))}Ei.prototype.cancel=function(){this.K=!0,On(this)};function Ki(f){f.T=Date.now()+f.H,_o(f,f.H)}function _o(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=qi(p(f.aa,f),_)}function Xi(f){f.D&&(u.clearTimeout(f.D),f.D=null)}Ei.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ma(this.i,this.B),this.M!=2&&(Fi(),Pt(17)),On(this),this.m=2,$n(this)):_o(this,this.T-f)};function $n(f){f.j.I==0||f.K||fh(f.j,f)}function On(f){Xi(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,Fl(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function $i(f,_){try{var E=f.j;if(E.I!=0&&(E.g==f||Wi(E.h,f))){if(!f.L&&Wi(E.h,f)&&E.I==3){try{var C=E.Ba.g.parse(_)}catch{C=null}if(Array.isArray(C)&&C.length==3){var G=C;if(G[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<f.F)Co(E),cr(E);else break e;Sa(E),Pt(18)}}else E.xa=G[1],0<E.xa-E.K&&G[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=qi(p(E.Va,E),6e3));Qi(E.h)<=1&&E.ta&&(E.ta=void 0)}else is(E,11)}else if((f.L||E.g==f)&&Co(E),!P(_))for(G=E.Ba.g.parse(_),_=0;_<G.length;_++){let Ke=G[_];const ct=Ke[0];if(!(ct<=E.K))if(E.K=ct,Ke=Ke[1],E.I==2)if(Ke[0]=="c"){E.M=Ke[1],E.ba=Ke[2];const Zn=Ke[3];Zn!=null&&(E.ka=Zn,E.j.info("VER="+E.ka));const ss=Ke[4];ss!=null&&(E.za=ss,E.j.info("SVER="+E.za));const Ri=Ke[5];Ri!=null&&typeof Ri=="number"&&Ri>0&&(C=1.5*Ri,E.O=C,E.j.info("backChannelRequestTimeoutMs_="+C)),C=E;const Ni=f.g;if(Ni){const Aa=Ni.g?Ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Aa){var $=C.h;$.g||Aa.indexOf("spdy")==-1&&Aa.indexOf("quic")==-1&&Aa.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Kl($,$.h),$.h=null))}if(C.G){const Ro=Ni.g?Ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Ro&&(C.wa=Ro,We(C.J,C.G,Ro))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-f.F,E.j.info("Handshake RTT: "+E.T+"ms")),C=E;var ue=f;if(C.na=ph(C,C.L?C.ba:null,C.W),ue.L){Xl(C.h,ue);var De=ue,Ct=C.O;Ct&&(De.H=Ct),De.D&&(Xi(De),Ki(De)),C.g=ue}else ch(C);E.i.length>0&&ns(E)}else Ke[0]!="stop"&&Ke[0]!="close"||is(E,7);else E.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?is(E,7):iu(E):Ke[0]!="noop"&&E.l&&E.l.qa(Ke),E.A=0)}}Fi(4)}catch{}}var Ot=class{constructor(f,_){this.g=f,this.map=_}};function Gl(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Qi(f){return f.h?1:f.g?f.g.size:0}function Wi(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Kl(f,_){f.g?f.g.add(_):f.h=_}function Xl(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Gl.prototype.cancel=function(){if(this.i=$l(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function $l(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const E of f.g.values())_=_.concat(E.G);return _}return S(f.i)}var sh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function To(f,_){if(f){f=f.split("&");for(let E=0;E<f.length;E++){const C=f[E].indexOf("=");let G,$=null;C>=0?(G=f[E].substring(0,C),$=f[E].substring(C+1)):G=f[E],_(G,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function kn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof kn?(this.l=f.l,Qt(this,f.j),this.o=f.o,this.g=f.g,ir(this,f.u),this.h=f.h,Ql(this,lh(f.i)),this.m=f.m):f&&(_=String(f).match(sh))?(this.l=!1,Qt(this,_[1]||"",!0),this.o=Zi(_[2]||""),this.g=Zi(_[3]||"",!0),ir(this,_[4]),this.h=Zi(_[5]||"",!0),Ql(this,_[6]||"",!0),this.m=Zi(_[7]||"")):(this.l=!1,this.i=new rr(null,this.l))}kn.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(va(_,bo,!0),":");var E=this.g;return(E||_=="file")&&(f.push("//"),(_=this.o)&&f.push(va(_,bo,!0),"@"),f.push(ws(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&f.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(va(E,E.charAt(0)=="/"?Wl:rh,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",va(E,ah)),f.join("")},kn.prototype.resolve=function(f){const _=kt(this);let E=!!f.j;E?Qt(_,f.j):E=!!f.o,E?_.o=f.o:E=!!f.g,E?_.g=f.g:E=f.u!=null;var C=f.h;if(E)ir(_,f.u);else if(E=!!f.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var G=_.h.lastIndexOf("/");G!=-1&&(C=_.h.slice(0,G+1)+C)}if(G=C,G==".."||G==".")C="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){C=G.lastIndexOf("/",0)==0,G=G.split("/");const $=[];for(let ue=0;ue<G.length;){const De=G[ue++];De=="."?C&&ue==G.length&&$.push(""):De==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),C&&ue==G.length&&$.push("")):($.push(De),C=!0)}C=$.join("/")}else C=G}return E?_.h=C:E=f.i.toString()!=="",E?Ql(_,lh(f.i)):E=!!f.m,E&&(_.m=f.m),_};function kt(f){return new kn(f)}function Qt(f,_,E){f.j=E?Zi(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function ir(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function Ql(f,_,E){_ instanceof rr?(f.i=_,Eo(f.i,f.l)):(E||(_=va(_,sr)),f.i=new rr(_,f.l))}function We(f,_,E){f.i.set(_,E)}function ya(f){return We(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Zi(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function va(f,_,E){return typeof f=="string"?(f=encodeURI(f).replace(_,Sn),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Sn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var bo=/[#\/\?@]/g,rh=/[#\?:]/g,Wl=/[#\?]/g,sr=/[#\?@]/g,ah=/#/g;function rr(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function An(f){f.g||(f.g=new Map,f.h=0,f.i&&To(f.i,function(_,E){f.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}t=rr.prototype,t.add=function(f,_){An(this),this.i=null,f=ar(this,f);let E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(_),this.h+=1,this};function oh(f,_){An(f),_=ar(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Zl(f,_){return An(f),_=ar(f,_),f.g.has(_)}t.forEach=function(f,_){An(this),this.g.forEach(function(E,C){E.forEach(function(G){f.call(_,G,C,this)},this)},this)};function Jl(f,_){An(f);let E=[];if(typeof _=="string")Zl(f,_)&&(E=E.concat(f.g.get(ar(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)E=E.concat(f[_]);return E}t.set=function(f,_){return An(this),this.i=null,f=ar(this,f),Zl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=Jl(this,f),f.length>0?String(f[0]):_):_};function wo(f,_,E){oh(f,_),E.length>0&&(f.i=null,f.g.set(ar(f,_),S(E)),f.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let C=0;C<_.length;C++){var E=_[C];const G=ws(E);E=Jl(this,E);for(let $=0;$<E.length;$++){let ue=G;E[$]!==""&&(ue+="="+ws(E[$])),f.push(ue)}}return this.i=f.join("&")};function lh(f){const _=new rr;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function ar(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Eo(f,_){_&&!f.j&&(An(f),f.i=null,f.g.forEach(function(E,C){const G=C.toLowerCase();C!=G&&(oh(this,C),wo(this,G,E))},f)),f.j=_}function Ai(f,_){const E=new wi;if(u.Image){const C=new Image;C.onload=y(Qn,E,"TestLoadImage: loaded",!0,_,C),C.onerror=y(Qn,E,"TestLoadImage: error",!1,_,C),C.onabort=y(Qn,E,"TestLoadImage: abort",!1,_,C),C.ontimeout=y(Qn,E,"TestLoadImage: timeout",!1,_,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=f}else _(!1)}function eu(f,_){const E=new wi,C=new AbortController,G=setTimeout(()=>{C.abort(),Qn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:C.signal}).then($=>{clearTimeout(G),$.ok?Qn(E,"TestPingServer: ok",!0,_):Qn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),Qn(E,"TestPingServer: error",!1,_)})}function Qn(f,_,E,C,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),C(E)}catch{}}function or(){this.g=new $c}function Ji(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Ji,Qc),Ji.prototype.g=function(){return new _a(this.i,this.h)};function _a(f,_){At.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(_a,At),t=_a.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,xi(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,lr(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,xi(this)),this.g&&(this.readyState=3,xi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;So(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function So(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?lr(this):xi(this),this.readyState==3&&So(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,lr(this))},t.Na=function(f){this.g&&(this.response=f,lr(this))},t.ga=function(){this.g&&lr(this)};function lr(f){f.readyState=4,f.l=null,f.j=null,f.B=null,xi(f)}t.setRequestHeader=function(f,_){this.A.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=_.next();return f.join(`\r
`)};function xi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(_a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Wn(f){let _="";return xe(f,function(E,C){_+=C,_+=":",_+=E,_+=`\r
`}),_}function Ta(f,_,E){e:{for(C in E){var C=!1;break e}C=!0}C||(E=Wn(E),typeof f=="string"?E!=null&&ws(E):We(f,_,E))}function et(f){At.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(et,At);var es=/^https?$/i,tu=["POST","PUT"];t=et.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,_,E,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ql.g(),this.g.onreadystatechange=T(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch($){ba(this,$);return}if(f=E||"",E=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var G in C)E.set(G,C[G]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const $ of C.keys())E.set($,C.get($));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),G=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(tu,_,void 0)>=0)||C||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ue]of E)this.g.setRequestHeader($,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch($){ba(this,$)}};function ba(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,nu(f),Es(f)}function nu(f){f.A||(f.A=!0,Tt(f,"complete"),Tt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Tt(this,"complete"),Tt(this,"abort"),Es(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Es(this,!0)),et.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?wa(this):this.Xa())},t.Xa=function(){wa(this)};function wa(f){if(f.h&&typeof l<"u"){if(f.v&&Ci(f)==4)setTimeout(f.Ca.bind(f),0);else if(Tt(f,"readystatechange"),Ci(f)==4){f.h=!1;try{const $=f.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var C;if(C=$===0){let ue=String(f.D).match(sh)[1]||null;!ue&&u.self&&u.self.location&&(ue=u.self.location.protocol.slice(0,-1)),C=!es.test(ue?ue.toLowerCase():"")}E=C}if(E)Tt(f,"complete"),Tt(f,"success");else{f.o=6;try{var G=Ci(f)>2?f.g.statusText:""}catch{G=""}f.l=G+" ["+f.ca()+"]",nu(f)}}finally{Es(f)}}}}function Es(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const E=f.g;f.g=null,_||Tt(f,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ci(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Ci(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),pm(_)}};function tn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Ss(f){const _={};f=(f.g&&Ci(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<f.length;C++){if(P(f[C]))continue;var E=th(f[C]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=_[G]||[];_[G]=$,$.push(E)}Ve(_,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(f,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||_}function ur(f){this.za=0,this.i=[],this.j=new wi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ts("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ts("baseRetryDelayMs",5e3,f),this.Za=ts("retryDelaySeedMs",1e4,f),this.Ta=ts("forwardChannelMaxRetries",2,f),this.va=ts("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Gl(f&&f.concurrentRequestLimit),this.Ba=new or,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ur.prototype,t.ka=8,t.I=1,t.connect=function(f,_,E,C){Pt(0),this.W=f,this.H=_||{},E&&C!==void 0&&(this.H.OSID=E,this.H.OAID=C),this.F=this.X,this.J=ph(this,null,this.W),ns(this)};function iu(f){if(Ao(f),f.I==3){var _=f.V++,E=kt(f.J);if(We(E,"SID",f.M),We(E,"RID",_),We(E,"TYPE","terminate"),Ea(f,E),_=new Ei(f,f.j,_),_.M=2,_.A=ya(kt(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.A,E=!0),E||(_.g=gh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Ki(_)}mh(f)}function cr(f){f.g&&(ru(f),f.g.cancel(),f.g=null)}function Ao(f){cr(f),f.v&&(u.clearTimeout(f.v),f.v=null),Co(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function ns(f){if(!Yl(f.h)&&!f.m){f.m=!0;var _=f.Ea;re||x(),J||(re(),J=!0),N.add(_,f),f.D=0}}function xo(f,_){return Qi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=qi(p(f.Ea,f,_),dh(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const G=new Ei(this,this.j,f);let $=this.o;if(this.U&&($?($=U($),ce($,this.U)):$=this.U),this.u!==null||this.R||(G.J=$,$=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var C=this.i[E];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(_+=C,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=uh(this,G,_),E=kt(this.J),We(E,"RID",f),We(E,"CVER",22),this.G&&We(E,"X-HTTP-Session-Id",this.G),Ea(this,E),$&&(this.R?_="headers="+ws(Wn($))+"&"+_:this.u&&Ta(E,this.u,$)),Kl(this.h,G),this.Ra&&We(E,"TYPE","init"),this.S?(We(E,"$req",_),We(E,"SID","null"),G.U=!0,Yi(G,E,null)):Yi(G,E,_),this.I=2}}else this.I==3&&(f?su(this,f):this.i.length==0||Yl(this.h)||su(this))};function su(f,_){var E;_?E=_.l:E=f.V++;const C=kt(f.J);We(C,"SID",f.M),We(C,"RID",E),We(C,"AID",f.K),Ea(f,C),f.u&&f.o&&Ta(C,f.u,f.o),E=new Ei(f,f.j,E,f.D+1),f.u===null&&(E.J=f.o),_&&(f.i=_.G.concat(f.i)),_=uh(f,E,1e3),E.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Kl(f.h,E),Yi(E,C,_)}function Ea(f,_){f.H&&xe(f.H,function(E,C){We(_,C,E)}),f.l&&xe({},function(E,C){We(_,C,E)})}function uh(f,_,E){E=Math.min(f.i.length,E);const C=f.l?p(f.l.Ka,f.l,f):null;e:{var G=f.i;let De=-1;for(;;){const Ct=["count="+E];De==-1?E>0?(De=G[0].g,Ct.push("ofs="+De)):De=0:Ct.push("ofs="+De);let Ke=!0;for(let ct=0;ct<E;ct++){var $=G[ct].g;const Zn=G[ct].map;if($-=De,$<0)De=Math.max(0,G[ct].g-100),Ke=!1;else try{$="req"+$+"_"||"";try{var ue=Zn instanceof Map?Zn:Object.entries(Zn);for(const[ss,Ri]of ue){let Ni=Ri;h(Ri)&&(Ni=nr(Ri)),Ct.push($+ss+"="+encodeURIComponent(Ni))}}catch(ss){throw Ct.push($+"type="+encodeURIComponent("_badmap")),ss}}catch{C&&C(Zn)}}if(Ke){ue=Ct.join("&");break e}}ue=void 0}return f=f.i.splice(0,E),_.G=f,ue}function ch(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;re||x(),J||(re(),J=!0),N.add(_,f),f.A=0}}function Sa(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=qi(p(f.Da,f),dh(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,hh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=qi(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pt(10),cr(this),hh(this))};function ru(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function hh(f){f.g=new Ei(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=kt(f.na);We(_,"RID","rpc"),We(_,"SID",f.M),We(_,"AID",f.K),We(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&We(_,"TO",f.ia),We(_,"TYPE","xmlhttp"),Ea(f,_),f.u&&f.o&&Ta(_,f.u,f.o),f.O&&(f.g.H=f.O);var E=f.g;f=f.ba,E.M=1,E.A=ya(kt(_)),E.u=null,E.R=!0,vo(E,f)}t.Va=function(){this.C!=null&&(this.C=null,cr(this),Sa(this),Pt(19))};function Co(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function fh(f,_){var E=null;if(f.g==_){Co(f),ru(f),f.g=null;var C=2}else if(Wi(f.h,_))E=_.G,Xl(f.h,_),C=1;else return;if(f.I!=0){if(_.o)if(C==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var G=f.D;C=yo(),Tt(C,new Hi(C,E)),ns(f)}else ch(f);else if(G=_.m,G==3||G==0&&_.X>0||!(C==1&&xo(f,_)||C==2&&Sa(f)))switch(E&&E.length>0&&(_=f.h,_.i=_.i.concat(E)),G){case 1:is(f,5);break;case 4:is(f,10);break;case 3:is(f,6);break;default:is(f,2)}}}function dh(f,_){let E=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(E*=2),E*_}function is(f,_){if(f.j.info("Error code "+_),_==2){var E=p(f.bb,f),C=f.Ua;const G=!C;C=new kn(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Qt(C,"https"),ya(C),G?Ai(C.toString(),E):eu(C.toString(),E)}else Pt(2);f.I=0,f.l&&f.l.pa(_),mh(f),Ao(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function mh(f){if(f.I=0,f.ja=[],f.l){const _=$l(f.h);(_.length!=0||f.i.length!=0)&&(R(f.ja,_),R(f.ja,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.oa()}}function ph(f,_,E){var C=E instanceof kn?kt(E):new kn(E);if(C.g!="")_&&(C.g=_+"."+C.g),ir(C,C.u);else{var G=u.location;C=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;const $=new kn(null);C&&Qt($,C),_&&($.g=_),G&&ir($,G),E&&($.h=E),C=$}return E=f.G,_=f.wa,E&&_&&We(C,E,_),We(C,"VER",f.ka),Ea(f,C),C}function gh(f,_,E){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new et(new Ji({ab:E})):new et(f.ma),_.Fa(f.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yh(){}t=yh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function hr(){}hr.prototype.g=function(f,_){return new yn(f,_)};function yn(f,_){At.call(this),this.g=new ur(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!P(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new As(this)}v(yn,At),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){iu(this.g)},yn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.v&&(E={},E.__data__=nr(f),f=E);_.i.push(new Ot(_.Ya++,f)),_.I==3&&ns(_)},yn.prototype.N=function(){this.g.l=null,delete this.j,iu(this.g),delete this.g,yn.Z.N.call(this)};function vh(f){en.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const E in _){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(vh,en);function _h(){Xn.call(this),this.status=1}v(_h,Xn);function As(f){this.g=f}v(As,yh),As.prototype.ra=function(){Tt(this.g,"a")},As.prototype.qa=function(f){Tt(this.g,new vh(f))},As.prototype.pa=function(f){Tt(this.g,new _h)},As.prototype.oa=function(){Tt(this.g,"b")},hr.prototype.createWebChannel=hr.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,mC=function(){return new hr},dC=function(){return yo()},fC=xt,Ry={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pa.NO_ERROR=0,pa.TIMEOUT=8,pa.HTTP_ERROR=6,qf=pa,Hl.COMPLETE="complete",hC=Hl,Wc.EventType=bi,bi.OPEN="a",bi.CLOSE="b",bi.ERROR="c",bi.MESSAGE="d",At.prototype.listen=At.prototype.J,Qu=Wc,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,cC=et}).apply(typeof If<"u"?If:typeof self<"u"?self:typeof window<"u"?window:{});const lS="@firebase/firestore",uS="4.9.2";class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let kl="12.3.0";const eo=new Fd("@firebase/firestore");function rl(){return eo.logLevel}function me(t,...e){if(eo.logLevel<=Ue.DEBUG){const n=e.map(qv);eo.debug(`Firestore (${kl}): ${t}`,...n)}}function Ws(t,...e){if(eo.logLevel<=Ue.ERROR){const n=e.map(qv);eo.error(`Firestore (${kl}): ${t}`,...n)}}function Sl(t,...e){if(eo.logLevel<=Ue.WARN){const n=e.map(qv);eo.warn(`Firestore (${kl}): ${t}`,...n)}}function qv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Se(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,pC(t,s,n)}function pC(t,e,n){let s=`FIRESTORE (${kl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ws(s),new Error(s)}function $e(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||pC(e,a,s)}function Ie(t,e){return t}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class gC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class T6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(dn.UNAUTHENTICATED)))}shutdown(){}}class b6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class w6{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let s=this.i;const a=d=>this.i!==s?(s=this.i,n(d)):Promise.resolve();let l=new Gs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Gs,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Gs)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string",31837,{l:s}),new gC(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class E6{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class S6{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new E6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class A6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ui(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const s=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new cS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new cS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function x6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class Gv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=x6(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function ze(t,e){return t<e?-1:t>e?1:0}function Ny(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return zg(a)===zg(l)?ze(a,l):zg(a)?1:-1}return ze(t.length,e.length)}const C6=55296,R6=57343;function zg(t){const e=t.charCodeAt(0);return e>=C6&&e<=R6}function Al(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const hS="__name__";class us{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return us.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof us?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=us.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return ze(e.length,n.length)}static compareSegments(e,n){const s=us.isNumericId(e),a=us.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?us.extractNumericId(e).compare(us.extractNumericId(n)):Ny(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Kr.fromString(e.substring(4,e.length-2))}}class at extends us{construct(e,n,s){return new at(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const N6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends us{construct(e,n,s){return new un(e,n,s)}static isValidIdentifier(e){return N6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hS}static keyField(){return new un([hS])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new fe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new fe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(s+=h,a++):(l(),a++)}if(l(),u)throw new fe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(n)}static emptyPath(){return new un([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(at.fromString(e))}static fromName(e){return new ve(at.fromString(e).popFirst(5))}static empty(){return new ve(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new at(e.slice()))}}function yC(t,e,n){if(!n)throw new fe(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function I6(t,e,n,s){if(e===!0&&s===!0)throw new fe(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fS(t){if(!ve.isDocumentKey(t))throw new fe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function dS(t){if(ve.isDocumentKey(t))throw new fe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Hd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function Vn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hd(t);throw new fe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function qt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Lc(t,e){if(!vC(t))throw new fe(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new fe(ne.INVALID_ARGUMENT,n);return!0}const mS=-62135596800,pS=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*pS);return new ut(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<mS)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pS}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lc(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-mS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:qt("string",ut._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new ut(0,0))}static max(){return new Re(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const _c=-1;function D6(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Re.fromTimestamp(s===1e9?new ut(n+1,0):new ut(n,s));return new Jr(a,ve.empty(),e)}function M6(t){return new Jr(t.readTime,t.key,_c)}class Jr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Jr(Re.min(),ve.empty(),_c)}static max(){return new Jr(Re.max(),ve.empty(),_c)}}function P6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}const V6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class O6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ll(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==V6)throw t;me("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,s)=>{n(e)}))}static reject(e){return new se(((n,s)=>{s(e)}))}static waitFor(e){return new se(((n,s)=>{let a=0,l=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&n()}),(d=>s(d)))})),u=!0,l===a&&n()}))}static or(e){let n=se.resolve(!1);for(const s of e)n=n.next((a=>a?se.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new se(((s,a)=>{const l=e.length,u=new Array(l);let h=0;for(let d=0;d<l;d++){const p=d;n(e[p]).next((y=>{u[p]=y,++h,h===l&&s(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new se(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function k6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jl(t){return t.name==="IndexedDbTransactionError"}class qd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qd.ce=-1;const Yv=-1;function Gd(t){return t==null}function cd(t){return t===0&&1/t==-1/0}function L6(t){return typeof t=="number"&&Number.isInteger(t)&&!cd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const _C="";function j6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=gS(e)),e=U6(t.get(n),e);return gS(e)}function U6(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case _C:n+="";break;default:n+=l}}return n}function gS(t){return t+_C+""}function yS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function TC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class _t{constructor(e,n){this.comparator=e,this.root=n||ln.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Df(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Df(this.root,e,this.comparator,!1)}getReverseIterator(){return new Df(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Df(this.root,e,this.comparator,!0)}}class Df{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??ln.RED,this.left=a??ln.EMPTY,this.right=l??ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new ln(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return ln.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vS(this.data.getIterator())}getIteratorFrom(e){return new vS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class vS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new Gn([])}unionWith(e){let n=new Xt(un.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Al(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class bC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new bC("Invalid base64 string: "+l):l}})(e);return new cn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const z6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(t){if($e(!!t,39018),typeof t=="string"){let e=0;const n=z6.exec(t);if($e(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Dt(t.seconds),nanos:Dt(t.nanos)}}function Dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ta(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}const wC="server_timestamp",EC="__type__",SC="__previous_value__",AC="__local_write_time__";function Kv(t){return(t?.mapValue?.fields||{})[EC]?.stringValue===wC}function Yd(t){const e=t.mapValue.fields[SC];return Kv(e)?Yd(e):e}function Tc(t){const e=ea(t.mapValue.fields[AC].timestampValue);return new ut(e.seconds,e.nanos)}class B6{constructor(e,n,s,a,l,u,h,d,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=y}}const hd="(default)";class bc{constructor(e,n){this.projectId=e,this.database=n||hd}static empty(){return new bc("","")}get isDefaultDatabase(){return this.database===hd}isEqual(e){return e instanceof bc&&e.projectId===this.projectId&&e.database===this.database}}const xC="__type__",F6="__max__",Mf={mapValue:{}},CC="__vector__",fd="value";function na(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kv(t)?4:q6(t)?9007199254740991:H6(t)?10:11:Se(28295,{value:t})}function _s(t,e){if(t===e)return!0;const n=na(t);if(n!==na(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tc(t).isEqual(Tc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=ea(a.timestampValue),h=ea(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return ta(a.bytesValue).isEqual(ta(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Dt(a.geoPointValue.latitude)===Dt(l.geoPointValue.latitude)&&Dt(a.geoPointValue.longitude)===Dt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Dt(a.integerValue)===Dt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Dt(a.doubleValue),h=Dt(l.doubleValue);return u===h?cd(u)===cd(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return Al(t.arrayValue.values||[],e.arrayValue.values||[],_s);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(yS(u)!==yS(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!_s(u[d],h[d])))return!1;return!0})(t,e);default:return Se(52216,{left:t})}}function wc(t,e){return(t.values||[]).find((n=>_s(n,e)))!==void 0}function xl(t,e){if(t===e)return 0;const n=na(t),s=na(e);if(n!==s)return ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=Dt(l.integerValue||l.doubleValue),d=Dt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return _S(t.timestampValue,e.timestampValue);case 4:return _S(Tc(t),Tc(e));case 5:return Ny(t.stringValue,e.stringValue);case 6:return(function(l,u){const h=ta(l),d=ta(u);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),d=u.split("/");for(let p=0;p<h.length&&p<d.length;p++){const y=ze(h[p],d[p]);if(y!==0)return y}return ze(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=ze(Dt(l.latitude),Dt(u.latitude));return h!==0?h:ze(Dt(l.longitude),Dt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return TS(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const h=l.fields||{},d=u.fields||{},p=h[fd]?.arrayValue,y=d[fd]?.arrayValue,v=ze(p?.values?.length||0,y?.values?.length||0);return v!==0?v:TS(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Mf.mapValue&&u===Mf.mapValue)return 0;if(l===Mf.mapValue)return 1;if(u===Mf.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),p=u.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const T=Ny(d[v],y[v]);if(T!==0)return T;const S=xl(h[d[v]],p[y[v]]);if(S!==0)return S}return ze(d.length,y.length)})(t.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function _S(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=ea(t),s=ea(e),a=ze(n.seconds,s.seconds);return a!==0?a:ze(n.nanos,s.nanos)}function TS(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=xl(n[a],s[a]);if(l)return l}return ze(n.length,s.length)}function Cl(t){return Iy(t)}function Iy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=ea(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ta(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ve.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Iy(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${Iy(n.fields[u])}`;return a+"}"})(t.mapValue):Se(61005,{value:t})}function Gf(t){switch(na(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yd(t);return e?16+Gf(e):16;case 5:return 2*t.stringValue.length;case 6:return ta(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Gf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return oa(s.fields,((l,u)=>{a+=l.length+Gf(u)})),a})(t.mapValue);default:throw Se(13486,{value:t})}}function bS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Dy(t){return!!t&&"integerValue"in t}function Xv(t){return!!t&&"arrayValue"in t}function wS(t){return!!t&&"nullValue"in t}function ES(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yf(t){return!!t&&"mapValue"in t}function H6(t){return(t?.mapValue?.fields||{})[xC]?.stringValue===CC}function ac(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return oa(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=ac(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ac(t.arrayValue.values[n]);return e}return{...t}}function q6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===F6}class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Yf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ac(n)}setAll(e){let n=un.emptyPath(),s={},a=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,s,a),s={},a=[],n=h.popLast()}u?s[h.lastSegment()]=ac(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Yf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _s(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Yf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){oa(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Mn(ac(this.value))}}function RC(t){const e=[];return oa(t.fields,((n,s)=>{const a=new un([n]);if(Yf(s)){const l=RC(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Gn(e)}class mn{constructor(e,n,s,a,l,u,h){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new mn(e,0,Re.min(),Re.min(),Re.min(),Mn.empty(),0)}static newFoundDocument(e,n,s,a){return new mn(e,1,n,Re.min(),s,a,0)}static newNoDocument(e,n){return new mn(e,2,n,Re.min(),Re.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,Re.min(),Re.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dd{constructor(e,n){this.position=e,this.inclusive=n}}function SS(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=ve.comparator(ve.fromName(u.referenceValue),n.key):s=xl(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function AS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_s(t.position[n],e.position[n]))return!1;return!0}class Ec{constructor(e,n="asc"){this.field=e,this.dir=n}}function G6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class NC{}class Ht extends NC{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new K6(e,n,s):n==="array-contains"?new Q6(e,s):n==="in"?new W6(e,s):n==="not-in"?new Z6(e,s):n==="array-contains-any"?new J6(e,s):new Ht(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new X6(e,s):new $6(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xl(n,this.value)):n!==null&&na(this.value)===na(n)&&this.matchesComparison(xl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends NC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Li(e,n)}matches(e){return IC(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function IC(t){return t.op==="and"}function DC(t){return Y6(t)&&IC(t)}function Y6(t){for(const e of t.filters)if(e instanceof Li)return!1;return!0}function My(t){if(t instanceof Ht)return t.field.canonicalString()+t.op.toString()+Cl(t.value);if(DC(t))return t.filters.map((e=>My(e))).join(",");{const e=t.filters.map((n=>My(n))).join(",");return`${t.op}(${e})`}}function MC(t,e){return t instanceof Ht?(function(s,a){return a instanceof Ht&&s.op===a.op&&s.field.isEqual(a.field)&&_s(s.value,a.value)})(t,e):t instanceof Li?(function(s,a){return a instanceof Li&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,h)=>l&&MC(u,a.filters[h])),!0):!1})(t,e):void Se(19439)}function PC(t){return t instanceof Ht?(function(n){return`${n.field.canonicalString()} ${n.op} ${Cl(n.value)}`})(t):t instanceof Li?(function(n){return n.op.toString()+" {"+n.getFilters().map(PC).join(" ,")+"}"})(t):"Filter"}class K6 extends Ht{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class X6 extends Ht{constructor(e,n){super(e,"in",n),this.keys=VC("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class $6 extends Ht{constructor(e,n){super(e,"not-in",n),this.keys=VC("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function VC(t,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class Q6 extends Ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xv(n)&&wc(n.arrayValue,this.value)}}class W6 extends Ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wc(this.value.arrayValue,n)}}class Z6 extends Ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wc(this.value.arrayValue,n)}}class J6 extends Ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>wc(this.value.arrayValue,s)))}}class e3{constructor(e,n=null,s=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function xS(t,e=null,n=[],s=[],a=null,l=null,u=null){return new e3(t,e,n,s,a,l,u)}function $v(t){const e=Ie(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>My(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Gd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Cl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Cl(s))).join(",")),e.Te=n}return e.Te}function Qv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!G6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!AS(t.startAt,e.startAt)&&AS(t.endAt,e.endAt)}function Py(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Ul{constructor(e,n=null,s=[],a=[],l=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function t3(t,e,n,s,a,l,u,h){return new Ul(t,e,n,s,a,l,u,h)}function Kd(t){return new Ul(t)}function CS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function OC(t){return t.collectionGroup!==null}function oc(t){const e=Ie(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Xt(un.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Ec(l,s))})),n.has(un.keyField().canonicalString())||e.Ie.push(new Ec(un.keyField(),s))}return e.Ie}function fs(t){const e=Ie(t);return e.Ee||(e.Ee=n3(e,oc(t))),e.Ee}function n3(t,e){if(t.limitType==="F")return xS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Ec(a.field,l)}));const n=t.endAt?new dd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new dd(t.startAt.position,t.startAt.inclusive):null;return xS(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Vy(t,e){const n=t.filters.concat([e]);return new Ul(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function md(t,e,n){return new Ul(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xd(t,e){return Qv(fs(t),fs(e))&&t.limitType===e.limitType}function kC(t){return`${$v(fs(t))}|lt:${t.limitType}`}function al(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>PC(a))).join(", ")}]`),Gd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Cl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Cl(a))).join(",")),`Target(${s})`})(fs(t))}; limitType=${t.limitType})`}function $d(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ve.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of oc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,h,d){const p=SS(u,h,d);return u.inclusive?p<=0:p<0})(s.startAt,oc(s),a)||s.endAt&&!(function(u,h,d){const p=SS(u,h,d);return u.inclusive?p>=0:p>0})(s.endAt,oc(s),a))})(t,e)}function i3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function LC(t){return(e,n)=>{let s=!1;for(const a of oc(t)){const l=s3(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function s3(t,e,n){const s=t.field.isKeyField()?ve.comparator(e.key,n.key):(function(l,u,h){const d=u.data.field(l),p=h.data.field(l);return d!==null&&p!==null?xl(d,p):Se(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:t.dir})}}class co{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){oa(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return TC(this.inner)}size(){return this.innerSize}}const r3=new _t(ve.comparator);function Zs(){return r3}const jC=new _t(ve.comparator);function Wu(...t){let e=jC;for(const n of t)e=e.insert(n.key,n);return e}function UC(t){let e=jC;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ya(){return lc()}function zC(){return lc()}function lc(){return new co((t=>t.toString()),((t,e)=>t.isEqual(e)))}const a3=new _t(ve.comparator),o3=new Xt(ve.comparator);function Be(...t){let e=o3;for(const n of t)e=e.add(n);return e}const l3=new Xt(ze);function u3(){return l3}function Wv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cd(e)?"-0":e}}function BC(t){return{integerValue:""+t}}function c3(t,e){return L6(e)?BC(e):Wv(t,e)}class Qd{constructor(){this._=void 0}}function h3(t,e,n){return t instanceof pd?(function(a,l){const u={fields:{[EC]:{stringValue:wC},[AC]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Kv(l)&&(l=Yd(l)),l&&(u.fields[SC]=l),{mapValue:u}})(n,e):t instanceof Sc?HC(t,e):t instanceof Ac?qC(t,e):(function(a,l){const u=FC(a,l),h=RS(u)+RS(a.Ae);return Dy(u)&&Dy(a.Ae)?BC(h):Wv(a.serializer,h)})(t,e)}function f3(t,e,n){return t instanceof Sc?HC(t,e):t instanceof Ac?qC(t,e):n}function FC(t,e){return t instanceof gd?(function(s){return Dy(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class pd extends Qd{}class Sc extends Qd{constructor(e){super(),this.elements=e}}function HC(t,e){const n=GC(e);for(const s of t.elements)n.some((a=>_s(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Ac extends Qd{constructor(e){super(),this.elements=e}}function qC(t,e){let n=GC(e);for(const s of t.elements)n=n.filter((a=>!_s(a,s)));return{arrayValue:{values:n}}}class gd extends Qd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function RS(t){return Dt(t.integerValue||t.doubleValue)}function GC(t){return Xv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function d3(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Sc&&a instanceof Sc||s instanceof Ac&&a instanceof Ac?Al(s.elements,a.elements,_s):s instanceof gd&&a instanceof gd?_s(s.Ae,a.Ae):s instanceof pd&&a instanceof pd})(t.transform,e.transform)}class m3{constructor(e,n){this.version=e,this.transformResults=n}}class yi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yi}static exists(e){return new yi(void 0,e)}static updateTime(e){return new yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wd{}function YC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zv(t.key,yi.none()):new jc(t.key,t.data,yi.none());{const n=t.data,s=Mn.empty();let a=new Xt(un.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new la(t.key,s,new Gn(a.toArray()),yi.none())}}function p3(t,e,n){t instanceof jc?(function(a,l,u){const h=a.value.clone(),d=IS(a.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof la?(function(a,l,u){if(!Kf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=IS(a.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(KC(a)),d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function uc(t,e,n,s){return t instanceof jc?(function(l,u,h,d){if(!Kf(l.precondition,u))return h;const p=l.value.clone(),y=DS(l.fieldTransforms,d,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof la?(function(l,u,h,d){if(!Kf(l.precondition,u))return h;const p=DS(l.fieldTransforms,d,u),y=u.data;return y.setAll(KC(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,s):(function(l,u,h){return Kf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function g3(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=FC(s.transform,a||null);l!=null&&(n===null&&(n=Mn.empty()),n.set(s.field,l))}return n||null}function NS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Al(s,a,((l,u)=>d3(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class jc extends Wd{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class la extends Wd{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function KC(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function IS(t,e,n){const s=new Map;$e(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,h=e.data.field(l.field);s.set(l.field,f3(u,h,n[a]))}return s}function DS(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,h3(l,u,e))}return s}class Zv extends Wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class y3 extends Wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class v3{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&p3(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=uc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=uc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=zC();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const d=YC(u,h);d!==null&&s.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&Al(this.mutations,e.mutations,((n,s)=>NS(n,s)))&&Al(this.baseMutations,e.baseMutations,((n,s)=>NS(n,s)))}}class Jv{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){$e(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return a3})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new Jv(e,n,s,a)}}class _3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class T3{constructor(e,n){this.count=e,this.unchangedNames=n}}var Bt,qe;function b3(t){switch(t){case ne.OK:return Se(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function XC(t){if(t===void 0)return Ws("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Bt.OK:return ne.OK;case Bt.CANCELLED:return ne.CANCELLED;case Bt.UNKNOWN:return ne.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return ne.INTERNAL;case Bt.UNAVAILABLE:return ne.UNAVAILABLE;case Bt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Bt.NOT_FOUND:return ne.NOT_FOUND;case Bt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Bt.ABORTED:return ne.ABORTED;case Bt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Bt.DATA_LOSS:return ne.DATA_LOSS;default:return Se(39323,{code:t})}}(qe=Bt||(Bt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function w3(){return new TextEncoder}const E3=new Kr([4294967295,4294967295],0);function MS(t){const e=w3().encode(t),n=new uC;return n.update(e),new Uint8Array(n.digest())}function PS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Kr([n,s],0),new Kr([a,l],0)]}class e0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Zu(`Invalid padding: ${n}`);if(s<0)throw new Zu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Zu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Zu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Kr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Kr.fromNumber(s)));return a.compare(E3)===1&&(a=new Kr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=MS(e),[s,a]=PS(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new e0(l,a,n);return s.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=MS(e),[s,a]=PS(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Zu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zd{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,Uc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Zd(Re.min(),a,new _t(ze),Zs(),Be())}}class Uc{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Uc(s,n,Be(),Be(),Be())}}class Xf{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class $C{constructor(e,n){this.targetId=e,this.Ce=n}}class QC{constructor(e,n,s=cn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class VS{constructor(){this.ve=0,this.Fe=OS(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),s=Be();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Se(38017,{changeType:l})}})),new Uc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=OS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class S3{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zs(),this.Je=Pf(),this.He=Pf(),this.Ye=new _t(ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Py(l))if(s===0){const u=new ve(l.path);this.et(n,u,mn.newNoDocument(u,Re.min()))}else $e(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const h=this.ut(e),d=h?this.ct(h,e,u):1;if(d!==0){this.it(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=ta(s).toUint8Array()}catch(d){if(d instanceof bC)return Sl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new e0(u,a,l)}catch(d){return Sl(d instanceof Zu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Py(h.target)){const d=new ve(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,mn.newNoDocument(d,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let s=Be();this.He.forEach(((l,u)=>{let h=!0;u.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Zd(e,n,this.Ye,this.je,s);return this.je=Zs(),this.Je=Pf(),this.He=Pf(),this.Ye=new _t(ze),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new VS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Xt(ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Xt(ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new VS),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Pf(){return new _t(ve.comparator)}function OS(){return new _t(ve.comparator)}const A3={asc:"ASCENDING",desc:"DESCENDING"},x3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},C3={and:"AND",or:"OR"};class R3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Oy(t,e){return t.useProto3Json||Gd(e)?e:{value:e}}function yd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function N3(t,e){return yd(t,e.toTimestamp())}function ds(t){return $e(!!t,49232),Re.fromTimestamp((function(n){const s=ea(n);return new ut(s.seconds,s.nanos)})(t))}function t0(t,e){return ky(t,e).canonicalString()}function ky(t,e){const n=(function(a){return new at(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function ZC(t){const e=at.fromString(t);return $e(iR(e),10190,{key:e.toString()}),e}function Ly(t,e){return t0(t.databaseId,e.path)}function Bg(t,e){const n=ZC(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(eR(n))}function JC(t,e){return t0(t.databaseId,e)}function I3(t){const e=ZC(t);return e.length===4?at.emptyPath():eR(e)}function jy(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eR(t){return $e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function kS(t,e,n){return{name:Ly(t,e),fields:n.value.mapValue.fields}}function D3(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?($e(y===void 0||typeof y=="string",58123),cn.fromBase64String(y||"")):($e(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),cn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const y=p.code===void 0?ne.UNKNOWN:XC(p.code);return new fe(y,p.message||"")})(u);n=new QC(s,a,l,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Bg(t,s.document.name),l=ds(s.document.updateTime),u=s.document.createTime?ds(s.document.createTime):Re.min(),h=new Mn({mapValue:{fields:s.document.fields}}),d=mn.newFoundDocument(a,l,u,h),p=s.targetIds||[],y=s.removedTargetIds||[];n=new Xf(p,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Bg(t,s.document),l=s.readTime?ds(s.readTime):Re.min(),u=mn.newNoDocument(a,l),h=s.removedTargetIds||[];n=new Xf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Bg(t,s.document),l=s.removedTargetIds||[];n=new Xf([],l,a,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new T3(a,l),h=s.targetId;n=new $C(h,u)}}return n}function M3(t,e){let n;if(e instanceof jc)n={update:kS(t,e.key,e.value)};else if(e instanceof Zv)n={delete:Ly(t,e.key)};else if(e instanceof la)n={update:kS(t,e.key,e.data),updateMask:B3(e.fieldMask)};else{if(!(e instanceof y3))return Se(16599,{Vt:e.type});n={verify:Ly(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const h=u.transform;if(h instanceof pd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Sc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ac)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof gd)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Se(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:N3(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se(27497)})(t,e.precondition)),n}function P3(t,e){return t&&t.length>0?($e(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?ds(a.updateTime):ds(l);return u.isEqual(Re.min())&&(u=ds(l)),new m3(u,a.transformResults||[])})(n,e)))):[]}function V3(t,e){return{documents:[JC(t,e.path)]}}function O3(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=JC(t,a);const l=(function(p){if(p.length!==0)return nR(Li.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(T){return{field:ol(T.field),direction:j3(T.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Oy(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function k3(t){let e=I3(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){$e(s===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const T=tR(v);return T instanceof Li&&DC(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(v){return v.map((T=>(function(R){return new Ec(ll(R.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(T)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let T;return T=typeof v=="object"?v.value:v,Gd(T)?null:T})(n.limit));let d=null;n.startAt&&(d=(function(v){const T=!!v.before,S=v.values||[];return new dd(S,T)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const T=!v.before,S=v.values||[];return new dd(S,T)})(n.endAt)),t3(e,a,u,l,h,"F",d,p)}function L3(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tR(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ll(n.unaryFilter.field);return Ht.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=ll(n.unaryFilter.field);return Ht.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ll(n.unaryFilter.field);return Ht.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ll(n.unaryFilter.field);return Ht.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ht.create(ll(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Li.create(n.compositeFilter.filters.map((s=>tR(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(t):Se(30097,{filter:t})}function j3(t){return A3[t]}function U3(t){return x3[t]}function z3(t){return C3[t]}function ol(t){return{fieldPath:t.canonicalString()}}function ll(t){return un.fromServerFormat(t.fieldPath)}function nR(t){return t instanceof Ht?(function(n){if(n.op==="=="){if(ES(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NAN"}};if(wS(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ES(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NAN"}};if(wS(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ol(n.field),op:U3(n.op),value:n.value}}})(t):t instanceof Li?(function(n){const s=n.getFilters().map((a=>nR(a)));return s.length===1?s[0]:{compositeFilter:{op:z3(n.op),filters:s}}})(t):Se(54877,{filter:t})}function B3(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function iR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Br{constructor(e,n,s,a,l=Re.min(),u=Re.min(),h=cn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class F3{constructor(e){this.yt=e}}function H3(t){const e=k3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?md(e,e.limit,"L"):e}class q3{constructor(){this.Cn=new G3}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Jr.min())}updateCollectionGroup(e,n,s){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class G3{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Xt(at.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Xt(at.comparator)).toArray()}}const LS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sR=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(sR,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class Rl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Rl(0)}static cr(){return new Rl(-1)}}const jS="LruGarbageCollector",Y3=1048576;function US([t,e],[n,s]){const a=ze(t,n);return a===0?ze(e,s):a}class K3{constructor(e){this.Ir=e,this.buffer=new Xt(US),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();US(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class X3{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(jS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jl(n)?me(jS,"Ignoring IndexedDB error during garbage collection: ",n):await Ll(n)}await this.Vr(3e5)}))}}class $3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(qd.ce);const s=new K3(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(LS)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LS):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,u,h,d,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(s=v,h=Date.now(),this.removeTargets(e,s,n)))).next((v=>(l=v,d=Date.now(),this.removeOrphanedDocuments(e,s)))).next((v=>(p=Date.now(),rl()<=Ue.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-y}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function Q3(t,e){return new $3(t,e)}class W3{constructor(){this.changes=new co((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?se.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Z3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class J3{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&uc(s.mutation,a,Gn.empty(),ut.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Be()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Be()){const a=Ya();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=Wu();return l.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=Ya();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Be())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,s,a){let l=Zs();const u=lc(),h=(function(){return lc()})();return n.forEach(((d,p)=>{const y=s.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof la)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),uc(y.mutation,p,y.mutation.getFieldMask(),ut.now())):u.set(p.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((p,y)=>u.set(p,y))),n.forEach(((p,y)=>h.set(p,new Z3(y,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const s=lc();let a=new _t(((u,h)=>u-h)),l=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let y=s.get(d)||Gn.empty();y=h.applyToLocalView(p,y),s.set(d,y);const v=(a.get(h.batchId)||Be()).add(d);a=a.insert(h.batchId,v)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,y=d.value,v=zC();y.forEach((T=>{if(!l.has(T)){const S=YC(n.get(T),s.get(T));S!==null&&v.set(T,S),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return se.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(u){return ve.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):OC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):se.resolve(Ya());let h=_c,d=l;return u.next((p=>se.forEach(p,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?se.resolve():this.remoteDocumentCache.getEntry(e,y).next((T=>{d=d.insert(y,T)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,d,p,Be()))).next((y=>({batchId:h,changes:UC(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((s=>{let a=Wu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=Wu();return this.indexManager.getCollectionParents(e,l).next((h=>se.forEach(h,(d=>{const p=(function(v,T){return new Ul(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((y=>{y.forEach(((v,T)=>{u=u.insert(v,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((d,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,mn.newInvalidDocument(y)))}));let h=Wu();return u.forEach(((d,p)=>{const y=l.get(d);y!==void 0&&uc(y.mutation,p,Gn.empty(),ut.now()),$d(n,p)&&(h=h.insert(d,p))})),h}))}}class e5{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ds(a.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:H3(a.bundledQuery),readTime:ds(a.readTime)}})(n)),se.resolve()}}class t5{constructor(){this.overlays=new _t(ve.comparator),this.qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ya();return se.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),se.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),se.resolve()}getOverlaysForCollection(e,n,s){const a=Ya(),l=n.length+1,u=new ve(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>s&&a.set(d.getKey(),d)}return se.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new _t(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let y=l.get(p.largestBatchId);y===null&&(y=Ya(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=Ya(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=a)););return se.resolve(h)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new _3(n,s));let l=this.qr.get(n);l===void 0&&(l=Be(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}class n5{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}class n0{constructor(){this.Qr=new Xt(Zt.$r),this.Ur=new Xt(Zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Zt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Zt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ve(new at([])),s=new Zt(n,e),a=new Zt(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new at([])),s=new Zt(n,e),a=new Zt(n,e+1);let l=Be();return this.Ur.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new Zt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||ze(e.Yr,n.Yr)}static Kr(e,n){return ze(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}class i5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Xt(Zt.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new v3(l,n,s,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new Zt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,n){return se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Yv:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Zt(n,0),a=new Zt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(u=>{const h=this.Xr(u.Yr);l.push(h)})),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Xt(ze);return n.forEach((a=>{const l=new Zt(a,0),u=new Zt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(h=>{s=s.add(h.Yr)}))})),se.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;ve.isDocumentKey(l)||(l=l.child(""));const u=new Zt(new ve(l),0);let h=new Xt(ze);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Yr)),!0)}),u),se.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){$e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return se.forEach(n.mutations,(a=>{const l=new Zt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Zt(n,0),a=this.Zr.firstAfterOrEqual(s);return se.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class s5{constructor(e){this.ri=e,this.docs=(function(){return new _t(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return se.resolve(s?s.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let s=Zs();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():mn.newInvalidDocument(a))})),se.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Zs();const u=n.path,h=new ve(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||P6(M6(y),s)<=0||(a.has(y.key)||$d(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Se(9500)}ii(e,n){return se.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new r5(this)}getSize(e){return se.resolve(this.size)}}class r5 extends W3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class a5{constructor(e){this.persistence=e,this.si=new co((n=>$v(n)),Qv),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new n0,this.targetCount=0,this.ai=Rl.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Rl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Pr(n),se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&s.get(h.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),se.waitFor(l).next((()=>a))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return se.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),se.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),se.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return se.resolve(s)}containsKey(e,n){return se.resolve(this._i.containsKey(n))}}class rR{constructor(e,n){this.ui={},this.overlays={},this.ci=new qd(0),this.li=!1,this.li=!0,this.hi=new n5,this.referenceDelegate=e(this),this.Pi=new a5(this),this.indexManager=new q3,this.remoteDocumentCache=(function(a){return new s5(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new F3(n),this.Ii=new e5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new t5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new i5(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const a=new o5(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return se.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class o5 extends O6{constructor(e){super(),this.currentSequenceNumber=e}}class i0{constructor(e){this.persistence=e,this.Ri=new n0,this.Vi=null}static mi(e){return new i0(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),se.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(s=>{const a=ve.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Re.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class vd{constructor(e,n){this.persistence=e,this.pi=new co((s=>j6(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=Q3(this,n)}static mi(e,n){return new vd(e,n)}Ei(){}di(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return se.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?se.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((h=>{h||(s++,l.removeEntry(u,Re.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gf(e.data.value)),n}br(e,n,s){return se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return se.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class s0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Be(),a=Be();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new s0(e,n.fromCache,s,a)}}class l5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class u5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Z4()?8:k6(gn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new l5;return this.Ss(e,n,u).next((h=>{if(l.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(rl()<=Ue.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",al(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(rl()<=Ue.DEBUG&&me("QueryEngine","Query:",al(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(rl()<=Ue.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",al(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fs(n))):se.resolve())}ys(e,n){if(CS(n))return se.resolve(null);let s=fs(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=md(n,null,"F"),s=fs(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=Be(...l);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,s).next((d=>{const p=this.Ds(n,h);return this.Cs(n,p,u,d.readTime)?this.ys(e,md(n,null,"F")):this.vs(e,p,n,d)}))))})))))}ws(e,n,s,a){return CS(n)||a.isEqual(Re.min())?se.resolve(null):this.ps.getDocuments(e,s).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,s,a)?se.resolve(null):(rl()<=Ue.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),al(n)),this.vs(e,u,n,D6(a,_c)).next((h=>h)))}))}Ds(e,n){let s=new Xt(LC(e));return n.forEach(((a,l)=>{$d(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return rl()<=Ue.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",al(n)),this.ps.getDocumentsMatchingQuery(e,n,Jr.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const r0="LocalStore",c5=3e8;class h5{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new _t(ze),this.xs=new co((l=>$v(l)),Qv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function f5(t,e,n,s){return new h5(t,e,n,s)}async function aR(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],h=[];let d=Be();for(const p of a){u.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(s,d).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function d5(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,p,y){const v=p.batch,T=v.keys();let S=se.resolve();return T.forEach((R=>{S=S.next((()=>y.getEntry(d,R))).next((M=>{const D=p.docVersions.get(R);$e(D!==null,48541),M.version.compareTo(D)<0&&(v.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),y.addEntry(M)))}))})),S.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let d=Be();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function oR(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function m5(t,e){const n=Ie(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((y,v)=>{const T=a.get(v);if(!T)return;h.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,v))));let S=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(cn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,s)),a=a.insert(v,S),(function(M,D,O){return M.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=c5?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(T,S,y)&&h.push(n.Pi.updateTargetData(l,S))}));let d=Zs(),p=Be();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(p5(l,u,e.documentUpdates).next((y=>{d=y.ks,p=y.qs}))),!s.isEqual(Re.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((v=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(y)}return se.waitFor(h).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,p))).next((()=>d))})).then((l=>(n.Ms=a,l)))}function p5(t,e,n){let s=Be(),a=Be();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=Zs();return n.forEach(((h,d)=>{const p=l.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Re.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):me(r0,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)})),{ks:u,qs:a}}))}function g5(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Yv),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function y5(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,se.resolve(a)):n.Pi.allocateTargetId(s).next((u=>(a=new Br(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Uy(t,e,n){const s=Ie(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!jl(u))throw u;me(r0,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function zS(t,e,n){const s=Ie(t);let a=Re.min(),l=Be();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,p,y){const v=Ie(d),T=v.xs.get(y);return T!==void 0?se.resolve(v.Ms.get(T)):v.Pi.getTargetData(p,y)})(s,u,fs(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,h.targetId).next((d=>{l=d}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,n?a:Re.min(),n?l:Be()))).next((h=>(v5(s,i3(e),h),{documents:h,Qs:l})))))}function v5(t,e,n){let s=t.Os.get(e)||Re.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class BS{constructor(){this.activeTargetIds=u3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _5{constructor(){this.Mo=new BS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new BS,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class T5{Oo(e){}shutdown(){}}const FS="ConnectivityMonitor";class HS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(FS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(FS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vf=null;function zy(){return Vf===null?Vf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vf++,"0x"+Vf.toString(16)}const Fg="RestConnection",b5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class w5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===hd?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const u=zy(),h=this.zo(e,n.toUriEncodedString());me(Fg,`Sending RPC '${e}' ${u}:`,h,s);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,l);const{host:p}=new URL(h),y=Vl(p);return this.Jo(e,h,d,s,y).then((v=>(me(Fg,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw Sl(Fg,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",s),v}))}Ho(e,n,s,a,l,u){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+kl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=b5[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class E5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const fn="WebChannelConnection";class S5 extends w5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const u=zy();return new Promise(((h,d)=>{const p=new cC;p.setWithCredentials(!0),p.listenOnce(hC.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case qf.NO_ERROR:const v=p.getResponseJson();me(fn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case qf.TIMEOUT:me(fn,`RPC '${e}' ${u} timed out`),d(new fe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case qf.HTTP_ERROR:const T=p.getStatus();if(me(fn,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const R=S?.error;if(R&&R.status&&R.message){const M=(function(O){const z=O.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(z)>=0?z:ne.UNKNOWN})(R.status);d(new fe(M,R.message))}else d(new fe(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new fe(ne.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{me(fn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);me(fn,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",y,s,15)}))}T_(e,n,s){const a=zy(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=mC(),h=dC(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,s),d.encodeInitMessageHeaders=!0;const y=l.join("");me(fn,`Creating RPC '${e}' stream ${a}: ${y}`,d);const v=u.createWebChannel(y,d);this.I_(v);let T=!1,S=!1;const R=new E5({Yo:D=>{S?me(fn,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(T||(me(fn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),T=!0),me(fn,`RPC '${e}' stream ${a} sending:`,D),v.send(D))},Zo:()=>v.close()}),M=(D,O,z)=>{D.listen(O,(F=>{try{z(F)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return M(v,Qu.EventType.OPEN,(()=>{S||(me(fn,`RPC '${e}' stream ${a} transport opened.`),R.o_())})),M(v,Qu.EventType.CLOSE,(()=>{S||(S=!0,me(fn,`RPC '${e}' stream ${a} transport closed`),R.a_(),this.E_(v))})),M(v,Qu.EventType.ERROR,(D=>{S||(S=!0,Sl(fn,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),R.a_(new fe(ne.UNAVAILABLE,"The operation could not be completed")))})),M(v,Qu.EventType.MESSAGE,(D=>{if(!S){const O=D.data[0];$e(!!O,16349);const z=O,F=z?.error||z[0]?.error;if(F){me(fn,`RPC '${e}' stream ${a} received error:`,F);const ae=F.status;let re=(function(x){const I=Bt[x];if(I!==void 0)return XC(I)})(ae),J=F.message;re===void 0&&(re=ne.INTERNAL,J="Unknown error status: "+ae+" with message "+F.message),S=!0,R.a_(new fe(re,J)),v.close()}else me(fn,`RPC '${e}' stream ${a} received:`,O),R.u_(O)}})),M(h,fC.STAT_EVENT,(D=>{D.stat===Ry.PROXY?me(fn,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===Ry.NOPROXY&&me(fn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Hg(){return typeof document<"u"?document:null}function Jd(t){return new R3(t,!0)}class lR{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const qS="PersistentStream";class uR{constructor(e,n,s,a,l,u,h,d){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Ws(n.toString()),Ws("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new fe(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(qS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(qS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class A5 extends uR{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=D3(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Re.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Re.min():u.readTime?ds(u.readTime):Re.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=jy(this.serializer),n.addTarget=(function(l,u){let h;const d=u.target;if(h=Py(d)?{documents:V3(l,d)}:{query:O3(l,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=WC(l,u.resumeToken);const p=Oy(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Re.min())>0){h.readTime=yd(l,u.snapshotVersion.toTimestamp());const p=Oy(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const s=L3(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=jy(this.serializer),n.removeTarget=e,this.q_(n)}}class x5 extends uR{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=P3(e.writeResults,e.commitTime),s=ds(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=jy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>M3(this.serializer,s)))};this.q_(n)}}class C5{}class R5 extends C5{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,ky(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(ne.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,ky(n,s),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ne.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class N5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ws(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const to="RemoteStore";class I5{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{ho(this)&&(me(to,"Restarting streams for network reachability change."),await(async function(d){const p=Ie(d);p.Ea.add(4),await zc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await em(p)})(this))}))})),this.Ra=new N5(s,a)}}async function em(t){if(ho(t))for(const e of t.da)await e(!0)}async function zc(t){for(const e of t.da)await e(!1)}function cR(t,e){const n=Ie(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),u0(n)?l0(n):zl(n).O_()&&o0(n,e))}function a0(t,e){const n=Ie(t),s=zl(n);n.Ia.delete(e),s.O_()&&hR(n,e),n.Ia.size===0&&(s.O_()?s.L_():ho(n)&&n.Ra.set("Unknown"))}function o0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zl(t).Y_(e)}function hR(t,e){t.Va.Ue(e),zl(t).Z_(e)}function l0(t){t.Va=new S3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),zl(t).start(),t.Ra.ua()}function u0(t){return ho(t)&&!zl(t).x_()&&t.Ia.size>0}function ho(t){return Ie(t).Ea.size===0}function fR(t){t.Va=void 0}async function D5(t){t.Ra.set("Online")}async function M5(t){t.Ia.forEach(((e,n)=>{o0(t,e)}))}async function P5(t,e){fR(t),u0(t)?(t.Ra.ha(e),l0(t)):t.Ra.set("Unknown")}async function V5(t,e,n){if(t.Ra.set("Online"),e instanceof QC&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(s){me(to,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await _d(t,s)}else if(e instanceof Xf?t.Va.Ze(e):e instanceof $C?t.Va.st(e):t.Va.tt(e),!n.isEqual(Re.min()))try{const s=await oR(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const h=l.Va.Tt(u);return h.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,p)=>{const y=l.Ia.get(d);if(!y)return;l.Ia.set(d,y.withResumeToken(cn.EMPTY_BYTE_STRING,y.snapshotVersion)),hR(l,d);const v=new Br(y.target,d,p,y.sequenceNumber);o0(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(s){me(to,"Failed to raise snapshot:",s),await _d(t,s)}}async function _d(t,e,n){if(!jl(e))throw e;t.Ea.add(1),await zc(t),t.Ra.set("Offline"),n||(n=()=>oR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(to,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await em(t)}))}function dR(t,e){return e().catch((n=>_d(t,n,e)))}async function tm(t){const e=Ie(t),n=ia(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Yv;for(;O5(e);)try{const a=await g5(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,k5(e,a)}catch(a){await _d(e,a)}mR(e)&&pR(e)}function O5(t){return ho(t)&&t.Ta.length<10}function k5(t,e){t.Ta.push(e);const n=ia(t);n.O_()&&n.X_&&n.ea(e.mutations)}function mR(t){return ho(t)&&!ia(t).x_()&&t.Ta.length>0}function pR(t){ia(t).start()}async function L5(t){ia(t).ra()}async function j5(t){const e=ia(t);for(const n of t.Ta)e.ea(n.mutations)}async function U5(t,e,n){const s=t.Ta.shift(),a=Jv.from(s,e,n);await dR(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await tm(t)}async function z5(t,e){e&&ia(t).X_&&await(async function(s,a){if((function(u){return b3(u)&&u!==ne.ABORTED})(a.code)){const l=s.Ta.shift();ia(s).B_(),await dR(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await tm(s)}})(t,e),mR(t)&&pR(t)}async function GS(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),me(to,"RemoteStore received new credentials");const s=ho(n);n.Ea.add(3),await zc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await em(n)}async function B5(t,e){const n=Ie(t);e?(n.Ea.delete(2),await em(n)):e||(n.Ea.add(2),await zc(n),n.Ra.set("Unknown"))}function zl(t){return t.ma||(t.ma=(function(n,s,a){const l=Ie(n);return l.sa(),new A5(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:D5.bind(null,t),t_:M5.bind(null,t),r_:P5.bind(null,t),H_:V5.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),u0(t)?l0(t):t.Ra.set("Unknown")):(await t.ma.stop(),fR(t))}))),t.ma}function ia(t){return t.fa||(t.fa=(function(n,s,a){const l=Ie(n);return l.sa(),new x5(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:L5.bind(null,t),r_:z5.bind(null,t),ta:j5.bind(null,t),na:U5.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await tm(t)):(await t.fa.stop(),t.Ta.length>0&&(me(to,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class c0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,h=new c0(e,n,u,a,l);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function h0(t,e){if(Ws("AsyncQueue",`${e}: ${t}`),jl(t))return new fe(ne.UNAVAILABLE,`${e}: ${t}`);throw t}class gl{static emptySet(e){return new gl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=Wu(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof gl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new gl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class YS{constructor(){this.ga=new _t(ve.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Nl{constructor(e,n,s,a,l,u,h,d,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Nl(e,n,gl.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class F5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class H5{constructor(){this.queries=KS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Ie(n),l=a.queries;a.queries=KS(),l.forEach(((u,h)=>{for(const d of h.Sa)d.onError(s)}))})(this,new fe(ne.ABORTED,"Firestore shutting down"))}}function KS(){return new co((t=>kC(t)),Xd)}async function f0(t,e){const n=Ie(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new F5,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=h0(u,`Initialization of query '${al(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&m0(n)}async function d0(t,e){const n=Ie(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function q5(t,e){const n=Ie(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.Sa)h.Fa(a)&&(s=!0);u.wa=a}}s&&m0(n)}function G5(t,e,n){const s=Ie(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function m0(t){t.Ca.forEach((e=>{e.next()}))}var By,XS;(XS=By||(By={})).Ma="default",XS.Cache="cache";class p0{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Nl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==By.Cache}}class gR{constructor(e){this.key=e}}class yR{constructor(e){this.key=e}}class Y5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=LC(e),this.tu=new gl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new YS,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const T=a.get(y),S=$d(this.query,v)?v:null,R=!!T&&this.mutatedKeys.has(T.key),M=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let D=!1;T&&S?T.data.isEqual(S.data)?R!==M&&(s.track({type:3,doc:S}),D=!0):this.su(T,S)||(s.track({type:2,doc:S}),D=!0,(d&&this.eu(S,d)>0||p&&this.eu(S,p)<0)&&(h=!0)):!T&&S?(s.track({type:0,doc:S}),D=!0):T&&!S&&(s.track({type:1,doc:T}),D=!0,(d||p)&&(h=!0)),D&&(S?(u=u.add(S),l=M?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:u,iu:s,Cs:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(S,R){const M=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:D})}};return M(S)-M(R)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(s),a=a??!1;const h=n&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,p=d!==this.Za;return this.Za=d,u.length!==0||p?{snapshot:new Nl(this.query,e.tu,l,u,e.mutatedKeys,d===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new YS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new yR(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new gR(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const g0="SyncEngine";class K5{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class X5{constructor(e){this.key=e,this.hu=!1}}class $5{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new co((h=>kC(h)),Xd),this.Iu=new Map,this.Eu=new Set,this.du=new _t(ve.comparator),this.Au=new Map,this.Ru=new n0,this.Vu={},this.mu=new Map,this.fu=Rl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Q5(t,e,n=!0){const s=ER(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await vR(s,e,n,!0),a}async function W5(t,e){const n=ER(t);await vR(n,e,!0,!1)}async function vR(t,e,n,s){const a=await y5(t.localStore,fs(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return s&&(h=await Z5(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&cR(t.remoteStore,a),h}async function Z5(t,e,n,s,a){t.pu=(v,T,S)=>(async function(M,D,O,z){let F=D.view.ru(O);F.Cs&&(F=await zS(M.localStore,D.query,!1).then((({documents:N})=>D.view.ru(N,F))));const ae=z&&z.targetChanges.get(D.targetId),re=z&&z.targetMismatches.get(D.targetId)!=null,J=D.view.applyChanges(F,M.isPrimaryClient,ae,re);return QS(M,D.targetId,J.au),J.snapshot})(t,v,T,S);const l=await zS(t.localStore,e,!0),u=new Y5(e,l.Qs),h=u.ru(l.documents),d=Uc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=u.applyChanges(h,t.isPrimaryClient,d);QS(t,n,p.au);const y=new K5(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function J5(t,e,n){const s=Ie(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!Xd(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Uy(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&a0(s.remoteStore,a.targetId),Fy(s,a.targetId)})).catch(Ll)):(Fy(s,a.targetId),await Uy(s.localStore,a.targetId,!0))}async function ej(t,e){const n=Ie(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),a0(n.remoteStore,s.targetId))}async function tj(t,e,n){const s=lj(t);try{const a=await(function(u,h){const d=Ie(u),p=ut.now(),y=h.reduce(((S,R)=>S.add(R.key)),Be());let v,T;return d.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let R=Zs(),M=Be();return d.Ns.getEntries(S,y).next((D=>{R=D,R.forEach(((O,z)=>{z.isValidDocument()||(M=M.add(O))}))})).next((()=>d.localDocuments.getOverlayedDocuments(S,R))).next((D=>{v=D;const O=[];for(const z of h){const F=g3(z,v.get(z.key).overlayedDocument);F!=null&&O.push(new la(z.key,F,RC(F.value.mapValue),yi.exists(!0)))}return d.mutationQueue.addMutationBatch(S,p,O,h)})).next((D=>{T=D;const O=D.applyToLocalDocumentSet(v,M);return d.documentOverlayCache.saveOverlays(S,D.batchId,O)}))})).then((()=>({batchId:T.batchId,changes:UC(v)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,h,d){let p=u.Vu[u.currentUser.toKey()];p||(p=new _t(ze)),p=p.insert(h,d),u.Vu[u.currentUser.toKey()]=p})(s,a.batchId,n),await Bc(s,a.changes),await tm(s.remoteStore)}catch(a){const l=h0(a,"Failed to persist write");n.reject(l)}}async function _R(t,e){const n=Ie(t);try{const s=await m5(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&($e(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?$e(u.hu,14607):a.removedDocuments.size>0&&($e(u.hu,42227),u.hu=!1))})),await Bc(n,s,e)}catch(s){await Ll(s)}}function $S(t,e,n){const s=Ie(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const d=Ie(u);d.onlineState=h;let p=!1;d.queries.forEach(((y,v)=>{for(const T of v.Sa)T.va(h)&&(p=!0)})),p&&m0(d)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function nj(t,e,n){const s=Ie(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new _t(ve.comparator);u=u.insert(l,mn.newNoDocument(l,Re.min()));const h=Be().add(l),d=new Zd(Re.min(),new Map,new _t(ze),u,h);await _R(s,d),s.du=s.du.remove(l),s.Au.delete(e),y0(s)}else await Uy(s.localStore,e,!1).then((()=>Fy(s,e,n))).catch(Ll)}async function ij(t,e){const n=Ie(t),s=e.batch.batchId;try{const a=await d5(n.localStore,e);bR(n,s,null),TR(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Bc(n,a)}catch(a){await Ll(a)}}async function sj(t,e,n){const s=Ie(t);try{const a=await(function(u,h){const d=Ie(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return d.mutationQueue.lookupMutationBatch(p,h).next((v=>($e(v!==null,37113),y=v.keys(),d.mutationQueue.removeMutationBatch(p,v)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>d.localDocuments.getDocuments(p,y)))}))})(s.localStore,e);bR(s,e,n),TR(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Bc(s,a)}catch(a){await Ll(a)}}function TR(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function bR(t,e,n){const s=Ie(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Fy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||wR(t,s)}))}function wR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(a0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),y0(t))}function QS(t,e,n){for(const s of n)s instanceof gR?(t.Ru.addReference(s.key,e),rj(t,s)):s instanceof yR?(me(g0,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||wR(t,s.key)):Se(19791,{wu:s})}function rj(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(me(g0,"New document in limbo: "+n),t.Eu.add(s),y0(t))}function y0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ve(at.fromString(e)),s=t.fu.next();t.Au.set(s,new X5(n)),t.du=t.du.insert(n,s),cR(t.remoteStore,new Br(fs(Kd(n.path)),s,"TargetPurposeLimboResolution",qd.ce))}}async function Bc(t,e,n){const s=Ie(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,d)=>{u.push(s.pu(d,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(d.targetId)?.current;s.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){a.push(p);const y=s0.As(d.targetId,p);l.push(y)}})))})),await Promise.all(u),s.Pu.H_(a),await(async function(d,p){const y=Ie(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>se.forEach(p,(T=>se.forEach(T.Es,(S=>y.persistence.referenceDelegate.addReference(v,T.targetId,S))).next((()=>se.forEach(T.ds,(S=>y.persistence.referenceDelegate.removeReference(v,T.targetId,S)))))))))}catch(v){if(!jl(v))throw v;me(r0,"Failed to update sequence numbers: "+v)}for(const v of p){const T=v.targetId;if(!v.fromCache){const S=y.Ms.get(T),R=S.snapshotVersion,M=S.withLastLimboFreeSnapshotVersion(R);y.Ms=y.Ms.insert(T,M)}}})(s.localStore,l))}async function aj(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){me(g0,"User change. New user:",e.toKey());const s=await aR(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new fe(ne.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Bc(n,s.Ls)}}function oj(t,e){const n=Ie(t),s=n.Au.get(e);if(s&&s.hu)return Be().add(s.key);{let a=Be();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function ER(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_R.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nj.bind(null,e),e.Pu.H_=q5.bind(null,e.eventManager),e.Pu.yu=G5.bind(null,e.eventManager),e}function lj(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ij.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sj.bind(null,e),e}class Td{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return f5(this.persistence,new u5,e.initialUser,this.serializer)}Cu(e){return new rR(i0.mi,this.serializer)}Du(e){return new _5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Td.provider={build:()=>new Td};class uj extends Td{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$e(this.persistence.referenceDelegate instanceof vd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new X3(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new rR((s=>vd.mi(s,n)),this.serializer)}}class Hy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$S(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=aj.bind(null,this.syncEngine),await B5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new H5})()}createDatastore(e){const n=Jd(e.databaseInfo.databaseId),s=(function(l){return new S5(l)})(e.databaseInfo);return(function(l,u,h,d){return new R5(l,u,h,d)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,h){return new I5(s,a,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>$S(this.syncEngine,n,0)),(function(){return HS.v()?new HS:new T5})())}createSyncEngine(e,n){return(function(a,l,u,h,d,p,y){const v=new $5(a,l,u,h,d,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ie(n);me(to,"RemoteStore shutting down."),s.Ea.add(5),await zc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Hy.provider={build:()=>new Hy};class v0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ws("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const sa="FirestoreClient";class cj{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=dn.UNAUTHENTICATED,this.clientId=Gv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{me(sa,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(me(sa,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=h0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function qg(t,e){t.asyncQueue.verifyOperationInProgress(),me(sa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await aR(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function WS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await hj(t);me(sa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>GS(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>GS(e.remoteStore,a))),t._onlineComponents=e}async function hj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(sa,"Using user provided OfflineComponentProvider");try{await qg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Sl("Error using user provided cache. Falling back to memory cache: "+n),await qg(t,new Td)}}else me(sa,"Using default OfflineComponentProvider"),await qg(t,new uj(void 0));return t._offlineComponents}async function SR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(sa,"Using user provided OnlineComponentProvider"),await WS(t,t._uninitializedComponentsProvider._online)):(me(sa,"Using default OnlineComponentProvider"),await WS(t,new Hy))),t._onlineComponents}function fj(t){return SR(t).then((e=>e.syncEngine))}async function bd(t){const e=await SR(t),n=e.eventManager;return n.onListen=Q5.bind(null,e.syncEngine),n.onUnlisten=J5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=W5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ej.bind(null,e.syncEngine),n}function dj(t,e,n={}){const s=new Gs;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,p){const y=new v0({next:T=>{y.Nu(),u.enqueueAndForget((()=>d0(l,v)));const S=T.docs.has(h);!S&&T.fromCache?p.reject(new fe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&T.fromCache&&d&&d.source==="server"?p.reject(new fe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),v=new p0(Kd(h.path),y,{includeMetadataChanges:!0,qa:!0});return f0(l,v)})(await bd(t),t.asyncQueue,e,n,s))),s.promise}function mj(t,e,n={}){const s=new Gs;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,p){const y=new v0({next:T=>{y.Nu(),u.enqueueAndForget((()=>d0(l,v))),T.fromCache&&d.source==="server"?p.reject(new fe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),v=new p0(h,y,{includeMetadataChanges:!0,qa:!0});return f0(l,v)})(await bd(t),t.asyncQueue,e,n,s))),s.promise}function AR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const ZS=new Map;const xR="firestore.googleapis.com",JS=!0;class eA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xR,this.ssl=JS}else this.host=e.host,this.ssl=e.ssl??JS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Y3)throw new fe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}I6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AR(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nm{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new T6;switch(s.type){case"firstParty":return new S6(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=ZS.get(n);s&&(me("ComponentProvider","Removing Datastore"),ZS.delete(n),s.terminate())})(this),Promise.resolve()}}function pj(t,e,n,s={}){t=Vn(t,nm);const a=Vl(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(Zx(`https://${h}`),Jx("Firestore",!0)),l.host!==xR&&l.host!==h&&Sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:a,emulatorOptions:s};if(!Zr(d,u)&&(t._setSettings(d),s.mockUserToken)){let p,y;if(typeof s.mockUserToken=="string")p=s.mockUserToken,y=dn.MOCK_USER;else{p=q4(s.mockUserToken,t._app?.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new fe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new dn(v)}t._authCredentials=new b6(new gC(p,y))}}class tr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new tr(this.firestore,e,this._query)}}class St{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}toJSON(){return{type:St._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Lc(n,St._jsonSchema))return new St(e,s||null,new ve(at.fromString(n.referencePath)))}}St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:qt("string",St._jsonSchemaVersion),referencePath:qt("string")};class Xr extends tr{constructor(e,n,s){super(e,n,Kd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new ve(e))}withConverter(e){return new Xr(this.firestore,e,this._path)}}function Fr(t,e,...n){if(t=vt(t),yC("collection","path",e),t instanceof nm){const s=at.fromString(e,...n);return dS(s),new Xr(t,null,s)}{if(!(t instanceof St||t instanceof Xr))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(at.fromString(e,...n));return dS(s),new Xr(t.firestore,null,s)}}function di(t,e,...n){if(t=vt(t),arguments.length===1&&(e=Gv.newId()),yC("doc","path",e),t instanceof nm){const s=at.fromString(e,...n);return fS(s),new St(t,null,new ve(s))}{if(!(t instanceof St||t instanceof Xr))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(at.fromString(e,...n));return fS(s),new St(t.firestore,t instanceof Xr?t.converter:null,new ve(s))}}const tA="AsyncQueue";class nA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lR(this,"async_queue_retry"),this._c=()=>{const s=Hg();s&&me(tA,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Hg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Hg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Gs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jl(e))throw e;me(tA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ws("INTERNAL UNHANDLED ERROR: ",iA(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=c0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Se(47125,{Pc:iA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function iA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function sA(t){return(function(n,s){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class Js extends nm{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new nA,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nA(e),this._firestoreClient=void 0,await e}}}function gj(t,e){const n=typeof t=="object"?t:Hv(),s=typeof t=="string"?t:hd,a=uo(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=F4("firestore");l&&pj(a,...l)}return a}function im(t){if(t._terminated)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||yj(t),t._firestoreClient}function yj(t){const e=t._freezeSettings(),n=(function(a,l,u,h){return new B6(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,AR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new cj(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ci{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ci(cn.fromBase64String(e))}catch(n){throw new fe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ci(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lc(e,ci._jsonSchema))return ci.fromBase64String(e.bytes)}}ci._jsonSchemaVersion="firestore/bytes/1.0",ci._jsonSchema={type:qt("string",ci._jsonSchemaVersion),bytes:qt("string")};class sm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _0{constructor(e){this._methodName=e}}class ms{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ms._jsonSchemaVersion}}static fromJSON(e){if(Lc(e,ms._jsonSchema))return new ms(e.latitude,e.longitude)}}ms._jsonSchemaVersion="firestore/geoPoint/1.0",ms._jsonSchema={type:qt("string",ms._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};class ps{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ps._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lc(e,ps._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ps(e.vectorValues);throw new fe(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ps._jsonSchemaVersion="firestore/vectorValue/1.0",ps._jsonSchema={type:qt("string",ps._jsonSchemaVersion),vectorValues:qt("object")};const vj=/^__.*__$/;class _j{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new la(e,this.data,this.fieldMask,n,this.fieldTransforms):new jc(e,this.data,n,this.fieldTransforms)}}class CR{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new la(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function RR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:t})}}class T0{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new T0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(RR(this.Ac)&&vj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Tj{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Jd(e)}Cc(e,n,s,a=!1){return new T0({Ac:e,methodName:n,Dc:s,path:un.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rm(t){const e=t._freezeSettings(),n=Jd(t._databaseId);return new Tj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NR(t,e,n,s,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);b0("Data must be an object, but it was:",u,s);const h=IR(s,u);let d,p;if(l.merge)d=new Gn(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const T=qy(e,v,n);if(!u.contains(T))throw new fe(ne.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);MR(y,T)||y.push(T)}d=new Gn(y),p=u.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,p=u.fieldTransforms;return new _j(new Mn(h),d,p)}class am extends _0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof am}}function bj(t,e,n,s){const a=t.Cc(1,e,n);b0("Data must be an object, but it was:",a,s);const l=[],u=Mn.empty();oa(s,((d,p)=>{const y=w0(e,d,n);p=vt(p);const v=a.yc(y);if(p instanceof am)l.push(y);else{const T=Fc(p,v);T!=null&&(l.push(y),u.set(y,T))}}));const h=new Gn(l);return new CR(u,h,a.fieldTransforms)}function wj(t,e,n,s,a,l){const u=t.Cc(1,e,n),h=[qy(e,s,n)],d=[a];if(l.length%2!=0)throw new fe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)h.push(qy(e,l[T])),d.push(l[T+1]);const p=[],y=Mn.empty();for(let T=h.length-1;T>=0;--T)if(!MR(p,h[T])){const S=h[T];let R=d[T];R=vt(R);const M=u.yc(S);if(R instanceof am)p.push(S);else{const D=Fc(R,M);D!=null&&(p.push(S),y.set(S,D))}}const v=new Gn(p);return new CR(y,v,u.fieldTransforms)}function Ej(t,e,n,s=!1){return Fc(n,t.Cc(s?4:3,e))}function Fc(t,e){if(DR(t=vt(t)))return b0("Unsupported field value:",e,t),IR(t,e);if(t instanceof _0)return(function(s,a){if(!RR(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const h of s){let d=Fc(h,a.wc(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=vt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return c3(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ut.fromDate(s);return{timestampValue:yd(a.serializer,l)}}if(s instanceof ut){const l=new ut(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:yd(a.serializer,l)}}if(s instanceof ms)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ci)return{bytesValue:WC(a.serializer,s._byteString)};if(s instanceof St){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:t0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof ps)return(function(u,h){return{mapValue:{fields:{[xC]:{stringValue:CC},[fd]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return Wv(h.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${Hd(s)}`)})(t,e)}function IR(t,e){const n={};return TC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oa(t,((s,a)=>{const l=Fc(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function DR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof ms||t instanceof ci||t instanceof St||t instanceof _0||t instanceof ps)}function b0(t,e,n){if(!DR(n)||!vC(n)){const s=Hd(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function qy(t,e,n){if((e=vt(e))instanceof sm)return e._internalPath;if(typeof e=="string")return w0(t,e);throw wd("Field path arguments must be of type string or ",t,!1,void 0,n)}const Sj=new RegExp("[~\\*/\\[\\]]");function w0(t,e,n){if(e.search(Sj)>=0)throw wd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sm(...e.split("."))._internalPath}catch{throw wd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wd(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${s}`),u&&(d+=` in document ${a}`),d+=")"),new fe(ne.INVALID_ARGUMENT,h+t+d)}function MR(t,e){return t.some((n=>n.isEqual(e)))}class PR{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Aj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(E0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Aj extends PR{data(){return super.data()}}function E0(t,e){return typeof e=="string"?w0(t,e):e instanceof sm?e._internalPath:e._delegate._internalPath}function VR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class S0{}class A0 extends S0{}function xj(t,e,...n){let s=[];e instanceof S0&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((d=>d instanceof C0)).length,h=l.filter((d=>d instanceof x0)).length;if(u>1||u>0&&h>0)throw new fe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class x0 extends A0{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new x0(e,n,s)}_apply(e){const n=this._parse(e);return OR(e._query,n),new tr(e.firestore,e.converter,Vy(e._query,n))}_parse(e){const n=rm(e.firestore);return(function(l,u,h,d,p,y,v){let T;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){aA(v,y);const R=[];for(const M of v)R.push(rA(d,l,M));T={arrayValue:{values:R}}}else T=rA(d,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||aA(v,y),T=Ej(h,u,v,y==="in"||y==="not-in");return Ht.create(p,y,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class C0 extends S0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new C0(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Li.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const h=l.getFlattenedFilters();for(const d of h)OR(u,d),u=Vy(u,d)})(e._query,n),new tr(e.firestore,e.converter,Vy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class R0 extends A0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new R0(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ec(l,u)})(e._query,this._field,this._direction);return new tr(e.firestore,e.converter,(function(a,l){const u=a.explicitOrderBy.concat([l]);return new Ul(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Cj(t,e="asc"){const n=e,s=E0("orderBy",t);return R0._create(s,n)}class N0 extends A0{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new N0(e,n,s)}_apply(e){return new tr(e.firestore,e.converter,md(e._query,this._limit,this._limitType))}}function Rj(t){return N0._create("limit",t,"F")}function rA(t,e,n){if(typeof(n=vt(n))=="string"){if(n==="")throw new fe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OC(e)&&n.indexOf("/")!==-1)throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(at.fromString(n));if(!ve.isDocumentKey(s))throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return bS(t,new ve(s))}if(n instanceof St)return bS(t,n._key);throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hd(n)}.`)}function aA(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OR(t,e){const n=(function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Nj{convertValue(e,n="none"){switch(na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return oa(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[fd].arrayValue?.values?.map((s=>Dt(s.doubleValue)));return new ps(n)}convertGeoPoint(e){return new ms(Dt(e.latitude),Dt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Yd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){const n=ea(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=at.fromString(e);$e(iR(s),9688,{name:e});const a=new bc(s.get(1),s.get(3)),l=new ve(s.popFirst(5));return a.isEqual(n)||Ws(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function kR(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class Ju{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qa extends PR{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(E0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qa._jsonSchema={type:qt("string",Qa._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class $f extends Qa{data(e={}){return super.data(e)}}class Wa{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Ju(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new $f(this._firestore,this._userDataWriter,s.key,s,new Ju(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const d=new $f(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Ju(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new $f(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Ju(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:Ij(h.type),doc:d,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ij(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}function Ed(t){t=Vn(t,St);const e=Vn(t.firestore,Js);return dj(im(e),t._key).then((n=>jR(e,t,n)))}Wa._jsonSchemaVersion="firestore/querySnapshot/1.0",Wa._jsonSchema={type:qt("string",Wa._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class I0 extends Nj{constructor(e){super(),this.firestore=e}convertBytes(e){return new ci(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,n)}}function xc(t){t=Vn(t,tr);const e=Vn(t.firestore,Js),n=im(e),s=new I0(e);return VR(t._query),mj(n,t._query).then((a=>new Wa(e,s,t,a)))}function Sd(t,e,n){t=Vn(t,St);const s=Vn(t.firestore,Js),a=kR(t.converter,e);return om(s,[NR(rm(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,yi.none())])}function Ad(t,e,n,...s){t=Vn(t,St);const a=Vn(t.firestore,Js),l=rm(a);let u;return u=typeof(e=vt(e))=="string"||e instanceof sm?wj(l,"updateDoc",t._key,e,n,s):bj(l,"updateDoc",t._key,e),om(a,[u.toMutation(t._key,yi.exists(!0))])}function LR(t){return om(Vn(t.firestore,Js),[new Zv(t._key,yi.none())])}function oA(t,e){const n=Vn(t.firestore,Js),s=di(t),a=kR(t.converter,e);return om(n,[NR(rm(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,yi.exists(!1))]).then((()=>s))}function Dj(t,...e){t=vt(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||sA(e[s])||(n=e[s++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(sA(e[s])){const d=e[s];e[s]=d.next?.bind(d),e[s+1]=d.error?.bind(d),e[s+2]=d.complete?.bind(d)}let l,u,h;if(t instanceof St)u=Vn(t.firestore,Js),h=Kd(t._key.path),l={next:d=>{e[s]&&e[s](jR(u,t,d))},error:e[s+1],complete:e[s+2]};else{const d=Vn(t,tr);u=Vn(d.firestore,Js),h=d._query;const p=new I0(u);l={next:y=>{e[s]&&e[s](new Wa(u,p,d,y))},error:e[s+1],complete:e[s+2]},VR(t._query)}return(function(p,y,v,T){const S=new v0(T),R=new p0(y,S,v);return p.asyncQueue.enqueueAndForget((async()=>f0(await bd(p),R))),()=>{S.Nu(),p.asyncQueue.enqueueAndForget((async()=>d0(await bd(p),R)))}})(im(u),h,a,l)}function om(t,e){return(function(s,a){const l=new Gs;return s.asyncQueue.enqueueAndForget((async()=>tj(await fj(s),a,l))),l.promise})(im(t),e)}function jR(t,e,n){const s=n.docs.get(e._key),a=new I0(t);return new Qa(t,a,e._key,s,new Ju(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){kl=a})(Ol),vs(new ki("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),h=new Js(new w6(s.getProvider("auth-internal")),new A6(u,s.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new fe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bc(p.options.projectId,y)})(u,a),u);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),gi(lS,uS,e),gi(lS,uS,"esm2020")})();function UR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Mj=UR,zR=new lo("auth","Firebase",UR());const xd=new Fd("@firebase/auth");function Pj(t,...e){xd.logLevel<=Ue.WARN&&xd.warn(`Auth (${Ol}): ${t}`,...e)}function Qf(t,...e){xd.logLevel<=Ue.ERROR&&xd.error(`Auth (${Ol}): ${t}`,...e)}function ji(t,...e){throw D0(t,...e)}function gs(t,...e){return D0(t,...e)}function BR(t,e,n){const s={...Mj(),[e]:n};return new lo("auth","Firebase",s).create(e,{appName:t.name})}function Ys(t){return BR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function D0(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return zR.create(t,...e)}function Ee(t,e,...n){if(!t)throw D0(e,...n)}function Fs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qf(e),new Error(e)}function er(t,e){t||Fs(e)}function Gy(){return typeof self<"u"&&self.location?.href||""}function Vj(){return lA()==="http:"||lA()==="https:"}function lA(){return typeof self<"u"&&self.location?.protocol||null}function Oj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Vj()||eC()||"connection"in navigator)?navigator.onLine:!0}function kj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Hc{constructor(e,n){this.shortDelay=e,this.longDelay=n,er(n>e,"Short delay should be less than long delay!"),this.isMobile=K4()||Q4()}get(){return Oj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function M0(t,e){er(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class FR{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const jj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Uj=new Hc(3e4,6e4);function ua(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ca(t,e,n,s,a={}){return HR(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const h=kc({key:t.config.apiKey,...u}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:d,...l};return $4()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Vl(t.emulatorConfig.host)&&(p.credentials="include"),FR.fetch()(await qR(t,t.config.apiHost,n,h),p)})}async function HR(t,e,n){t._canInitEmulator=!1;const s={...Lj,...e};try{const a=new Bj(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Of(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Of(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Of(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw Of(t,"user-disabled",u);const y=s[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw BR(t,y,p);ji(t,y)}}catch(a){if(a instanceof Ui)throw a;ji(t,"network-request-failed",{message:String(a)})}}async function qc(t,e,n,s,a={}){const l=await ca(t,e,n,s,a);return"mfaPendingCredential"in l&&ji(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function qR(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?M0(t.config,a):`${t.config.apiScheme}://${a}`;return jj.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function zj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Bj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(gs(this.auth,"network-request-failed")),Uj.get())})}}function Of(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=gs(t,e,s);return a.customData._tokenResponse=n,a}function uA(t){return t!==void 0&&t.enterprise!==void 0}class Fj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Hj(t,e){return ca(t,"GET","/v2/recaptchaConfig",ua(t,e))}async function qj(t,e){return ca(t,"POST","/v1/accounts:delete",e)}async function Cd(t,e){return ca(t,"POST","/v1/accounts:lookup",e)}function cc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Gj(t,e=!1){const n=vt(t),s=await n.getIdToken(e),a=P0(s);Ee(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:cc(Gg(a.auth_time)),issuedAtTime:cc(Gg(a.iat)),expirationTime:cc(Gg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Gg(t){return Number(t)*1e3}function P0(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Qf("JWT malformed, contained fewer than 3 sections"),null;try{const a=Xx(n);return a?JSON.parse(a):(Qf("Failed to decode base64 JWT payload"),null)}catch(a){return Qf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function cA(t){const e=P0(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Cc(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ui&&Yj(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function Yj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class Kj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Yy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=cc(this.lastLoginAt),this.creationTime=cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Rd(t){const e=t.auth,n=await t.getIdToken(),s=await Cc(t,Cd(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?GR(a.providerUserInfo):[],u=$j(t.providerData,l),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!u?.length,p=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Yy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function Xj(t){const e=vt(t);await Rd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $j(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function GR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Qj(t,e){const n=await HR(t,{},async()=>{const s=kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await qR(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:s};return t.emulatorConfig&&Vl(t.emulatorConfig.host)&&(d.credentials="include"),FR.fetch()(u,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Wj(t,e){return ca(t,"POST","/v2/accounts:revokeToken",ua(t,e))}class yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=cA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await Qj(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new yl;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Ee(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ee(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yl,this.toJSON())}_performRefresh(){return Fs("not implemented")}}function Vr(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Oi{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new Kj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Yy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Cc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Gj(this,e)}reload(){return Xj(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Oi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Rd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(Ys(this.auth));const e=await this.getIdToken();return await Cc(this,qj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:T,isAnonymous:S,providerData:R,stsTokenManager:M}=n;Ee(v&&M,e,"internal-error");const D=yl.fromJSON(this.name,M);Ee(typeof v=="string",e,"internal-error"),Vr(s,e.name),Vr(a,e.name),Ee(typeof T=="boolean",e,"internal-error"),Ee(typeof S=="boolean",e,"internal-error"),Vr(l,e.name),Vr(u,e.name),Vr(h,e.name),Vr(d,e.name),Vr(p,e.name),Vr(y,e.name);const O=new Oi({uid:v,auth:e,email:a,emailVerified:T,displayName:s,isAnonymous:S,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:D,createdAt:p,lastLoginAt:y});return R&&Array.isArray(R)&&(O.providerData=R.map(z=>({...z}))),d&&(O._redirectEventId=d),O}static async _fromIdTokenResponse(e,n,s=!1){const a=new yl;a.updateFromServerResponse(n);const l=new Oi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Rd(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Ee(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?GR(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new yl;h.updateFromIdToken(s);const d=new Oi({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Yy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,p),d}}const hA=new Map;function Hs(t){er(t instanceof Function,"Expected a class definition");let e=hA.get(t);return e?(er(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hA.set(t,e),e)}class YR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}YR.type="NONE";const fA=YR;function Wf(t,e,n){return`firebase:${t}:${e}:${n}`}class vl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Wf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Wf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Cd(this.auth,{idToken:e}).catch(()=>{});return n?Oi._fromGetAccountInfoResponse(this.auth,n,e):null}return Oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new vl(Hs(fA),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Hs(fA);const u=Wf(s,e.config.apiKey,e.name);let h=null;for(const p of n)try{const y=await p._get(u);if(y){let v;if(typeof y=="string"){const T=await Cd(e,{idToken:y}).catch(()=>{});if(!T)break;v=await Oi._fromGetAccountInfoResponse(e,T,y)}else v=Oi._fromJSON(e,y);p!==l&&(h=v),l=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new vl(l,e,s):(l=d[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new vl(l,e,s))}}function dA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZR(e))return"Blackberry";if(JR(e))return"Webos";if(XR(e))return"Safari";if((e.includes("chrome/")||$R(e))&&!e.includes("edge/"))return"Chrome";if(WR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function KR(t=gn()){return/firefox\//i.test(t)}function XR(t=gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $R(t=gn()){return/crios\//i.test(t)}function QR(t=gn()){return/iemobile/i.test(t)}function WR(t=gn()){return/android/i.test(t)}function ZR(t=gn()){return/blackberry/i.test(t)}function JR(t=gn()){return/webos/i.test(t)}function V0(t=gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Zj(t=gn()){return V0(t)&&!!window.navigator?.standalone}function Jj(){return W4()&&document.documentMode===10}function e2(t=gn()){return V0(t)||WR(t)||JR(t)||ZR(t)||/windows phone/i.test(t)||QR(t)}function t2(t,e=[]){let n;switch(t){case"Browser":n=dA(gn());break;case"Worker":n=`${dA(gn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ol}/${s}`}class eU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,h)=>{try{const d=e(l);u(d)}catch(d){h(d)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function tU(t,e={}){return ca(t,"GET","/v2/passwordPolicy",ua(t,e))}const nU=6;class iU{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??nU,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class sU{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mA(this),this.idTokenSubscription=new mA(this),this.beforeStateQueue=new eU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await vl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Cd(this,{idToken:e}),s=await Oi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ui(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ui(this.app))return Promise.reject(Ys(this));const n=e?vt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(Ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ui(this.app)?Promise.reject(Ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tU(this),n=new iU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lo("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Wj(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hs(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await vl.create(this,[Hs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,s,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=t2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Pj(`Error while retrieving App Check token: ${e.error}`),e?.token}}function fo(t){return vt(t)}class mA{constructor(e){this.auth=e,this.observer=null,this.addObserver=sL(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let lm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rU(t){lm=t}function n2(t){return lm.loadJS(t)}function aU(){return lm.recaptchaEnterpriseScript}function oU(){return lm.gapiScript}function lU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class uU{constructor(){this.enterprise=new cU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class cU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const hU="recaptcha-enterprise",i2="NO_RECAPTCHA";class fU{constructor(e){this.type=hU,this.auth=fo(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{Hj(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new Fj(d);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(d=>{h(d)})})}function a(l,u,h){const d=window.grecaptcha;uA(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(i2)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uU().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(h=>{if(!n&&uA(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=aU();d.length!==0&&(d+=h),n2(d).then(()=>{a(h,l,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function pA(t,e,n,s=!1,a=!1){const l=new fU(t);let u;if(a)u=i2;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Ky(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await pA(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await pA(t,e,n,n==="getOobCode");return s(t,u)}else return Promise.reject(l)})}function dU(t,e){const n=uo(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Zr(l,e??{}))return a;ji(a,"already-initialized")}return n.initialize({options:e})}function mU(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Hs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function pU(t,e,n){const s=fo(t);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=s2(e),{host:u,port:h}=gU(e),d=h===null?"":`:${h}`,p={url:`${l}//${u}${d}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Zr(p,s.config.emulator)&&Zr(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Vl(u)?(Zx(`${l}//${u}${d}`),Jx("Auth",!0)):yU()}function s2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gU(t){const e=s2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:gA(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:gA(u)}}}function gA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function yU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class O0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fs("not implemented")}_getIdTokenResponse(e){return Fs("not implemented")}_linkToIdToken(e,n){return Fs("not implemented")}_getReauthenticationResolver(e){return Fs("not implemented")}}async function vU(t,e){return ca(t,"POST","/v1/accounts:signUp",e)}async function _U(t,e){return qc(t,"POST","/v1/accounts:signInWithPassword",ua(t,e))}async function TU(t,e){return qc(t,"POST","/v1/accounts:signInWithEmailLink",ua(t,e))}async function bU(t,e){return qc(t,"POST","/v1/accounts:signInWithEmailLink",ua(t,e))}class Rc extends O0{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Rc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Rc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ky(e,n,"signInWithPassword",_U);case"emailLink":return TU(e,{email:this._email,oobCode:this._password});default:ji(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ky(e,s,"signUpPassword",vU);case"emailLink":return bU(e,{idToken:n,email:this._email,oobCode:this._password});default:ji(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function _l(t,e){return qc(t,"POST","/v1/accounts:signInWithIdp",ua(t,e))}const wU="http://localhost";class no extends O0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new no(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ji("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new no(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return _l(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,_l(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_l(e,n)}buildRequest(){const e={requestUri:wU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kc(n)}return e}}function EU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SU(t){const e=Xu($u(t)).link,n=e?Xu($u(e)).deep_link_id:null,s=Xu($u(t)).deep_link_id;return(s?Xu($u(s)).link:null)||s||n||e||t}class k0{constructor(e){const n=Xu($u(e)),s=n.apiKey??null,a=n.oobCode??null,l=EU(n.mode??null);Ee(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=SU(e);try{return new k0(n)}catch{return null}}}class Bl{constructor(){this.providerId=Bl.PROVIDER_ID}static credential(e,n){return Rc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=k0.parseLink(n);return Ee(s,"argument-error"),Rc._fromEmailAndCode(e,s.code,s.tenantId)}}Bl.PROVIDER_ID="password";Bl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class r2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Gc extends r2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class kr extends Gc{constructor(){super("facebook.com")}static credential(e){return no._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";class Lr extends Gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return no._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Lr.credential(n,s)}catch{return null}}}Lr.GOOGLE_SIGN_IN_METHOD="google.com";Lr.PROVIDER_ID="google.com";class jr extends Gc{constructor(){super("github.com")}static credential(e){return no._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";class Ur extends Gc{constructor(){super("twitter.com")}static credential(e,n){return no._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ur.credential(n,s)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";async function AU(t,e){return qc(t,"POST","/v1/accounts:signUp",ua(t,e))}class io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Oi._fromIdTokenResponse(e,s,a),u=yA(s);return new io({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=yA(s);return new io({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function yA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Nd extends Ui{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Nd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Nd(e,n,s,a)}}function a2(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Nd._fromErrorAndOperation(t,l,e,s):l})}async function xU(t,e,n=!1){const s=await Cc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return io._forOperation(t,"link",s)}async function CU(t,e,n=!1){const{auth:s}=t;if(ui(s.app))return Promise.reject(Ys(s));const a="reauthenticate";try{const l=await Cc(t,a2(s,a,e,t),n);Ee(l.idToken,s,"internal-error");const u=P0(l.idToken);Ee(u,s,"internal-error");const{sub:h}=u;return Ee(t.uid===h,s,"user-mismatch"),io._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ji(s,"user-mismatch"),l}}async function o2(t,e,n=!1){if(ui(t.app))return Promise.reject(Ys(t));const s="signIn",a=await a2(t,s,e),l=await io._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function RU(t,e){return o2(fo(t),e)}async function l2(t){const e=fo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function u2(t,e,n){if(ui(t.app))return Promise.reject(Ys(t));const s=fo(t),u=await Ky(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AU).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&l2(t),d}),h=await io._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(h.user),h}function NU(t,e,n){return ui(t.app)?Promise.reject(Ys(t)):RU(vt(t),Bl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&l2(t),s})}function IU(t,e){return vt(t).setPersistence(e)}function DU(t,e,n,s){return vt(t).onIdTokenChanged(e,n,s)}function MU(t,e,n){return vt(t).beforeAuthStateChanged(e,n)}function c2(t,e,n,s){return vt(t).onAuthStateChanged(e,n,s)}function Tl(t){return vt(t).signOut()}const Id="__sak";class h2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Id,"1"),this.storage.removeItem(Id),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const PU=1e3,VU=10;class f2 extends h2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=e2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);Jj()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,VU):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},PU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}f2.type="LOCAL";const d2=f2;class m2 extends h2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}m2.type="SESSION";const p2=m2;function OU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class um{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new um(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const h=Array.from(u).map(async p=>p(n.origin,l)),d=await OU(h);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}um.receivers=[];function L0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class kU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,d)=>{const p=L0("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(v){const T=v;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(T.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function ys(){return window}function LU(t){ys().location.href=t}function g2(){return typeof ys().WorkerGlobalScope<"u"&&typeof ys().importScripts=="function"}async function jU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UU(){return navigator?.serviceWorker?.controller||null}function zU(){return g2()?self:null}const y2="firebaseLocalStorageDb",BU=1,Dd="firebaseLocalStorage",v2="fbase_key";class Yc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cm(t,e){return t.transaction([Dd],e?"readwrite":"readonly").objectStore(Dd)}function FU(){const t=indexedDB.deleteDatabase(y2);return new Yc(t).toPromise()}function Xy(){const t=indexedDB.open(y2,BU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Dd,{keyPath:v2})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Dd)?e(s):(s.close(),await FU(),e(await Xy()))})})}async function vA(t,e,n){const s=cm(t,!0).put({[v2]:e,value:n});return new Yc(s).toPromise()}async function HU(t,e){const n=cm(t,!1).get(e),s=await new Yc(n).toPromise();return s===void 0?null:s.value}function _A(t,e){const n=cm(t,!0).delete(e);return new Yc(n).toPromise()}const qU=800,GU=3;class _2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>GU)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return g2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=um._getInstance(zU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jU(),!this.activeServiceWorker)return;this.sender=new kU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xy();return await vA(e,Id,"1"),await _A(e,Id),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>vA(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>HU(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_A(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=cm(a,!1).getAll();return new Yc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_2.type="LOCAL";const YU=_2;new Hc(3e4,6e4);function KU(t,e){return e?Hs(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class j0 extends O0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _l(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _l(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _l(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function XU(t){return o2(t.auth,new j0(t),t.bypassAuthState)}function $U(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),CU(n,new j0(t),t.bypassAuthState)}async function QU(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),xU(n,new j0(t),t.bypassAuthState)}class T2{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XU;case"linkViaPopup":case"linkViaRedirect":return QU;case"reauthViaPopup":case"reauthViaRedirect":return $U;default:ji(this.auth,"internal-error")}}resolve(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const WU=new Hc(2e3,1e4);class ml extends T2{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,ml.currentPopupAction&&ml.currentPopupAction.cancel(),ml.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const e=L0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(gs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ml.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WU.get())};e()}}ml.currentPopupAction=null;const ZU="pendingRedirect",Zf=new Map;class JU extends T2{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Zf.get(this.auth._key());if(!e){try{const s=await e9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Zf.set(this.auth._key(),e)}return this.bypassAuthState||Zf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function e9(t,e){const n=i9(e),s=n9(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function t9(t,e){Zf.set(t._key(),e)}function n9(t){return Hs(t._redirectPersistence)}function i9(t){return Wf(ZU,t.config.apiKey,t.name)}async function s9(t,e,n=!1){if(ui(t.app))return Promise.reject(Ys(t));const s=fo(t),a=KU(s,e),u=await new JU(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const r9=600*1e3;class a9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!o9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!b2(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(gs(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=r9&&this.cachedEventUids.clear(),this.cachedEventUids.has(TA(e))}saveEventToCache(e){this.cachedEventUids.add(TA(e)),this.lastProcessedEventTime=Date.now()}}function TA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function b2({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function o9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b2(t);default:return!1}}async function l9(t,e={}){return ca(t,"GET","/v1/projects",e)}const u9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c9=/^https?/;async function h9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await l9(t);for(const n of e)try{if(f9(n))return}catch{}ji(t,"unauthorized-domain")}function f9(t){const e=Gy(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!c9.test(n))return!1;if(u9.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const d9=new Hc(3e4,6e4);function bA(){const t=ys().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function m9(t){return new Promise((e,n)=>{function s(){bA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bA(),n(gs(t,"network-request-failed"))},timeout:d9.get()})}if(ys().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ys().gapi?.load)s();else{const a=lU("iframefcb");return ys()[a]=()=>{gapi.load?s():n(gs(t,"network-request-failed"))},n2(`${oU()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Jf=null,e})}let Jf=null;function p9(t){return Jf=Jf||m9(t),Jf}const g9=new Hc(5e3,15e3),y9="__/auth/iframe",v9="emulator/auth/iframe",_9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function b9(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?M0(e,v9):`https://${t.config.authDomain}/${y9}`,s={apiKey:e.apiKey,appName:t.name,v:Ol},a=T9.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${kc(s).slice(1)}`}async function w9(t){const e=await p9(t),n=ys().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:b9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_9,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=gs(t,"network-request-failed"),h=ys().setTimeout(()=>{l(u)},g9.get());function d(){ys().clearTimeout(h),a(s)}s.ping(d).then(d,()=>{l(u)})}))}const E9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},S9=500,A9=600,x9="_blank",C9="http://localhost";class wA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function R9(t,e,n,s=S9,a=A9){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const d={...E9,width:s.toString(),height:a.toString(),top:l,left:u},p=gn().toLowerCase();n&&(h=$R(p)?x9:n),KR(p)&&(e=e||C9,d.scrollbars="yes");const y=Object.entries(d).reduce((T,[S,R])=>`${T}${S}=${R},`,"");if(Zj(p)&&h!=="_self")return N9(e||"",h),new wA(null);const v=window.open(e||"",h,y);Ee(v,t,"popup-blocked");try{v.focus()}catch{}return new wA(v)}function N9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const I9="__/auth/handler",D9="emulator/auth/handler",M9=encodeURIComponent("fac");async function EA(t,e,n,s,a,l){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Ol,eventId:a};if(e instanceof r2){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",iL(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof Gc){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await t._getAppCheckToken(),p=d?`#${M9}=${encodeURIComponent(d)}`:"";return`${P9(t)}?${kc(h).slice(1)}${p}`}function P9({config:t}){return t.emulator?M0(t,D9):`https://${t.authDomain}/${I9}`}const Yg="webStorageSupport";class V9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=p2,this._completeRedirectFn=s9,this._overrideRedirectResult=t9}async _openPopup(e,n,s,a){er(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await EA(e,n,s,Gy(),a);return R9(e,l,L0())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await EA(e,n,s,Gy(),a);return LU(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(er(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await w9(e),s=new a9(e);return n.register("authEvent",a=>(Ee(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yg,{type:Yg},a=>{const l=a?.[0]?.[Yg];l!==void 0&&n(!!l),ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=h9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return e2()||XR()||V0()}}const O9=V9;var SA="@firebase/auth",AA="1.11.1";class k9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function L9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function j9(t){vs(new ki("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=s.options;Ee(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const d={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:t2(t)},p=new sU(s,a,l,d);return mU(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),vs(new ki("auth-internal",e=>{const n=fo(e.getProvider("auth").getImmediate());return(s=>new k9(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gi(SA,AA,L9(t)),gi(SA,AA,"esm2020")}const U9=300,z9=Wx("authIdTokenMaxAge")||U9;let xA=null;const B9=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>z9)return;const a=n?.token;xA!==a&&(xA=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function F9(t=Hv()){const e=uo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=dU(t,{popupRedirectResolver:O9,persistence:[YU,d2,p2]}),s=Wx("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=B9(l.toString());MU(n,u,()=>u(n.currentUser)),DU(n,h=>u(h))}}const a=$x("auth");return a&&pU(n,`http://${a}`),n}function H9(){return document.getElementsByTagName("head")?.[0]??document}rU({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=gs("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",H9().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});j9("Browser");const w2="@firebase/installations",U0="0.6.19";const E2=1e4,S2=`w:${U0}`,A2="FIS_v2",q9="https://firebaseinstallations.googleapis.com/v1",G9=3600*1e3,Y9="installations",K9="Installations";const X9={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},so=new lo(Y9,K9,X9);function x2(t){return t instanceof Ui&&t.code.includes("request-failed")}function C2({projectId:t}){return`${q9}/projects/${t}/installations`}function R2(t){return{token:t.token,requestStatus:2,expiresIn:Q9(t.expiresIn),creationTime:Date.now()}}async function N2(t,e){const s=(await e.json()).error;return so.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function I2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function $9(t,{refreshToken:e}){const n=I2(t);return n.append("Authorization",W9(e)),n}async function D2(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Q9(t){return Number(t.replace("s","000"))}function W9(t){return`${A2} ${t}`}async function Z9({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=C2(t),a=I2(t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={fid:n,authVersion:A2,appId:t.appId,sdkVersion:S2},h={method:"POST",headers:a,body:JSON.stringify(u)},d=await D2(()=>fetch(s,h));if(d.ok){const p=await d.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:R2(p.authToken)}}else throw await N2("Create Installation",d)}function M2(t){return new Promise(e=>{setTimeout(e,t)})}function J9(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const ez=/^[cdef][\w-]{21}$/,$y="";function tz(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=nz(t);return ez.test(n)?n:$y}catch{return $y}}function nz(t){return J9(t).substr(0,22)}function hm(t){return`${t.appName}!${t.appId}`}const P2=new Map;function V2(t,e){const n=hm(t);O2(n,e),iz(n,e)}function O2(t,e){const n=P2.get(t);if(n)for(const s of n)s(e)}function iz(t,e){const n=sz();n&&n.postMessage({key:t,fid:e}),rz()}let Ka=null;function sz(){return!Ka&&"BroadcastChannel"in self&&(Ka=new BroadcastChannel("[Firebase] FID Change"),Ka.onmessage=t=>{O2(t.data.key,t.data.fid)}),Ka}function rz(){P2.size===0&&Ka&&(Ka.close(),Ka=null)}const az="firebase-installations-database",oz=1,ro="firebase-installations-store";let Kg=null;function z0(){return Kg||(Kg=rC(az,oz,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ro)}}})),Kg}async function Md(t,e){const n=hm(t),a=(await z0()).transaction(ro,"readwrite"),l=a.objectStore(ro),u=await l.get(n);return await l.put(e,n),await a.done,(!u||u.fid!==e.fid)&&V2(t,e.fid),e}async function k2(t){const e=hm(t),s=(await z0()).transaction(ro,"readwrite");await s.objectStore(ro).delete(e),await s.done}async function fm(t,e){const n=hm(t),a=(await z0()).transaction(ro,"readwrite"),l=a.objectStore(ro),u=await l.get(n),h=e(u);return h===void 0?await l.delete(n):await l.put(h,n),await a.done,h&&(!u||u.fid!==h.fid)&&V2(t,h.fid),h}async function B0(t){let e;const n=await fm(t.appConfig,s=>{const a=lz(s),l=uz(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===$y?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function lz(t){const e=t||{fid:tz(),registrationStatus:0};return L2(e)}function uz(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(so.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=cz(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:hz(t)}:{installationEntry:e}}async function cz(t,e){try{const n=await Z9(t,e);return Md(t.appConfig,n)}catch(n){throw x2(n)&&n.customData.serverCode===409?await k2(t.appConfig):await Md(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function hz(t){let e=await CA(t.appConfig);for(;e.registrationStatus===1;)await M2(100),e=await CA(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await B0(t);return s||n}return e}function CA(t){return fm(t,e=>{if(!e)throw so.create("installation-not-found");return L2(e)})}function L2(t){return fz(t)?{fid:t.fid,registrationStatus:0}:t}function fz(t){return t.registrationStatus===1&&t.registrationTime+E2<Date.now()}async function dz({appConfig:t,heartbeatServiceProvider:e},n){const s=mz(t,n),a=$9(t,n),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={installation:{sdkVersion:S2,appId:t.appId}},h={method:"POST",headers:a,body:JSON.stringify(u)},d=await D2(()=>fetch(s,h));if(d.ok){const p=await d.json();return R2(p)}else throw await N2("Generate Auth Token",d)}function mz(t,{fid:e}){return`${C2(t)}/${e}/authTokens:generate`}async function F0(t,e=!1){let n;const s=await fm(t.appConfig,l=>{if(!j2(l))throw so.create("not-registered");const u=l.authToken;if(!e&&yz(u))return l;if(u.requestStatus===1)return n=pz(t,e),l;{if(!navigator.onLine)throw so.create("app-offline");const h=_z(l);return n=gz(t,h),h}});return n?await n:s.authToken}async function pz(t,e){let n=await RA(t.appConfig);for(;n.authToken.requestStatus===1;)await M2(100),n=await RA(t.appConfig);const s=n.authToken;return s.requestStatus===0?F0(t,e):s}function RA(t){return fm(t,e=>{if(!j2(e))throw so.create("not-registered");const n=e.authToken;return Tz(n)?{...e,authToken:{requestStatus:0}}:e})}async function gz(t,e){try{const n=await dz(t,e),s={...e,authToken:n};return await Md(t.appConfig,s),n}catch(n){if(x2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await k2(t.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Md(t.appConfig,s)}throw n}}function j2(t){return t!==void 0&&t.registrationStatus===2}function yz(t){return t.requestStatus===2&&!vz(t)}function vz(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+G9}function _z(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Tz(t){return t.requestStatus===1&&t.requestTime+E2<Date.now()}async function bz(t){const e=t,{installationEntry:n,registrationPromise:s}=await B0(e);return s?s.catch(console.error):F0(e).catch(console.error),n.fid}async function wz(t,e=!1){const n=t;return await Ez(n),(await F0(n,e)).token}async function Ez(t){const{registrationPromise:e}=await B0(t);e&&await e}function Sz(t){if(!t||!t.options)throw Xg("App Configuration");if(!t.name)throw Xg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Xg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Xg(t){return so.create("missing-app-config-values",{valueName:t})}const U2="installations",Az="installations-internal",xz=t=>{const e=t.getProvider("app").getImmediate(),n=Sz(e),s=uo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},Cz=t=>{const e=t.getProvider("app").getImmediate(),n=uo(e,U2).getImmediate();return{getId:()=>bz(n),getToken:a=>wz(n,a)}};function Rz(){vs(new ki(U2,xz,"PUBLIC")),vs(new ki(Az,Cz,"PRIVATE"))}Rz();gi(w2,U0);gi(w2,U0,"esm2020");const Pd="analytics",Nz="firebase_id",Iz="origin",Dz=60*1e3,Mz="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",H0="https://www.googletagmanager.com/gtag/js";const Tn=new Fd("@firebase/analytics");const Pz={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Yn=new lo("analytics","Analytics",Pz);function Vz(t){if(!t.startsWith(H0)){const e=Yn.create("invalid-gtag-resource",{gtagURL:t});return Tn.warn(e.message),""}return t}function z2(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Oz(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function kz(t,e){const n=Oz("firebase-js-sdk-policy",{createScriptURL:Vz}),s=document.createElement("script"),a=`${H0}?l=${t}&id=${e}`;s.src=n?n?.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function Lz(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function jz(t,e,n,s,a,l){const u=s[a];try{if(u)await e[u];else{const d=(await z2(n)).find(p=>p.measurementId===a);d&&await e[d.appId]}}catch(h){Tn.error(h)}t("config",a,l)}async function Uz(t,e,n,s,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const h=await z2(n);for(const d of u){const p=h.find(v=>v.measurementId===d),y=p&&e[p.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",s,a||{})}catch(l){Tn.error(l)}}function zz(t,e,n,s){async function a(l,...u){try{if(l==="event"){const[h,d]=u;await Uz(t,e,n,h,d)}else if(l==="config"){const[h,d]=u;await jz(t,e,n,s,h,d)}else if(l==="consent"){const[h,d]=u;t("consent",h,d)}else if(l==="get"){const[h,d,p]=u;t("get",h,d,p)}else if(l==="set"){const[h]=u;t("set",h)}else t(l,...u)}catch(h){Tn.error(h)}}return a}function Bz(t,e,n,s,a){let l=function(...u){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=zz(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function Fz(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(H0)&&n.src.includes(t))return n;return null}const Hz=30,qz=1e3;class Gz{constructor(e={},n=qz){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const B2=new Gz;function Yz(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Kz(t){const{appId:e,apiKey:n}=t,s={method:"GET",headers:Yz(n)},a=Mz.replace("{app-id}",e),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let u="";try{const h=await l.json();h.error?.message&&(u=h.error.message)}catch{}throw Yn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function Xz(t,e=B2,n){const{appId:s,apiKey:a,measurementId:l}=t.options;if(!s)throw Yn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:s};throw Yn.create("no-api-key")}const u=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new Wz;return setTimeout(async()=>{h.abort()},Dz),F2({appId:s,apiKey:a,measurementId:l},u,h,e)}async function F2(t,{throttleEndTimeMillis:e,backoffCount:n},s,a=B2){const{appId:l,measurementId:u}=t;try{await $z(s,e)}catch(h){if(u)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:l,measurementId:u};throw h}try{const h=await Kz(t);return a.deleteThrottleMetadata(l),h}catch(h){const d=h;if(!Qz(d)){if(a.deleteThrottleMetadata(l),u)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:u};throw h}const p=Number(d?.customData?.httpStatus)===503?ZE(n,a.intervalMillis,Hz):ZE(n,a.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return a.setThrottleMetadata(l,y),Tn.debug(`Calling attemptFetch again in ${p} millis`),F2(t,y,s,a)}}function $z(t,e){return new Promise((n,s)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),s(Yn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Qz(t){if(!(t instanceof Ui)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Wz{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Zz(t,e,n,s,a){if(a&&a.global){t("event",n,s);return}else{const l=await e,u={...s,send_to:l};t("event",n,u)}}async function Jz(t,e,n,s){if(s&&s.global){const a={};for(const l of Object.keys(n))a[`user_properties.${l}`]=n[l];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}async function eB(){if(tC())try{await nC()}catch(t){return Tn.warn(Yn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Tn.warn(Yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function tB(t,e,n,s,a,l,u){const h=Xz(t);h.then(T=>{n[T.measurementId]=T.appId,t.options.measurementId&&T.measurementId!==t.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>Tn.error(T)),e.push(h);const d=eB().then(T=>{if(T)return s.getId()}),[p,y]=await Promise.all([h,d]);Fz(l)||kz(l,p.measurementId),a("js",new Date);const v=u?.config??{};return v[Iz]="firebase",v.update=!0,y!=null&&(v[Nz]=y),a("config",p.measurementId,v),p.measurementId}class nB{constructor(e){this.app=e}_delete(){return delete bl[this.app.options.appId],Promise.resolve()}}let bl={},NA=[];const IA={};let $g="dataLayer",iB="gtag",DA,q0,MA=!1;function sB(){const t=[];if(eC()&&t.push("This is a browser extension environment."),J4()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,a)=>`(${a+1}) ${s}`).join(" "),n=Yn.create("invalid-analytics-context",{errorInfo:e});Tn.warn(n.message)}}function rB(t,e,n){sB();const s=t.options.appId;if(!s)throw Yn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Yn.create("no-api-key");if(bl[s]!=null)throw Yn.create("already-exists",{id:s});if(!MA){Lz($g);const{wrappedGtag:l,gtagCore:u}=Bz(bl,NA,IA,$g,iB);q0=l,DA=u,MA=!0}return bl[s]=tB(t,NA,IA,e,DA,$g,n),new nB(t)}function aB(t=Hv()){t=vt(t);const e=uo(t,Pd);return e.isInitialized()?e.getImmediate():oB(t)}function oB(t,e={}){const n=uo(t,Pd);if(n.isInitialized()){const a=n.getImmediate();if(Zr(e,n.getOptions()))return a;throw Yn.create("already-initialized")}return n.initialize({options:e})}function lB(t,e,n){t=vt(t),Jz(q0,bl[t.app.options.appId],e,n).catch(s=>Tn.error(s))}function uB(t,e,n,s){t=vt(t),Zz(q0,bl[t.app.options.appId],e,n,s).catch(a=>Tn.error(a))}const PA="@firebase/analytics",VA="0.10.19";function cB(){vs(new ki(Pd,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return rB(s,a,n)},"PUBLIC")),vs(new ki("analytics-internal",t,"PRIVATE")),gi(PA,VA),gi(PA,VA,"esm2020");function t(e){try{const n=e.getProvider(Pd).getImmediate();return{logEvent:(s,a,l)=>uB(n,s,a,l),setUserProperties:(s,a)=>lB(n,s,a)}}catch(n){throw Yn.create("interop-component-reg-failed",{reason:n})}}}cB();const hB={apiKey:"AIzaSyD-GIU-_XMDNkFNyYpBGfrcuAqypNCboxk",authDomain:"mit-mess-23f98.firebaseapp.com",projectId:"mit-mess-23f98",storageBucket:"mit-mess-23f98.firebasestorage.app",messagingSenderId:"286644195454",appId:"1:286644195454:web:97f456209765291e37082f",measurementId:"G-2TSYYR3ZYM"},G0=aC(hB),Yt=gj(G0),qn=F9(G0);aB(G0);const fB=()=>{const[t,e]=V.useState(""),[n,s]=V.useState([]),[a,l]=V.useState(!0);V.useEffect(()=>{const d=Dj(Fr(Yt,"messes"),p=>{const y=p.docs.map(v=>({id:v.id,...v.data()}));s(y),l(!1)});return()=>d()},[]);const h=(()=>{const d=t.toLowerCase();if(!d)return n.sort((T,S)=>{const R=localStorage.getItem("lastViewedMess");return R?T.id===R?-1:S.id===R?1:0:0}).map(T=>({...T,type:"mess"}));const p=qx.filter(T=>T.name.toLowerCase().includes(d)).map(T=>({...T,type:"restaurant"})),y=n.filter(T=>T.name.toLowerCase().includes(d)).map(T=>({...T,type:"mess"})),v=n.filter(T=>T.name.toLowerCase().includes(d)||!T.menu?!1:Object.values(T.menu).some(S=>Object.values(S).some(R=>R&&R.toLowerCase().includes(d)))).map(T=>({...T,type:"mess"}));return[...p,...y,...v]})();return w.jsxs("div",{className:"min-h-screen bg-gray-50 relative selection:bg-orange-200 selection:text-orange-900",children:[w.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[w.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),w.jsx("div",{className:"absolute top-0 -left-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"}),w.jsx("div",{className:"absolute -bottom-40 left-20 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-4000"})]}),w.jsx(zd,{searchTerm:t,setSearchTerm:e}),w.jsxs("main",{className:"relative z-10 pt-20 pb-12 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto flex flex-col min-h-[calc(100vh-80px)]",children:[w.jsx("div",{className:"flex-grow",children:a?w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-8",children:[1,2,3,4,5,6].map(d=>w.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-sm border border-gray-100 h-full flex flex-col",children:[w.jsx("div",{className:"h-48 w-full skeleton-loader"}),w.jsxs("div",{className:"p-6 space-y-4 flex-grow",children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsx("div",{className:"h-6 w-3/4 rounded skeleton-loader"}),w.jsx("div",{className:"h-6 w-16 rounded-full skeleton-loader"})]}),w.jsxs("div",{className:"space-y-2",children:[w.jsx("div",{className:"h-4 w-full rounded skeleton-loader"}),w.jsx("div",{className:"h-4 w-5/6 rounded skeleton-loader"})]}),w.jsxs("div",{className:"pt-4 mt-auto flex justify-between items-center",children:[w.jsx("div",{className:"h-8 w-24 rounded-lg skeleton-loader"}),w.jsx("div",{className:"h-8 w-8 rounded-full skeleton-loader"})]})]})]},d))}):w.jsxs(Kt.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-8",children:[h.map((d,p)=>d.type==="mess"?t?w.jsxs(qr,{to:`/mess/${d.id}`,className:`block p-6 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-300 group h-fit bg-gradient-to-r ${d.color||"from-orange-500 to-red-500"}`,children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-start mb-4",children:[w.jsx("h3",{className:"text-xl font-bold text-white group-hover:scale-105 transition-transform origin-left",children:d.name}),w.jsx("div",{className:"p-2 bg-white/20 rounded-full text-white backdrop-blur-sm",children:w.jsx(nd,{size:20})})]}),w.jsx("p",{className:"text-white/80 text-sm font-medium",children:"View Weekly Menu"})]}),w.jsxs("div",{className:"mt-6 pt-4 border-t border-white/20 flex items-center text-white/90 font-medium",children:[w.jsx("span",{className:"w-2 h-2 rounded-full bg-white/50 mr-2"}),"Tap to open"]})]},d.id):w.jsx(P4,{mess:d},d.id):w.jsxs(Kt.a,{layout:!0,href:`tel:${d.phone}`,whileHover:{y:-5},className:"block p-6 rounded-2xl bg-white border border-gray-100 shadow-xl hover:shadow-2xl transition-all duration-300 group h-fit",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between items-start mb-4",children:[w.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-orange-600 transition-colors",children:d.name}),w.jsx("div",{className:"p-2 bg-orange-100 rounded-full text-orange-600",children:w.jsx(UM,{size:20})})]}),w.jsx("p",{className:"text-gray-500 text-sm",children:"Restaurant / Cafe"})]}),w.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-100 flex items-center text-gray-600 font-medium",children:[w.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 mr-2"}),d.phone]})]},`rest-${p}`)),h.length===0&&w.jsx(Kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"col-span-full text-center py-12",children:w.jsx("p",{className:"text-gray-500 text-lg",children:"No messes found matching your search."})})]})}),w.jsxs("footer",{className:"text-center py-8 mt-8 border-t border-gray-200/50",children:[w.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 tracking-tight mb-2",children:["What's on the ",w.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-red-600",children:"Menu?"})]}),w.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto px-4",children:"Daily menus for all hostel messes. Click a card for the full weekly schedule."})]})]})]})};var mi=function(t,e){return Number(t.toFixed(e))},dB=function(t,e){return e},ft=function(t,e,n){n&&typeof n=="function"&&n(t,e)},mB=function(t){return-Math.cos(t*Math.PI)/2+.5},pB=function(t){return t},gB=function(t){return t*t},yB=function(t){return t*(2-t)},vB=function(t){return t<.5?2*t*t:-1+(4-2*t)*t},_B=function(t){return t*t*t},TB=function(t){return--t*t*t+1},bB=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},wB=function(t){return t*t*t*t},EB=function(t){return 1- --t*t*t*t},SB=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},AB=function(t){return t*t*t*t*t},xB=function(t){return 1+--t*t*t*t*t},CB=function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},H2={easeOut:mB,linear:pB,easeInQuad:gB,easeOutQuad:yB,easeInOutQuad:vB,easeInCubic:_B,easeOutCubic:TB,easeInOutCubic:bB,easeInQuart:wB,easeOutQuart:EB,easeInOutQuart:SB,easeInQuint:AB,easeOutQuint:xB,easeInOutQuint:CB},q2=function(t){typeof t=="number"&&cancelAnimationFrame(t)},Vi=function(t){t.mounted&&(q2(t.animation),t.animate=!1,t.animation=null,t.velocity=null)};function G2(t,e,n,s){if(t.mounted){var a=new Date().getTime(),l=1;Vi(t),t.animation=function(){if(!t.mounted)return q2(t.animation);var u=new Date().getTime()-a,h=u/n,d=H2[e],p=d(h);u>=n?(s(l),t.animation=null):t.animation&&(s(p),requestAnimationFrame(t.animation))},requestAnimationFrame(t.animation)}}function RB(t){var e=t.scale,n=t.positionX,s=t.positionY;return!(Number.isNaN(e)||Number.isNaN(n)||Number.isNaN(s))}function ha(t,e,n,s){var a=RB(e);if(!(!t.mounted||!a)){var l=t.setTransformState,u=t.transformState,h=u.scale,d=u.positionX,p=u.positionY,y=e.scale-h,v=e.positionX-d,T=e.positionY-p;n===0?l(e.scale,e.positionX,e.positionY):G2(t,s,n,function(S){var R=h+y*S,M=d+v*S,D=p+T*S;l(R,M,D)})}}function NB(t,e,n){var s=t.offsetWidth,a=t.offsetHeight,l=e.offsetWidth,u=e.offsetHeight,h=l*n,d=u*n,p=s-h,y=a-d;return{wrapperWidth:s,wrapperHeight:a,newContentWidth:h,newDiffWidth:p,newContentHeight:d,newDiffHeight:y}}var IB=function(t,e,n,s,a,l,u){var h=t>e?n*(u?1:.5):0,d=s>a?l*(u?1:.5):0,p=t-e-h,y=h,v=s-a-d,T=d;return{minPositionX:p,maxPositionX:y,minPositionY:v,maxPositionY:T}},Y0=function(t,e){var n=t.wrapperComponent,s=t.contentComponent,a=t.setup.centerZoomedOut;if(!n||!s)throw new Error("Components are not mounted");var l=NB(n,s,e),u=l.wrapperWidth,h=l.wrapperHeight,d=l.newContentWidth,p=l.newDiffWidth,y=l.newContentHeight,v=l.newDiffHeight,T=IB(u,d,p,h,y,v,!!a);return T},Qy=function(t,e,n,s){return s?t<e?mi(e,2):t>n?mi(n,2):mi(t,2):mi(t,2)},Za=function(t,e){var n=Y0(t,e);return t.bounds=n,n};function Kc(t,e,n,s,a,l,u){var h=n.minPositionX,d=n.minPositionY,p=n.maxPositionX,y=n.maxPositionY,v=0,T=0;u&&(v=a,T=l);var S=Qy(t,h-v,p+v,s),R=Qy(e,d-T,y+T,s);return{x:S,y:R}}function dm(t,e,n,s,a,l){var u=t.transformState,h=u.scale,d=u.positionX,p=u.positionY,y=s-h;if(typeof e!="number"||typeof n!="number")return console.error("Mouse X and Y position were not provided!"),{x:d,y:p};var v=d-e*y,T=p-n*y,S=Kc(v,T,a,l,0,0,null);return S}function Xc(t,e,n,s,a){var l=a?s:0,u=e-l;return!Number.isNaN(n)&&t>=n?n:!Number.isNaN(e)&&t<=u?u:t}var OA=function(t,e){var n=t.setup.panning.excluded,s=t.isInitialized,a=t.wrapperComponent,l=e.target,u="shadowRoot"in l&&"composedPath"in e,h=u?e.composedPath().some(function(y){return y instanceof Element?a?.contains(y):!1}):a?.contains(l),d=s&&l&&h;if(!d)return!1;var p=mm(l,n);return!p},kA=function(t){var e=t.isInitialized,n=t.isPanning,s=t.setup,a=s.panning.disabled,l=e&&n&&!a;return!!l},DB=function(t,e){var n=t.transformState,s=n.positionX,a=n.positionY;t.isPanning=!0;var l=e.clientX,u=e.clientY;t.startCoords={x:l-s,y:u-a}},MB=function(t,e){var n=e.touches,s=t.transformState,a=s.positionX,l=s.positionY;t.isPanning=!0;var u=n.length===1;if(u){var h=n[0].clientX,d=n[0].clientY;t.startCoords={x:h-a,y:d-l}}};function PB(t){var e=t.transformState,n=e.positionX,s=e.positionY,a=e.scale,l=t.setup,u=l.disabled,h=l.limitToBounds,d=l.centerZoomedOut,p=t.wrapperComponent;if(!(u||!p||!t.bounds)){var y=t.bounds,v=y.maxPositionX,T=y.minPositionX,S=y.maxPositionY,R=y.minPositionY,M=n>v||n<T,D=s>S||s<R,O=n>v?p.offsetWidth:t.setup.minPositionX||0,z=s>S?p.offsetHeight:t.setup.minPositionY||0,F=dm(t,O,z,a,t.bounds,h||d),ae=F.x,re=F.y;return{scale:a,positionX:M?ae:n,positionY:D?re:s}}}function Y2(t,e,n,s,a){var l=t.setup.limitToBounds,u=t.wrapperComponent,h=t.bounds,d=t.transformState,p=d.scale,y=d.positionX,v=d.positionY;if(!(u===null||h===null||e===y&&n===v)){var T=Kc(e,n,h,l,s,a,u),S=T.x,R=T.y;t.setTransformState(p,S,R)}}var VB=function(t,e,n){var s=t.startCoords,a=t.transformState,l=t.setup.panning,u=l.lockAxisX,h=l.lockAxisY,d=a.positionX,p=a.positionY;if(!s)return{x:d,y:p};var y=e-s.x,v=n-s.y,T=u?d:y,S=h?p:v;return{x:T,y:S}},ra=function(t,e){var n=t.setup,s=t.transformState,a=s.scale,l=n.minScale,u=n.disablePadding;return e>0&&a>=l&&!u?e:0},OB=function(t){var e=t.mounted,n=t.setup,s=n.disabled,a=n.velocityAnimation,l=t.transformState.scale,u=a.disabled,h=!u||l>1||!s||e;return!!h},kB=function(t){var e=t.mounted,n=t.velocity,s=t.bounds,a=t.setup,l=a.disabled,u=a.velocityAnimation,h=t.transformState.scale,d=u.disabled,p=!d||h>1||!l||e;return!(!p||!n||!s)};function LB(t,e){var n=t.setup.velocityAnimation,s=n.equalToMove,a=n.animationTime,l=n.sensitivity;return s?a*e*l:a}function LA(t,e,n,s,a,l,u,h,d,p){if(a){if(e>u&&n>u){var y=u+(t-u)*p;return y>d?d:y<u?u:y}if(e<l&&n<l){var y=l+(t-l)*p;return y<h?h:y>l?l:y}}return s?e:Qy(t,l,u,a)}function jB(t,e){var n=1;return e?Math.min(n,t.offsetWidth/window.innerWidth):n}function UB(t,e){var n=OB(t);if(n){var s=t.lastMousePosition,a=t.velocityTime,l=t.setup,u=t.wrapperComponent,h=l.velocityAnimation.equalToMove,d=Date.now();if(s&&a&&u){var p=jB(u,h),y=e.x-s.x,v=e.y-s.y,T=y/p,S=v/p,R=d-a,M=y*y+v*v,D=Math.sqrt(M)/R;t.velocity={velocityX:T,velocityY:S,total:D}}t.lastMousePosition=e,t.velocityTime=d}}function zB(t){var e=t.velocity,n=t.bounds,s=t.setup,a=t.wrapperComponent,l=kB(t);if(!(!l||!e||!n||!a)){var u=e.velocityX,h=e.velocityY,d=e.total,p=n.maxPositionX,y=n.minPositionX,v=n.maxPositionY,T=n.minPositionY,S=s.limitToBounds,R=s.alignmentAnimation,M=s.zoomAnimation,D=s.panning,O=D.lockAxisY,z=D.lockAxisX,F=M.animationType,ae=R.sizeX,re=R.sizeY,J=R.velocityAlignmentTime,N=J,x=LB(t,d),I=Math.max(x,N),j=ra(t,ae),L=ra(t,re),H=j*a.offsetWidth/100,P=L*a.offsetHeight/100,Fe=p+H,Qe=y-H,W=v+P,le=T-P,de=t.transformState,xe=new Date().getTime();G2(t,F,I,function(Ve){var U=t.transformState,te=U.scale,ce=U.positionX,he=U.positionY,Te=new Date().getTime()-xe,Ce=Te/N,oe=H2[R.animationType],_e=1-oe(Math.min(1,Ce)),we=1-Ve,pt=ce+u*we,bn=he+h*we,Kn=LA(pt,de.positionX,ce,z,S,y,p,Qe,Fe,_e),_i=LA(bn,de.positionY,he,O,S,T,v,le,W,_e);(ce!==pt||he!==bn)&&t.setTransformState(te,Kn,_i)})}}function jA(t,e){var n=t.transformState.scale;Vi(t),Za(t,n),window.TouchEvent!==void 0&&e instanceof TouchEvent?MB(t,e):DB(t,e)}function K0(t,e){var n=t.transformState.scale,s=t.setup,a=s.minScale,l=s.alignmentAnimation,u=l.disabled,h=l.sizeX,d=l.sizeY,p=l.animationTime,y=l.animationType,v=u||n<a||!h&&!d;if(!v){var T=PB(t);T&&ha(t,T,e??p,y)}}function UA(t,e,n){var s=t.startCoords,a=t.setup,l=a.alignmentAnimation,u=l.sizeX,h=l.sizeY;if(s){var d=VB(t,e,n),p=d.x,y=d.y,v=ra(t,u),T=ra(t,h);UB(t,{x:p,y}),Y2(t,p,y,v,T)}}function BB(t){if(t.isPanning){var e=t.setup.panning.velocityDisabled,n=t.velocity,s=t.wrapperComponent,a=t.contentComponent;t.isPanning=!1,t.animate=!1,t.animation=null;var l=s?.getBoundingClientRect(),u=a?.getBoundingClientRect(),h=l?.width||0,d=l?.height||0,p=u?.width||0,y=u?.height||0,v=h<p||d<y,T=!e&&n&&n?.total>.1&&v;T?zB(t):K0(t)}}function X0(t,e,n,s){var a=t.setup,l=a.minScale,u=a.maxScale,h=a.limitToBounds,d=Xc(mi(e,2),l,u,0,!1),p=Za(t,d),y=dm(t,n,s,d,p,h),v=y.x,T=y.y;return{scale:d,positionX:v,positionY:T}}function K2(t,e,n){var s=t.transformState.scale,a=t.wrapperComponent,l=t.setup,u=l.minScale,h=l.limitToBounds,d=l.zoomAnimation,p=d.disabled,y=d.animationTime,v=d.animationType,T=p||s>=u;if((s>=1||h)&&K0(t),!(T||!a||!t.mounted)){var S=e||a.offsetWidth/2,R=n||a.offsetHeight/2,M=X0(t,u,S,R);M&&ha(t,M,y,v)}}var $r=function(){return $r=Object.assign||function(e){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},$r.apply(this,arguments)};function zA(t,e,n){for(var s=0,a=e.length,l;s<a;s++)(l||!(s in e))&&(l||(l=Array.prototype.slice.call(e,0,s)),l[s]=e[s]);return t.concat(l||Array.prototype.slice.call(e))}var kf={scale:1,positionX:0,positionY:0},Yu={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},Wy={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},X2=function(t){var e,n,s,a;return{previousScale:(e=t.initialScale)!==null&&e!==void 0?e:kf.scale,scale:(n=t.initialScale)!==null&&n!==void 0?n:kf.scale,positionX:(s=t.initialPositionX)!==null&&s!==void 0?s:kf.positionX,positionY:(a=t.initialPositionY)!==null&&a!==void 0?a:kf.positionY}},BA=function(t){var e=$r({},Yu);return Object.keys(t).forEach(function(n){var s=typeof t[n]<"u",a=typeof Yu[n]<"u";if(a&&s){var l=Object.prototype.toString.call(Yu[n]),u=l==="[object Object]",h=l==="[object Array]";u?e[n]=$r($r({},Yu[n]),t[n]):h?e[n]=zA(zA([],Yu[n],!0),t[n]):e[n]=t[n]}}),e},$2=function(t,e,n){var s=t.transformState.scale,a=t.wrapperComponent,l=t.setup,u=l.maxScale,h=l.minScale,d=l.zoomAnimation,p=l.smooth,y=d.size;if(!a)throw new Error("Wrapper is not mounted");var v=p?s*Math.exp(e*n):s+e*n,T=Xc(mi(v,3),h,u,y,!1);return T};function Q2(t,e,n,s,a){var l=t.wrapperComponent,u=t.transformState,h=u.scale,d=u.positionX,p=u.positionY;if(!l)return console.error("No WrapperComponent found");var y=l.offsetWidth,v=l.offsetHeight,T=(y/2-d)/h,S=(v/2-p)/h,R=$2(t,e,n),M=X0(t,R,T,S);if(!M)return console.error("Error during zoom event. New transformation state was not calculated.");ha(t,M,s,a)}function W2(t,e,n,s){var a=t.setup,l=t.wrapperComponent,u=a.limitToBounds,h=X2(t.props),d=t.transformState,p=d.scale,y=d.positionX,v=d.positionY;if(l){var T=Y0(t,h.scale),S=Kc(h.positionX,h.positionY,T,u,0,0,l),R={scale:h.scale,positionX:S.x,positionY:S.y};p===h.scale&&y===h.positionX&&v===h.positionY||(s?.(),ha(t,R,e,n))}}function FB(t,e,n,s){var a=t.getBoundingClientRect(),l=e.getBoundingClientRect(),u=n.getBoundingClientRect(),h=l.x*s.scale,d=l.y*s.scale;return{x:(a.x-u.x+h)/s.scale,y:(a.y-u.y+d)/s.scale}}function HB(t,e,n){var s=t.wrapperComponent,a=t.contentComponent,l=t.transformState,u=t.setup,h=u.limitToBounds,d=u.minScale,p=u.maxScale;if(!s||!a)return l;var y=s.getBoundingClientRect(),v=e.getBoundingClientRect(),T=FB(e,s,a,l),S=T.x,R=T.y,M=v.width/l.scale,D=v.height/l.scale,O=s.offsetWidth/M,z=s.offsetHeight/D,F=Xc(n||Math.min(O,z),d,p,0,!1),ae=(y.width-M*F)/2,re=(y.height-D*F)/2,J=(y.left-S)*F+ae,N=(y.top-R)*F+re,x=Y0(t,F),I=Kc(J,N,x,h,0,0,s),j=I.x,L=I.y;return{positionX:j,positionY:L,scale:F}}var qB=function(t){return function(e,n,s){e===void 0&&(e=.5),n===void 0&&(n=300),s===void 0&&(s="easeOut"),Q2(t,1,e,n,s)}},GB=function(t){return function(e,n,s){e===void 0&&(e=.5),n===void 0&&(n=300),s===void 0&&(s="easeOut"),Q2(t,-1,e,n,s)}},YB=function(t){return function(e,n,s,a,l){a===void 0&&(a=300),l===void 0&&(l="easeOut");var u=t.transformState,h=u.positionX,d=u.positionY,p=u.scale,y=t.wrapperComponent,v=t.contentComponent,T=t.setup.disabled;if(!(T||!y||!v)){var S={positionX:Number.isNaN(e)?h:e,positionY:Number.isNaN(n)?d:n,scale:Number.isNaN(s)?p:s};ha(t,S,a,l)}}},KB=function(t){return function(e,n){e===void 0&&(e=200),n===void 0&&(n="easeOut"),W2(t,e,n)}},XB=function(t){return function(e,n,s){n===void 0&&(n=200),s===void 0&&(s="easeOut");var a=t.transformState,l=t.wrapperComponent,u=t.contentComponent;if(l&&u){var h=Z2(e||a.scale,l,u);ha(t,h,n,s)}}},$B=function(t){return function(e,n,s,a){s===void 0&&(s=600),a===void 0&&(a="easeOut"),Vi(t);var l=t.wrapperComponent,u=typeof e=="string"?document.getElementById(e):e;if(l&&u&&l.contains(u)){var h=HB(t,u,n);ha(t,h,s,a)}}},Zy=function(t){return{instance:t,zoomIn:qB(t),zoomOut:GB(t),setTransform:YB(t),resetTransform:KB(t),centerView:XB(t),zoomToElement:$B(t)}},QB=function(t){return{instance:t,state:t.transformState}},rt=function(t){var e={};return Object.assign(e,QB(t)),Object.assign(e,Zy(t)),e},Qg=!1;function Wg(){try{var t={get passive(){return Qg=!0,!1}};return t}catch{return Qg=!1,Qg}}var Lf=".".concat(Wy.wrapperClass),mm=function(t,e){return e.some(function(n){return t.matches("".concat(Lf," ").concat(n,", ").concat(Lf," .").concat(n,", ").concat(Lf," ").concat(n," *, ").concat(Lf," .").concat(n," *"))})},Jy=function(t){t&&clearTimeout(t)},WB=function(t,e,n){return"translate(".concat(t,"px, ").concat(e,"px) scale(").concat(n,")")},Z2=function(t,e,n){var s=n.offsetWidth*t,a=n.offsetHeight*t,l=(e.offsetWidth-s)/2,u=(e.offsetHeight-a)/2;return{scale:t,positionX:l,positionY:u}};function ZB(t){return function(e){t.forEach(function(n){typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var JB=function(t,e){var n=t.setup.wheel,s=n.disabled,a=n.wheelDisabled,l=n.touchPadDisabled,u=n.excluded,h=t.isInitialized,d=t.isPanning,p=e.target,y=h&&!d&&!s&&p;if(!y||a&&!e.ctrlKey||l&&e.ctrlKey)return!1;var v=mm(p,u);return!v},e8=function(t){return t?t.deltaY<0?1:-1:0};function t8(t,e){var n=e8(t),s=dB(e,n);return s}function J2(t,e,n){var s=e.getBoundingClientRect(),a=0,l=0;if("clientX"in t)a=(t.clientX-s.left)/n,l=(t.clientY-s.top)/n;else{var u=t.touches[0];a=(u.clientX-s.left)/n,l=(u.clientY-s.top)/n}return(Number.isNaN(a)||Number.isNaN(l))&&console.error("No mouse or touch offset found"),{x:a,y:l}}var n8=function(t,e,n,s,a){var l=t.transformState.scale,u=t.wrapperComponent,h=t.setup,d=h.maxScale,p=h.minScale,y=h.zoomAnimation,v=h.disablePadding,T=y.size,S=y.disabled;if(!u)throw new Error("Wrapper is not mounted");var R=l+e*n,M=s?!1:!S,D=Xc(mi(R,3),p,d,T,M&&!v);return D},i8=function(t,e){var n=t.previousWheelEvent,s=t.transformState.scale,a=t.setup,l=a.maxScale,u=a.minScale;return n?s<l||s>u||Math.sign(n.deltaY)!==Math.sign(e.deltaY)||n.deltaY>0&&n.deltaY<e.deltaY||n.deltaY<0&&n.deltaY>e.deltaY||Math.sign(n.deltaY)!==Math.sign(e.deltaY):!1},s8=function(t,e){var n=t.setup.pinch,s=n.disabled,a=n.excluded,l=t.isInitialized,u=e.target,h=l&&!s&&u;if(!h)return!1;var d=mm(u,a);return!d},r8=function(t){var e=t.setup.pinch.disabled,n=t.isInitialized,s=t.pinchStartDistance,a=n&&!e&&s;return!!a},a8=function(t,e,n){var s=n.getBoundingClientRect(),a=t.touches,l=mi(a[0].clientX-s.left,5),u=mi(a[0].clientY-s.top,5),h=mi(a[1].clientX-s.left,5),d=mi(a[1].clientY-s.top,5);return{x:(l+h)/2/e,y:(u+d)/2/e}},eN=function(t){return Math.sqrt(Math.pow(t.touches[0].pageX-t.touches[1].pageX,2)+Math.pow(t.touches[0].pageY-t.touches[1].pageY,2))},o8=function(t,e){var n=t.pinchStartScale,s=t.pinchStartDistance,a=t.setup,l=a.maxScale,u=a.minScale,h=a.zoomAnimation,d=a.disablePadding,p=h.size,y=h.disabled;if(!n||s===null||!e)throw new Error("Pinch touches distance was not provided");if(e<0)return t.transformState.scale;var v=e/s,T=v*n;return Xc(mi(T,2),u,l,p,!y&&!d)},l8=160,u8=100,c8=function(t,e){var n=t.props,s=n.onWheelStart,a=n.onZoomStart;t.wheelStopEventTimer||(Vi(t),ft(rt(t),e,s),ft(rt(t),e,a))},h8=function(t,e){var n=t.props,s=n.onWheel,a=n.onZoom,l=t.contentComponent,u=t.setup,h=t.transformState,d=h.scale,p=u.limitToBounds,y=u.centerZoomedOut,v=u.zoomAnimation,T=u.wheel,S=u.disablePadding,R=u.smooth,M=v.size,D=v.disabled,O=T.step,z=T.smoothStep;if(!l)throw new Error("Component not mounted");e.preventDefault(),e.stopPropagation();var F=t8(e,null),ae=R?z*Math.abs(e.deltaY):O,re=n8(t,F,ae,!e.ctrlKey);if(d!==re){var J=Za(t,re),N=J2(e,l,d),x=D||M===0||y||S,I=p&&x,j=dm(t,N.x,N.y,re,J,I),L=j.x,H=j.y;t.previousWheelEvent=e,t.setTransformState(re,L,H),ft(rt(t),e,s),ft(rt(t),e,a)}},f8=function(t,e){var n=t.props,s=n.onWheelStop,a=n.onZoomStop;Jy(t.wheelAnimationTimer),t.wheelAnimationTimer=setTimeout(function(){t.mounted&&(K2(t,e.x,e.y),t.wheelAnimationTimer=null)},u8);var l=i8(t,e);l&&(Jy(t.wheelStopEventTimer),t.wheelStopEventTimer=setTimeout(function(){t.mounted&&(t.wheelStopEventTimer=null,ft(rt(t),e,s),ft(rt(t),e,a))},l8))},tN=function(t){for(var e=0,n=0,s=0;s<2;s+=1)e+=t.touches[s].clientX,n+=t.touches[s].clientY;var a=e/2,l=n/2;return{x:a,y:l}},d8=function(t,e){var n=eN(e);t.pinchStartDistance=n,t.lastDistance=n,t.pinchStartScale=t.transformState.scale,t.isPanning=!1;var s=tN(e);t.pinchLastCenterX=s.x,t.pinchLastCenterY=s.y,Vi(t)},m8=function(t,e){var n=t.contentComponent,s=t.pinchStartDistance,a=t.wrapperComponent,l=t.transformState.scale,u=t.setup,h=u.limitToBounds,d=u.centerZoomedOut,p=u.zoomAnimation,y=u.alignmentAnimation,v=p.disabled,T=p.size;if(!(s===null||!n)){var S=a8(e,l,n);if(!(!Number.isFinite(S.x)||!Number.isFinite(S.y))){var R=eN(e),M=o8(t,R),D=tN(e),O=D.x-(t.pinchLastCenterX||0),z=D.y-(t.pinchLastCenterY||0);if(!(M===l&&O===0&&z===0)){t.pinchLastCenterX=D.x,t.pinchLastCenterY=D.y;var F=Za(t,M),ae=v||T===0||d,re=h&&ae,J=dm(t,S.x,S.y,M,F,re),N=J.x,x=J.y;t.pinchMidpoint=S,t.lastDistance=R;var I=y.sizeX,j=y.sizeY,L=ra(t,I),H=ra(t,j),P=N+O,Fe=x+z,Qe=Kc(P,Fe,F,h,L,H,a),W=Qe.x,le=Qe.y;t.setTransformState(M,W,le)}}}},p8=function(t){var e=t.pinchMidpoint;t.velocity=null,t.lastDistance=null,t.pinchMidpoint=null,t.pinchStartScale=null,t.pinchStartDistance=null,K2(t,e?.x,e?.y)},nN=function(t,e){var n=t.props.onZoomStop,s=t.setup.doubleClick.animationTime;Jy(t.doubleClickStopEventTimer),t.doubleClickStopEventTimer=setTimeout(function(){t.doubleClickStopEventTimer=null,ft(rt(t),e,n)},s)},g8=function(t,e){var n=t.props,s=n.onZoomStart,a=n.onZoom,l=t.setup.doubleClick,u=l.animationTime,h=l.animationType;ft(rt(t),e,s),W2(t,u,h,function(){return ft(rt(t),e,a)}),nN(t,e)};function y8(t,e){return t==="toggle"?e===1?1:-1:t==="zoomOut"?-1:1}function v8(t,e){var n=t.setup,s=t.doubleClickStopEventTimer,a=t.transformState,l=t.contentComponent,u=a.scale,h=t.props,d=h.onZoomStart,p=h.onZoom,y=n.doubleClick,v=y.disabled,T=y.mode,S=y.step,R=y.animationTime,M=y.animationType;if(!v&&!s){if(T==="reset")return g8(t,e);if(!l)return console.error("No ContentComponent found");var D=y8(T,t.transformState.scale),O=$2(t,D,S);if(u!==O){ft(rt(t),e,d);var z=J2(e,l,u),F=X0(t,O,z.x,z.y);if(!F)return console.error("Error during zoom event. New transformation state was not calculated.");ft(rt(t),e,p),ha(t,F,R,M),nN(t,e)}}}var _8=function(t,e){var n=t.isInitialized,s=t.setup,a=t.wrapperComponent,l=s.doubleClick,u=l.disabled,h=l.excluded,d=e.target,p=a?.contains(d),y=n&&d&&p&&!u;if(!y)return!1;var v=mm(d,h);return!v},T8=(function(){function t(e){var n=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){n.initializeWindowEvents()},this.unmount=function(){n.cleanupWindowEvents()},this.update=function(s){n.props=s,Za(n,n.transformState.scale),n.setup=BA(s)},this.initializeWindowEvents=function(){var s,a,l=Wg(),u=(s=n.wrapperComponent)===null||s===void 0?void 0:s.ownerDocument,h=u?.defaultView;(a=n.wrapperComponent)===null||a===void 0||a.addEventListener("wheel",n.onWheelPanning,l),h?.addEventListener("mousedown",n.onPanningStart,l),h?.addEventListener("mousemove",n.onPanning,l),h?.addEventListener("mouseup",n.onPanningStop,l),u?.addEventListener("mouseleave",n.clearPanning,l),h?.addEventListener("keyup",n.setKeyUnPressed,l),h?.addEventListener("keydown",n.setKeyPressed,l)},this.cleanupWindowEvents=function(){var s,a,l=Wg(),u=(s=n.wrapperComponent)===null||s===void 0?void 0:s.ownerDocument,h=u?.defaultView;h?.removeEventListener("mousedown",n.onPanningStart,l),h?.removeEventListener("mousemove",n.onPanning,l),h?.removeEventListener("mouseup",n.onPanningStop,l),u?.removeEventListener("mouseleave",n.clearPanning,l),h?.removeEventListener("keyup",n.setKeyUnPressed,l),h?.removeEventListener("keydown",n.setKeyPressed,l),document.removeEventListener("mouseleave",n.clearPanning,l),Vi(n),(a=n.observer)===null||a===void 0||a.disconnect()},this.handleInitializeWrapperEvents=function(s){var a=Wg();s.addEventListener("wheel",n.onWheelZoom,a),s.addEventListener("dblclick",n.onDoubleClick,a),s.addEventListener("touchstart",n.onTouchPanningStart,a),s.addEventListener("touchmove",n.onTouchPanning,a),s.addEventListener("touchend",n.onTouchPanningStop,a)},this.handleInitialize=function(s,a){var l=!1,u=n.setup.centerOnInit,h=function(d,p){for(var y=0,v=d;y<v.length;y++){var T=v[y];if(T.target===p)return!0}return!1};n.applyTransformation(),n.onInitCallbacks.forEach(function(d){d(rt(n))}),n.observer=new ResizeObserver(function(d){if(h(d,s)||h(d,a))if(u&&!l){var p=a.offsetWidth,y=a.offsetHeight;(p>0||y>0)&&(l=!0,n.setCenter())}else Vi(n),Za(n,n.transformState.scale),K0(n,0)}),n.observer.observe(s),n.observer.observe(a)},this.onWheelZoom=function(s){var a=n.setup.disabled;if(!a){var l=JB(n,s);if(l){var u=n.isPressingKeys(n.setup.wheel.activationKeys);u&&(c8(n,s),h8(n,s),f8(n,s))}}},this.onWheelPanning=function(s){var a=n.setup,l=a.disabled,u=a.wheel,h=a.panning;if(!(!n.wrapperComponent||!n.contentComponent||l||!u.wheelDisabled||h.disabled||!h.wheelPanning||s.ctrlKey)){s.preventDefault(),s.stopPropagation();var d=n.transformState,p=d.positionX,y=d.positionY,v=p-s.deltaX,T=y-s.deltaY,S=h.lockAxisX?p:v,R=h.lockAxisY?y:T,M=n.setup.alignmentAnimation,D=M.sizeX,O=M.sizeY,z=ra(n,D),F=ra(n,O);S===p&&R===y||Y2(n,S,R,z,F)}},this.onPanningStart=function(s){var a=n.setup.disabled,l=n.props.onPanningStart;if(!a){var u=OA(n,s);if(u){var h=n.isPressingKeys(n.setup.panning.activationKeys);h&&(s.button===0&&!n.setup.panning.allowLeftClickPan||s.button===1&&!n.setup.panning.allowMiddleClickPan||s.button===2&&!n.setup.panning.allowRightClickPan||(s.preventDefault(),s.stopPropagation(),Vi(n),jA(n,s),ft(rt(n),s,l)))}}},this.onPanning=function(s){var a=n.setup.disabled,l=n.props.onPanning;if(!a){var u=kA(n);if(u){var h=n.isPressingKeys(n.setup.panning.activationKeys);h&&(s.preventDefault(),s.stopPropagation(),UA(n,s.clientX,s.clientY),ft(rt(n),s,l))}}},this.onPanningStop=function(s){var a=n.props.onPanningStop;n.isPanning&&(BB(n),ft(rt(n),s,a))},this.onPinchStart=function(s){var a=n.setup.disabled,l=n.props,u=l.onPinchingStart,h=l.onZoomStart;if(!a){var d=s8(n,s);d&&(d8(n,s),Vi(n),ft(rt(n),s,u),ft(rt(n),s,h))}},this.onPinch=function(s){var a=n.setup.disabled,l=n.props,u=l.onPinching,h=l.onZoom;if(!a){var d=r8(n);d&&(s.preventDefault(),s.stopPropagation(),m8(n,s),ft(rt(n),s,u),ft(rt(n),s,h))}},this.onPinchStop=function(s){var a=n.props,l=a.onPinchingStop,u=a.onZoomStop;n.pinchStartScale&&(p8(n),ft(rt(n),s,l),ft(rt(n),s,u))},this.onTouchPanningStart=function(s){var a=n.setup.disabled,l=n.props.onPanningStart;if(!a){var u=OA(n,s);if(u){var h=n.lastTouch&&+new Date-n.lastTouch<200&&s.touches.length===1;if(!h){n.lastTouch=+new Date,Vi(n);var d=s.touches,p=d.length===1,y=d.length===2;p&&(Vi(n),jA(n,s),ft(rt(n),s,l)),y&&n.onPinchStart(s)}}}},this.onTouchPanning=function(s){var a=n.setup.disabled,l=n.props.onPanning;if(n.isPanning&&s.touches.length===1){if(a)return;var u=kA(n);if(!u)return;s.preventDefault(),s.stopPropagation();var h=s.touches[0];UA(n,h.clientX,h.clientY),ft(rt(n),s,l)}else s.touches.length>1&&n.onPinch(s)},this.onTouchPanningStop=function(s){n.onPanningStop(s),n.onPinchStop(s)},this.onDoubleClick=function(s){var a=n.setup.disabled;if(!a){var l=_8(n,s);l&&v8(n,s)}},this.clearPanning=function(s){n.isPanning&&n.onPanningStop(s)},this.setKeyPressed=function(s){n.pressedKeys[s.key]=!0},this.setKeyUnPressed=function(s){n.pressedKeys[s.key]=!1},this.isPressingKeys=function(s){return s.length?!!s.find(function(a){return n.pressedKeys[a]}):!0},this.setTransformState=function(s,a,l){var u=n.props.onTransformed;if(!Number.isNaN(s)&&!Number.isNaN(a)&&!Number.isNaN(l)){s!==n.transformState.scale&&(n.transformState.previousScale=n.transformState.scale,n.transformState.scale=s),n.transformState.positionX=a,n.transformState.positionY=l,n.applyTransformation();var h=rt(n);n.onChangeCallbacks.forEach(function(d){return d(h)}),ft(h,{scale:s,positionX:a,positionY:l},u)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(n.wrapperComponent&&n.contentComponent){var s=Z2(n.transformState.scale,n.wrapperComponent,n.contentComponent);n.setTransformState(s.scale,s.positionX,s.positionY)}},this.handleTransformStyles=function(s,a,l){return n.props.customTransform?n.props.customTransform(s,a,l):WB(s,a,l)},this.applyTransformation=function(){if(!(!n.mounted||!n.contentComponent)){var s=n.transformState,a=s.scale,l=s.positionX,u=s.positionY,h=n.handleTransformStyles(l,u,a);n.contentComponent.style.transform=h}},this.getContext=function(){return rt(n)},this.onChange=function(s){return n.onChangeCallbacks.has(s)||n.onChangeCallbacks.add(s),function(){n.onChangeCallbacks.delete(s)}},this.onInit=function(s){return n.onInitCallbacks.has(s)||n.onInitCallbacks.add(s),function(){n.onInitCallbacks.delete(s)}},this.init=function(s,a){n.cleanupWindowEvents(),n.wrapperComponent=s,n.contentComponent=a,Za(n,n.transformState.scale),n.handleInitializeWrapperEvents(s),n.handleInitialize(s,a),n.initializeWindowEvents(),n.isInitialized=!0;var l=rt(n);ft(l,void 0,n.props.onInit)},this.props=e,this.setup=BA(this.props),this.transformState=X2(this.props)}return t})(),$0=hi.createContext(null),b8=function(t,e){return typeof t=="function"?t(e):t},w8=hi.forwardRef(function(t,e){var n=V.useRef(new T8(t)).current,s=b8(t.children,Zy(n));return V.useImperativeHandle(e,function(){return Zy(n)},[n]),V.useEffect(function(){n.update(t)},[n,t]),hi.createElement($0.Provider,{value:n},s)});hi.forwardRef(function(t,e){var n=V.useRef(null),s=V.useContext($0);return V.useEffect(function(){return s.onChange(function(a){if(n.current){var l=0,u=0;n.current.style.transform=s.handleTransformStyles(l,u,1/a.instance.transformState.scale)}})},[s]),hi.createElement("div",$r({},t,{ref:ZB([n,e])}))});function E8(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",n==="top"&&s.firstChild?s.insertBefore(a,s.firstChild):s.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}}var S8=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,FA={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};E8(S8);var A8=function(t){var e=t.children,n=t.wrapperClass,s=n===void 0?"":n,a=t.contentClass,l=a===void 0?"":a,u=t.wrapperStyle,h=t.contentStyle,d=t.wrapperProps,p=d===void 0?{}:d,y=t.contentProps,v=y===void 0?{}:y,T=V.useContext($0),S=T.init,R=T.cleanupWindowEvents,M=V.useRef(null),D=V.useRef(null);return V.useEffect(function(){var O=M.current,z=D.current;return O!==null&&z!==null&&S&&S?.(O,z),function(){R?.()}},[]),hi.createElement("div",$r({},p,{ref:M,className:"".concat(Wy.wrapperClass," ").concat(FA.wrapper," ").concat(s),style:u}),hi.createElement("div",$r({},v,{ref:D,className:"".concat(Wy.contentClass," ").concat(FA.content," ").concat(l),style:h}),e))};const x8=()=>{const{id:t}=TD(),[e,n]=V.useState(null),[s,a]=V.useState(!0),l=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],u=hi.useRef(null),[h,d]=hi.useState(window.innerWidth<768),[p,y]=hi.useState(!1);return V.useEffect(()=>{(async()=>{try{const T=di(Yt,"messes",t),S=await Ed(T);S.exists()&&n({id:S.id,...S.data()})}catch(T){console.error("Error fetching mess:",T)}finally{a(!1)}})()},[t]),hi.useEffect(()=>{const v=()=>d(window.innerWidth<768);return window.addEventListener("resize",v),t&&localStorage.setItem("lastViewedMess",t),()=>window.removeEventListener("resize",v)},[t]),s?w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):e?w.jsxs("div",{className:"min-h-screen bg-gray-50 relative",children:[w.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[w.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),w.jsx("div",{className:"absolute top-0 -left-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"})]}),w.jsx(zd,{}),w.jsxs("main",{className:"relative z-10 pt-20 pb-4 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto h-[calc(100vh-20px)] flex flex-col",children:[w.jsxs(qr,{to:"/",className:"inline-flex items-center text-gray-600 hover:text-orange-600 mb-2 transition-colors text-sm",children:[w.jsx(TM,{size:16,className:"mr-1"}),"Back"]}),w.jsxs(Kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/60 backdrop-blur-xl rounded-2xl shadow-2xl overflow-hidden border border-white/50 flex flex-col flex-1 min-h-0",children:[w.jsx("div",{className:Bs("px-4 py-2 md:px-6 md:py-3 bg-gradient-to-r text-white shrink-0",e.color),children:w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-2 md:gap-0",children:[w.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:e.name}),w.jsxs("div",{className:"flex items-center gap-2 md:gap-3 w-full md:w-auto",children:[w.jsxs("button",{onClick:()=>u.current?.resetTransform(),className:"flex-1 md:flex-none justify-center px-3 py-1 bg-white/20 hover:bg-white/30 text-white rounded-full text-[10px] md:text-xs font-medium transition-colors backdrop-blur-sm border border-white/20 flex items-center gap-1 cursor-pointer",title:"Click to reset view",children:[w.jsx(td,{size:12}),"Weekly Menu"]}),w.jsxs("button",{onClick:()=>y(!0),className:"flex-1 md:flex-none justify-center px-3 py-1 bg-white/20 hover:bg-white/30 text-white rounded-full text-[10px] md:text-xs font-medium transition-colors backdrop-blur-sm border border-white/20 flex items-center gap-1",children:[w.jsx(nd,{size:12}),"Today's Menu"]})]})]})}),w.jsx("div",{className:Bs("flex-1 relative bg-gray-50/50",h?"overflow-hidden":"overflow-auto"),children:(()=>{const v=()=>{const D=new Date,O=D.getDay(),z=D.getDate()-O+(O===0?-6:1),F=new Date(D.setDate(z));return F.setHours(0,0,0,0),F},T=e.lastUpdated?new Date(e.lastUpdated):null,S=v(),R=!T||T<S,M=e.menu&&Object.keys(e.menu).some(D=>{const O=e.menu[D];return O?Object.values(O).some(z=>z&&z!=="N/A"&&z.trim()!==""):!1});return R||!M?w.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[w.jsx("div",{className:Bs("text-3xl md:text-4xl font-bold mb-2 bg-clip-text text-transparent bg-gradient-to-r",e.color),children:"Menu Not Uploaded"}),w.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Check back later for this week's menu"})]}):h?w.jsx(w8,{ref:u,initialScale:1,minScale:.5,maxScale:3,centerOnInit:!1,wheel:{step:.1},limitToBounds:!1,children:w.jsx(A8,{wrapperClass:"!w-full !h-full",contentClass:"!w-full",children:w.jsx(HA,{days:l,mess:e})})}):w.jsx(HA,{days:l,mess:e})})()})]})]}),w.jsx(zr,{children:p&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>y(!1),children:w.jsxs(Kt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},onClick:v=>v.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[w.jsxs("div",{className:Bs("p-4 bg-gradient-to-r text-white flex justify-between items-center",e.color),children:[w.jsxs("h3",{className:"text-lg font-bold",children:["Today's Menu (",new Date().toLocaleDateString("en-US",{weekday:"long"}),")"]}),w.jsx("button",{onClick:()=>y(!1),className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:w.jsx(Ja,{size:20})})]}),w.jsx("div",{className:"p-6 space-y-4",children:(()=>{const v=()=>{const z=new Date,F=z.getDay(),ae=z.getDate()-F+(F===0?-6:1),re=new Date(z.setDate(ae));return re.setHours(0,0,0,0),re},T=e.lastUpdated?new Date(e.lastUpdated):null,S=v(),R=!T||T<S,M=e.menu&&Object.keys(e.menu).some(z=>{const F=e.menu[z];return F?Object.values(F).some(ae=>ae&&ae!=="N/A"&&ae.trim()!==""):!1});if(R||!M)return w.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[w.jsx("div",{className:"text-xl font-bold text-gray-400 mb-2",children:"Menu Not Uploaded"}),w.jsx("p",{className:"text-sm text-gray-400",children:"Check back later"})]});const D=new Date().toLocaleDateString("en-US",{weekday:"long"}),O=e.menu[D]||e.menu.Monday;return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"p-3 rounded-xl bg-orange-50 border border-orange-100",children:[w.jsx("h4",{className:"text-xs font-bold text-orange-600 uppercase tracking-wider mb-1",children:"Breakfast"}),w.jsx("p",{className:"text-gray-800 text-sm",children:Hr(O.Breakfast)})]}),w.jsxs("div",{className:"p-3 rounded-xl bg-green-50 border border-green-100",children:[w.jsx("h4",{className:"text-xs font-bold text-green-600 uppercase tracking-wider mb-1",children:"Lunch"}),w.jsx("p",{className:"text-gray-800 text-sm",children:Hr(O.Lunch)})]}),w.jsxs("div",{className:"p-3 rounded-xl bg-yellow-50 border border-yellow-100",children:[w.jsx("h4",{className:"text-xs font-bold text-yellow-600 uppercase tracking-wider mb-1",children:"Snacks"}),w.jsx("p",{className:"text-gray-800 text-sm",children:Hr(O.Snacks)})]}),w.jsxs("div",{className:"p-3 rounded-xl bg-blue-50 border border-blue-100",children:[w.jsx("h4",{className:"text-xs font-bold text-blue-600 uppercase tracking-wider mb-1",children:"Dinner"}),w.jsx("p",{className:"text-gray-800 text-sm",children:Hr(O.Dinner)})]})]})})()})]})})})]}):w.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Mess not found"})},Hr=t=>t?t.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"",HA=({days:t,mess:e})=>w.jsxs("table",{className:"w-full text-left border-collapse min-w-[600px] bg-white origin-top-left h-full",children:[w.jsx("thead",{className:"bg-white/95 backdrop-blur-sm shadow-sm sticky top-0 z-10",children:w.jsxs("tr",{className:"border-b border-gray-200",children:[w.jsx("th",{className:"py-2 px-3 font-bold text-gray-500 uppercase tracking-wider text-[10px]",children:"Day"}),w.jsx("th",{className:"py-2 px-3 font-bold text-orange-600 uppercase tracking-wider text-[10px]",children:"Breakfast"}),w.jsx("th",{className:"py-2 px-3 font-bold text-green-600 uppercase tracking-wider text-[10px]",children:"Lunch"}),w.jsx("th",{className:"py-2 px-3 font-bold text-yellow-600 uppercase tracking-wider text-[10px]",children:"Snacks"}),w.jsx("th",{className:"py-2 px-3 font-bold text-blue-600 uppercase tracking-wider text-[10px]",children:"Dinner"})]})}),w.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(n=>w.jsxs("tr",{id:`row-${n}`,className:"hover:bg-gray-50 transition-colors group duration-300",children:[w.jsx("td",{className:"py-1.5 px-3 font-bold text-gray-800 text-[10px]",children:n}),w.jsx("td",{className:"py-1.5 px-3 text-gray-600 group-hover:text-gray-900 text-[10px] leading-tight",children:Hr(e.menu[n]?.Breakfast)}),w.jsx("td",{className:"py-1.5 px-3 text-gray-600 group-hover:text-gray-900 text-[10px] leading-tight",children:Hr(e.menu[n]?.Lunch)}),w.jsx("td",{className:"py-1.5 px-3 text-gray-600 group-hover:text-gray-900 text-[10px] leading-tight",children:Hr(e.menu[n]?.Snacks)}),w.jsx("td",{className:"py-1.5 px-3 text-gray-600 group-hover:text-gray-900 text-[10px] leading-tight",children:Hr(e.menu[n]?.Dinner)})]},n))})]}),C8=()=>{const[t,e]=V.useState("admin@mitmess.com"),[n,s]=V.useState(""),[a,l]=V.useState(!1),[u,h]=V.useState(""),[d,p]=V.useState(!0),y=nv();V.useEffect(()=>{const S=c2(qn,async R=>{if(R){const M=await Ed(di(Yt,"users",R.email));M.exists()&&M.data().deleted?(await Tl(qn),p(!1)):y("/admin/dashboard")}else p(!1)});return()=>S()},[y]);const v=async S=>{S.preventDefault(),p(!0),h("");try{await IU(qn,d2);const R=await NU(qn,t,n),M=di(Yt,"users",R.user.email),D=await Ed(M);if(D.exists()){if(D.data().deleted)if(n==="LALA HI LALA")console.log("Owner account was deleted. Reactivating..."),await Ad(M,{deleted:!1});else throw await Tl(qn),new Error("Access Denied: Account has been revoked.")}else{console.warn("User document missing. Recreating...");const O=n==="LALA HI LALA",z={email:R.user.email,name:O?"M Shoaib Khan":"Recovered Admin",accessCode:n,role:O?"super_admin":"mess_admin",messId:null,createdAt:new Date().toISOString(),deleted:!1,recovered:!0};await Sd(M,z)}}catch(R){console.error("Login error:",R),h(R.message==="Access Denied: Account has been revoked."?R.message:"Invalid password"),p(!1)}},T=S=>{window.innerWidth<768&&S.target===S.currentTarget&&y("/")};return w.jsxs("div",{className:"min-h-screen bg-gray-50 relative flex flex-col",children:[w.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[w.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),w.jsx("div",{className:"absolute top-0 -left-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"})]}),w.jsx(zd,{}),w.jsx("div",{className:"flex-1 flex items-center justify-center relative z-10 px-4 cursor-pointer md:cursor-default",onClick:T,children:w.jsxs(Kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-xl p-8 rounded-2xl shadow-2xl w-full max-w-md border border-white/50 cursor-default",onClick:S=>S.stopPropagation(),children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsx("div",{className:"bg-orange-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:w.jsx(ey,{className:"text-orange-600",size:32})}),w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Admin Login"}),w.jsx("p",{className:"text-gray-500 mt-2",children:"Enter your password to access the dashboard"})]}),w.jsxs("form",{onSubmit:v,className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 ml-1",children:"Access Code"}),w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:w.jsx(ey,{className:"h-5 w-5 text-gray-400"})}),w.jsx("input",{type:a?"text":"password",value:n,onChange:S=>{s(S.target.value);const R=S.target.value.trim().replace(/\s+/g,"_").toLowerCase();e(`${R}@mitmess.com`)},className:"w-full pl-10 pr-10 px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-all bg-white/50",placeholder:"Enter your secret code",autoFocus:!0}),w.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:a?w.jsx(AM,{size:20}):w.jsx(CM,{size:20})})]}),u&&w.jsx("p",{className:"text-red-500 text-sm mt-2 ml-1",children:u})]}),w.jsx("button",{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-orange-600 to-red-600 text-white py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:d?w.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):w.jsxs(w.Fragment,{children:["Access Dashboard ",w.jsx(ov,{size:20})]})})]})]})})]})},R8="modulepreload",N8=function(t,e){return new URL(t,e).href},qA={},I8=function(e,n,s){let a=Promise.resolve();if(n&&n.length>0){let p=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};const u=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");a=p(n.map(y=>{if(y=N8(y,s),y in qA)return;qA[y]=!0;const v=y.endsWith(".css"),T=v?'[rel="stylesheet"]':"";if(s)for(let R=u.length-1;R>=0;R--){const M=u[R];if(M.href===y&&(!v||M.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${y}"]${T}`))return;const S=document.createElement("link");if(S.rel=v?"stylesheet":R8,v||(S.as="script"),S.crossOrigin="",S.href=y,d&&S.setAttribute("nonce",d),document.head.appendChild(S),v)return new Promise((R,M)=>{S.addEventListener("load",R),S.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},D8=({onClose:t})=>{const[e,n]=V.useState([]),[s,a]=V.useState([]),[l,u]=V.useState(""),[h,d]=V.useState(""),[p,y]=V.useState("mess_admin"),[v,T]=V.useState(""),[S,R]=V.useState(!1),[M,D]=V.useState(""),[O,z]=V.useState(null);V.useEffect(()=>{(async()=>{const x=(await xc(Fr(Yt,"messes"))).docs.map(I=>({id:I.id,...I.data()}));n(x),x.length>0&&T(x[0].id),F()})()},[]);const F=async()=>{const N=(await xc(Fr(Yt,"users"))).docs.map(x=>({id:x.id,...x.data()})).filter(x=>!x.deleted);a(N)},ae=async J=>{if(J.preventDefault(),!(!l||!h)&&window.confirm("WARNING: Creating a new account requires logging out of the current session. You will need to log back in as Super Admin afterwards. Continue?")){R(!0),D("");try{const x=`${l.trim().replace(/\s+/g,"_").toLowerCase()}@mitmess.com`,I=l;try{await u2(qn,x,I)}catch(j){if(j.code==="auth/email-already-in-use"||j.message.includes("email-already-in-use")){console.log("Account exists. Overwriting/Reactivating..."),await Sd(di(Yt,"users",x),{email:x,name:h,accessCode:l,role:p,messId:p==="mess_admin"?v:null,createdAt:new Date().toISOString(),deleted:!1,reactivatedAt:new Date().toISOString()}),alert(`Account "${l}" already existed. It has been completely reset and reactivated with the new details. You will now be logged out.`),await Tl(qn),window.location.reload();return}else throw j}await Sd(di(Yt,"users",x),{email:x,name:h,accessCode:l,role:p,messId:p==="mess_admin"?v:null,createdAt:new Date().toISOString(),deleted:!1}),alert(`Success! Access Code "${l}" created for "${h}". You will now be logged out.`),await Tl(qn),window.location.reload()}catch(N){console.error("Creation Error:",N),D(N.message),R(!1),await Tl(qn)}}},re=async(J,N)=>{if(window.confirm(`Are you sure you want to delete admin "${N}"? They will no longer be able to log in.`))try{await Ad(di(Yt,"users",J),{deleted:!0}),a(s.filter(x=>x.id!==J)),z(null),alert(`Admin "${N}" deleted successfully.`)}catch(x){console.error("Delete Error:",x),alert("Failed to delete user: "+x.message)}};return w.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm overflow-y-auto",children:[w.jsxs(Kt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-4xl overflow-hidden my-8",children:[w.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(u1,{className:"text-orange-600",size:24}),w.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Manage Admins"})]}),w.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:w.jsx(Ja,{size:24})})]}),w.jsxs("div",{className:"p-6 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[w.jsxs("div",{children:[w.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[w.jsx(ty,{size:20})," Create New Admin"]}),w.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 flex gap-3",children:[w.jsx(h1,{className:"text-yellow-600 shrink-0",size:20}),w.jsxs("p",{className:"text-sm text-yellow-800",children:["Creating a new code will ",w.jsx("strong",{children:"log you out"}),". You'll need to sign back in with your Super Admin code afterwards."]})]}),w.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Name"}),w.jsx("input",{type:"text",value:h,onChange:J=>d(J.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",placeholder:"e.g. Rahul (Mess Manager)",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Access Code (Password)"}),w.jsx("input",{type:"text",value:l,onChange:J=>u(J.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",placeholder:"e.g. SecretCode123",required:!0}),w.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be used to log in."})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),w.jsxs("select",{value:p,onChange:J=>y(J.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",children:[w.jsx("option",{value:"mess_admin",children:"Mess Admin"}),w.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),p==="mess_admin"&&w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign Mess"}),w.jsx("select",{value:v,onChange:J=>T(J.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",children:e.map(J=>w.jsx("option",{value:J.id,children:J.name},J.id))})]}),M&&w.jsx("p",{className:"text-red-600 text-sm bg-red-50 p-2 rounded",children:M}),w.jsx("button",{type:"submit",disabled:S,className:"w-full bg-orange-600 text-white py-3 rounded-lg font-semibold shadow-lg hover:bg-orange-700 transition-all flex items-center justify-center gap-2 disabled:opacity-70",children:S?w.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):w.jsxs(w.Fragment,{children:["Create & Logout ",w.jsx(ty,{size:20})]})})]})]}),w.jsxs("div",{className:"border-t lg:border-t-0 lg:border-l border-gray-200 pt-8 lg:pt-0 lg:pl-8",children:[w.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Existing Admins"}),w.jsx("div",{className:"overflow-y-auto max-h-[500px] pr-2 custom-scrollbar",children:w.jsxs("div",{className:"space-y-3",children:[s.map(J=>w.jsx("div",{onClick:()=>z(J),className:"p-4 rounded-xl border border-gray-200 bg-gray-50 hover:bg-white hover:shadow-md transition-all cursor-pointer group",children:w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsxs("div",{children:[w.jsx("h5",{className:"font-bold text-gray-900 group-hover:text-orange-600 transition-colors",children:J.name||"Unnamed Admin"}),w.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[w.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${J.role==="super_admin"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:J.role==="super_admin"?"Super Admin":"Mess Admin"}),J.messId&&w.jsxs("span",{className:"text-xs text-gray-500",children:[" ",e.find(N=>N.id===J.messId)?.name||J.messId]})]})]}),w.jsx("div",{className:"text-gray-400",children:w.jsx(ov,{size:16})})]})},J.id)),s.length===0&&w.jsx("p",{className:"text-gray-500 text-center py-8",children:"No admins found."})]})})]})]})]}),O&&w.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/20 backdrop-blur-sm",children:w.jsxs(Kt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden border border-gray-100",children:[w.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[w.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Admin Profile"}),w.jsx("button",{onClick:()=>z(null),className:"text-gray-400 hover:text-gray-600",children:w.jsx(Ja,{size:20})})]}),w.jsxs("div",{className:"p-6 space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Name"}),w.jsx("p",{className:"text-lg font-medium text-gray-900",children:O.name||"N/A"})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Role"}),w.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:O.role.replace("_"," ")})]}),O.messId&&w.jsxs("div",{children:[w.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Mess"}),w.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.find(J=>J.id===O.messId)?.name||O.messId})]})]}),w.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[w.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider block mb-1",children:"Access Code (Password)"}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(ey,{size:14,className:"text-orange-500"}),w.jsx("p",{className:"font-mono text-lg font-bold text-gray-900",children:O.accessCode})]}),w.jsx("p",{className:"text-xs text-gray-400 mt-2 break-all",children:O.email})]}),O.accessCode==="LALA HI LALA"?w.jsx("div",{className:"bg-purple-50 text-purple-700 p-3 rounded-lg text-sm text-center font-medium border border-purple-100",children:" Owner Account (Protected)"}):w.jsxs("button",{onClick:()=>re(O.id,O.name),className:"w-full py-3 bg-red-50 text-red-600 rounded-xl font-semibold hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[w.jsx(c1,{size:18})," Delete Admin"]})]})]})})]})},M8=()=>{const[t,e]=V.useState([]),[n,s]=V.useState(""),[a,l]=V.useState(!1),[u,h]=V.useState("idle"),[d,p]=V.useState(""),[y,v]=V.useState(null),[T,S]=V.useState(null),[R,M]=V.useState(""),[D,O]=V.useState(!1),[z,F]=V.useState(""),[ae,re]=V.useState("from-orange-500 to-red-500"),[J,N]=V.useState(!1),[x,I]=V.useState([]),[j,L]=V.useState(!1),[H,P]=V.useState(!1),Fe=nv(),Qe=async()=>{try{await Tl(qn),Fe("/admin")}catch(oe){console.error("Error logging out:",oe)}},W=async(oe,_e,we=null)=>{try{await oA(Fr(Yt,"audit_logs"),{timestamp:new Date().toISOString(),action:oe,details:_e,messId:we,adminEmail:qn.currentUser?.email||"unknown",adminName:R||"Unknown Admin"})}catch(pt){console.error("Failed to log action:",pt)}},le=async()=>{const _e=(await xc(Fr(Yt,"messes"))).docs.map(we=>({id:we.id,...we.data()}));e(_e),T?s(T):_e.length>0&&!n&&s(_e[0].id)},de=async oe=>{if(oe)try{const _e=await Ed(di(Yt,"users",oe.email));if(_e.exists()){const we=_e.data();v(we.role),S(we.messId),M(we.name||"Unknown Admin"),we.role==="mess_admin"&&we.messId&&s(we.messId)}else console.warn("User not found in users collection, defaulting to restricted access."),v("mess_admin"),M("Unknown Admin")}catch(_e){console.error("Error fetching user role:",_e)}},xe=async()=>{L(!0);try{const oe=xj(Fr(Yt,"audit_logs"),Cj("timestamp","desc"),Rj(50)),we=(await xc(oe)).docs.map(pt=>({id:pt.id,...pt.data()}));I(we)}catch(oe){console.error("Error fetching history:",oe)}finally{L(!1)}};x.map(oe=>w.jsxs("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[w.jsx("div",{className:"mt-1",children:w.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm",children:w.jsx(td,{size:16,className:"text-gray-500"})})}),w.jsxs("div",{children:[w.jsx("p",{className:"font-medium text-gray-900",children:oe.details}),w.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500",children:[w.jsx("span",{className:"font-semibold text-orange-600",children:oe.adminName||oe.adminEmail}),oe.adminName&&w.jsxs("span",{className:"text-gray-400",children:["(",oe.adminEmail,")"]}),w.jsx("span",{children:""}),w.jsx("span",{children:new Date(oe.timestamp).toLocaleString()})]})]})]},oe.id)),V.useEffect(()=>{const oe=c2(qn,async _e=>{_e?(await de(_e),le()):Fe("/admin")});return()=>oe()},[Fe,T]);const Ve=oe=>{oe.preventDefault(),l(!0)},U=()=>{l(!1)},te=oe=>{oe.preventDefault(),l(!1);const _e=oe.dataTransfer.files;_e.length>0&&Te(_e[0])},ce=async oe=>{if(oe.preventDefault(),!!z)try{const _e={Monday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Tuesday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Wednesday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Thursday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Friday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Saturday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Sunday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"}},we=await oA(Fr(Yt,"messes"),{name:z,color:ae,menu:_e,lastUpdated:new Date().toISOString()});await W("CREATE_MESS",`Created mess: ${z}`,we.id),F(""),O(!1),await le(),s(we.id),alert("Mess added successfully!")}catch(_e){console.error("Error adding mess: ",_e),alert("Failed to add mess.")}},he=async()=>{if(n&&window.confirm("Are you sure you want to delete this mess? This action cannot be undone."))try{const oe=t.find(_e=>_e.id===n)?.name||n;await LR(di(Yt,"messes",n)),await W("DELETE_MESS",`Deleted mess: ${oe}`,n),await le(),t.length>1?s(t[0].id===n?t[1].id:t[0].id):s(""),alert("Mess deleted successfully.")}catch(oe){console.error("Error deleting mess: ",oe),alert("Failed to delete mess.")}},Te=async oe=>{h("uploading"),p("");try{const _e=new FileReader;_e.readAsDataURL(oe),_e.onload=async()=>{const we=_e.result.split(",")[1];h("processing");try{console.log("VERSION: GEMINI-2.0-FLASH-FINAL");const{GoogleGenerativeAI:pt}=await I8(async()=>{const{GoogleGenerativeAI:En}=await import("./index-eZp-A-GY.js");return{GoogleGenerativeAI:En}},[],import.meta.url),Kn="Y25CZ1cS-QLpTHhtWrcJWK6etE8ZFpF8CySazIA".split("").reverse().join(""),Mt=new pt(Kn).getGenerativeModel({model:"gemini-2.0-flash"}),zi=`
                    Extract the weekly menu from this image and return it as a strictly valid JSON object.
                    
                    CRITICAL INSTRUCTION: You must extract EVERY SINGLE DISH listed for each meal. 
                    - Do NOT summarize. 
                    - Do NOT truncate. 
                    - List all items separated by commas exactly as they appear in the image.
                    - If there are multiple items (e.g., "Rice, Dal, Curd"), include ALL of them.
                    - **IMPORTANT: Format all text in Sentence case (e.g., "Paneer butter masala", "Mix veg paratha"). Do NOT use ALL CAPS.**

                    The JSON structure must be exactly like this:
                    {
                        "Monday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Tuesday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Wednesday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Thursday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Friday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Saturday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Sunday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." }
                    }
                    If a meal is missing, use "N/A".
                    Do not include any markdown formatting (like \`\`\`json), just the raw JSON string.
                    `,wn=new Promise((En,fa)=>setTimeout(()=>fa(new Error("Request timed out (30s)")),3e4)),Ti=Mt.generateContent([zi,{inlineData:{data:we,mimeType:oe.type}}]),Tt=(await(await Promise.race([Ti,wn])).response).text();console.log("Gemini Response:",Tt);const Bi=Tt.replace(/```json/g,"").replace(/```/g,"").trim();let po;try{po=JSON.parse(Bi)}catch(En){throw console.error("JSON Parse Error:",En),new Error("AI returned invalid data. Try a clearer image.")}const go=di(Yt,"messes",n);await Ad(go,{menu:po,lastUpdated:new Date().toISOString()});const Jt=t.find(En=>En.id===n)?.name||n;await W("UPDATE_MENU",`Updated menu for ${Jt}`,n),h("success")}catch(pt){console.error("Gemini/Firestore Error:",pt),h("error"),p(pt.message||"Unknown error occurred")}}}catch(_e){console.error("File Reading Error:",_e),h("error"),p("Failed to read the file.")}},Ce=async()=>{if(n){h("processing"),p("");try{const we=await fetch("https://api.allorigins.win/raw?url="+encodeURIComponent("https://tikm.coolstuff.work/api/menu"));if(!we.ok)throw new Error("Failed to fetch from FC2 API");const pt=await we.json();if(!pt.menu)throw new Error("Invalid data received from FC2 API");const bn={Monday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Tuesday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Wednesday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Thursday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Friday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Saturday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Sunday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"}};Object.values(pt.menu).forEach(Mt=>{const zi=Mt.day;if(bn[zi]){const wn=Ti=>Array.isArray(Ti)?Ti.join(", "):Ti||"N/A";bn[zi]={Breakfast:wn(Mt.meals?.breakfast?.items),Lunch:wn(Mt.meals?.lunch?.items),Snacks:wn(Mt.meals?.snacks?.items),Dinner:wn(Mt.meals?.dinner?.items)}}});const Kn=di(Yt,"messes",n);await Ad(Kn,{menu:bn,lastUpdated:new Date().toISOString()});const _i=t.find(Mt=>Mt.id===n)?.name||n;await W("AUTO_SYNC_MENU",`Auto-synced menu from FC2 for ${_i}`,n),h("success")}catch(oe){console.error("Auto Sync Error:",oe),h("error"),p(oe.message||"Failed to sync with FC2.")}}};return w.jsxs("div",{className:"min-h-screen bg-gray-50 relative",children:[w.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[w.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),w.jsx("div",{className:"absolute top-0 -left-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"})]}),w.jsx(zd,{}),w.jsx("main",{className:"relative z-10 pt-24 pb-12 px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto",children:w.jsxs(Kt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/50 overflow-hidden",children:[w.jsxs("div",{className:"p-8 border-b border-gray-100 flex justify-between items-center",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Menu Dashboard"}),w.jsx("p",{className:"text-gray-500 mt-2",children:"Update weekly menus using AI-powered image recognition"})]}),w.jsxs("div",{className:"flex gap-2",children:[y==="super_admin"&&w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>P(!0),className:"p-2 text-gray-500 hover:text-orange-600 hover:bg-orange-50 rounded-full transition-all",title:"Manage Access Codes",children:w.jsx(ty,{size:24})}),w.jsx("button",{onClick:()=>{N(!0),xe()},className:"p-2 text-gray-500 hover:text-orange-600 hover:bg-orange-50 rounded-full transition-all",title:"View History",children:w.jsx(Pw,{size:24})})]}),w.jsx("button",{onClick:Qe,className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-full transition-all",title:"Logout",children:w.jsx(OM,{size:24})})]})]}),w.jsxs("div",{className:"p-8",children:[w.jsxs("div",{className:"mb-8 flex items-end gap-4",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Mess"}),w.jsx("select",{value:n,onChange:oe=>s(oe.target.value),disabled:y==="mess_admin",className:`w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none bg-white/50 ${y==="mess_admin"?"opacity-70 cursor-not-allowed":""}`,children:t.map(oe=>w.jsx("option",{value:oe.id,children:oe.name},oe.id))})]}),y==="super_admin"&&w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>O(!0),className:"p-3 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",title:"Add New Mess",children:w.jsx(BM,{size:24})}),w.jsx("button",{onClick:he,className:"p-3 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",title:"Delete Selected Mess",children:w.jsx(c1,{size:24})})]})]}),w.jsxs(zr,{mode:"wait",children:[u==="idle"&&w.jsxs(Kt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`border-3 border-dashed rounded-2xl p-12 text-center transition-all duration-300 ${a?"border-orange-500 bg-orange-50":"border-gray-300 hover:border-orange-400 hover:bg-gray-50"}`,onDragOver:Ve,onDragLeave:U,onDrop:te,children:[w.jsx("div",{className:"bg-orange-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:w.jsx(Ow,{className:"text-orange-600",size:40})}),w.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Drag & Drop Menu Image"}),w.jsx("p",{className:"text-gray-500 mb-6",children:"or click to browse files"}),w.jsx("input",{type:"file",id:"file-upload",className:"hidden",onChange:oe=>{oe.target.files.length>0&&Te(oe.target.files[0])},accept:"image/*"}),w.jsxs("div",{className:"flex flex-col items-center gap-4",children:[w.jsx("label",{htmlFor:"file-upload",className:"px-6 py-2 bg-white border border-gray-200 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors shadow-sm cursor-pointer",children:"Browse Files"}),(t.find(oe=>oe.id===n)?.name?.toLowerCase().includes("food court 2")||t.find(oe=>oe.id===n)?.name?.toLowerCase().includes("fc2"))&&w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-sm",children:[w.jsx("span",{className:"h-px w-12 bg-gray-200"}),w.jsx("span",{children:"OR"}),w.jsx("span",{className:"h-px w-12 bg-gray-200"})]}),w.jsxs("button",{onClick:Ce,className:"px-6 py-2 bg-blue-50 text-blue-600 border border-blue-100 rounded-lg font-medium hover:bg-blue-100 transition-colors shadow-sm flex items-center gap-2",children:[w.jsx(HM,{size:18})," Sync with FC2"]})]})]})]}),(u==="uploading"||u==="processing")&&w.jsxs(Kt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0},className:"border rounded-2xl p-12 text-center bg-white/50",children:[w.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-6",children:[w.jsx("div",{className:"absolute inset-0 border-4 border-orange-100 rounded-full"}),w.jsx("div",{className:"absolute inset-0 border-4 border-orange-500 rounded-full border-t-transparent animate-spin"}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u==="uploading"?w.jsx(Ow,{className:"text-orange-500 animate-pulse",size:32}):w.jsx(NM,{className:"text-orange-500 animate-pulse",size:32})})]}),w.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:u==="uploading"?"Uploading Image...":"Processing Menu..."}),w.jsx("p",{className:"text-gray-500",children:u==="uploading"?"Sending to server":"Extracting menu items..."})]}),u==="success"&&w.jsxs(Kt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"border border-green-200 bg-green-50/50 rounded-2xl p-12 text-center",children:[w.jsx("div",{className:"bg-green-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:w.jsx(l1,{className:"text-green-600",size:40})}),w.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Menu Updated Successfully!"}),w.jsxs("p",{className:"text-gray-600 mb-6",children:["The menu for ",w.jsx("span",{className:"font-semibold",children:t.find(oe=>oe.id===n)?.name})," has been updated."]}),w.jsx("button",{onClick:()=>h("idle"),className:"px-6 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors shadow-lg",children:"Upload Another"})]}),u==="error"&&w.jsxs(Kt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"border border-red-200 bg-red-50/50 rounded-2xl p-8 text-center",children:[w.jsx("h3",{className:"text-xl font-semibold text-red-900 mb-2",children:"Upload Failed"}),w.jsx("p",{className:"text-red-600 mb-6 font-mono text-sm bg-red-100 p-3 rounded",children:d}),w.jsx("button",{onClick:()=>h("idle"),className:"px-6 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors shadow-lg",children:"Try Again"})]})]})]})]})}),w.jsx(zr,{children:D&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:w.jsxs(Kt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:[w.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[w.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add New Mess"}),w.jsx("button",{onClick:()=>O(!1),className:"text-gray-400 hover:text-gray-600",children:w.jsx(Ja,{size:24})})]}),w.jsxs("form",{onSubmit:ce,className:"p-6 space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mess Name"}),w.jsx("input",{type:"text",value:z,onChange:oe=>F(oe.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",placeholder:"e.g., New Hostel Mess",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Theme Color"}),w.jsxs("select",{value:ae,onChange:oe=>re(oe.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",children:[w.jsx("option",{value:"from-orange-500 to-red-500",children:"Orange (Default)"}),w.jsx("option",{value:"from-blue-500 to-cyan-500",children:"Blue"}),w.jsx("option",{value:"from-green-500 to-emerald-500",children:"Green"}),w.jsx("option",{value:"from-purple-500 to-pink-500",children:"Purple"}),w.jsx("option",{value:"from-pink-500 to-rose-500",children:"Pink"})]})]}),w.jsxs("div",{className:"pt-4 flex gap-3",children:[w.jsx("button",{type:"button",onClick:()=>O(!1),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),w.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-colors",children:"Create Mess"})]})]})]})})}),w.jsx(zr,{children:J&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:w.jsxs(Kt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[80vh]",children:[w.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center shrink-0",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(Pw,{className:"text-orange-600",size:24}),w.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Activity History"})]}),w.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:w.jsx(Ja,{size:24})})]}),w.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:j?w.jsx("div",{className:"space-y-4",children:[1,2,3].map(oe=>w.jsxs("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[w.jsx("div",{className:"mt-1",children:w.jsx("div",{className:"w-8 h-8 rounded-full skeleton-loader"})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("div",{className:"h-4 w-3/4 mb-2 rounded skeleton-loader"}),w.jsx("div",{className:"h-3 w-1/2 rounded skeleton-loader"})]})]},oe))}):x.length===0?w.jsx("p",{className:"text-center text-gray-500 py-8",children:"No activity recorded yet."}):w.jsx("div",{className:"space-y-4",children:x.map(oe=>w.jsxs("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[w.jsx("div",{className:"mt-1",children:w.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm",children:w.jsx(td,{size:16,className:"text-gray-500"})})}),w.jsxs("div",{children:[w.jsx("p",{className:"font-medium text-gray-900",children:oe.details}),w.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 mt-1 text-xs text-gray-500",children:[w.jsx("span",{className:"font-semibold text-orange-600 whitespace-nowrap",children:oe.adminName||oe.adminEmail}),oe.adminName&&w.jsxs("span",{className:"text-gray-400 break-all",children:["(",oe.adminEmail,")"]}),w.jsx("span",{className:"hidden sm:inline",children:""}),w.jsx("span",{className:"w-full sm:w-auto text-gray-400",children:new Date(oe.timestamp).toLocaleString()})]})]})]},oe.id))})})]})})}),w.jsx(zr,{children:H&&w.jsx(D8,{onClose:()=>P(!1)})})]})};class P8 extends hi.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){this.setState({error:e,errorInfo:n}),console.error("Uncaught error:",e,n)}render(){return this.state.hasError?w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:w.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-lg w-full border border-red-100",children:[w.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),w.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg overflow-auto max-h-64 mb-4 text-sm font-mono text-gray-800",children:[this.state.error&&this.state.error.toString(),w.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]}),w.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Reload Page"})]})}):this.props.children}}const V8=()=>{const[t,e]=V.useState(""),[n,s]=V.useState("idle"),[a,l]=V.useState(""),u=async h=>{if(h.preventDefault(),!!t){s("processing"),l("Starting system reset...");try{l("Removing existing user roles...");const d=Fr(Yt,"users"),y=(await xc(d)).docs.map(S=>LR(S.ref));await Promise.all(y),l("Creating Super Admin privileges...");const T=`${t.trim().replace(/\s+/g,"_").toLowerCase()}@mitmess.com`;await Sd(di(Yt,"users",T),{email:T,role:"super_admin",createdAt:new Date().toISOString()}),l("Setting up authentication...");try{await u2(qn,T,t),l("System reset complete! Super Admin created.")}catch(S){if(S.code==="auth/email-already-in-use")l("System reset complete! (Admin account already existed, permissions restored).");else throw S}s("success")}catch(d){console.error("Reset failed:",d),s("error"),l(`Failed: ${d.message}`)}}};return w.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:w.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl overflow-hidden border border-red-100",children:[w.jsxs("div",{className:"bg-red-50 p-6 border-b border-red-100 flex items-center gap-4",children:[w.jsx("div",{className:"p-3 bg-red-100 text-red-600 rounded-full",children:w.jsx(h1,{size:24})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-xl font-bold text-red-900",children:"System Reset"}),w.jsx("p",{className:"text-red-600 text-sm",children:"Emergency Recovery Tool"})]})]}),w.jsxs("div",{className:"p-6",children:[w.jsxs("p",{className:"text-gray-600 mb-6 text-sm",children:["This tool will ",w.jsx("strong",{children:"delete all existing user roles"})," from the database and allow you to create a new Super Admin account.",w.jsx("br",{}),w.jsx("br",{}),"Use this if you have lost access to the Super Admin account."]}),n==="success"?w.jsxs("div",{className:"text-center py-6",children:[w.jsx("div",{className:"w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:w.jsx(l1,{size:32})}),w.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Reset Successful"}),w.jsx("p",{className:"text-gray-600 mb-6",children:a}),w.jsx("a",{href:"/admin",className:"inline-block w-full py-3 px-4 bg-gray-900 text-white rounded-xl font-medium hover:bg-gray-800 transition-colors",children:"Go to Login"})]}):w.jsxs("form",{onSubmit:u,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Super Admin Access Code"}),w.jsxs("div",{className:"relative",children:[w.jsx(u1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),w.jsx("input",{type:"text",value:t,onChange:h=>e(h.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-red-500 outline-none transition-all",placeholder:"Enter new code (e.g. admin123)",required:!0,disabled:n==="processing"})]})]}),n==="error"&&w.jsx("div",{className:"p-3 bg-red-50 text-red-600 text-sm rounded-lg",children:a}),w.jsx("button",{type:"submit",disabled:n==="processing"||!t,className:"w-full py-3 px-4 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:n==="processing"?w.jsxs(w.Fragment,{children:[w.jsx(MM,{className:"animate-spin",size:20}),"Resetting..."]}):"Reset System & Create Admin"})]})]})]})})};function O8(){return w.jsx(P8,{children:w.jsx(sM,{children:w.jsxs(OD,{children:[w.jsx(sl,{path:"/",element:w.jsx(fB,{})}),w.jsx(sl,{path:"/mess/:id",element:w.jsx(x8,{})}),w.jsx(sl,{path:"/admin",element:w.jsx(C8,{})}),w.jsx(sl,{path:"/admin/dashboard",element:w.jsx(M8,{})}),w.jsx(sl,{path:"/system-reset",element:w.jsx(V8,{})})]})})})}HI.createRoot(document.getElementById("root")).render(w.jsx(V.StrictMode,{children:w.jsx(O8,{})}));
