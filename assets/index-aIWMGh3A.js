(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function _D(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rg={exports:{}},ku={};var ob;function TD(){if(ob)return ku;ob=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:l}}return ku.Fragment=e,ku.jsx=n,ku.jsxs=n,ku}var lb;function ED(){return lb||(lb=1,rg.exports=TD()),rg.exports}var A=ED(),sg={exports:{}},Ce={};var ub;function bD(){if(ub)return Ce;ub=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),T=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,N={};function j(M,$,oe){this.props=M,this.context=$,this.refs=N,this.updater=oe||x}j.prototype.isReactComponent={},j.prototype.setState=function(M,$){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,$,"setState")},j.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function B(){}B.prototype=j.prototype;function F(M,$,oe){this.props=M,this.context=$,this.refs=N,this.updater=oe||x}var se=F.prototype=new B;se.constructor=F,P(se,j.prototype),se.isPureReactComponent=!0;var re=Array.isArray;function le(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function D(M,$,oe){var ce=oe.ref;return{$$typeof:t,type:M,key:$,ref:ce!==void 0?ce:null,props:oe}}function U(M,$){return D(M.type,$,M.props)}function k(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function H(M){var $={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(oe){return $[oe]})}var V=/\/+/g;function Fe(M,$){return typeof M=="object"&&M!==null&&M.key!=null?H(""+M.key):$.toString(36)}function Xe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(le,le):(M.status="pending",M.then(function($){M.status==="pending"&&(M.status="fulfilled",M.value=$)},function($){M.status==="pending"&&(M.status="rejected",M.reason=$)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Z(M,$,oe,ce,_e){var Se=typeof M;(Se==="undefined"||Se==="boolean")&&(M=null);var Me=!1;if(M===null)Me=!0;else switch(Se){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(M.$$typeof){case t:case e:Me=!0;break;case y:return Me=M._init,Z(Me(M._payload),$,oe,ce,_e)}}if(Me)return _e=_e(M),Me=ce===""?"."+Fe(M,0):ce,re(_e)?(oe="",Me!=null&&(oe=Me.replace(V,"$&/")+"/"),Z(_e,$,oe,"",function(hi){return hi})):_e!=null&&(k(_e)&&(_e=U(_e,oe+(_e.key==null||M&&M.key===_e.key?"":(""+_e.key).replace(V,"$&/")+"/")+Me)),$.push(_e)),1;Me=0;var ut=ce===""?".":ce+":";if(re(M))for(var $e=0;$e<M.length;$e++)ce=M[$e],Se=ut+Fe(ce,$e),Me+=Z(ce,$,oe,Se,_e);else if($e=S(M),typeof $e=="function")for(M=$e.call(M),$e=0;!(ce=M.next()).done;)ce=ce.value,Se=ut+Fe(ce,$e++),Me+=Z(ce,$,oe,Se,_e);else if(Se==="object"){if(typeof M.then=="function")return Z(Xe(M),$,oe,ce,_e);throw $=String(M),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Me}function ae(M,$,oe){if(M==null)return M;var ce=[],_e=0;return Z(M,ce,"","",function(Se){return $.call(oe,Se,_e++)}),ce}function fe(M){if(M._status===-1){var $=M._result;$=$(),$.then(function(oe){(M._status===0||M._status===-1)&&(M._status=1,M._result=oe)},function(oe){(M._status===0||M._status===-1)&&(M._status=2,M._result=oe)}),M._status===-1&&(M._status=0,M._result=$)}if(M._status===1)return M._result.default;throw M._result}var we=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},De={map:ae,forEach:function(M,$,oe){ae(M,function(){$.apply(this,arguments)},oe)},count:function(M){var $=0;return ae(M,function(){$++}),$},toArray:function(M){return ae(M,function($){return $})||[]},only:function(M){if(!k(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ce.Activity=v,Ce.Children=De,Ce.Component=j,Ce.Fragment=n,Ce.Profiler=a,Ce.PureComponent=F,Ce.StrictMode=r,Ce.Suspense=d,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},Ce.cache=function(M){return function(){return M.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(M,$,oe){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ce=P({},M.props),_e=M.key;if($!=null)for(Se in $.key!==void 0&&(_e=""+$.key),$)!R.call($,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&$.ref===void 0||(ce[Se]=$[Se]);var Se=arguments.length-2;if(Se===1)ce.children=oe;else if(1<Se){for(var Me=Array(Se),ut=0;ut<Se;ut++)Me[ut]=arguments[ut+2];ce.children=Me}return D(M.type,_e,ce)},Ce.createContext=function(M){return M={$$typeof:u,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},Ce.createElement=function(M,$,oe){var ce,_e={},Se=null;if($!=null)for(ce in $.key!==void 0&&(Se=""+$.key),$)R.call($,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(_e[ce]=$[ce]);var Me=arguments.length-2;if(Me===1)_e.children=oe;else if(1<Me){for(var ut=Array(Me),$e=0;$e<Me;$e++)ut[$e]=arguments[$e+2];_e.children=ut}if(M&&M.defaultProps)for(ce in Me=M.defaultProps,Me)_e[ce]===void 0&&(_e[ce]=Me[ce]);return D(M,Se,_e)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(M){return{$$typeof:h,render:M}},Ce.isValidElement=k,Ce.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:fe}},Ce.memo=function(M,$){return{$$typeof:p,type:M,compare:$===void 0?null:$}},Ce.startTransition=function(M){var $=I.T,oe={};I.T=oe;try{var ce=M(),_e=I.S;_e!==null&&_e(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(le,we)}catch(Se){we(Se)}finally{$!==null&&oe.types!==null&&($.types=oe.types),I.T=$}},Ce.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ce.use=function(M){return I.H.use(M)},Ce.useActionState=function(M,$,oe){return I.H.useActionState(M,$,oe)},Ce.useCallback=function(M,$){return I.H.useCallback(M,$)},Ce.useContext=function(M){return I.H.useContext(M)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(M,$){return I.H.useDeferredValue(M,$)},Ce.useEffect=function(M,$){return I.H.useEffect(M,$)},Ce.useEffectEvent=function(M){return I.H.useEffectEvent(M)},Ce.useId=function(){return I.H.useId()},Ce.useImperativeHandle=function(M,$,oe){return I.H.useImperativeHandle(M,$,oe)},Ce.useInsertionEffect=function(M,$){return I.H.useInsertionEffect(M,$)},Ce.useLayoutEffect=function(M,$){return I.H.useLayoutEffect(M,$)},Ce.useMemo=function(M,$){return I.H.useMemo(M,$)},Ce.useOptimistic=function(M,$){return I.H.useOptimistic(M,$)},Ce.useReducer=function(M,$,oe){return I.H.useReducer(M,$,oe)},Ce.useRef=function(M){return I.H.useRef(M)},Ce.useState=function(M){return I.H.useState(M)},Ce.useSyncExternalStore=function(M,$,oe){return I.H.useSyncExternalStore(M,$,oe)},Ce.useTransition=function(){return I.H.useTransition()},Ce.version="19.2.0",Ce}var cb;function Gy(){return cb||(cb=1,sg.exports=bD()),sg.exports}var L=Gy();const ri=_D(L);var ag={exports:{}},Lu={},og={exports:{}},lg={};var hb;function wD(){return hb||(hb=1,(function(t){function e(Z,ae){var fe=Z.length;Z.push(ae);e:for(;0<fe;){var we=fe-1>>>1,De=Z[we];if(0<a(De,ae))Z[we]=ae,Z[fe]=De,fe=we;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ae=Z[0],fe=Z.pop();if(fe!==ae){Z[0]=fe;e:for(var we=0,De=Z.length,M=De>>>1;we<M;){var $=2*(we+1)-1,oe=Z[$],ce=$+1,_e=Z[ce];if(0>a(oe,fe))ce<De&&0>a(_e,oe)?(Z[we]=_e,Z[ce]=fe,we=ce):(Z[we]=oe,Z[$]=fe,we=$);else if(ce<De&&0>a(_e,fe))Z[we]=_e,Z[ce]=fe,we=ce;else break e}}return ae}function a(Z,ae){var fe=Z.sortIndex-ae.sortIndex;return fe!==0?fe:Z.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],y=1,v=null,T=3,S=!1,x=!1,P=!1,N=!1,j=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function se(Z){for(var ae=n(p);ae!==null;){if(ae.callback===null)r(p);else if(ae.startTime<=Z)r(p),ae.sortIndex=ae.expirationTime,e(d,ae);else break;ae=n(p)}}function re(Z){if(P=!1,se(Z),!x)if(n(d)!==null)x=!0,le||(le=!0,H());else{var ae=n(p);ae!==null&&Xe(re,ae.startTime-Z)}}var le=!1,I=-1,R=5,D=-1;function U(){return N?!0:!(t.unstable_now()-D<R)}function k(){if(N=!1,le){var Z=t.unstable_now();D=Z;var ae=!0;try{e:{x=!1,P&&(P=!1,B(I),I=-1),S=!0;var fe=T;try{t:{for(se(Z),v=n(d);v!==null&&!(v.expirationTime>Z&&U());){var we=v.callback;if(typeof we=="function"){v.callback=null,T=v.priorityLevel;var De=we(v.expirationTime<=Z);if(Z=t.unstable_now(),typeof De=="function"){v.callback=De,se(Z),ae=!0;break t}v===n(d)&&r(d),se(Z)}else r(d);v=n(d)}if(v!==null)ae=!0;else{var M=n(p);M!==null&&Xe(re,M.startTime-Z),ae=!1}}break e}finally{v=null,T=fe,S=!1}ae=void 0}}finally{ae?H():le=!1}}}var H;if(typeof F=="function")H=function(){F(k)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Fe=V.port2;V.port1.onmessage=k,H=function(){Fe.postMessage(null)}}else H=function(){j(k,0)};function Xe(Z,ae){I=j(function(){Z(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(Z){switch(T){case 1:case 2:case 3:var ae=3;break;default:ae=T}var fe=T;T=ae;try{return Z()}finally{T=fe}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(Z,ae){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var fe=T;T=Z;try{return ae()}finally{T=fe}},t.unstable_scheduleCallback=function(Z,ae,fe){var we=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?we+fe:we):fe=we,Z){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=fe+De,Z={id:y++,callback:ae,priorityLevel:Z,startTime:fe,expirationTime:De,sortIndex:-1},fe>we?(Z.sortIndex=fe,e(p,Z),n(d)===null&&Z===n(p)&&(P?(B(I),I=-1):P=!0,Xe(re,fe-we))):(Z.sortIndex=De,e(d,Z),x||S||(x=!0,le||(le=!0,H()))),Z},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(Z){var ae=T;return function(){var fe=T;T=ae;try{return Z.apply(this,arguments)}finally{T=fe}}}})(lg)),lg}var fb;function SD(){return fb||(fb=1,og.exports=wD()),og.exports}var ug={exports:{}},sn={};var db;function AD(){if(db)return sn;db=1;var t=Gy();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:p,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sn.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,y)},sn.flushSync=function(d){var p=u.T,y=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=p,r.p=y,r.d.f()}},sn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},sn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},sn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:S}):y==="script"&&r.d.X(d,{crossOrigin:v,integrity:T,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},sn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},sn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);r.d.L(d,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},sn.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=h(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},sn.requestFormReset=function(d){r.d.r(d)},sn.unstable_batchedUpdates=function(d,p){return d(p)},sn.useFormState=function(d,p,y){return u.H.useFormState(d,p,y)},sn.useFormStatus=function(){return u.H.useHostTransitionStatus()},sn.version="19.2.0",sn}var mb;function CD(){if(mb)return ug.exports;mb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ug.exports=AD(),ug.exports}var pb;function RD(){if(pb)return Lu;pb=1;var t=SD(),e=Gy(),n=CD();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,c=s;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return d(m),i;if(g===c)return d(m),s;g=g.sibling}throw Error(r(188))}if(o.return!==c.return)o=m,c=g;else{for(var E=!1,w=m.child;w;){if(w===o){E=!0,o=m,c=g;break}if(w===c){E=!0,c=m,o=g;break}w=w.sibling}if(!E){for(w=g.child;w;){if(w===o){E=!0,o=g,c=m;break}if(w===c){E=!0,c=g,o=m;break}w=w.sibling}if(!E)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function y(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=y(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),F=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function Fe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case j:return"Profiler";case N:return"StrictMode";case re:return"Suspense";case le:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case F:return i.displayName||"Context";case B:return(i._context.displayName||"Context")+".Consumer";case se:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return s=i.displayName||null,s!==null?s:Fe(i.type)||"Memo";case R:s=i._payload,i=i._init;try{return Fe(i(s))}catch{}}return null}var Xe=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},we=[],De=-1;function M(i){return{current:i}}function $(i){0>De||(i.current=we[De],we[De]=null,De--)}function oe(i,s){De++,we[De]=i.current,i.current=s}var ce=M(null),_e=M(null),Se=M(null),Me=M(null);function ut(i,s){switch(oe(Se,s),oe(_e,i),oe(ce,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?DE(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=DE(s),i=NE(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}$(ce),oe(ce,i)}function $e(){$(ce),$(_e),$(Se)}function hi(i){i.memoizedState!==null&&oe(Me,i);var s=ce.current,o=NE(s,i.type);s!==o&&(oe(_e,i),oe(ce,o))}function Pi(i){_e.current===i&&($(ce),$(_e)),Me.current===i&&($(Me),Mu._currentValue=fe)}var fi,Vi;function In(i){if(fi===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);fi=s&&s[1]||"",Vi=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fi+i+Vi}var ra=!1;function gr(i,s){if(!i||ra)return"";ra=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(W){var X=W}Reflect.construct(i,[],ne)}else{try{ne.call()}catch(W){X=W}i.call(ne.prototype)}}else{try{throw Error()}catch(W){X=W}(ne=i())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(W){if(W&&X&&typeof W.stack=="string")return[W.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),E=g[0],w=g[1];if(E&&w){var O=E.split(`
`),K=w.split(`
`);for(m=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;if(c===O.length||m===K.length)for(c=O.length-1,m=K.length-1;1<=c&&0<=m&&O[c]!==K[m];)m--;for(;1<=c&&0<=m;c--,m--)if(O[c]!==K[m]){if(c!==1||m!==1)do if(c--,m--,0>m||O[c]!==K[m]){var J=`
`+O[c].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=c&&0<=m);break}}}finally{ra=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?In(o):""}function Bn(i,s){switch(i.tag){case 26:case 27:case 5:return In(i.type);case 16:return In("Lazy");case 13:return i.child!==s&&s!==null?In("Suspense Fallback"):In("Suspense");case 19:return In("SuspenseList");case 0:case 15:return gr(i.type,!1);case 11:return gr(i.type.render,!1);case 1:return gr(i.type,!0);case 31:return In("Activity");default:return""}}function sa(i){try{var s="",o=null;do s+=Bn(i,o),o=i,i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var xt=Object.prototype.hasOwnProperty,Bt=t.unstable_scheduleCallback,Qr=t.unstable_cancelCallback,am=t.unstable_shouldYield,qc=t.unstable_requestPaint,fn=t.unstable_now,aa=t.unstable_getCurrentPriorityLevel,Ol=t.unstable_ImmediatePriority,kl=t.unstable_UserBlockingPriority,Wr=t.unstable_NormalPriority,om=t.unstable_LowPriority,Gc=t.unstable_IdlePriority,Yc=t.log,Kc=t.unstable_setDisableYieldValue,di=null,Xt=null;function Fn(i){if(typeof Yc=="function"&&Kc(i),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(di,i)}catch{}}var bt=Math.clz32?Math.clz32:$c,Xc=Math.log,oo=Math.LN2;function $c(i){return i>>>=0,i===0?32:31-(Xc(i)/oo|0)|0}var Oi=256,oa=262144,It=4194304;function ki(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Li(i,s,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,g=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var w=c&134217727;return w!==0?(c=w&~g,c!==0?m=ki(c):(E&=w,E!==0?m=ki(E):o||(o=w&~i,o!==0&&(m=ki(o))))):(w=c&~g,w!==0?m=ki(w):E!==0?m=ki(E):o||(o=c&~i,o!==0&&(m=ki(o)))),m===0?0:s!==0&&s!==m&&(s&g)===0&&(g=m&-m,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:m}function mi(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function lm(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qc(){var i=It;return It<<=1,(It&62914560)===0&&(It=4194304),i}function Ui(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function la(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function um(i,s,o,c,m,g){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var w=i.entanglements,O=i.expirationTimes,K=i.hiddenUpdates;for(o=E&~o;0<o;){var J=31-bt(o),ne=1<<J;w[J]=0,O[J]=-1;var X=K[J];if(X!==null)for(K[J]=null,J=0;J<X.length;J++){var W=X[J];W!==null&&(W.lane&=-536870913)}o&=~ne}c!==0&&ua(i,c,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(E&~s))}function ua(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-bt(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function Ll(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var c=31-bt(o),m=1<<c;m&s|i[c]&s&&(i[c]|=s),o&=~m}}function Ul(i,s){var o=s&-s;return o=(o&42)!==0?1:ca(o),(o&(i.suspendedLanes|s))!==0?0:o}function ca(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function yr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Wc(){var i=ae.p;return i!==0?i:(i=window.event,i===void 0?32:eb(i.type))}function pi(i,s){var o=ae.p;try{return ae.p=i,s()}finally{ae.p=o}}var gi=Math.random().toString(36).slice(2),Dt="__reactFiber$"+gi,qt="__reactProps$"+gi,ji="__reactContainer$"+gi,lo="__reactEvents$"+gi,cm="__reactListeners$"+gi,Zc="__reactHandles$"+gi,Jc="__reactResources$"+gi,zi="__reactMarker$"+gi;function uo(i){delete i[Dt],delete i[qt],delete i[lo],delete i[cm],delete i[Zc]}function Bi(i){var s=i[Dt];if(s)return s;for(var o=i.parentNode;o;){if(s=o[ji]||o[Dt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=UE(i);i!==null;){if(o=i[Dt])return o;i=UE(i)}return s}i=o,o=i.parentNode}return null}function Hn(i){if(i=i[Dt]||i[ji]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Dn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Fi(i){var s=i[Jc];return s||(s=i[Jc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Nt(i){i[zi]=!0}var jl=new Set,zl={};function Hi(i,s){qi(i,s),qi(i+"Capture",s)}function qi(i,s){for(zl[i]=s,i=0;i<s.length;i++)jl.add(s[i])}var Bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fl={},Hl={};function eh(i){return xt.call(Hl,i)?!0:xt.call(Fl,i)?!1:Bl.test(i)?Hl[i]=!0:(Fl[i]=!0,!1)}function co(i,s,o){if(eh(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Nn(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Mt(i,s,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+c)}}function Gt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Zr(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ql(i,s,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(E){o=""+E,g.call(this,E)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Qe(i){if(!i._valueTracker){var s=Zr(i)?"checked":"value";i._valueTracker=ql(i,s,""+i[s])}}function ha(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return i&&(c=Zr(i)?i.checked?"true":"false":i.value),i=c,i!==o?(s.setValue(i),!0):!1}function Gi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var fa=/[\n"\\]/g;function vn(i){return i.replace(fa,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ho(i,s,o,c,m,g,E,w){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),s!=null?E==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Gt(s)):i.value!==""+Gt(s)&&(i.value=""+Gt(s)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),s!=null?Gl(i,E,Gt(s)):o!=null?Gl(i,E,Gt(o)):c!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.name=""+Gt(w):i.removeAttribute("name")}function th(i,s,o,c,m,g,E,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){Qe(i);return}o=o!=null?""+Gt(o):"",s=s!=null?""+Gt(s):o,w||s===i.value||(i.value=s),i.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=w?i.checked:!!c,i.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E),Qe(i)}function Gl(i,s,o){s==="number"&&Gi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Jr(i,s,o,c){if(i=i.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=s.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Gt(o),s=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function nh(i,s,o){if(s!=null&&(s=""+Gt(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+Gt(o):""}function es(i,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(r(92));if(Xe(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Gt(s),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),Qe(i)}function _n(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var ih=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yl(i,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,o):typeof o!="number"||o===0||ih.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Kl(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&o[m]!==c&&Yl(i,m,c)}else for(var g in s)s.hasOwnProperty(g)&&Yl(i,g,s[g])}function fo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ts=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mo(i){return ts.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function yi(){}var Xl=null;function qn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ns=null,Yi=null;function da(i){var s=Hn(i);if(s&&(i=s.stateNode)){var o=i[qt]||null;e:switch(i=s.stateNode,s.type){case"input":if(ho(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+vn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==i&&c.form===i.form){var m=c[qt]||null;if(!m)throw Error(r(90));ho(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===i.form&&ha(c)}break e;case"textarea":nh(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Jr(i,!!o.multiple,s,!1)}}}var po=!1;function is(i,s,o){if(po)return i(s,o);po=!0;try{var c=i(s);return c}finally{if(po=!1,(ns!==null||Yi!==null)&&(Wh(),ns&&(s=ns,i=Yi,Yi=ns=null,da(s),i)))for(s=0;s<i.length;s++)da(i[s])}}function vi(i,s){var o=i.stateNode;if(o===null)return null;var c=o[qt]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ma=!1;if(Gn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){ma=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{ma=!1}var Ki=null,$l=null,pa=null;function Ql(){if(pa)return pa;var i,s=$l,o=s.length,c,m="value"in Ki?Ki.value:Ki.textContent,g=m.length;for(i=0;i<o&&s[i]===m[i];i++);var E=o-i;for(c=1;c<=E&&s[o-c]===m[g-c];c++);return pa=m.slice(i,1<c?1-c:void 0)}function ga(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function vr(){return!0}function _i(){return!1}function $t(i){function s(o,c,m,g,E){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var w in i)i.hasOwnProperty(w)&&(o=i[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?vr:_i,this.isPropagationStopped=_i,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),s}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=$t(_r),rs=v({},_r,{view:0,detail:0}),Wl=$t(rs),ss,go,$i,yo=v({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:as,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==$i&&($i&&i.type==="mousemove"?(ss=i.screenX-$i.screenX,go=i.screenY-$i.screenY):go=ss=0,$i=i),ss)},movementY:function(i){return"movementY"in i?i.movementY:go}}),Zl=$t(yo),ya=v({},yo,{dataTransfer:0}),sh=$t(ya),ah=v({},rs,{relatedTarget:0}),va=$t(ah),Jl=v({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),oh=$t(Jl),vo=v({},_r,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),lh=$t(vo),uh=v({},_r,{data:0}),Qi=$t(uh),ch={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dh(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=fh[i])?!!s[i]:!1}function as(){return dh}var dn=v({},rs,{key:function(i){if(i.key){var s=ch[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ga(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?hh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:as,charCode:function(i){return i.type==="keypress"?ga(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ga(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),mh=$t(dn),ph=v({},yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tr=$t(ph),f=v({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:as}),_=$t(f),b=v({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=$t(b),G=v({},yo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=$t(G),ue=v({},_r,{newState:0,oldState:0}),xe=$t(ue),wt=[9,13,27,32],Ge=Gn&&"CompositionEvent"in window,ct=null;Gn&&"documentMode"in document&&(ct=document.documentMode);var Yn=Gn&&"TextEvent"in window&&!ct,Wi=Gn&&(!Ge||ct&&8<ct&&11>=ct),Ti=" ",Ei=!1;function _a(i,s){switch(i){case"keyup":return wt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _o(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var To=!1;function H2(i,s){switch(i){case"compositionend":return _o(s);case"keypress":return s.which!==32?null:(Ei=!0,Ti);case"textInput":return i=s.data,i===Ti&&Ei?null:i;default:return null}}function q2(i,s){if(To)return i==="compositionend"||!Ge&&_a(i,s)?(i=Ql(),pa=$l=Ki=null,To=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Wi&&s.locale!=="ko"?null:s.data;default:return null}}var G2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function B0(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!G2[i.type]:s==="textarea"}function F0(i,s,o,c){ns?Yi?Yi.push(c):Yi=[c]:ns=c,s=sf(s,"onChange"),0<s.length&&(o=new Xi("onChange","change",null,o,c),i.push({event:o,listeners:s}))}var eu=null,tu=null;function Y2(i){SE(i,0)}function gh(i){var s=Dn(i);if(ha(s))return i}function H0(i,s){if(i==="change")return s}var q0=!1;if(Gn){var hm;if(Gn){var fm="oninput"in document;if(!fm){var G0=document.createElement("div");G0.setAttribute("oninput","return;"),fm=typeof G0.oninput=="function"}hm=fm}else hm=!1;q0=hm&&(!document.documentMode||9<document.documentMode)}function Y0(){eu&&(eu.detachEvent("onpropertychange",K0),tu=eu=null)}function K0(i){if(i.propertyName==="value"&&gh(tu)){var s=[];F0(s,tu,i,qn(i)),is(Y2,s)}}function K2(i,s,o){i==="focusin"?(Y0(),eu=s,tu=o,eu.attachEvent("onpropertychange",K0)):i==="focusout"&&Y0()}function X2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return gh(tu)}function $2(i,s){if(i==="click")return gh(s)}function Q2(i,s){if(i==="input"||i==="change")return gh(s)}function W2(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Mn=typeof Object.is=="function"?Object.is:W2;function nu(i,s){if(Mn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!xt.call(s,m)||!Mn(i[m],s[m]))return!1}return!0}function X0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function $0(i,s){var o=X0(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=s&&c>=s)return{node:o,offset:s-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=X0(o)}}function Q0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Q0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function W0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Gi(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Gi(i.document)}return s}function dm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var Z2=Gn&&"documentMode"in document&&11>=document.documentMode,Eo=null,mm=null,iu=null,pm=!1;function Z0(i,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;pm||Eo==null||Eo!==Gi(c)||(c=Eo,"selectionStart"in c&&dm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),iu&&nu(iu,c)||(iu=c,c=sf(mm,"onSelect"),0<c.length&&(s=new Xi("onSelect","select",null,s,o),i.push({event:s,listeners:c}),s.target=Eo)))}function Ta(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var bo={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionrun:Ta("Transition","TransitionRun"),transitionstart:Ta("Transition","TransitionStart"),transitioncancel:Ta("Transition","TransitionCancel"),transitionend:Ta("Transition","TransitionEnd")},gm={},J0={};Gn&&(J0=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function Ea(i){if(gm[i])return gm[i];if(!bo[i])return i;var s=bo[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in J0)return gm[i]=s[o];return i}var e_=Ea("animationend"),t_=Ea("animationiteration"),n_=Ea("animationstart"),J2=Ea("transitionrun"),eI=Ea("transitionstart"),tI=Ea("transitioncancel"),i_=Ea("transitionend"),r_=new Map,ym="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ym.push("scrollEnd");function bi(i,s){r_.set(i,s),Hi(s,[i])}var yh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Kn=[],wo=0,vm=0;function vh(){for(var i=wo,s=vm=wo=0;s<i;){var o=Kn[s];Kn[s++]=null;var c=Kn[s];Kn[s++]=null;var m=Kn[s];Kn[s++]=null;var g=Kn[s];if(Kn[s++]=null,c!==null&&m!==null){var E=c.pending;E===null?m.next=m:(m.next=E.next,E.next=m),c.pending=m}g!==0&&s_(o,m,g)}}function _h(i,s,o,c){Kn[wo++]=i,Kn[wo++]=s,Kn[wo++]=o,Kn[wo++]=c,vm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function _m(i,s,o,c){return _h(i,s,o,c),Th(i)}function ba(i,s){return _h(i,null,null,s),Th(i)}function s_(i,s,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&s!==null&&(m=31-bt(o),i=g.hiddenUpdates,c=i[m],c===null?i[m]=[s]:c.push(s),s.lane=o|536870912),g):null}function Th(i){if(50<Au)throw Au=0,xp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var So={};function nI(i,s,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(i,s,o,c){return new nI(i,s,o,c)}function Tm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Er(i,s){var o=i.alternate;return o===null?(o=Pn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function a_(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Eh(i,s,o,c,m,g){var E=0;if(c=i,typeof i=="function")Tm(i)&&(E=1);else if(typeof i=="string")E=oD(i,o,ce.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=Pn(31,o,s,m),i.elementType=D,i.lanes=g,i;case P:return wa(o.children,m,g,s);case N:E=8,m|=24;break;case j:return i=Pn(12,o,s,m|2),i.elementType=j,i.lanes=g,i;case re:return i=Pn(13,o,s,m),i.elementType=re,i.lanes=g,i;case le:return i=Pn(19,o,s,m),i.elementType=le,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:E=10;break e;case B:E=9;break e;case se:E=11;break e;case I:E=14;break e;case R:E=16,c=null;break e}E=29,o=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=Pn(E,o,s,m),s.elementType=i,s.type=c,s.lanes=g,s}function wa(i,s,o,c){return i=Pn(7,i,c,s),i.lanes=o,i}function Em(i,s,o){return i=Pn(6,i,null,s),i.lanes=o,i}function o_(i){var s=Pn(18,null,null,0);return s.stateNode=i,s}function bm(i,s,o){return s=Pn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var l_=new WeakMap;function Xn(i,s){if(typeof i=="object"&&i!==null){var o=l_.get(i);return o!==void 0?o:(s={value:i,source:s,stack:sa(s)},l_.set(i,s),s)}return{value:i,source:s,stack:sa(s)}}var Ao=[],Co=0,bh=null,ru=0,$n=[],Qn=0,os=null,Zi=1,Ji="";function br(i,s){Ao[Co++]=ru,Ao[Co++]=bh,bh=i,ru=s}function u_(i,s,o){$n[Qn++]=Zi,$n[Qn++]=Ji,$n[Qn++]=os,os=i;var c=Zi;i=Ji;var m=32-bt(c)-1;c&=~(1<<m),o+=1;var g=32-bt(s)+m;if(30<g){var E=m-m%5;g=(c&(1<<E)-1).toString(32),c>>=E,m-=E,Zi=1<<32-bt(s)+m|o<<m|c,Ji=g+i}else Zi=1<<g|o<<m|c,Ji=i}function wm(i){i.return!==null&&(br(i,1),u_(i,1,0))}function Sm(i){for(;i===bh;)bh=Ao[--Co],Ao[Co]=null,ru=Ao[--Co],Ao[Co]=null;for(;i===os;)os=$n[--Qn],$n[Qn]=null,Ji=$n[--Qn],$n[Qn]=null,Zi=$n[--Qn],$n[Qn]=null}function c_(i,s){$n[Qn++]=Zi,$n[Qn++]=Ji,$n[Qn++]=os,Zi=s.id,Ji=s.overflow,os=i}var Qt=null,at=null,ze=!1,ls=null,Wn=!1,Am=Error(r(519));function us(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw su(Xn(s,i)),Am}function h_(i){var s=i.stateNode,o=i.type,c=i.memoizedProps;switch(s[Dt]=i,s[qt]=c,o){case"dialog":Ve("cancel",s),Ve("close",s);break;case"iframe":case"object":case"embed":Ve("load",s);break;case"video":case"audio":for(o=0;o<Ru.length;o++)Ve(Ru[o],s);break;case"source":Ve("error",s);break;case"img":case"image":case"link":Ve("error",s),Ve("load",s);break;case"details":Ve("toggle",s);break;case"input":Ve("invalid",s),th(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ve("invalid",s);break;case"textarea":Ve("invalid",s),es(s,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||xE(s.textContent,o)?(c.popover!=null&&(Ve("beforetoggle",s),Ve("toggle",s)),c.onScroll!=null&&Ve("scroll",s),c.onScrollEnd!=null&&Ve("scrollend",s),c.onClick!=null&&(s.onclick=yi),s=!0):s=!1,s||us(i,!0)}function f_(i){for(Qt=i.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:Qt=Qt.return}}function Ro(i){if(i!==Qt)return!1;if(!ze)return f_(i),ze=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Hp(i.type,i.memoizedProps)),o=!o),o&&at&&us(i),f_(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));at=LE(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));at=LE(i)}else s===27?(s=at,ws(i.type)?(i=Xp,Xp=null,at=i):at=s):at=Qt?Jn(i.stateNode.nextSibling):null;return!0}function Sa(){at=Qt=null,ze=!1}function Cm(){var i=ls;return i!==null&&(wn===null?wn=i:wn.push.apply(wn,i),ls=null),i}function su(i){ls===null?ls=[i]:ls.push(i)}var Rm=M(null),Aa=null,wr=null;function cs(i,s,o){oe(Rm,s._currentValue),s._currentValue=o}function Sr(i){i._currentValue=Rm.current,$(Rm)}function xm(i,s,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===o)break;i=i.return}}function Im(i,s,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var E=m.child;g=g.firstContext;e:for(;g!==null;){var w=g;g=m;for(var O=0;O<s.length;O++)if(w.context===s[O]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),xm(g.return,o,i),c||(E=null);break e}g=w.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(r(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),xm(E,o,i),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===i){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function xo(i,s,o,c){i=null;for(var m=s,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var w=m.type;Mn(m.pendingProps.value,E.value)||(i!==null?i.push(w):i=[w])}}else if(m===Me.current){if(E=m.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Mu):i=[Mu])}m=m.return}i!==null&&Im(s,i,o,c),s.flags|=262144}function wh(i){for(i=i.firstContext;i!==null;){if(!Mn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ca(i){Aa=i,wr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Wt(i){return d_(Aa,i)}function Sh(i,s){return Aa===null&&Ca(i),d_(i,s)}function d_(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},wr===null){if(i===null)throw Error(r(308));wr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else wr=wr.next=s;return o}var iI=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},rI=t.unstable_scheduleCallback,sI=t.unstable_NormalPriority,Pt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dm(){return{controller:new iI,data:new Map,refCount:0}}function au(i){i.refCount--,i.refCount===0&&rI(sI,function(){i.controller.abort()})}var ou=null,Nm=0,Io=0,Do=null;function aI(i,s){if(ou===null){var o=ou=[];Nm=0,Io=Vp(),Do={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Nm++,s.then(m_,m_),s}function m_(){if(--Nm===0&&ou!==null){Do!==null&&(Do.status="fulfilled");var i=ou;ou=null,Io=0,Do=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function oI(i,s){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var p_=Z.S;Z.S=function(i,s){ZT=fn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&aI(i,s),p_!==null&&p_(i,s)};var Ra=M(null);function Mm(){var i=Ra.current;return i!==null?i:it.pooledCache}function Ah(i,s){s===null?oe(Ra,Ra.current):oe(Ra,s.pool)}function g_(){var i=Mm();return i===null?null:{parent:Pt._currentValue,pool:i}}var No=Error(r(460)),Pm=Error(r(474)),Ch=Error(r(542)),Rh={then:function(){}};function y_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function v_(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(yi,yi),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,T_(i),i;default:if(typeof s.status=="string")s.then(yi,yi);else{if(i=it,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,T_(i),i}throw Ia=s,No}}function xa(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ia=o,No):o}}var Ia=null;function __(){if(Ia===null)throw Error(r(459));var i=Ia;return Ia=null,i}function T_(i){if(i===No||i===Ch)throw Error(r(483))}var Mo=null,lu=0;function xh(i){var s=lu;return lu+=1,Mo===null&&(Mo=[]),v_(Mo,i,s)}function uu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Ih(i,s){throw s.$$typeof===T?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function E_(i){function s(q,z){if(i){var Y=q.deletions;Y===null?(q.deletions=[z],q.flags|=16):Y.push(z)}}function o(q,z){if(!i)return null;for(;z!==null;)s(q,z),z=z.sibling;return null}function c(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function m(q,z){return q=Er(q,z),q.index=0,q.sibling=null,q}function g(q,z,Y){return q.index=Y,i?(Y=q.alternate,Y!==null?(Y=Y.index,Y<z?(q.flags|=67108866,z):Y):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function E(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function w(q,z,Y,ee){return z===null||z.tag!==6?(z=Em(Y,q.mode,ee),z.return=q,z):(z=m(z,Y),z.return=q,z)}function O(q,z,Y,ee){var ge=Y.type;return ge===P?J(q,z,Y.props.children,ee,Y.key):z!==null&&(z.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&xa(ge)===z.type)?(z=m(z,Y.props),uu(z,Y),z.return=q,z):(z=Eh(Y.type,Y.key,Y.props,null,q.mode,ee),uu(z,Y),z.return=q,z)}function K(q,z,Y,ee){return z===null||z.tag!==4||z.stateNode.containerInfo!==Y.containerInfo||z.stateNode.implementation!==Y.implementation?(z=bm(Y,q.mode,ee),z.return=q,z):(z=m(z,Y.children||[]),z.return=q,z)}function J(q,z,Y,ee,ge){return z===null||z.tag!==7?(z=wa(Y,q.mode,ee,ge),z.return=q,z):(z=m(z,Y),z.return=q,z)}function ne(q,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Em(""+z,q.mode,Y),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return Y=Eh(z.type,z.key,z.props,null,q.mode,Y),uu(Y,z),Y.return=q,Y;case x:return z=bm(z,q.mode,Y),z.return=q,z;case R:return z=xa(z),ne(q,z,Y)}if(Xe(z)||H(z))return z=wa(z,q.mode,Y,null),z.return=q,z;if(typeof z.then=="function")return ne(q,xh(z),Y);if(z.$$typeof===F)return ne(q,Sh(q,z),Y);Ih(q,z)}return null}function X(q,z,Y,ee){var ge=z!==null?z.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ge!==null?null:w(q,z,""+Y,ee);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return Y.key===ge?O(q,z,Y,ee):null;case x:return Y.key===ge?K(q,z,Y,ee):null;case R:return Y=xa(Y),X(q,z,Y,ee)}if(Xe(Y)||H(Y))return ge!==null?null:J(q,z,Y,ee,null);if(typeof Y.then=="function")return X(q,z,xh(Y),ee);if(Y.$$typeof===F)return X(q,z,Sh(q,Y),ee);Ih(q,Y)}return null}function W(q,z,Y,ee,ge){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return q=q.get(Y)||null,w(z,q,""+ee,ge);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case S:return q=q.get(ee.key===null?Y:ee.key)||null,O(z,q,ee,ge);case x:return q=q.get(ee.key===null?Y:ee.key)||null,K(z,q,ee,ge);case R:return ee=xa(ee),W(q,z,Y,ee,ge)}if(Xe(ee)||H(ee))return q=q.get(Y)||null,J(z,q,ee,ge,null);if(typeof ee.then=="function")return W(q,z,Y,xh(ee),ge);if(ee.$$typeof===F)return W(q,z,Y,Sh(z,ee),ge);Ih(z,ee)}return null}function me(q,z,Y,ee){for(var ge=null,He=null,pe=z,Ne=z=0,ke=null;pe!==null&&Ne<Y.length;Ne++){pe.index>Ne?(ke=pe,pe=null):ke=pe.sibling;var qe=X(q,pe,Y[Ne],ee);if(qe===null){pe===null&&(pe=ke);break}i&&pe&&qe.alternate===null&&s(q,pe),z=g(qe,z,Ne),He===null?ge=qe:He.sibling=qe,He=qe,pe=ke}if(Ne===Y.length)return o(q,pe),ze&&br(q,Ne),ge;if(pe===null){for(;Ne<Y.length;Ne++)pe=ne(q,Y[Ne],ee),pe!==null&&(z=g(pe,z,Ne),He===null?ge=pe:He.sibling=pe,He=pe);return ze&&br(q,Ne),ge}for(pe=c(pe);Ne<Y.length;Ne++)ke=W(pe,q,Ne,Y[Ne],ee),ke!==null&&(i&&ke.alternate!==null&&pe.delete(ke.key===null?Ne:ke.key),z=g(ke,z,Ne),He===null?ge=ke:He.sibling=ke,He=ke);return i&&pe.forEach(function(xs){return s(q,xs)}),ze&&br(q,Ne),ge}function ve(q,z,Y,ee){if(Y==null)throw Error(r(151));for(var ge=null,He=null,pe=z,Ne=z=0,ke=null,qe=Y.next();pe!==null&&!qe.done;Ne++,qe=Y.next()){pe.index>Ne?(ke=pe,pe=null):ke=pe.sibling;var xs=X(q,pe,qe.value,ee);if(xs===null){pe===null&&(pe=ke);break}i&&pe&&xs.alternate===null&&s(q,pe),z=g(xs,z,Ne),He===null?ge=xs:He.sibling=xs,He=xs,pe=ke}if(qe.done)return o(q,pe),ze&&br(q,Ne),ge;if(pe===null){for(;!qe.done;Ne++,qe=Y.next())qe=ne(q,qe.value,ee),qe!==null&&(z=g(qe,z,Ne),He===null?ge=qe:He.sibling=qe,He=qe);return ze&&br(q,Ne),ge}for(pe=c(pe);!qe.done;Ne++,qe=Y.next())qe=W(pe,q,Ne,qe.value,ee),qe!==null&&(i&&qe.alternate!==null&&pe.delete(qe.key===null?Ne:qe.key),z=g(qe,z,Ne),He===null?ge=qe:He.sibling=qe,He=qe);return i&&pe.forEach(function(vD){return s(q,vD)}),ze&&br(q,Ne),ge}function nt(q,z,Y,ee){if(typeof Y=="object"&&Y!==null&&Y.type===P&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:e:{for(var ge=Y.key;z!==null;){if(z.key===ge){if(ge=Y.type,ge===P){if(z.tag===7){o(q,z.sibling),ee=m(z,Y.props.children),ee.return=q,q=ee;break e}}else if(z.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&xa(ge)===z.type){o(q,z.sibling),ee=m(z,Y.props),uu(ee,Y),ee.return=q,q=ee;break e}o(q,z);break}else s(q,z);z=z.sibling}Y.type===P?(ee=wa(Y.props.children,q.mode,ee,Y.key),ee.return=q,q=ee):(ee=Eh(Y.type,Y.key,Y.props,null,q.mode,ee),uu(ee,Y),ee.return=q,q=ee)}return E(q);case x:e:{for(ge=Y.key;z!==null;){if(z.key===ge)if(z.tag===4&&z.stateNode.containerInfo===Y.containerInfo&&z.stateNode.implementation===Y.implementation){o(q,z.sibling),ee=m(z,Y.children||[]),ee.return=q,q=ee;break e}else{o(q,z);break}else s(q,z);z=z.sibling}ee=bm(Y,q.mode,ee),ee.return=q,q=ee}return E(q);case R:return Y=xa(Y),nt(q,z,Y,ee)}if(Xe(Y))return me(q,z,Y,ee);if(H(Y)){if(ge=H(Y),typeof ge!="function")throw Error(r(150));return Y=ge.call(Y),ve(q,z,Y,ee)}if(typeof Y.then=="function")return nt(q,z,xh(Y),ee);if(Y.$$typeof===F)return nt(q,z,Sh(q,Y),ee);Ih(q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,z!==null&&z.tag===6?(o(q,z.sibling),ee=m(z,Y),ee.return=q,q=ee):(o(q,z),ee=Em(Y,q.mode,ee),ee.return=q,q=ee),E(q)):o(q,z)}return function(q,z,Y,ee){try{lu=0;var ge=nt(q,z,Y,ee);return Mo=null,ge}catch(pe){if(pe===No||pe===Ch)throw pe;var He=Pn(29,pe,null,q.mode);return He.lanes=ee,He.return=q,He}finally{}}}var Da=E_(!0),b_=E_(!1),hs=!1;function Vm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Om(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function fs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ds(i,s,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Ye&2)!==0){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=Th(i),s_(i,null,o),s}return _h(i,c,s,o),Th(i)}function cu(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,Ll(i,o)}}function km(i,s){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?m=g=s:g=g.next=s}else m=g=s;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Lm=!1;function hu(){if(Lm){var i=Do;if(i!==null)throw i}}function fu(i,s,o,c){Lm=!1;var m=i.updateQueue;hs=!1;var g=m.firstBaseUpdate,E=m.lastBaseUpdate,w=m.shared.pending;if(w!==null){m.shared.pending=null;var O=w,K=O.next;O.next=null,E===null?g=K:E.next=K,E=O;var J=i.alternate;J!==null&&(J=J.updateQueue,w=J.lastBaseUpdate,w!==E&&(w===null?J.firstBaseUpdate=K:w.next=K,J.lastBaseUpdate=O))}if(g!==null){var ne=m.baseState;E=0,J=K=O=null,w=g;do{var X=w.lane&-536870913,W=X!==w.lane;if(W?(Oe&X)===X:(c&X)===X){X!==0&&X===Io&&(Lm=!0),J!==null&&(J=J.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var me=i,ve=w;X=s;var nt=o;switch(ve.tag){case 1:if(me=ve.payload,typeof me=="function"){ne=me.call(nt,ne,X);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ve.payload,X=typeof me=="function"?me.call(nt,ne,X):me,X==null)break e;ne=v({},ne,X);break e;case 2:hs=!0}}X=w.callback,X!==null&&(i.flags|=64,W&&(i.flags|=8192),W=m.callbacks,W===null?m.callbacks=[X]:W.push(X))}else W={lane:X,tag:w.tag,payload:w.payload,callback:w.callback,next:null},J===null?(K=J=W,O=ne):J=J.next=W,E|=X;if(w=w.next,w===null){if(w=m.shared.pending,w===null)break;W=w,w=W.next,W.next=null,m.lastBaseUpdate=W,m.shared.pending=null}}while(!0);J===null&&(O=ne),m.baseState=O,m.firstBaseUpdate=K,m.lastBaseUpdate=J,g===null&&(m.shared.lanes=0),vs|=E,i.lanes=E,i.memoizedState=ne}}function w_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function S_(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)w_(o[i],s)}var Po=M(null),Dh=M(0);function A_(i,s){i=Pr,oe(Dh,i),oe(Po,s),Pr=i|s.baseLanes}function Um(){oe(Dh,Pr),oe(Po,Po.current)}function jm(){Pr=Dh.current,$(Po),$(Dh)}var Vn=M(null),Zn=null;function ms(i){var s=i.alternate;oe(St,St.current&1),oe(Vn,i),Zn===null&&(s===null||Po.current!==null||s.memoizedState!==null)&&(Zn=i)}function zm(i){oe(St,St.current),oe(Vn,i),Zn===null&&(Zn=i)}function C_(i){i.tag===22?(oe(St,St.current),oe(Vn,i),Zn===null&&(Zn=i)):ps()}function ps(){oe(St,St.current),oe(Vn,Vn.current)}function On(i){$(Vn),Zn===i&&(Zn=null),$(St)}var St=M(0);function Nh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Yp(o)||Kp(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ar=0,Ie=null,et=null,Vt=null,Mh=!1,Vo=!1,Na=!1,Ph=0,du=0,Oo=null,lI=0;function yt(){throw Error(r(321))}function Bm(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Mn(i[o],s[o]))return!1;return!0}function Fm(i,s,o,c,m,g){return Ar=g,Ie=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=i===null||i.memoizedState===null?uT:ip,Na=!1,g=o(c,m),Na=!1,Vo&&(g=x_(s,o,c,m)),R_(i),g}function R_(i){Z.H=gu;var s=et!==null&&et.next!==null;if(Ar=0,Vt=et=Ie=null,Mh=!1,du=0,Oo=null,s)throw Error(r(300));i===null||Ot||(i=i.dependencies,i!==null&&wh(i)&&(Ot=!0))}function x_(i,s,o,c){Ie=i;var m=0;do{if(Vo&&(Oo=null),du=0,Vo=!1,25<=m)throw Error(r(301));if(m+=1,Vt=et=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=cT,g=s(o,c)}while(Vo);return g}function uI(){var i=Z.H,s=i.useState()[0];return s=typeof s.then=="function"?mu(s):s,i=i.useState()[0],(et!==null?et.memoizedState:null)!==i&&(Ie.flags|=1024),s}function Hm(){var i=Ph!==0;return Ph=0,i}function qm(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Gm(i){if(Mh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Mh=!1}Ar=0,Vt=et=Ie=null,Vo=!1,du=Ph=0,Oo=null}function mn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Ie.memoizedState=Vt=i:Vt=Vt.next=i,Vt}function At(){if(et===null){var i=Ie.alternate;i=i!==null?i.memoizedState:null}else i=et.next;var s=Vt===null?Ie.memoizedState:Vt.next;if(s!==null)Vt=s,et=i;else{if(i===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));et=i,i={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Vt===null?Ie.memoizedState=Vt=i:Vt=Vt.next=i}return Vt}function Vh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mu(i){var s=du;return du+=1,Oo===null&&(Oo=[]),i=v_(Oo,i,s),s=Ie,(Vt===null?s.memoizedState:Vt.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?uT:ip),i}function Oh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return mu(i);if(i.$$typeof===F)return Wt(i)}throw Error(r(438,String(i)))}function Ym(i){var s=null,o=Ie.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Ie.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Vh(),Ie.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),c=0;c<i;c++)o[c]=U;return s.index++,o}function Cr(i,s){return typeof s=="function"?s(i):s}function kh(i){var s=At();return Km(s,et,i)}function Km(i,s,o){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var m=i.baseQueue,g=c.pending;if(g!==null){if(m!==null){var E=m.next;m.next=g.next,g.next=E}s.baseQueue=m=g,c.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{s=m.next;var w=E=null,O=null,K=s,J=!1;do{var ne=K.lane&-536870913;if(ne!==K.lane?(Oe&ne)===ne:(Ar&ne)===ne){var X=K.revertLane;if(X===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ne===Io&&(J=!0);else if((Ar&X)===X){K=K.next,X===Io&&(J=!0);continue}else ne={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(w=O=ne,E=g):O=O.next=ne,Ie.lanes|=X,vs|=X;ne=K.action,Na&&o(g,ne),g=K.hasEagerState?K.eagerState:o(g,ne)}else X={lane:ne,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(w=O=X,E=g):O=O.next=X,Ie.lanes|=ne,vs|=ne;K=K.next}while(K!==null&&K!==s);if(O===null?E=g:O.next=w,!Mn(g,i.memoizedState)&&(Ot=!0,J&&(o=Do,o!==null)))throw o;i.memoizedState=g,i.baseState=E,i.baseQueue=O,c.lastRenderedState=g}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Xm(i){var s=At(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,g=s.memoizedState;if(m!==null){o.pending=null;var E=m=m.next;do g=i(g,E.action),E=E.next;while(E!==m);Mn(g,s.memoizedState)||(Ot=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function I_(i,s,o){var c=Ie,m=At(),g=ze;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var E=!Mn((et||m).memoizedState,o);if(E&&(m.memoizedState=o,Ot=!0),m=m.queue,Wm(M_.bind(null,c,m,i),[i]),m.getSnapshot!==s||E||Vt!==null&&Vt.memoizedState.tag&1){if(c.flags|=2048,ko(9,{destroy:void 0},N_.bind(null,c,m,o,s),null),it===null)throw Error(r(349));g||(Ar&127)!==0||D_(c,s,o)}return o}function D_(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Ie.updateQueue,s===null?(s=Vh(),Ie.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function N_(i,s,o,c){s.value=o,s.getSnapshot=c,P_(s)&&V_(i)}function M_(i,s,o){return o(function(){P_(s)&&V_(i)})}function P_(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Mn(i,o)}catch{return!0}}function V_(i){var s=ba(i,2);s!==null&&Sn(s,i,2)}function $m(i){var s=mn();if(typeof i=="function"){var o=i;if(i=o(),Na){Fn(!0);try{o()}finally{Fn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:i},s}function O_(i,s,o,c){return i.baseState=o,Km(i,et,typeof c=="function"?c:Cr)}function cI(i,s,o,c,m){if(jh(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};Z.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,k_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function k_(i,s){var o=s.action,c=s.payload,m=i.state;if(s.isTransition){var g=Z.T,E={};Z.T=E;try{var w=o(m,c),O=Z.S;O!==null&&O(E,w),L_(i,s,w)}catch(K){Qm(i,s,K)}finally{g!==null&&E.types!==null&&(g.types=E.types),Z.T=g}}else try{g=o(m,c),L_(i,s,g)}catch(K){Qm(i,s,K)}}function L_(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){U_(i,s,c)},function(c){return Qm(i,s,c)}):U_(i,s,o)}function U_(i,s,o){s.status="fulfilled",s.value=o,j_(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,k_(i,o)))}function Qm(i,s,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,j_(s),s=s.next;while(s!==c)}i.action=null}function j_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function z_(i,s){return s}function B_(i,s){if(ze){var o=it.formState;if(o!==null){e:{var c=Ie;if(ze){if(at){t:{for(var m=at,g=Wn;m.nodeType!==8;){if(!g){m=null;break t}if(m=Jn(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){at=Jn(m.nextSibling),c=m.data==="F!";break e}}us(c)}c=!1}c&&(s=o[0])}}return o=mn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:z_,lastRenderedState:s},o.queue=c,o=aT.bind(null,Ie,c),c.dispatch=o,c=$m(!1),g=np.bind(null,Ie,!1,c.queue),c=mn(),m={state:s,dispatch:null,action:i,pending:null},c.queue=m,o=cI.bind(null,Ie,m,g,o),m.dispatch=o,c.memoizedState=i,[s,o,!1]}function F_(i){var s=At();return H_(s,et,i)}function H_(i,s,o){if(s=Km(i,s,z_)[0],i=kh(Cr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=mu(s)}catch(E){throw E===No?Ch:E}else c=s;s=At();var m=s.queue,g=m.dispatch;return o!==s.memoizedState&&(Ie.flags|=2048,ko(9,{destroy:void 0},hI.bind(null,m,o),null)),[c,g,i]}function hI(i,s){i.action=s}function q_(i){var s=At(),o=et;if(o!==null)return H_(s,o,i);At(),s=s.memoizedState,o=At();var c=o.queue.dispatch;return o.memoizedState=i,[s,c,!1]}function ko(i,s,o,c){return i={tag:i,create:o,deps:c,inst:s,next:null},s=Ie.updateQueue,s===null&&(s=Vh(),Ie.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,s.lastEffect=i),i}function G_(){return At().memoizedState}function Lh(i,s,o,c){var m=mn();Ie.flags|=i,m.memoizedState=ko(1|s,{destroy:void 0},o,c===void 0?null:c)}function Uh(i,s,o,c){var m=At();c=c===void 0?null:c;var g=m.memoizedState.inst;et!==null&&c!==null&&Bm(c,et.memoizedState.deps)?m.memoizedState=ko(s,g,o,c):(Ie.flags|=i,m.memoizedState=ko(1|s,g,o,c))}function Y_(i,s){Lh(8390656,8,i,s)}function Wm(i,s){Uh(2048,8,i,s)}function fI(i){Ie.flags|=4;var s=Ie.updateQueue;if(s===null)s=Vh(),Ie.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function K_(i){var s=At().memoizedState;return fI({ref:s,nextImpl:i}),function(){if((Ye&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function X_(i,s){return Uh(4,2,i,s)}function $_(i,s){return Uh(4,4,i,s)}function Q_(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function W_(i,s,o){o=o!=null?o.concat([i]):null,Uh(4,4,Q_.bind(null,s,i),o)}function Zm(){}function Z_(i,s){var o=At();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Bm(s,c[1])?c[0]:(o.memoizedState=[i,s],i)}function J_(i,s){var o=At();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Bm(s,c[1]))return c[0];if(c=i(),Na){Fn(!0);try{i()}finally{Fn(!1)}}return o.memoizedState=[c,s],c}function Jm(i,s,o){return o===void 0||(Ar&1073741824)!==0&&(Oe&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=eE(),Ie.lanes|=i,vs|=i,o)}function eT(i,s,o,c){return Mn(o,s)?o:Po.current!==null?(i=Jm(i,o,c),Mn(i,s)||(Ot=!0),i):(Ar&42)===0||(Ar&1073741824)!==0&&(Oe&261930)===0?(Ot=!0,i.memoizedState=o):(i=eE(),Ie.lanes|=i,vs|=i,s)}function tT(i,s,o,c,m){var g=ae.p;ae.p=g!==0&&8>g?g:8;var E=Z.T,w={};Z.T=w,np(i,!1,s,o);try{var O=m(),K=Z.S;if(K!==null&&K(w,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var J=oI(O,c);pu(i,s,J,Un(i))}else pu(i,s,c,Un(i))}catch(ne){pu(i,s,{then:function(){},status:"rejected",reason:ne},Un())}finally{ae.p=g,E!==null&&w.types!==null&&(E.types=w.types),Z.T=E}}function dI(){}function ep(i,s,o,c){if(i.tag!==5)throw Error(r(476));var m=nT(i).queue;tT(i,m,s,fe,o===null?dI:function(){return iT(i),o(c)})}function nT(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:fe},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function iT(i){var s=nT(i);s.next===null&&(s=i.alternate.memoizedState),pu(i,s.next.queue,{},Un())}function tp(){return Wt(Mu)}function rT(){return At().memoizedState}function sT(){return At().memoizedState}function mI(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Un();i=fs(o);var c=ds(s,i,o);c!==null&&(Sn(c,s,o),cu(c,s,o)),s={cache:Dm()},i.payload=s;return}s=s.return}}function pI(i,s,o){var c=Un();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},jh(i)?oT(s,o):(o=_m(i,s,o,c),o!==null&&(Sn(o,i,c),lT(o,s,c)))}function aT(i,s,o){var c=Un();pu(i,s,o,c)}function pu(i,s,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(jh(i))oT(s,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,w=g(E,o);if(m.hasEagerState=!0,m.eagerState=w,Mn(w,E))return _h(i,s,m,0),it===null&&vh(),!1}catch{}finally{}if(o=_m(i,s,m,c),o!==null)return Sn(o,i,c),lT(o,s,c),!0}return!1}function np(i,s,o,c){if(c={lane:2,revertLane:Vp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},jh(i)){if(s)throw Error(r(479))}else s=_m(i,o,c,2),s!==null&&Sn(s,i,2)}function jh(i){var s=i.alternate;return i===Ie||s!==null&&s===Ie}function oT(i,s){Vo=Mh=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function lT(i,s,o){if((o&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,Ll(i,o)}}var gu={readContext:Wt,use:Oh,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};gu.useEffectEvent=yt;var uT={readContext:Wt,use:Oh,useCallback:function(i,s){return mn().memoizedState=[i,s===void 0?null:s],i},useContext:Wt,useEffect:Y_,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,Lh(4194308,4,Q_.bind(null,s,i),o)},useLayoutEffect:function(i,s){return Lh(4194308,4,i,s)},useInsertionEffect:function(i,s){Lh(4,2,i,s)},useMemo:function(i,s){var o=mn();s=s===void 0?null:s;var c=i();if(Na){Fn(!0);try{i()}finally{Fn(!1)}}return o.memoizedState=[c,s],c},useReducer:function(i,s,o){var c=mn();if(o!==void 0){var m=o(s);if(Na){Fn(!0);try{o(s)}finally{Fn(!1)}}}else m=s;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=pI.bind(null,Ie,i),[c.memoizedState,i]},useRef:function(i){var s=mn();return i={current:i},s.memoizedState=i},useState:function(i){i=$m(i);var s=i.queue,o=aT.bind(null,Ie,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Zm,useDeferredValue:function(i,s){var o=mn();return Jm(o,i,s)},useTransition:function(){var i=$m(!1);return i=tT.bind(null,Ie,i.queue,!0,!1),mn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var c=Ie,m=mn();if(ze){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),it===null)throw Error(r(349));(Oe&127)!==0||D_(c,s,o)}m.memoizedState=o;var g={value:o,getSnapshot:s};return m.queue=g,Y_(M_.bind(null,c,g,i),[i]),c.flags|=2048,ko(9,{destroy:void 0},N_.bind(null,c,g,o,s),null),o},useId:function(){var i=mn(),s=it.identifierPrefix;if(ze){var o=Ji,c=Zi;o=(c&~(1<<32-bt(c)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Ph++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=lI++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:tp,useFormState:B_,useActionState:B_,useOptimistic:function(i){var s=mn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=np.bind(null,Ie,!0,o),o.dispatch=s,[i,s]},useMemoCache:Ym,useCacheRefresh:function(){return mn().memoizedState=mI.bind(null,Ie)},useEffectEvent:function(i){var s=mn(),o={impl:i};return s.memoizedState=o,function(){if((Ye&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},ip={readContext:Wt,use:Oh,useCallback:Z_,useContext:Wt,useEffect:Wm,useImperativeHandle:W_,useInsertionEffect:X_,useLayoutEffect:$_,useMemo:J_,useReducer:kh,useRef:G_,useState:function(){return kh(Cr)},useDebugValue:Zm,useDeferredValue:function(i,s){var o=At();return eT(o,et.memoizedState,i,s)},useTransition:function(){var i=kh(Cr)[0],s=At().memoizedState;return[typeof i=="boolean"?i:mu(i),s]},useSyncExternalStore:I_,useId:rT,useHostTransitionStatus:tp,useFormState:F_,useActionState:F_,useOptimistic:function(i,s){var o=At();return O_(o,et,i,s)},useMemoCache:Ym,useCacheRefresh:sT};ip.useEffectEvent=K_;var cT={readContext:Wt,use:Oh,useCallback:Z_,useContext:Wt,useEffect:Wm,useImperativeHandle:W_,useInsertionEffect:X_,useLayoutEffect:$_,useMemo:J_,useReducer:Xm,useRef:G_,useState:function(){return Xm(Cr)},useDebugValue:Zm,useDeferredValue:function(i,s){var o=At();return et===null?Jm(o,i,s):eT(o,et.memoizedState,i,s)},useTransition:function(){var i=Xm(Cr)[0],s=At().memoizedState;return[typeof i=="boolean"?i:mu(i),s]},useSyncExternalStore:I_,useId:rT,useHostTransitionStatus:tp,useFormState:q_,useActionState:q_,useOptimistic:function(i,s){var o=At();return et!==null?O_(o,et,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Ym,useCacheRefresh:sT};cT.useEffectEvent=K_;function rp(i,s,o,c){s=i.memoizedState,o=o(c,s),o=o==null?s:v({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var sp={enqueueSetState:function(i,s,o){i=i._reactInternals;var c=Un(),m=fs(c);m.payload=s,o!=null&&(m.callback=o),s=ds(i,m,c),s!==null&&(Sn(s,i,c),cu(s,i,c))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var c=Un(),m=fs(c);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=ds(i,m,c),s!==null&&(Sn(s,i,c),cu(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Un(),c=fs(o);c.tag=2,s!=null&&(c.callback=s),s=ds(i,c,o),s!==null&&(Sn(s,i,o),cu(s,i,o))}};function hT(i,s,o,c,m,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,E):s.prototype&&s.prototype.isPureReactComponent?!nu(o,c)||!nu(m,g):!0}function fT(i,s,o,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==i&&sp.enqueueReplaceState(s,s.state,null)}function Ma(i,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(i=i.defaultProps){o===s&&(o=v({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function dT(i){yh(i)}function mT(i){console.error(i)}function pT(i){yh(i)}function zh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function gT(i,s,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function ap(i,s,o){return o=fs(o),o.tag=3,o.payload={element:null},o.callback=function(){zh(i,s)},o}function yT(i){return i=fs(i),i.tag=3,i}function vT(i,s,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;i.payload=function(){return m(g)},i.callback=function(){gT(s,o,c)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){gT(s,o,c),typeof m!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function gI(i,s,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&xo(s,o,m,!0),o=Vn.current,o!==null){switch(o.tag){case 31:case 13:return Zn===null?Zh():o.alternate===null&&vt===0&&(vt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Rh?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Np(i,c,m)),!1;case 22:return o.flags|=65536,c===Rh?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Np(i,c,m)),!1}throw Error(r(435,o.tag))}return Np(i,c,m),Zh(),!1}if(ze)return s=Vn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==Am&&(i=Error(r(422),{cause:c}),su(Xn(i,o)))):(c!==Am&&(s=Error(r(423),{cause:c}),su(Xn(s,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=Xn(c,o),m=ap(i.stateNode,c,m),km(i,m),vt!==4&&(vt=2)),!1;var g=Error(r(520),{cause:c});if(g=Xn(g,o),Su===null?Su=[g]:Su.push(g),vt!==4&&(vt=2),s===null)return!0;c=Xn(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=ap(o.stateNode,c,i),km(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(_s===null||!_s.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=yT(m),vT(m,i,o,c),km(o,m),!1}o=o.return}while(o!==null);return!1}var op=Error(r(461)),Ot=!1;function Zt(i,s,o,c){s.child=i===null?b_(s,null,o,c):Da(s,i.child,o,c)}function _T(i,s,o,c,m){o=o.render;var g=s.ref;if("ref"in c){var E={};for(var w in c)w!=="ref"&&(E[w]=c[w])}else E=c;return Ca(s),c=Fm(i,s,o,E,g,m),w=Hm(),i!==null&&!Ot?(qm(i,s,m),Rr(i,s,m)):(ze&&w&&wm(s),s.flags|=1,Zt(i,s,c,m),s.child)}function TT(i,s,o,c,m){if(i===null){var g=o.type;return typeof g=="function"&&!Tm(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,ET(i,s,g,c,m)):(i=Eh(o.type,null,c,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!pp(i,m)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:nu,o(E,c)&&i.ref===s.ref)return Rr(i,s,m)}return s.flags|=1,i=Er(g,c),i.ref=s.ref,i.return=s,s.child=i}function ET(i,s,o,c,m){if(i!==null){var g=i.memoizedProps;if(nu(g,c)&&i.ref===s.ref)if(Ot=!1,s.pendingProps=c=g,pp(i,m))(i.flags&131072)!==0&&(Ot=!0);else return s.lanes=i.lanes,Rr(i,s,m)}return lp(i,s,o,c,m)}function bT(i,s,o,c){var m=c.children,g=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=s.child=i.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,s.child=null;return wT(i,s,g,o,c)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ah(s,g!==null?g.cachePool:null),g!==null?A_(s,g):Um(),C_(s);else return c=s.lanes=536870912,wT(i,s,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Ah(s,g.cachePool),A_(s,g),ps(),s.memoizedState=null):(i!==null&&Ah(s,null),Um(),ps());return Zt(i,s,m,o),s.child}function yu(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function wT(i,s,o,c,m){var g=Mm();return g=g===null?null:{parent:Pt._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},i!==null&&Ah(s,null),Um(),C_(s),i!==null&&xo(i,s,c,!0),s.childLanes=m,null}function Bh(i,s){return s=Hh({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function ST(i,s,o){return Da(s,i.child,null,o),i=Bh(s,s.pendingProps),i.flags|=2,On(s),s.memoizedState=null,i}function yI(i,s,o){var c=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(ze){if(c.mode==="hidden")return i=Bh(s,c),s.lanes=536870912,yu(null,i);if(zm(s),(i=at)?(i=kE(i,Wn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:os!==null?{id:Zi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},o=o_(i),o.return=s,s.child=o,Qt=s,at=null)):i=null,i===null)throw us(s);return s.lanes=536870912,null}return Bh(s,c)}var g=i.memoizedState;if(g!==null){var E=g.dehydrated;if(zm(s),m)if(s.flags&256)s.flags&=-257,s=ST(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ot||xo(i,s,o,!1),m=(o&i.childLanes)!==0,Ot||m){if(c=it,c!==null&&(E=Ul(c,o),E!==0&&E!==g.retryLane))throw g.retryLane=E,ba(i,E),Sn(c,i,E),op;Zh(),s=ST(i,s,o)}else i=g.treeContext,at=Jn(E.nextSibling),Qt=s,ze=!0,ls=null,Wn=!1,i!==null&&c_(s,i),s=Bh(s,c),s.flags|=4096;return s}return i=Er(i.child,{mode:c.mode,children:c.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Fh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function lp(i,s,o,c,m){return Ca(s),o=Fm(i,s,o,c,void 0,m),c=Hm(),i!==null&&!Ot?(qm(i,s,m),Rr(i,s,m)):(ze&&c&&wm(s),s.flags|=1,Zt(i,s,o,m),s.child)}function AT(i,s,o,c,m,g){return Ca(s),s.updateQueue=null,o=x_(s,c,o,m),R_(i),c=Hm(),i!==null&&!Ot?(qm(i,s,g),Rr(i,s,g)):(ze&&c&&wm(s),s.flags|=1,Zt(i,s,o,g),s.child)}function CT(i,s,o,c,m){if(Ca(s),s.stateNode===null){var g=So,E=o.contextType;typeof E=="object"&&E!==null&&(g=Wt(E)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=sp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},Vm(s),E=o.contextType,g.context=typeof E=="object"&&E!==null?Wt(E):So,g.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(rp(s,o,E,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&sp.enqueueReplaceState(g,g.state,null),fu(s,c,g,m),hu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){g=s.stateNode;var w=s.memoizedProps,O=Ma(o,w);g.props=O;var K=g.context,J=o.contextType;E=So,typeof J=="object"&&J!==null&&(E=Wt(J));var ne=o.getDerivedStateFromProps;J=typeof ne=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||K!==E)&&fT(s,g,c,E),hs=!1;var X=s.memoizedState;g.state=X,fu(s,c,g,m),hu(),K=s.memoizedState,w||X!==K||hs?(typeof ne=="function"&&(rp(s,o,ne,c),K=s.memoizedState),(O=hs||hT(s,o,O,c,X,K,E))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=K),g.props=c,g.state=K,g.context=E,c=O):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,Om(i,s),E=s.memoizedProps,J=Ma(o,E),g.props=J,ne=s.pendingProps,X=g.context,K=o.contextType,O=So,typeof K=="object"&&K!==null&&(O=Wt(K)),w=o.getDerivedStateFromProps,(K=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==ne||X!==O)&&fT(s,g,c,O),hs=!1,X=s.memoizedState,g.state=X,fu(s,c,g,m),hu();var W=s.memoizedState;E!==ne||X!==W||hs||i!==null&&i.dependencies!==null&&wh(i.dependencies)?(typeof w=="function"&&(rp(s,o,w,c),W=s.memoizedState),(J=hs||hT(s,o,J,c,X,W,O)||i!==null&&i.dependencies!==null&&wh(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,W,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,W,O)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=W),g.props=c,g.state=W,g.context=O,c=J):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),c=!1)}return g=c,Fh(i,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&c?(s.child=Da(s,i.child,null,m),s.child=Da(s,null,o,m)):Zt(i,s,o,m),s.memoizedState=g.state,i=s.child):i=Rr(i,s,m),i}function RT(i,s,o,c){return Sa(),s.flags|=256,Zt(i,s,o,c),s.child}var up={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cp(i){return{baseLanes:i,cachePool:g_()}}function hp(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Ln),i}function xT(i,s,o){var c=s.pendingProps,m=!1,g=(s.flags&128)!==0,E;if((E=g)||(E=i!==null&&i.memoizedState===null?!1:(St.current&2)!==0),E&&(m=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,i===null){if(ze){if(m?ms(s):ps(),(i=at)?(i=kE(i,Wn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:os!==null?{id:Zi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},o=o_(i),o.return=s,s.child=o,Qt=s,at=null)):i=null,i===null)throw us(s);return Kp(i)?s.lanes=32:s.lanes=536870912,null}var w=c.children;return c=c.fallback,m?(ps(),m=s.mode,w=Hh({mode:"hidden",children:w},m),c=wa(c,m,o,null),w.return=s,c.return=s,w.sibling=c,s.child=w,c=s.child,c.memoizedState=cp(o),c.childLanes=hp(i,E,o),s.memoizedState=up,yu(null,c)):(ms(s),fp(s,w))}var O=i.memoizedState;if(O!==null&&(w=O.dehydrated,w!==null)){if(g)s.flags&256?(ms(s),s.flags&=-257,s=dp(i,s,o)):s.memoizedState!==null?(ps(),s.child=i.child,s.flags|=128,s=null):(ps(),w=c.fallback,m=s.mode,c=Hh({mode:"visible",children:c.children},m),w=wa(w,m,o,null),w.flags|=2,c.return=s,w.return=s,c.sibling=w,s.child=c,Da(s,i.child,null,o),c=s.child,c.memoizedState=cp(o),c.childLanes=hp(i,E,o),s.memoizedState=up,s=yu(null,c));else if(ms(s),Kp(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var K=E.dgst;E=K,c=Error(r(419)),c.stack="",c.digest=E,su({value:c,source:null,stack:null}),s=dp(i,s,o)}else if(Ot||xo(i,s,o,!1),E=(o&i.childLanes)!==0,Ot||E){if(E=it,E!==null&&(c=Ul(E,o),c!==0&&c!==O.retryLane))throw O.retryLane=c,ba(i,c),Sn(E,i,c),op;Yp(w)||Zh(),s=dp(i,s,o)}else Yp(w)?(s.flags|=192,s.child=i.child,s=null):(i=O.treeContext,at=Jn(w.nextSibling),Qt=s,ze=!0,ls=null,Wn=!1,i!==null&&c_(s,i),s=fp(s,c.children),s.flags|=4096);return s}return m?(ps(),w=c.fallback,m=s.mode,O=i.child,K=O.sibling,c=Er(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,K!==null?w=Er(K,w):(w=wa(w,m,o,null),w.flags|=2),w.return=s,c.return=s,c.sibling=w,s.child=c,yu(null,c),c=s.child,w=i.child.memoizedState,w===null?w=cp(o):(m=w.cachePool,m!==null?(O=Pt._currentValue,m=m.parent!==O?{parent:O,pool:O}:m):m=g_(),w={baseLanes:w.baseLanes|o,cachePool:m}),c.memoizedState=w,c.childLanes=hp(i,E,o),s.memoizedState=up,yu(i.child,c)):(ms(s),o=i.child,i=o.sibling,o=Er(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,i!==null&&(E=s.deletions,E===null?(s.deletions=[i],s.flags|=16):E.push(i)),s.child=o,s.memoizedState=null,o)}function fp(i,s){return s=Hh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Hh(i,s){return i=Pn(22,i,null,s),i.lanes=0,i}function dp(i,s,o){return Da(s,i.child,null,o),i=fp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function IT(i,s,o){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),xm(i.return,s,o)}function mp(i,s,o,c,m,g){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=c,E.tail=o,E.tailMode=m,E.treeForkCount=g)}function DT(i,s,o){var c=s.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var E=St.current,w=(E&2)!==0;if(w?(E=E&1|2,s.flags|=128):E&=1,oe(St,E),Zt(i,s,c,o),c=ze?ru:0,!w&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&IT(i,o,s);else if(i.tag===19)IT(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=s.child,m=null;o!==null;)i=o.alternate,i!==null&&Nh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),mp(s,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&Nh(i)===null){s.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}mp(s,!0,o,null,g,c);break;case"together":mp(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Rr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),vs|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(xo(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=Er(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Er(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function pp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&wh(i)))}function vI(i,s,o){switch(s.tag){case 3:ut(s,s.stateNode.containerInfo),cs(s,Pt,i.memoizedState.cache),Sa();break;case 27:case 5:hi(s);break;case 4:ut(s,s.stateNode.containerInfo);break;case 10:cs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,zm(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ms(s),s.flags|=128,null):(o&s.child.childLanes)!==0?xT(i,s,o):(ms(s),i=Rr(i,s,o),i!==null?i.sibling:null);ms(s);break;case 19:var m=(i.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(xo(i,s,o,!1),c=(o&s.childLanes)!==0),m){if(c)return DT(i,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),oe(St,St.current),c)break;return null;case 22:return s.lanes=0,bT(i,s,o,s.pendingProps);case 24:cs(s,Pt,i.memoizedState.cache)}return Rr(i,s,o)}function NT(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Ot=!0;else{if(!pp(i,o)&&(s.flags&128)===0)return Ot=!1,vI(i,s,o);Ot=(i.flags&131072)!==0}else Ot=!1,ze&&(s.flags&1048576)!==0&&u_(s,ru,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(i=xa(s.elementType),s.type=i,typeof i=="function")Tm(i)?(c=Ma(i,c),s.tag=1,s=CT(null,s,i,c,o)):(s.tag=0,s=lp(null,s,i,c,o));else{if(i!=null){var m=i.$$typeof;if(m===se){s.tag=11,s=_T(null,s,i,c,o);break e}else if(m===I){s.tag=14,s=TT(null,s,i,c,o);break e}}throw s=Fe(i)||i,Error(r(306,s,""))}}return s;case 0:return lp(i,s,s.type,s.pendingProps,o);case 1:return c=s.type,m=Ma(c,s.pendingProps),CT(i,s,c,m,o);case 3:e:{if(ut(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var g=s.memoizedState;m=g.element,Om(i,s),fu(s,c,null,o);var E=s.memoizedState;if(c=E.cache,cs(s,Pt,c),c!==g.cache&&Im(s,[Pt],o,!0),hu(),c=E.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=RT(i,s,c,o);break e}else if(c!==m){m=Xn(Error(r(424)),s),su(m),s=RT(i,s,c,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(at=Jn(i.firstChild),Qt=s,ze=!0,ls=null,Wn=!0,o=b_(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Sa(),c===m){s=Rr(i,s,o);break e}Zt(i,s,c,o)}s=s.child}return s;case 26:return Fh(i,s),i===null?(o=FE(s.type,null,s.pendingProps,null))?s.memoizedState=o:ze||(o=s.type,i=s.pendingProps,c=af(Se.current).createElement(o),c[Dt]=s,c[qt]=i,Jt(c,o,i),Nt(c),s.stateNode=c):s.memoizedState=FE(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return hi(s),i===null&&ze&&(c=s.stateNode=jE(s.type,s.pendingProps,Se.current),Qt=s,Wn=!0,m=at,ws(s.type)?(Xp=m,at=Jn(c.firstChild)):at=m),Zt(i,s,s.pendingProps.children,o),Fh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&ze&&((m=c=at)&&(c=XI(c,s.type,s.pendingProps,Wn),c!==null?(s.stateNode=c,Qt=s,at=Jn(c.firstChild),Wn=!1,m=!0):m=!1),m||us(s)),hi(s),m=s.type,g=s.pendingProps,E=i!==null?i.memoizedProps:null,c=g.children,Hp(m,g)?c=null:E!==null&&Hp(m,E)&&(s.flags|=32),s.memoizedState!==null&&(m=Fm(i,s,uI,null,null,o),Mu._currentValue=m),Fh(i,s),Zt(i,s,c,o),s.child;case 6:return i===null&&ze&&((i=o=at)&&(o=$I(o,s.pendingProps,Wn),o!==null?(s.stateNode=o,Qt=s,at=null,i=!0):i=!1),i||us(s)),null;case 13:return xT(i,s,o);case 4:return ut(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=Da(s,null,c,o):Zt(i,s,c,o),s.child;case 11:return _T(i,s,s.type,s.pendingProps,o);case 7:return Zt(i,s,s.pendingProps,o),s.child;case 8:return Zt(i,s,s.pendingProps.children,o),s.child;case 12:return Zt(i,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,cs(s,s.type,c.value),Zt(i,s,c.children,o),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,Ca(s),m=Wt(m),c=c(m),s.flags|=1,Zt(i,s,c,o),s.child;case 14:return TT(i,s,s.type,s.pendingProps,o);case 15:return ET(i,s,s.type,s.pendingProps,o);case 19:return DT(i,s,o);case 31:return yI(i,s,o);case 22:return bT(i,s,o,s.pendingProps);case 24:return Ca(s),c=Wt(Pt),i===null?(m=Mm(),m===null&&(m=it,g=Dm(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),s.memoizedState={parent:c,cache:m},Vm(s),cs(s,Pt,m)):((i.lanes&o)!==0&&(Om(i,s),fu(s,null,null,o),hu()),m=i.memoizedState,g=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),cs(s,Pt,c)):(c=g.cache,cs(s,Pt,c),c!==m.cache&&Im(s,[Pt],o,!0))),Zt(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function xr(i){i.flags|=4}function gp(i,s,o,c,m){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(rE())i.flags|=8192;else throw Ia=Rh,Pm}else i.flags&=-16777217}function MT(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!KE(s))if(rE())i.flags|=8192;else throw Ia=Rh,Pm}function qh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Qc():536870912,i.lanes|=s,zo|=s)}function vu(i,s){if(!ze)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function ot(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(s)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,s}function _I(i,s,o){var c=s.pendingProps;switch(Sm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(s),null;case 1:return ot(s),null;case 3:return o=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Sr(Pt),$e(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Ro(s)?xr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Cm())),ot(s),null;case 26:var m=s.type,g=s.memoizedState;return i===null?(xr(s),g!==null?(ot(s),MT(s,g)):(ot(s),gp(s,m,null,c,o))):g?g!==i.memoizedState?(xr(s),ot(s),MT(s,g)):(ot(s),s.flags&=-16777217):(i=i.memoizedProps,i!==c&&xr(s),ot(s),gp(s,m,i,c,o)),null;case 27:if(Pi(s),o=Se.current,m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&xr(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return ot(s),null}i=ce.current,Ro(s)?h_(s):(i=jE(m,c,o),s.stateNode=i,xr(s))}return ot(s),null;case 5:if(Pi(s),m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&xr(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return ot(s),null}if(g=ce.current,Ro(s))h_(s);else{var E=af(Se.current);switch(g){case 1:g=E.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=E.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=E.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?E.createElement("select",{is:c.is}):E.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?E.createElement(m,{is:c.is}):E.createElement(m)}}g[Dt]=s,g[qt]=c;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)g.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=g;e:switch(Jt(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&xr(s)}}return ot(s),gp(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&xr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=Se.current,Ro(s)){if(i=s.stateNode,o=s.memoizedProps,c=null,m=Qt,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[Dt]=s,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||xE(i.nodeValue,o)),i||us(s,!0)}else i=af(i).createTextNode(c),i[Dt]=s,s.stateNode=i}return ot(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(c=Ro(s),o!==null){if(i===null){if(!c)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Dt]=s}else Sa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),i=!1}else o=Cm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(On(s),s):(On(s),null);if((s.flags&128)!==0)throw Error(r(558))}return ot(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Ro(s),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Dt]=s}else Sa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),m=!1}else m=Cm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(On(s),s):(On(s),null)}return On(s),(s.flags&128)!==0?(s.lanes=o,s):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),qh(s,s.updateQueue),ot(s),null);case 4:return $e(),i===null&&Up(s.stateNode.containerInfo),ot(s),null;case 10:return Sr(s.type),ot(s),null;case 19:if($(St),c=s.memoizedState,c===null)return ot(s),null;if(m=(s.flags&128)!==0,g=c.rendering,g===null)if(m)vu(c,!1);else{if(vt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=Nh(i),g!==null){for(s.flags|=128,vu(c,!1),i=g.updateQueue,s.updateQueue=i,qh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)a_(o,i),o=o.sibling;return oe(St,St.current&1|2),ze&&br(s,c.treeForkCount),s.child}i=i.sibling}c.tail!==null&&fn()>$h&&(s.flags|=128,m=!0,vu(c,!1),s.lanes=4194304)}else{if(!m)if(i=Nh(g),i!==null){if(s.flags|=128,m=!0,i=i.updateQueue,s.updateQueue=i,qh(s,i),vu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!ze)return ot(s),null}else 2*fn()-c.renderingStartTime>$h&&o!==536870912&&(s.flags|=128,m=!0,vu(c,!1),s.lanes=4194304);c.isBackwards?(g.sibling=s.child,s.child=g):(i=c.last,i!==null?i.sibling=g:s.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=fn(),i.sibling=null,o=St.current,oe(St,m?o&1|2:o&1),ze&&br(s,c.treeForkCount),i):(ot(s),null);case 22:case 23:return On(s),jm(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(ot(s),s.subtreeFlags&6&&(s.flags|=8192)):ot(s),o=s.updateQueue,o!==null&&qh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),i!==null&&$(Ra),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Sr(Pt),ot(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function TI(i,s){switch(Sm(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Sr(Pt),$e(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Pi(s),null;case 31:if(s.memoizedState!==null){if(On(s),s.alternate===null)throw Error(r(340));Sa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(On(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Sa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return $(St),null;case 4:return $e(),null;case 10:return Sr(s.type),null;case 22:case 23:return On(s),jm(),i!==null&&$(Ra),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Sr(Pt),null;case 25:return null;default:return null}}function PT(i,s){switch(Sm(s),s.tag){case 3:Sr(Pt),$e();break;case 26:case 27:case 5:Pi(s);break;case 4:$e();break;case 31:s.memoizedState!==null&&On(s);break;case 13:On(s);break;case 19:$(St);break;case 10:Sr(s.type);break;case 22:case 23:On(s),jm(),i!==null&&$(Ra);break;case 24:Sr(Pt)}}function _u(i,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var g=o.create,E=o.inst;c=g(),E.destroy=c}o=o.next}while(o!==m)}}catch(w){Ze(s,s.return,w)}}function gs(i,s,o){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&i)===i){var E=c.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,m=s;var O=o,K=w;try{K()}catch(J){Ze(m,O,J)}}}c=c.next}while(c!==g)}}catch(J){Ze(s,s.return,J)}}function VT(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{S_(s,o)}catch(c){Ze(i,i.return,c)}}}function OT(i,s,o){o.props=Ma(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){Ze(i,s,c)}}function Tu(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(m){Ze(i,s,m)}}function er(i,s){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Ze(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Ze(i,s,m)}else o.current=null}function kT(i){var s=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Ze(i,i.return,m)}}function yp(i,s,o){try{var c=i.stateNode;FI(c,i.type,o,s),c[qt]=s}catch(m){Ze(i,i.return,m)}}function LT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ws(i.type)||i.tag===4}function vp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||LT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ws(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function _p(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=yi));else if(c!==4&&(c===27&&ws(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(_p(i,s,o),i=i.sibling;i!==null;)_p(i,s,o),i=i.sibling}function Gh(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(c!==4&&(c===27&&ws(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Gh(i,s,o),i=i.sibling;i!==null;)Gh(i,s,o),i=i.sibling}function UT(i){var s=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);Jt(s,c,o),s[Dt]=i,s[qt]=o}catch(g){Ze(i,i.return,g)}}var Ir=!1,kt=!1,Tp=!1,jT=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function EI(i,s){if(i=i.containerInfo,Bp=df,i=W0(i),dm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var E=0,w=-1,O=-1,K=0,J=0,ne=i,X=null;t:for(;;){for(var W;ne!==o||m!==0&&ne.nodeType!==3||(w=E+m),ne!==g||c!==0&&ne.nodeType!==3||(O=E+c),ne.nodeType===3&&(E+=ne.nodeValue.length),(W=ne.firstChild)!==null;)X=ne,ne=W;for(;;){if(ne===i)break t;if(X===o&&++K===m&&(w=E),X===g&&++J===c&&(O=E),(W=ne.nextSibling)!==null)break;ne=X,X=ne.parentNode}ne=W}o=w===-1||O===-1?null:{start:w,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(Fp={focusedElem:i,selectionRange:o},df=!1,Yt=s;Yt!==null;)if(s=Yt,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Yt=i;else for(;Yt!==null;){switch(s=Yt,g=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var me=Ma(o.type,m);i=c.getSnapshotBeforeUpdate(me,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(ve){Ze(o,o.return,ve)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Gp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Gp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Yt=i;break}Yt=s.return}}function zT(i,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Nr(i,o),c&4&&_u(5,o);break;case 1:if(Nr(i,o),c&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(E){Ze(o,o.return,E)}else{var m=Ma(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(E){Ze(o,o.return,E)}}c&64&&VT(o),c&512&&Tu(o,o.return);break;case 3:if(Nr(i,o),c&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{S_(i,s)}catch(E){Ze(o,o.return,E)}}break;case 27:s===null&&c&4&&UT(o);case 26:case 5:Nr(i,o),s===null&&c&4&&kT(o),c&512&&Tu(o,o.return);break;case 12:Nr(i,o);break;case 31:Nr(i,o),c&4&&HT(i,o);break;case 13:Nr(i,o),c&4&&qT(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=DI.bind(null,o),QI(i,o))));break;case 22:if(c=o.memoizedState!==null||Ir,!c){s=s!==null&&s.memoizedState!==null||kt,m=Ir;var g=kt;Ir=c,(kt=s)&&!g?Mr(i,o,(o.subtreeFlags&8772)!==0):Nr(i,o),Ir=m,kt=g}break;case 30:break;default:Nr(i,o)}}function BT(i){var s=i.alternate;s!==null&&(i.alternate=null,BT(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&uo(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ht=null,Tn=!1;function Dr(i,s,o){for(o=o.child;o!==null;)FT(i,s,o),o=o.sibling}function FT(i,s,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(di,o)}catch{}switch(o.tag){case 26:kt||er(o,s),Dr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:kt||er(o,s);var c=ht,m=Tn;ws(o.type)&&(ht=o.stateNode,Tn=!1),Dr(i,s,o),Iu(o.stateNode),ht=c,Tn=m;break;case 5:kt||er(o,s);case 6:if(c=ht,m=Tn,ht=null,Dr(i,s,o),ht=c,Tn=m,ht!==null)if(Tn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(o.stateNode)}catch(g){Ze(o,s,g)}else try{ht.removeChild(o.stateNode)}catch(g){Ze(o,s,g)}break;case 18:ht!==null&&(Tn?(i=ht,VE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Xo(i)):VE(ht,o.stateNode));break;case 4:c=ht,m=Tn,ht=o.stateNode.containerInfo,Tn=!0,Dr(i,s,o),ht=c,Tn=m;break;case 0:case 11:case 14:case 15:gs(2,o,s),kt||gs(4,o,s),Dr(i,s,o);break;case 1:kt||(er(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&OT(o,s,c)),Dr(i,s,o);break;case 21:Dr(i,s,o);break;case 22:kt=(c=kt)||o.memoizedState!==null,Dr(i,s,o),kt=c;break;default:Dr(i,s,o)}}function HT(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Xo(i)}catch(o){Ze(s,s.return,o)}}}function qT(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Xo(i)}catch(o){Ze(s,s.return,o)}}function bI(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new jT),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new jT),s;default:throw Error(r(435,i.tag))}}function Yh(i,s){var o=bI(i);s.forEach(function(c){if(!o.has(c)){o.add(c);var m=NI.bind(null,i,c);c.then(m,m)}})}function En(i,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=i,E=s,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(ws(w.type)){ht=w.stateNode,Tn=!1;break e}break;case 5:ht=w.stateNode,Tn=!1;break e;case 3:case 4:ht=w.stateNode.containerInfo,Tn=!0;break e}w=w.return}if(ht===null)throw Error(r(160));FT(g,E,m),ht=null,Tn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)GT(s,i),s=s.sibling}var wi=null;function GT(i,s){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:En(s,i),bn(i),c&4&&(gs(3,i,i.return),_u(3,i),gs(5,i,i.return));break;case 1:En(s,i),bn(i),c&512&&(kt||o===null||er(o,o.return)),c&64&&Ir&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=wi;if(En(s,i),bn(i),c&512&&(kt||o===null||er(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[zi]||g[Dt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),Jt(g,c,o),g[Dt]=i,Nt(g),c=g;break e;case"link":var E=GE("link","href",m).get(c+(o.href||""));if(E){for(var w=0;w<E.length;w++)if(g=E[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(w,1);break t}}g=m.createElement(c),Jt(g,c,o),m.head.appendChild(g);break;case"meta":if(E=GE("meta","content",m).get(c+(o.content||""))){for(w=0;w<E.length;w++)if(g=E[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(w,1);break t}}g=m.createElement(c),Jt(g,c,o),m.head.appendChild(g);break;default:throw Error(r(468,c))}g[Dt]=i,Nt(g),c=g}i.stateNode=c}else YE(m,i.type,i.stateNode);else i.stateNode=qE(m,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?YE(m,i.type,i.stateNode):qE(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&yp(i,i.memoizedProps,o.memoizedProps)}break;case 27:En(s,i),bn(i),c&512&&(kt||o===null||er(o,o.return)),o!==null&&c&4&&yp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(En(s,i),bn(i),c&512&&(kt||o===null||er(o,o.return)),i.flags&32){m=i.stateNode;try{_n(m,"")}catch(me){Ze(i,i.return,me)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,yp(i,m,o!==null?o.memoizedProps:m)),c&1024&&(Tp=!0);break;case 6:if(En(s,i),bn(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(me){Ze(i,i.return,me)}}break;case 3:if(uf=null,m=wi,wi=of(s.containerInfo),En(s,i),wi=m,bn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Xo(s.containerInfo)}catch(me){Ze(i,i.return,me)}Tp&&(Tp=!1,YT(i));break;case 4:c=wi,wi=of(i.stateNode.containerInfo),En(s,i),bn(i),wi=c;break;case 12:En(s,i),bn(i);break;case 31:En(s,i),bn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Yh(i,c)));break;case 13:En(s,i),bn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Xh=fn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Yh(i,c)));break;case 22:m=i.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,K=Ir,J=kt;if(Ir=K||m,kt=J||O,En(s,i),kt=J,Ir=K,bn(i),c&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||O||Ir||kt||Pa(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){O=o=s;try{if(g=O.stateNode,m)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=O.stateNode;var ne=O.memoizedProps.style,X=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;w.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(me){Ze(O,O.return,me)}}}else if(s.tag===6){if(o===null){O=s;try{O.stateNode.nodeValue=m?"":O.memoizedProps}catch(me){Ze(O,O.return,me)}}}else if(s.tag===18){if(o===null){O=s;try{var W=O.stateNode;m?OE(W,!0):OE(O.stateNode,!1)}catch(me){Ze(O,O.return,me)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Yh(i,o))));break;case 19:En(s,i),bn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Yh(i,c)));break;case 30:break;case 21:break;default:En(s,i),bn(i)}}function bn(i){var s=i.flags;if(s&2){try{for(var o,c=i.return;c!==null;){if(LT(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var m=o.stateNode,g=vp(i);Gh(i,g,m);break;case 5:var E=o.stateNode;o.flags&32&&(_n(E,""),o.flags&=-33);var w=vp(i);Gh(i,w,E);break;case 3:case 4:var O=o.stateNode.containerInfo,K=vp(i);_p(i,K,O);break;default:throw Error(r(161))}}catch(J){Ze(i,i.return,J)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function YT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;YT(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Nr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)zT(i,s.alternate,s),s=s.sibling}function Pa(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:gs(4,s,s.return),Pa(s);break;case 1:er(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&OT(s,s.return,o),Pa(s);break;case 27:Iu(s.stateNode);case 26:case 5:er(s,s.return),Pa(s);break;case 22:s.memoizedState===null&&Pa(s);break;case 30:Pa(s);break;default:Pa(s)}i=i.sibling}}function Mr(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=i,g=s,E=g.flags;switch(g.tag){case 0:case 11:case 15:Mr(m,g,o),_u(4,g);break;case 1:if(Mr(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(K){Ze(c,c.return,K)}if(c=g,m=c.updateQueue,m!==null){var w=c.stateNode;try{var O=m.shared.hiddenCallbacks;if(O!==null)for(m.shared.hiddenCallbacks=null,m=0;m<O.length;m++)w_(O[m],w)}catch(K){Ze(c,c.return,K)}}o&&E&64&&VT(g),Tu(g,g.return);break;case 27:UT(g);case 26:case 5:Mr(m,g,o),o&&c===null&&E&4&&kT(g),Tu(g,g.return);break;case 12:Mr(m,g,o);break;case 31:Mr(m,g,o),o&&E&4&&HT(m,g);break;case 13:Mr(m,g,o),o&&E&4&&qT(m,g);break;case 22:g.memoizedState===null&&Mr(m,g,o),Tu(g,g.return);break;case 30:break;default:Mr(m,g,o)}s=s.sibling}}function Ep(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&au(o))}function bp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&au(i))}function Si(i,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)KT(i,s,o,c),s=s.sibling}function KT(i,s,o,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Si(i,s,o,c),m&2048&&_u(9,s);break;case 1:Si(i,s,o,c);break;case 3:Si(i,s,o,c),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&au(i)));break;case 12:if(m&2048){Si(i,s,o,c),i=s.stateNode;try{var g=s.memoizedProps,E=g.id,w=g.onPostCommit;typeof w=="function"&&w(E,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){Ze(s,s.return,O)}}else Si(i,s,o,c);break;case 31:Si(i,s,o,c);break;case 13:Si(i,s,o,c);break;case 23:break;case 22:g=s.stateNode,E=s.alternate,s.memoizedState!==null?g._visibility&2?Si(i,s,o,c):Eu(i,s):g._visibility&2?Si(i,s,o,c):(g._visibility|=2,Lo(i,s,o,c,(s.subtreeFlags&10256)!==0||!1)),m&2048&&Ep(E,s);break;case 24:Si(i,s,o,c),m&2048&&bp(s.alternate,s);break;default:Si(i,s,o,c)}}function Lo(i,s,o,c,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=i,E=s,w=o,O=c,K=E.flags;switch(E.tag){case 0:case 11:case 15:Lo(g,E,w,O,m),_u(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?Lo(g,E,w,O,m):Eu(g,E):(J._visibility|=2,Lo(g,E,w,O,m)),m&&K&2048&&Ep(E.alternate,E);break;case 24:Lo(g,E,w,O,m),m&&K&2048&&bp(E.alternate,E);break;default:Lo(g,E,w,O,m)}s=s.sibling}}function Eu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,c=s,m=c.flags;switch(c.tag){case 22:Eu(o,c),m&2048&&Ep(c.alternate,c);break;case 24:Eu(o,c),m&2048&&bp(c.alternate,c);break;default:Eu(o,c)}s=s.sibling}}var bu=8192;function Uo(i,s,o){if(i.subtreeFlags&bu)for(i=i.child;i!==null;)XT(i,s,o),i=i.sibling}function XT(i,s,o){switch(i.tag){case 26:Uo(i,s,o),i.flags&bu&&i.memoizedState!==null&&lD(o,wi,i.memoizedState,i.memoizedProps);break;case 5:Uo(i,s,o);break;case 3:case 4:var c=wi;wi=of(i.stateNode.containerInfo),Uo(i,s,o),wi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=bu,bu=16777216,Uo(i,s,o),bu=c):Uo(i,s,o));break;default:Uo(i,s,o)}}function $T(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function wu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Yt=c,WT(c,i)}$T(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)QT(i),i=i.sibling}function QT(i){switch(i.tag){case 0:case 11:case 15:wu(i),i.flags&2048&&gs(9,i,i.return);break;case 3:wu(i);break;case 12:wu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Kh(i)):wu(i);break;default:wu(i)}}function Kh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Yt=c,WT(c,i)}$T(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:gs(8,s,s.return),Kh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Kh(s));break;default:Kh(s)}i=i.sibling}}function WT(i,s){for(;Yt!==null;){var o=Yt;switch(o.tag){case 0:case 11:case 15:gs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:au(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Yt=c;else e:for(o=i;Yt!==null;){c=Yt;var m=c.sibling,g=c.return;if(BT(c),c===o){Yt=null;break e}if(m!==null){m.return=g,Yt=m;break e}Yt=g}}}var wI={getCacheForType:function(i){var s=Wt(Pt),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return Wt(Pt).controller.signal}},SI=typeof WeakMap=="function"?WeakMap:Map,Ye=0,it=null,Pe=null,Oe=0,We=0,kn=null,ys=!1,jo=!1,wp=!1,Pr=0,vt=0,vs=0,Va=0,Sp=0,Ln=0,zo=0,Su=null,wn=null,Ap=!1,Xh=0,ZT=0,$h=1/0,Qh=null,_s=null,Ft=0,Ts=null,Bo=null,Vr=0,Cp=0,Rp=null,JT=null,Au=0,xp=null;function Un(){return(Ye&2)!==0&&Oe!==0?Oe&-Oe:Z.T!==null?Vp():Wc()}function eE(){if(Ln===0)if((Oe&536870912)===0||ze){var i=oa;oa<<=1,(oa&3932160)===0&&(oa=262144),Ln=i}else Ln=536870912;return i=Vn.current,i!==null&&(i.flags|=32),Ln}function Sn(i,s,o){(i===it&&(We===2||We===9)||i.cancelPendingCommit!==null)&&(Fo(i,0),Es(i,Oe,Ln,!1)),la(i,o),((Ye&2)===0||i!==it)&&(i===it&&((Ye&2)===0&&(Va|=o),vt===4&&Es(i,Oe,Ln,!1)),tr(i))}function tE(i,s,o){if((Ye&6)!==0)throw Error(r(327));var c=!o&&(s&127)===0&&(s&i.expiredLanes)===0||mi(i,s),m=c?RI(i,s):Dp(i,s,!0),g=c;do{if(m===0){jo&&!c&&Es(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!AI(o)){m=Dp(i,s,!1),g=!1;continue}if(m===2){if(g=s,i.errorRecoveryDisabledLanes&g)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var w=i;m=Su;var O=w.current.memoizedState.isDehydrated;if(O&&(Fo(w,E).flags|=256),E=Dp(w,E,!1),E!==2){if(wp&&!O){w.errorRecoveryDisabledLanes|=g,Va|=g,m=4;break e}g=wn,wn=m,g!==null&&(wn===null?wn=g:wn.push.apply(wn,g))}m=E}if(g=!1,m!==2)continue}}if(m===1){Fo(i,0),Es(i,s,0,!0);break}e:{switch(c=i,g=m,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Es(c,s,Ln,!ys);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=Xh+300-fn(),10<m)){if(Es(c,s,Ln,!ys),Li(c,0,!0)!==0)break e;Vr=s,c.timeoutHandle=ME(nE.bind(null,c,o,wn,Qh,Ap,s,Ln,Va,zo,ys,g,"Throttled",-0,0),m);break e}nE(c,o,wn,Qh,Ap,s,Ln,Va,zo,ys,g,null,-0,0)}}break}while(!0);tr(i)}function nE(i,s,o,c,m,g,E,w,O,K,J,ne,X,W){if(i.timeoutHandle=-1,ne=s.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yi},XT(s,g,ne);var me=(g&62914560)===g?Xh-fn():(g&4194048)===g?ZT-fn():0;if(me=uD(ne,me),me!==null){Vr=g,i.cancelPendingCommit=me(cE.bind(null,i,s,g,o,c,m,E,w,O,J,ne,null,X,W)),Es(i,g,E,!K);return}}cE(i,s,g,o,c,m,E,w,O)}function AI(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!Mn(g(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Es(i,s,o,c){s&=~Sp,s&=~Va,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var m=s;0<m;){var g=31-bt(m),E=1<<g;c[g]=-1,m&=~E}o!==0&&ua(i,o,s)}function Wh(){return(Ye&6)===0?(Cu(0),!1):!0}function Ip(){if(Pe!==null){if(We===0)var i=Pe.return;else i=Pe,wr=Aa=null,Gm(i),Mo=null,lu=0,i=Pe;for(;i!==null;)PT(i.alternate,i),i=i.return;Pe=null}}function Fo(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,GI(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Vr=0,Ip(),it=i,Pe=o=Er(i.current,null),Oe=s,We=0,kn=null,ys=!1,jo=mi(i,s),wp=!1,zo=Ln=Sp=Va=vs=vt=0,wn=Su=null,Ap=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var m=31-bt(c),g=1<<m;s|=i[m],c&=~g}return Pr=s,vh(),o}function iE(i,s){Ie=null,Z.H=gu,s===No||s===Ch?(s=__(),We=3):s===Pm?(s=__(),We=4):We=s===op?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,kn=s,Pe===null&&(vt=1,zh(i,Xn(s,i.current)))}function rE(){var i=Vn.current;return i===null?!0:(Oe&4194048)===Oe?Zn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?i===Zn:!1}function sE(){var i=Z.H;return Z.H=gu,i===null?gu:i}function aE(){var i=Z.A;return Z.A=wI,i}function Zh(){vt=4,ys||(Oe&4194048)!==Oe&&Vn.current!==null||(jo=!0),(vs&134217727)===0&&(Va&134217727)===0||it===null||Es(it,Oe,Ln,!1)}function Dp(i,s,o){var c=Ye;Ye|=2;var m=sE(),g=aE();(it!==i||Oe!==s)&&(Qh=null,Fo(i,s)),s=!1;var E=vt;e:do try{if(We!==0&&Pe!==null){var w=Pe,O=kn;switch(We){case 8:Ip(),E=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(s=!0);var K=We;if(We=0,kn=null,Ho(i,w,O,K),o&&jo){E=0;break e}break;default:K=We,We=0,kn=null,Ho(i,w,O,K)}}CI(),E=vt;break}catch(J){iE(i,J)}while(!0);return s&&i.shellSuspendCounter++,wr=Aa=null,Ye=c,Z.H=m,Z.A=g,Pe===null&&(it=null,Oe=0,vh()),E}function CI(){for(;Pe!==null;)oE(Pe)}function RI(i,s){var o=Ye;Ye|=2;var c=sE(),m=aE();it!==i||Oe!==s?(Qh=null,$h=fn()+500,Fo(i,s)):jo=mi(i,s);e:do try{if(We!==0&&Pe!==null){s=Pe;var g=kn;t:switch(We){case 1:We=0,kn=null,Ho(i,s,g,1);break;case 2:case 9:if(y_(g)){We=0,kn=null,lE(s);break}s=function(){We!==2&&We!==9||it!==i||(We=7),tr(i)},g.then(s,s);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:y_(g)?(We=0,kn=null,lE(s)):(We=0,kn=null,Ho(i,s,g,7));break;case 5:var E=null;switch(Pe.tag){case 26:E=Pe.memoizedState;case 5:case 27:var w=Pe;if(E?KE(E):w.stateNode.complete){We=0,kn=null;var O=w.sibling;if(O!==null)Pe=O;else{var K=w.return;K!==null?(Pe=K,Jh(K)):Pe=null}break t}}We=0,kn=null,Ho(i,s,g,5);break;case 6:We=0,kn=null,Ho(i,s,g,6);break;case 8:Ip(),vt=6;break e;default:throw Error(r(462))}}xI();break}catch(J){iE(i,J)}while(!0);return wr=Aa=null,Z.H=c,Z.A=m,Ye=o,Pe!==null?0:(it=null,Oe=0,vh(),vt)}function xI(){for(;Pe!==null&&!am();)oE(Pe)}function oE(i){var s=NT(i.alternate,i,Pr);i.memoizedProps=i.pendingProps,s===null?Jh(i):Pe=s}function lE(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=AT(o,s,s.pendingProps,s.type,void 0,Oe);break;case 11:s=AT(o,s,s.pendingProps,s.type.render,s.ref,Oe);break;case 5:Gm(s);default:PT(o,s),s=Pe=a_(s,Pr),s=NT(o,s,Pr)}i.memoizedProps=i.pendingProps,s===null?Jh(i):Pe=s}function Ho(i,s,o,c){wr=Aa=null,Gm(s),Mo=null,lu=0;var m=s.return;try{if(gI(i,m,s,o,Oe)){vt=1,zh(i,Xn(o,i.current)),Pe=null;return}}catch(g){if(m!==null)throw Pe=m,g;vt=1,zh(i,Xn(o,i.current)),Pe=null;return}s.flags&32768?(ze||c===1?i=!0:jo||(Oe&536870912)!==0?i=!1:(ys=i=!0,(c===2||c===9||c===3||c===6)&&(c=Vn.current,c!==null&&c.tag===13&&(c.flags|=16384))),uE(s,i)):Jh(s)}function Jh(i){var s=i;do{if((s.flags&32768)!==0){uE(s,ys);return}i=s.return;var o=_I(s.alternate,s,Pr);if(o!==null){Pe=o;return}if(s=s.sibling,s!==null){Pe=s;return}Pe=s=i}while(s!==null);vt===0&&(vt=5)}function uE(i,s){do{var o=TI(i.alternate,i);if(o!==null){o.flags&=32767,Pe=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Pe=i;return}Pe=i=o}while(i!==null);vt=6,Pe=null}function cE(i,s,o,c,m,g,E,w,O){i.cancelPendingCommit=null;do ef();while(Ft!==0);if((Ye&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=vm,um(i,o,g,E,w,O),i===it&&(Pe=it=null,Oe=0),Bo=s,Ts=i,Vr=o,Cp=g,Rp=m,JT=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,MI(Wr,function(){return pE(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null,m=ae.p,ae.p=2,E=Ye,Ye|=4;try{EI(i,s,o)}finally{Ye=E,ae.p=m,Z.T=c}}Ft=1,hE(),fE(),dE()}}function hE(){if(Ft===1){Ft=0;var i=Ts,s=Bo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var c=ae.p;ae.p=2;var m=Ye;Ye|=4;try{GT(s,i);var g=Fp,E=W0(i.containerInfo),w=g.focusedElem,O=g.selectionRange;if(E!==w&&w&&w.ownerDocument&&Q0(w.ownerDocument.documentElement,w)){if(O!==null&&dm(w)){var K=O.start,J=O.end;if(J===void 0&&(J=K),"selectionStart"in w)w.selectionStart=K,w.selectionEnd=Math.min(J,w.value.length);else{var ne=w.ownerDocument||document,X=ne&&ne.defaultView||window;if(X.getSelection){var W=X.getSelection(),me=w.textContent.length,ve=Math.min(O.start,me),nt=O.end===void 0?ve:Math.min(O.end,me);!W.extend&&ve>nt&&(E=nt,nt=ve,ve=E);var q=$0(w,ve),z=$0(w,nt);if(q&&z&&(W.rangeCount!==1||W.anchorNode!==q.node||W.anchorOffset!==q.offset||W.focusNode!==z.node||W.focusOffset!==z.offset)){var Y=ne.createRange();Y.setStart(q.node,q.offset),W.removeAllRanges(),ve>nt?(W.addRange(Y),W.extend(z.node,z.offset)):(Y.setEnd(z.node,z.offset),W.addRange(Y))}}}}for(ne=[],W=w;W=W.parentNode;)W.nodeType===1&&ne.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ne.length;w++){var ee=ne[w];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}df=!!Bp,Fp=Bp=null}finally{Ye=m,ae.p=c,Z.T=o}}i.current=s,Ft=2}}function fE(){if(Ft===2){Ft=0;var i=Ts,s=Bo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var c=ae.p;ae.p=2;var m=Ye;Ye|=4;try{zT(i,s.alternate,s)}finally{Ye=m,ae.p=c,Z.T=o}}Ft=3}}function dE(){if(Ft===4||Ft===3){Ft=0,qc();var i=Ts,s=Bo,o=Vr,c=JT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ft=5:(Ft=0,Bo=Ts=null,mE(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(_s=null),yr(o),s=s.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(di,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=Z.T,m=ae.p,ae.p=2,Z.T=null;try{for(var g=i.onRecoverableError,E=0;E<c.length;E++){var w=c[E];g(w.value,{componentStack:w.stack})}}finally{Z.T=s,ae.p=m}}(Vr&3)!==0&&ef(),tr(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===xp?Au++:(Au=0,xp=i):Au=0,Cu(0)}}function mE(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,au(s)))}function ef(){return hE(),fE(),dE(),pE()}function pE(){if(Ft!==5)return!1;var i=Ts,s=Cp;Cp=0;var o=yr(Vr),c=Z.T,m=ae.p;try{ae.p=32>o?32:o,Z.T=null,o=Rp,Rp=null;var g=Ts,E=Vr;if(Ft=0,Bo=Ts=null,Vr=0,(Ye&6)!==0)throw Error(r(331));var w=Ye;if(Ye|=4,QT(g.current),KT(g,g.current,E,o),Ye=w,Cu(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(di,g)}catch{}return!0}finally{ae.p=m,Z.T=c,mE(i,s)}}function gE(i,s,o){s=Xn(o,s),s=ap(i.stateNode,s,2),i=ds(i,s,2),i!==null&&(la(i,2),tr(i))}function Ze(i,s,o){if(i.tag===3)gE(i,i,o);else for(;s!==null;){if(s.tag===3){gE(s,i,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(_s===null||!_s.has(c))){i=Xn(o,i),o=yT(2),c=ds(s,o,2),c!==null&&(vT(o,c,s,i),la(c,2),tr(c));break}}s=s.return}}function Np(i,s,o){var c=i.pingCache;if(c===null){c=i.pingCache=new SI;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(o)||(wp=!0,m.add(o),i=II.bind(null,i,s,o),s.then(i,i))}function II(i,s,o){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,it===i&&(Oe&o)===o&&(vt===4||vt===3&&(Oe&62914560)===Oe&&300>fn()-Xh?(Ye&2)===0&&Fo(i,0):Sp|=o,zo===Oe&&(zo=0)),tr(i)}function yE(i,s){s===0&&(s=Qc()),i=ba(i,s),i!==null&&(la(i,s),tr(i))}function DI(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),yE(i,o)}function NI(i,s){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),yE(i,o)}function MI(i,s){return Bt(i,s)}var tf=null,qo=null,Mp=!1,nf=!1,Pp=!1,bs=0;function tr(i){i!==qo&&i.next===null&&(qo===null?tf=qo=i:qo=qo.next=i),nf=!0,Mp||(Mp=!0,VI())}function Cu(i,s){if(!Pp&&nf){Pp=!0;do for(var o=!1,c=tf;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var E=c.suspendedLanes,w=c.pingedLanes;g=(1<<31-bt(42|i)+1)-1,g&=m&~(E&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,EE(c,g))}else g=Oe,g=Li(c,c===it?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||mi(c,g)||(o=!0,EE(c,g));c=c.next}while(o);Pp=!1}}function PI(){vE()}function vE(){nf=Mp=!1;var i=0;bs!==0&&qI()&&(i=bs);for(var s=fn(),o=null,c=tf;c!==null;){var m=c.next,g=_E(c,s);g===0?(c.next=null,o===null?tf=m:o.next=m,m===null&&(qo=o)):(o=c,(i!==0||(g&3)!==0)&&(nf=!0)),c=m}Ft!==0&&Ft!==5||Cu(i),bs!==0&&(bs=0)}function _E(i,s){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var E=31-bt(g),w=1<<E,O=m[E];O===-1?((w&o)===0||(w&c)!==0)&&(m[E]=lm(w,s)):O<=s&&(i.expiredLanes|=w),g&=~w}if(s=it,o=Oe,o=Li(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===s&&(We===2||We===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Qr(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||mi(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(c!==null&&Qr(c),yr(o)){case 2:case 8:o=kl;break;case 32:o=Wr;break;case 268435456:o=Gc;break;default:o=Wr}return c=TE.bind(null,i),o=Bt(o,c),i.callbackPriority=s,i.callbackNode=o,s}return c!==null&&c!==null&&Qr(c),i.callbackPriority=2,i.callbackNode=null,2}function TE(i,s){if(Ft!==0&&Ft!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(ef()&&i.callbackNode!==o)return null;var c=Oe;return c=Li(i,i===it?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(tE(i,c,s),_E(i,fn()),i.callbackNode!=null&&i.callbackNode===o?TE.bind(null,i):null)}function EE(i,s){if(ef())return null;tE(i,s,!0)}function VI(){YI(function(){(Ye&6)!==0?Bt(Ol,PI):vE()})}function Vp(){if(bs===0){var i=Io;i===0&&(i=Oi,Oi<<=1,(Oi&261888)===0&&(Oi=256)),bs=i}return bs}function bE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:mo(""+i)}function wE(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function OI(i,s,o,c,m){if(s==="submit"&&o&&o.stateNode===m){var g=bE((m[qt]||null).action),E=c.submitter;E&&(s=(s=E[qt]||null)?bE(s.formAction):E.getAttribute("formAction"),s!==null&&(g=s,E=null));var w=new Xi("action","action",null,c,m);i.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(bs!==0){var O=E?wE(m,E):new FormData(m);ep(o,{pending:!0,data:O,method:m.method,action:g},null,O)}}else typeof g=="function"&&(w.preventDefault(),O=E?wE(m,E):new FormData(m),ep(o,{pending:!0,data:O,method:m.method,action:g},g,O))},currentTarget:m}]})}}for(var Op=0;Op<ym.length;Op++){var kp=ym[Op],kI=kp.toLowerCase(),LI=kp[0].toUpperCase()+kp.slice(1);bi(kI,"on"+LI)}bi(e_,"onAnimationEnd"),bi(t_,"onAnimationIteration"),bi(n_,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(J2,"onTransitionRun"),bi(eI,"onTransitionStart"),bi(tI,"onTransitionCancel"),bi(i_,"onTransitionEnd"),qi("onMouseEnter",["mouseout","mouseover"]),qi("onMouseLeave",["mouseout","mouseover"]),qi("onPointerEnter",["pointerout","pointerover"]),qi("onPointerLeave",["pointerout","pointerover"]),Hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ru));function SE(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var E=c.length-1;0<=E;E--){var w=c[E],O=w.instance,K=w.currentTarget;if(w=w.listener,O!==g&&m.isPropagationStopped())break e;g=w,m.currentTarget=K;try{g(m)}catch(J){yh(J)}m.currentTarget=null,g=O}else for(E=0;E<c.length;E++){if(w=c[E],O=w.instance,K=w.currentTarget,w=w.listener,O!==g&&m.isPropagationStopped())break e;g=w,m.currentTarget=K;try{g(m)}catch(J){yh(J)}m.currentTarget=null,g=O}}}}function Ve(i,s){var o=s[lo];o===void 0&&(o=s[lo]=new Set);var c=i+"__bubble";o.has(c)||(AE(s,i,2,!1),o.add(c))}function Lp(i,s,o){var c=0;s&&(c|=4),AE(o,i,c,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function Up(i){if(!i[rf]){i[rf]=!0,jl.forEach(function(o){o!=="selectionchange"&&(UI.has(o)||Lp(o,!1,i),Lp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[rf]||(s[rf]=!0,Lp("selectionchange",!1,s))}}function AE(i,s,o,c){switch(eb(s)){case 2:var m=fD;break;case 8:m=dD;break;default:m=Jp}o=m.bind(null,s,o,i),m=void 0,!ma||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(s,o,{capture:!0,passive:m}):i.addEventListener(s,o,!0):m!==void 0?i.addEventListener(s,o,{passive:m}):i.addEventListener(s,o,!1)}function jp(i,s,o,c,m){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var w=c.stateNode.containerInfo;if(w===m)break;if(E===4)for(E=c.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;w!==null;){if(E=Bi(w),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){c=g=E;continue e}w=w.parentNode}}c=c.return}is(function(){var K=g,J=qn(o),ne=[];e:{var X=r_.get(i);if(X!==void 0){var W=Xi,me=i;switch(i){case"keypress":if(ga(o)===0)break e;case"keydown":case"keyup":W=mh;break;case"focusin":me="focus",W=va;break;case"focusout":me="blur",W=va;break;case"beforeblur":case"afterblur":W=va;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=sh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=_;break;case e_:case t_:case n_:W=oh;break;case i_:W=C;break;case"scroll":case"scrollend":W=Wl;break;case"wheel":W=Q;break;case"copy":case"cut":case"paste":W=lh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Tr;break;case"toggle":case"beforetoggle":W=xe}var ve=(s&4)!==0,nt=!ve&&(i==="scroll"||i==="scrollend"),q=ve?X!==null?X+"Capture":null:X;ve=[];for(var z=K,Y;z!==null;){var ee=z;if(Y=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||Y===null||q===null||(ee=vi(z,q),ee!=null&&ve.push(xu(z,ee,Y))),nt)break;z=z.return}0<ve.length&&(X=new W(X,me,null,o,J),ne.push({event:X,listeners:ve}))}}if((s&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",X&&o!==Xl&&(me=o.relatedTarget||o.fromElement)&&(Bi(me)||me[ji]))break e;if((W||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,W?(me=o.relatedTarget||o.toElement,W=K,me=me?Bi(me):null,me!==null&&(nt=l(me),ve=me.tag,me!==nt||ve!==5&&ve!==27&&ve!==6)&&(me=null)):(W=null,me=K),W!==me)){if(ve=Zl,ee="onMouseLeave",q="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(ve=Tr,ee="onPointerLeave",q="onPointerEnter",z="pointer"),nt=W==null?X:Dn(W),Y=me==null?X:Dn(me),X=new ve(ee,z+"leave",W,o,J),X.target=nt,X.relatedTarget=Y,ee=null,Bi(J)===K&&(ve=new ve(q,z+"enter",me,o,J),ve.target=Y,ve.relatedTarget=nt,ee=ve),nt=ee,W&&me)t:{for(ve=jI,q=W,z=me,Y=0,ee=q;ee;ee=ve(ee))Y++;ee=0;for(var ge=z;ge;ge=ve(ge))ee++;for(;0<Y-ee;)q=ve(q),Y--;for(;0<ee-Y;)z=ve(z),ee--;for(;Y--;){if(q===z||z!==null&&q===z.alternate){ve=q;break t}q=ve(q),z=ve(z)}ve=null}else ve=null;W!==null&&CE(ne,X,W,ve,!1),me!==null&&nt!==null&&CE(ne,nt,me,ve,!0)}}e:{if(X=K?Dn(K):window,W=X.nodeName&&X.nodeName.toLowerCase(),W==="select"||W==="input"&&X.type==="file")var He=H0;else if(B0(X))if(q0)He=Q2;else{He=X2;var pe=K2}else W=X.nodeName,!W||W.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?K&&fo(K.elementType)&&(He=H0):He=$2;if(He&&(He=He(i,K))){F0(ne,He,o,J);break e}pe&&pe(i,X,K),i==="focusout"&&K&&X.type==="number"&&K.memoizedProps.value!=null&&Gl(X,"number",X.value)}switch(pe=K?Dn(K):window,i){case"focusin":(B0(pe)||pe.contentEditable==="true")&&(Eo=pe,mm=K,iu=null);break;case"focusout":iu=mm=Eo=null;break;case"mousedown":pm=!0;break;case"contextmenu":case"mouseup":case"dragend":pm=!1,Z0(ne,o,J);break;case"selectionchange":if(Z2)break;case"keydown":case"keyup":Z0(ne,o,J)}var Ne;if(Ge)e:{switch(i){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else To?_a(i,o)&&(ke="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(ke="onCompositionStart");ke&&(Wi&&o.locale!=="ko"&&(To||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&To&&(Ne=Ql()):(Ki=J,$l="value"in Ki?Ki.value:Ki.textContent,To=!0)),pe=sf(K,ke),0<pe.length&&(ke=new Qi(ke,i,null,o,J),ne.push({event:ke,listeners:pe}),Ne?ke.data=Ne:(Ne=_o(o),Ne!==null&&(ke.data=Ne)))),(Ne=Yn?H2(i,o):q2(i,o))&&(ke=sf(K,"onBeforeInput"),0<ke.length&&(pe=new Qi("onBeforeInput","beforeinput",null,o,J),ne.push({event:pe,listeners:ke}),pe.data=Ne)),OI(ne,i,K,o,J)}SE(ne,s)})}function xu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function sf(i,s){for(var o=s+"Capture",c=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=vi(i,o),m!=null&&c.unshift(xu(i,m,g)),m=vi(i,s),m!=null&&c.push(xu(i,m,g))),i.tag===3)return c;i=i.return}return[]}function jI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function CE(i,s,o,c,m){for(var g=s._reactName,E=[];o!==null&&o!==c;){var w=o,O=w.alternate,K=w.stateNode;if(w=w.tag,O!==null&&O===c)break;w!==5&&w!==26&&w!==27||K===null||(O=K,m?(K=vi(o,g),K!=null&&E.unshift(xu(o,K,O))):m||(K=vi(o,g),K!=null&&E.push(xu(o,K,O)))),o=o.return}E.length!==0&&i.push({event:s,listeners:E})}var zI=/\r\n?/g,BI=/\u0000|\uFFFD/g;function RE(i){return(typeof i=="string"?i:""+i).replace(zI,`
`).replace(BI,"")}function xE(i,s){return s=RE(s),RE(i)===s}function tt(i,s,o,c,m,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||_n(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&_n(i,""+c);break;case"className":Nn(i,"class",c);break;case"tabIndex":Nn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(i,o,c);break;case"style":Kl(i,c,g);break;case"data":if(s!=="object"){Nn(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=mo(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&tt(i,s,"name",m.name,m,null),tt(i,s,"formEncType",m.formEncType,m,null),tt(i,s,"formMethod",m.formMethod,m,null),tt(i,s,"formTarget",m.formTarget,m,null)):(tt(i,s,"encType",m.encType,m,null),tt(i,s,"method",m.method,m,null),tt(i,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=mo(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=yi);break;case"onScroll":c!=null&&Ve("scroll",i);break;case"onScrollEnd":c!=null&&Ve("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=mo(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Ve("beforetoggle",i),Ve("toggle",i),co(i,"popover",c);break;case"xlinkActuate":Mt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Mt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Mt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Mt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Mt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Mt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Mt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Mt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Mt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":co(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=rh.get(o)||o,co(i,o,c))}}function zp(i,s,o,c,m,g){switch(o){case"style":Kl(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof c=="string"?_n(i,c):(typeof c=="number"||typeof c=="bigint")&&_n(i,""+c);break;case"onScroll":c!=null&&Ve("scroll",i);break;case"onScrollEnd":c!=null&&Ve("scrollend",i);break;case"onClick":c!=null&&(i.onclick=yi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),g=i[qt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,c,m);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):co(i,o,c)}}}function Jt(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",i),Ve("load",i);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:tt(i,s,g,E,o,null)}}m&&tt(i,s,"srcSet",o.srcSet,o,null),c&&tt(i,s,"src",o.src,o,null);return;case"input":Ve("invalid",i);var w=g=E=m=null,O=null,K=null;for(c in o)if(o.hasOwnProperty(c)){var J=o[c];if(J!=null)switch(c){case"name":m=J;break;case"type":E=J;break;case"checked":O=J;break;case"defaultChecked":K=J;break;case"value":g=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:tt(i,s,c,J,o,null)}}th(i,g,w,O,K,E,m,!1);return;case"select":Ve("invalid",i),c=E=g=null;for(m in o)if(o.hasOwnProperty(m)&&(w=o[m],w!=null))switch(m){case"value":g=w;break;case"defaultValue":E=w;break;case"multiple":c=w;default:tt(i,s,m,w,o,null)}s=g,o=E,i.multiple=!!c,s!=null?Jr(i,!!c,s,!1):o!=null&&Jr(i,!!c,o,!0);return;case"textarea":Ve("invalid",i),g=m=c=null;for(E in o)if(o.hasOwnProperty(E)&&(w=o[E],w!=null))switch(E){case"value":c=w;break;case"defaultValue":m=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:tt(i,s,E,w,o,null)}es(i,c,m,g);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(c=o[O],c!=null))switch(O){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:tt(i,s,O,c,o,null)}return;case"dialog":Ve("beforetoggle",i),Ve("toggle",i),Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":Ve("load",i);break;case"video":case"audio":for(c=0;c<Ru.length;c++)Ve(Ru[c],i);break;case"image":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"embed":case"source":case"link":Ve("error",i),Ve("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(c=o[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:tt(i,s,K,c,o,null)}return;default:if(fo(s)){for(J in o)o.hasOwnProperty(J)&&(c=o[J],c!==void 0&&zp(i,s,J,c,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(c=o[w],c!=null&&tt(i,s,w,c,o,null))}function FI(i,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,E=null,w=null,O=null,K=null,J=null;for(W in o){var ne=o[W];if(o.hasOwnProperty(W)&&ne!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":O=ne;default:c.hasOwnProperty(W)||tt(i,s,W,null,c,ne)}}for(var X in c){var W=c[X];if(ne=o[X],c.hasOwnProperty(X)&&(W!=null||ne!=null))switch(X){case"type":g=W;break;case"name":m=W;break;case"checked":K=W;break;case"defaultChecked":J=W;break;case"value":E=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:W!==ne&&tt(i,s,X,W,c,ne)}}ho(i,E,w,O,K,J,g,m);return;case"select":W=E=w=X=null;for(g in o)if(O=o[g],o.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":W=O;default:c.hasOwnProperty(g)||tt(i,s,g,null,c,O)}for(m in c)if(g=c[m],O=o[m],c.hasOwnProperty(m)&&(g!=null||O!=null))switch(m){case"value":X=g;break;case"defaultValue":w=g;break;case"multiple":E=g;default:g!==O&&tt(i,s,m,g,c,O)}s=w,o=E,c=W,X!=null?Jr(i,!!o,X,!1):!!c!=!!o&&(s!=null?Jr(i,!!o,s,!0):Jr(i,!!o,o?[]:"",!1));return;case"textarea":W=X=null;for(w in o)if(m=o[w],o.hasOwnProperty(w)&&m!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:tt(i,s,w,null,c,m)}for(E in c)if(m=c[E],g=o[E],c.hasOwnProperty(E)&&(m!=null||g!=null))switch(E){case"value":X=m;break;case"defaultValue":W=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==g&&tt(i,s,E,m,c,g)}nh(i,X,W);return;case"option":for(var me in o)if(X=o[me],o.hasOwnProperty(me)&&X!=null&&!c.hasOwnProperty(me))switch(me){case"selected":i.selected=!1;break;default:tt(i,s,me,null,c,X)}for(O in c)if(X=c[O],W=o[O],c.hasOwnProperty(O)&&X!==W&&(X!=null||W!=null))switch(O){case"selected":i.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:tt(i,s,O,X,c,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in o)X=o[ve],o.hasOwnProperty(ve)&&X!=null&&!c.hasOwnProperty(ve)&&tt(i,s,ve,null,c,X);for(K in c)if(X=c[K],W=o[K],c.hasOwnProperty(K)&&X!==W&&(X!=null||W!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:tt(i,s,K,X,c,W)}return;default:if(fo(s)){for(var nt in o)X=o[nt],o.hasOwnProperty(nt)&&X!==void 0&&!c.hasOwnProperty(nt)&&zp(i,s,nt,void 0,c,X);for(J in c)X=c[J],W=o[J],!c.hasOwnProperty(J)||X===W||X===void 0&&W===void 0||zp(i,s,J,X,c,W);return}}for(var q in o)X=o[q],o.hasOwnProperty(q)&&X!=null&&!c.hasOwnProperty(q)&&tt(i,s,q,null,c,X);for(ne in c)X=c[ne],W=o[ne],!c.hasOwnProperty(ne)||X===W||X==null&&W==null||tt(i,s,ne,X,c,W)}function IE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function HI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,E=m.initiatorType,w=m.duration;if(g&&w&&IE(E)){for(E=0,w=m.responseEnd,c+=1;c<o.length;c++){var O=o[c],K=O.startTime;if(K>w)break;var J=O.transferSize,ne=O.initiatorType;J&&IE(ne)&&(O=O.responseEnd,E+=J*(O<w?1:(w-K)/(O-K)))}if(--c,s+=8*(g+E)/(m.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Bp=null,Fp=null;function af(i){return i.nodeType===9?i:i.ownerDocument}function DE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function NE(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Hp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var qp=null;function qI(){var i=window.event;return i&&i.type==="popstate"?i===qp?!1:(qp=i,!0):(qp=null,!1)}var ME=typeof setTimeout=="function"?setTimeout:void 0,GI=typeof clearTimeout=="function"?clearTimeout:void 0,PE=typeof Promise=="function"?Promise:void 0,YI=typeof queueMicrotask=="function"?queueMicrotask:typeof PE<"u"?function(i){return PE.resolve(null).then(i).catch(KI)}:ME;function KI(i){setTimeout(function(){throw i})}function ws(i){return i==="head"}function VE(i,s){var o=s,c=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(m),Xo(s);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Iu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Iu(o);for(var g=o.firstChild;g;){var E=g.nextSibling,w=g.nodeName;g[zi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=E}}else o==="body"&&Iu(i.ownerDocument.body);o=m}while(o);Xo(s)}function OE(i,s){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function Gp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Gp(o),uo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function XI(i,s,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[zi])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Jn(i.nextSibling),i===null)break}return null}function $I(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Jn(i.nextSibling),i===null))return null;return i}function kE(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Jn(i.nextSibling),i===null))return null;return i}function Yp(i){return i.data==="$?"||i.data==="$~"}function Kp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function QI(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Jn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Xp=null;function LE(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return Jn(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function UE(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function jE(i,s,o){switch(s=af(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Iu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);uo(i)}var ei=new Map,zE=new Set;function of(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Or=ae.d;ae.d={f:WI,r:ZI,D:JI,C:eD,L:tD,m:nD,X:rD,S:iD,M:sD};function WI(){var i=Or.f(),s=Wh();return i||s}function ZI(i){var s=Hn(i);s!==null&&s.tag===5&&s.type==="form"?iT(s):Or.r(i)}var Go=typeof document>"u"?null:document;function BE(i,s,o){var c=Go;if(c&&typeof s=="string"&&s){var m=vn(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),zE.has(m)||(zE.add(m),i={rel:i,crossOrigin:o,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),Jt(s,"link",i),Nt(s),c.head.appendChild(s)))}}function JI(i){Or.D(i),BE("dns-prefetch",i,null)}function eD(i,s){Or.C(i,s),BE("preconnect",i,s)}function tD(i,s,o){Or.L(i,s,o);var c=Go;if(c&&i&&s){var m='link[rel="preload"][as="'+vn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+vn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+vn(o.imageSizes)+'"]')):m+='[href="'+vn(i)+'"]';var g=m;switch(s){case"style":g=Yo(i);break;case"script":g=Ko(i)}ei.has(g)||(i=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),ei.set(g,i),c.querySelector(m)!==null||s==="style"&&c.querySelector(Du(g))||s==="script"&&c.querySelector(Nu(g))||(s=c.createElement("link"),Jt(s,"link",i),Nt(s),c.head.appendChild(s)))}}function nD(i,s){Or.m(i,s);var o=Go;if(o&&i){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+vn(c)+'"][href="'+vn(i)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ko(i)}if(!ei.has(g)&&(i=v({rel:"modulepreload",href:i},s),ei.set(g,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Nu(g)))return}c=o.createElement("link"),Jt(c,"link",i),Nt(c),o.head.appendChild(c)}}}function iD(i,s,o){Or.S(i,s,o);var c=Go;if(c&&i){var m=Fi(c).hoistableStyles,g=Yo(i);s=s||"default";var E=m.get(g);if(!E){var w={loading:0,preload:null};if(E=c.querySelector(Du(g)))w.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},o),(o=ei.get(g))&&$p(i,o);var O=E=c.createElement("link");Nt(O),Jt(O,"link",i),O._p=new Promise(function(K,J){O.onload=K,O.onerror=J}),O.addEventListener("load",function(){w.loading|=1}),O.addEventListener("error",function(){w.loading|=2}),w.loading|=4,lf(E,s,c)}E={type:"stylesheet",instance:E,count:1,state:w},m.set(g,E)}}}function rD(i,s){Or.X(i,s);var o=Go;if(o&&i){var c=Fi(o).hoistableScripts,m=Ko(i),g=c.get(m);g||(g=o.querySelector(Nu(m)),g||(i=v({src:i,async:!0},s),(s=ei.get(m))&&Qp(i,s),g=o.createElement("script"),Nt(g),Jt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function sD(i,s){Or.M(i,s);var o=Go;if(o&&i){var c=Fi(o).hoistableScripts,m=Ko(i),g=c.get(m);g||(g=o.querySelector(Nu(m)),g||(i=v({src:i,async:!0,type:"module"},s),(s=ei.get(m))&&Qp(i,s),g=o.createElement("script"),Nt(g),Jt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function FE(i,s,o,c){var m=(m=Se.current)?of(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Yo(o.href),o=Fi(m).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Yo(o.href);var g=Fi(m).hoistableStyles,E=g.get(i);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,E),(g=m.querySelector(Du(i)))&&!g._p&&(E.instance=g,E.state.loading=5),ei.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ei.set(i,o),g||aD(m,i,o,E.state))),s&&c===null)throw Error(r(528,""));return E}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ko(o),o=Fi(m).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Yo(i){return'href="'+vn(i)+'"'}function Du(i){return'link[rel="stylesheet"]['+i+"]"}function HE(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function aD(i,s,o,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Jt(s,"link",o),Nt(s),i.head.appendChild(s))}function Ko(i){return'[src="'+vn(i)+'"]'}function Nu(i){return"script[async]"+i}function qE(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+vn(o.href)+'"]');if(c)return s.instance=c,Nt(c),c;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Nt(c),Jt(c,"style",m),lf(c,o.precedence,i),s.instance=c;case"stylesheet":m=Yo(o.href);var g=i.querySelector(Du(m));if(g)return s.state.loading|=4,s.instance=g,Nt(g),g;c=HE(o),(m=ei.get(m))&&$p(c,m),g=(i.ownerDocument||i).createElement("link"),Nt(g);var E=g;return E._p=new Promise(function(w,O){E.onload=w,E.onerror=O}),Jt(g,"link",c),s.state.loading|=4,lf(g,o.precedence,i),s.instance=g;case"script":return g=Ko(o.src),(m=i.querySelector(Nu(g)))?(s.instance=m,Nt(m),m):(c=o,(m=ei.get(g))&&(c=v({},o),Qp(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),Nt(m),Jt(m,"link",c),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,lf(c,o.precedence,i));return s.instance}function lf(i,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,E=0;E<c.length;E++){var w=c[E];if(w.dataset.precedence===s)g=w;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function $p(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Qp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var uf=null;function GE(i,s,o){if(uf===null){var c=new Map,m=uf=new Map;m.set(o,c)}else m=uf,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[zi]||g[Dt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(s)||"";E=i+E;var w=c.get(E);w?w.push(g):c.set(E,[g])}}return c}function YE(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function oD(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function KE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function lD(i,s,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Yo(c.href),g=s.querySelector(Du(m));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=cf.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=g,Nt(g);return}g=s.ownerDocument||s,c=HE(c),(m=ei.get(m))&&$p(c,m),g=g.createElement("link"),Nt(g);var E=g;E._p=new Promise(function(w,O){E.onload=w,E.onerror=O}),Jt(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=cf.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var Wp=0;function uD(i,s){return i.stylesheets&&i.count===0&&ff(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&ff(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+s);0<i.imgBytes&&Wp===0&&(Wp=62500*HI());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&ff(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Wp?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function cf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ff(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var hf=null;function ff(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,hf=new Map,s.forEach(cD,i),hf=null,cf.call(i))}function cD(i,s){if(!(s.state.loading&4)){var o=hf.get(i);if(o)var c=o.get(null);else{o=new Map,hf.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var E=m[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),c=E)}c&&o.set(null,c)}m=s.instance,E=m.getAttribute("data-precedence"),g=o.get(E)||c,g===c&&o.set(null,m),o.set(E,m),this.count++,c=cf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var Mu={$$typeof:F,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function hD(i,s,o,c,m,g,E,w,O){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.hiddenUpdates=Ui(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function XE(i,s,o,c,m,g,E,w,O,K,J,ne){return i=new hD(i,s,o,E,O,K,J,ne,w),s=1,g===!0&&(s|=24),g=Pn(3,null,null,s),i.current=g,g.stateNode=i,s=Dm(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},Vm(g),i}function $E(i){return i?(i=So,i):So}function QE(i,s,o,c,m,g){m=$E(m),c.context===null?c.context=m:c.pendingContext=m,c=fs(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ds(i,c,s),o!==null&&(Sn(o,i,s),cu(o,i,s))}function WE(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Zp(i,s){WE(i,s),(i=i.alternate)&&WE(i,s)}function ZE(i){if(i.tag===13||i.tag===31){var s=ba(i,67108864);s!==null&&Sn(s,i,67108864),Zp(i,67108864)}}function JE(i){if(i.tag===13||i.tag===31){var s=Un();s=ca(s);var o=ba(i,s);o!==null&&Sn(o,i,s),Zp(i,s)}}var df=!0;function fD(i,s,o,c){var m=Z.T;Z.T=null;var g=ae.p;try{ae.p=2,Jp(i,s,o,c)}finally{ae.p=g,Z.T=m}}function dD(i,s,o,c){var m=Z.T;Z.T=null;var g=ae.p;try{ae.p=8,Jp(i,s,o,c)}finally{ae.p=g,Z.T=m}}function Jp(i,s,o,c){if(df){var m=eg(c);if(m===null)jp(i,s,c,mf,o),tb(i,c);else if(pD(m,i,s,o,c))c.stopPropagation();else if(tb(i,c),s&4&&-1<mD.indexOf(i)){for(;m!==null;){var g=Hn(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=ki(g.pendingLanes);if(E!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var O=1<<31-bt(E);w.entanglements[1]|=O,E&=~O}tr(g),(Ye&6)===0&&($h=fn()+500,Cu(0))}}break;case 31:case 13:w=ba(g,2),w!==null&&Sn(w,g,2),Wh(),Zp(g,2)}if(g=eg(c),g===null&&jp(i,s,c,mf,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else jp(i,s,c,null,o)}}function eg(i){return i=qn(i),tg(i)}var mf=null;function tg(i){if(mf=null,i=Bi(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=u(s),i!==null)return i;i=null}else if(o===31){if(i=h(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return mf=i,null}function eb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(aa()){case Ol:return 2;case kl:return 8;case Wr:case om:return 32;case Gc:return 268435456;default:return 32}default:return 32}}var ng=!1,Ss=null,As=null,Cs=null,Pu=new Map,Vu=new Map,Rs=[],mD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tb(i,s){switch(i){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":Pu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(s.pointerId)}}function Ou(i,s,o,c,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},s!==null&&(s=Hn(s),s!==null&&ZE(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function pD(i,s,o,c,m){switch(s){case"focusin":return Ss=Ou(Ss,i,s,o,c,m),!0;case"dragenter":return As=Ou(As,i,s,o,c,m),!0;case"mouseover":return Cs=Ou(Cs,i,s,o,c,m),!0;case"pointerover":var g=m.pointerId;return Pu.set(g,Ou(Pu.get(g)||null,i,s,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,Vu.set(g,Ou(Vu.get(g)||null,i,s,o,c,m)),!0}return!1}function nb(i){var s=Bi(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){i.blockedOn=s,pi(i.priority,function(){JE(o)});return}}else if(s===31){if(s=h(o),s!==null){i.blockedOn=s,pi(i.priority,function(){JE(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function pf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=eg(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);Xl=c,o.target.dispatchEvent(c),Xl=null}else return s=Hn(o),s!==null&&ZE(s),i.blockedOn=o,!1;s.shift()}return!0}function ib(i,s,o){pf(i)&&o.delete(s)}function gD(){ng=!1,Ss!==null&&pf(Ss)&&(Ss=null),As!==null&&pf(As)&&(As=null),Cs!==null&&pf(Cs)&&(Cs=null),Pu.forEach(ib),Vu.forEach(ib)}function gf(i,s){i.blockedOn===s&&(i.blockedOn=null,ng||(ng=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,gD)))}var yf=null;function rb(i){yf!==i&&(yf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){yf===i&&(yf=null);for(var s=0;s<i.length;s+=3){var o=i[s],c=i[s+1],m=i[s+2];if(typeof c!="function"){if(tg(c||o)===null)continue;break}var g=Hn(o);g!==null&&(i.splice(s,3),s-=3,ep(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Xo(i){function s(O){return gf(O,i)}Ss!==null&&gf(Ss,i),As!==null&&gf(As,i),Cs!==null&&gf(Cs,i),Pu.forEach(s),Vu.forEach(s);for(var o=0;o<Rs.length;o++){var c=Rs[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Rs.length&&(o=Rs[0],o.blockedOn===null);)nb(o),o.blockedOn===null&&Rs.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],E=m[qt]||null;if(typeof g=="function")E||rb(o);else if(E){var w=null;if(g&&g.hasAttribute("formAction")){if(m=g,E=g[qt]||null)w=E.formAction;else if(tg(m)!==null)continue}else w=E.action;typeof w=="function"?o[c+1]=w:(o.splice(c,3),c-=3),rb(o)}}}function sb(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(E){return m=E})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function ig(i){this._internalRoot=i}vf.prototype.render=ig.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,c=Un();QE(o,c,i,s,null,null)},vf.prototype.unmount=ig.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;QE(i.current,2,null,i,null,null),Wh(),s[ji]=null}};function vf(i){this._internalRoot=i}vf.prototype.unstable_scheduleHydration=function(i){if(i){var s=Wc();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Rs.length&&s!==0&&s<Rs[o].priority;o++);Rs.splice(o,0,i),o===0&&nb(i)}};var ab=e.version;if(ab!=="19.2.0")throw Error(r(527,ab,"19.2.0"));ae.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var yD={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{di=_f.inject(yD),Xt=_f}catch{}}return Lu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,c="",m=dT,g=mT,E=pT;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=XE(i,1,!1,null,null,o,c,null,m,g,E,sb),i[ji]=s.current,Up(i),new ig(s)},Lu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var c=!1,m="",g=dT,E=mT,w=pT,O=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.formState!==void 0&&(O=o.formState)),s=XE(i,1,!0,s,o??null,c,m,O,g,E,w,sb),s.context=$E(null),o=s.current,c=Un(),c=ca(c),m=fs(c),m.callback=null,ds(o,m,c),o=c,s.current.lanes=o,la(s,o),tr(s),i[ji]=s.current,Up(i),new vf(s)},Lu.version="19.2.0",Lu}var gb;function xD(){if(gb)return ag.exports;gb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ag.exports=RD(),ag.exports}var ID=xD();var yb="popstate";function DD(t={}){function e(a,l){let{pathname:u="/",search:h="",hash:d=""}=eo(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Gg("",{pathname:u,search:h,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let u=a.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let d=a.location.href,p=d.indexOf("#");h=p===-1?d:d.slice(0,p)}return h+"#"+(typeof l=="string"?l:oc(l))}function r(a,l){ci(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return MD(e,n,r,t)}function pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ci(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ND(){return Math.random().toString(36).substring(2,10)}function vb(t,e){return{usr:t.state,key:t.key,idx:e}}function Gg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?eo(e):e,state:n,key:e&&e.key||r||ND()}}function oc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function eo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function MD(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,u=a.history,h="POP",d=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let N=y(),j=N==null?null:N-p;p=N,d&&d({action:h,location:P.location,delta:j})}function T(N,j){h="PUSH";let B=Gg(P.location,N,j);n&&n(B,N),p=y()+1;let F=vb(B,p),se=P.createHref(B);try{u.pushState(F,"",se)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;a.location.assign(se)}l&&d&&d({action:h,location:P.location,delta:1})}function S(N,j){h="REPLACE";let B=Gg(P.location,N,j);n&&n(B,N),p=y();let F=vb(B,p),se=P.createHref(B);u.replaceState(F,"",se),l&&d&&d({action:h,location:P.location,delta:0})}function x(N){return PD(N)}let P={get action(){return h},get location(){return t(a,u)},listen(N){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(yb,v),d=N,()=>{a.removeEventListener(yb,v),d=null}},createHref(N){return e(a,N)},createURL:x,encodeLocation(N){let j=x(N);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:T,replace:S,go(N){return u.go(N)}};return P}function PD(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),pt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:oc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function LA(t,e,n="/"){return VD(t,e,n,!1)}function VD(t,e,n,r){let a=typeof e=="string"?eo(e):e,l=Br(a.pathname||"/",n);if(l==null)return null;let u=UA(t);OD(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=YD(l);h=qD(u[d],p,r)}return h}function UA(t,e=[],n=[],r="",a=!1){let l=(u,h,d=a,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&d)return;pt(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let v=jr([r,y.relativePath]),T=n.concat(y);u.children&&u.children.length>0&&(pt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),UA(u.children,e,T,v,d)),!(u.path==null&&!u.index)&&e.push({path:v,score:FD(v,u.index),routesMeta:T})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let d of jA(u.path))l(u,h,!0,d)}),e}function jA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let u=jA(r.join("/")),h=[];return h.push(...u.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function OD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:HD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var kD=/^:[\w-]+$/,LD=3,UD=2,jD=1,zD=10,BD=-2,_b=t=>t==="*";function FD(t,e){let n=t.split("/"),r=n.length;return n.some(_b)&&(r+=BD),e&&(r+=UD),n.filter(a=>!_b(a)).reduce((a,l)=>a+(kD.test(l)?LD:l===""?jD:zD),r)}function HD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function qD(t,e,n=!1){let{routesMeta:r}=t,a={},l="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=$f({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},y),T=d.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=$f({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:jr([l,v.pathname]),pathnameBase:WD(jr([l,v.pathnameBase])),route:T}),v.pathnameBase!=="/"&&(l=jr([l,v.pathnameBase]))}return u}function $f(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=GD(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:v},T)=>{if(y==="*"){let x=h[T]||"";u=l.slice(0,l.length-x.length).replace(/(.)\/+$/,"$1")}const S=h[T];return v&&!S?p[y]=void 0:p[y]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function GD(t,e=!1,n=!0){ci(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function YD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ci(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Br(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var KD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XD=t=>KD.test(t);function $D(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?eo(t):t,l;if(n)if(XD(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),ci(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=Tb(n.substring(1),"/"):l=Tb(n,e)}else l=e;return{pathname:l,search:ZD(r),hash:JD(a)}}function Tb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function cg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zA(t){let e=QD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function BA(t,e,n,r=!1){let a;typeof t=="string"?a=eo(t):(a={...t},pt(!a.pathname||!a.pathname.includes("?"),cg("?","pathname","search",a)),pt(!a.pathname||!a.pathname.includes("#"),cg("#","pathname","hash",a)),pt(!a.search||!a.search.includes("#"),cg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=n;else{let v=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),v-=1;a.pathname=T.join("/")}h=v>=0?e[v]:"/"}let d=$D(a,h),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||y)&&(d.pathname+="/"),d}var jr=t=>t.join("/").replace(/\/\/+/g,"/"),WD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ZD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function eN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var FA=["POST","PUT","PATCH","DELETE"];new Set(FA);var tN=["GET",...FA];new Set(tN);var bl=L.createContext(null);bl.displayName="DataRouter";var Sd=L.createContext(null);Sd.displayName="DataRouterState";L.createContext(!1);var HA=L.createContext({isTransitioning:!1});HA.displayName="ViewTransition";var nN=L.createContext(new Map);nN.displayName="Fetchers";var iN=L.createContext(null);iN.displayName="Await";var mr=L.createContext(null);mr.displayName="Navigation";var Ac=L.createContext(null);Ac.displayName="Location";var pr=L.createContext({outlet:null,matches:[],isDataRoute:!1});pr.displayName="Route";var Yy=L.createContext(null);Yy.displayName="RouteError";function rN(t,{relative:e}={}){pt(Cc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=L.useContext(mr),{hash:a,pathname:l,search:u}=Rc(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:jr([n,l])),r.createHref({pathname:h,search:u,hash:a})}function Cc(){return L.useContext(Ac)!=null}function to(){return pt(Cc(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Ac).location}var qA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GA(t){L.useContext(mr).static||L.useLayoutEffect(t)}function Ky(){let{isDataRoute:t}=L.useContext(pr);return t?vN():sN()}function sN(){pt(Cc(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(bl),{basename:e,navigator:n}=L.useContext(mr),{matches:r}=L.useContext(pr),{pathname:a}=to(),l=JSON.stringify(zA(r)),u=L.useRef(!1);return GA(()=>{u.current=!0}),L.useCallback((d,p={})=>{if(ci(u.current,qA),!u.current)return;if(typeof d=="number"){n.go(d);return}let y=BA(d,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:jr([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}L.createContext(null);function aN(){let{matches:t}=L.useContext(pr),e=t[t.length-1];return e?e.params:{}}function Rc(t,{relative:e}={}){let{matches:n}=L.useContext(pr),{pathname:r}=to(),a=JSON.stringify(zA(n));return L.useMemo(()=>BA(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function oN(t,e){return YA(t,e)}function YA(t,e,n,r,a){pt(Cc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=L.useContext(mr),{matches:u}=L.useContext(pr),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let B=v&&v.path||"";KA(p,!v||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let T=to(),S;if(e){let B=typeof e=="string"?eo(e):e;pt(y==="/"||B.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${B.pathname}" was given in the \`location\` prop.`),S=B}else S=T;let x=S.pathname||"/",P=x;if(y!=="/"){let B=y.replace(/^\//,"").split("/");P="/"+x.replace(/^\//,"").split("/").slice(B.length).join("/")}let N=LA(t,{pathname:P});ci(v||N!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),ci(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=fN(N&&N.map(B=>Object.assign({},B,{params:Object.assign({},d,B.params),pathname:jr([y,l.encodeLocation?l.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:jr([y,l.encodeLocation?l.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),u,n,r,a);return e&&j?L.createElement(Ac.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},j):j}function lN(){let t=yN(),e=eN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:l},"ErrorBoundary")," or"," ",L.createElement("code",{style:l},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:a},n):null,u)}var uN=L.createElement(lN,null),cN=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?L.createElement(pr.Provider,{value:this.props.routeContext},L.createElement(Yy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hN({routeContext:t,match:e,children:n}){let r=L.useContext(bl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(pr.Provider,{value:t},n)}function fN(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let y=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);pt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let h=!1,d=-1;if(n)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=y),v.route.id){let{loaderData:T,errors:S}=n,x=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||x){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let p=n&&r?(y,v)=>{r(y,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:v})}:void 0;return l.reduceRight((y,v,T)=>{let S,x=!1,P=null,N=null;n&&(S=u&&v.route.id?u[v.route.id]:void 0,P=v.route.errorElement||uN,h&&(d<0&&T===0?(KA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,N=null):d===T&&(x=!0,N=v.route.hydrateFallbackElement||null)));let j=e.concat(l.slice(0,T+1)),B=()=>{let F;return S?F=P:x?F=N:v.route.Component?F=L.createElement(v.route.Component,null):v.route.element?F=v.route.element:F=y,L.createElement(hN,{match:v,routeContext:{outlet:y,matches:j,isDataRoute:n!=null},children:F})};return n&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?L.createElement(cN,{location:n.location,revalidation:n.revalidation,component:P,error:S,children:B(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:p}):B()},null)}function Xy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dN(t){let e=L.useContext(bl);return pt(e,Xy(t)),e}function mN(t){let e=L.useContext(Sd);return pt(e,Xy(t)),e}function pN(t){let e=L.useContext(pr);return pt(e,Xy(t)),e}function $y(t){let e=pN(t),n=e.matches[e.matches.length-1];return pt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function gN(){return $y("useRouteId")}function yN(){let t=L.useContext(Yy),e=mN("useRouteError"),n=$y("useRouteError");return t!==void 0?t:e.errors?.[n]}function vN(){let{router:t}=dN("useNavigate"),e=$y("useNavigate"),n=L.useRef(!1);return GA(()=>{n.current=!0}),L.useCallback(async(a,l={})=>{ci(n.current,qA),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Eb={};function KA(t,e,n){!e&&!Eb[t]&&(Eb[t]=!0,ci(!1,n))}L.memo(_N);function _N({routes:t,future:e,state:n,unstable_onError:r}){return YA(t,void 0,n,r,e)}function $o(t){pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TN({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:l=!1}){pt(!Cc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=L.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=eo(n));let{pathname:d="/",search:p="",hash:y="",state:v=null,key:T="default"}=n,S=L.useMemo(()=>{let x=Br(d,u);return x==null?null:{location:{pathname:x,search:p,hash:y,state:v,key:T},navigationType:r}},[u,d,p,y,v,T,r]);return ci(S!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:L.createElement(mr.Provider,{value:h},L.createElement(Ac.Provider,{children:e,value:S}))}function EN({children:t,location:e}){return oN(Yg(t),e)}function Yg(t,e=[]){let n=[];return L.Children.forEach(t,(r,a)=>{if(!L.isValidElement(r))return;let l=[...e,a];if(r.type===L.Fragment){n.push.apply(n,Yg(r.props.children,l));return}pt(r.type===$o,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Yg(r.props.children,l)),n.push(u)}),n}var Pf="get",Vf="application/x-www-form-urlencoded";function Ad(t){return t!=null&&typeof t.tagName=="string"}function bN(t){return Ad(t)&&t.tagName.toLowerCase()==="button"}function wN(t){return Ad(t)&&t.tagName.toLowerCase()==="form"}function SN(t){return Ad(t)&&t.tagName.toLowerCase()==="input"}function AN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function CN(t,e){return t.button===0&&(!e||e==="_self")&&!AN(t)}var Tf=null;function RN(){if(Tf===null)try{new FormData(document.createElement("form"),0),Tf=!1}catch{Tf=!0}return Tf}var xN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hg(t){return t!=null&&!xN.has(t)?(ci(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vf}"`),null):t}function IN(t,e){let n,r,a,l,u;if(wN(t)){let h=t.getAttribute("action");r=h?Br(h,e):null,n=t.getAttribute("method")||Pf,a=hg(t.getAttribute("enctype"))||Vf,l=new FormData(t)}else if(bN(t)||SN(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?Br(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Pf,a=hg(t.getAttribute("formenctype"))||hg(h.getAttribute("enctype"))||Vf,l=new FormData(h,t),!RN()){let{name:p,type:y,value:v}=t;if(y==="image"){let T=p?`${p}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else p&&l.append(p,v)}}else{if(Ad(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pf,r=null,a=Vf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function DN(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Br(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function NN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function PN(t,e,n){let r=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await NN(l,n);return u.links?u.links():[]}return[]}));return LN(r.flat(1).filter(MN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function bb(t,e,n,r,a,l){let u=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>n[p].pathname!==d.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,p)=>u(d,p)||h(d,p)):l==="data"?e.filter((d,p)=>{let y=r.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function VN(t,e,{includeHydrateFallback:n}={}){return ON(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function ON(t){return[...new Set(t)]}function kN(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function LN(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let l=JSON.stringify(kN(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function XA(){let t=L.useContext(bl);return Qy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function UN(){let t=L.useContext(Sd);return Qy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Wy=L.createContext(void 0);Wy.displayName="FrameworkContext";function $A(){let t=L.useContext(Wy);return Qy(t,"You must render this element inside a <HydratedRouter> element"),t}function jN(t,e){let n=L.useContext(Wy),[r,a]=L.useState(!1),[l,u]=L.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,T=L.useRef(null);L.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let P=j=>{j.forEach(B=>{u(B.isIntersecting)})},N=new IntersectionObserver(P,{threshold:.5});return T.current&&N.observe(T.current),()=>{N.disconnect()}}},[t]),L.useEffect(()=>{if(r){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[r]);let S=()=>{a(!0)},x=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:Uu(h,S),onBlur:Uu(d,x),onMouseEnter:Uu(p,S),onMouseLeave:Uu(y,x),onTouchStart:Uu(v,S)}]:[!1,T,{}]}function Uu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function zN({page:t,...e}){let{router:n}=XA(),r=L.useMemo(()=>LA(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?L.createElement(FN,{page:t,matches:r,...e}):null}function BN(t){let{manifest:e,routeModules:n}=$A(),[r,a]=L.useState([]);return L.useEffect(()=>{let l=!1;return PN(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),r}function FN({page:t,matches:e,...n}){let r=to(),{manifest:a,routeModules:l}=$A(),{basename:u}=XA(),{loaderData:h,matches:d}=UN(),p=L.useMemo(()=>bb(t,e,d,a,r,"data"),[t,e,d,a,r]),y=L.useMemo(()=>bb(t,e,d,a,r,"assets"),[t,e,d,a,r]),v=L.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,P=!1;if(e.forEach(j=>{let B=a.routes[j.route.id];!B||!B.hasLoader||(!p.some(F=>F.route.id===j.route.id)&&j.route.id in h&&l[j.route.id]?.shouldRevalidate||B.hasClientLoader?P=!0:x.add(j.route.id))}),x.size===0)return[];let N=DN(t,u,"data");return P&&x.size>0&&N.searchParams.set("_routes",e.filter(j=>x.has(j.route.id)).map(j=>j.route.id).join(",")),[N.pathname+N.search]},[u,h,r,a,p,e,t,l]),T=L.useMemo(()=>VN(y,a),[y,a]),S=BN(y);return L.createElement(L.Fragment,null,v.map(x=>L.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),T.map(x=>L.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),S.map(({key:x,link:P})=>L.createElement("link",{key:x,nonce:n.nonce,...P})))}function HN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var QA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QA&&(window.__reactRouterVersion="7.9.6")}catch{}function qN({basename:t,children:e,window:n}){let r=L.useRef();r.current==null&&(r.current=DD({window:n,v5Compat:!0}));let a=r.current,[l,u]=L.useState({action:a.action,location:a.location}),h=L.useCallback(d=>{L.startTransition(()=>u(d))},[u]);return L.useLayoutEffect(()=>a.listen(h),[a,h]),L.createElement(TN,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var WA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fa=L.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:u,state:h,target:d,to:p,preventScrollReset:y,viewTransition:v,...T},S){let{basename:x}=L.useContext(mr),P=typeof p=="string"&&WA.test(p),N,j=!1;if(typeof p=="string"&&P&&(N=p,QA))try{let D=new URL(window.location.href),U=p.startsWith("//")?new URL(D.protocol+p):new URL(p),k=Br(U.pathname,x);U.origin===D.origin&&k!=null?p=k+U.search+U.hash:j=!0}catch{ci(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=rN(p,{relative:a}),[F,se,re]=jN(r,T),le=XN(p,{replace:u,state:h,target:d,preventScrollReset:y,relative:a,viewTransition:v});function I(D){e&&e(D),D.defaultPrevented||le(D)}let R=L.createElement("a",{...T,...re,href:N||B,onClick:j||l?e:I,ref:HN(S,se),target:d,"data-discover":!P&&n==="render"?"true":void 0});return F&&!P?L.createElement(L.Fragment,null,R,L.createElement(zN,{page:B})):R});Fa.displayName="Link";var GN=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:u,viewTransition:h,children:d,...p},y){let v=Rc(u,{relative:p.relative}),T=to(),S=L.useContext(Sd),{navigator:x,basename:P}=L.useContext(mr),N=S!=null&&JN(v)&&h===!0,j=x.encodeLocation?x.encodeLocation(v).pathname:v.pathname,B=T.pathname,F=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(B=B.toLowerCase(),F=F?F.toLowerCase():null,j=j.toLowerCase()),F&&P&&(F=Br(F,P)||F);const se=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let re=B===j||!a&&B.startsWith(j)&&B.charAt(se)==="/",le=F!=null&&(F===j||!a&&F.startsWith(j)&&F.charAt(j.length)==="/"),I={isActive:re,isPending:le,isTransitioning:N},R=re?e:void 0,D;typeof r=="function"?D=r(I):D=[r,re?"active":null,le?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(I):l;return L.createElement(Fa,{...p,"aria-current":R,className:D,ref:y,style:U,to:u,viewTransition:h},typeof d=="function"?d(I):d)});GN.displayName="NavLink";var YN=L.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:l,method:u=Pf,action:h,onSubmit:d,relative:p,preventScrollReset:y,viewTransition:v,...T},S)=>{let x=WN(),P=ZN(h,{relative:p}),N=u.toLowerCase()==="get"?"get":"post",j=typeof h=="string"&&WA.test(h),B=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let se=F.nativeEvent.submitter,re=se?.getAttribute("formmethod")||u;x(se||F.currentTarget,{fetcherKey:e,method:re,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:v})};return L.createElement("form",{ref:S,method:N,action:P,onSubmit:r?d:B,...T,"data-discover":!j&&t==="render"?"true":void 0})});YN.displayName="Form";function KN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZA(t){let e=L.useContext(bl);return pt(e,KN(t)),e}function XN(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:u}={}){let h=Ky(),d=to(),p=Rc(t,{relative:l});return L.useCallback(y=>{if(CN(y,e)){y.preventDefault();let v=n!==void 0?n:oc(d)===oc(p);h(t,{replace:v,state:r,preventScrollReset:a,relative:l,viewTransition:u})}},[d,h,p,n,r,e,t,a,l,u])}var $N=0,QN=()=>`__${String(++$N)}__`;function WN(){let{router:t}=ZA("useSubmit"),{basename:e}=L.useContext(mr),n=gN();return L.useCallback(async(r,a={})=>{let{action:l,method:u,encType:h,formData:d,body:p}=IN(r,e);if(a.navigate===!1){let y=a.fetcherKey||QN();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function ZN(t,{relative:e}={}){let{basename:n}=L.useContext(mr),r=L.useContext(pr);pt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Rc(t||".",{relative:e})},u=to();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:jr([n,l.pathname])),oc(l)}function JN(t,{relative:e}={}){let n=L.useContext(HA);pt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ZA("useViewTransitionState"),a=Rc(t,{relative:e});if(!n.isTransitioning)return!1;let l=Br(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Br(n.nextLocation.pathname,r)||n.nextLocation.pathname;return $f(a.pathname,u)!=null||$f(a.pathname,l)!=null}const eM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tM=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),wb=t=>{const e=tM(t);return e.charAt(0).toUpperCase()+e.slice(1)},JA=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),nM=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var iM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rM=L.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:u,...h},d)=>L.createElement("svg",{ref:d,...iM,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:JA("lucide",a),...!l&&!nM(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,y])=>L.createElement(p,y)),...Array.isArray(l)?l:[l]]));const hn=(t,e)=>{const n=L.forwardRef(({className:r,...a},l)=>L.createElement(rM,{ref:l,iconNode:e,className:JA(`lucide-${eM(wb(t))}`,`lucide-${t}`,r),...a}));return n.displayName=wb(t),n};const sM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],aM=hn("arrow-left",sM);const oM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],e1=hn("arrow-right",oM);const lM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],uM=hn("circle-check-big",lM);const cM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Zy=hn("clock",cM);const hM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],fM=hn("file-text",hM);const dM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Sb=hn("history",dM);const mM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],pM=hn("loader-circle",mM);const gM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],yM=hn("lock",gM);const vM=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],_M=hn("map",vM);const TM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],EM=hn("plus",TM);const bM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],fg=hn("search",bM);const wM=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],SM=hn("store",wM);const AM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],CM=hn("trash-2",AM);const RM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ab=hn("upload",RM);const xM=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],Kg=hn("utensils-crossed",xM);const IM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lc=hn("x",IM),Jy=L.createContext({});function ev(t){const e=L.useRef(null);return e.current===null&&(e.current=t()),e.current}const tv=typeof window<"u",t1=tv?L.useLayoutEffect:L.useEffect,Cd=L.createContext(null);function nv(t,e){t.indexOf(e)===-1&&t.push(e)}function iv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Fr=(t,e,n)=>n>e?e:n<t?t:n;let rv=()=>{};const Hr={},n1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function i1(t){return typeof t=="object"&&t!==null}const r1=t=>/^0[^.\s]+$/u.test(t);function sv(t){let e;return()=>(e===void 0&&(e=t()),e)}const oi=t=>t,DM=(t,e)=>n=>e(t(n)),xc=(...t)=>t.reduce(DM),uc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class av{constructor(){this.subscriptions=[]}add(e){return nv(this.subscriptions,e),()=>iv(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rr=t=>t*1e3,si=t=>t/1e3;function s1(t,e){return e?t*(1e3/e):0}const a1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,NM=1e-7,MM=12;function PM(t,e,n,r,a){let l,u,h=0;do u=e+(n-e)/2,l=a1(u,r,a)-t,l>0?n=u:e=u;while(Math.abs(l)>NM&&++h<MM);return u}function Ic(t,e,n,r){if(t===e&&n===r)return oi;const a=l=>PM(l,0,1,t,n);return l=>l===0||l===1?l:a1(a(l),e,r)}const o1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,l1=t=>e=>1-t(1-e),u1=Ic(.33,1.53,.69,.99),ov=l1(u1),c1=o1(ov),h1=t=>(t*=2)<1?.5*ov(t):.5*(2-Math.pow(2,-10*(t-1))),lv=t=>1-Math.sin(Math.acos(t)),f1=l1(lv),d1=o1(lv),VM=Ic(.42,0,1,1),OM=Ic(0,0,.58,1),m1=Ic(.42,0,.58,1),kM=t=>Array.isArray(t)&&typeof t[0]!="number",p1=t=>Array.isArray(t)&&typeof t[0]=="number",LM={linear:oi,easeIn:VM,easeInOut:m1,easeOut:OM,circIn:lv,circInOut:d1,circOut:f1,backIn:ov,backInOut:c1,backOut:u1,anticipate:h1},UM=t=>typeof t=="string",Cb=t=>{if(p1(t)){rv(t.length===4);const[e,n,r,a]=t;return Ic(e,n,r,a)}else if(UM(t))return LM[t];return t},Ef=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function jM(t,e){let n=new Set,r=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(y){u.has(y)&&(p.schedule(y),t()),y(h)}const p={schedule:(y,v=!1,T=!1)=>{const x=T&&a?n:r;return v&&u.add(y),x.has(y)||x.add(y),y},cancel:y=>{r.delete(y),u.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const zM=40;function g1(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Ef.reduce((F,se)=>(F[se]=jM(l),F),{}),{setup:h,read:d,resolveKeyframes:p,preUpdate:y,update:v,preRender:T,render:S,postRender:x}=u,P=()=>{const F=Hr.useManualTiming?a.timestamp:performance.now();n=!1,Hr.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(F-a.timestamp,zM),1)),a.timestamp=F,a.isProcessing=!0,h.process(a),d.process(a),p.process(a),y.process(a),v.process(a),T.process(a),S.process(a),x.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(P))},N=()=>{n=!0,r=!0,a.isProcessing||t(P)};return{schedule:Ef.reduce((F,se)=>{const re=u[se];return F[se]=(le,I=!1,R=!1)=>(n||N(),re.schedule(le,I,R)),F},{}),cancel:F=>{for(let se=0;se<Ef.length;se++)u[Ef[se]].cancel(F)},state:a,steps:u}}const{schedule:dt,cancel:Hs,state:en,steps:dg}=g1(typeof requestAnimationFrame<"u"?requestAnimationFrame:oi,!0);let Of;function BM(){Of=void 0}const Rn={now:()=>(Of===void 0&&Rn.set(en.isProcessing||Hr.useManualTiming?en.timestamp:performance.now()),Of),set:t=>{Of=t,queueMicrotask(BM)}},y1=t=>e=>typeof e=="string"&&e.startsWith(t),uv=y1("--"),FM=y1("var(--"),cv=t=>FM(t)?HM.test(t.split("/*")[0].trim()):!1,HM=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,wl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},cc={...wl,transform:t=>Fr(0,1,t)},bf={...wl,default:1},$u=t=>Math.round(t*1e5)/1e5,hv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qM(t){return t==null}const GM=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fv=(t,e)=>n=>!!(typeof n=="string"&&GM.test(n)&&n.startsWith(t)||e&&!qM(n)&&Object.prototype.hasOwnProperty.call(n,e)),v1=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,l,u,h]=r.match(hv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},YM=t=>Fr(0,255,t),mg={...wl,transform:t=>Math.round(YM(t))},Ua={test:fv("rgb","red"),parse:v1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+mg.transform(t)+", "+mg.transform(e)+", "+mg.transform(n)+", "+$u(cc.transform(r))+")"};function KM(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Xg={test:fv("#"),parse:KM,transform:Ua.transform},Dc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ds=Dc("deg"),sr=Dc("%"),be=Dc("px"),XM=Dc("vh"),$M=Dc("vw"),Rb={...sr,parse:t=>sr.parse(t)/100,transform:t=>sr.transform(t*100)},el={test:fv("hsl","hue"),parse:v1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+sr.transform($u(e))+", "+sr.transform($u(n))+", "+$u(cc.transform(r))+")"},Ut={test:t=>Ua.test(t)||Xg.test(t)||el.test(t),parse:t=>Ua.test(t)?Ua.parse(t):el.test(t)?el.parse(t):Xg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ua.transform(t):el.transform(t),getAnimatableNone:t=>{const e=Ut.parse(t);return e.alpha=0,Ut.transform(e)}},QM=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function WM(t){return isNaN(t)&&typeof t=="string"&&(t.match(hv)?.length||0)+(t.match(QM)?.length||0)>0}const _1="number",T1="color",ZM="var",JM="var(",xb="${}",eP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(eP,d=>(Ut.test(d)?(r.color.push(l),a.push(T1),n.push(Ut.parse(d))):d.startsWith(JM)?(r.var.push(l),a.push(ZM),n.push(d)):(r.number.push(l),a.push(_1),n.push(parseFloat(d))),++l,xb)).split(xb);return{values:n,split:h,indexes:r,types:a}}function E1(t){return hc(t).values}function b1(t){const{split:e,types:n}=hc(t),r=e.length;return a=>{let l="";for(let u=0;u<r;u++)if(l+=e[u],a[u]!==void 0){const h=n[u];h===_1?l+=$u(a[u]):h===T1?l+=Ut.transform(a[u]):l+=a[u]}return l}}const tP=t=>typeof t=="number"?0:Ut.test(t)?Ut.getAnimatableNone(t):t;function nP(t){const e=E1(t);return b1(t)(e.map(tP))}const qs={test:WM,parse:E1,createTransformer:b1,getAnimatableNone:nP};function pg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function iP({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=pg(d,h,t+1/3),l=pg(d,h,t),u=pg(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:r}}function Qf(t,e){return n=>n>0?e:t}const mt=(t,e,n)=>t+(e-t)*n,gg=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},rP=[Xg,Ua,el],sP=t=>rP.find(e=>e.test(t));function Ib(t){const e=sP(t);if(!e)return!1;let n=e.parse(t);return e===el&&(n=iP(n)),n}const Db=(t,e)=>{const n=Ib(t),r=Ib(e);if(!n||!r)return Qf(t,e);const a={...n};return l=>(a.red=gg(n.red,r.red,l),a.green=gg(n.green,r.green,l),a.blue=gg(n.blue,r.blue,l),a.alpha=mt(n.alpha,r.alpha,l),Ua.transform(a))},$g=new Set(["none","hidden"]);function aP(t,e){return $g.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function oP(t,e){return n=>mt(t,e,n)}function dv(t){return typeof t=="number"?oP:typeof t=="string"?cv(t)?Qf:Ut.test(t)?Db:cP:Array.isArray(t)?w1:typeof t=="object"?Ut.test(t)?Db:lP:Qf}function w1(t,e){const n=[...t],r=n.length,a=t.map((l,u)=>dv(l)(l,e[u]));return l=>{for(let u=0;u<r;u++)n[u]=a[u](l);return n}}function lP(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=dv(t[a])(t[a],e[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function uP(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][r[l]],h=t.values[u]??0;n[a]=h,r[l]++}return n}const cP=(t,e)=>{const n=qs.createTransformer(e),r=hc(t),a=hc(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?$g.has(t)&&!a.values.length||$g.has(e)&&!r.values.length?aP(t,e):xc(w1(uP(r,a),a.values),n):Qf(t,e)};function S1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?mt(t,e,n):dv(t)(t,e)}const hP=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>dt.update(e,n),stop:()=>Hs(e),now:()=>en.isProcessing?en.timestamp:Rn.now()}},A1=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)r+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Wf=2e4;function mv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Wf;)e+=n,r=t.next(e);return e>=Wf?1/0:e}function fP(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(mv(r),Wf);return{type:"keyframes",ease:l=>r.next(a*l).value/e,duration:si(a)}}const dP=5;function C1(t,e,n){const r=Math.max(e-dP,0);return s1(n-t(r),e-r)}const _t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},yg=.001;function mP({duration:t=_t.duration,bounce:e=_t.bounce,velocity:n=_t.velocity,mass:r=_t.mass}){let a,l,u=1-e;u=Fr(_t.minDamping,_t.maxDamping,u),t=Fr(_t.minDuration,_t.maxDuration,si(t)),u<1?(a=p=>{const y=p*u,v=y*t,T=y-n,S=Qg(p,u),x=Math.exp(-v);return yg-T/S*x},l=p=>{const v=p*u*t,T=v*n+n,S=Math.pow(u,2)*Math.pow(p,2)*t,x=Math.exp(-v),P=Qg(Math.pow(p,2),u);return(-a(p)+yg>0?-1:1)*((T-S)*x)/P}):(a=p=>{const y=Math.exp(-p*t),v=(p-n)*t+1;return-yg+y*v},l=p=>{const y=Math.exp(-p*t),v=(n-p)*(t*t);return y*v});const h=5/t,d=gP(a,l,h);if(t=rr(t),isNaN(d))return{stiffness:_t.stiffness,damping:_t.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:t}}}const pP=12;function gP(t,e,n){let r=n;for(let a=1;a<pP;a++)r=r-t(r)/e(r);return r}function Qg(t,e){return t*Math.sqrt(1-e*e)}const yP=["duration","bounce"],vP=["stiffness","damping","mass"];function Nb(t,e){return e.some(n=>t[n]!==void 0)}function _P(t){let e={velocity:_t.velocity,stiffness:_t.stiffness,damping:_t.damping,mass:_t.mass,isResolvedFromDuration:!1,...t};if(!Nb(t,vP)&&Nb(t,yP))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*Fr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:_t.mass,stiffness:a,damping:l}}else{const n=mP(t);e={...e,...n,mass:_t.mass},e.isResolvedFromDuration=!0}return e}function Zf(t=_t.visualDuration,e=_t.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:p,mass:y,duration:v,velocity:T,isResolvedFromDuration:S}=_P({...n,velocity:-si(n.velocity||0)}),x=T||0,P=p/(2*Math.sqrt(d*y)),N=u-l,j=si(Math.sqrt(d/y)),B=Math.abs(N)<5;r||(r=B?_t.restSpeed.granular:_t.restSpeed.default),a||(a=B?_t.restDelta.granular:_t.restDelta.default);let F;if(P<1){const re=Qg(j,P);F=le=>{const I=Math.exp(-P*j*le);return u-I*((x+P*j*N)/re*Math.sin(re*le)+N*Math.cos(re*le))}}else if(P===1)F=re=>u-Math.exp(-j*re)*(N+(x+j*N)*re);else{const re=j*Math.sqrt(P*P-1);F=le=>{const I=Math.exp(-P*j*le),R=Math.min(re*le,300);return u-I*((x+P*j*N)*Math.sinh(R)+re*N*Math.cosh(R))/re}}const se={calculatedDuration:S&&v||null,next:re=>{const le=F(re);if(S)h.done=re>=v;else{let I=re===0?x:0;P<1&&(I=re===0?rr(x):C1(F,re,le));const R=Math.abs(I)<=r,D=Math.abs(u-le)<=a;h.done=R&&D}return h.value=h.done?u:le,h},toString:()=>{const re=Math.min(mv(se),Wf),le=A1(I=>se.next(re*I).value,re,30);return re+"ms "+le},toTransition:()=>{}};return se}Zf.applyToOptions=t=>{const e=fP(t,100,Zf);return t.ease=e.ease,t.duration=rr(e.duration),t.type="keyframes",t};function Wg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:d,restDelta:p=.5,restSpeed:y}){const v=t[0],T={done:!1,value:v},S=R=>h!==void 0&&R<h||d!==void 0&&R>d,x=R=>h===void 0?d:d===void 0||Math.abs(h-R)<Math.abs(d-R)?h:d;let P=n*e;const N=v+P,j=u===void 0?N:u(N);j!==N&&(P=j-v);const B=R=>-P*Math.exp(-R/r),F=R=>j+B(R),se=R=>{const D=B(R),U=F(R);T.done=Math.abs(D)<=p,T.value=T.done?j:U};let re,le;const I=R=>{S(T.value)&&(re=R,le=Zf({keyframes:[T.value,x(T.value)],velocity:C1(F,R,T.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return I(0),{calculatedDuration:null,next:R=>{let D=!1;return!le&&re===void 0&&(D=!0,se(R),I(R)),re!==void 0&&R>=re?le.next(R-re):(!D&&se(R),T)}}}function TP(t,e,n){const r=[],a=n||Hr.mix||S1,l=t.length-1;for(let u=0;u<l;u++){let h=a(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||oi:e;h=xc(d,h)}r.push(h)}return r}function EP(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const l=t.length;if(rv(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=TP(e,r,a),d=h.length,p=y=>{if(u&&y<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const T=uc(t[v],t[v+1],y);return h[v](T)};return n?y=>p(Fr(t[0],t[l-1],y)):p}function bP(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=uc(0,e,r);t.push(mt(n,1,a))}}function wP(t){const e=[0];return bP(e,t.length-1),e}function SP(t,e){return t.map(n=>n*e)}function AP(t,e){return t.map(()=>e||m1).splice(0,t.length-1)}function Qu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=kM(r)?r.map(Cb):Cb(r),l={done:!1,value:e[0]},u=SP(n&&n.length===e.length?n:wP(e),t),h=EP(u,e,{ease:Array.isArray(a)?a:AP(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const CP=t=>t!==null;function pv(t,{repeat:e,repeatType:n="loop"},r,a=1){const l=t.filter(CP),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||r===void 0?l[h]:r}const RP={decay:Wg,inertia:Wg,tween:Qu,keyframes:Qu,spring:Zf};function R1(t){typeof t.type=="string"&&(t.type=RP[t.type])}class gv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const xP=t=>t/100;class yv extends gv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Rn.now()&&this.tick(Rn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;R1(e);const{type:n=Qu,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:h}=e;const d=n||Qu;d!==Qu&&typeof h[0]!="number"&&(this.mixKeyframes=xc(xP,S1(h[0],h[1])),h=[0,100]);const p=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=mv(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:T,repeatDelay:S,type:x,onUpdate:P,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const j=this.currentTime-p*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?j<0:j>a;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,se=r;if(v){const R=Math.min(this.currentTime,a)/h;let D=Math.floor(R),U=R%1;!U&&R>=1&&(U=1),U===1&&D--,D=Math.min(D,v+1),!!(D%2)&&(T==="reverse"?(U=1-U,S&&(U-=S/h)):T==="mirror"&&(se=u)),F=Fr(0,1,U)*h}const re=B?{done:!1,value:y[0]}:se.next(F);l&&(re.value=l(re.value));let{done:le}=re;!B&&d!==null&&(le=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&le);return I&&x!==Wg&&(re.value=pv(y,this.options,N,this.speed)),P&&P(re.value),I&&this.finish(),re}then(e,n){return this.finished.then(e,n)}get duration(){return si(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+si(e)}get time(){return si(this.currentTime)}set time(e){e=rr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Rn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=si(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=hP,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Rn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function IP(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ja=t=>t*180/Math.PI,Zg=t=>{const e=ja(Math.atan2(t[1],t[0]));return Jg(e)},DP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Zg,rotateZ:Zg,skewX:t=>ja(Math.atan(t[1])),skewY:t=>ja(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Jg=t=>(t=t%360,t<0&&(t+=360),t),Mb=Zg,Pb=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Vb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),NP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Pb,scaleY:Vb,scale:t=>(Pb(t)+Vb(t))/2,rotateX:t=>Jg(ja(Math.atan2(t[6],t[5]))),rotateY:t=>Jg(ja(Math.atan2(-t[2],t[0]))),rotateZ:Mb,rotate:Mb,skewX:t=>ja(Math.atan(t[4])),skewY:t=>ja(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ey(t){return t.includes("scale")?1:0}function ty(t,e){if(!t||t==="none")return ey(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=NP,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=DP,a=h}if(!a)return ey(e);const l=r[e],u=a[1].split(",").map(PP);return typeof l=="function"?l(u):u[l]}const MP=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ty(n,e)};function PP(t){return parseFloat(t.trim())}const Sl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Al=new Set(Sl),Ob=t=>t===wl||t===be,VP=new Set(["x","y","z"]),OP=Sl.filter(t=>!VP.has(t));function kP(t){const e=[];return OP.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ha={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ty(e,"x"),y:(t,{transform:e})=>ty(e,"y")};Ha.translateX=Ha.x;Ha.translateY=Ha.y;const qa=new Set;let ny=!1,iy=!1,ry=!1;function x1(){if(iy){const t=Array.from(qa).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=kP(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,u])=>{r.getValue(l)?.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}iy=!1,ny=!1,qa.forEach(t=>t.complete(ry)),qa.clear()}function I1(){qa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(iy=!0)})}function LP(){ry=!0,I1(),x1(),ry=!1}class vv{constructor(e,n,r,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(qa.add(this),ny||(ny=!0,dt.read(I1),dt.resolveKeyframes(x1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const h=r.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}IP(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),qa.delete(this)}cancel(){this.state==="scheduled"&&(qa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const UP=t=>t.startsWith("--");function jP(t,e,n){UP(e)?t.style.setProperty(e,n):t.style[e]=n}const zP=sv(()=>window.ScrollTimeline!==void 0),BP={};function FP(t,e){const n=sv(t);return()=>BP[e]??n()}const D1=FP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Bu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,kb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bu([0,.65,.55,1]),circOut:Bu([.55,0,1,.45]),backIn:Bu([.31,.01,.66,-.59]),backOut:Bu([.33,1.53,.69,.99])};function N1(t,e){if(t)return typeof t=="function"?D1()?A1(t,e):"ease-out":p1(t)?Bu(t):Array.isArray(t)?t.map(n=>N1(n,e)||kb.easeOut):kb[t]}function HP(t,e,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:d}={},p=void 0){const y={[e]:n};d&&(y.offset=d);const v=N1(h,a);Array.isArray(v)&&(y.easing=v);const T={delay:r,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(T.pseudoElement=p),t.animate(y,T)}function M1(t){return typeof t=="function"&&"applyToOptions"in t}function qP({type:t,...e}){return M1(t)&&D1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class GP extends gv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,rv(typeof e.type!="string");const p=qP(e);this.animation=HP(n,r,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=pv(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):jP(n,r,y),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return si(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+si(e)}get time(){return si(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=rr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&zP()?(this.animation.timeline=e,oi):n(this)}}const P1={anticipate:h1,backInOut:c1,circInOut:d1};function YP(t){return t in P1}function KP(t){typeof t.ease=="string"&&YP(t.ease)&&(t.ease=P1[t.ease])}const Lb=10;class XP extends GP{constructor(e){KP(e),R1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new yv({...u,autoplay:!1}),d=rr(this.finishedTime??this.time);n.setWithVelocity(h.sample(d-Lb).value,h.sample(d).value,Lb),h.stop()}}const Ub=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(qs.test(t)||t==="0")&&!t.startsWith("url("));function $P(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function QP(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=Ub(a,e),h=Ub(l,e);return!u||!h?!1:$P(t)||(n==="spring"||M1(n))&&r}function sy(t){t.duration=0,t.type="keyframes"}const WP=new Set(["opacity","clipPath","filter","transform"]),ZP=sv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function JP(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return ZP()&&n&&WP.has(n)&&(n!=="transform"||!p)&&!d&&!r&&a!=="mirror"&&l!==0&&u!=="inertia"}const eV=40;class tV extends gv{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:d,motionValue:p,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Rn.now();const T={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:u,name:d,motionValue:p,element:y,...v},S=y?.KeyframeResolver||vv;this.keyframeResolver=new S(h,(x,P,N)=>this.onKeyframesResolved(x,P,T,!N),d,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:d,isHandoff:p,onUpdate:y}=r;this.resolvedAt=Rn.now(),QP(e,l,u,h)||((Hr.instantAnimations||!d)&&y?.(pv(e,r,n)),e[0]=e[e.length-1],sy(r),r.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>eV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},S=!p&&JP(T)?new XP({...T,element:T.motionValue.owner.current}):new yv(T);S.finished.then(()=>this.notifyFinished()).catch(oi),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),LP()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const nV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function iV(t){const e=nV.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function V1(t,e,n=1){const[r,a]=iV(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const u=l.trim();return n1(u)?parseFloat(u):u}return cv(a)?V1(a,e,n+1):a}function _v(t,e){return t?.[e]??t?.default??t}const O1=new Set(["width","height","top","left","right","bottom",...Sl]),rV={test:t=>t==="auto",parse:t=>t},k1=t=>e=>e.test(t),L1=[wl,be,sr,Ds,$M,XM,rV],jb=t=>L1.find(k1(t));function sV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||r1(t):!0}const aV=new Set(["brightness","contrast","saturate","opacity"]);function oV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(hv)||[];if(!r)return t;const a=n.replace(r,"");let l=aV.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+a+")"}const lV=/\b([a-z-]*)\(.*?\)/gu,ay={...qs,getAnimatableNone:t=>{const e=t.match(lV);return e?e.map(oV).join(" "):t}},zb={...wl,transform:Math.round},uV={rotate:Ds,rotateX:Ds,rotateY:Ds,rotateZ:Ds,scale:bf,scaleX:bf,scaleY:bf,scaleZ:bf,skew:Ds,skewX:Ds,skewY:Ds,distance:be,translateX:be,translateY:be,translateZ:be,x:be,y:be,z:be,perspective:be,transformPerspective:be,opacity:cc,originX:Rb,originY:Rb,originZ:be},Tv={borderWidth:be,borderTopWidth:be,borderRightWidth:be,borderBottomWidth:be,borderLeftWidth:be,borderRadius:be,radius:be,borderTopLeftRadius:be,borderTopRightRadius:be,borderBottomRightRadius:be,borderBottomLeftRadius:be,width:be,maxWidth:be,height:be,maxHeight:be,top:be,right:be,bottom:be,left:be,padding:be,paddingTop:be,paddingRight:be,paddingBottom:be,paddingLeft:be,margin:be,marginTop:be,marginRight:be,marginBottom:be,marginLeft:be,backgroundPositionX:be,backgroundPositionY:be,...uV,zIndex:zb,fillOpacity:cc,strokeOpacity:cc,numOctaves:zb},cV={...Tv,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:ay,WebkitFilter:ay},U1=t=>cV[t];function j1(t,e){let n=U1(t);return n!==ay&&(n=qs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const hV=new Set(["auto","none","0"]);function fV(t,e,n){let r=0,a;for(;r<t.length&&!a;){const l=t[r];typeof l=="string"&&!hV.has(l)&&hc(l).values.length&&(a=t[r]),r++}if(a&&n)for(const l of e)t[l]=j1(n,a)}class dV extends vv{constructor(e,n,r,a,l){super(e,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),cv(p))){const y=V1(p,n.current);y!==void 0&&(e[d]=y),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!O1.has(r)||e.length!==2)return;const[a,l]=e,u=jb(a),h=jb(l);if(u!==h)if(Ob(u)&&Ob(h))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else Ha[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||sV(e[a]))&&r.push(a);r.length&&fV(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ha[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,u=r[l];r[l]=Ha[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function mV(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=n?.[t]??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const z1=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function B1(t){return i1(t)&&"offsetHeight"in t}const Bb=30,pV=t=>!isNaN(parseFloat(t));class gV{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const a=Rn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Rn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=pV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new av);const r=this.events[e].add(n);return e==="change"?()=>{r(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Rn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Bb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Bb);return s1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dl(t,e){return new gV(t,e)}const{schedule:Ev}=g1(queueMicrotask,!1),Ai={x:!1,y:!1};function F1(){return Ai.x||Ai.y}function yV(t){return t==="x"||t==="y"?Ai[t]?null:(Ai[t]=!0,()=>{Ai[t]=!1}):Ai.x||Ai.y?null:(Ai.x=Ai.y=!0,()=>{Ai.x=Ai.y=!1})}function H1(t,e){const n=mV(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function Fb(t){return!(t.pointerType==="touch"||F1())}function vV(t,e,n={}){const[r,a,l]=H1(t,n),u=h=>{if(!Fb(h))return;const{target:d}=h,p=e(d,h);if(typeof p!="function"||!d)return;const y=v=>{Fb(v)&&(p(v),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,a)};return r.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const q1=(t,e)=>e?t===e?!0:q1(t,e.parentElement):!1,bv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,_V=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function TV(t){return _V.has(t.tagName)||t.tabIndex!==-1}const kf=new WeakSet;function Hb(t){return e=>{e.key==="Enter"&&t(e)}}function vg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const EV=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Hb(()=>{if(kf.has(n))return;vg(n,"down");const a=Hb(()=>{vg(n,"up")}),l=()=>vg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function qb(t){return bv(t)&&!F1()}function bV(t,e,n={}){const[r,a,l]=H1(t,n),u=h=>{const d=h.currentTarget;if(!qb(h))return;kf.add(d);const p=e(d,h),y=(S,x)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",T),kf.has(d)&&kf.delete(d),qb(S)&&typeof p=="function"&&p(S,{success:x})},v=S=>{y(S,d===window||d===document||n.useGlobalTarget||q1(d,S.target))},T=S=>{y(S,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",T,a)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),B1(h)&&(h.addEventListener("focus",p=>EV(p,a)),!TV(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function G1(t){return i1(t)&&"ownerSVGElement"in t}function wV(t){return G1(t)&&t.tagName==="svg"}const un=t=>!!(t&&t.getVelocity),SV=[...L1,Ut,qs],AV=t=>SV.find(k1(t)),wv=L.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Gb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function CV(...t){return e=>{let n=!1;const r=t.map(a=>{const l=Gb(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<r.length;a++){const l=r[a];typeof l=="function"?l():Gb(t[a],null)}}}}function RV(...t){return L.useCallback(CV(...t),t)}class xV extends L.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=B1(r)&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function IV({children:t,isPresent:e,anchorX:n,root:r}){const a=L.useId(),l=L.useRef(null),u=L.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=L.useContext(wv),d=RV(l,t?.ref);return L.useInsertionEffect(()=>{const{width:p,height:y,top:v,left:T,right:S}=u.current;if(e||!l.current||!p||!y)return;const x=n==="left"?`left: ${T}`:`right: ${S}`;l.current.dataset.motionPopId=a;const P=document.createElement("style");h&&(P.nonce=h);const N=r??document.head;return N.appendChild(P),P.sheet&&P.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${x}px !important;
            top: ${v}px !important;
          }
        `),()=>{N.contains(P)&&N.removeChild(P)}},[e]),A.jsx(xV,{isPresent:e,childRef:l,sizeRef:u,children:L.cloneElement(t,{ref:d})})}const DV=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h,root:d})=>{const p=ev(NV),y=L.useId();let v=!0,T=L.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:S=>{p.set(S,!0);for(const x of p.values())if(!x)return;r&&r()},register:S=>(p.set(S,!1),()=>p.delete(S))}),[n,p,r]);return l&&v&&(T={...T}),L.useMemo(()=>{p.forEach((S,x)=>p.set(x,!1))},[n]),L.useEffect(()=>{!n&&!p.size&&r&&r()},[n]),u==="popLayout"&&(t=A.jsx(IV,{isPresent:n,anchorX:h,root:d,children:t})),A.jsx(Cd.Provider,{value:T,children:t})};function NV(){return new Map}function Y1(t=!0){const e=L.useContext(Cd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,l=L.useId();L.useEffect(()=>{if(t)return a(l)},[t]);const u=L.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,u]:[!0]}const wf=t=>t.key||"";function Yb(t){const e=[];return L.Children.forEach(t,n=>{L.isValidElement(n)&&e.push(n)}),e}const Ga=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",root:d})=>{const[p,y]=Y1(u),v=L.useMemo(()=>Yb(t),[t]),T=u&&!p?[]:v.map(wf),S=L.useRef(!0),x=L.useRef(v),P=ev(()=>new Map),[N,j]=L.useState(v),[B,F]=L.useState(v);t1(()=>{S.current=!1,x.current=v;for(let le=0;le<B.length;le++){const I=wf(B[le]);T.includes(I)?P.delete(I):P.get(I)!==!0&&P.set(I,!1)}},[B,T.length,T.join("-")]);const se=[];if(v!==N){let le=[...v];for(let I=0;I<B.length;I++){const R=B[I],D=wf(R);T.includes(D)||(le.splice(I,0,R),se.push(R))}return l==="wait"&&se.length&&(le=se),F(Yb(le)),j(v),null}const{forceRender:re}=L.useContext(Jy);return A.jsx(A.Fragment,{children:B.map(le=>{const I=wf(le),R=u&&!p?!1:v===B||T.includes(I),D=()=>{if(P.has(I))P.set(I,!0);else return;let U=!0;P.forEach(k=>{k||(U=!1)}),U&&(re?.(),F(x.current),u&&y?.(),r&&r())};return A.jsx(DV,{isPresent:R,initial:!S.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:R?void 0:D,anchorX:h,children:le},I)})})},K1=L.createContext({strict:!1}),Kb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ml={};for(const t in Kb)ml[t]={isEnabled:e=>Kb[t].some(n=>!!e[n])};function MV(t){for(const e in t)ml[e]={...ml[e],...t[e]}}const PV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Jf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||PV.has(t)}let X1=t=>!Jf(t);function VV(t){typeof t=="function"&&(X1=e=>e.startsWith("on")?!Jf(e):t(e))}try{VV(require("@emotion/is-prop-valid").default)}catch{}function OV(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(X1(a)||n===!0&&Jf(a)||!e&&!Jf(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}const Rd=L.createContext({});function xd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function fc(t){return typeof t=="string"||Array.isArray(t)}const Sv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Av=["initial",...Sv];function Id(t){return xd(t.animate)||Av.some(e=>fc(t[e]))}function $1(t){return!!(Id(t)||t.variants)}function kV(t,e){if(Id(t)){const{initial:n,animate:r}=t;return{initial:n===!1||fc(n)?n:void 0,animate:fc(r)?r:void 0}}return t.inherit!==!1?e:{}}function LV(t){const{initial:e,animate:n}=kV(t,L.useContext(Rd));return L.useMemo(()=>({initial:e,animate:n}),[Xb(e),Xb(n)])}function Xb(t){return Array.isArray(t)?t.join(" "):t}const dc={};function UV(t){for(const e in t)dc[e]=t[e],uv(e)&&(dc[e].isCSSVariable=!0)}function Q1(t,{layout:e,layoutId:n}){return Al.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!dc[t]||t==="opacity")}const jV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},zV=Sl.length;function BV(t,e,n){let r="",a=!0;for(let l=0;l<zV;l++){const u=Sl[l],h=t[u];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(u.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const p=z1(h,Tv[u]);if(!d){a=!1;const y=jV[u]||u;r+=`${y}(${p}) `}n&&(e[u]=p)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function Cv(t,e,n){const{style:r,vars:a,transformOrigin:l}=t;let u=!1,h=!1;for(const d in e){const p=e[d];if(Al.has(d)){u=!0;continue}else if(uv(d)){a[d]=p;continue}else{const y=z1(p,Tv[d]);d.startsWith("origin")?(h=!0,l[d]=y):r[d]=y}}if(e.transform||(u||n?r.transform=BV(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${d} ${p} ${y}`}}const Rv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function W1(t,e,n){for(const r in e)!un(e[r])&&!Q1(r,n)&&(t[r]=e[r])}function FV({transformTemplate:t},e){return L.useMemo(()=>{const n=Rv();return Cv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function HV(t,e){const n=t.style||{},r={};return W1(r,n,t),Object.assign(r,FV(t,e)),r}function qV(t,e){const n={},r=HV(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const GV={offset:"stroke-dashoffset",array:"stroke-dasharray"},YV={offset:"strokeDashoffset",array:"strokeDasharray"};function KV(t,e,n=1,r=0,a=!0){t.pathLength=1;const l=a?GV:YV;t[l.offset]=be.transform(-r);const u=be.transform(e),h=be.transform(n);t[l.array]=`${u} ${h}`}function Z1(t,{attrX:e,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},d,p,y){if(Cv(t,h,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:T}=t;v.transform&&(T.transform=v.transform,delete v.transform),(T.transform||v.transformOrigin)&&(T.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),T.transform&&(T.transformBox=y?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),a!==void 0&&KV(v,a,l,u,!1)}const J1=()=>({...Rv(),attrs:{}}),eC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function XV(t,e,n,r){const a=L.useMemo(()=>{const l=J1();return Z1(l,e,eC(r),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};W1(l,t.style,t),a.style={...l,...a.style}}return a}const $V=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xv(t){return typeof t!="string"||t.includes("-")?!1:!!($V.indexOf(t)>-1||/[A-Z]/u.test(t))}function QV(t,e,n,{latestValues:r},a,l=!1){const h=(xv(t)?XV:qV)(e,r,a,t),d=OV(e,typeof t=="string",l),p=t!==L.Fragment?{...d,...h,ref:n}:{},{children:y}=e,v=L.useMemo(()=>un(y)?y.get():y,[y]);return L.createElement(t,{...p,children:v})}function $b(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Iv(t,e,n,r){if(typeof e=="function"){const[a,l]=$b(r);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=$b(r);e=e(n!==void 0?n:t.custom,a,l)}return e}function Lf(t){return un(t)?t.get():t}function WV({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,a){return{latestValues:ZV(n,r,a,t),renderState:e()}}function ZV(t,e,n,r){const a={},l=r(t,{});for(const T in l)a[T]=Lf(l[T]);let{initial:u,animate:h}=t;const d=Id(t),p=$1(t);e&&p&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const v=y?h:u;if(v&&typeof v!="boolean"&&!xd(v)){const T=Array.isArray(v)?v:[v];for(let S=0;S<T.length;S++){const x=Iv(t,T[S]);if(x){const{transitionEnd:P,transition:N,...j}=x;for(const B in j){let F=j[B];if(Array.isArray(F)){const se=y?F.length-1:0;F=F[se]}F!==null&&(a[B]=F)}for(const B in P)a[B]=P[B]}}}return a}const tC=t=>(e,n)=>{const r=L.useContext(Rd),a=L.useContext(Cd),l=()=>WV(t,e,r,a);return n?l():ev(l)};function Dv(t,e,n){const{style:r}=t,a={};for(const l in r)(un(r[l])||e.style&&un(e.style[l])||Q1(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=r[l]);return a}const JV=tC({scrapeMotionValuesFromProps:Dv,createRenderState:Rv});function nC(t,e,n){const r=Dv(t,e,n);for(const a in t)if(un(t[a])||un(e[a])){const l=Sl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=t[a]}return r}const eO=tC({scrapeMotionValuesFromProps:nC,createRenderState:J1}),tO=Symbol.for("motionComponentSymbol");function tl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function nO(t,e,n){return L.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):tl(n)&&(n.current=r))},[e])}const Nv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),iO="framerAppearId",iC="data-"+Nv(iO),rC=L.createContext({});function rO(t,e,n,r,a){const{visualElement:l}=L.useContext(Rd),u=L.useContext(K1),h=L.useContext(Cd),d=L.useContext(wv).reducedMotion,p=L.useRef(null);r=r||u.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const y=p.current,v=L.useContext(rC);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&sO(p.current,n,a,v);const T=L.useRef(!1);L.useInsertionEffect(()=>{y&&T.current&&y.update(n,h)});const S=n[iC],x=L.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return t1(()=>{y&&(T.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),x.current&&y.animationState&&y.animationState.animateChanges())}),L.useEffect(()=>{y&&(!x.current&&y.animationState&&y.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),x.current=!1),y.enteringChildren=void 0)}),y}function sO(t,e,n,r){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:sC(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&tl(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:d,layoutRoot:p})}function sC(t){if(t)return t.options.allowProjection!==!1?t.projection:sC(t.parent)}function _g(t,{forwardMotionProps:e=!1}={},n,r){n&&MV(n);const a=xv(t)?eO:JV;function l(h,d){let p;const y={...L.useContext(wv),...h,layoutId:aO(h)},{isStatic:v}=y,T=LV(h),S=a(h,v);if(!v&&tv){oO();const x=lO(y);p=x.MeasureLayout,T.visualElement=rO(t,S,y,r,x.ProjectionNode)}return A.jsxs(Rd.Provider,{value:T,children:[p&&T.visualElement?A.jsx(p,{visualElement:T.visualElement,...y}):null,QV(t,h,nO(S,T.visualElement,d),S,v,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=L.forwardRef(l);return u[tO]=t,u}function aO({layoutId:t}){const e=L.useContext(Jy).id;return e&&t!==void 0?e+"-"+t:t}function oO(t,e){L.useContext(K1).strict}function lO(t){const{drag:e,layout:n}=ml;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function uO(t,e){if(typeof Proxy>"u")return _g;const n=new Map,r=(l,u)=>_g(l,u,t,e),a=(l,u)=>r(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?r:(n.has(u)||n.set(u,_g(u,void 0,t,e)),n.get(u))})}function aC({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function cO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function hO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Tg(t){return t===void 0||t===1}function oy({scale:t,scaleX:e,scaleY:n}){return!Tg(t)||!Tg(e)||!Tg(n)}function ka(t){return oy(t)||oC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function oC(t){return Qb(t.x)||Qb(t.y)}function Qb(t){return t&&t!=="0%"}function ed(t,e,n){const r=t-n,a=e*r;return n+a}function Wb(t,e,n,r,a){return a!==void 0&&(t=ed(t,a,r)),ed(t,n,r)+e}function ly(t,e=0,n=1,r,a){t.min=Wb(t.min,e,n,r,a),t.max=Wb(t.max,e,n,r,a)}function lC(t,{x:e,y:n}){ly(t.x,e.translate,e.scale,e.originPoint),ly(t.y,n.translate,n.scale,n.originPoint)}const Zb=.999999999999,Jb=1.0000000000001;function fO(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let h=0;h<a;h++){l=n[h],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&il(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,lC(t,u)),r&&ka(l.latestValues)&&il(t,l.latestValues))}e.x<Jb&&e.x>Zb&&(e.x=1),e.y<Jb&&e.y>Zb&&(e.y=1)}function nl(t,e){t.min=t.min+e,t.max=t.max+e}function ew(t,e,n,r,a=.5){const l=mt(t.min,t.max,a);ly(t,e,n,l,r)}function il(t,e){ew(t.x,e.x,e.scaleX,e.scale,e.originX),ew(t.y,e.y,e.scaleY,e.scale,e.originY)}function uC(t,e){return aC(hO(t.getBoundingClientRect(),e))}function dO(t,e,n){const r=uC(t,n),{scroll:a}=e;return a&&(nl(r.x,a.offset.x),nl(r.y,a.offset.y)),r}const tw=()=>({translate:0,scale:1,origin:0,originPoint:0}),rl=()=>({x:tw(),y:tw()}),nw=()=>({min:0,max:0}),Ct=()=>({x:nw(),y:nw()}),uy={current:null},cC={current:!1};function mO(){if(cC.current=!0,!!tv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>uy.current=t.matches;t.addEventListener("change",e),e()}else uy.current=!1}const pO=new WeakMap;function gO(t,e,n){for(const r in e){const a=e[r],l=n[r];if(un(a))t.addValue(r,a);else if(un(l))t.addValue(r,dl(a,{owner:t}));else if(l!==a)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(r);t.addValue(r,dl(u!==void 0?u:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const iw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class yO{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Rn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,dt.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Id(n),this.isVariantNode=$1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in v){const S=v[T];d[T]!==void 0&&un(S)&&S.set(d[T])}}mount(e){this.current=e,pO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),cC.current||mO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:uy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Hs(this.notifyUpdate),Hs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Al.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&dt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ml){const n=ml[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<iw.length;r++){const a=iw[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=gO(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=dl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(n1(r)||r1(r))?r=parseFloat(r):!AV(r)&&qs.test(n)&&(r=j1(e,n)),this.setBaseTarget(e,un(r)?r.get():r)),un(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=Iv(this.props,n,this.presenceContext?.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!un(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new av),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Ev.render(this.render)}}class hC extends yO{constructor(){super(...arguments),this.KeyframeResolver=dV}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;un(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function fC(t,{style:e,vars:n},r,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,r);for(u in n)l.setProperty(u,n[u])}function vO(t){return window.getComputedStyle(t)}class _O extends hC{constructor(){super(...arguments),this.type="html",this.renderInstance=fC}readValueFromInstance(e,n){if(Al.has(n))return this.projection?.isProjecting?ey(n):MP(e,n);{const r=vO(e),a=(uv(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return uC(e,n)}build(e,n,r){Cv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Dv(e,n,r)}}const dC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function TO(t,e,n,r){fC(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(dC.has(a)?a:Nv(a),e.attrs[a])}class EO extends hC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ct}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Al.has(n)){const r=U1(n);return r&&r.default||0}return n=dC.has(n)?n:Nv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return nC(e,n,r)}build(e,n,r){Z1(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,a){TO(e,n,r,a)}mount(e){this.isSVGTag=eC(e.tagName),super.mount(e)}}const bO=(t,e)=>xv(t)?new EO(e):new _O(e,{allowProjection:t!==L.Fragment});function al(t,e,n){const r=t.getProps();return Iv(r,e,n!==void 0?n:r.custom,t)}const cy=t=>Array.isArray(t);function wO(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,dl(n))}function SO(t){return cy(t)?t[t.length-1]||0:t}function AO(t,e){const n=al(t,e);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const u in l){const h=SO(l[u]);wO(t,u,h)}}function CO(t){return!!(un(t)&&t.add)}function hy(t,e){const n=t.getValue("willChange");if(CO(n))return n.add(e);if(!n&&Hr.WillChange){const r=new Hr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function mC(t){return t.props[iC]}const RO=t=>t!==null;function xO(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(RO),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const IO={type:"spring",stiffness:500,damping:25,restSpeed:10},DO=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),NO={type:"keyframes",duration:.8},MO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},PO=(t,{keyframes:e})=>e.length>2?NO:Al.has(t)?t.startsWith("scale")?DO(e[1]):IO:MO;function VO({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:d,elapsed:p,...y}){return!!Object.keys(y).length}const Mv=(t,e,n,r={},a,l)=>u=>{const h=_v(r,t)||{},d=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-rr(d);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:T=>{e.set(T),h.onUpdate&&h.onUpdate(T)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};VO(h)||Object.assign(y,PO(t,y)),y.duration&&(y.duration=rr(y.duration)),y.repeatDelay&&(y.repeatDelay=rr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(sy(y),y.delay===0&&(v=!0)),(Hr.instantAnimations||Hr.skipAnimations)&&(v=!0,sy(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const T=xO(y.keyframes,h);if(T!==void 0){dt.update(()=>{y.onUpdate(T),y.onComplete()});return}}return h.isSync?new yv(y):new tV(y)};function OO({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function pC(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;r&&(l=r);const d=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in h){const v=t.getValue(y,t.latestValues[y]??null),T=h[y];if(T===void 0||p&&OO(p,y))continue;const S={delay:n,..._v(l||{},y)},x=v.get();if(x!==void 0&&!v.isAnimating&&!Array.isArray(T)&&T===x&&!S.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const j=mC(t);if(j){const B=window.MotionHandoffAnimation(j,y,dt);B!==null&&(S.startTime=B,P=!0)}}hy(t,y),v.start(Mv(y,v,T,t.shouldReduceMotion&&O1.has(y)?{type:!1}:S,t,P));const N=v.animation;N&&d.push(N)}return u&&Promise.all(d).then(()=>{dt.update(()=>{u&&AO(t,u)})}),d}function gC(t,e,n,r=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),u=t.size,h=(u-1)*r;return typeof n=="function"?n(l,u):a===1?l*r:h-l*r}function fy(t,e,n={}){const r=al(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(pC(t,r,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=a;return kO(t,e,d,p,y,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,p]=h==="beforeChildren"?[l,u]:[u,l];return d().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function kO(t,e,n=0,r=0,a=0,l=1,u){const h=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),h.push(fy(d,e,{...u,delay:n+(typeof r=="function"?0:r)+gC(t.variantChildren,d,r,a,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function LO(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(l=>fy(t,l,n));r=Promise.all(a)}else if(typeof e=="string")r=fy(t,e,n);else{const a=typeof e=="function"?al(t,e,n.custom):e;r=Promise.all(pC(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function yC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const UO=Av.length;function vC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?vC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<UO;n++){const r=Av[n],a=t.props[r];(fc(a)||a===!1)&&(e[r]=a)}return e}const jO=[...Sv].reverse(),zO=Sv.length;function BO(t){return e=>Promise.all(e.map(({animation:n,options:r})=>LO(t,n,r)))}function FO(t){let e=BO(t),n=rw(),r=!0;const a=d=>(p,y)=>{const v=al(t,y,d==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:T,transitionEnd:S,...x}=v;p={...p,...x,...S}}return p};function l(d){e=d(t)}function u(d){const{props:p}=t,y=vC(t.parent)||{},v=[],T=new Set;let S={},x=1/0;for(let N=0;N<zO;N++){const j=jO[N],B=n[j],F=p[j]!==void 0?p[j]:y[j],se=fc(F),re=j===d?B.isActive:null;re===!1&&(x=N);let le=F===y[j]&&F!==p[j]&&se;if(le&&r&&t.manuallyAnimateOnMount&&(le=!1),B.protectedKeys={...S},!B.isActive&&re===null||!F&&!B.prevProp||xd(F)||typeof F=="boolean")continue;const I=HO(B.prevProp,F);let R=I||j===d&&B.isActive&&!le&&se||N>x&&se,D=!1;const U=Array.isArray(F)?F:[F];let k=U.reduce(a(j),{});re===!1&&(k={});const{prevResolvedValues:H={}}=B,V={...H,...k},Fe=ae=>{R=!0,T.has(ae)&&(D=!0,T.delete(ae)),B.needsAnimating[ae]=!0;const fe=t.getValue(ae);fe&&(fe.liveStyle=!1)};for(const ae in V){const fe=k[ae],we=H[ae];if(S.hasOwnProperty(ae))continue;let De=!1;cy(fe)&&cy(we)?De=!yC(fe,we):De=fe!==we,De?fe!=null?Fe(ae):T.add(ae):fe!==void 0&&T.has(ae)?Fe(ae):B.protectedKeys[ae]=!0}B.prevProp=F,B.prevResolvedValues=k,B.isActive&&(S={...S,...k}),r&&t.blockInitialAnimation&&(R=!1);const Xe=le&&I;R&&(!Xe||D)&&v.push(...U.map(ae=>{const fe={type:j};if(typeof ae=="string"&&r&&!Xe&&t.manuallyAnimateOnMount&&t.parent){const{parent:we}=t,De=al(we,ae);if(we.enteringChildren&&De){const{delayChildren:M}=De.transition||{};fe.delay=gC(we.enteringChildren,t,M)}}return{animation:ae,options:fe}}))}if(T.size){const N={};if(typeof p.initial!="boolean"){const j=al(t,Array.isArray(p.initial)?p.initial[0]:p.initial);j&&j.transition&&(N.transition=j.transition)}T.forEach(j=>{const B=t.getBaseTarget(j),F=t.getValue(j);F&&(F.liveStyle=!0),N[j]=B??null}),v.push({animation:N})}let P=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(P=!1),r=!1,P?e(v):Promise.resolve()}function h(d,p){if(n[d].isActive===p)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(d,p)),n[d].isActive=p;const y=u(d);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=rw()}}}function HO(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!yC(e,t):!1}function Oa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rw(){return{animate:Oa(!0),whileInView:Oa(),whileHover:Oa(),whileTap:Oa(),whileDrag:Oa(),whileFocus:Oa(),exit:Oa()}}class Js{constructor(e){this.isMounted=!1,this.node=e}update(){}}class qO extends Js{constructor(e){super(e),e.animationState||(e.animationState=FO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let GO=0;class YO extends Js{constructor(){super(...arguments),this.id=GO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const KO={animation:{Feature:qO},exit:{Feature:YO}};function mc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Nc(t){return{point:{x:t.pageX,y:t.pageY}}}const XO=t=>e=>bv(e)&&t(e,Nc(e));function Wu(t,e,n,r){return mc(t,e,XO(n),r)}const _C=1e-4,$O=1-_C,QO=1+_C,TC=.01,WO=0-TC,ZO=0+TC;function gn(t){return t.max-t.min}function JO(t,e,n){return Math.abs(t-e)<=n}function sw(t,e,n,r=.5){t.origin=r,t.originPoint=mt(e.min,e.max,t.origin),t.scale=gn(n)/gn(e),t.translate=mt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=$O&&t.scale<=QO||isNaN(t.scale))&&(t.scale=1),(t.translate>=WO&&t.translate<=ZO||isNaN(t.translate))&&(t.translate=0)}function Zu(t,e,n,r){sw(t.x,e.x,n.x,r?r.originX:void 0),sw(t.y,e.y,n.y,r?r.originY:void 0)}function aw(t,e,n){t.min=n.min+e.min,t.max=t.min+gn(e)}function ek(t,e,n){aw(t.x,e.x,n.x),aw(t.y,e.y,n.y)}function ow(t,e,n){t.min=e.min-n.min,t.max=t.min+gn(e)}function Ju(t,e,n){ow(t.x,e.x,n.x),ow(t.y,e.y,n.y)}function ni(t){return[t("x"),t("y")]}const EC=({current:t})=>t?t.ownerDocument.defaultView:null,lw=(t,e)=>Math.abs(t-e);function tk(t,e){const n=lw(t.x,e.x),r=lw(t.y,e.y);return Math.sqrt(n**2+r**2)}class bC{constructor(e,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=bg(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,x=tk(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!x)return;const{point:P}=T,{timestamp:N}=en;this.history.push({...P,timestamp:N});const{onStart:j,onMove:B}=this.handlers;S||(j&&j(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,T)},this.handlePointerMove=(T,S)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=Eg(S,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(T,S)=>{this.end();const{onEnd:x,onSessionEnd:P,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=bg(T.type==="pointercancel"?this.lastMoveEventInfo:Eg(S,this.transformPagePoint),this.history);this.startEvent&&x&&x(T,j),P&&P(T,j)},!bv(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=a||window;const h=Nc(e),d=Eg(h,this.transformPagePoint),{point:p}=d,{timestamp:y}=en;this.history=[{...p,timestamp:y}];const{onSessionStart:v}=n;v&&v(e,bg(d,this.history)),this.removeListeners=xc(Wu(this.contextWindow,"pointermove",this.handlePointerMove),Wu(this.contextWindow,"pointerup",this.handlePointerUp),Wu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Hs(this.updatePoint)}}function Eg(t,e){return e?{point:e(t.point)}:t}function uw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function bg({point:t},e){return{point:t,delta:uw(t,wC(e)),offset:uw(t,nk(e)),velocity:ik(e,.1)}}function nk(t){return t[0]}function wC(t){return t[t.length-1]}function ik(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=wC(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>rr(e)));)n--;if(!r)return{x:0,y:0};const l=si(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function rk(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?mt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?mt(n,t,r.max):Math.min(t,n)),t}function cw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function sk(t,{top:e,left:n,bottom:r,right:a}){return{x:cw(t.x,n,a),y:cw(t.y,e,r)}}function hw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function ak(t,e){return{x:hw(t.x,e.x),y:hw(t.y,e.y)}}function ok(t,e){let n=.5;const r=gn(t),a=gn(e);return a>r?n=uc(e.min,e.max-r,t.min):r>a&&(n=uc(t.min,t.max-a,e.min)),Fr(0,1,n)}function lk(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const dy=.35;function uk(t=dy){return t===!1?t=0:t===!0&&(t=dy),{x:fw(t,"left","right"),y:fw(t,"top","bottom")}}function fw(t,e,n){return{min:dw(t,e),max:dw(t,n)}}function dw(t,e){return typeof t=="number"?t:t[e]||0}const ck=new WeakMap;class hk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ct(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Nc(v).point)},u=(v,T)=>{const{drag:S,dragPropagation:x,onDragStart:P}=this.getProps();if(S&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=yV(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ni(j=>{let B=this.getAxisMotionValue(j).get()||0;if(sr.test(B)){const{projection:F}=this.visualElement;if(F&&F.layout){const se=F.layout.layoutBox[j];se&&(B=gn(se)*(parseFloat(B)/100))}}this.originPoint[j]=B}),P&&dt.postRender(()=>P(v,T)),hy(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},h=(v,T)=>{this.latestPointerEvent=v,this.latestPanInfo=T;const{dragPropagation:S,dragDirectionLock:x,onDirectionLock:P,onDrag:N}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:j}=T;if(x&&this.currentDirection===null){this.currentDirection=fk(j),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",T.point,j),this.updateAxis("y",T.point,j),this.visualElement.render(),N&&N(v,T)},d=(v,T)=>{this.latestPointerEvent=v,this.latestPanInfo=T,this.stop(v,T),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ni(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new bC(e,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:EC(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!r)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&dt.postRender(()=>h(r,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!Sf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=rk(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&tl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=sk(r.layoutBox,e):this.constraints=!1,this.elastic=uk(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ni(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=lk(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!tl(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=dO(r,a.root,this.visualElement.getTransformPagePoint());let u=ak(a.layout.layoutBox,l);if(n){const h=n(cO(u));this.hasMutatedConstraints=!!h,h&&(u=aC(h))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=ni(y=>{if(!Sf(y,n,this.currentDirection))return;let v=d&&d[y]||{};u&&(v={min:0,max:0});const T=a?200:1e6,S=a?40:1e7,x={type:"inertia",velocity:r?e[y]:0,bounceStiffness:T,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,x)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return hy(this.visualElement,e),r.start(Mv(e,r,0,n,this.visualElement,!1))}stopAnimation(){ni(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ni(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ni(n=>{const{drag:r}=this.getProps();if(!Sf(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];l.set(e[n]-mt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!tl(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ni(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=ok({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ni(u=>{if(!Sf(u,e,null))return;const h=this.getAxisMotionValue(u),{min:d,max:p}=this.constraints[u];h.set(mt(d,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;ck.set(this.visualElement,this);const e=this.visualElement.current,n=Wu(e,"pointerdown",d=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();tl(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),dt.read(r);const u=mc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(ni(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=d[y].translate,v.set(v.get()+d[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=dy,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function Sf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function fk(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class dk extends Js{constructor(e){super(e),this.removeGroupControls=oi,this.removeListeners=oi,this.controls=new hk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||oi}unmount(){this.removeGroupControls(),this.removeListeners()}}const mw=t=>(e,n)=>{t&&dt.postRender(()=>t(e,n))};class mk extends Js{constructor(){super(...arguments),this.removePointerDownListener=oi}onPointerDown(e){this.session=new bC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:EC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:mw(e),onStart:mw(n),onMove:r,onEnd:(l,u)=>{delete this.session,a&&dt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Wu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Uf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ju={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(be.test(t))t=parseFloat(t);else return t;const n=pw(t,e.target.x),r=pw(t,e.target.y);return`${n}% ${r}%`}},pk={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=qs.parse(t);if(a.length>5)return r;const l=qs.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=d;const p=mt(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}};let wg=!1;class gk extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=e;UV(yk),l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),wg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Uf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,{projection:u}=r;return u&&(u.isPresent=l,wg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||dt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ev.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;wg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function SC(t){const[e,n]=Y1(),r=L.useContext(Jy);return A.jsx(gk,{...t,layoutGroup:r,switchLayoutGroup:L.useContext(rC),isPresent:e,safeToRemove:n})}const yk={borderRadius:{...ju,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ju,borderTopRightRadius:ju,borderBottomLeftRadius:ju,borderBottomRightRadius:ju,boxShadow:pk};function vk(t,e,n){const r=un(t)?t:dl(t);return r.start(Mv("",r,e,n)),r.animation}const _k=(t,e)=>t.depth-e.depth;class Tk{constructor(){this.children=[],this.isDirty=!1}add(e){nv(this.children,e),this.isDirty=!0}remove(e){iv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(_k),this.isDirty=!1,this.children.forEach(e)}}function Ek(t,e){const n=Rn.now(),r=({timestamp:a})=>{const l=a-n;l>=e&&(Hs(r),t(l-e))};return dt.setup(r,!0),()=>Hs(r)}const AC=["TopLeft","TopRight","BottomLeft","BottomRight"],bk=AC.length,gw=t=>typeof t=="string"?parseFloat(t):t,yw=t=>typeof t=="number"||be.test(t);function wk(t,e,n,r,a,l){a?(t.opacity=mt(0,n.opacity??1,Sk(r)),t.opacityExit=mt(e.opacity??1,0,Ak(r))):l&&(t.opacity=mt(e.opacity??1,n.opacity??1,r));for(let u=0;u<bk;u++){const h=`border${AC[u]}Radius`;let d=vw(e,h),p=vw(n,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||yw(d)===yw(p)?(t[h]=Math.max(mt(gw(d),gw(p),r),0),(sr.test(p)||sr.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=mt(e.rotate||0,n.rotate||0,r))}function vw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Sk=CC(0,.5,f1),Ak=CC(.5,.95,oi);function CC(t,e,n){return r=>r<t?0:r>e?1:n(uc(t,e,r))}function _w(t,e){t.min=e.min,t.max=e.max}function ti(t,e){_w(t.x,e.x),_w(t.y,e.y)}function Tw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ew(t,e,n,r,a){return t-=e,t=ed(t,1/n,r),a!==void 0&&(t=ed(t,1/a,r)),t}function Ck(t,e=0,n=1,r=.5,a,l=t,u=t){if(sr.test(e)&&(e=parseFloat(e),e=mt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=mt(l.min,l.max,r);t===l&&(h-=e),t.min=Ew(t.min,e,n,h,a),t.max=Ew(t.max,e,n,h,a)}function bw(t,e,[n,r,a],l,u){Ck(t,e[n],e[r],e[a],e.scale,l,u)}const Rk=["x","scaleX","originX"],xk=["y","scaleY","originY"];function ww(t,e,n,r){bw(t.x,e,Rk,n?n.x:void 0,r?r.x:void 0),bw(t.y,e,xk,n?n.y:void 0,r?r.y:void 0)}function Sw(t){return t.translate===0&&t.scale===1}function RC(t){return Sw(t.x)&&Sw(t.y)}function Aw(t,e){return t.min===e.min&&t.max===e.max}function Ik(t,e){return Aw(t.x,e.x)&&Aw(t.y,e.y)}function Cw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function xC(t,e){return Cw(t.x,e.x)&&Cw(t.y,e.y)}function Rw(t){return gn(t.x)/gn(t.y)}function xw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Dk{constructor(){this.members=[]}add(e){nv(this.members,e),e.scheduleRender()}remove(e){if(iv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Nk(t,e,n){let r="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(r=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:T,skewX:S,skewY:x}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),v&&(r+=`rotateX(${v}deg) `),T&&(r+=`rotateY(${T}deg) `),S&&(r+=`skewX(${S}deg) `),x&&(r+=`skewY(${x}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(r+=`scale(${h}, ${d})`),r||"none"}const Sg=["","X","Y","Z"],Mk=1e3;let Pk=0;function Ag(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function IC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=mC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(a||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&IC(r)}function DC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(u={},h=e?.()){this.id=Pk++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(kk),this.nodes.forEach(zk),this.nodes.forEach(Bk),this.nodes.forEach(Lk)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Tk)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new av),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=G1(u)&&!wV(u),this.instance=u;const{layoutId:h,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let y,v=0;const T=()=>this.root.updateBlockedByResize=!1;dt.read(()=>{v=window.innerWidth}),t(u,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,y&&y(),y=Ek(T,250),Uf.hasAnimatedSinceResize&&(Uf.hasAnimatedSinceResize=!1,this.nodes.forEach(Nw)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:T,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||p.getDefaultTransition()||Yk,{onLayoutAnimationStart:P,onLayoutAnimationComplete:N}=p.getProps(),j=!this.targetLayout||!xC(this.targetLayout,S),B=!v&&T;if(this.options.layoutRoot||this.resumeFrom||B||v&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={..._v(x,"layout"),onPlay:P,onComplete:N};(p.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(y,B)}else v||Nw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Hs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Fk),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&IC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Iw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Dw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(jk),this.nodes.forEach(Vk),this.nodes.forEach(Ok)):this.nodes.forEach(Dw),this.clearAllSnapshots();const h=Rn.now();en.delta=Fr(0,1e3/60,h-en.timestamp),en.timestamp=h,en.isProcessing=!0,dg.update.process(en),dg.preRender.process(en),dg.render.process(en),en.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ev.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Uk),this.sharedNodes.forEach(Hk)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gn(this.snapshot.measuredBox.x)&&!gn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!RC(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||ka(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),Kk(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Ct();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Xk))){const{scroll:p}=this.root;p&&(nl(h.x,p.offset.x),nl(h.y,p.offset.y))}return h}removeElementScroll(u){const h=Ct();if(ti(h,u),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&ti(h,u),nl(h.x,y.offset.x),nl(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const d=Ct();ti(d,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&il(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ka(y.latestValues)&&il(d,y.latestValues)}return ka(this.latestValues)&&il(d,this.latestValues),d}removeTransform(u){const h=Ct();ti(h,u);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!ka(p.latestValues))continue;oy(p.latestValues)&&p.updateSnapshot();const y=Ct(),v=p.measurePageBox();ti(y,v),ww(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return ka(this.latestValues)&&ww(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==en.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=en.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Ju(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),ti(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ct(),this.targetWithTransforms=Ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ek(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ti(this.target,this.layout.layoutBox),lC(this.target,this.targetDelta)):ti(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ct(),this.relativeTargetOrigin=Ct(),Ju(this.relativeTargetOrigin,this.target,T.target),ti(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||oy(this.parent.latestValues)||oC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===en.timestamp&&(d=!1),d)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;ti(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,T=this.treeScale.y;fO(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Ct());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Tw(this.prevProjectionDelta.x,this.projectionDelta.x),Tw(this.prevProjectionDelta.y,this.projectionDelta.y)),Zu(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==T||!xw(this.projectionDelta.x,this.prevProjectionDelta.x)||!xw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rl(),this.projectionDelta=rl(),this.projectionDeltaWithTransform=rl()}setAnimationOrigin(u,h=!1){const d=this.snapshot,p=d?d.latestValues:{},y={...this.latestValues},v=rl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const T=Ct(),S=d?d.source:void 0,x=this.layout?this.layout.source:void 0,P=S!==x,N=this.getStack(),j=!N||N.members.length<=1,B=!!(P&&!j&&this.options.crossfade===!0&&!this.path.some(Gk));this.animationProgress=0;let F;this.mixTargetDelta=se=>{const re=se/1e3;Mw(v.x,u.x,re),Mw(v.y,u.y,re),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ju(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qk(this.relativeTarget,this.relativeTargetOrigin,T,re),F&&Ik(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Ct()),ti(F,this.relativeTarget)),P&&(this.animationValues=y,wk(y,p,this.latestValues,re,B,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=re},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Hs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{Uf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=dl(0)),this.currentAnimation=vk(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Mk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:y}=u;if(!(!h||!d||!p)){if(this!==u&&this.layout&&p&&NC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||Ct();const v=gn(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+v;const T=gn(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+T}ti(h,d),il(h,y),Zu(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new Dk),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&Ag("z",u,p,this.animationValues);for(let y=0;y<Sg.length;y++)Ag(`rotate${Sg[y]}`,u,p,this.animationValues),Ag(`skew${Sg[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Lf(h?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Lf(h?.pointerEvents)||""),this.hasProjected&&!ka(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=Nk(this.projectionDeltaWithTransform,this.treeScale,y);d&&(v=d(y,v)),u.transform=v;const{x:T,y:S}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${S.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const x in dc){if(y[x]===void 0)continue;const{correct:P,applyTo:N,isCSSVariable:j}=dc[x],B=v==="none"?y[x]:P(y[x],p);if(N){const F=N.length;for(let se=0;se<F;se++)u[N[se]]=B}else j?this.options.visualElement.renderState.vars[x]=B:u[x]=B}this.options.layoutId&&(u.pointerEvents=p===this?Lf(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Iw),this.root.sharedNodes.clear()}}}function Vk(t){t.updateLayout()}function Ok(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ni(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],T=gn(v);v.min=n[y].min,v.max=v.min+T}):NC(a,e.layoutBox,n)&&ni(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],T=gn(n[y]);v.max=v.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+T)});const u=rl();Zu(u,n,e.layoutBox);const h=rl();l?Zu(h,t.applyTransform(r,!0),e.measuredBox):Zu(h,n,e.layoutBox);const d=!RC(u);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:T}=y;if(v&&T){const S=Ct();Ju(S,e.layoutBox,v.layoutBox);const x=Ct();Ju(x,n,T.layoutBox),xC(S,x)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=S,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function kk(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Lk(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Uk(t){t.clearSnapshot()}function Iw(t){t.clearMeasurements()}function Dw(t){t.isLayoutDirty=!1}function jk(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Nw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function zk(t){t.resolveTargetDelta()}function Bk(t){t.calcProjection()}function Fk(t){t.resetSkewAndRotation()}function Hk(t){t.removeLeadSnapshot()}function Mw(t,e,n){t.translate=mt(e.translate,0,n),t.scale=mt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Pw(t,e,n,r){t.min=mt(e.min,n.min,r),t.max=mt(e.max,n.max,r)}function qk(t,e,n,r){Pw(t.x,e.x,n.x,r),Pw(t.y,e.y,n.y,r)}function Gk(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Yk={duration:.45,ease:[.4,0,.1,1]},Vw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Ow=Vw("applewebkit/")&&!Vw("chrome/")?Math.round:oi;function kw(t){t.min=Ow(t.min),t.max=Ow(t.max)}function Kk(t){kw(t.x),kw(t.y)}function NC(t,e,n){return t==="position"||t==="preserve-aspect"&&!JO(Rw(e),Rw(n),.2)}function Xk(t){return t!==t.root&&t.scroll?.wasRoot}const $k=DC({attachResizeListener:(t,e)=>mc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cg={current:void 0},MC=DC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Cg.current){const t=new $k({});t.mount(window),t.setOptions({layoutScroll:!0}),Cg.current=t}return Cg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Qk={pan:{Feature:mk},drag:{Feature:dk,ProjectionNode:MC,MeasureLayout:SC}};function Lw(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&dt.postRender(()=>l(e,Nc(e)))}class Wk extends Js{mount(){const{current:e}=this.node;e&&(this.unmount=vV(e,(n,r)=>(Lw(this.node,r,"Start"),a=>Lw(this.node,a,"End"))))}unmount(){}}class Zk extends Js{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xc(mc(this.node.current,"focus",()=>this.onFocus()),mc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Uw(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&dt.postRender(()=>l(e,Nc(e)))}class Jk extends Js{mount(){const{current:e}=this.node;e&&(this.unmount=bV(e,(n,r)=>(Uw(this.node,r,"Start"),(a,{success:l})=>Uw(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const my=new WeakMap,Rg=new WeakMap,e4=t=>{const e=my.get(t.target);e&&e(t)},t4=t=>{t.forEach(e4)};function n4({root:t,...e}){const n=t||document;Rg.has(n)||Rg.set(n,{});const r=Rg.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(t4,{root:t,...e})),r[a]}function i4(t,e,n){const r=n4(e);return my.set(t,n),r.observe(t),()=>{my.delete(t),r.unobserve(t)}}const r4={some:0,all:1};class s4 extends Js{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:r4[a]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),T=p?y:v;T&&T(d)};return i4(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(a4(e,n))&&this.startObserver()}unmount(){}}function a4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const o4={inView:{Feature:s4},tap:{Feature:Jk},focus:{Feature:Zk},hover:{Feature:Wk}},l4={layout:{ProjectionNode:MC,MeasureLayout:SC}},u4={...KO,...o4,...Qk,...l4},pn=uO(u4,bO),Dd=({searchTerm:t,setSearchTerm:e})=>{const[n,r]=L.useState(!1),[a,l]=L.useState(!1),u=[{name:"Taco House",phone:"+91 7795815315"},{name:"Hungry House",phone:"+91 9820243177"},{name:"MFC",phone:"+91 7338334970"},{name:"Hit&Run",phone:"+91 7406330088"},{name:"Janani Canteen",phone:"+91 8660138488"},{name:"Dollar Cafe",phone:"+91 8105306109"},{name:"Kamath Cafe",phone:"+91 8217044886"},{name:"Aditya Mess",phone:"+91 7483644586"},{name:"Apoorva Mess",phone:"+91 9108888320"},{name:"FC 2",phone:"+91 8861953102"},{name:"Poornima",phone:"+91 70906 41985"},{name:"Nom Nom cafe",phone:"+91 7619422026"},{name:"Ashraya",phone:"+91 6361201519"}];return A.jsxs(A.Fragment,{children:[A.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white/10 backdrop-blur-md border-b border-white/20 shadow-lg",children:A.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:A.jsxs("div",{className:"flex items-center justify-between h-16",children:[A.jsx(Ga,{mode:"wait",children:(!n||window.innerWidth>=768)&&A.jsx(pn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center gap-2",children:A.jsxs(Fa,{to:"/",className:"flex items-center gap-2",children:[A.jsx("div",{className:"hidden md:block p-2 bg-orange-500 rounded-lg text-white",children:A.jsx(Kg,{size:24})}),A.jsx(Fa,{to:"/admin",className:"md:hidden p-2 bg-orange-500 rounded-lg text-white",onClick:h=>h.stopPropagation(),children:A.jsx(Kg,{size:24})}),A.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent",children:"MIT Mess"})]})})}),e&&A.jsxs("div",{className:"hidden md:flex flex-1 max-w-md mx-8 relative group",children:[A.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:A.jsx(fg,{className:"h-4 w-4 text-gray-400 group-focus-within:text-orange-500 transition-colors"})}),A.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-200/50 rounded-full leading-5 bg-white/50 backdrop-blur-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 sm:text-sm shadow-sm transition-all duration-300 hover:bg-white/80 focus:bg-white",placeholder:"Search messes...",value:t,onChange:h=>e(h.target.value)})]}),A.jsx(Ga,{children:n&&A.jsxs(pn.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:"100%"},exit:{opacity:0,width:0},className:"absolute inset-0 flex items-center px-4 bg-white md:hidden z-20",children:[A.jsx(fg,{className:"text-gray-400 mr-2",size:20}),A.jsx("input",{type:"text",placeholder:"Search...",value:t,onChange:h=>e(h.target.value),className:"flex-1 bg-transparent border-none focus:ring-0 text-gray-800 placeholder-gray-500 outline-none",autoFocus:!0}),A.jsx("button",{onClick:()=>r(!1),className:"p-2 text-gray-500 hover:text-orange-600",children:A.jsx(lc,{size:20})})]})}),A.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[A.jsx("a",{href:"https://mit.nakshatramaps.com/",target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-orange-600 transition-colors",title:"Campus Map",children:A.jsx(_M,{size:20})}),A.jsx("button",{onClick:()=>l(!0),className:"md:hidden p-2 text-gray-600 hover:text-orange-600 transition-colors",title:"Restaurants",children:A.jsx(SM,{size:20})}),e&&!n&&A.jsx("button",{onClick:()=>r(!0),className:"md:hidden p-2 text-gray-600 hover:text-orange-600 transition-colors",children:A.jsx(fg,{size:20})}),A.jsx("button",{onClick:()=>l(!0),className:"hidden md:block px-4 py-2 text-sm font-medium text-gray-700 hover:text-orange-600 transition-colors",children:"Restaurants"}),A.jsx(Fa,{to:"/admin",children:A.jsx("button",{className:"hidden md:block px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-orange-500 to-red-500 rounded-full hover:shadow-lg hover:scale-105 transition-all duration-300",children:"Admin Login"})})]})]})})}),A.jsx(Ga,{children:a&&A.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>l(!1),children:A.jsxs(pn.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},onClick:h=>h.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[80vh] overflow-hidden flex flex-col",children:[A.jsxs("div",{className:"p-6 bg-gradient-to-r from-orange-500 to-red-500 text-white flex justify-between items-center shrink-0",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"text-2xl font-bold",children:"Nearby Restaurants"}),A.jsx("p",{className:"text-white/80 text-sm",children:"Tap a card to call"})]}),A.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:A.jsx(lc,{size:24})})]}),A.jsx("div",{className:"p-6 overflow-y-auto",children:A.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map((h,d)=>A.jsxs("a",{href:`tel:${h.phone}`,className:"block p-4 rounded-xl bg-white border border-gray-100 shadow-sm hover:shadow-md hover:border-orange-200 transition-all duration-300 group",children:[A.jsx("h4",{className:"font-bold text-gray-800 group-hover:text-orange-600 transition-colors mb-1",children:h.name}),A.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[A.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),h.phone]})]},d))})})]})})})]})};function PC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=PC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function kr(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=PC(t))&&(r&&(r+=" "),r+=e);return r}const c4=({mess:t})=>{const[e,n]=L.useState(new Date().toLocaleDateString("en-US",{weekday:"long"})),r=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],a=t.menu[e]||t.menu.Monday,l=p=>{if([p.Breakfast,p.Lunch,p.Snacks,p.Dinner].join(" ").toLowerCase().includes("month end dinner"))return"Month End Dinner";const v=["chicken","paneer","egg","sewaiya","kebab","ice cream","semiyan","kheer","swiss roll","gulab jamun"],T=["chapati","steam rice","steamed rice","rice"],S=j=>{if(!j)return null;const B=j.split(",").map(F=>F.trim());for(const F of B){const se=F.toLowerCase();if(v.some(re=>se.includes(re)))return F}for(const F of B){const se=F.toLowerCase();if(!T.some(re=>se.includes(re)))return F}return B[0]},x=S(p.Lunch),P=S(p.Dinner),N=j=>j?v.some(B=>j.toLowerCase().includes(B)):!1;return N(x)?x:N(P)?P:x||P||"Special Meal"},u={"from-orange-500 to-red-500":{text:"text-orange-600",shadow:"hover:shadow-orange-500/40",bg:"bg-orange-50"},"from-blue-500 to-cyan-500":{text:"text-blue-600",shadow:"hover:shadow-blue-500/40",bg:"bg-blue-50"},"from-green-500 to-emerald-500":{text:"text-green-600",shadow:"hover:shadow-green-500/40",bg:"bg-green-50"},"from-purple-500 to-pink-500":{text:"text-purple-600",shadow:"hover:shadow-purple-500/40",bg:"bg-purple-50"},"from-pink-500 to-rose-500":{text:"text-pink-600",shadow:"hover:shadow-pink-500/40",bg:"bg-pink-50"}},h=u[t.color]||u["from-orange-500 to-red-500"],d=p=>p?p.toLowerCase().split(" ").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" "):"";return A.jsx(Fa,{to:`/mess/${t.id}`,className:"h-full block",children:A.jsxs(pn.div,{layout:!0,whileHover:{y:-5,transition:{duration:.1}},className:kr("relative overflow-hidden rounded-2xl bg-white/40 backdrop-blur-lg border border-white/50 shadow-xl hover:shadow-2xl transition-all duration-100 cursor-pointer group h-full flex flex-col",h.shadow),children:[A.jsxs("div",{className:kr("px-5 py-3 bg-gradient-to-r text-white transition-all duration-300",t.color),children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("h3",{className:"text-xl font-bold group-hover:scale-105 transition-transform duration-300",children:t.name}),A.jsx("div",{className:"p-1.5 bg-white/20 rounded-full group-hover:bg-white/30 transition-colors",children:A.jsx(e1,{size:16})})]}),A.jsxs("p",{className:"mt-1 text-white/90 text-xs flex items-center gap-1",children:[A.jsx(Zy,{size:12}),"Today's Special: ",(()=>{const p=()=>{const x=new Date,P=x.getDay(),N=x.getDate()-P+(P===0?-6:1),j=new Date(x.setDate(N));return j.setHours(0,0,0,0),j},y=t.lastUpdated?new Date(t.lastUpdated):null,v=p(),T=!y||y<v,S=t.menu&&Object.keys(t.menu).some(x=>{const P=t.menu[x];return P?Object.values(P).some(N=>N&&N!=="N/A"&&N.trim()!==""):!1});return T||!S?"N/A":d(l(a))})()]})]}),A.jsx("div",{className:"p-5 flex-1 flex flex-col",children:(()=>{const p=()=>{const x=new Date,P=x.getDay(),N=x.getDate()-P+(P===0?-6:1),j=new Date(x.setDate(N));return j.setHours(0,0,0,0),j},y=t.lastUpdated?new Date(t.lastUpdated):null,v=p(),T=!y||y<v,S=t.menu&&Object.keys(t.menu).some(x=>{const P=t.menu[x];return P?Object.values(P).some(N=>N&&N!=="N/A"&&N.trim()!==""):!1});return T||!S?A.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center opacity-70 min-h-[200px]",children:[A.jsx("div",{className:kr("text-lg font-bold mb-1",h.text),children:"Menu Not Uploaded"}),A.jsx("p",{className:"text-xs text-gray-400",children:"Check back later"})]}):A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"flex justify-between items-center w-full mb-3",onClick:x=>x.preventDefault(),children:r.map(x=>A.jsx("button",{onClick:P=>{P.preventDefault(),P.stopPropagation(),n(x)},className:kr("px-1.5 py-1 rounded-md text-[10px] font-medium transition-all",e===x?"bg-gray-800 text-white shadow-md":"bg-white/50 text-gray-600 hover:bg-white/80"),children:x.slice(0,3)},x))}),A.jsx("div",{className:"grid grid-cols-1 flex-1 min-h-0",children:r.map(x=>{const P=t.menu[x]||t.menu.Monday,N=e===x;return A.jsxs("div",{className:kr("flex flex-col gap-2.5 overflow-y-auto pr-1 pb-2 custom-scrollbar scrollbar-hide transition-opacity duration-200",N?"opacity-100 z-10 pointer-events-auto":"opacity-0 z-0 pointer-events-none"),style:{gridArea:"1 / 1 / 2 / 2"},children:[A.jsx("style",{jsx:!0,children:`
                                                    .scrollbar-hide::-webkit-scrollbar {
                                                        display: none;
                                                    }
                                                    .scrollbar-hide {
                                                        -ms-overflow-style: none;
                                                        scrollbar-width: none;
                                                    }
                                                `}),A.jsxs("div",{className:"p-3 rounded-xl bg-white/60 border border-white/40 shrink-0",children:[A.jsx("h4",{className:"text-[10px] font-bold text-orange-600 uppercase tracking-wider mb-0.5",children:"Breakfast"}),A.jsx("p",{className:"text-gray-800 font-medium text-xs leading-tight break-words",children:d(P.Breakfast)})]}),A.jsxs("div",{className:"p-3 rounded-xl bg-white/60 border border-white/40 shrink-0",children:[A.jsx("h4",{className:"text-[10px] font-bold text-green-600 uppercase tracking-wider mb-0.5",children:"Lunch"}),A.jsx("p",{className:"text-gray-800 font-medium text-xs leading-tight break-words",children:d(P.Lunch)})]}),A.jsxs("div",{className:"p-3 rounded-xl bg-white/60 border border-white/40 shrink-0",children:[A.jsx("h4",{className:"text-[10px] font-bold text-yellow-600 uppercase tracking-wider mb-0.5",children:"Snacks"}),A.jsx("p",{className:"text-gray-800 font-medium text-xs leading-tight break-words",children:d(P.Snacks)})]}),A.jsxs("div",{className:"p-3 rounded-xl bg-white/60 border border-white/40 shrink-0 mb-4",children:[A.jsx("h4",{className:"text-[10px] font-bold text-blue-600 uppercase tracking-wider mb-0.5",children:"Dinner"}),A.jsx("p",{className:"text-gray-800 font-medium text-xs leading-tight break-words",children:d(P.Dinner)})]})]},x)})})]})})()})]})})},h4=()=>{};var jw={};const VC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},f4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},OC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,d=a+2<t.length,p=d?t[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let T=(h&15)<<2|p>>6,S=p&63;d||(S=64,u||(T=64)),r.push(n[y],n[v],n[T],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(VC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):f4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||v==null)throw new d4;const T=l<<2|h>>4;if(r.push(T),p!==64){const S=h<<4&240|p>>2;if(r.push(S),v!==64){const x=p<<6&192|v;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class d4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m4=function(t){const e=VC(t);return OC.encodeByteArray(e,!0)},td=function(t){return m4(t).replace(/\./g,"")},kC=function(t){try{return OC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function p4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const g4=()=>p4().__FIREBASE_DEFAULTS__,y4=()=>{if(typeof process>"u"||typeof jw>"u")return;const t=jw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},v4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&kC(t[1]);return e&&JSON.parse(e)},Nd=()=>{try{return h4()||g4()||y4()||v4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},LC=t=>Nd()?.emulatorHosts?.[t],_4=t=>{const e=LC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},UC=()=>Nd()?.config,jC=t=>Nd()?.[`_${t}`];class T4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Cl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zC(t){return(await fetch(t,{credentials:"include"})).ok}function E4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[td(JSON.stringify(n)),td(JSON.stringify(u)),""].join(".")}const ec={};function b4(){const t={prod:[],emulator:[]};for(const e of Object.keys(ec))ec[e]?t.emulator.push(e):t.prod.push(e);return t}function w4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let zw=!1;function BC(t,e){if(typeof window>"u"||typeof document>"u"||!Cl(window.location.host)||ec[t]===e||ec[t]||zw)return;ec[t]=e;function n(T){return`__firebase__banner__${T}`}const r="__firebase__banner",l=b4().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function d(T,S){T.setAttribute("width","24"),T.setAttribute("id",S),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{zw=!0,u()},T}function y(T,S){T.setAttribute("id",S),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function v(){const T=w4(r),S=n("text"),x=document.getElementById(S)||document.createElement("span"),P=n("learnmore"),N=document.getElementById(P)||document.createElement("a"),j=n("preprendIcon"),B=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const F=T.element;h(F),y(N,P);const se=p();d(B,j),F.append(B,x,N,se),document.body.appendChild(F)}l?(x.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function A4(){const t=Nd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function C4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function R4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function x4(){const t=cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function I4(){return!A4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HC(){try{return typeof indexedDB=="object"}catch{return!1}}function qC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}function D4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const N4="FirebaseError";class Mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=N4,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,no.prototype.create)}}class no{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?M4(l,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Mi(a,h,r)}}function M4(t,e){return t.replace(P4,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const P4=/\{\$([^}]+)}/g;function V4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],u=e[a];if(Bw(l)&&Bw(u)){if(!Gs(l,u))return!1}else if(l!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function Bw(t){return t!==null&&typeof t=="object"}function Mc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Hu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function O4(t,e){const n=new k4(t,e);return n.subscribe.bind(n)}class k4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");L4(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=xg),a.error===void 0&&(a.error=xg),a.complete===void 0&&(a.complete=xg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xg(){}const U4=1e3,j4=2,z4=14400*1e3,B4=.5;function Fw(t,e=U4,n=j4){const r=e*Math.pow(n,t),a=Math.round(B4*r*(Math.random()-.5)*2);return Math.min(z4,r+a)}function Et(t){return t&&t._delegate?t._delegate:t}class Ii{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const La="[DEFAULT]";class F4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new T4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q4(e))try{this.getOrInitializeService({instanceIdentifier:La})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=La){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=La){return this.instances.has(e)}getOptions(e=La){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&u.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:H4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=La){return this.component?this.component.multipleInstances?e:La:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function H4(t){return t===La?void 0:t}function q4(t){return t.instantiationMode==="EAGER"}class G4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new F4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const Y4={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},K4=Le.INFO,X4={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},$4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=X4[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Md{constructor(e){this.name=e,this._logLevel=K4,this._logHandler=$4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Y4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const Q4=(t,e)=>e.some(n=>t instanceof n);let Hw,qw;function W4(){return Hw||(Hw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Z4(){return qw||(qw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GC=new WeakMap,py=new WeakMap,YC=new WeakMap,Ig=new WeakMap,Pv=new WeakMap;function J4(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Ls(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&GC.set(n,t)}).catch(()=>{}),Pv.set(e,t),e}function eL(t){if(py.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});py.set(t,e)}let gy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return py.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ls(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tL(t){gy=t(gy)}function nL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Dg(this),e,...n);return YC.set(r,e.sort?e.sort():[e]),Ls(r)}:Z4().includes(t)?function(...e){return t.apply(Dg(this),e),Ls(GC.get(this))}:function(...e){return Ls(t.apply(Dg(this),e))}}function iL(t){return typeof t=="function"?nL(t):(t instanceof IDBTransaction&&eL(t),Q4(t,W4())?new Proxy(t,gy):t)}function Ls(t){if(t instanceof IDBRequest)return J4(t);if(Ig.has(t))return Ig.get(t);const e=iL(t);return e!==t&&(Ig.set(t,e),Pv.set(e,t)),e}const Dg=t=>Pv.get(t);function KC(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=Ls(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Ls(u.result),d.oldVersion,d.newVersion,Ls(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const rL=["get","getKey","getAll","getAllKeys","count"],sL=["put","add","delete","clear"],Ng=new Map;function Gw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ng.get(e))return Ng.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=sL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||rL.includes(n)))return;const l=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&d.done]))[0]};return Ng.set(e,l),l}tL(t=>({...t,get:(e,n,r)=>Gw(e,n)||t.get(e,n,r),has:(e,n)=>!!Gw(e,n)||t.has(e,n)}));class aL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function oL(t){return t.getComponent()?.type==="VERSION"}const yy="@firebase/app",Yw="0.14.6";const qr=new Md("@firebase/app"),lL="@firebase/app-compat",uL="@firebase/analytics-compat",cL="@firebase/analytics",hL="@firebase/app-check-compat",fL="@firebase/app-check",dL="@firebase/auth",mL="@firebase/auth-compat",pL="@firebase/database",gL="@firebase/data-connect",yL="@firebase/database-compat",vL="@firebase/functions",_L="@firebase/functions-compat",TL="@firebase/installations",EL="@firebase/installations-compat",bL="@firebase/messaging",wL="@firebase/messaging-compat",SL="@firebase/performance",AL="@firebase/performance-compat",CL="@firebase/remote-config",RL="@firebase/remote-config-compat",xL="@firebase/storage",IL="@firebase/storage-compat",DL="@firebase/firestore",NL="@firebase/ai",ML="@firebase/firestore-compat",PL="firebase",VL="12.6.0";const vy="[DEFAULT]",OL={[yy]:"fire-core",[lL]:"fire-core-compat",[cL]:"fire-analytics",[uL]:"fire-analytics-compat",[fL]:"fire-app-check",[hL]:"fire-app-check-compat",[dL]:"fire-auth",[mL]:"fire-auth-compat",[pL]:"fire-rtdb",[gL]:"fire-data-connect",[yL]:"fire-rtdb-compat",[vL]:"fire-fn",[_L]:"fire-fn-compat",[TL]:"fire-iid",[EL]:"fire-iid-compat",[bL]:"fire-fcm",[wL]:"fire-fcm-compat",[SL]:"fire-perf",[AL]:"fire-perf-compat",[CL]:"fire-rc",[RL]:"fire-rc-compat",[xL]:"fire-gcs",[IL]:"fire-gcs-compat",[DL]:"fire-fst",[ML]:"fire-fst-compat",[NL]:"fire-vertex","fire-js":"fire-js",[PL]:"fire-js-all"};const nd=new Map,kL=new Map,_y=new Map;function Kw(t,e){try{t.container.addComponent(e)}catch(n){qr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fr(t){const e=t.name;if(_y.has(e))return qr.debug(`There were multiple attempts to register component ${e}.`),!1;_y.set(e,t);for(const n of nd.values())Kw(n,t);for(const n of kL.values())Kw(n,t);return!0}function io(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ri(t){return t==null?!1:t.settings!==void 0}const LL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Us=new no("app","Firebase",LL);class UL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Us.create("app-deleted",{appName:this._name})}}const Rl=VL;function XC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:vy,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Us.create("bad-app-name",{appName:String(a)});if(n||(n=UC()),!n)throw Us.create("no-options");const l=nd.get(a);if(l){if(Gs(n,l.options)&&Gs(r,l.config))return l;throw Us.create("duplicate-app",{appName:a})}const u=new G4(a);for(const d of _y.values())u.addComponent(d);const h=new UL(n,r,u);return nd.set(a,h),h}function Vv(t=vy){const e=nd.get(t);if(!e&&t===vy&&UC())return XC();if(!e)throw Us.create("no-app",{appName:t});return e}function li(t,e,n){let r=OL[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qr.warn(u.join(" "));return}fr(new Ii(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const jL="firebase-heartbeat-database",zL=1,pc="firebase-heartbeat-store";let Mg=null;function $C(){return Mg||(Mg=KC(jL,zL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Us.create("idb-open",{originalErrorMessage:t.message})})),Mg}async function BL(t){try{const n=(await $C()).transaction(pc),r=await n.objectStore(pc).get(QC(t));return await n.done,r}catch(e){if(e instanceof Mi)qr.warn(e.message);else{const n=Us.create("idb-get",{originalErrorMessage:e?.message});qr.warn(n.message)}}}async function Xw(t,e){try{const r=(await $C()).transaction(pc,"readwrite");await r.objectStore(pc).put(e,QC(t)),await r.done}catch(n){if(n instanceof Mi)qr.warn(n.message);else{const r=Us.create("idb-set",{originalErrorMessage:n?.message});qr.warn(r.message)}}}function QC(t){return`${t.name}!${t.options.appId}`}const FL=1024,HL=30;class qL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new YL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=$w();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>HL){const a=KL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){qr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$w(),{heartbeatsToSend:n,unsentEntries:r}=GL(this._heartbeatsCache.heartbeats),a=td(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return qr.warn(e),""}}}function $w(){return new Date().toISOString().substring(0,10)}function GL(t,e=FL){const n=[];let r=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Qw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Qw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class YL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HC()?qC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Xw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Xw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Qw(t){return td(JSON.stringify({version:2,heartbeats:t})).length}function KL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function XL(t){fr(new Ii("platform-logger",e=>new aL(e),"PRIVATE")),fr(new Ii("heartbeat",e=>new qL(e),"PRIVATE")),li(yy,Yw,t),li(yy,Yw,"esm2020"),li("fire-js","")}XL("");var $L="firebase",QL="12.6.0";li($L,QL,"app");var Ww=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var js,WC;(function(){var t;function e(I,R){function D(){}D.prototype=R.prototype,I.F=R.prototype,I.prototype=new D,I.prototype.constructor=I,I.D=function(U,k,H){for(var V=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)V[Fe-2]=arguments[Fe];return R.prototype[k].apply(U,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,R,D){D||(D=0);const U=Array(16);if(typeof R=="string")for(var k=0;k<16;++k)U[k]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(k=0;k<16;++k)U[k]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=I.g[0],D=I.g[1],k=I.g[2];let H=I.g[3],V;V=R+(H^D&(k^H))+U[0]+3614090360&4294967295,R=D+(V<<7&4294967295|V>>>25),V=H+(k^R&(D^k))+U[1]+3905402710&4294967295,H=R+(V<<12&4294967295|V>>>20),V=k+(D^H&(R^D))+U[2]+606105819&4294967295,k=H+(V<<17&4294967295|V>>>15),V=D+(R^k&(H^R))+U[3]+3250441966&4294967295,D=k+(V<<22&4294967295|V>>>10),V=R+(H^D&(k^H))+U[4]+4118548399&4294967295,R=D+(V<<7&4294967295|V>>>25),V=H+(k^R&(D^k))+U[5]+1200080426&4294967295,H=R+(V<<12&4294967295|V>>>20),V=k+(D^H&(R^D))+U[6]+2821735955&4294967295,k=H+(V<<17&4294967295|V>>>15),V=D+(R^k&(H^R))+U[7]+4249261313&4294967295,D=k+(V<<22&4294967295|V>>>10),V=R+(H^D&(k^H))+U[8]+1770035416&4294967295,R=D+(V<<7&4294967295|V>>>25),V=H+(k^R&(D^k))+U[9]+2336552879&4294967295,H=R+(V<<12&4294967295|V>>>20),V=k+(D^H&(R^D))+U[10]+4294925233&4294967295,k=H+(V<<17&4294967295|V>>>15),V=D+(R^k&(H^R))+U[11]+2304563134&4294967295,D=k+(V<<22&4294967295|V>>>10),V=R+(H^D&(k^H))+U[12]+1804603682&4294967295,R=D+(V<<7&4294967295|V>>>25),V=H+(k^R&(D^k))+U[13]+4254626195&4294967295,H=R+(V<<12&4294967295|V>>>20),V=k+(D^H&(R^D))+U[14]+2792965006&4294967295,k=H+(V<<17&4294967295|V>>>15),V=D+(R^k&(H^R))+U[15]+1236535329&4294967295,D=k+(V<<22&4294967295|V>>>10),V=R+(k^H&(D^k))+U[1]+4129170786&4294967295,R=D+(V<<5&4294967295|V>>>27),V=H+(D^k&(R^D))+U[6]+3225465664&4294967295,H=R+(V<<9&4294967295|V>>>23),V=k+(R^D&(H^R))+U[11]+643717713&4294967295,k=H+(V<<14&4294967295|V>>>18),V=D+(H^R&(k^H))+U[0]+3921069994&4294967295,D=k+(V<<20&4294967295|V>>>12),V=R+(k^H&(D^k))+U[5]+3593408605&4294967295,R=D+(V<<5&4294967295|V>>>27),V=H+(D^k&(R^D))+U[10]+38016083&4294967295,H=R+(V<<9&4294967295|V>>>23),V=k+(R^D&(H^R))+U[15]+3634488961&4294967295,k=H+(V<<14&4294967295|V>>>18),V=D+(H^R&(k^H))+U[4]+3889429448&4294967295,D=k+(V<<20&4294967295|V>>>12),V=R+(k^H&(D^k))+U[9]+568446438&4294967295,R=D+(V<<5&4294967295|V>>>27),V=H+(D^k&(R^D))+U[14]+3275163606&4294967295,H=R+(V<<9&4294967295|V>>>23),V=k+(R^D&(H^R))+U[3]+4107603335&4294967295,k=H+(V<<14&4294967295|V>>>18),V=D+(H^R&(k^H))+U[8]+1163531501&4294967295,D=k+(V<<20&4294967295|V>>>12),V=R+(k^H&(D^k))+U[13]+2850285829&4294967295,R=D+(V<<5&4294967295|V>>>27),V=H+(D^k&(R^D))+U[2]+4243563512&4294967295,H=R+(V<<9&4294967295|V>>>23),V=k+(R^D&(H^R))+U[7]+1735328473&4294967295,k=H+(V<<14&4294967295|V>>>18),V=D+(H^R&(k^H))+U[12]+2368359562&4294967295,D=k+(V<<20&4294967295|V>>>12),V=R+(D^k^H)+U[5]+4294588738&4294967295,R=D+(V<<4&4294967295|V>>>28),V=H+(R^D^k)+U[8]+2272392833&4294967295,H=R+(V<<11&4294967295|V>>>21),V=k+(H^R^D)+U[11]+1839030562&4294967295,k=H+(V<<16&4294967295|V>>>16),V=D+(k^H^R)+U[14]+4259657740&4294967295,D=k+(V<<23&4294967295|V>>>9),V=R+(D^k^H)+U[1]+2763975236&4294967295,R=D+(V<<4&4294967295|V>>>28),V=H+(R^D^k)+U[4]+1272893353&4294967295,H=R+(V<<11&4294967295|V>>>21),V=k+(H^R^D)+U[7]+4139469664&4294967295,k=H+(V<<16&4294967295|V>>>16),V=D+(k^H^R)+U[10]+3200236656&4294967295,D=k+(V<<23&4294967295|V>>>9),V=R+(D^k^H)+U[13]+681279174&4294967295,R=D+(V<<4&4294967295|V>>>28),V=H+(R^D^k)+U[0]+3936430074&4294967295,H=R+(V<<11&4294967295|V>>>21),V=k+(H^R^D)+U[3]+3572445317&4294967295,k=H+(V<<16&4294967295|V>>>16),V=D+(k^H^R)+U[6]+76029189&4294967295,D=k+(V<<23&4294967295|V>>>9),V=R+(D^k^H)+U[9]+3654602809&4294967295,R=D+(V<<4&4294967295|V>>>28),V=H+(R^D^k)+U[12]+3873151461&4294967295,H=R+(V<<11&4294967295|V>>>21),V=k+(H^R^D)+U[15]+530742520&4294967295,k=H+(V<<16&4294967295|V>>>16),V=D+(k^H^R)+U[2]+3299628645&4294967295,D=k+(V<<23&4294967295|V>>>9),V=R+(k^(D|~H))+U[0]+4096336452&4294967295,R=D+(V<<6&4294967295|V>>>26),V=H+(D^(R|~k))+U[7]+1126891415&4294967295,H=R+(V<<10&4294967295|V>>>22),V=k+(R^(H|~D))+U[14]+2878612391&4294967295,k=H+(V<<15&4294967295|V>>>17),V=D+(H^(k|~R))+U[5]+4237533241&4294967295,D=k+(V<<21&4294967295|V>>>11),V=R+(k^(D|~H))+U[12]+1700485571&4294967295,R=D+(V<<6&4294967295|V>>>26),V=H+(D^(R|~k))+U[3]+2399980690&4294967295,H=R+(V<<10&4294967295|V>>>22),V=k+(R^(H|~D))+U[10]+4293915773&4294967295,k=H+(V<<15&4294967295|V>>>17),V=D+(H^(k|~R))+U[1]+2240044497&4294967295,D=k+(V<<21&4294967295|V>>>11),V=R+(k^(D|~H))+U[8]+1873313359&4294967295,R=D+(V<<6&4294967295|V>>>26),V=H+(D^(R|~k))+U[15]+4264355552&4294967295,H=R+(V<<10&4294967295|V>>>22),V=k+(R^(H|~D))+U[6]+2734768916&4294967295,k=H+(V<<15&4294967295|V>>>17),V=D+(H^(k|~R))+U[13]+1309151649&4294967295,D=k+(V<<21&4294967295|V>>>11),V=R+(k^(D|~H))+U[4]+4149444226&4294967295,R=D+(V<<6&4294967295|V>>>26),V=H+(D^(R|~k))+U[11]+3174756917&4294967295,H=R+(V<<10&4294967295|V>>>22),V=k+(R^(H|~D))+U[2]+718787259&4294967295,k=H+(V<<15&4294967295|V>>>17),V=D+(H^(k|~R))+U[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(k+(V<<21&4294967295|V>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+H&4294967295}r.prototype.v=function(I,R){R===void 0&&(R=I.length);const D=R-this.blockSize,U=this.C;let k=this.h,H=0;for(;H<R;){if(k==0)for(;H<=D;)a(this,I,H),H+=this.blockSize;if(typeof I=="string"){for(;H<R;)if(U[k++]=I.charCodeAt(H++),k==this.blockSize){a(this,U),k=0;break}}else for(;H<R;)if(U[k++]=I[H++],k==this.blockSize){a(this,U),k=0;break}}this.h=k,this.o+=R},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var D=I.length-8;D<I.length;++D)I[D]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,D=0;D<4;++D)for(let U=0;U<32;U+=8)I[R++]=this.g[D]>>>U&255;return I};function l(I,R){var D=h;return Object.prototype.hasOwnProperty.call(D,I)?D[I]:D[I]=R(I)}function u(I,R){this.h=R;const D=[];let U=!0;for(let k=I.length-1;k>=0;k--){const H=I[k]|0;U&&H==R||(D[k]=H,U=!1)}this.g=D}var h={};function d(I){return-128<=I&&I<128?l(I,function(R){return new u([R|0],R<0?-1:0)}):new u([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return v;if(I<0)return N(p(-I));const R=[];let D=1;for(let U=0;I>=D;U++)R[U]=I/D|0,D*=4294967296;return new u(R,0)}function y(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return N(y(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=p(Math.pow(R,8));let U=v;for(let H=0;H<I.length;H+=8){var k=Math.min(8,I.length-H);const V=parseInt(I.substring(H,H+k),R);k<8?(k=p(Math.pow(R,k)),U=U.j(k).add(p(V))):(U=U.j(D),U=U.add(p(V)))}return U}var v=d(0),T=d(1),S=d(16777216);t=u.prototype,t.m=function(){if(P(this))return-N(this).m();let I=0,R=1;for(let D=0;D<this.g.length;D++){const U=this.i(D);I+=(U>=0?U:4294967296+U)*R,R*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(x(this))return"0";if(P(this))return"-"+N(this).toString(I);const R=p(Math.pow(I,6));var D=this;let U="";for(;;){const k=se(D,R).g;D=j(D,k.j(R));let H=((D.g.length>0?D.g[0]:D.h)>>>0).toString(I);if(D=k,x(D))return H+U;for(;H.length<6;)H="0"+H;U=H+U}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function x(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function P(I){return I.h==-1}t.l=function(I){return I=j(this,I),P(I)?-1:x(I)?0:1};function N(I){const R=I.g.length,D=[];for(let U=0;U<R;U++)D[U]=~I.g[U];return new u(D,~I.h).add(T)}t.abs=function(){return P(this)?N(this):this},t.add=function(I){const R=Math.max(this.g.length,I.g.length),D=[];let U=0;for(let k=0;k<=R;k++){let H=U+(this.i(k)&65535)+(I.i(k)&65535),V=(H>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);U=V>>>16,H&=65535,V&=65535,D[k]=V<<16|H}return new u(D,D[D.length-1]&-2147483648?-1:0)};function j(I,R){return I.add(N(R))}t.j=function(I){if(x(this)||x(I))return v;if(P(this))return P(I)?N(this).j(N(I)):N(N(this).j(I));if(P(I))return N(this.j(N(I)));if(this.l(S)<0&&I.l(S)<0)return p(this.m()*I.m());const R=this.g.length+I.g.length,D=[];for(var U=0;U<2*R;U++)D[U]=0;for(U=0;U<this.g.length;U++)for(let k=0;k<I.g.length;k++){const H=this.i(U)>>>16,V=this.i(U)&65535,Fe=I.i(k)>>>16,Xe=I.i(k)&65535;D[2*U+2*k]+=V*Xe,B(D,2*U+2*k),D[2*U+2*k+1]+=H*Xe,B(D,2*U+2*k+1),D[2*U+2*k+1]+=V*Fe,B(D,2*U+2*k+1),D[2*U+2*k+2]+=H*Fe,B(D,2*U+2*k+2)}for(I=0;I<R;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=R;I<2*R;I++)D[I]=0;return new u(D,0)};function B(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function F(I,R){this.g=I,this.h=R}function se(I,R){if(x(R))throw Error("division by zero");if(x(I))return new F(v,v);if(P(I))return R=se(N(I),R),new F(N(R.g),N(R.h));if(P(R))return R=se(I,N(R)),new F(N(R.g),R.h);if(I.g.length>30){if(P(I)||P(R))throw Error("slowDivide_ only works with positive integers.");for(var D=T,U=R;U.l(I)<=0;)D=re(D),U=re(U);var k=le(D,1),H=le(U,1);for(U=le(U,2),D=le(D,2);!x(U);){var V=H.add(U);V.l(I)<=0&&(k=k.add(D),H=V),U=le(U,1),D=le(D,1)}return R=j(I,k.j(R)),new F(k,R)}for(k=v;I.l(R)>=0;){for(D=Math.max(1,Math.floor(I.m()/R.m())),U=Math.ceil(Math.log(D)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),H=p(D),V=H.j(R);P(V)||V.l(I)>0;)D-=U,H=p(D),V=H.j(R);x(H)&&(H=T),k=k.add(H),I=j(I,V)}return new F(k,I)}t.B=function(I){return se(this,I).h},t.and=function(I){const R=Math.max(this.g.length,I.g.length),D=[];for(let U=0;U<R;U++)D[U]=this.i(U)&I.i(U);return new u(D,this.h&I.h)},t.or=function(I){const R=Math.max(this.g.length,I.g.length),D=[];for(let U=0;U<R;U++)D[U]=this.i(U)|I.i(U);return new u(D,this.h|I.h)},t.xor=function(I){const R=Math.max(this.g.length,I.g.length),D=[];for(let U=0;U<R;U++)D[U]=this.i(U)^I.i(U);return new u(D,this.h^I.h)};function re(I){const R=I.g.length+1,D=[];for(let U=0;U<R;U++)D[U]=I.i(U)<<1|I.i(U-1)>>>31;return new u(D,I.h)}function le(I,R){const D=R>>5;R%=32;const U=I.g.length-D,k=[];for(let H=0;H<U;H++)k[H]=R>0?I.i(H+D)>>>R|I.i(H+D+1)<<32-R:I.i(H+D);return new u(k,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,WC=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,js=u}).apply(typeof Ww<"u"?Ww:typeof self<"u"?self:typeof window<"u"?window:{});var Af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ZC,qu,JC,jf,Ty,eR,tR,nR;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Af=="object"&&Af];for(var _=0;_<f.length;++_){var b=f[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function a(f,_){if(_)e:{var b=r;f=f.split(".");for(var C=0;C<f.length-1;C++){var G=f[C];if(!(G in b))break e;b=b[G]}f=f[f.length-1],C=b[f],_=_(C),_!=C&&_!=null&&e(b,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var b=[],C;for(C in _)Object.prototype.hasOwnProperty.call(_,C)&&b.push([C,_[C]]);return b}});var l=l||{},u=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,b){return f.call.apply(f.bind,arguments)}function p(f,_,b){return p=d,p.apply(null,arguments)}function y(f,_){var b=Array.prototype.slice.call(arguments,1);return function(){var C=b.slice();return C.push.apply(C,arguments),f.apply(this,C)}}function v(f,_){function b(){}b.prototype=_.prototype,f.Z=_.prototype,f.prototype=new b,f.prototype.constructor=f,f.Ob=function(C,G,Q){for(var ue=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)ue[xe-2]=arguments[xe];return _.prototype[G].apply(C,ue)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function S(f){const _=f.length;if(_>0){const b=Array(_);for(let C=0;C<_;C++)b[C]=f[C];return b}return[]}function x(f,_){for(let C=1;C<arguments.length;C++){const G=arguments[C];var b=typeof G;if(b=b!="object"?b:G?Array.isArray(G)?"array":b:"null",b=="array"||b=="object"&&typeof G.length=="number"){b=f.length||0;const Q=G.length||0;f.length=b+Q;for(let ue=0;ue<Q;ue++)f[b+ue]=G[ue]}else f.push(G)}}class P{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function N(f){u.setTimeout(()=>{throw f},0)}function j(){var f=I;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class B{constructor(){this.h=this.g=null}add(_,b){const C=F.get();C.set(_,b),this.h?this.h.next=C:this.g=C,this.h=C}}var F=new P(()=>new se,f=>f.reset());class se{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let re,le=!1,I=new B,R=()=>{const f=Promise.resolve(void 0);re=()=>{f.then(D)}};function D(){for(var f;f=j();){try{f.h.call(f.g)}catch(b){N(b)}var _=F;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}le=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};u.addEventListener("test",b,_),u.removeEventListener("test",b,_)}catch{}return f})();function V(f){return/^[\s\xa0]*$/.test(f)}function Fe(f,_){k.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(Fe,k),Fe.prototype.init=function(f,_){const b=this.type=f.type,C=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(b=="mouseover"?_=f.fromElement:b=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Fe.Z.h.call(this)},Fe.prototype.h=function(){Fe.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Xe="closure_listenable_"+(Math.random()*1e6|0),Z=0;function ae(f,_,b,C,G){this.listener=f,this.proxy=null,this.src=_,this.type=b,this.capture=!!C,this.ha=G,this.key=++Z,this.da=this.fa=!1}function fe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function we(f,_,b){for(const C in f)_.call(b,f[C],C,f)}function De(f,_){for(const b in f)_.call(void 0,f[b],b,f)}function M(f){const _={};for(const b in f)_[b]=f[b];return _}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(f,_){let b,C;for(let G=1;G<arguments.length;G++){C=arguments[G];for(b in C)f[b]=C[b];for(let Q=0;Q<$.length;Q++)b=$[Q],Object.prototype.hasOwnProperty.call(C,b)&&(f[b]=C[b])}}function ce(f){this.src=f,this.g={},this.h=0}ce.prototype.add=function(f,_,b,C,G){const Q=f.toString();f=this.g[Q],f||(f=this.g[Q]=[],this.h++);const ue=Se(f,_,C,G);return ue>-1?(_=f[ue],b||(_.fa=!1)):(_=new ae(_,this.src,Q,!!C,G),_.fa=b,f.push(_)),_};function _e(f,_){const b=_.type;if(b in f.g){var C=f.g[b],G=Array.prototype.indexOf.call(C,_,void 0),Q;(Q=G>=0)&&Array.prototype.splice.call(C,G,1),Q&&(fe(_),f.g[b].length==0&&(delete f.g[b],f.h--))}}function Se(f,_,b,C){for(let G=0;G<f.length;++G){const Q=f[G];if(!Q.da&&Q.listener==_&&Q.capture==!!b&&Q.ha==C)return G}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),ut={};function $e(f,_,b,C,G){if(Array.isArray(_)){for(let Q=0;Q<_.length;Q++)$e(f,_[Q],b,C,G);return null}return b=sa(b),f&&f[Xe]?f.J(_,b,h(C)?!!C.capture:!1,G):hi(f,_,b,!1,C,G)}function hi(f,_,b,C,G,Q){if(!_)throw Error("Invalid event type");const ue=h(G)?!!G.capture:!!G;let xe=gr(f);if(xe||(f[Me]=xe=new ce(f)),b=xe.add(_,b,C,ue,Q),b.proxy)return b;if(C=Pi(),b.proxy=C,C.src=f,C.listener=b,f.addEventListener)H||(G=ue),G===void 0&&(G=!1),f.addEventListener(_.toString(),C,G);else if(f.attachEvent)f.attachEvent(In(_.toString()),C);else if(f.addListener&&f.removeListener)f.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Pi(){function f(b){return _.call(f.src,f.listener,b)}const _=ra;return f}function fi(f,_,b,C,G){if(Array.isArray(_))for(var Q=0;Q<_.length;Q++)fi(f,_[Q],b,C,G);else C=h(C)?!!C.capture:!!C,b=sa(b),f&&f[Xe]?(f=f.i,Q=String(_).toString(),Q in f.g&&(_=f.g[Q],b=Se(_,b,C,G),b>-1&&(fe(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete f.g[Q],f.h--)))):f&&(f=gr(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Se(_,b,C,G)),(b=f>-1?_[f]:null)&&Vi(b))}function Vi(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Xe])_e(_.i,f);else{var b=f.type,C=f.proxy;_.removeEventListener?_.removeEventListener(b,C,f.capture):_.detachEvent?_.detachEvent(In(b),C):_.addListener&&_.removeListener&&_.removeListener(C),(b=gr(_))?(_e(b,f),b.h==0&&(b.src=null,_[Me]=null)):fe(f)}}}function In(f){return f in ut?ut[f]:ut[f]="on"+f}function ra(f,_){if(f.da)f=!0;else{_=new Fe(_,this);const b=f.listener,C=f.ha||f.src;f.fa&&Vi(f),f=b.call(C,_)}return f}function gr(f){return f=f[Me],f instanceof ce?f:null}var Bn="__closure_events_fn_"+(Math.random()*1e9>>>0);function sa(f){return typeof f=="function"?f:(f[Bn]||(f[Bn]=function(_){return f.handleEvent(_)}),f[Bn])}function xt(){U.call(this),this.i=new ce(this),this.M=this,this.G=null}v(xt,U),xt.prototype[Xe]=!0,xt.prototype.removeEventListener=function(f,_,b,C){fi(this,f,_,b,C)};function Bt(f,_){var b,C=f.G;if(C)for(b=[];C;C=C.G)b.push(C);if(f=f.M,C=_.type||_,typeof _=="string")_=new k(_,f);else if(_ instanceof k)_.target=_.target||f;else{var G=_;_=new k(C,f),oe(_,G)}G=!0;let Q,ue;if(b)for(ue=b.length-1;ue>=0;ue--)Q=_.g=b[ue],G=Qr(Q,C,!0,_)&&G;if(Q=_.g=f,G=Qr(Q,C,!0,_)&&G,G=Qr(Q,C,!1,_)&&G,b)for(ue=0;ue<b.length;ue++)Q=_.g=b[ue],G=Qr(Q,C,!1,_)&&G}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const b=f.g[_];for(let C=0;C<b.length;C++)fe(b[C]);delete f.g[_],f.h--}}this.G=null},xt.prototype.J=function(f,_,b,C){return this.i.add(String(f),_,!1,b,C)},xt.prototype.K=function(f,_,b,C){return this.i.add(String(f),_,!0,b,C)};function Qr(f,_,b,C){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let G=!0;for(let Q=0;Q<_.length;++Q){const ue=_[Q];if(ue&&!ue.da&&ue.capture==b){const xe=ue.listener,wt=ue.ha||ue.src;ue.fa&&_e(f.i,ue),G=xe.call(wt,C)!==!1&&G}}return G&&!C.defaultPrevented}function am(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(f,_||0)}function qc(f){f.g=am(()=>{f.g=null,f.i&&(f.i=!1,qc(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class fn extends U{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:qc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function aa(f){U.call(this),this.h=f,this.g={}}v(aa,U);var Ol=[];function kl(f){we(f.g,function(_,b){this.g.hasOwnProperty(b)&&Vi(_)},f),f.g={}}aa.prototype.N=function(){aa.Z.N.call(this),kl(this)},aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wr=u.JSON.stringify,om=u.JSON.parse,Gc=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function Yc(){}function Kc(){}var di={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xt(){k.call(this,"d")}v(Xt,k);function Fn(){k.call(this,"c")}v(Fn,k);var bt={},Xc=null;function oo(){return Xc=Xc||new xt}bt.Ia="serverreachability";function $c(f){k.call(this,bt.Ia,f)}v($c,k);function Oi(f){const _=oo();Bt(_,new $c(_))}bt.STAT_EVENT="statevent";function oa(f,_){k.call(this,bt.STAT_EVENT,f),this.stat=_}v(oa,k);function It(f){const _=oo();Bt(_,new oa(_,f))}bt.Ja="timingevent";function ki(f,_){k.call(this,bt.Ja,f),this.size=_}v(ki,k);function Li(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},_)}function mi(){this.g=!0}mi.prototype.ua=function(){this.g=!1};function lm(f,_,b,C,G,Q){f.info(function(){if(f.g)if(Q){var ue="",xe=Q.split("&");for(let Ge=0;Ge<xe.length;Ge++){var wt=xe[Ge].split("=");if(wt.length>1){const ct=wt[0];wt=wt[1];const Yn=ct.split("_");ue=Yn.length>=2&&Yn[1]=="type"?ue+(ct+"="+wt+"&"):ue+(ct+"=redacted&")}}}else ue=null;else ue=Q;return"XMLHTTP REQ ("+C+") [attempt "+G+"]: "+_+`
`+b+`
`+ue})}function Qc(f,_,b,C,G,Q,ue){f.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+G+"]: "+_+`
`+b+`
`+Q+" "+ue})}function Ui(f,_,b,C){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+um(f,b)+(C?" "+C:"")})}function la(f,_){f.info(function(){return"TIMEOUT: "+_})}mi.prototype.info=function(){};function um(f,_){if(!f.g)return _;if(!_)return null;try{const Q=JSON.parse(_);if(Q){for(f=0;f<Q.length;f++)if(Array.isArray(Q[f])){var b=Q[f];if(!(b.length<2)){var C=b[1];if(Array.isArray(C)&&!(C.length<1)){var G=C[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ue=1;ue<C.length;ue++)C[ue]=""}}}}return Wr(Q)}catch{return _}}var ua={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ll={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ul;function ca(){}v(ca,Yc),ca.prototype.g=function(){return new XMLHttpRequest},Ul=new ca;function yr(f){return encodeURIComponent(String(f))}function Wc(f){var _=1;f=f.split(":");const b=[];for(;_>0&&f.length;)b.push(f.shift()),_--;return f.length&&b.push(f.join(":")),b}function pi(f,_,b,C){this.j=f,this.i=_,this.l=b,this.S=C||1,this.V=new aa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new gi}function gi(){this.i=null,this.g="",this.h=!1}var Dt={},qt={};function ji(f,_,b){f.M=1,f.A=ha(Mt(_)),f.u=b,f.R=!0,lo(f,null)}function lo(f,_){f.F=Date.now(),zi(f),f.B=Mt(f.A);var b=f.B,C=f.S;Array.isArray(C)||(C=[String(C)]),fo(b.i,"t",C),f.C=0,b=f.j.L,f.h=new gi,f.g=fh(f.j,b?_:null,!f.u),f.P>0&&(f.O=new fn(p(f.Y,f,f.g),f.P)),_=f.V,b=f.g,C=f.ba;var G="readystatechange";Array.isArray(G)||(G&&(Ol[0]=G.toString()),G=Ol);for(let Q=0;Q<G.length;Q++){const ue=$e(b,G[Q],C||_.handleEvent,!1,_.h||_);if(!ue)break;_.g[ue.key]=ue}_=f.J?M(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),Oi(),lm(f.i,f.v,f.B,f.l,f.S,f.u)}pi.prototype.ba=function(f){f=f.target;const _=this.O;_&&_i(f)==3?_.j():this.Y(f)},pi.prototype.Y=function(f){try{if(f==this.g)e:{const xe=_i(this.g),wt=this.g.ya(),Ge=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||xe!=4||wt==7||(wt==8||Ge<=0?Oi(3):Oi(2)),Bi(this);var _=this.g.ca();this.X=_;var b=cm(this);if(this.o=_==200,Qc(this.i,this.v,this.B,this.l,this.S,xe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var C,G=this.g;if((C=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(C)){var Q=C;break t}}Q=null}if(f=Q)Ui(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Fi(this,f);else{this.o=!1,this.m=3,It(12),Dn(this),Hn(this);break e}}if(this.R){f=!0;let ct;for(;!this.K&&this.C<b.length;)if(ct=Jc(this,b),ct==qt){xe==4&&(this.m=4,It(14),f=!1),Ui(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Dt){this.m=4,It(15),Ui(this.i,this.l,b,"[Invalid Chunk]"),f=!1;break}else Ui(this.i,this.l,ct,null),Fi(this,ct);if(Zc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||b.length!=0||this.h.h||(this.m=1,It(16),f=!1),this.o=this.o&&f,!f)Ui(this.i,this.l,b,"[Invalid Chunked Response]"),Dn(this),Hn(this);else if(b.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Jl(ue),ue.P=!0,It(11))}}else Ui(this.i,this.l,b,null),Fi(this,b);xe==4&&Dn(this),this.o&&!this.K&&(xe==4?lh(this.j,this):(this.o=!1,zi(this)))}else _r(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),Dn(this),Hn(this)}}}catch{}finally{}};function cm(f){if(!Zc(f))return f.g.la();const _=$t(f.g);if(_==="")return"";let b="";const C=_.length,G=_i(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Dn(f),Hn(f),"";f.h.i=new u.TextDecoder}for(let Q=0;Q<C;Q++)f.h.h=!0,b+=f.h.i.decode(_[Q],{stream:!(G&&Q==C-1)});return _.length=0,f.h.g+=b,f.C=0,f.h.g}function Zc(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Jc(f,_){var b=f.C,C=_.indexOf(`
`,b);return C==-1?qt:(b=Number(_.substring(b,C)),isNaN(b)?Dt:(C+=1,C+b>_.length?qt:(_=_.slice(C,C+b),f.C=C+b,_)))}pi.prototype.cancel=function(){this.K=!0,Dn(this)};function zi(f){f.T=Date.now()+f.H,uo(f,f.H)}function uo(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Li(p(f.aa,f),_)}function Bi(f){f.D&&(u.clearTimeout(f.D),f.D=null)}pi.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(la(this.i,this.B),this.M!=2&&(Oi(),It(17)),Dn(this),this.m=2,Hn(this)):uo(this,this.T-f)};function Hn(f){f.j.I==0||f.K||lh(f.j,f)}function Dn(f){Bi(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,kl(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function Fi(f,_){try{var b=f.j;if(b.I!=0&&(b.g==f||qi(b.h,f))){if(!f.L&&qi(b.h,f)&&b.I==3){try{var C=b.Ba.g.parse(_)}catch{C=null}if(Array.isArray(C)&&C.length==3){var G=C;if(G[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<f.F)vo(b),ss(b);else break e;va(b),It(18)}}else b.xa=G[1],0<b.xa-b.K&&G[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Li(p(b.Va,b),6e3));Hi(b.h)<=1&&b.ta&&(b.ta=void 0)}else Qi(b,11)}else if((f.L||b.g==f)&&vo(b),!V(_))for(G=b.Ba.g.parse(_),_=0;_<G.length;_++){let Ge=G[_];const ct=Ge[0];if(!(ct<=b.K))if(b.K=ct,Ge=Ge[1],b.I==2)if(Ge[0]=="c"){b.M=Ge[1],b.ba=Ge[2];const Yn=Ge[3];Yn!=null&&(b.ka=Yn,b.j.info("VER="+b.ka));const Wi=Ge[4];Wi!=null&&(b.za=Wi,b.j.info("SVER="+b.za));const Ti=Ge[5];Ti!=null&&typeof Ti=="number"&&Ti>0&&(C=1.5*Ti,b.O=C,b.j.info("backChannelRequestTimeoutMs_="+C)),C=b;const Ei=f.g;if(Ei){const _a=Ei.g?Ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_a){var Q=C.h;Q.g||_a.indexOf("spdy")==-1&&_a.indexOf("quic")==-1&&_a.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Bl(Q,Q.h),Q.h=null))}if(C.G){const _o=Ei.g?Ei.g.getResponseHeader("X-HTTP-Session-Id"):null;_o&&(C.wa=_o,Qe(C.J,C.G,_o))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-f.F,b.j.info("Handshake RTT: "+b.T+"ms")),C=b;var ue=f;if(C.na=hh(C,C.L?C.ba:null,C.W),ue.L){Fl(C.h,ue);var xe=ue,wt=C.O;wt&&(xe.H=wt),xe.D&&(Bi(xe),zi(xe)),C.g=ue}else ah(C);b.i.length>0&&$i(b)}else Ge[0]!="stop"&&Ge[0]!="close"||Qi(b,7);else b.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Qi(b,7):Wl(b):Ge[0]!="noop"&&b.l&&b.l.qa(Ge),b.A=0)}}Oi(4)}catch{}}var Nt=class{constructor(f,_){this.g=f,this.map=_}};function jl(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Hi(f){return f.h?1:f.g?f.g.size:0}function qi(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function Bl(f,_){f.g?f.g.add(_):f.h=_}function Fl(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}jl.prototype.cancel=function(){if(this.i=Hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Hl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const b of f.g.values())_=_.concat(b.G);return _}return S(f.i)}var eh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function co(f,_){if(f){f=f.split("&");for(let b=0;b<f.length;b++){const C=f[b].indexOf("=");let G,Q=null;C>=0?(G=f[b].substring(0,C),Q=f[b].substring(C+1)):G=f[b],_(G,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Nn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof Nn?(this.l=f.l,Gt(this,f.j),this.o=f.o,this.g=f.g,Zr(this,f.u),this.h=f.h,ql(this,rh(f.i)),this.m=f.m):f&&(_=String(f).match(eh))?(this.l=!1,Gt(this,_[1]||"",!0),this.o=Gi(_[2]||""),this.g=Gi(_[3]||"",!0),Zr(this,_[4]),this.h=Gi(_[5]||"",!0),ql(this,_[6]||"",!0),this.m=Gi(_[7]||"")):(this.l=!1,this.i=new es(null,this.l))}Nn.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(fa(_,ho,!0),":");var b=this.g;return(b||_=="file")&&(f.push("//"),(_=this.o)&&f.push(fa(_,ho,!0),"@"),f.push(yr(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&f.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(fa(b,b.charAt(0)=="/"?Gl:th,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",fa(b,nh)),f.join("")},Nn.prototype.resolve=function(f){const _=Mt(this);let b=!!f.j;b?Gt(_,f.j):b=!!f.o,b?_.o=f.o:b=!!f.g,b?_.g=f.g:b=f.u!=null;var C=f.h;if(b)Zr(_,f.u);else if(b=!!f.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var G=_.h.lastIndexOf("/");G!=-1&&(C=_.h.slice(0,G+1)+C)}if(G=C,G==".."||G==".")C="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){C=G.lastIndexOf("/",0)==0,G=G.split("/");const Q=[];for(let ue=0;ue<G.length;){const xe=G[ue++];xe=="."?C&&ue==G.length&&Q.push(""):xe==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),C&&ue==G.length&&Q.push("")):(Q.push(xe),C=!0)}C=Q.join("/")}else C=G}return b?_.h=C:b=f.i.toString()!=="",b?ql(_,rh(f.i)):b=!!f.m,b&&(_.m=f.m),_};function Mt(f){return new Nn(f)}function Gt(f,_,b){f.j=b?Gi(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Zr(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function ql(f,_,b){_ instanceof es?(f.i=_,mo(f.i,f.l)):(b||(_=fa(_,Jr)),f.i=new es(_,f.l))}function Qe(f,_,b){f.i.set(_,b)}function ha(f){return Qe(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Gi(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function fa(f,_,b){return typeof f=="string"?(f=encodeURI(f).replace(_,vn),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function vn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ho=/[#\/\?@]/g,th=/[#\?:]/g,Gl=/[#\?]/g,Jr=/[#\?@]/g,nh=/#/g;function es(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function _n(f){f.g||(f.g=new Map,f.h=0,f.i&&co(f.i,function(_,b){f.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}t=es.prototype,t.add=function(f,_){_n(this),this.i=null,f=ts(this,f);let b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(_),this.h+=1,this};function ih(f,_){_n(f),_=ts(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Yl(f,_){return _n(f),_=ts(f,_),f.g.has(_)}t.forEach=function(f,_){_n(this),this.g.forEach(function(b,C){b.forEach(function(G){f.call(_,G,C,this)},this)},this)};function Kl(f,_){_n(f);let b=[];if(typeof _=="string")Yl(f,_)&&(b=b.concat(f.g.get(ts(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)b=b.concat(f[_]);return b}t.set=function(f,_){return _n(this),this.i=null,f=ts(this,f),Yl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=Kl(this,f),f.length>0?String(f[0]):_):_};function fo(f,_,b){ih(f,_),b.length>0&&(f.i=null,f.g.set(ts(f,_),S(b)),f.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let C=0;C<_.length;C++){var b=_[C];const G=yr(b);b=Kl(this,b);for(let Q=0;Q<b.length;Q++){let ue=G;b[Q]!==""&&(ue+="="+yr(b[Q])),f.push(ue)}}return this.i=f.join("&")};function rh(f){const _=new es;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function ts(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function mo(f,_){_&&!f.j&&(_n(f),f.i=null,f.g.forEach(function(b,C){const G=C.toLowerCase();C!=G&&(ih(this,C),fo(this,G,b))},f)),f.j=_}function yi(f,_){const b=new mi;if(u.Image){const C=new Image;C.onload=y(qn,b,"TestLoadImage: loaded",!0,_,C),C.onerror=y(qn,b,"TestLoadImage: error",!1,_,C),C.onabort=y(qn,b,"TestLoadImage: abort",!1,_,C),C.ontimeout=y(qn,b,"TestLoadImage: timeout",!1,_,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=f}else _(!1)}function Xl(f,_){const b=new mi,C=new AbortController,G=setTimeout(()=>{C.abort(),qn(b,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:C.signal}).then(Q=>{clearTimeout(G),Q.ok?qn(b,"TestPingServer: ok",!0,_):qn(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),qn(b,"TestPingServer: error",!1,_)})}function qn(f,_,b,C,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),C(b)}catch{}}function ns(){this.g=new Gc}function Yi(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Yi,Yc),Yi.prototype.g=function(){return new da(this.i,this.h)};function da(f,_){xt.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(da,xt),t=da.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,vi(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,is(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;po(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function po(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?is(this):vi(this),this.readyState==3&&po(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,is(this))},t.Na=function(f){this.g&&(this.response=f,is(this))},t.ga=function(){this.g&&is(this)};function is(f){f.readyState=4,f.l=null,f.j=null,f.B=null,vi(f)}t.setRequestHeader=function(f,_){this.A.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=_.next();return f.join(`\r
`)};function vi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(da.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Gn(f){let _="";return we(f,function(b,C){_+=C,_+=":",_+=b,_+=`\r
`}),_}function ma(f,_,b){e:{for(C in b){var C=!1;break e}C=!0}C||(b=Gn(b),typeof f=="string"?b!=null&&yr(b):Qe(f,_,b))}function Je(f){xt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Je,xt);var Ki=/^https?$/i,$l=["POST","PUT"];t=Je.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,_,b,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ul.g(),this.g.onreadystatechange=T(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(Q){pa(this,Q);return}if(f=b||"",b=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var G in C)b.set(G,C[G]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const Q of C.keys())b.set(Q,C.get(Q));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(b.keys()).find(Q=>Q.toLowerCase()=="content-type"),G=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call($l,_,void 0)>=0)||C||G||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ue]of b)this.g.setRequestHeader(Q,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Q){pa(this,Q)}};function pa(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,Ql(f),vr(f)}function Ql(f){f.A||(f.A=!0,Bt(f,"complete"),Bt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Bt(this,"complete"),Bt(this,"abort"),vr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vr(this,!0)),Je.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ga(this):this.Xa())},t.Xa=function(){ga(this)};function ga(f){if(f.h&&typeof l<"u"){if(f.v&&_i(f)==4)setTimeout(f.Ca.bind(f),0);else if(Bt(f,"readystatechange"),_i(f)==4){f.h=!1;try{const Q=f.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var b;if(!(b=_)){var C;if(C=Q===0){let ue=String(f.D).match(eh)[1]||null;!ue&&u.self&&u.self.location&&(ue=u.self.location.protocol.slice(0,-1)),C=!Ki.test(ue?ue.toLowerCase():"")}b=C}if(b)Bt(f,"complete"),Bt(f,"success");else{f.o=6;try{var G=_i(f)>2?f.g.statusText:""}catch{G=""}f.l=G+" ["+f.ca()+"]",Ql(f)}}finally{vr(f)}}}}function vr(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const b=f.g;f.g=null,_||Bt(f,"ready");try{b.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function _i(f){return f.g?f.g.readyState:0}t.ca=function(){try{return _i(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),om(_)}};function $t(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function _r(f){const _={};f=(f.g&&_i(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<f.length;C++){if(V(f[C]))continue;var b=Wc(f[C]);const G=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Q=_[G]||[];_[G]=Q,Q.push(b)}De(_,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xi(f,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||_}function rs(f){this.za=0,this.i=[],this.j=new mi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xi("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xi("baseRetryDelayMs",5e3,f),this.Za=Xi("retryDelaySeedMs",1e4,f),this.Ta=Xi("forwardChannelMaxRetries",2,f),this.va=Xi("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new jl(f&&f.concurrentRequestLimit),this.Ba=new ns,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=rs.prototype,t.ka=8,t.I=1,t.connect=function(f,_,b,C){It(0),this.W=f,this.H=_||{},b&&C!==void 0&&(this.H.OSID=b,this.H.OAID=C),this.F=this.X,this.J=hh(this,null,this.W),$i(this)};function Wl(f){if(go(f),f.I==3){var _=f.V++,b=Mt(f.J);if(Qe(b,"SID",f.M),Qe(b,"RID",_),Qe(b,"TYPE","terminate"),ya(f,b),_=new pi(f,f.j,_),_.M=2,_.A=ha(Mt(b)),b=!1,u.navigator&&u.navigator.sendBeacon)try{b=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&u.Image&&(new Image().src=_.A,b=!0),b||(_.g=fh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),zi(_)}ch(f)}function ss(f){f.g&&(Jl(f),f.g.cancel(),f.g=null)}function go(f){ss(f),f.v&&(u.clearTimeout(f.v),f.v=null),vo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function $i(f){if(!zl(f.h)&&!f.m){f.m=!0;var _=f.Ea;re||R(),le||(re(),le=!0),I.add(_,f),f.D=0}}function yo(f,_){return Hi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Li(p(f.Ea,f,_),uh(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const G=new pi(this,this.j,f);let Q=this.o;if(this.U&&(Q?(Q=M(Q),oe(Q,this.U)):Q=this.U),this.u!==null||this.R||(G.J=Q,Q=null),this.S)e:{for(var _=0,b=0;b<this.i.length;b++){t:{var C=this.i[b];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(_+=C,_>4096){_=b;break e}if(_===4096||b===this.i.length-1){_=b+1;break e}}_=1e3}else _=1e3;_=sh(this,G,_),b=Mt(this.J),Qe(b,"RID",f),Qe(b,"CVER",22),this.G&&Qe(b,"X-HTTP-Session-Id",this.G),ya(this,b),Q&&(this.R?_="headers="+yr(Gn(Q))+"&"+_:this.u&&ma(b,this.u,Q)),Bl(this.h,G),this.Ra&&Qe(b,"TYPE","init"),this.S?(Qe(b,"$req",_),Qe(b,"SID","null"),G.U=!0,ji(G,b,null)):ji(G,b,_),this.I=2}}else this.I==3&&(f?Zl(this,f):this.i.length==0||zl(this.h)||Zl(this))};function Zl(f,_){var b;_?b=_.l:b=f.V++;const C=Mt(f.J);Qe(C,"SID",f.M),Qe(C,"RID",b),Qe(C,"AID",f.K),ya(f,C),f.u&&f.o&&ma(C,f.u,f.o),b=new pi(f,f.j,b,f.D+1),f.u===null&&(b.J=f.o),_&&(f.i=_.G.concat(f.i)),_=sh(f,b,1e3),b.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Bl(f.h,b),ji(b,C,_)}function ya(f,_){f.H&&we(f.H,function(b,C){Qe(_,C,b)}),f.l&&we({},function(b,C){Qe(_,C,b)})}function sh(f,_,b){b=Math.min(f.i.length,b);const C=f.l?p(f.l.Ka,f.l,f):null;e:{var G=f.i;let xe=-1;for(;;){const wt=["count="+b];xe==-1?b>0?(xe=G[0].g,wt.push("ofs="+xe)):xe=0:wt.push("ofs="+xe);let Ge=!0;for(let ct=0;ct<b;ct++){var Q=G[ct].g;const Yn=G[ct].map;if(Q-=xe,Q<0)xe=Math.max(0,G[ct].g-100),Ge=!1;else try{Q="req"+Q+"_"||"";try{var ue=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Wi,Ti]of ue){let Ei=Ti;h(Ti)&&(Ei=Wr(Ti)),wt.push(Q+Wi+"="+encodeURIComponent(Ei))}}catch(Wi){throw wt.push(Q+"type="+encodeURIComponent("_badmap")),Wi}}catch{C&&C(Yn)}}if(Ge){ue=wt.join("&");break e}}ue=void 0}return f=f.i.splice(0,b),_.G=f,ue}function ah(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;re||R(),le||(re(),le=!0),I.add(_,f),f.A=0}}function va(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Li(p(f.Da,f),uh(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,oh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Li(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),ss(this),oh(this))};function Jl(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function oh(f){f.g=new pi(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=Mt(f.na);Qe(_,"RID","rpc"),Qe(_,"SID",f.M),Qe(_,"AID",f.K),Qe(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&Qe(_,"TO",f.ia),Qe(_,"TYPE","xmlhttp"),ya(f,_),f.u&&f.o&&ma(_,f.u,f.o),f.O&&(f.g.H=f.O);var b=f.g;f=f.ba,b.M=1,b.A=ha(Mt(_)),b.u=null,b.R=!0,lo(b,f)}t.Va=function(){this.C!=null&&(this.C=null,ss(this),va(this),It(19))};function vo(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function lh(f,_){var b=null;if(f.g==_){vo(f),Jl(f),f.g=null;var C=2}else if(qi(f.h,_))b=_.G,Fl(f.h,_),C=1;else return;if(f.I!=0){if(_.o)if(C==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var G=f.D;C=oo(),Bt(C,new ki(C,b)),$i(f)}else ah(f);else if(G=_.m,G==3||G==0&&_.X>0||!(C==1&&yo(f,_)||C==2&&va(f)))switch(b&&b.length>0&&(_=f.h,_.i=_.i.concat(b)),G){case 1:Qi(f,5);break;case 4:Qi(f,10);break;case 3:Qi(f,6);break;default:Qi(f,2)}}}function uh(f,_){let b=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(b*=2),b*_}function Qi(f,_){if(f.j.info("Error code "+_),_==2){var b=p(f.bb,f),C=f.Ua;const G=!C;C=new Nn(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Gt(C,"https"),ha(C),G?yi(C.toString(),b):Xl(C.toString(),b)}else It(2);f.I=0,f.l&&f.l.pa(_),ch(f),go(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function ch(f){if(f.I=0,f.ja=[],f.l){const _=Hl(f.h);(_.length!=0||f.i.length!=0)&&(x(f.ja,_),x(f.ja,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.oa()}}function hh(f,_,b){var C=b instanceof Nn?Mt(b):new Nn(b);if(C.g!="")_&&(C.g=_+"."+C.g),Zr(C,C.u);else{var G=u.location;C=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;const Q=new Nn(null);C&&Gt(Q,C),_&&(Q.g=_),G&&Zr(Q,G),b&&(Q.h=b),C=Q}return b=f.G,_=f.wa,b&&_&&Qe(C,b,_),Qe(C,"VER",f.ka),ya(f,C),C}function fh(f,_,b){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new Je(new Yi({ab:b})):new Je(f.ma),_.Fa(f.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function dh(){}t=dh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function as(){}as.prototype.g=function(f,_){return new dn(f,_)};function dn(f,_){xt.call(this),this.g=new rs(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!V(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!V(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Tr(this)}v(dn,xt),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Wl(this.g)},dn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.v&&(b={},b.__data__=Wr(f),f=b);_.i.push(new Nt(_.Ya++,f)),_.I==3&&$i(_)},dn.prototype.N=function(){this.g.l=null,delete this.j,Wl(this.g),delete this.g,dn.Z.N.call(this)};function mh(f){Xt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const b in _){f=b;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(mh,Xt);function ph(){Fn.call(this),this.status=1}v(ph,Fn);function Tr(f){this.g=f}v(Tr,dh),Tr.prototype.ra=function(){Bt(this.g,"a")},Tr.prototype.qa=function(f){Bt(this.g,new mh(f))},Tr.prototype.pa=function(f){Bt(this.g,new ph)},Tr.prototype.oa=function(){Bt(this.g,"b")},as.prototype.createWebChannel=as.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,nR=function(){return new as},tR=function(){return oo()},eR=bt,Ty={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ua.NO_ERROR=0,ua.TIMEOUT=8,ua.HTTP_ERROR=6,jf=ua,Ll.COMPLETE="complete",JC=Ll,Kc.EventType=di,di.OPEN="a",di.CLOSE="b",di.ERROR="c",di.MESSAGE="d",xt.prototype.listen=xt.prototype.J,qu=Kc,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,ZC=Je}).apply(typeof Af<"u"?Af:typeof self<"u"?self:typeof window<"u"?window:{});const Zw="@firebase/firestore",Jw="4.9.2";class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");let xl="12.3.0";const $a=new Md("@firebase/firestore");function Qo(){return $a.logLevel}function de(t,...e){if($a.logLevel<=Le.DEBUG){const n=e.map(Ov);$a.debug(`Firestore (${xl}): ${t}`,...n)}}function Gr(t,...e){if($a.logLevel<=Le.ERROR){const n=e.map(Ov);$a.error(`Firestore (${xl}): ${t}`,...n)}}function pl(t,...e){if($a.logLevel<=Le.WARN){const n=e.map(Ov);$a.warn(`Firestore (${xl}): ${t}`,...n)}}function Ov(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,iR(t,r,n)}function iR(t,e,n){let r=`FIRESTORE (${xl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Gr(r),new Error(r)}function Ke(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||iR(e,a,r)}function Re(t,e){return t}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class rR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(on.UNAUTHENTICATED)))}shutdown(){}}class ZL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class JL{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let l=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new zr,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new zr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string",31837,{l:r}),new rR(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class e3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class t3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new e3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class eS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class n3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ri(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const r=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new eS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new eS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function i3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class kv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=i3(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%62))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function Ey(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),l=e.charAt(r);if(a!==l)return Pg(a)===Pg(l)?Ue(a,l):Pg(a)?1:-1}return Ue(t.length,e.length)}const r3=55296,s3=57343;function Pg(t){const e=t.charCodeAt(0);return e>=r3&&e<=s3}function gl(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}const tS="__name__";class nr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return nr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof nr?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=nr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ue(e.length,n.length)}static compareSegments(e,n){const r=nr.isNumericId(e),a=nr.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?nr.extractNumericId(e).compare(nr.extractNumericId(n)):Ey(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return js.fromString(e.substring(4,e.length-2))}}class st extends nr{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const a3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends nr{construct(e,n,r){return new nn(e,n,r)}static isValidIdentifier(e){return a3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tS}static keyField(){return new nn([tS])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new he(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new he(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(l(),a++)}if(l(),u)throw new he(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(st.fromString(e))}static fromName(e){return new ye(st.fromString(e).popFirst(5))}static empty(){return new ye(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new st(e.slice()))}}function sR(t,e,n){if(!n)throw new he(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function o3(t,e,n,r){if(e===!0&&r===!0)throw new he(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nS(t){if(!ye.isDocumentKey(t))throw new he(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iS(t){if(ye.isDocumentKey(t))throw new he(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function aR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Pd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee(12329,{type:typeof t})}function xn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pd(t);throw new he(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function zt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Pc(t,e){if(!aR(t))throw new he(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(a&&typeof u!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new he(te.INVALID_ARGUMENT,n);return!0}const rS=-62135596800,sS=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*sS);return new lt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rS)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sS}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pc(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:zt("string",lt._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new lt(0,0))}static max(){return new Ae(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const gc=-1;function l3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Ae.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new Ys(a,ye.empty(),e)}function u3(t){return new Ys(t.readTime,t.key,gc)}class Ys{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ys(Ae.min(),ye.empty(),gc)}static max(){return new Ys(Ae.max(),ye.empty(),gc)}}function c3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}const h3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class f3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Il(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==h3)throw t;de("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,r)=>{n(e)}))}static reject(e){return new ie(((n,r)=>{r(e)}))}static waitFor(e){return new ie(((n,r)=>{let a=0,l=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&n()}),(d=>r(d)))})),u=!0,l===a&&n()}))}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next((a=>a?ie.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,l)=>{r.push(n.call(this,a,l))})),this.waitFor(r)}static mapArray(e,n){return new ie(((r,a)=>{const l=e.length,u=new Array(l);let h=0;for(let d=0;d<l;d++){const p=d;n(e[p]).next((y=>{u[p]=y,++h,h===l&&r(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new ie(((r,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):r()};l()}))}}function d3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Dl(t){return t.name==="IndexedDbTransactionError"}class Vd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vd.ce=-1;const Lv=-1;function Od(t){return t==null}function id(t){return t===0&&1/t==-1/0}function m3(t){return typeof t=="number"&&Number.isInteger(t)&&!id(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const oR="";function p3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=aS(e)),e=g3(t.get(n),e);return aS(e)}function g3(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case oR:n+="";break;default:n+=l}}return n}function aS(t){return t+oR+""}function oS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ea(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class gt{constructor(e,n){this.comparator=e,this.root=n||tn.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cf(this.root,e,this.comparator,!0)}}class Cf{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??tn.RED,this.left=a??tn.EMPTY,this.right=l??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new tn(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return tn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,r,a,l){return this}insert(e,n,r){return new tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lS(this.data.getIterator())}getIteratorFrom(e){return new lS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class lS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new jn([])}unionWith(e){let n=new Ht(nn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class uR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new uR("Invalid base64 string: "+l):l}})(e);return new rn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const y3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(t){if(Ke(!!t,39018),typeof t=="string"){let e=0;const n=y3.exec(t);if(Ke(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(t.seconds),nanos:Rt(t.nanos)}}function Rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xs(t){return typeof t=="string"?rn.fromBase64String(t):rn.fromUint8Array(t)}const cR="server_timestamp",hR="__type__",fR="__previous_value__",dR="__local_write_time__";function Uv(t){return(t?.mapValue?.fields||{})[hR]?.stringValue===cR}function kd(t){const e=t.mapValue.fields[fR];return Uv(e)?kd(e):e}function yc(t){const e=Ks(t.mapValue.fields[dR].timestampValue);return new lt(e.seconds,e.nanos)}class v3{constructor(e,n,r,a,l,u,h,d,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=y}}const rd="(default)";class vc{constructor(e,n){this.projectId=e,this.database=n||rd}static empty(){return new vc("","")}get isDefaultDatabase(){return this.database===rd}isEqual(e){return e instanceof vc&&e.projectId===this.projectId&&e.database===this.database}}const mR="__type__",_3="__max__",Rf={mapValue:{}},pR="__vector__",sd="value";function $s(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Uv(t)?4:E3(t)?9007199254740991:T3(t)?10:11:Ee(28295,{value:t})}function dr(t,e){if(t===e)return!0;const n=$s(t);if(n!==$s(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yc(t).isEqual(yc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Ks(a.timestampValue),h=Ks(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Xs(a.bytesValue).isEqual(Xs(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Rt(a.geoPointValue.latitude)===Rt(l.geoPointValue.latitude)&&Rt(a.geoPointValue.longitude)===Rt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Rt(a.integerValue)===Rt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Rt(a.doubleValue),h=Rt(l.doubleValue);return u===h?id(u)===id(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return gl(t.arrayValue.values||[],e.arrayValue.values||[],dr);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(oS(u)!==oS(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!dr(u[d],h[d])))return!1;return!0})(t,e);default:return Ee(52216,{left:t})}}function _c(t,e){return(t.values||[]).find((n=>dr(n,e)))!==void 0}function yl(t,e){if(t===e)return 0;const n=$s(t),r=$s(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=Rt(l.integerValue||l.doubleValue),d=Rt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return uS(t.timestampValue,e.timestampValue);case 4:return uS(yc(t),yc(e));case 5:return Ey(t.stringValue,e.stringValue);case 6:return(function(l,u){const h=Xs(l),d=Xs(u);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),d=u.split("/");for(let p=0;p<h.length&&p<d.length;p++){const y=Ue(h[p],d[p]);if(y!==0)return y}return Ue(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=Ue(Rt(l.latitude),Rt(u.latitude));return h!==0?h:Ue(Rt(l.longitude),Rt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return cS(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const h=l.fields||{},d=u.fields||{},p=h[sd]?.arrayValue,y=d[sd]?.arrayValue,v=Ue(p?.values?.length||0,y?.values?.length||0);return v!==0?v:cS(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Rf.mapValue&&u===Rf.mapValue)return 0;if(l===Rf.mapValue)return 1;if(u===Rf.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),p=u.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const T=Ey(d[v],y[v]);if(T!==0)return T;const S=yl(h[d[v]],p[y[v]]);if(S!==0)return S}return Ue(d.length,y.length)})(t.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function uS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=Ks(t),r=Ks(e),a=Ue(n.seconds,r.seconds);return a!==0?a:Ue(n.nanos,r.nanos)}function cS(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=yl(n[a],r[a]);if(l)return l}return Ue(n.length,r.length)}function vl(t){return by(t)}function by(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Ks(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Xs(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ye.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=by(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of r)l?l=!1:a+=",",a+=`${u}:${by(n.fields[u])}`;return a+"}"})(t.mapValue):Ee(61005,{value:t})}function zf(t){switch($s(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kd(t);return e?16+zf(e):16;case 5:return 2*t.stringValue.length;case 6:return Xs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+zf(l)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return ea(r.fields,((l,u)=>{a+=l.length+zf(u)})),a})(t.mapValue);default:throw Ee(13486,{value:t})}}function hS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wy(t){return!!t&&"integerValue"in t}function jv(t){return!!t&&"arrayValue"in t}function fS(t){return!!t&&"nullValue"in t}function dS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bf(t){return!!t&&"mapValue"in t}function T3(t){return(t?.mapValue?.fields||{})[mR]?.stringValue===pR}function tc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ea(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=tc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tc(t.arrayValue.values[n]);return e}return{...t}}function E3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===_3}class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tc(n)}setAll(e){let n=nn.emptyPath(),r={},a=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=h.popLast()}u?r[h.lastSegment()]=tc(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());Bf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Bf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){ea(n,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new Cn(tc(this.value))}}function gR(t){const e=[];return ea(t.fields,((n,r)=>{const a=new nn([n]);if(Bf(r)){const l=gR(r.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new jn(e)}class ln{constructor(e,n,r,a,l,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new ln(e,0,Ae.min(),Ae.min(),Ae.min(),Cn.empty(),0)}static newFoundDocument(e,n,r,a){return new ln(e,1,n,Ae.min(),r,a,0)}static newNoDocument(e,n){return new ln(e,2,n,Ae.min(),Ae.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,Ae.min(),Ae.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ad{constructor(e,n){this.position=e,this.inclusive=n}}function mS(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?r=ye.comparator(ye.fromName(u.referenceValue),n.key):r=yl(u,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function pS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!dr(t.position[n],e.position[n]))return!1;return!0}class Tc{constructor(e,n="asc"){this.field=e,this.dir=n}}function b3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class yR{}class jt extends yR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new S3(e,n,r):n==="array-contains"?new R3(e,r):n==="in"?new x3(e,r):n==="not-in"?new I3(e,r):n==="array-contains-any"?new D3(e,r):new jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new A3(e,r):new C3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yl(n,this.value)):n!==null&&$s(this.value)===$s(n)&&this.matchesComparison(yl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends yR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Di(e,n)}matches(e){return vR(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vR(t){return t.op==="and"}function _R(t){return w3(t)&&vR(t)}function w3(t){for(const e of t.filters)if(e instanceof Di)return!1;return!0}function Sy(t){if(t instanceof jt)return t.field.canonicalString()+t.op.toString()+vl(t.value);if(_R(t))return t.filters.map((e=>Sy(e))).join(",");{const e=t.filters.map((n=>Sy(n))).join(",");return`${t.op}(${e})`}}function TR(t,e){return t instanceof jt?(function(r,a){return a instanceof jt&&r.op===a.op&&r.field.isEqual(a.field)&&dr(r.value,a.value)})(t,e):t instanceof Di?(function(r,a){return a instanceof Di&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,u,h)=>l&&TR(u,a.filters[h])),!0):!1})(t,e):void Ee(19439)}function ER(t){return t instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${vl(n.value)}`})(t):t instanceof Di?(function(n){return n.op.toString()+" {"+n.getFilters().map(ER).join(" ,")+"}"})(t):"Filter"}class S3 extends jt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class A3 extends jt{constructor(e,n){super(e,"in",n),this.keys=bR("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class C3 extends jt{constructor(e,n){super(e,"not-in",n),this.keys=bR("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function bR(t,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class R3 extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jv(n)&&_c(n.arrayValue,this.value)}}class x3 extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_c(this.value.arrayValue,n)}}class I3 extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(_c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_c(this.value.arrayValue,n)}}class D3 extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>_c(this.value.arrayValue,r)))}}class N3{constructor(e,n=null,r=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function gS(t,e=null,n=[],r=[],a=null,l=null,u=null){return new N3(t,e,n,r,a,l,u)}function zv(t){const e=Re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Sy(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Od(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>vl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>vl(r))).join(",")),e.Te=n}return e.Te}function Bv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!b3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!TR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pS(t.startAt,e.startAt)&&pS(t.endAt,e.endAt)}function Ay(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Nl{constructor(e,n=null,r=[],a=[],l=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function M3(t,e,n,r,a,l,u,h){return new Nl(t,e,n,r,a,l,u,h)}function Ld(t){return new Nl(t)}function yS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wR(t){return t.collectionGroup!==null}function nc(t){const e=Re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Ht(nn.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Tc(l,r))})),n.has(nn.keyField().canonicalString())||e.Ie.push(new Tc(nn.keyField(),r))}return e.Ie}function ar(t){const e=Re(t);return e.Ee||(e.Ee=P3(e,nc(t))),e.Ee}function P3(t,e){if(t.limitType==="F")return gS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Tc(a.field,l)}));const n=t.endAt?new ad(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ad(t.startAt.position,t.startAt.inclusive):null;return gS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Cy(t,e){const n=t.filters.concat([e]);return new Nl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function od(t,e,n){return new Nl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ud(t,e){return Bv(ar(t),ar(e))&&t.limitType===e.limitType}function SR(t){return`${zv(ar(t))}|lt:${t.limitType}`}function Wo(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>ER(a))).join(", ")}]`),Od(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>vl(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>vl(a))).join(",")),`Target(${r})`})(ar(t))}; limitType=${t.limitType})`}function jd(t,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):ye.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,a){for(const l of nc(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(u,h,d){const p=mS(u,h,d);return u.inclusive?p<=0:p<0})(r.startAt,nc(r),a)||r.endAt&&!(function(u,h,d){const p=mS(u,h,d);return u.inclusive?p>=0:p>0})(r.endAt,nc(r),a))})(t,e)}function V3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function AR(t){return(e,n)=>{let r=!1;for(const a of nc(t)){const l=O3(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function O3(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):(function(l,u,h){const d=u.data.field(l),p=h.data.field(l);return d!==null&&p!==null?yl(d,p):Ee(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:t.dir})}}class ro{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ea(this.inner,((n,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return lR(this.inner)}size(){return this.innerSize}}const k3=new gt(ye.comparator);function Yr(){return k3}const CR=new gt(ye.comparator);function Gu(...t){let e=CR;for(const n of t)e=e.insert(n.key,n);return e}function RR(t){let e=CR;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function za(){return ic()}function xR(){return ic()}function ic(){return new ro((t=>t.toString()),((t,e)=>t.isEqual(e)))}const L3=new gt(ye.comparator),U3=new Ht(ye.comparator);function je(...t){let e=U3;for(const n of t)e=e.add(n);return e}const j3=new Ht(Ue);function z3(){return j3}function Fv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:id(e)?"-0":e}}function IR(t){return{integerValue:""+t}}function B3(t,e){return m3(e)?IR(e):Fv(t,e)}class zd{constructor(){this._=void 0}}function F3(t,e,n){return t instanceof ld?(function(a,l){const u={fields:{[hR]:{stringValue:cR},[dR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Uv(l)&&(l=kd(l)),l&&(u.fields[fR]=l),{mapValue:u}})(n,e):t instanceof Ec?NR(t,e):t instanceof bc?MR(t,e):(function(a,l){const u=DR(a,l),h=vS(u)+vS(a.Ae);return wy(u)&&wy(a.Ae)?IR(h):Fv(a.serializer,h)})(t,e)}function H3(t,e,n){return t instanceof Ec?NR(t,e):t instanceof bc?MR(t,e):n}function DR(t,e){return t instanceof ud?(function(r){return wy(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class ld extends zd{}class Ec extends zd{constructor(e){super(),this.elements=e}}function NR(t,e){const n=PR(e);for(const r of t.elements)n.some((a=>dr(a,r)))||n.push(r);return{arrayValue:{values:n}}}class bc extends zd{constructor(e){super(),this.elements=e}}function MR(t,e){let n=PR(e);for(const r of t.elements)n=n.filter((a=>!dr(a,r)));return{arrayValue:{values:n}}}class ud extends zd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function vS(t){return Rt(t.integerValue||t.doubleValue)}function PR(t){return jv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function q3(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof Ec&&a instanceof Ec||r instanceof bc&&a instanceof bc?gl(r.elements,a.elements,dr):r instanceof ud&&a instanceof ud?dr(r.Ae,a.Ae):r instanceof ld&&a instanceof ld})(t.transform,e.transform)}class G3{constructor(e,n){this.version=e,this.transformResults=n}}class ui{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ui}static exists(e){return new ui(void 0,e)}static updateTime(e){return new ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ff(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bd{}function VR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hv(t.key,ui.none()):new Vc(t.key,t.data,ui.none());{const n=t.data,r=Cn.empty();let a=new Ht(nn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?r.delete(l):r.set(l,u),a=a.add(l)}return new ta(t.key,r,new jn(a.toArray()),ui.none())}}function Y3(t,e,n){t instanceof Vc?(function(a,l,u){const h=a.value.clone(),d=TS(a.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof ta?(function(a,l,u){if(!Ff(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=TS(a.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(OR(a)),d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function rc(t,e,n,r){return t instanceof Vc?(function(l,u,h,d){if(!Ff(l.precondition,u))return h;const p=l.value.clone(),y=ES(l.fieldTransforms,d,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof ta?(function(l,u,h,d){if(!Ff(l.precondition,u))return h;const p=ES(l.fieldTransforms,d,u),y=u.data;return y.setAll(OR(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(l,u,h){return Ff(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function K3(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=DR(r.transform,a||null);l!=null&&(n===null&&(n=Cn.empty()),n.set(r.field,l))}return n||null}function _S(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&gl(r,a,((l,u)=>q3(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vc extends Bd{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ta extends Bd{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function OR(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function TS(t,e,n){const r=new Map;Ke(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,h=e.data.field(l.field);r.set(l.field,H3(u,h,n[a]))}return r}function ES(t,e,n){const r=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);r.set(a.field,F3(l,u,e))}return r}class Hv extends Bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X3 extends Bd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $3{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Y3(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=rc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=rc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xR();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const d=VR(u,h);d!==null&&r.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(Ae.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),je())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,((n,r)=>_S(n,r)))&&gl(this.baseMutations,e.baseMutations,((n,r)=>_S(n,r)))}}class qv{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){Ke(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return L3})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,r[u].version);return new qv(e,n,r,a)}}class Q3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class W3{constructor(e,n){this.count=e,this.unchangedNames=n}}var Lt,Be;function Z3(t){switch(t){case te.OK:return Ee(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ee(15467,{code:t})}}function kR(t){if(t===void 0)return Gr("GRPC error has no .code"),te.UNKNOWN;switch(t){case Lt.OK:return te.OK;case Lt.CANCELLED:return te.CANCELLED;case Lt.UNKNOWN:return te.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return te.INTERNAL;case Lt.UNAVAILABLE:return te.UNAVAILABLE;case Lt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Lt.NOT_FOUND:return te.NOT_FOUND;case Lt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Lt.ABORTED:return te.ABORTED;case Lt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Lt.DATA_LOSS:return te.DATA_LOSS;default:return Ee(39323,{code:t})}}(Be=Lt||(Lt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";function J3(){return new TextEncoder}const e6=new js([4294967295,4294967295],0);function bS(t){const e=J3().encode(t),n=new WC;return n.update(e),new Uint8Array(n.digest())}function wS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new js([n,r],0),new js([a,l],0)]}class Gv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Yu(`Invalid padding: ${n}`);if(r<0)throw new Yu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Yu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=js.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(js.fromNumber(r)));return a.compare(e6)===1&&(a=new js([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=bS(e),[r,a]=wS(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);if(!this.we(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Gv(l,a,n);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=bS(e),[r,a]=wS(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fd{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Oc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fd(Ae.min(),a,new gt(Ue),Yr(),je())}}class Oc{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Oc(r,n,je(),je(),je())}}class Hf{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class LR{constructor(e,n){this.targetId=e,this.Ce=n}}class UR{constructor(e,n,r=rn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class SS{constructor(){this.ve=0,this.Fe=AS(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),r=je();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Ee(38017,{changeType:l})}})),new Oc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=AS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class t6{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yr(),this.Je=xf(),this.He=xf(),this.Ye=new gt(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Ay(l))if(r===0){const u=new ye(l.path);this.et(n,u,ln.newNoDocument(u,Ae.min()))}else Ke(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const h=this.ut(e),d=h?this.ct(h,e,u):1;if(d!==0){this.it(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=Xs(r).toUint8Array()}catch(d){if(d instanceof uR)return pl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Gv(u,a,l)}catch(d){return pl(d instanceof Yu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Ay(h.target)){const d=new ye(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,ln.newNoDocument(d,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let r=je();this.He.forEach(((l,u)=>{let h=!0;u.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Fd(e,n,this.Ye,this.je,r);return this.je=Yr(),this.Je=xf(),this.He=xf(),this.Ye=new gt(Ue),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new SS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ht(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ht(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new SS),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function xf(){return new gt(ye.comparator)}function AS(){return new gt(ye.comparator)}const n6={asc:"ASCENDING",desc:"DESCENDING"},i6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r6={and:"AND",or:"OR"};class s6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ry(t,e){return t.useProto3Json||Od(e)?e:{value:e}}function cd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function a6(t,e){return cd(t,e.toTimestamp())}function or(t){return Ke(!!t,49232),Ae.fromTimestamp((function(n){const r=Ks(n);return new lt(r.seconds,r.nanos)})(t))}function Yv(t,e){return xy(t,e).canonicalString()}function xy(t,e){const n=(function(a){return new st(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function zR(t){const e=st.fromString(t);return Ke(GR(e),10190,{key:e.toString()}),e}function Iy(t,e){return Yv(t.databaseId,e.path)}function Vg(t,e){const n=zR(e);if(n.get(1)!==t.databaseId.projectId)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(FR(n))}function BR(t,e){return Yv(t.databaseId,e)}function o6(t){const e=zR(t);return e.length===4?st.emptyPath():FR(e)}function Dy(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FR(t){return Ke(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function CS(t,e,n){return{name:Iy(t,e),fields:n.value.mapValue.fields}}function l6(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(Ke(y===void 0||typeof y=="string",58123),rn.fromBase64String(y||"")):(Ke(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),rn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const y=p.code===void 0?te.UNKNOWN:kR(p.code);return new he(y,p.message||"")})(u);n=new UR(r,a,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Vg(t,r.document.name),l=or(r.document.updateTime),u=r.document.createTime?or(r.document.createTime):Ae.min(),h=new Cn({mapValue:{fields:r.document.fields}}),d=ln.newFoundDocument(a,l,u,h),p=r.targetIds||[],y=r.removedTargetIds||[];n=new Hf(p,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Vg(t,r.document),l=r.readTime?or(r.readTime):Ae.min(),u=ln.newNoDocument(a,l),h=r.removedTargetIds||[];n=new Hf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Vg(t,r.document),l=r.removedTargetIds||[];n=new Hf([],l,a,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,u=new W3(a,l),h=r.targetId;n=new LR(h,u)}}return n}function u6(t,e){let n;if(e instanceof Vc)n={update:CS(t,e.key,e.value)};else if(e instanceof Hv)n={delete:Iy(t,e.key)};else if(e instanceof ta)n={update:CS(t,e.key,e.data),updateMask:v6(e.fieldMask)};else{if(!(e instanceof X3))return Ee(16599,{Vt:e.type});n={verify:Iy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,u){const h=u.transform;if(h instanceof ld)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ec)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof bc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof ud)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Ee(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:a6(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ee(27497)})(t,e.precondition)),n}function c6(t,e){return t&&t.length>0?(Ke(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?or(a.updateTime):or(l);return u.isEqual(Ae.min())&&(u=or(l)),new G3(u,a.transformResults||[])})(n,e)))):[]}function h6(t,e){return{documents:[BR(t,e.path)]}}function f6(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=BR(t,a);const l=(function(p){if(p.length!==0)return qR(Di.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(T){return{field:Zo(T.field),direction:p6(T.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Ry(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function d6(t){let e=o6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Ke(r===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const T=HR(v);return T instanceof Di&&_R(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(v){return v.map((T=>(function(x){return new Tc(Jo(x.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(T)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let T;return T=typeof v=="object"?v.value:v,Od(T)?null:T})(n.limit));let d=null;n.startAt&&(d=(function(v){const T=!!v.before,S=v.values||[];return new ad(S,T)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const T=!v.before,S=v.values||[];return new ad(S,T)})(n.endAt)),M3(e,a,u,l,h,"F",d,p)}function m6(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HR(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Jo(n.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Jo(n.unaryFilter.field);return jt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Jo(n.unaryFilter.field);return jt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Jo(n.unaryFilter.field);return jt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(t):t.fieldFilter!==void 0?(function(n){return jt.create(Jo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Di.create(n.compositeFilter.filters.map((r=>HR(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(t):Ee(30097,{filter:t})}function p6(t){return n6[t]}function g6(t){return i6[t]}function y6(t){return r6[t]}function Zo(t){return{fieldPath:t.canonicalString()}}function Jo(t){return nn.fromServerFormat(t.fieldPath)}function qR(t){return t instanceof jt?(function(n){if(n.op==="=="){if(dS(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NAN"}};if(fS(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dS(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NAN"}};if(fS(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zo(n.field),op:g6(n.op),value:n.value}}})(t):t instanceof Di?(function(n){const r=n.getFilters().map((a=>qR(a)));return r.length===1?r[0]:{compositeFilter:{op:y6(n.op),filters:r}}})(t):Ee(54877,{filter:t})}function v6(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function GR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Os{constructor(e,n,r,a,l=Ae.min(),u=Ae.min(),h=rn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _6{constructor(e){this.yt=e}}function T6(t){const e=d6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?od(e,e.limit,"L"):e}class E6{constructor(){this.Cn=new b6}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Ys.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Ys.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class b6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Ht(st.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Ht(st.comparator)).toArray()}}const RS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YR=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(YR,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class _l{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new _l(0)}static cr(){return new _l(-1)}}const xS="LruGarbageCollector",w6=1048576;function IS([t,e],[n,r]){const a=Ue(t,n);return a===0?Ue(e,r):a}class S6{constructor(e){this.Ir=e,this.buffer=new Ht(IS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();IS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class A6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(xS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Dl(n)?de(xS,"Ignoring IndexedDB error during garbage collection: ",n):await Il(n)}await this.Vr(3e5)}))}}class C6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Vd.ce);const r=new S6(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(RS)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RS):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,l,u,h,d,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(r=v,h=Date.now(),this.removeTargets(e,r,n)))).next((v=>(l=v,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(p=Date.now(),Qo()<=Le.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-y}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function R6(t,e){return new C6(t,e)}class x6{constructor(){this.changes=new ro((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class I6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class D6{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&rc(r.mutation,a,jn.empty(),lt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,je()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=je()){const a=za();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((l=>{let u=Gu();return l.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=za();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,je())))}populateOverlays(e,n,r){const a=[];return r.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,r,a){let l=Yr();const u=ic(),h=(function(){return ic()})();return n.forEach(((d,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof ta)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),rc(y.mutation,p,y.mutation.getFieldMask(),lt.now())):u.set(p.key,jn.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((p,y)=>u.set(p,y))),n.forEach(((p,y)=>h.set(p,new I6(y,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=ic();let a=new gt(((u,h)=>u-h)),l=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let y=r.get(d)||jn.empty();y=h.applyToLocalView(p,y),r.set(d,y);const v=(a.get(h.batchId)||je()).add(d);a=a.insert(h.batchId,v)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,y=d.value,v=xR();y.forEach((T=>{if(!l.has(T)){const S=VR(n.get(T),r.get(T));S!==null&&v.set(T,S),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return ie.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):ie.resolve(za());let h=gc,d=l;return u.next((p=>ie.forEach(p,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?ie.resolve():this.remoteDocumentCache.getEntry(e,y).next((T=>{d=d.insert(y,T)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,d,p,je()))).next((y=>({batchId:h,changes:RR(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((r=>{let a=Gu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let u=Gu();return this.indexManager.getCollectionParents(e,l).next((h=>ie.forEach(h,(d=>{const p=(function(v,T){return new Nl(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((y=>{y.forEach(((v,T)=>{u=u.insert(v,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a)))).next((u=>{l.forEach(((d,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,ln.newInvalidDocument(y)))}));let h=Gu();return u.forEach(((d,p)=>{const y=l.get(d);y!==void 0&&rc(y.mutation,p,jn.empty(),lt.now()),jd(n,p)&&(h=h.insert(d,p))})),h}))}}class N6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:or(a.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:T6(a.bundledQuery),readTime:or(a.readTime)}})(n)),ie.resolve()}}class M6{constructor(){this.overlays=new gt(ye.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=za();return ie.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,l)=>{this.St(e,n,l)})),ie.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const a=za(),l=n.length+1,u=new ye(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>r&&a.set(d.getKey(),d)}return ie.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new gt(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=za(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=za(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=a)););return ie.resolve(h)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Q3(n,r));let l=this.qr.get(n);l===void 0&&(l=je(),this.qr.set(n,l)),this.qr.set(n,l.add(r.key))}}class P6{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class Kv{constructor(){this.Qr=new Ht(Kt.$r),this.Ur=new Ht(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Kt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Kt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ye(new st([])),r=new Kt(n,e),a=new Kt(n,e+1),l=[];return this.Ur.forEachInRange([r,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new st([])),r=new Kt(n,e),a=new Kt(n,e+1);let l=je();return this.Ur.forEachInRange([r,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new Kt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class V6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ht(Kt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new $3(l,n,r,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new Kt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ie.resolve(u)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),l=a<0?0:a;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Lv:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Kt(n,0),a=new Kt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(u=>{const h=this.Xr(u.Yr);l.push(h)})),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ht(Ue);return n.forEach((a=>{const l=new Kt(a,0),u=new Kt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(h=>{r=r.add(h.Yr)}))})),ie.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;ye.isDocumentKey(l)||(l=l.child(""));const u=new Kt(new ye(l),0);let h=new Ht(Ue);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Yr)),!0)}),u),ie.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ie.forEach(n.mutations,(a=>{const l=new Kt(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Kt(n,0),a=this.Zr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class O6{constructor(e){this.ri=e,this.docs=(function(){return new gt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let r=Yr();return n.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():ln.newInvalidDocument(a))})),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=Yr();const u=n.path,h=new ye(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||c3(u3(y),r)<=0||(a.has(y.key)||jd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,n,r,a){Ee(9500)}ii(e,n){return ie.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new k6(this)}getSize(e){return ie.resolve(this.size)}}class k6 extends x6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class L6{constructor(e){this.persistence=e,this.si=new ro((n=>zv(n)),Bv),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Kv,this.targetCount=0,this.ai=_l.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new _l(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),ie.waitFor(l).next((()=>a))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),ie.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}class KR{constructor(e,n){this.ui={},this.overlays={},this.ci=new Vd(0),this.li=!1,this.li=!0,this.hi=new P6,this.referenceDelegate=e(this),this.Pi=new L6(this),this.indexManager=new E6,this.remoteDocumentCache=(function(a){return new O6(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new _6(n),this.Ii=new N6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new M6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new V6(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const a=new U6(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return ie.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class U6 extends f3{constructor(e){super(),this.currentSequenceNumber=e}}class Xv{constructor(e){this.persistence=e,this.Ri=new Kv,this.Vi=null}static mi(e){return new Xv(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(r=>{const a=ye.fromPath(r);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class hd{constructor(e,n){this.persistence=e,this.pi=new ro((r=>p3(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=R6(this,n)}static mi(e,n){return new hd(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((r,a)=>this.br(e,r,a).next((l=>l?ie.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((h=>{h||(r++,l.removeEntry(u,Ae.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zf(e.data.value)),n}br(e,n,r){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ie.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class $v{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=je(),a=je();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new $v(e,n.fromCache,r,a)}}class j6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class z6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return I4()?8:d3(cn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,r).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new j6;return this.Ss(e,n,u).next((h=>{if(l.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>l.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(Qo()<=Le.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(Qo()<=Le.DEBUG&&de("QueryEngine","Query:",Wo(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(Qo()<=Le.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ar(n))):ie.resolve())}ys(e,n){if(yS(n))return ie.resolve(null);let r=ar(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=od(n,null,"F"),r=ar(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const u=je(...l);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((d=>{const p=this.Ds(n,h);return this.Cs(n,p,u,d.readTime)?this.ys(e,od(n,null,"F")):this.vs(e,p,n,d)}))))})))))}ws(e,n,r,a){return yS(n)||a.isEqual(Ae.min())?ie.resolve(null):this.ps.getDocuments(e,r).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,r,a)?ie.resolve(null):(Qo()<=Le.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Wo(n)),this.vs(e,u,n,l3(a,gc)).next((h=>h)))}))}Ds(e,n){let r=new Ht(AR(e));return n.forEach(((a,l)=>{jd(e,l)&&(r=r.add(l))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,r){return Qo()<=Le.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Wo(n)),this.ps.getDocumentsMatchingQuery(e,n,Ys.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const Qv="LocalStore",B6=3e8;class F6{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new gt(Ue),this.xs=new ro((l=>zv(l)),Bv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function H6(t,e,n,r){return new F6(t,e,n,r)}async function XR(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const u=[],h=[];let d=je();for(const p of a){u.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(r,d).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function q6(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,p,y){const v=p.batch,T=v.keys();let S=ie.resolve();return T.forEach((x=>{S=S.next((()=>y.getEntry(d,x))).next((P=>{const N=p.docVersions.get(x);Ke(N!==null,48541),P.version.compareTo(N)<0&&(v.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),y.addEntry(P)))}))})),S.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=je();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function $R(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function G6(t,e){const n=Re(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((y,v)=>{const T=a.get(v);if(!T)return;h.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,v))));let S=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(rn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,r)),a=a.insert(v,S),(function(P,N,j){return P.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=B6?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(T,S,y)&&h.push(n.Pi.updateTargetData(l,S))}));let d=Yr(),p=je();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(Y6(l,u,e.documentUpdates).next((y=>{d=y.ks,p=y.qs}))),!r.isEqual(Ae.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((v=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));h.push(y)}return ie.waitFor(h).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,p))).next((()=>d))})).then((l=>(n.Ms=a,l)))}function Y6(t,e,n){let r=je(),a=je();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let u=Yr();return n.forEach(((h,d)=>{const p=l.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Ae.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):de(Qv,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)})),{ks:u,qs:a}}))}function K6(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Lv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function X6(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((l=>l?(a=l,ie.resolve(a)):n.Pi.allocateTargetId(r).next((u=>(a=new Os(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Ny(t,e,n){const r=Re(t),a=r.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Dl(u))throw u;de(Qv,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function DS(t,e,n){const r=Re(t);let a=Ae.min(),l=je();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,p,y){const v=Re(d),T=v.xs.get(y);return T!==void 0?ie.resolve(v.Ms.get(T)):v.Pi.getTargetData(p,y)})(r,u,ar(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((d=>{l=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,n?a:Ae.min(),n?l:je()))).next((h=>($6(r,V3(e),h),{documents:h,Qs:l})))))}function $6(t,e,n){let r=t.Os.get(e)||Ae.min();n.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.Os.set(e,r)}class NS{constructor(){this.activeTargetIds=z3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Q6{constructor(){this.Mo=new NS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new NS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class W6{Oo(e){}shutdown(){}}const MS="ConnectivityMonitor";class PS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(MS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(MS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let If=null;function My(){return If===null?If=(function(){return 268435456+Math.round(2147483648*Math.random())})():If++,"0x"+If.toString(16)}const Og="RestConnection",Z6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class J6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===rd?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,l){const u=My(),h=this.zo(e,n.toUriEncodedString());de(Og,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,l);const{host:p}=new URL(h),y=Cl(p);return this.Jo(e,h,d,r,y).then((v=>(de(Og,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw pl(Og,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",r),v}))}Ho(e,n,r,a,l,u){return this.Go(e,n,r,a,l)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const r=Z6[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class e5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const an="WebChannelConnection";class t5 extends J6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,l){const u=My();return new Promise(((h,d)=>{const p=new ZC;p.setWithCredentials(!0),p.listenOnce(JC.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case jf.NO_ERROR:const v=p.getResponseJson();de(an,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case jf.TIMEOUT:de(an,`RPC '${e}' ${u} timed out`),d(new he(te.DEADLINE_EXCEEDED,"Request time out"));break;case jf.HTTP_ERROR:const T=p.getStatus();if(de(an,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const x=S?.error;if(x&&x.status&&x.message){const P=(function(j){const B=j.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(B)>=0?B:te.UNKNOWN})(x.status);d(new he(P,x.message))}else d(new he(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new he(te.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{de(an,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);de(an,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",y,r,15)}))}T_(e,n,r){const a=My(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=nR(),h=tR(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const y=l.join("");de(an,`Creating RPC '${e}' stream ${a}: ${y}`,d);const v=u.createWebChannel(y,d);this.I_(v);let T=!1,S=!1;const x=new e5({Yo:N=>{S?de(an,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(T||(de(an,`Opening RPC '${e}' stream ${a} transport.`),v.open(),T=!0),de(an,`RPC '${e}' stream ${a} sending:`,N),v.send(N))},Zo:()=>v.close()}),P=(N,j,B)=>{N.listen(j,(F=>{try{B(F)}catch(se){setTimeout((()=>{throw se}),0)}}))};return P(v,qu.EventType.OPEN,(()=>{S||(de(an,`RPC '${e}' stream ${a} transport opened.`),x.o_())})),P(v,qu.EventType.CLOSE,(()=>{S||(S=!0,de(an,`RPC '${e}' stream ${a} transport closed`),x.a_(),this.E_(v))})),P(v,qu.EventType.ERROR,(N=>{S||(S=!0,pl(an,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),x.a_(new he(te.UNAVAILABLE,"The operation could not be completed")))})),P(v,qu.EventType.MESSAGE,(N=>{if(!S){const j=N.data[0];Ke(!!j,16349);const B=j,F=B?.error||B[0]?.error;if(F){de(an,`RPC '${e}' stream ${a} received error:`,F);const se=F.status;let re=(function(R){const D=Lt[R];if(D!==void 0)return kR(D)})(se),le=F.message;re===void 0&&(re=te.INTERNAL,le="Unknown error status: "+se+" with message "+F.message),S=!0,x.a_(new he(re,le)),v.close()}else de(an,`RPC '${e}' stream ${a} received:`,j),x.u_(j)}})),P(h,eR.STAT_EVENT,(N=>{N.stat===Ty.PROXY?de(an,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===Ty.NOPROXY&&de(an,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function kg(){return typeof document<"u"?document:null}function Hd(t){return new s6(t,!0)}class QR{constructor(e,n,r=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&de("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const VS="PersistentStream";class WR{constructor(e,n,r,a,l,u,h,d){this.Mi=e,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new QR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Gr(n.toString()),Gr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new he(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(VS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(VS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class n5 extends WR{constructor(e,n,r,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=l6(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Ae.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ae.min():u.readTime?or(u.readTime):Ae.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Dy(this.serializer),n.addTarget=(function(l,u){let h;const d=u.target;if(h=Ay(d)?{documents:h6(l,d)}:{query:f6(l,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=jR(l,u.resumeToken);const p=Ry(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ae.min())>0){h.readTime=cd(l,u.snapshotVersion.toTimestamp());const p=Ry(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=m6(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Dy(this.serializer),n.removeTarget=e,this.q_(n)}}class i5 extends WR{constructor(e,n,r,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=c6(e.writeResults,e.commitTime),r=or(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Dy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>u6(this.serializer,r)))};this.q_(n)}}class r5{}class s5 extends r5{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,xy(n,r),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(te.UNKNOWN,l.toString())}))}Ho(e,n,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,xy(n,r),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(te.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class a5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gr(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Qa="RemoteStore";class o5{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{so(this)&&(de(Qa,"Restarting streams for network reachability change."),await(async function(d){const p=Re(d);p.Ea.add(4),await kc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await qd(p)})(this))}))})),this.Ra=new a5(r,a)}}async function qd(t){if(so(t))for(const e of t.da)await e(!0)}async function kc(t){for(const e of t.da)await e(!1)}function ZR(t,e){const n=Re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),e0(n)?Jv(n):Ml(n).O_()&&Zv(n,e))}function Wv(t,e){const n=Re(t),r=Ml(n);n.Ia.delete(e),r.O_()&&JR(n,e),n.Ia.size===0&&(r.O_()?r.L_():so(n)&&n.Ra.set("Unknown"))}function Zv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ml(t).Y_(e)}function JR(t,e){t.Va.Ue(e),Ml(t).Z_(e)}function Jv(t){t.Va=new t6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ml(t).start(),t.Ra.ua()}function e0(t){return so(t)&&!Ml(t).x_()&&t.Ia.size>0}function so(t){return Re(t).Ea.size===0}function ex(t){t.Va=void 0}async function l5(t){t.Ra.set("Online")}async function u5(t){t.Ia.forEach(((e,n)=>{Zv(t,e)}))}async function c5(t,e){ex(t),e0(t)?(t.Ra.ha(e),Jv(t)):t.Ra.set("Unknown")}async function h5(t,e,n){if(t.Ra.set("Online"),e instanceof UR&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(r){de(Qa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await fd(t,r)}else if(e instanceof Hf?t.Va.Ze(e):e instanceof LR?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ae.min()))try{const r=await $R(t.localStore);n.compareTo(r)>=0&&await(function(l,u){const h=l.Va.Tt(u);return h.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,p)=>{const y=l.Ia.get(d);if(!y)return;l.Ia.set(d,y.withResumeToken(rn.EMPTY_BYTE_STRING,y.snapshotVersion)),JR(l,d);const v=new Os(y.target,d,p,y.sequenceNumber);Zv(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){de(Qa,"Failed to raise snapshot:",r),await fd(t,r)}}async function fd(t,e,n){if(!Dl(e))throw e;t.Ea.add(1),await kc(t),t.Ra.set("Offline"),n||(n=()=>$R(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{de(Qa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await qd(t)}))}function tx(t,e){return e().catch((n=>fd(t,n,e)))}async function Gd(t){const e=Re(t),n=Qs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Lv;for(;f5(e);)try{const a=await K6(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,d5(e,a)}catch(a){await fd(e,a)}nx(e)&&ix(e)}function f5(t){return so(t)&&t.Ta.length<10}function d5(t,e){t.Ta.push(e);const n=Qs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function nx(t){return so(t)&&!Qs(t).x_()&&t.Ta.length>0}function ix(t){Qs(t).start()}async function m5(t){Qs(t).ra()}async function p5(t){const e=Qs(t);for(const n of t.Ta)e.ea(n.mutations)}async function g5(t,e,n){const r=t.Ta.shift(),a=qv.from(r,e,n);await tx(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Gd(t)}async function y5(t,e){e&&Qs(t).X_&&await(async function(r,a){if((function(u){return Z3(u)&&u!==te.ABORTED})(a.code)){const l=r.Ta.shift();Qs(r).B_(),await tx(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Gd(r)}})(t,e),nx(t)&&ix(t)}async function OS(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),de(Qa,"RemoteStore received new credentials");const r=so(n);n.Ea.add(3),await kc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await qd(n)}async function v5(t,e){const n=Re(t);e?(n.Ea.delete(2),await qd(n)):e||(n.Ea.add(2),await kc(n),n.Ra.set("Unknown"))}function Ml(t){return t.ma||(t.ma=(function(n,r,a){const l=Re(n);return l.sa(),new n5(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:l5.bind(null,t),t_:u5.bind(null,t),r_:c5.bind(null,t),H_:h5.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),e0(t)?Jv(t):t.Ra.set("Unknown")):(await t.ma.stop(),ex(t))}))),t.ma}function Qs(t){return t.fa||(t.fa=(function(n,r,a){const l=Re(n);return l.sa(),new i5(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:m5.bind(null,t),r_:y5.bind(null,t),ta:p5.bind(null,t),na:g5.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Gd(t)):(await t.fa.stop(),t.Ta.length>0&&(de(Qa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class t0{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const u=Date.now()+r,h=new t0(e,n,u,a,l);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function n0(t,e){if(Gr("AsyncQueue",`${e}: ${t}`),Dl(t))return new he(te.UNAVAILABLE,`${e}: ${t}`);throw t}class ol{static emptySet(e){return new ol(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=Gu(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ol)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ol;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class kS{constructor(){this.ga=new gt(ye.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Tl{constructor(e,n,r,a,l,u,h,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,a,l){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Tl(e,n,ol.emptySet(n),u,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class _5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class T5{constructor(){this.queries=LS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Re(n),l=a.queries;a.queries=LS(),l.forEach(((u,h)=>{for(const d of h.Sa)d.onError(r)}))})(this,new he(te.ABORTED,"Firestore shutting down"))}}function LS(){return new ro((t=>SR(t)),Ud)}async function i0(t,e){const n=Re(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(r=2):(l=new _5,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=n0(u,`Initialization of query '${Wo(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&s0(n)}async function r0(t,e){const n=Re(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function E5(t,e){const n=Re(t);let r=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.Sa)h.Fa(a)&&(r=!0);u.wa=a}}r&&s0(n)}function b5(t,e,n){const r=Re(t),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);r.queries.delete(e)}function s0(t){t.Ca.forEach((e=>{e.next()}))}var Py,US;(US=Py||(Py={})).Ma="default",US.Cache="cache";class a0{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Tl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Py.Cache}}class rx{constructor(e){this.key=e}}class sx{constructor(e){this.key=e}}class w5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=AR(e),this.tu=new ol(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new kS,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const T=a.get(y),S=jd(this.query,v)?v:null,x=!!T&&this.mutatedKeys.has(T.key),P=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let N=!1;T&&S?T.data.isEqual(S.data)?x!==P&&(r.track({type:3,doc:S}),N=!0):this.su(T,S)||(r.track({type:2,doc:S}),N=!0,(d&&this.eu(S,d)>0||p&&this.eu(S,p)<0)&&(h=!0)):!T&&S?(r.track({type:0,doc:S}),N=!0):T&&!S&&(r.track({type:1,doc:T}),N=!0,(d||p)&&(h=!0)),N&&(S?(u=u.add(S),l=P?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{tu:u,iu:r,Cs:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(S,x){const P=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:N})}};return P(S)-P(x)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(r),a=a??!1;const h=n&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,p=d!==this.Za;return this.Za=d,u.length!==0||p?{snapshot:new Tl(this.query,e.tu,l,u,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new sx(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new rx(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const o0="SyncEngine";class S5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class A5{constructor(e){this.key=e,this.hu=!1}}class C5{constructor(e,n,r,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ro((h=>SR(h)),Ud),this.Iu=new Map,this.Eu=new Set,this.du=new gt(ye.comparator),this.Au=new Map,this.Ru=new Kv,this.Vu={},this.mu=new Map,this.fu=_l.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function R5(t,e,n=!0){const r=hx(t);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await ax(r,e,n,!0),a}async function x5(t,e){const n=hx(t);await ax(n,e,!0,!1)}async function ax(t,e,n,r){const a=await X6(t.localStore,ar(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return r&&(h=await I5(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&ZR(t.remoteStore,a),h}async function I5(t,e,n,r,a){t.pu=(v,T,S)=>(async function(P,N,j,B){let F=N.view.ru(j);F.Cs&&(F=await DS(P.localStore,N.query,!1).then((({documents:I})=>N.view.ru(I,F))));const se=B&&B.targetChanges.get(N.targetId),re=B&&B.targetMismatches.get(N.targetId)!=null,le=N.view.applyChanges(F,P.isPrimaryClient,se,re);return zS(P,N.targetId,le.au),le.snapshot})(t,v,T,S);const l=await DS(t.localStore,e,!0),u=new w5(e,l.Qs),h=u.ru(l.documents),d=Oc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),p=u.applyChanges(h,t.isPrimaryClient,d);zS(t,n,p.au);const y=new S5(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function D5(t,e,n){const r=Re(t),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((u=>!Ud(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Ny(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Wv(r.remoteStore,a.targetId),Vy(r,a.targetId)})).catch(Il)):(Vy(r,a.targetId),await Ny(r.localStore,a.targetId,!0))}async function N5(t,e){const n=Re(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wv(n.remoteStore,r.targetId))}async function M5(t,e,n){const r=j5(t);try{const a=await(function(u,h){const d=Re(u),p=lt.now(),y=h.reduce(((S,x)=>S.add(x.key)),je());let v,T;return d.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let x=Yr(),P=je();return d.Ns.getEntries(S,y).next((N=>{x=N,x.forEach(((j,B)=>{B.isValidDocument()||(P=P.add(j))}))})).next((()=>d.localDocuments.getOverlayedDocuments(S,x))).next((N=>{v=N;const j=[];for(const B of h){const F=K3(B,v.get(B.key).overlayedDocument);F!=null&&j.push(new ta(B.key,F,gR(F.value.mapValue),ui.exists(!0)))}return d.mutationQueue.addMutationBatch(S,p,j,h)})).next((N=>{T=N;const j=N.applyToLocalDocumentSet(v,P);return d.documentOverlayCache.saveOverlays(S,N.batchId,j)}))})).then((()=>({batchId:T.batchId,changes:RR(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,h,d){let p=u.Vu[u.currentUser.toKey()];p||(p=new gt(Ue)),p=p.insert(h,d),u.Vu[u.currentUser.toKey()]=p})(r,a.batchId,n),await Lc(r,a.changes),await Gd(r.remoteStore)}catch(a){const l=n0(a,"Failed to persist write");n.reject(l)}}async function ox(t,e){const n=Re(t);try{const r=await G6(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(Ke(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Ke(u.hu,14607):a.removedDocuments.size>0&&(Ke(u.hu,42227),u.hu=!1))})),await Lc(n,r,e)}catch(r){await Il(r)}}function jS(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const d=Re(u);d.onlineState=h;let p=!1;d.queries.forEach(((y,v)=>{for(const T of v.Sa)T.va(h)&&(p=!0)})),p&&s0(d)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function P5(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),l=a&&a.key;if(l){let u=new gt(ye.comparator);u=u.insert(l,ln.newNoDocument(l,Ae.min()));const h=je().add(l),d=new Fd(Ae.min(),new Map,new gt(Ue),u,h);await ox(r,d),r.du=r.du.remove(l),r.Au.delete(e),l0(r)}else await Ny(r.localStore,e,!1).then((()=>Vy(r,e,n))).catch(Il)}async function V5(t,e){const n=Re(t),r=e.batch.batchId;try{const a=await q6(n.localStore,e);ux(n,r,null),lx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Lc(n,a)}catch(a){await Il(a)}}async function O5(t,e,n){const r=Re(t);try{const a=await(function(u,h){const d=Re(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return d.mutationQueue.lookupMutationBatch(p,h).next((v=>(Ke(v!==null,37113),y=v.keys(),d.mutationQueue.removeMutationBatch(p,v)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>d.localDocuments.getDocuments(p,y)))}))})(r.localStore,e);ux(r,e,n),lx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Lc(r,a)}catch(a){await Il(a)}}function lx(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function ux(t,e,n){const r=Re(t);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function Vy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||cx(t,r)}))}function cx(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Wv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),l0(t))}function zS(t,e,n){for(const r of n)r instanceof rx?(t.Ru.addReference(r.key,e),k5(t,r)):r instanceof sx?(de(o0,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||cx(t,r.key)):Ee(19791,{wu:r})}function k5(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(de(o0,"New document in limbo: "+n),t.Eu.add(r),l0(t))}function l0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(st.fromString(e)),r=t.fu.next();t.Au.set(r,new A5(n)),t.du=t.du.insert(n,r),ZR(t.remoteStore,new Os(ar(Ld(n.path)),r,"TargetPurposeLimboResolution",Vd.ce))}}async function Lc(t,e,n){const r=Re(t),a=[],l=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{u.push(r.pu(d,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){a.push(p);const y=$v.As(d.targetId,p);l.push(y)}})))})),await Promise.all(u),r.Pu.H_(a),await(async function(d,p){const y=Re(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ie.forEach(p,(T=>ie.forEach(T.Es,(S=>y.persistence.referenceDelegate.addReference(v,T.targetId,S))).next((()=>ie.forEach(T.ds,(S=>y.persistence.referenceDelegate.removeReference(v,T.targetId,S)))))))))}catch(v){if(!Dl(v))throw v;de(Qv,"Failed to update sequence numbers: "+v)}for(const v of p){const T=v.targetId;if(!v.fromCache){const S=y.Ms.get(T),x=S.snapshotVersion,P=S.withLastLimboFreeSnapshotVersion(x);y.Ms=y.Ms.insert(T,P)}}})(r.localStore,l))}async function L5(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){de(o0,"User change. New user:",e.toKey());const r=await XR(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new he(te.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Lc(n,r.Ls)}}function U5(t,e){const n=Re(t),r=n.Au.get(e);if(r&&r.hu)return je().add(r.key);{let a=je();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function hx(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ox.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=P5.bind(null,e),e.Pu.H_=E5.bind(null,e.eventManager),e.Pu.yu=b5.bind(null,e.eventManager),e}function j5(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=V5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=O5.bind(null,e),e}class dd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return H6(this.persistence,new z6,e.initialUser,this.serializer)}Cu(e){return new KR(Xv.mi,this.serializer)}Du(e){return new Q6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dd.provider={build:()=>new dd};class z5 extends dd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof hd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new A6(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new KR((r=>hd.mi(r,n)),this.serializer)}}class Oy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=L5.bind(null,this.syncEngine),await v5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new T5})()}createDatastore(e){const n=Hd(e.databaseInfo.databaseId),r=(function(l){return new t5(l)})(e.databaseInfo);return(function(l,u,h,d){return new s5(l,u,h,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,l,u,h){return new o5(r,a,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>jS(this.syncEngine,n,0)),(function(){return PS.v()?new PS:new W6})())}createSyncEngine(e,n){return(function(a,l,u,h,d,p,y){const v=new C5(a,l,u,h,d,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Re(n);de(Qa,"RemoteStore shutting down."),r.Ea.add(5),await kc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Oy.provider={build:()=>new Oy};class u0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Gr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ws="FirestoreClient";class B5{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=on.UNAUTHENTICATED,this.clientId=kv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async u=>{de(Ws,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(de(Ws,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=n0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Lg(t,e){t.asyncQueue.verifyOperationInProgress(),de(Ws,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await XR(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function BS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await F5(t);de(Ws,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>OS(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>OS(e.remoteStore,a))),t._onlineComponents=e}async function F5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(Ws,"Using user provided OfflineComponentProvider");try{await Lg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;pl("Error using user provided cache. Falling back to memory cache: "+n),await Lg(t,new dd)}}else de(Ws,"Using default OfflineComponentProvider"),await Lg(t,new z5(void 0));return t._offlineComponents}async function fx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(Ws,"Using user provided OnlineComponentProvider"),await BS(t,t._uninitializedComponentsProvider._online)):(de(Ws,"Using default OnlineComponentProvider"),await BS(t,new Oy))),t._onlineComponents}function H5(t){return fx(t).then((e=>e.syncEngine))}async function md(t){const e=await fx(t),n=e.eventManager;return n.onListen=R5.bind(null,e.syncEngine),n.onUnlisten=D5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=x5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=N5.bind(null,e.syncEngine),n}function q5(t,e,n={}){const r=new zr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,p){const y=new u0({next:T=>{y.Nu(),u.enqueueAndForget((()=>r0(l,v)));const S=T.docs.has(h);!S&&T.fromCache?p.reject(new he(te.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&T.fromCache&&d&&d.source==="server"?p.reject(new he(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),v=new a0(Ld(h.path),y,{includeMetadataChanges:!0,qa:!0});return i0(l,v)})(await md(t),t.asyncQueue,e,n,r))),r.promise}function G5(t,e,n={}){const r=new zr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,p){const y=new u0({next:T=>{y.Nu(),u.enqueueAndForget((()=>r0(l,v))),T.fromCache&&d.source==="server"?p.reject(new he(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),v=new a0(h,y,{includeMetadataChanges:!0,qa:!0});return i0(l,v)})(await md(t),t.asyncQueue,e,n,r))),r.promise}function dx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const FS=new Map;const mx="firestore.googleapis.com",HS=!0;class qS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mx,this.ssl=HS}else this.host=e.host,this.ssl=e.ssl??HS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<w6)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}o3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dx(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yd{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new WL;switch(r.type){case"firstParty":return new t3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=FS.get(n);r&&(de("ComponentProvider","Removing Datastore"),FS.delete(n),r.terminate())})(this),Promise.resolve()}}function Y5(t,e,n,r={}){t=xn(t,Yd);const a=Cl(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(zC(`https://${h}`),BC("Firestore",!0)),l.host!==mx&&l.host!==h&&pl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:a,emulatorOptions:r};if(!Gs(d,u)&&(t._setSettings(d),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=on.MOCK_USER;else{p=E4(r.mockUserToken,t._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new he(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new on(v)}t._authCredentials=new ZL(new rR(p,y))}}class $r{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $r(this.firestore,e,this._query)}}class Tt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}toJSON(){return{type:Tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Pc(n,Tt._jsonSchema))return new Tt(e,r||null,new ye(st.fromString(n.referencePath)))}}Tt._jsonSchemaVersion="firestore/documentReference/1.0",Tt._jsonSchema={type:zt("string",Tt._jsonSchemaVersion),referencePath:zt("string")};class zs extends $r{constructor(e,n,r){super(e,n,Ld(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new ye(e))}withConverter(e){return new zs(this.firestore,e,this._path)}}function Ku(t,e,...n){if(t=Et(t),sR("collection","path",e),t instanceof Yd){const r=st.fromString(e,...n);return iS(r),new zs(t,null,r)}{if(!(t instanceof Tt||t instanceof zs))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return iS(r),new zs(t.firestore,null,r)}}function ll(t,e,...n){if(t=Et(t),arguments.length===1&&(e=kv.newId()),sR("doc","path",e),t instanceof Yd){const r=st.fromString(e,...n);return nS(r),new Tt(t,null,new ye(r))}{if(!(t instanceof Tt||t instanceof zs))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return nS(r),new Tt(t.firestore,t instanceof zs?t.converter:null,new ye(r))}}const GS="AsyncQueue";class YS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new QR(this,"async_queue_retry"),this._c=()=>{const r=kg();r&&de(GS,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=kg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=kg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new zr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Dl(e))throw e;de(GS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Gr("INTERNAL UNHANDLED ERROR: ",KS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=t0.createAndSchedule(this,e,n,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ee(47125,{Pc:KS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function KS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function XS(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class Kr extends Yd{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new YS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new YS(e),this._firestoreClient=void 0,await e}}}function K5(t,e){const n=typeof t=="object"?t:Vv(),r=typeof t=="string"?t:rd,a=io(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=_4("firestore");l&&Y5(a,...l)}return a}function Kd(t){if(t._terminated)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||X5(t),t._firestoreClient}function X5(t){const e=t._freezeSettings(),n=(function(a,l,u,h){return new v3(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,dx(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new B5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ii{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ii(rn.fromBase64String(e))}catch(n){throw new he(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ii(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ii._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pc(e,ii._jsonSchema))return ii.fromBase64String(e.bytes)}}ii._jsonSchemaVersion="firestore/bytes/1.0",ii._jsonSchema={type:zt("string",ii._jsonSchemaVersion),bytes:zt("string")};class Xd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class c0{constructor(e){this._methodName=e}}class lr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:lr._jsonSchemaVersion}}static fromJSON(e){if(Pc(e,lr._jsonSchema))return new lr(e.latitude,e.longitude)}}lr._jsonSchemaVersion="firestore/geoPoint/1.0",lr._jsonSchema={type:zt("string",lr._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};class ur{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ur._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pc(e,ur._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ur(e.vectorValues);throw new he(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ur._jsonSchemaVersion="firestore/vectorValue/1.0",ur._jsonSchema={type:zt("string",ur._jsonSchemaVersion),vectorValues:zt("object")};const $5=/^__.*__$/;class Q5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ta(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vc(e,this.data,n,this.fieldTransforms)}}class px{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ta(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:t})}}class h0{constructor(e,n,r,a,l,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new h0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return pd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(gx(this.Ac)&&$5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class W5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hd(e)}Cc(e,n,r,a=!1){return new h0({Ac:e,methodName:n,Dc:r,path:nn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $d(t){const e=t._freezeSettings(),n=Hd(t._databaseId);return new W5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yx(t,e,n,r,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);f0("Data must be an object, but it was:",u,r);const h=vx(r,u);let d,p;if(l.merge)d=new jn(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const T=ky(e,v,n);if(!u.contains(T))throw new he(te.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Tx(y,T)||y.push(T)}d=new jn(y),p=u.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,p=u.fieldTransforms;return new Q5(new Cn(h),d,p)}class Qd extends c0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qd}}function Z5(t,e,n,r){const a=t.Cc(1,e,n);f0("Data must be an object, but it was:",a,r);const l=[],u=Cn.empty();ea(r,((d,p)=>{const y=d0(e,d,n);p=Et(p);const v=a.yc(y);if(p instanceof Qd)l.push(y);else{const T=Uc(p,v);T!=null&&(l.push(y),u.set(y,T))}}));const h=new jn(l);return new px(u,h,a.fieldTransforms)}function J5(t,e,n,r,a,l){const u=t.Cc(1,e,n),h=[ky(e,r,n)],d=[a];if(l.length%2!=0)throw new he(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)h.push(ky(e,l[T])),d.push(l[T+1]);const p=[],y=Cn.empty();for(let T=h.length-1;T>=0;--T)if(!Tx(p,h[T])){const S=h[T];let x=d[T];x=Et(x);const P=u.yc(S);if(x instanceof Qd)p.push(S);else{const N=Uc(x,P);N!=null&&(p.push(S),y.set(S,N))}}const v=new jn(p);return new px(y,v,u.fieldTransforms)}function eU(t,e,n,r=!1){return Uc(n,t.Cc(r?4:3,e))}function Uc(t,e){if(_x(t=Et(t)))return f0("Unsupported field value:",e,t),vx(t,e);if(t instanceof c0)return(function(r,a){if(!gx(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let u=0;for(const h of r){let d=Uc(h,a.wc(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}})(t,e)}return(function(r,a){if((r=Et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return B3(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=lt.fromDate(r);return{timestampValue:cd(a.serializer,l)}}if(r instanceof lt){const l=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cd(a.serializer,l)}}if(r instanceof lr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ii)return{bytesValue:jR(a.serializer,r._byteString)};if(r instanceof Tt){const l=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Yv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof ur)return(function(u,h){return{mapValue:{fields:{[mR]:{stringValue:pR},[sd]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return Fv(h.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Pd(r)}`)})(t,e)}function vx(t,e){const n={};return lR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ea(t,((r,a)=>{const l=Uc(a,e.mc(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function _x(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof lr||t instanceof ii||t instanceof Tt||t instanceof c0||t instanceof ur)}function f0(t,e,n){if(!_x(n)||!aR(n)){const r=Pd(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ky(t,e,n){if((e=Et(e))instanceof Xd)return e._internalPath;if(typeof e=="string")return d0(t,e);throw pd("Field path arguments must be of type string or ",t,!1,void 0,n)}const tU=new RegExp("[~\\*/\\[\\]]");function d0(t,e,n){if(e.search(tU)>=0)throw pd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xd(...e.split("."))._internalPath}catch{throw pd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pd(t,e,n,r,a){const l=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${r}`),u&&(d+=` in document ${a}`),d+=")"),new he(te.INVALID_ARGUMENT,h+t+d)}function Tx(t,e){return t.some((n=>n.isEqual(e)))}class Ex{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(m0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nU extends Ex{data(){return super.data()}}function m0(t,e){return typeof e=="string"?d0(t,e):e instanceof Xd?e._internalPath:e._delegate._internalPath}function bx(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class p0{}class g0 extends p0{}function iU(t,e,...n){let r=[];e instanceof p0&&r.push(e),r=r.concat(n),(function(l){const u=l.filter((d=>d instanceof v0)).length,h=l.filter((d=>d instanceof y0)).length;if(u>1||u>0&&h>0)throw new he(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class y0 extends g0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new y0(e,n,r)}_apply(e){const n=this._parse(e);return wx(e._query,n),new $r(e.firestore,e.converter,Cy(e._query,n))}_parse(e){const n=$d(e.firestore);return(function(l,u,h,d,p,y,v){let T;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new he(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){QS(v,y);const x=[];for(const P of v)x.push($S(d,l,P));T={arrayValue:{values:x}}}else T=$S(d,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||QS(v,y),T=eU(h,u,v,y==="in"||y==="not-in");return jt.create(p,y,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class v0 extends p0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new v0(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Di.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const h=l.getFlattenedFilters();for(const d of h)wx(u,d),u=Cy(u,d)})(e._query,n),new $r(e.firestore,e.converter,Cy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _0 extends g0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new _0(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tc(l,u)})(e._query,this._field,this._direction);return new $r(e.firestore,e.converter,(function(a,l){const u=a.explicitOrderBy.concat([l]);return new Nl(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function rU(t,e="asc"){const n=e,r=m0("orderBy",t);return _0._create(r,n)}class T0 extends g0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new T0(e,n,r)}_apply(e){return new $r(e.firestore,e.converter,od(e._query,this._limit,this._limitType))}}function sU(t){return T0._create("limit",t,"F")}function $S(t,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new he(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wR(e)&&n.indexOf("/")!==-1)throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(st.fromString(n));if(!ye.isDocumentKey(r))throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hS(t,new ye(r))}if(n instanceof Tt)return hS(t,n._key);throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pd(n)}.`)}function QS(t,e){if(!Array.isArray(t)||t.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wx(t,e){const n=(function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class aU{convertValue(e,n="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ea(e,((a,l)=>{r[a]=this.convertValue(l,n)})),r}convertVectorValue(e){const n=e.fields?.[sd].arrayValue?.values?.map((r=>Rt(r.doubleValue)));return new ur(n)}convertGeoPoint(e){return new lr(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=kd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yc(e));default:return null}}convertTimestamp(e){const n=Ks(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);Ke(GR(r),9688,{name:e});const a=new vc(r.get(1),r.get(3)),l=new ye(r.popFirst(5));return a.isEqual(n)||Gr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function Sx(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Xu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ya extends Ex{constructor(e,n,r,a,l,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(m0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ya._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ya._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ya._jsonSchema={type:zt("string",Ya._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class qf extends Ya{data(e={}){return super.data(e)}}class Ka{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Xu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new qf(this._firestore,this._userDataWriter,r.key,r,new Xu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const d=new qf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Xu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new qf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Xu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:oU(h.type),doc:d,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ka._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:t})}}function Ax(t){t=xn(t,Tt);const e=xn(t.firestore,Kr);return q5(Kd(e),t._key).then((n=>Cx(e,t,n)))}Ka._jsonSchemaVersion="firestore/querySnapshot/1.0",Ka._jsonSchema={type:zt("string",Ka._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class E0 extends aU{constructor(e){super(),this.firestore=e}convertBytes(e){return new ii(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,n)}}function WS(t){t=xn(t,$r);const e=xn(t.firestore,Kr),n=Kd(e),r=new E0(e);return bx(t._query),G5(n,t._query).then((a=>new Ka(e,r,t,a)))}function lU(t,e,n){t=xn(t,Tt);const r=xn(t.firestore,Kr),a=Sx(t.converter,e);return Wd(r,[yx($d(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,ui.none())])}function uU(t,e,n,...r){t=xn(t,Tt);const a=xn(t.firestore,Kr),l=$d(a);let u;return u=typeof(e=Et(e))=="string"||e instanceof Xd?J5(l,"updateDoc",t._key,e,n,r):Z5(l,"updateDoc",t._key,e),Wd(a,[u.toMutation(t._key,ui.exists(!0))])}function cU(t){return Wd(xn(t.firestore,Kr),[new Hv(t._key,ui.none())])}function ZS(t,e){const n=xn(t.firestore,Kr),r=ll(t),a=Sx(t.converter,e);return Wd(n,[yx($d(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,ui.exists(!1))]).then((()=>r))}function hU(t,...e){t=Et(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||XS(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(XS(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let l,u,h;if(t instanceof Tt)u=xn(t.firestore,Kr),h=Ld(t._key.path),l={next:d=>{e[r]&&e[r](Cx(u,t,d))},error:e[r+1],complete:e[r+2]};else{const d=xn(t,$r);u=xn(d.firestore,Kr),h=d._query;const p=new E0(u);l={next:y=>{e[r]&&e[r](new Ka(u,p,d,y))},error:e[r+1],complete:e[r+2]},bx(t._query)}return(function(p,y,v,T){const S=new u0(T),x=new a0(y,S,v);return p.asyncQueue.enqueueAndForget((async()=>i0(await md(p),x))),()=>{S.Nu(),p.asyncQueue.enqueueAndForget((async()=>r0(await md(p),x)))}})(Kd(u),h,a,l)}function Wd(t,e){return(function(r,a){const l=new zr;return r.asyncQueue.enqueueAndForget((async()=>M5(await H5(r),a,l))),l.promise})(Kd(t),e)}function Cx(t,e,n){const r=n.docs.get(e._key),a=new E0(t);return new Ya(t,a,e._key,r,new Xu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){xl=a})(Rl),fr(new Ii("firestore",((r,{instanceIdentifier:a,options:l})=>{const u=r.getProvider("app").getImmediate(),h=new Kr(new JL(r.getProvider("auth-internal")),new n3(u,r.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new he(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vc(p.options.projectId,y)})(u,a),u);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),li(Zw,Jw,e),li(Zw,Jw,"esm2020")})();function Rx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fU=Rx,xx=new no("auth","Firebase",Rx());const gd=new Md("@firebase/auth");function dU(t,...e){gd.logLevel<=Le.WARN&&gd.warn(`Auth (${Rl}): ${t}`,...e)}function Gf(t,...e){gd.logLevel<=Le.ERROR&&gd.error(`Auth (${Rl}): ${t}`,...e)}function Ni(t,...e){throw b0(t,...e)}function cr(t,...e){return b0(t,...e)}function Ix(t,e,n){const r={...fU(),[e]:n};return new no("auth","Firebase",r).create(e,{appName:t.name})}function Bs(t){return Ix(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function b0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return xx.create(t,...e)}function Te(t,e,...n){if(!t)throw b0(e,...n)}function Lr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gf(e),new Error(e)}function Xr(t,e){t||Lr(e)}function Ly(){return typeof self<"u"&&self.location?.href||""}function mU(){return JS()==="http:"||JS()==="https:"}function JS(){return typeof self<"u"&&self.location?.protocol||null}function pU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mU()||FC()||"connection"in navigator)?navigator.onLine:!0}function gU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class jc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xr(n>e,"Short delay should be less than long delay!"),this.isMobile=S4()||R4()}get(){return pU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function w0(t,e){Xr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Dx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const vU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_U=new jc(3e4,6e4);function ao(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function na(t,e,n,r,a={}){return Nx(t,a,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const h=Mc({key:t.config.apiKey,...u}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:d,...l};return C4()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Cl(t.emulatorConfig.host)&&(p.credentials="include"),Dx.fetch()(await Mx(t,t.config.apiHost,n,h),p)})}async function Nx(t,e,n){t._canInitEmulator=!1;const r={...yU,...e};try{const a=new EU(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Df(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Df(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Df(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw Df(t,"user-disabled",u);const y=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Ix(t,y,p);Ni(t,y)}}catch(a){if(a instanceof Mi)throw a;Ni(t,"network-request-failed",{message:String(a)})}}async function Zd(t,e,n,r,a={}){const l=await na(t,e,n,r,a);return"mfaPendingCredential"in l&&Ni(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function Mx(t,e,n,r){const a=`${e}${n}?${r}`,l=t,u=l.config.emulator?w0(t.config,a):`${t.config.apiScheme}://${a}`;return vU.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function TU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class EU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cr(this.auth,"network-request-failed")),_U.get())})}}function Df(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=cr(t,e,r);return a.customData._tokenResponse=n,a}function eA(t){return t!==void 0&&t.enterprise!==void 0}class bU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return TU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wU(t,e){return na(t,"GET","/v2/recaptchaConfig",ao(t,e))}async function SU(t,e){return na(t,"POST","/v1/accounts:delete",e)}async function yd(t,e){return na(t,"POST","/v1/accounts:lookup",e)}function sc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AU(t,e=!1){const n=Et(t),r=await n.getIdToken(e),a=S0(r);Te(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:r,authTime:sc(Ug(a.auth_time)),issuedAtTime:sc(Ug(a.iat)),expirationTime:sc(Ug(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Ug(t){return Number(t)*1e3}function S0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gf("JWT malformed, contained fewer than 3 sections"),null;try{const a=kC(n);return a?JSON.parse(a):(Gf("Failed to decode base64 JWT payload"),null)}catch(a){return Gf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function tA(t){const e=S0(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function wc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mi&&CU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function CU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class RU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Uy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sc(this.lastLoginAt),this.creationTime=sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vd(t){const e=t.auth,n=await t.getIdToken(),r=await wc(t,yd(e,{idToken:n}));Te(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?Px(a.providerUserInfo):[],u=IU(t.providerData,l),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!u?.length,p=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Uy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function xU(t){const e=Et(t);await vd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IU(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function Px(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function DU(t,e){const n=await Nx(t,{},async()=>{const r=Mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await Mx(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return t.emulatorConfig&&Cl(t.emulatorConfig.host)&&(d.credentials="include"),Dx.fetch()(u,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NU(t,e){return na(t,"POST","/v2/accounts:revokeToken",ao(t,e))}class ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):tA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=tA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await DU(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,u=new ul;return r&&(Te(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(Te(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Te(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ul,this.toJSON())}_performRefresh(){return Lr("not implemented")}}function Is(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xi{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new RU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Uy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await wc(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return AU(this,e)}reload(){return xU(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ri(this.auth.app))return Promise.reject(Bs(this.auth));const e=await this.getIdToken();return await wc(this,SU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:T,isAnonymous:S,providerData:x,stsTokenManager:P}=n;Te(v&&P,e,"internal-error");const N=ul.fromJSON(this.name,P);Te(typeof v=="string",e,"internal-error"),Is(r,e.name),Is(a,e.name),Te(typeof T=="boolean",e,"internal-error"),Te(typeof S=="boolean",e,"internal-error"),Is(l,e.name),Is(u,e.name),Is(h,e.name),Is(d,e.name),Is(p,e.name),Is(y,e.name);const j=new xi({uid:v,auth:e,email:a,emailVerified:T,displayName:r,isAnonymous:S,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:N,createdAt:p,lastLoginAt:y});return x&&Array.isArray(x)&&(j.providerData=x.map(B=>({...B}))),d&&(j._redirectEventId=d),j}static async _fromIdTokenResponse(e,n,r=!1){const a=new ul;a.updateFromServerResponse(n);const l=new xi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await vd(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Te(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Px(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new ul;h.updateFromIdToken(r);const d=new xi({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Uy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,p),d}}const nA=new Map;function Ur(t){Xr(t instanceof Function,"Expected a class definition");let e=nA.get(t);return e?(Xr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,nA.set(t,e),e)}class Vx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Vx.type="NONE";const iA=Vx;function Yf(t,e,n){return`firebase:${t}:${e}:${n}`}class cl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Yf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Yf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yd(this.auth,{idToken:e}).catch(()=>{});return n?xi._fromGetAccountInfoResponse(this.auth,n,e):null}return xi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new cl(Ur(iA),e,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Ur(iA);const u=Yf(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const y=await p._get(u);if(y){let v;if(typeof y=="string"){const T=await yd(e,{idToken:y}).catch(()=>{});if(!T)break;v=await xi._fromGetAccountInfoResponse(e,T,y)}else v=xi._fromJSON(e,y);p!==l&&(h=v),l=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new cl(l,e,r):(l=d[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new cl(l,e,r))}}function rA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ux(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ox(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zx(e))return"Blackberry";if(Bx(e))return"Webos";if(kx(e))return"Safari";if((e.includes("chrome/")||Lx(e))&&!e.includes("edge/"))return"Chrome";if(jx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Ox(t=cn()){return/firefox\//i.test(t)}function kx(t=cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Lx(t=cn()){return/crios\//i.test(t)}function Ux(t=cn()){return/iemobile/i.test(t)}function jx(t=cn()){return/android/i.test(t)}function zx(t=cn()){return/blackberry/i.test(t)}function Bx(t=cn()){return/webos/i.test(t)}function A0(t=cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function MU(t=cn()){return A0(t)&&!!window.navigator?.standalone}function PU(){return x4()&&document.documentMode===10}function Fx(t=cn()){return A0(t)||jx(t)||Bx(t)||zx(t)||/windows phone/i.test(t)||Ux(t)}function Hx(t,e=[]){let n;switch(t){case"Browser":n=rA(cn());break;case"Worker":n=`${rA(cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Rl}/${r}`}class VU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((u,h)=>{try{const d=e(l);u(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function OU(t,e={}){return na(t,"GET","/v2/passwordPolicy",ao(t,e))}const kU=6;class LU{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??kU,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class UU{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sA(this),this.idTokenSubscription=new sA(this),this.beforeStateQueue=new VU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ur(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await cl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yd(this,{idToken:e}),r=await xi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ri(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ri(this.app))return Promise.reject(Bs(this));const n=e?Et(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ri(this.app)?Promise.reject(Bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ri(this.app)?Promise.reject(Bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OU(this),n=new LU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new no("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await NU(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ur(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await cl.create(this,[Ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&dU(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Pl(t){return Et(t)}class sA{constructor(e){this.auth=e,this.observer=null,this.addObserver=O4(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Jd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jU(t){Jd=t}function qx(t){return Jd.loadJS(t)}function zU(){return Jd.recaptchaEnterpriseScript}function BU(){return Jd.gapiScript}function FU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class HU{constructor(){this.enterprise=new qU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class qU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const GU="recaptcha-enterprise",Gx="NO_RECAPTCHA";class YU{constructor(e){this.type=GU,this.auth=Pl(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{wU(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new bU(d);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(d=>{h(d)})})}function a(l,u,h){const d=window.grecaptcha;eA(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(Gx)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HU().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{r(this.auth).then(h=>{if(!n&&eA(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=zU();d.length!==0&&(d+=h),qx(d).then(()=>{a(h,l,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function aA(t,e,n,r=!1,a=!1){const l=new YU(t);let u;if(a)u=Gx;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function oA(t,e,n,r,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await aA(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await aA(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(l)})}function KU(t,e){const n=io(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Gs(l,e??{}))return a;Ni(a,"already-initialized")}return n.initialize({options:e})}function XU(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ur);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function $U(t,e,n){const r=Pl(t);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=Yx(e),{host:u,port:h}=QU(e),d=h===null?"":`:${h}`,p={url:`${l}//${u}${d}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(Gs(p,r.config.emulator)&&Gs(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Cl(u)?(zC(`${l}//${u}${d}`),BC("Auth",!0)):WU()}function Yx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function QU(t){const e=Yx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:lA(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:lA(u)}}}function lA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function WU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class C0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Lr("not implemented")}_getIdTokenResponse(e){return Lr("not implemented")}_linkToIdToken(e,n){return Lr("not implemented")}_getReauthenticationResolver(e){return Lr("not implemented")}}async function ZU(t,e){return na(t,"POST","/v1/accounts:signUp",e)}async function JU(t,e){return Zd(t,"POST","/v1/accounts:signInWithPassword",ao(t,e))}async function ej(t,e){return Zd(t,"POST","/v1/accounts:signInWithEmailLink",ao(t,e))}async function tj(t,e){return Zd(t,"POST","/v1/accounts:signInWithEmailLink",ao(t,e))}class Sc extends C0{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Sc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Sc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oA(e,n,"signInWithPassword",JU);case"emailLink":return ej(e,{email:this._email,oobCode:this._password});default:Ni(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oA(e,r,"signUpPassword",ZU);case"emailLink":return tj(e,{idToken:n,email:this._email,oobCode:this._password});default:Ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function hl(t,e){return Zd(t,"POST","/v1/accounts:signInWithIdp",ao(t,e))}const nj="http://localhost";class Wa extends C0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=n;if(!r||!a)return null;const u=new Wa(r,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return hl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,hl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,hl(e,n)}buildRequest(){const e={requestUri:nj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Mc(n)}return e}}function ij(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rj(t){const e=Fu(Hu(t)).link,n=e?Fu(Hu(e)).deep_link_id:null,r=Fu(Hu(t)).deep_link_id;return(r?Fu(Hu(r)).link:null)||r||n||e||t}class R0{constructor(e){const n=Fu(Hu(e)),r=n.apiKey??null,a=n.oobCode??null,l=ij(n.mode??null);Te(r&&a&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=rj(e);try{return new R0(n)}catch{return null}}}class Vl{constructor(){this.providerId=Vl.PROVIDER_ID}static credential(e,n){return Sc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=R0.parseLink(n);return Te(r,"argument-error"),Sc._fromEmailAndCode(e,r.code,r.tenantId)}}Vl.PROVIDER_ID="password";Vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Kx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class zc extends Kx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ns extends zc{constructor(){super("facebook.com")}static credential(e){return Wa._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ns.PROVIDER_ID="facebook.com";class Ms extends zc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wa._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ms.credential(n,r)}catch{return null}}}Ms.GOOGLE_SIGN_IN_METHOD="google.com";Ms.PROVIDER_ID="google.com";class Ps extends zc{constructor(){super("github.com")}static credential(e){return Wa._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.GITHUB_SIGN_IN_METHOD="github.com";Ps.PROVIDER_ID="github.com";class Vs extends zc{constructor(){super("twitter.com")}static credential(e,n){return Wa._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vs.credential(n,r)}catch{return null}}}Vs.TWITTER_SIGN_IN_METHOD="twitter.com";Vs.PROVIDER_ID="twitter.com";class El{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await xi._fromIdTokenResponse(e,r,a),u=uA(r);return new El({user:l,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=uA(r);return new El({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function uA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class _d extends Mi{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,_d.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new _d(e,n,r,a)}}function Xx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?_d._fromErrorAndOperation(t,l,e,r):l})}async function sj(t,e,n=!1){const r=await wc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return El._forOperation(t,"link",r)}async function aj(t,e,n=!1){const{auth:r}=t;if(Ri(r.app))return Promise.reject(Bs(r));const a="reauthenticate";try{const l=await wc(t,Xx(r,a,e,t),n);Te(l.idToken,r,"internal-error");const u=S0(l.idToken);Te(u,r,"internal-error");const{sub:h}=u;return Te(t.uid===h,r,"user-mismatch"),El._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ni(r,"user-mismatch"),l}}async function $x(t,e,n=!1){if(Ri(t.app))return Promise.reject(Bs(t));const r="signIn",a=await Xx(t,r,e),l=await El._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}async function oj(t,e){return $x(Pl(t),e)}async function lj(t){const e=Pl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function uj(t,e,n){return Ri(t.app)?Promise.reject(Bs(t)):oj(Et(t),Vl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&lj(t),r})}function cj(t,e){return Et(t).setPersistence(e)}function hj(t,e,n,r){return Et(t).onIdTokenChanged(e,n,r)}function fj(t,e,n){return Et(t).beforeAuthStateChanged(e,n)}function Qx(t,e,n,r){return Et(t).onAuthStateChanged(e,n,r)}const Td="__sak";class Wx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Td,"1"),this.storage.removeItem(Td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const dj=1e3,mj=10;class Zx extends Wx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);PU()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,mj):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},dj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zx.type="LOCAL";const Jx=Zx;class e2 extends Wx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}e2.type="SESSION";const t2=e2;function pj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class em{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new em(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async p=>p(n.origin,l)),d=await pj(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}em.receivers=[];function x0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class gj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,d)=>{const p=x0("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(v){const T=v;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(T.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function hr(){return window}function yj(t){hr().location.href=t}function n2(){return typeof hr().WorkerGlobalScope<"u"&&typeof hr().importScripts=="function"}async function vj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _j(){return navigator?.serviceWorker?.controller||null}function Tj(){return n2()?self:null}const i2="firebaseLocalStorageDb",Ej=1,Ed="firebaseLocalStorage",r2="fbase_key";class Bc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tm(t,e){return t.transaction([Ed],e?"readwrite":"readonly").objectStore(Ed)}function bj(){const t=indexedDB.deleteDatabase(i2);return new Bc(t).toPromise()}function jy(){const t=indexedDB.open(i2,Ej);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ed,{keyPath:r2})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ed)?e(r):(r.close(),await bj(),e(await jy()))})})}async function cA(t,e,n){const r=tm(t,!0).put({[r2]:e,value:n});return new Bc(r).toPromise()}async function wj(t,e){const n=tm(t,!1).get(e),r=await new Bc(n).toPromise();return r===void 0?null:r.value}function hA(t,e){const n=tm(t,!0).delete(e);return new Bc(n).toPromise()}const Sj=800,Aj=3;class s2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Aj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return n2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=em._getInstance(Tj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await vj(),!this.activeServiceWorker)return;this.sender=new gj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_j()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jy();return await cA(e,Td,"1"),await hA(e,Td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>cA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>wj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=tm(a,!1).getAll();return new Bc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Sj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}s2.type="LOCAL";const Cj=s2;new jc(3e4,6e4);function Rj(t,e){return e?Ur(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class I0 extends C0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return hl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return hl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return hl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xj(t){return $x(t.auth,new I0(t),t.bypassAuthState)}function Ij(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),aj(n,new I0(t),t.bypassAuthState)}async function Dj(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),sj(n,new I0(t),t.bypassAuthState)}class a2{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xj;case"linkViaPopup":case"linkViaRedirect":return Dj;case"reauthViaPopup":case"reauthViaRedirect":return Ij;default:Ni(this.auth,"internal-error")}}resolve(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nj=new jc(2e3,1e4);class sl extends a2{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,sl.currentPopupAction&&sl.currentPopupAction.cancel(),sl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Xr(this.filter.length===1,"Popup operations only handle one event");const e=x0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Nj.get())};e()}}sl.currentPopupAction=null;const Mj="pendingRedirect",Kf=new Map;class Pj extends a2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kf.get(this.auth._key());if(!e){try{const r=await Vj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kf.set(this.auth._key(),e)}return this.bypassAuthState||Kf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Vj(t,e){const n=Lj(e),r=kj(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function Oj(t,e){Kf.set(t._key(),e)}function kj(t){return Ur(t._redirectPersistence)}function Lj(t){return Yf(Mj,t.config.apiKey,t.name)}async function Uj(t,e,n=!1){if(Ri(t.app))return Promise.reject(Bs(t));const r=Pl(t),a=Rj(r,e),u=await new Pj(r,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const jj=600*1e3;class zj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Bj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!o2(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(cr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jj&&this.cachedEventUids.clear(),this.cachedEventUids.has(fA(e))}saveEventToCache(e){this.cachedEventUids.add(fA(e)),this.lastProcessedEventTime=Date.now()}}function fA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function o2({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Bj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o2(t);default:return!1}}async function Fj(t,e={}){return na(t,"GET","/v1/projects",e)}const Hj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qj=/^https?/;async function Gj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Fj(t);for(const n of e)try{if(Yj(n))return}catch{}Ni(t,"unauthorized-domain")}function Yj(t){const e=Ly(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!qj.test(n))return!1;if(Hj.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const Kj=new jc(3e4,6e4);function dA(){const t=hr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Xj(t){return new Promise((e,n)=>{function r(){dA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dA(),n(cr(t,"network-request-failed"))},timeout:Kj.get()})}if(hr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(hr().gapi?.load)r();else{const a=FU("iframefcb");return hr()[a]=()=>{gapi.load?r():n(cr(t,"network-request-failed"))},qx(`${BU()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Xf=null,e})}let Xf=null;function $j(t){return Xf=Xf||Xj(t),Xf}const Qj=new jc(5e3,15e3),Wj="__/auth/iframe",Zj="emulator/auth/iframe",Jj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},e9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t9(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?w0(e,Zj):`https://${t.config.authDomain}/${Wj}`,r={apiKey:e.apiKey,appName:t.name,v:Rl},a=e9.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Mc(r).slice(1)}`}async function n9(t){const e=await $j(t),n=hr().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:t9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jj,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const u=cr(t,"network-request-failed"),h=hr().setTimeout(()=>{l(u)},Qj.get());function d(){hr().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{l(u)})}))}const i9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},r9=500,s9=600,a9="_blank",o9="http://localhost";class mA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function l9(t,e,n,r=r9,a=s9){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d={...i9,width:r.toString(),height:a.toString(),top:l,left:u},p=cn().toLowerCase();n&&(h=Lx(p)?a9:n),Ox(p)&&(e=e||o9,d.scrollbars="yes");const y=Object.entries(d).reduce((T,[S,x])=>`${T}${S}=${x},`,"");if(MU(p)&&h!=="_self")return u9(e||"",h),new mA(null);const v=window.open(e||"",h,y);Te(v,t,"popup-blocked");try{v.focus()}catch{}return new mA(v)}function u9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const c9="__/auth/handler",h9="emulator/auth/handler",f9=encodeURIComponent("fac");async function pA(t,e,n,r,a,l){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Rl,eventId:a};if(e instanceof Kx){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",V4(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof zc){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await t._getAppCheckToken(),p=d?`#${f9}=${encodeURIComponent(d)}`:"";return`${d9(t)}?${Mc(h).slice(1)}${p}`}function d9({config:t}){return t.emulator?w0(t,h9):`https://${t.authDomain}/${c9}`}const jg="webStorageSupport";class m9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=t2,this._completeRedirectFn=Uj,this._overrideRedirectResult=Oj}async _openPopup(e,n,r,a){Xr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await pA(e,n,r,Ly(),a);return l9(e,l,x0())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await pA(e,n,r,Ly(),a);return yj(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Xr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await n9(e),r=new zj(e);return n.register("authEvent",a=>(Te(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jg,{type:jg},a=>{const l=a?.[0]?.[jg];l!==void 0&&n(!!l),Ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Gj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Fx()||kx()||A0()}}const p9=m9;var gA="@firebase/auth",yA="1.11.1";class g9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function y9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function v9(t){fr(new Ii("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Te(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hx(t)},p=new UU(r,a,l,d);return XU(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fr(new Ii("auth-internal",e=>{const n=Pl(e.getProvider("auth").getImmediate());return(r=>new g9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),li(gA,yA,y9(t)),li(gA,yA,"esm2020")}const _9=300,T9=jC("authIdTokenMaxAge")||_9;let vA=null;const E9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>T9)return;const a=n?.token;vA!==a&&(vA=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function b9(t=Vv()){const e=io(t,"auth");if(e.isInitialized())return e.getImmediate();const n=KU(t,{popupRedirectResolver:p9,persistence:[Cj,Jx,t2]}),r=jC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=E9(l.toString());fj(n,u,()=>u(n.currentUser)),hj(n,h=>u(h))}}const a=LC("auth");return a&&$U(n,`http://${a}`),n}function w9(){return document.getElementsByTagName("head")?.[0]??document}jU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=cr("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",w9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});v9("Browser");const l2="@firebase/installations",D0="0.6.19";const u2=1e4,c2=`w:${D0}`,h2="FIS_v2",S9="https://firebaseinstallations.googleapis.com/v1",A9=3600*1e3,C9="installations",R9="Installations";const x9={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Za=new no(C9,R9,x9);function f2(t){return t instanceof Mi&&t.code.includes("request-failed")}function d2({projectId:t}){return`${S9}/projects/${t}/installations`}function m2(t){return{token:t.token,requestStatus:2,expiresIn:D9(t.expiresIn),creationTime:Date.now()}}async function p2(t,e){const r=(await e.json()).error;return Za.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function g2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function I9(t,{refreshToken:e}){const n=g2(t);return n.append("Authorization",N9(e)),n}async function y2(t){const e=await t();return e.status>=500&&e.status<600?t():e}function D9(t){return Number(t.replace("s","000"))}function N9(t){return`${h2} ${t}`}async function M9({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=d2(t),a=g2(t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={fid:n,authVersion:h2,appId:t.appId,sdkVersion:c2},h={method:"POST",headers:a,body:JSON.stringify(u)},d=await y2(()=>fetch(r,h));if(d.ok){const p=await d.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:m2(p.authToken)}}else throw await p2("Create Installation",d)}function v2(t){return new Promise(e=>{setTimeout(e,t)})}function P9(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const V9=/^[cdef][\w-]{21}$/,zy="";function O9(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=k9(t);return V9.test(n)?n:zy}catch{return zy}}function k9(t){return P9(t).substr(0,22)}function nm(t){return`${t.appName}!${t.appId}`}const _2=new Map;function T2(t,e){const n=nm(t);E2(n,e),L9(n,e)}function E2(t,e){const n=_2.get(t);if(n)for(const r of n)r(e)}function L9(t,e){const n=U9();n&&n.postMessage({key:t,fid:e}),j9()}let Ba=null;function U9(){return!Ba&&"BroadcastChannel"in self&&(Ba=new BroadcastChannel("[Firebase] FID Change"),Ba.onmessage=t=>{E2(t.data.key,t.data.fid)}),Ba}function j9(){_2.size===0&&Ba&&(Ba.close(),Ba=null)}const z9="firebase-installations-database",B9=1,Ja="firebase-installations-store";let zg=null;function N0(){return zg||(zg=KC(z9,B9,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ja)}}})),zg}async function bd(t,e){const n=nm(t),a=(await N0()).transaction(Ja,"readwrite"),l=a.objectStore(Ja),u=await l.get(n);return await l.put(e,n),await a.done,(!u||u.fid!==e.fid)&&T2(t,e.fid),e}async function b2(t){const e=nm(t),r=(await N0()).transaction(Ja,"readwrite");await r.objectStore(Ja).delete(e),await r.done}async function im(t,e){const n=nm(t),a=(await N0()).transaction(Ja,"readwrite"),l=a.objectStore(Ja),u=await l.get(n),h=e(u);return h===void 0?await l.delete(n):await l.put(h,n),await a.done,h&&(!u||u.fid!==h.fid)&&T2(t,h.fid),h}async function M0(t){let e;const n=await im(t.appConfig,r=>{const a=F9(r),l=H9(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===zy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function F9(t){const e=t||{fid:O9(),registrationStatus:0};return w2(e)}function H9(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Za.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=q9(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:G9(t)}:{installationEntry:e}}async function q9(t,e){try{const n=await M9(t,e);return bd(t.appConfig,n)}catch(n){throw f2(n)&&n.customData.serverCode===409?await b2(t.appConfig):await bd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function G9(t){let e=await _A(t.appConfig);for(;e.registrationStatus===1;)await v2(100),e=await _A(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await M0(t);return r||n}return e}function _A(t){return im(t,e=>{if(!e)throw Za.create("installation-not-found");return w2(e)})}function w2(t){return Y9(t)?{fid:t.fid,registrationStatus:0}:t}function Y9(t){return t.registrationStatus===1&&t.registrationTime+u2<Date.now()}async function K9({appConfig:t,heartbeatServiceProvider:e},n){const r=X9(t,n),a=I9(t,n),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={installation:{sdkVersion:c2,appId:t.appId}},h={method:"POST",headers:a,body:JSON.stringify(u)},d=await y2(()=>fetch(r,h));if(d.ok){const p=await d.json();return m2(p)}else throw await p2("Generate Auth Token",d)}function X9(t,{fid:e}){return`${d2(t)}/${e}/authTokens:generate`}async function P0(t,e=!1){let n;const r=await im(t.appConfig,l=>{if(!S2(l))throw Za.create("not-registered");const u=l.authToken;if(!e&&W9(u))return l;if(u.requestStatus===1)return n=$9(t,e),l;{if(!navigator.onLine)throw Za.create("app-offline");const h=J9(l);return n=Q9(t,h),h}});return n?await n:r.authToken}async function $9(t,e){let n=await TA(t.appConfig);for(;n.authToken.requestStatus===1;)await v2(100),n=await TA(t.appConfig);const r=n.authToken;return r.requestStatus===0?P0(t,e):r}function TA(t){return im(t,e=>{if(!S2(e))throw Za.create("not-registered");const n=e.authToken;return ez(n)?{...e,authToken:{requestStatus:0}}:e})}async function Q9(t,e){try{const n=await K9(t,e),r={...e,authToken:n};return await bd(t.appConfig,r),n}catch(n){if(f2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await b2(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await bd(t.appConfig,r)}throw n}}function S2(t){return t!==void 0&&t.registrationStatus===2}function W9(t){return t.requestStatus===2&&!Z9(t)}function Z9(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+A9}function J9(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function ez(t){return t.requestStatus===1&&t.requestTime+u2<Date.now()}async function tz(t){const e=t,{installationEntry:n,registrationPromise:r}=await M0(e);return r?r.catch(console.error):P0(e).catch(console.error),n.fid}async function nz(t,e=!1){const n=t;return await iz(n),(await P0(n,e)).token}async function iz(t){const{registrationPromise:e}=await M0(t);e&&await e}function rz(t){if(!t||!t.options)throw Bg("App Configuration");if(!t.name)throw Bg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Bg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Bg(t){return Za.create("missing-app-config-values",{valueName:t})}const A2="installations",sz="installations-internal",az=t=>{const e=t.getProvider("app").getImmediate(),n=rz(e),r=io(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},oz=t=>{const e=t.getProvider("app").getImmediate(),n=io(e,A2).getImmediate();return{getId:()=>tz(n),getToken:a=>nz(n,a)}};function lz(){fr(new Ii(A2,az,"PUBLIC")),fr(new Ii(sz,oz,"PRIVATE"))}lz();li(l2,D0);li(l2,D0,"esm2020");const wd="analytics",uz="firebase_id",cz="origin",hz=60*1e3,fz="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",V0="https://www.googletagmanager.com/gtag/js";const yn=new Md("@firebase/analytics");const dz={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},zn=new no("analytics","Analytics",dz);function mz(t){if(!t.startsWith(V0)){const e=zn.create("invalid-gtag-resource",{gtagURL:t});return yn.warn(e.message),""}return t}function C2(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function pz(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function gz(t,e){const n=pz("firebase-js-sdk-policy",{createScriptURL:mz}),r=document.createElement("script"),a=`${V0}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function yz(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function vz(t,e,n,r,a,l){const u=r[a];try{if(u)await e[u];else{const d=(await C2(n)).find(p=>p.measurementId===a);d&&await e[d.appId]}}catch(h){yn.error(h)}t("config",a,l)}async function _z(t,e,n,r,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const h=await C2(n);for(const d of u){const p=h.find(v=>v.measurementId===d),y=p&&e[p.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",r,a||{})}catch(l){yn.error(l)}}function Tz(t,e,n,r){async function a(l,...u){try{if(l==="event"){const[h,d]=u;await _z(t,e,n,h,d)}else if(l==="config"){const[h,d]=u;await vz(t,e,n,r,h,d)}else if(l==="consent"){const[h,d]=u;t("consent",h,d)}else if(l==="get"){const[h,d,p]=u;t("get",h,d,p)}else if(l==="set"){const[h]=u;t("set",h)}else t(l,...u)}catch(h){yn.error(h)}}return a}function Ez(t,e,n,r,a){let l=function(...u){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=Tz(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function bz(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(V0)&&n.src.includes(t))return n;return null}const wz=30,Sz=1e3;class Az{constructor(e={},n=Sz){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const R2=new Az;function Cz(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Rz(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:Cz(n)},a=fz.replace("{app-id}",e),l=await fetch(a,r);if(l.status!==200&&l.status!==304){let u="";try{const h=await l.json();h.error?.message&&(u=h.error.message)}catch{}throw zn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function xz(t,e=R2,n){const{appId:r,apiKey:a,measurementId:l}=t.options;if(!r)throw zn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:r};throw zn.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new Nz;return setTimeout(async()=>{h.abort()},hz),x2({appId:r,apiKey:a,measurementId:l},u,h,e)}async function x2(t,{throttleEndTimeMillis:e,backoffCount:n},r,a=R2){const{appId:l,measurementId:u}=t;try{await Iz(r,e)}catch(h){if(u)return yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:l,measurementId:u};throw h}try{const h=await Rz(t);return a.deleteThrottleMetadata(l),h}catch(h){const d=h;if(!Dz(d)){if(a.deleteThrottleMetadata(l),u)return yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:u};throw h}const p=Number(d?.customData?.httpStatus)===503?Fw(n,a.intervalMillis,wz):Fw(n,a.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return a.setThrottleMetadata(l,y),yn.debug(`Calling attemptFetch again in ${p} millis`),x2(t,y,r,a)}}function Iz(t,e){return new Promise((n,r)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),r(zn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Dz(t){if(!(t instanceof Mi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Nz{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Mz(t,e,n,r,a){if(a&&a.global){t("event",n,r);return}else{const l=await e,u={...r,send_to:l};t("event",n,u)}}async function Pz(t,e,n,r){if(r&&r.global){const a={};for(const l of Object.keys(n))a[`user_properties.${l}`]=n[l];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}async function Vz(){if(HC())try{await qC()}catch(t){return yn.warn(zn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return yn.warn(zn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Oz(t,e,n,r,a,l,u){const h=xz(t);h.then(T=>{n[T.measurementId]=T.appId,t.options.measurementId&&T.measurementId!==t.options.measurementId&&yn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>yn.error(T)),e.push(h);const d=Vz().then(T=>{if(T)return r.getId()}),[p,y]=await Promise.all([h,d]);bz(l)||gz(l,p.measurementId),a("js",new Date);const v=u?.config??{};return v[cz]="firebase",v.update=!0,y!=null&&(v[uz]=y),a("config",p.measurementId,v),p.measurementId}class kz{constructor(e){this.app=e}_delete(){return delete fl[this.app.options.appId],Promise.resolve()}}let fl={},EA=[];const bA={};let Fg="dataLayer",Lz="gtag",wA,O0,SA=!1;function Uz(){const t=[];if(FC()&&t.push("This is a browser extension environment."),D4()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,a)=>`(${a+1}) ${r}`).join(" "),n=zn.create("invalid-analytics-context",{errorInfo:e});yn.warn(n.message)}}function jz(t,e,n){Uz();const r=t.options.appId;if(!r)throw zn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw zn.create("no-api-key");if(fl[r]!=null)throw zn.create("already-exists",{id:r});if(!SA){yz(Fg);const{wrappedGtag:l,gtagCore:u}=Ez(fl,EA,bA,Fg,Lz);O0=l,wA=u,SA=!0}return fl[r]=Oz(t,EA,bA,e,wA,Fg,n),new kz(t)}function zz(t=Vv()){t=Et(t);const e=io(t,wd);return e.isInitialized()?e.getImmediate():Bz(t)}function Bz(t,e={}){const n=io(t,wd);if(n.isInitialized()){const a=n.getImmediate();if(Gs(e,n.getOptions()))return a;throw zn.create("already-initialized")}return n.initialize({options:e})}function Fz(t,e,n){t=Et(t),Pz(O0,fl[t.app.options.appId],e,n).catch(r=>yn.error(r))}function Hz(t,e,n,r){t=Et(t),Mz(O0,fl[t.app.options.appId],e,n,r).catch(a=>yn.error(a))}const AA="@firebase/analytics",CA="0.10.19";function qz(){fr(new Ii(wd,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return jz(r,a,n)},"PUBLIC")),fr(new Ii("analytics-internal",t,"PRIVATE")),li(AA,CA),li(AA,CA,"esm2020");function t(e){try{const n=e.getProvider(wd).getImmediate();return{logEvent:(r,a,l)=>Hz(n,r,a,l),setUserProperties:(r,a)=>Fz(n,r,a)}}catch(n){throw zn.create("interop-component-reg-failed",{reason:n})}}}qz();const Gz={apiKey:"AIzaSyD-GIU-_XMDNkFNyYpBGfrcuAqypNCboxk",authDomain:"mit-mess-23f98.firebaseapp.com",projectId:"mit-mess-23f98",storageBucket:"mit-mess-23f98.firebasestorage.app",messagingSenderId:"286644195454",appId:"1:286644195454:web:97f456209765291e37082f",measurementId:"G-2TSYYR3ZYM"},k0=XC(Gz),ir=K5(k0),ac=b9(k0);zz(k0);const Yz=()=>{const[t,e]=L.useState(""),[n,r]=L.useState([]),[a,l]=L.useState(!0);L.useEffect(()=>{const d=hU(Ku(ir,"messes"),p=>{const y=p.docs.map(v=>({id:v.id,...v.data()}));r(y),l(!1)});return()=>d()},[]);const h=[...n.filter(d=>{const p=t.toLowerCase();return d.name.toLowerCase().includes(p)?!0:d.menu?Object.values(d.menu).some(y=>Object.values(y).some(v=>v&&v.toLowerCase().includes(p))):!1})].sort((d,p)=>{const y=localStorage.getItem("lastViewedMess");return y?d.id===y?-1:p.id===y?1:0:0});return A.jsxs("div",{className:"min-h-screen bg-gray-50 relative selection:bg-orange-200 selection:text-orange-900",children:[A.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[A.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),A.jsx("div",{className:"absolute top-0 -left-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"}),A.jsx("div",{className:"absolute -bottom-40 left-20 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-4000"})]}),A.jsx(Dd,{searchTerm:t,setSearchTerm:e}),A.jsxs("main",{className:"relative z-10 pt-20 pb-12 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto flex flex-col min-h-[calc(100vh-80px)]",children:[A.jsx("div",{className:"flex-grow",children:a?A.jsx("div",{className:"flex justify-center items-center h-64",children:A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):A.jsxs(pn.div,{layout:!0,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-8",children:[h.map(d=>A.jsx(c4,{mess:d},d.id)),h.length===0&&A.jsx("div",{className:"col-span-full text-center py-12",children:A.jsx("p",{className:"text-gray-500 text-lg",children:"No messes found matching your search."})})]})}),A.jsxs("footer",{className:"text-center py-8 mt-8 border-t border-gray-200/50",children:[A.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 tracking-tight mb-2",children:["What's on the ",A.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-red-600",children:"Menu?"})]}),A.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto px-4",children:"Daily menus for all hostel messes. Click a card for the full weekly schedule."})]})]})]})};var ai=function(t,e){return Number(t.toFixed(e))},Kz=function(t,e){return e},ft=function(t,e,n){n&&typeof n=="function"&&n(t,e)},Xz=function(t){return-Math.cos(t*Math.PI)/2+.5},$z=function(t){return t},Qz=function(t){return t*t},Wz=function(t){return t*(2-t)},Zz=function(t){return t<.5?2*t*t:-1+(4-2*t)*t},Jz=function(t){return t*t*t},eB=function(t){return--t*t*t+1},tB=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},nB=function(t){return t*t*t*t},iB=function(t){return 1- --t*t*t*t},rB=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},sB=function(t){return t*t*t*t*t},aB=function(t){return 1+--t*t*t*t*t},oB=function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},I2={easeOut:Xz,linear:$z,easeInQuad:Qz,easeOutQuad:Wz,easeInOutQuad:Zz,easeInCubic:Jz,easeOutCubic:eB,easeInOutCubic:tB,easeInQuart:nB,easeOutQuart:iB,easeInOutQuart:rB,easeInQuint:sB,easeOutQuint:aB,easeInOutQuint:oB},D2=function(t){typeof t=="number"&&cancelAnimationFrame(t)},Ci=function(t){t.mounted&&(D2(t.animation),t.animate=!1,t.animation=null,t.velocity=null)};function N2(t,e,n,r){if(t.mounted){var a=new Date().getTime(),l=1;Ci(t),t.animation=function(){if(!t.mounted)return D2(t.animation);var u=new Date().getTime()-a,h=u/n,d=I2[e],p=d(h);u>=n?(r(l),t.animation=null):t.animation&&(r(p),requestAnimationFrame(t.animation))},requestAnimationFrame(t.animation)}}function lB(t){var e=t.scale,n=t.positionX,r=t.positionY;return!(Number.isNaN(e)||Number.isNaN(n)||Number.isNaN(r))}function ia(t,e,n,r){var a=lB(e);if(!(!t.mounted||!a)){var l=t.setTransformState,u=t.transformState,h=u.scale,d=u.positionX,p=u.positionY,y=e.scale-h,v=e.positionX-d,T=e.positionY-p;n===0?l(e.scale,e.positionX,e.positionY):N2(t,r,n,function(S){var x=h+y*S,P=d+v*S,N=p+T*S;l(x,P,N)})}}function uB(t,e,n){var r=t.offsetWidth,a=t.offsetHeight,l=e.offsetWidth,u=e.offsetHeight,h=l*n,d=u*n,p=r-h,y=a-d;return{wrapperWidth:r,wrapperHeight:a,newContentWidth:h,newDiffWidth:p,newContentHeight:d,newDiffHeight:y}}var cB=function(t,e,n,r,a,l,u){var h=t>e?n*(u?1:.5):0,d=r>a?l*(u?1:.5):0,p=t-e-h,y=h,v=r-a-d,T=d;return{minPositionX:p,maxPositionX:y,minPositionY:v,maxPositionY:T}},L0=function(t,e){var n=t.wrapperComponent,r=t.contentComponent,a=t.setup.centerZoomedOut;if(!n||!r)throw new Error("Components are not mounted");var l=uB(n,r,e),u=l.wrapperWidth,h=l.wrapperHeight,d=l.newContentWidth,p=l.newDiffWidth,y=l.newContentHeight,v=l.newDiffHeight,T=cB(u,d,p,h,y,v,!!a);return T},By=function(t,e,n,r){return r?t<e?ai(e,2):t>n?ai(n,2):ai(t,2):ai(t,2)},Xa=function(t,e){var n=L0(t,e);return t.bounds=n,n};function Fc(t,e,n,r,a,l,u){var h=n.minPositionX,d=n.minPositionY,p=n.maxPositionX,y=n.maxPositionY,v=0,T=0;u&&(v=a,T=l);var S=By(t,h-v,p+v,r),x=By(e,d-T,y+T,r);return{x:S,y:x}}function rm(t,e,n,r,a,l){var u=t.transformState,h=u.scale,d=u.positionX,p=u.positionY,y=r-h;if(typeof e!="number"||typeof n!="number")return console.error("Mouse X and Y position were not provided!"),{x:d,y:p};var v=d-e*y,T=p-n*y,S=Fc(v,T,a,l,0,0,null);return S}function Hc(t,e,n,r,a){var l=a?r:0,u=e-l;return!Number.isNaN(n)&&t>=n?n:!Number.isNaN(e)&&t<=u?u:t}var RA=function(t,e){var n=t.setup.panning.excluded,r=t.isInitialized,a=t.wrapperComponent,l=e.target,u="shadowRoot"in l&&"composedPath"in e,h=u?e.composedPath().some(function(y){return y instanceof Element?a?.contains(y):!1}):a?.contains(l),d=r&&l&&h;if(!d)return!1;var p=sm(l,n);return!p},xA=function(t){var e=t.isInitialized,n=t.isPanning,r=t.setup,a=r.panning.disabled,l=e&&n&&!a;return!!l},hB=function(t,e){var n=t.transformState,r=n.positionX,a=n.positionY;t.isPanning=!0;var l=e.clientX,u=e.clientY;t.startCoords={x:l-r,y:u-a}},fB=function(t,e){var n=e.touches,r=t.transformState,a=r.positionX,l=r.positionY;t.isPanning=!0;var u=n.length===1;if(u){var h=n[0].clientX,d=n[0].clientY;t.startCoords={x:h-a,y:d-l}}};function dB(t){var e=t.transformState,n=e.positionX,r=e.positionY,a=e.scale,l=t.setup,u=l.disabled,h=l.limitToBounds,d=l.centerZoomedOut,p=t.wrapperComponent;if(!(u||!p||!t.bounds)){var y=t.bounds,v=y.maxPositionX,T=y.minPositionX,S=y.maxPositionY,x=y.minPositionY,P=n>v||n<T,N=r>S||r<x,j=n>v?p.offsetWidth:t.setup.minPositionX||0,B=r>S?p.offsetHeight:t.setup.minPositionY||0,F=rm(t,j,B,a,t.bounds,h||d),se=F.x,re=F.y;return{scale:a,positionX:P?se:n,positionY:N?re:r}}}function M2(t,e,n,r,a){var l=t.setup.limitToBounds,u=t.wrapperComponent,h=t.bounds,d=t.transformState,p=d.scale,y=d.positionX,v=d.positionY;if(!(u===null||h===null||e===y&&n===v)){var T=Fc(e,n,h,l,r,a,u),S=T.x,x=T.y;t.setTransformState(p,S,x)}}var mB=function(t,e,n){var r=t.startCoords,a=t.transformState,l=t.setup.panning,u=l.lockAxisX,h=l.lockAxisY,d=a.positionX,p=a.positionY;if(!r)return{x:d,y:p};var y=e-r.x,v=n-r.y,T=u?d:y,S=h?p:v;return{x:T,y:S}},Zs=function(t,e){var n=t.setup,r=t.transformState,a=r.scale,l=n.minScale,u=n.disablePadding;return e>0&&a>=l&&!u?e:0},pB=function(t){var e=t.mounted,n=t.setup,r=n.disabled,a=n.velocityAnimation,l=t.transformState.scale,u=a.disabled,h=!u||l>1||!r||e;return!!h},gB=function(t){var e=t.mounted,n=t.velocity,r=t.bounds,a=t.setup,l=a.disabled,u=a.velocityAnimation,h=t.transformState.scale,d=u.disabled,p=!d||h>1||!l||e;return!(!p||!n||!r)};function yB(t,e){var n=t.setup.velocityAnimation,r=n.equalToMove,a=n.animationTime,l=n.sensitivity;return r?a*e*l:a}function IA(t,e,n,r,a,l,u,h,d,p){if(a){if(e>u&&n>u){var y=u+(t-u)*p;return y>d?d:y<u?u:y}if(e<l&&n<l){var y=l+(t-l)*p;return y<h?h:y>l?l:y}}return r?e:By(t,l,u,a)}function vB(t,e){var n=1;return e?Math.min(n,t.offsetWidth/window.innerWidth):n}function _B(t,e){var n=pB(t);if(n){var r=t.lastMousePosition,a=t.velocityTime,l=t.setup,u=t.wrapperComponent,h=l.velocityAnimation.equalToMove,d=Date.now();if(r&&a&&u){var p=vB(u,h),y=e.x-r.x,v=e.y-r.y,T=y/p,S=v/p,x=d-a,P=y*y+v*v,N=Math.sqrt(P)/x;t.velocity={velocityX:T,velocityY:S,total:N}}t.lastMousePosition=e,t.velocityTime=d}}function TB(t){var e=t.velocity,n=t.bounds,r=t.setup,a=t.wrapperComponent,l=gB(t);if(!(!l||!e||!n||!a)){var u=e.velocityX,h=e.velocityY,d=e.total,p=n.maxPositionX,y=n.minPositionX,v=n.maxPositionY,T=n.minPositionY,S=r.limitToBounds,x=r.alignmentAnimation,P=r.zoomAnimation,N=r.panning,j=N.lockAxisY,B=N.lockAxisX,F=P.animationType,se=x.sizeX,re=x.sizeY,le=x.velocityAlignmentTime,I=le,R=yB(t,d),D=Math.max(R,I),U=Zs(t,se),k=Zs(t,re),H=U*a.offsetWidth/100,V=k*a.offsetHeight/100,Fe=p+H,Xe=y-H,Z=v+V,ae=T-V,fe=t.transformState,we=new Date().getTime();N2(t,F,D,function(De){var M=t.transformState,$=M.scale,oe=M.positionX,ce=M.positionY,_e=new Date().getTime()-we,Se=_e/I,Me=I2[x.animationType],ut=1-Me(Math.min(1,Se)),$e=1-De,hi=oe+u*$e,Pi=ce+h*$e,fi=IA(hi,fe.positionX,oe,B,S,y,p,Xe,Fe,ut),Vi=IA(Pi,fe.positionY,ce,j,S,T,v,ae,Z,ut);(oe!==hi||ce!==Pi)&&t.setTransformState($,fi,Vi)})}}function DA(t,e){var n=t.transformState.scale;Ci(t),Xa(t,n),window.TouchEvent!==void 0&&e instanceof TouchEvent?fB(t,e):hB(t,e)}function U0(t,e){var n=t.transformState.scale,r=t.setup,a=r.minScale,l=r.alignmentAnimation,u=l.disabled,h=l.sizeX,d=l.sizeY,p=l.animationTime,y=l.animationType,v=u||n<a||!h&&!d;if(!v){var T=dB(t);T&&ia(t,T,e??p,y)}}function NA(t,e,n){var r=t.startCoords,a=t.setup,l=a.alignmentAnimation,u=l.sizeX,h=l.sizeY;if(r){var d=mB(t,e,n),p=d.x,y=d.y,v=Zs(t,u),T=Zs(t,h);_B(t,{x:p,y}),M2(t,p,y,v,T)}}function EB(t){if(t.isPanning){var e=t.setup.panning.velocityDisabled,n=t.velocity,r=t.wrapperComponent,a=t.contentComponent;t.isPanning=!1,t.animate=!1,t.animation=null;var l=r?.getBoundingClientRect(),u=a?.getBoundingClientRect(),h=l?.width||0,d=l?.height||0,p=u?.width||0,y=u?.height||0,v=h<p||d<y,T=!e&&n&&n?.total>.1&&v;T?TB(t):U0(t)}}function j0(t,e,n,r){var a=t.setup,l=a.minScale,u=a.maxScale,h=a.limitToBounds,d=Hc(ai(e,2),l,u,0,!1),p=Xa(t,d),y=rm(t,n,r,d,p,h),v=y.x,T=y.y;return{scale:d,positionX:v,positionY:T}}function P2(t,e,n){var r=t.transformState.scale,a=t.wrapperComponent,l=t.setup,u=l.minScale,h=l.limitToBounds,d=l.zoomAnimation,p=d.disabled,y=d.animationTime,v=d.animationType,T=p||r>=u;if((r>=1||h)&&U0(t),!(T||!a||!t.mounted)){var S=e||a.offsetWidth/2,x=n||a.offsetHeight/2,P=j0(t,u,S,x);P&&ia(t,P,y,v)}}var Fs=function(){return Fs=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Fs.apply(this,arguments)};function MA(t,e,n){for(var r=0,a=e.length,l;r<a;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return t.concat(l||Array.prototype.slice.call(e))}var Nf={scale:1,positionX:0,positionY:0},zu={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},Fy={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},V2=function(t){var e,n,r,a;return{previousScale:(e=t.initialScale)!==null&&e!==void 0?e:Nf.scale,scale:(n=t.initialScale)!==null&&n!==void 0?n:Nf.scale,positionX:(r=t.initialPositionX)!==null&&r!==void 0?r:Nf.positionX,positionY:(a=t.initialPositionY)!==null&&a!==void 0?a:Nf.positionY}},PA=function(t){var e=Fs({},zu);return Object.keys(t).forEach(function(n){var r=typeof t[n]<"u",a=typeof zu[n]<"u";if(a&&r){var l=Object.prototype.toString.call(zu[n]),u=l==="[object Object]",h=l==="[object Array]";u?e[n]=Fs(Fs({},zu[n]),t[n]):h?e[n]=MA(MA([],zu[n],!0),t[n]):e[n]=t[n]}}),e},O2=function(t,e,n){var r=t.transformState.scale,a=t.wrapperComponent,l=t.setup,u=l.maxScale,h=l.minScale,d=l.zoomAnimation,p=l.smooth,y=d.size;if(!a)throw new Error("Wrapper is not mounted");var v=p?r*Math.exp(e*n):r+e*n,T=Hc(ai(v,3),h,u,y,!1);return T};function k2(t,e,n,r,a){var l=t.wrapperComponent,u=t.transformState,h=u.scale,d=u.positionX,p=u.positionY;if(!l)return console.error("No WrapperComponent found");var y=l.offsetWidth,v=l.offsetHeight,T=(y/2-d)/h,S=(v/2-p)/h,x=O2(t,e,n),P=j0(t,x,T,S);if(!P)return console.error("Error during zoom event. New transformation state was not calculated.");ia(t,P,r,a)}function L2(t,e,n,r){var a=t.setup,l=t.wrapperComponent,u=a.limitToBounds,h=V2(t.props),d=t.transformState,p=d.scale,y=d.positionX,v=d.positionY;if(l){var T=L0(t,h.scale),S=Fc(h.positionX,h.positionY,T,u,0,0,l),x={scale:h.scale,positionX:S.x,positionY:S.y};p===h.scale&&y===h.positionX&&v===h.positionY||(r?.(),ia(t,x,e,n))}}function bB(t,e,n,r){var a=t.getBoundingClientRect(),l=e.getBoundingClientRect(),u=n.getBoundingClientRect(),h=l.x*r.scale,d=l.y*r.scale;return{x:(a.x-u.x+h)/r.scale,y:(a.y-u.y+d)/r.scale}}function wB(t,e,n){var r=t.wrapperComponent,a=t.contentComponent,l=t.transformState,u=t.setup,h=u.limitToBounds,d=u.minScale,p=u.maxScale;if(!r||!a)return l;var y=r.getBoundingClientRect(),v=e.getBoundingClientRect(),T=bB(e,r,a,l),S=T.x,x=T.y,P=v.width/l.scale,N=v.height/l.scale,j=r.offsetWidth/P,B=r.offsetHeight/N,F=Hc(n||Math.min(j,B),d,p,0,!1),se=(y.width-P*F)/2,re=(y.height-N*F)/2,le=(y.left-S)*F+se,I=(y.top-x)*F+re,R=L0(t,F),D=Fc(le,I,R,h,0,0,r),U=D.x,k=D.y;return{positionX:U,positionY:k,scale:F}}var SB=function(t){return function(e,n,r){e===void 0&&(e=.5),n===void 0&&(n=300),r===void 0&&(r="easeOut"),k2(t,1,e,n,r)}},AB=function(t){return function(e,n,r){e===void 0&&(e=.5),n===void 0&&(n=300),r===void 0&&(r="easeOut"),k2(t,-1,e,n,r)}},CB=function(t){return function(e,n,r,a,l){a===void 0&&(a=300),l===void 0&&(l="easeOut");var u=t.transformState,h=u.positionX,d=u.positionY,p=u.scale,y=t.wrapperComponent,v=t.contentComponent,T=t.setup.disabled;if(!(T||!y||!v)){var S={positionX:Number.isNaN(e)?h:e,positionY:Number.isNaN(n)?d:n,scale:Number.isNaN(r)?p:r};ia(t,S,a,l)}}},RB=function(t){return function(e,n){e===void 0&&(e=200),n===void 0&&(n="easeOut"),L2(t,e,n)}},xB=function(t){return function(e,n,r){n===void 0&&(n=200),r===void 0&&(r="easeOut");var a=t.transformState,l=t.wrapperComponent,u=t.contentComponent;if(l&&u){var h=U2(e||a.scale,l,u);ia(t,h,n,r)}}},IB=function(t){return function(e,n,r,a){r===void 0&&(r=600),a===void 0&&(a="easeOut"),Ci(t);var l=t.wrapperComponent,u=typeof e=="string"?document.getElementById(e):e;if(l&&u&&l.contains(u)){var h=wB(t,u,n);ia(t,h,r,a)}}},Hy=function(t){return{instance:t,zoomIn:SB(t),zoomOut:AB(t),setTransform:CB(t),resetTransform:RB(t),centerView:xB(t),zoomToElement:IB(t)}},DB=function(t){return{instance:t,state:t.transformState}},rt=function(t){var e={};return Object.assign(e,DB(t)),Object.assign(e,Hy(t)),e},Hg=!1;function qg(){try{var t={get passive(){return Hg=!0,!1}};return t}catch{return Hg=!1,Hg}}var Mf=".".concat(Fy.wrapperClass),sm=function(t,e){return e.some(function(n){return t.matches("".concat(Mf," ").concat(n,", ").concat(Mf," .").concat(n,", ").concat(Mf," ").concat(n," *, ").concat(Mf," .").concat(n," *"))})},qy=function(t){t&&clearTimeout(t)},NB=function(t,e,n){return"translate(".concat(t,"px, ").concat(e,"px) scale(").concat(n,")")},U2=function(t,e,n){var r=n.offsetWidth*t,a=n.offsetHeight*t,l=(e.offsetWidth-r)/2,u=(e.offsetHeight-a)/2;return{scale:t,positionX:l,positionY:u}};function MB(t){return function(e){t.forEach(function(n){typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var PB=function(t,e){var n=t.setup.wheel,r=n.disabled,a=n.wheelDisabled,l=n.touchPadDisabled,u=n.excluded,h=t.isInitialized,d=t.isPanning,p=e.target,y=h&&!d&&!r&&p;if(!y||a&&!e.ctrlKey||l&&e.ctrlKey)return!1;var v=sm(p,u);return!v},VB=function(t){return t?t.deltaY<0?1:-1:0};function OB(t,e){var n=VB(t),r=Kz(e,n);return r}function j2(t,e,n){var r=e.getBoundingClientRect(),a=0,l=0;if("clientX"in t)a=(t.clientX-r.left)/n,l=(t.clientY-r.top)/n;else{var u=t.touches[0];a=(u.clientX-r.left)/n,l=(u.clientY-r.top)/n}return(Number.isNaN(a)||Number.isNaN(l))&&console.error("No mouse or touch offset found"),{x:a,y:l}}var kB=function(t,e,n,r,a){var l=t.transformState.scale,u=t.wrapperComponent,h=t.setup,d=h.maxScale,p=h.minScale,y=h.zoomAnimation,v=h.disablePadding,T=y.size,S=y.disabled;if(!u)throw new Error("Wrapper is not mounted");var x=l+e*n,P=r?!1:!S,N=Hc(ai(x,3),p,d,T,P&&!v);return N},LB=function(t,e){var n=t.previousWheelEvent,r=t.transformState.scale,a=t.setup,l=a.maxScale,u=a.minScale;return n?r<l||r>u||Math.sign(n.deltaY)!==Math.sign(e.deltaY)||n.deltaY>0&&n.deltaY<e.deltaY||n.deltaY<0&&n.deltaY>e.deltaY||Math.sign(n.deltaY)!==Math.sign(e.deltaY):!1},UB=function(t,e){var n=t.setup.pinch,r=n.disabled,a=n.excluded,l=t.isInitialized,u=e.target,h=l&&!r&&u;if(!h)return!1;var d=sm(u,a);return!d},jB=function(t){var e=t.setup.pinch.disabled,n=t.isInitialized,r=t.pinchStartDistance,a=n&&!e&&r;return!!a},zB=function(t,e,n){var r=n.getBoundingClientRect(),a=t.touches,l=ai(a[0].clientX-r.left,5),u=ai(a[0].clientY-r.top,5),h=ai(a[1].clientX-r.left,5),d=ai(a[1].clientY-r.top,5);return{x:(l+h)/2/e,y:(u+d)/2/e}},z2=function(t){return Math.sqrt(Math.pow(t.touches[0].pageX-t.touches[1].pageX,2)+Math.pow(t.touches[0].pageY-t.touches[1].pageY,2))},BB=function(t,e){var n=t.pinchStartScale,r=t.pinchStartDistance,a=t.setup,l=a.maxScale,u=a.minScale,h=a.zoomAnimation,d=a.disablePadding,p=h.size,y=h.disabled;if(!n||r===null||!e)throw new Error("Pinch touches distance was not provided");if(e<0)return t.transformState.scale;var v=e/r,T=v*n;return Hc(ai(T,2),u,l,p,!y&&!d)},FB=160,HB=100,qB=function(t,e){var n=t.props,r=n.onWheelStart,a=n.onZoomStart;t.wheelStopEventTimer||(Ci(t),ft(rt(t),e,r),ft(rt(t),e,a))},GB=function(t,e){var n=t.props,r=n.onWheel,a=n.onZoom,l=t.contentComponent,u=t.setup,h=t.transformState,d=h.scale,p=u.limitToBounds,y=u.centerZoomedOut,v=u.zoomAnimation,T=u.wheel,S=u.disablePadding,x=u.smooth,P=v.size,N=v.disabled,j=T.step,B=T.smoothStep;if(!l)throw new Error("Component not mounted");e.preventDefault(),e.stopPropagation();var F=OB(e,null),se=x?B*Math.abs(e.deltaY):j,re=kB(t,F,se,!e.ctrlKey);if(d!==re){var le=Xa(t,re),I=j2(e,l,d),R=N||P===0||y||S,D=p&&R,U=rm(t,I.x,I.y,re,le,D),k=U.x,H=U.y;t.previousWheelEvent=e,t.setTransformState(re,k,H),ft(rt(t),e,r),ft(rt(t),e,a)}},YB=function(t,e){var n=t.props,r=n.onWheelStop,a=n.onZoomStop;qy(t.wheelAnimationTimer),t.wheelAnimationTimer=setTimeout(function(){t.mounted&&(P2(t,e.x,e.y),t.wheelAnimationTimer=null)},HB);var l=LB(t,e);l&&(qy(t.wheelStopEventTimer),t.wheelStopEventTimer=setTimeout(function(){t.mounted&&(t.wheelStopEventTimer=null,ft(rt(t),e,r),ft(rt(t),e,a))},FB))},B2=function(t){for(var e=0,n=0,r=0;r<2;r+=1)e+=t.touches[r].clientX,n+=t.touches[r].clientY;var a=e/2,l=n/2;return{x:a,y:l}},KB=function(t,e){var n=z2(e);t.pinchStartDistance=n,t.lastDistance=n,t.pinchStartScale=t.transformState.scale,t.isPanning=!1;var r=B2(e);t.pinchLastCenterX=r.x,t.pinchLastCenterY=r.y,Ci(t)},XB=function(t,e){var n=t.contentComponent,r=t.pinchStartDistance,a=t.wrapperComponent,l=t.transformState.scale,u=t.setup,h=u.limitToBounds,d=u.centerZoomedOut,p=u.zoomAnimation,y=u.alignmentAnimation,v=p.disabled,T=p.size;if(!(r===null||!n)){var S=zB(e,l,n);if(!(!Number.isFinite(S.x)||!Number.isFinite(S.y))){var x=z2(e),P=BB(t,x),N=B2(e),j=N.x-(t.pinchLastCenterX||0),B=N.y-(t.pinchLastCenterY||0);if(!(P===l&&j===0&&B===0)){t.pinchLastCenterX=N.x,t.pinchLastCenterY=N.y;var F=Xa(t,P),se=v||T===0||d,re=h&&se,le=rm(t,S.x,S.y,P,F,re),I=le.x,R=le.y;t.pinchMidpoint=S,t.lastDistance=x;var D=y.sizeX,U=y.sizeY,k=Zs(t,D),H=Zs(t,U),V=I+j,Fe=R+B,Xe=Fc(V,Fe,F,h,k,H,a),Z=Xe.x,ae=Xe.y;t.setTransformState(P,Z,ae)}}}},$B=function(t){var e=t.pinchMidpoint;t.velocity=null,t.lastDistance=null,t.pinchMidpoint=null,t.pinchStartScale=null,t.pinchStartDistance=null,P2(t,e?.x,e?.y)},F2=function(t,e){var n=t.props.onZoomStop,r=t.setup.doubleClick.animationTime;qy(t.doubleClickStopEventTimer),t.doubleClickStopEventTimer=setTimeout(function(){t.doubleClickStopEventTimer=null,ft(rt(t),e,n)},r)},QB=function(t,e){var n=t.props,r=n.onZoomStart,a=n.onZoom,l=t.setup.doubleClick,u=l.animationTime,h=l.animationType;ft(rt(t),e,r),L2(t,u,h,function(){return ft(rt(t),e,a)}),F2(t,e)};function WB(t,e){return t==="toggle"?e===1?1:-1:t==="zoomOut"?-1:1}function ZB(t,e){var n=t.setup,r=t.doubleClickStopEventTimer,a=t.transformState,l=t.contentComponent,u=a.scale,h=t.props,d=h.onZoomStart,p=h.onZoom,y=n.doubleClick,v=y.disabled,T=y.mode,S=y.step,x=y.animationTime,P=y.animationType;if(!v&&!r){if(T==="reset")return QB(t,e);if(!l)return console.error("No ContentComponent found");var N=WB(T,t.transformState.scale),j=O2(t,N,S);if(u!==j){ft(rt(t),e,d);var B=j2(e,l,u),F=j0(t,j,B.x,B.y);if(!F)return console.error("Error during zoom event. New transformation state was not calculated.");ft(rt(t),e,p),ia(t,F,x,P),F2(t,e)}}}var JB=function(t,e){var n=t.isInitialized,r=t.setup,a=t.wrapperComponent,l=r.doubleClick,u=l.disabled,h=l.excluded,d=e.target,p=a?.contains(d),y=n&&d&&p&&!u;if(!y)return!1;var v=sm(d,h);return!v},e8=(function(){function t(e){var n=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){n.initializeWindowEvents()},this.unmount=function(){n.cleanupWindowEvents()},this.update=function(r){n.props=r,Xa(n,n.transformState.scale),n.setup=PA(r)},this.initializeWindowEvents=function(){var r,a,l=qg(),u=(r=n.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,h=u?.defaultView;(a=n.wrapperComponent)===null||a===void 0||a.addEventListener("wheel",n.onWheelPanning,l),h?.addEventListener("mousedown",n.onPanningStart,l),h?.addEventListener("mousemove",n.onPanning,l),h?.addEventListener("mouseup",n.onPanningStop,l),u?.addEventListener("mouseleave",n.clearPanning,l),h?.addEventListener("keyup",n.setKeyUnPressed,l),h?.addEventListener("keydown",n.setKeyPressed,l)},this.cleanupWindowEvents=function(){var r,a,l=qg(),u=(r=n.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,h=u?.defaultView;h?.removeEventListener("mousedown",n.onPanningStart,l),h?.removeEventListener("mousemove",n.onPanning,l),h?.removeEventListener("mouseup",n.onPanningStop,l),u?.removeEventListener("mouseleave",n.clearPanning,l),h?.removeEventListener("keyup",n.setKeyUnPressed,l),h?.removeEventListener("keydown",n.setKeyPressed,l),document.removeEventListener("mouseleave",n.clearPanning,l),Ci(n),(a=n.observer)===null||a===void 0||a.disconnect()},this.handleInitializeWrapperEvents=function(r){var a=qg();r.addEventListener("wheel",n.onWheelZoom,a),r.addEventListener("dblclick",n.onDoubleClick,a),r.addEventListener("touchstart",n.onTouchPanningStart,a),r.addEventListener("touchmove",n.onTouchPanning,a),r.addEventListener("touchend",n.onTouchPanningStop,a)},this.handleInitialize=function(r,a){var l=!1,u=n.setup.centerOnInit,h=function(d,p){for(var y=0,v=d;y<v.length;y++){var T=v[y];if(T.target===p)return!0}return!1};n.applyTransformation(),n.onInitCallbacks.forEach(function(d){d(rt(n))}),n.observer=new ResizeObserver(function(d){if(h(d,r)||h(d,a))if(u&&!l){var p=a.offsetWidth,y=a.offsetHeight;(p>0||y>0)&&(l=!0,n.setCenter())}else Ci(n),Xa(n,n.transformState.scale),U0(n,0)}),n.observer.observe(r),n.observer.observe(a)},this.onWheelZoom=function(r){var a=n.setup.disabled;if(!a){var l=PB(n,r);if(l){var u=n.isPressingKeys(n.setup.wheel.activationKeys);u&&(qB(n,r),GB(n,r),YB(n,r))}}},this.onWheelPanning=function(r){var a=n.setup,l=a.disabled,u=a.wheel,h=a.panning;if(!(!n.wrapperComponent||!n.contentComponent||l||!u.wheelDisabled||h.disabled||!h.wheelPanning||r.ctrlKey)){r.preventDefault(),r.stopPropagation();var d=n.transformState,p=d.positionX,y=d.positionY,v=p-r.deltaX,T=y-r.deltaY,S=h.lockAxisX?p:v,x=h.lockAxisY?y:T,P=n.setup.alignmentAnimation,N=P.sizeX,j=P.sizeY,B=Zs(n,N),F=Zs(n,j);S===p&&x===y||M2(n,S,x,B,F)}},this.onPanningStart=function(r){var a=n.setup.disabled,l=n.props.onPanningStart;if(!a){var u=RA(n,r);if(u){var h=n.isPressingKeys(n.setup.panning.activationKeys);h&&(r.button===0&&!n.setup.panning.allowLeftClickPan||r.button===1&&!n.setup.panning.allowMiddleClickPan||r.button===2&&!n.setup.panning.allowRightClickPan||(r.preventDefault(),r.stopPropagation(),Ci(n),DA(n,r),ft(rt(n),r,l)))}}},this.onPanning=function(r){var a=n.setup.disabled,l=n.props.onPanning;if(!a){var u=xA(n);if(u){var h=n.isPressingKeys(n.setup.panning.activationKeys);h&&(r.preventDefault(),r.stopPropagation(),NA(n,r.clientX,r.clientY),ft(rt(n),r,l))}}},this.onPanningStop=function(r){var a=n.props.onPanningStop;n.isPanning&&(EB(n),ft(rt(n),r,a))},this.onPinchStart=function(r){var a=n.setup.disabled,l=n.props,u=l.onPinchingStart,h=l.onZoomStart;if(!a){var d=UB(n,r);d&&(KB(n,r),Ci(n),ft(rt(n),r,u),ft(rt(n),r,h))}},this.onPinch=function(r){var a=n.setup.disabled,l=n.props,u=l.onPinching,h=l.onZoom;if(!a){var d=jB(n);d&&(r.preventDefault(),r.stopPropagation(),XB(n,r),ft(rt(n),r,u),ft(rt(n),r,h))}},this.onPinchStop=function(r){var a=n.props,l=a.onPinchingStop,u=a.onZoomStop;n.pinchStartScale&&($B(n),ft(rt(n),r,l),ft(rt(n),r,u))},this.onTouchPanningStart=function(r){var a=n.setup.disabled,l=n.props.onPanningStart;if(!a){var u=RA(n,r);if(u){var h=n.lastTouch&&+new Date-n.lastTouch<200&&r.touches.length===1;if(!h){n.lastTouch=+new Date,Ci(n);var d=r.touches,p=d.length===1,y=d.length===2;p&&(Ci(n),DA(n,r),ft(rt(n),r,l)),y&&n.onPinchStart(r)}}}},this.onTouchPanning=function(r){var a=n.setup.disabled,l=n.props.onPanning;if(n.isPanning&&r.touches.length===1){if(a)return;var u=xA(n);if(!u)return;r.preventDefault(),r.stopPropagation();var h=r.touches[0];NA(n,h.clientX,h.clientY),ft(rt(n),r,l)}else r.touches.length>1&&n.onPinch(r)},this.onTouchPanningStop=function(r){n.onPanningStop(r),n.onPinchStop(r)},this.onDoubleClick=function(r){var a=n.setup.disabled;if(!a){var l=JB(n,r);l&&ZB(n,r)}},this.clearPanning=function(r){n.isPanning&&n.onPanningStop(r)},this.setKeyPressed=function(r){n.pressedKeys[r.key]=!0},this.setKeyUnPressed=function(r){n.pressedKeys[r.key]=!1},this.isPressingKeys=function(r){return r.length?!!r.find(function(a){return n.pressedKeys[a]}):!0},this.setTransformState=function(r,a,l){var u=n.props.onTransformed;if(!Number.isNaN(r)&&!Number.isNaN(a)&&!Number.isNaN(l)){r!==n.transformState.scale&&(n.transformState.previousScale=n.transformState.scale,n.transformState.scale=r),n.transformState.positionX=a,n.transformState.positionY=l,n.applyTransformation();var h=rt(n);n.onChangeCallbacks.forEach(function(d){return d(h)}),ft(h,{scale:r,positionX:a,positionY:l},u)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(n.wrapperComponent&&n.contentComponent){var r=U2(n.transformState.scale,n.wrapperComponent,n.contentComponent);n.setTransformState(r.scale,r.positionX,r.positionY)}},this.handleTransformStyles=function(r,a,l){return n.props.customTransform?n.props.customTransform(r,a,l):NB(r,a,l)},this.applyTransformation=function(){if(!(!n.mounted||!n.contentComponent)){var r=n.transformState,a=r.scale,l=r.positionX,u=r.positionY,h=n.handleTransformStyles(l,u,a);n.contentComponent.style.transform=h}},this.getContext=function(){return rt(n)},this.onChange=function(r){return n.onChangeCallbacks.has(r)||n.onChangeCallbacks.add(r),function(){n.onChangeCallbacks.delete(r)}},this.onInit=function(r){return n.onInitCallbacks.has(r)||n.onInitCallbacks.add(r),function(){n.onInitCallbacks.delete(r)}},this.init=function(r,a){n.cleanupWindowEvents(),n.wrapperComponent=r,n.contentComponent=a,Xa(n,n.transformState.scale),n.handleInitializeWrapperEvents(r),n.handleInitialize(r,a),n.initializeWindowEvents(),n.isInitialized=!0;var l=rt(n);ft(l,void 0,n.props.onInit)},this.props=e,this.setup=PA(this.props),this.transformState=V2(this.props)}return t})(),z0=ri.createContext(null),t8=function(t,e){return typeof t=="function"?t(e):t},n8=ri.forwardRef(function(t,e){var n=L.useRef(new e8(t)).current,r=t8(t.children,Hy(n));return L.useImperativeHandle(e,function(){return Hy(n)},[n]),L.useEffect(function(){n.update(t)},[n,t]),ri.createElement(z0.Provider,{value:n},r)});ri.forwardRef(function(t,e){var n=L.useRef(null),r=L.useContext(z0);return L.useEffect(function(){return r.onChange(function(a){if(n.current){var l=0,u=0;n.current.style.transform=r.handleTransformStyles(l,u,1/a.instance.transformState.scale)}})},[r]),ri.createElement("div",Fs({},t,{ref:MB([n,e])}))});function i8(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",n==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}}var r8=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,VA={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};i8(r8);var s8=function(t){var e=t.children,n=t.wrapperClass,r=n===void 0?"":n,a=t.contentClass,l=a===void 0?"":a,u=t.wrapperStyle,h=t.contentStyle,d=t.wrapperProps,p=d===void 0?{}:d,y=t.contentProps,v=y===void 0?{}:y,T=L.useContext(z0),S=T.init,x=T.cleanupWindowEvents,P=L.useRef(null),N=L.useRef(null);return L.useEffect(function(){var j=P.current,B=N.current;return j!==null&&B!==null&&S&&S?.(j,B),function(){x?.()}},[]),ri.createElement("div",Fs({},p,{ref:P,className:"".concat(Fy.wrapperClass," ").concat(VA.wrapper," ").concat(r),style:u}),ri.createElement("div",Fs({},v,{ref:N,className:"".concat(Fy.contentClass," ").concat(VA.content," ").concat(l),style:h}),e))};const a8=()=>{const{id:t}=aN(),[e,n]=L.useState(null),[r,a]=L.useState(!0),l=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],u=ri.useRef(null),[h,d]=ri.useState(window.innerWidth<768),[p,y]=ri.useState(!1);return L.useEffect(()=>{(async()=>{try{const T=ll(ir,"messes",t),S=await Ax(T);S.exists()&&n({id:S.id,...S.data()})}catch(T){console.error("Error fetching mess:",T)}finally{a(!1)}})()},[t]),ri.useEffect(()=>{const v=()=>d(window.innerWidth<768);return window.addEventListener("resize",v),t&&localStorage.setItem("lastViewedMess",t),()=>window.removeEventListener("resize",v)},[t]),r?A.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:A.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):e?A.jsxs("div",{className:"min-h-screen bg-gray-50 relative",children:[A.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[A.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),A.jsx("div",{className:"absolute top-0 -left-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"})]}),A.jsx(Dd,{}),A.jsxs("main",{className:"relative z-10 pt-20 pb-4 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto h-[calc(100vh-20px)] flex flex-col",children:[A.jsxs(Fa,{to:"/",className:"inline-flex items-center text-gray-600 hover:text-orange-600 mb-2 transition-colors text-sm",children:[A.jsx(aM,{size:16,className:"mr-1"}),"Back"]}),A.jsxs(pn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/60 backdrop-blur-xl rounded-2xl shadow-2xl overflow-hidden border border-white/50 flex flex-col flex-1 min-h-0",children:[A.jsx("div",{className:kr("px-4 py-2 md:px-6 md:py-3 bg-gradient-to-r text-white shrink-0",e.color),children:A.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-2 md:gap-0",children:[A.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:e.name}),A.jsxs("div",{className:"flex items-center gap-2 md:gap-3 w-full md:w-auto",children:[A.jsxs("button",{onClick:()=>u.current?.resetTransform(),className:"flex-1 md:flex-none justify-center px-3 py-1 bg-white/20 hover:bg-white/30 text-white rounded-full text-[10px] md:text-xs font-medium transition-colors backdrop-blur-sm border border-white/20 flex items-center gap-1 cursor-pointer",title:"Click to reset view",children:[A.jsx(Zy,{size:12}),"Weekly Menu"]}),A.jsxs("button",{onClick:()=>y(!0),className:"flex-1 md:flex-none justify-center px-3 py-1 bg-white/20 hover:bg-white/30 text-white rounded-full text-[10px] md:text-xs font-medium transition-colors backdrop-blur-sm border border-white/20 flex items-center gap-1",children:[A.jsx(Kg,{size:12}),"Today's Menu"]})]})]})}),A.jsx("div",{className:kr("flex-1 relative bg-gray-50/50",h?"overflow-hidden":"overflow-auto"),children:(()=>{const v=()=>{const N=new Date,j=N.getDay(),B=N.getDate()-j+(j===0?-6:1),F=new Date(N.setDate(B));return F.setHours(0,0,0,0),F},T=e.lastUpdated?new Date(e.lastUpdated):null,S=v(),x=!T||T<S,P=e.menu&&Object.keys(e.menu).some(N=>{const j=e.menu[N];return j?Object.values(j).some(B=>B&&B!=="N/A"&&B.trim()!==""):!1});return x||!P?A.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[A.jsx("div",{className:kr("text-3xl md:text-4xl font-bold mb-2 bg-clip-text text-transparent bg-gradient-to-r",e.color),children:"Menu Not Uploaded"}),A.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Check back later for this week's menu"})]}):h?A.jsx(n8,{ref:u,initialScale:1,minScale:.5,maxScale:3,centerOnInit:!1,wheel:{step:.1},limitToBounds:!1,children:A.jsx(s8,{wrapperClass:"!w-full !h-full",contentClass:"!w-full",children:A.jsx(OA,{days:l,mess:e})})}):A.jsx(OA,{days:l,mess:e})})()})]})]}),A.jsx(Ga,{children:p&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>y(!1),children:A.jsxs(pn.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},onClick:v=>v.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[A.jsxs("div",{className:kr("p-4 bg-gradient-to-r text-white flex justify-between items-center",e.color),children:[A.jsxs("h3",{className:"text-lg font-bold",children:["Today's Menu (",new Date().toLocaleDateString("en-US",{weekday:"long"}),")"]}),A.jsx("button",{onClick:()=>y(!1),className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:A.jsx(lc,{size:20})})]}),A.jsx("div",{className:"p-6 space-y-4",children:(()=>{const v=()=>{const B=new Date,F=B.getDay(),se=B.getDate()-F+(F===0?-6:1),re=new Date(B.setDate(se));return re.setHours(0,0,0,0),re},T=e.lastUpdated?new Date(e.lastUpdated):null,S=v(),x=!T||T<S,P=e.menu&&Object.keys(e.menu).some(B=>{const F=e.menu[B];return F?Object.values(F).some(se=>se&&se!=="N/A"&&se.trim()!==""):!1});if(x||!P)return A.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[A.jsx("div",{className:"text-xl font-bold text-gray-400 mb-2",children:"Menu Not Uploaded"}),A.jsx("p",{className:"text-sm text-gray-400",children:"Check back later"})]});const N=new Date().toLocaleDateString("en-US",{weekday:"long"}),j=e.menu[N]||e.menu.Monday;return A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"p-3 rounded-xl bg-orange-50 border border-orange-100",children:[A.jsx("h4",{className:"text-xs font-bold text-orange-600 uppercase tracking-wider mb-1",children:"Breakfast"}),A.jsx("p",{className:"text-gray-800 text-sm",children:ks(j.Breakfast)})]}),A.jsxs("div",{className:"p-3 rounded-xl bg-green-50 border border-green-100",children:[A.jsx("h4",{className:"text-xs font-bold text-green-600 uppercase tracking-wider mb-1",children:"Lunch"}),A.jsx("p",{className:"text-gray-800 text-sm",children:ks(j.Lunch)})]}),A.jsxs("div",{className:"p-3 rounded-xl bg-yellow-50 border border-yellow-100",children:[A.jsx("h4",{className:"text-xs font-bold text-yellow-600 uppercase tracking-wider mb-1",children:"Snacks"}),A.jsx("p",{className:"text-gray-800 text-sm",children:ks(j.Snacks)})]}),A.jsxs("div",{className:"p-3 rounded-xl bg-blue-50 border border-blue-100",children:[A.jsx("h4",{className:"text-xs font-bold text-blue-600 uppercase tracking-wider mb-1",children:"Dinner"}),A.jsx("p",{className:"text-gray-800 text-sm",children:ks(j.Dinner)})]})]})})()})]})})})]}):A.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Mess not found"})},ks=t=>t?t.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"",OA=({days:t,mess:e})=>A.jsxs("table",{className:"w-full text-left border-collapse min-w-[600px] bg-white origin-top-left h-full",children:[A.jsx("thead",{className:"bg-white/95 backdrop-blur-sm shadow-sm sticky top-0 z-10",children:A.jsxs("tr",{className:"border-b border-gray-200",children:[A.jsx("th",{className:"py-2 px-3 font-bold text-gray-500 uppercase tracking-wider text-[10px]",children:"Day"}),A.jsx("th",{className:"py-2 px-3 font-bold text-orange-600 uppercase tracking-wider text-[10px]",children:"Breakfast"}),A.jsx("th",{className:"py-2 px-3 font-bold text-green-600 uppercase tracking-wider text-[10px]",children:"Lunch"}),A.jsx("th",{className:"py-2 px-3 font-bold text-yellow-600 uppercase tracking-wider text-[10px]",children:"Snacks"}),A.jsx("th",{className:"py-2 px-3 font-bold text-blue-600 uppercase tracking-wider text-[10px]",children:"Dinner"})]})}),A.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(n=>A.jsxs("tr",{id:`row-${n}`,className:"hover:bg-gray-50 transition-colors group duration-300",children:[A.jsx("td",{className:"py-1.5 px-3 font-bold text-gray-800 text-[10px]",children:n}),A.jsx("td",{className:"py-1.5 px-3 text-gray-600 group-hover:text-gray-900 text-[10px] leading-tight",children:ks(e.menu[n]?.Breakfast)}),A.jsx("td",{className:"py-1.5 px-3 text-gray-600 group-hover:text-gray-900 text-[10px] leading-tight",children:ks(e.menu[n]?.Lunch)}),A.jsx("td",{className:"py-1.5 px-3 text-gray-600 group-hover:text-gray-900 text-[10px] leading-tight",children:ks(e.menu[n]?.Snacks)}),A.jsx("td",{className:"py-1.5 px-3 text-gray-600 group-hover:text-gray-900 text-[10px] leading-tight",children:ks(e.menu[n]?.Dinner)})]},n))})]}),o8=()=>{const[t,e]=L.useState("admin@mitmess.com"),[n,r]=L.useState(""),[a,l]=L.useState(""),[u,h]=L.useState(!0),d=Ky();L.useEffect(()=>{const v=Qx(ac,T=>{T?d("/admin/dashboard"):h(!1)});return()=>v()},[d]);const p=async v=>{v.preventDefault(),h(!0),l("");try{await cj(ac,Jx),await uj(ac,t,n)}catch(T){console.error("Login error:",T),l("Invalid password"),h(!1)}},y=v=>{window.innerWidth<768&&v.target===v.currentTarget&&d("/")};return A.jsxs("div",{className:"min-h-screen bg-gray-50 relative flex flex-col",children:[A.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[A.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),A.jsx("div",{className:"absolute top-0 -left-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"})]}),A.jsx(Dd,{}),A.jsx("div",{className:"flex-1 flex items-center justify-center relative z-10 px-4 cursor-pointer md:cursor-default",onClick:y,children:A.jsxs(pn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-xl p-8 rounded-2xl shadow-2xl w-full max-w-md border border-white/50 cursor-default",onClick:v=>v.stopPropagation(),children:[A.jsxs("div",{className:"text-center mb-8",children:[A.jsx("div",{className:"bg-orange-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:A.jsx(yM,{className:"text-orange-600",size:32})}),A.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Admin Login"}),A.jsx("p",{className:"text-gray-500 mt-2",children:"Enter your password to access the dashboard"})]}),A.jsxs("form",{onSubmit:p,className:"space-y-6",children:[A.jsxs("div",{children:[A.jsx("input",{type:"password",value:n,onChange:v=>r(v.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-all bg-white/50",placeholder:"Password",autoFocus:!0}),a&&A.jsx("p",{className:"text-red-500 text-sm mt-2 ml-1",children:a})]}),A.jsx("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-orange-600 to-red-600 text-white py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:u?A.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):A.jsxs(A.Fragment,{children:["Login ",A.jsx(e1,{size:20})]})})]})]})})]})},l8="modulepreload",u8=function(t,e){return new URL(t,e).href},kA={},c8=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let p=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};const u=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");a=p(n.map(y=>{if(y=u8(y,r),y in kA)return;kA[y]=!0;const v=y.endsWith(".css"),T=v?'[rel="stylesheet"]':"";if(r)for(let x=u.length-1;x>=0;x--){const P=u[x];if(P.href===y&&(!v||P.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${y}"]${T}`))return;const S=document.createElement("link");if(S.rel=v?"stylesheet":l8,v||(S.as="script"),S.crossOrigin="",S.href=y,d&&S.setAttribute("nonce",d),document.head.appendChild(S),v)return new Promise((x,P)=>{S.addEventListener("load",x),S.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},h8=()=>{const[t,e]=L.useState([]),[n,r]=L.useState(""),[a,l]=L.useState(!1),[u,h]=L.useState("idle"),[d,p]=L.useState(""),[y,v]=L.useState(null),[T,S]=L.useState(null),[x,P]=L.useState(!1),[N,j]=L.useState(""),[B,F]=L.useState("from-orange-500 to-red-500"),[se,re]=L.useState(!1),[le,I]=L.useState([]),[R,D]=L.useState(!1),U=Ky(),k=async(M,$,oe=null)=>{try{await ZS(Ku(ir,"audit_logs"),{timestamp:new Date().toISOString(),action:M,details:$,messId:oe,adminEmail:ac.currentUser?.email||"unknown"})}catch(ce){console.error("Failed to log action:",ce)}},H=async()=>{const $=(await WS(Ku(ir,"messes"))).docs.map(oe=>({id:oe.id,...oe.data()}));e($),T?r(T):$.length>0&&!n&&r($[0].id)},V=async M=>{if(M)try{const $=await Ax(ll(ir,"users",M.email));if($.exists()){const oe=$.data();v(oe.role),S(oe.messId),oe.role==="mess_admin"&&oe.messId&&r(oe.messId)}else console.warn("User not found in users collection, defaulting to restricted access."),v("mess_admin")}catch($){console.error("Error fetching user role:",$)}},Fe=async()=>{D(!0);try{const M=iU(Ku(ir,"audit_logs"),rU("timestamp","desc"),sU(50)),oe=(await WS(M)).docs.map(ce=>({id:ce.id,...ce.data()}));I(oe)}catch(M){console.error("Error fetching history:",M)}finally{D(!1)}};L.useEffect(()=>{const M=Qx(ac,async $=>{$?(await V($),H()):U("/admin")});return()=>M()},[U,T]);const Xe=M=>{M.preventDefault(),l(!0)},Z=()=>{l(!1)},ae=M=>{M.preventDefault(),l(!1);const $=M.dataTransfer.files;$.length>0&&De($[0])},fe=async M=>{if(M.preventDefault(),!!N)try{const $={Monday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Tuesday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Wednesday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Thursday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Friday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Saturday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Sunday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"}},oe=await ZS(Ku(ir,"messes"),{name:N,color:B,menu:$,lastUpdated:new Date().toISOString()});await k("CREATE_MESS",`Created mess: ${N}`,oe.id),j(""),P(!1),await H(),r(oe.id),alert("Mess added successfully!")}catch($){console.error("Error adding mess: ",$),alert("Failed to add mess.")}},we=async()=>{if(n&&window.confirm("Are you sure you want to delete this mess? This action cannot be undone."))try{const M=t.find($=>$.id===n)?.name||n;await cU(ll(ir,"messes",n)),await k("DELETE_MESS",`Deleted mess: ${M}`,n),await H(),t.length>1?r(t[0].id===n?t[1].id:t[0].id):r(""),alert("Mess deleted successfully.")}catch(M){console.error("Error deleting mess: ",M),alert("Failed to delete mess.")}},De=async M=>{h("uploading"),p("");try{const $=new FileReader;$.readAsDataURL(M),$.onload=async()=>{const oe=$.result.split(",")[1];h("processing");try{console.log("VERSION: GEMINI-2.0-FLASH-FINAL");const{GoogleGenerativeAI:ce}=await c8(async()=>{const{GoogleGenerativeAI:Bn}=await import("./index-eZp-A-GY.js");return{GoogleGenerativeAI:Bn}},[],import.meta.url),Se=new ce("AIzaSyBiZukqBjGS2nd2lyyVTCle02aHth6jrLQ").getGenerativeModel({model:"gemini-2.0-flash"}),Me=`
                    Extract the weekly menu from this image and return it as a strictly valid JSON object.
                    
                    CRITICAL INSTRUCTION: You must extract EVERY SINGLE DISH listed for each meal. 
                    - Do NOT summarize. 
                    - Do NOT truncate. 
                    - List all items separated by commas exactly as they appear in the image.
                    - If there are multiple items (e.g., "Rice, Dal, Curd"), include ALL of them.
                    - **IMPORTANT: Format all text in Sentence case (e.g., "Paneer butter masala", "Mix veg paratha"). Do NOT use ALL CAPS.**

                    The JSON structure must be exactly like this:
                    {
                        "Monday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Tuesday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Wednesday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Thursday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Friday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Saturday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Sunday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." }
                    }
                    If a meal is missing, use "N/A".
                    Do not include any markdown formatting (like \`\`\`json), just the raw JSON string.
                    `,ut=new Promise((Bn,sa)=>setTimeout(()=>sa(new Error("Request timed out (30s)")),3e4)),$e=Se.generateContent([Me,{inlineData:{data:oe,mimeType:M.type}}]),fi=(await(await Promise.race([$e,ut])).response).text();console.log("Gemini Response:",fi);const Vi=fi.replace(/```json/g,"").replace(/```/g,"").trim();let In;try{In=JSON.parse(Vi)}catch(Bn){throw console.error("JSON Parse Error:",Bn),new Error("AI returned invalid data. Try a clearer image.")}const ra=ll(ir,"messes",n);await uU(ra,{menu:In,lastUpdated:new Date().toISOString()});const gr=t.find(Bn=>Bn.id===n)?.name||n;await k("UPDATE_MENU",`Updated menu for ${gr}`,n),h("success")}catch(ce){console.error("Gemini/Firestore Error:",ce),h("error"),p(ce.message||"Unknown error occurred")}}}catch($){console.error("File Reading Error:",$),h("error"),p("Failed to read the file.")}};return A.jsxs("div",{className:"min-h-screen bg-gray-50 relative",children:[A.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[A.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),A.jsx("div",{className:"absolute top-0 -left-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"})]}),A.jsx(Dd,{}),A.jsx("main",{className:"relative z-10 pt-24 pb-12 px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto",children:A.jsxs(pn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/50 overflow-hidden",children:[A.jsxs("div",{className:"p-8 border-b border-gray-100 flex justify-between items-center",children:[A.jsxs("div",{children:[A.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Menu Dashboard"}),A.jsx("p",{className:"text-gray-500 mt-2",children:"Update weekly menus using AI-powered image recognition"})]}),y==="super_admin"&&A.jsx("button",{onClick:()=>{re(!0),Fe()},className:"p-2 text-gray-500 hover:text-orange-600 hover:bg-orange-50 rounded-full transition-all",title:"View History",children:A.jsx(Sb,{size:24})})]}),A.jsxs("div",{className:"p-8",children:[A.jsxs("div",{className:"mb-8 flex items-end gap-4",children:[A.jsxs("div",{className:"flex-1",children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Mess"}),A.jsx("select",{value:n,onChange:M=>r(M.target.value),disabled:y==="mess_admin",className:`w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none bg-white/50 ${y==="mess_admin"?"opacity-70 cursor-not-allowed":""}`,children:t.map(M=>A.jsx("option",{value:M.id,children:M.name},M.id))})]}),y==="super_admin"&&A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:()=>P(!0),className:"p-3 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",title:"Add New Mess",children:A.jsx(EM,{size:24})}),A.jsx("button",{onClick:we,className:"p-3 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",title:"Delete Selected Mess",children:A.jsx(CM,{size:24})})]})]}),A.jsxs(Ga,{mode:"wait",children:[u==="idle"&&A.jsxs(pn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`border-3 border-dashed rounded-2xl p-12 text-center transition-all duration-300 ${a?"border-orange-500 bg-orange-50":"border-gray-300 hover:border-orange-400 hover:bg-gray-50"}`,onDragOver:Xe,onDragLeave:Z,onDrop:ae,children:[A.jsx("div",{className:"bg-orange-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:A.jsx(Ab,{className:"text-orange-600",size:40})}),A.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Drag & Drop Menu Image"}),A.jsx("p",{className:"text-gray-500 mb-6",children:"or click to browse files"}),A.jsx("input",{type:"file",id:"file-upload",className:"hidden",onChange:M=>{M.target.files.length>0&&De(M.target.files[0])},accept:"image/*"}),A.jsx("label",{htmlFor:"file-upload",className:"px-6 py-2 bg-white border border-gray-200 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors shadow-sm cursor-pointer",children:"Browse Files"})]}),(u==="uploading"||u==="processing")&&A.jsxs(pn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0},className:"border rounded-2xl p-12 text-center bg-white/50",children:[A.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-6",children:[A.jsx("div",{className:"absolute inset-0 border-4 border-orange-100 rounded-full"}),A.jsx("div",{className:"absolute inset-0 border-4 border-orange-500 rounded-full border-t-transparent animate-spin"}),A.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u==="uploading"?A.jsx(Ab,{className:"text-orange-500 animate-pulse",size:32}):A.jsx(fM,{className:"text-orange-500 animate-pulse",size:32})})]}),A.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:u==="uploading"?"Uploading Image...":"AI Processing..."}),A.jsx("p",{className:"text-gray-500",children:u==="uploading"?"Sending to server":"Extracting menu items from image"})]}),u==="success"&&A.jsxs(pn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"border border-green-200 bg-green-50/50 rounded-2xl p-12 text-center",children:[A.jsx("div",{className:"bg-green-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:A.jsx(uM,{className:"text-green-600",size:40})}),A.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Menu Updated Successfully!"}),A.jsxs("p",{className:"text-gray-600 mb-6",children:["The menu for ",A.jsx("span",{className:"font-semibold",children:t.find(M=>M.id===n)?.name})," has been updated."]}),A.jsx("button",{onClick:()=>h("idle"),className:"px-6 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors shadow-lg",children:"Upload Another"})]}),u==="error"&&A.jsxs(pn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"border border-red-200 bg-red-50/50 rounded-2xl p-8 text-center",children:[A.jsx("h3",{className:"text-xl font-semibold text-red-900 mb-2",children:"Upload Failed"}),A.jsx("p",{className:"text-red-600 mb-6 font-mono text-sm bg-red-100 p-3 rounded",children:d}),A.jsx("button",{onClick:()=>h("idle"),className:"px-6 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors shadow-lg",children:"Try Again"})]})]})]})]})}),A.jsx(Ga,{children:x&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:A.jsxs(pn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:[A.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[A.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add New Mess"}),A.jsx("button",{onClick:()=>P(!1),className:"text-gray-400 hover:text-gray-600",children:A.jsx(lc,{size:24})})]}),A.jsxs("form",{onSubmit:fe,className:"p-6 space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mess Name"}),A.jsx("input",{type:"text",value:N,onChange:M=>j(M.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",placeholder:"e.g., New Hostel Mess",required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Theme Color"}),A.jsxs("select",{value:B,onChange:M=>F(M.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",children:[A.jsx("option",{value:"from-orange-500 to-red-500",children:"Orange (Default)"}),A.jsx("option",{value:"from-blue-500 to-cyan-500",children:"Blue"}),A.jsx("option",{value:"from-green-500 to-emerald-500",children:"Green"}),A.jsx("option",{value:"from-purple-500 to-pink-500",children:"Purple"}),A.jsx("option",{value:"from-pink-500 to-rose-500",children:"Pink"})]})]}),A.jsxs("div",{className:"pt-4 flex gap-3",children:[A.jsx("button",{type:"button",onClick:()=>P(!1),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),A.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-colors",children:"Create Mess"})]})]})]})})}),A.jsx(Ga,{children:se&&A.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:A.jsxs(pn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[80vh]",children:[A.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center shrink-0",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(Sb,{className:"text-orange-600",size:24}),A.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Activity History"})]}),A.jsx("button",{onClick:()=>re(!1),className:"text-gray-400 hover:text-gray-600",children:A.jsx(lc,{size:24})})]}),A.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:R?A.jsx("div",{className:"flex justify-center py-8",children:A.jsx(pM,{className:"animate-spin text-orange-500",size:32})}):le.length===0?A.jsx("p",{className:"text-center text-gray-500 py-8",children:"No activity recorded yet."}):A.jsx("div",{className:"space-y-4",children:le.map(M=>A.jsxs("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[A.jsx("div",{className:"mt-1",children:A.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm",children:A.jsx(Zy,{size:16,className:"text-gray-500"})})}),A.jsxs("div",{children:[A.jsx("p",{className:"font-medium text-gray-900",children:M.details}),A.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500",children:[A.jsx("span",{className:"font-semibold text-orange-600",children:M.adminEmail}),A.jsx("span",{children:""}),A.jsx("span",{children:new Date(M.timestamp).toLocaleString()})]})]})]},M.id))})})]})})})]})},f8=()=>{const[t,e]=L.useState("Initializing...");return L.useEffect(()=>{(async()=>{try{await lU(ll(ir,"users","admin@mitmess.com"),{email:"admin@mitmess.com",role:"super_admin",messId:null}),e("Success! Super Admin role created.")}catch(r){console.error("Seeding error:",r),e(`Error: ${r.message}`)}})()},[]),A.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:A.jsxs("div",{className:"p-8 bg-white rounded-xl shadow-lg",children:[A.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Role Seeding"}),A.jsx("p",{className:t.includes("Error")?"text-red-600":"text-green-600",children:t})]})})};class d8 extends ri.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){this.setState({error:e,errorInfo:n}),console.error("Uncaught error:",e,n)}render(){return this.state.hasError?A.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:A.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-lg w-full border border-red-100",children:[A.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),A.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg overflow-auto max-h-64 mb-4 text-sm font-mono text-gray-800",children:[this.state.error&&this.state.error.toString(),A.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]}),A.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Reload Page"})]})}):this.props.children}}function m8(){return A.jsx(d8,{children:A.jsx(qN,{children:A.jsxs(EN,{children:[A.jsx($o,{path:"/",element:A.jsx(Yz,{})}),A.jsx($o,{path:"/mess/:id",element:A.jsx(a8,{})}),A.jsx($o,{path:"/admin",element:A.jsx(o8,{})}),A.jsx($o,{path:"/admin/dashboard",element:A.jsx(h8,{})}),A.jsx($o,{path:"/seed-roles",element:A.jsx(f8,{})})]})})})}ID.createRoot(document.getElementById("root")).render(A.jsx(L.StrictMode,{children:A.jsx(m8,{})}));
