(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function DD(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sg={exports:{}},Uu={};var cb;function ND(){if(cb)return Uu;cb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:l}}return Uu.Fragment=e,Uu.jsx=n,Uu.jsxs=n,Uu}var hb;function MD(){return hb||(hb=1,sg.exports=ND()),sg.exports}var w=MD(),ag={exports:{}},xe={};var fb;function PD(){if(fb)return xe;fb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),T=Symbol.iterator;function S(U){return U===null||typeof U!="object"?null:(U=T&&U[T]||U["@@iterator"],typeof U=="function"?U:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,N={};function j(U,te,ue){this.props=U,this.context=te,this.refs=N,this.updater=ue||R}j.prototype.isReactComponent={},j.prototype.setState=function(U,te){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,te,"setState")},j.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function B(){}B.prototype=j.prototype;function F(U,te,ue){this.props=U,this.context=te,this.refs=N,this.updater=ue||R}var ae=F.prototype=new B;ae.constructor=F,M(ae,j.prototype),ae.isPureReactComponent=!0;var se=Array.isArray;function le(){}var I={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function D(U,te,ue){var J=ue.ref;return{$$typeof:t,type:U,key:te,ref:J!==void 0?J:null,props:ue}}function L(U,te){return D(U.type,te,U.props)}function k(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function H(U){var te={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ue){return te[ue]})}var P=/\/+/g;function ze(U,te){return typeof U=="object"&&U!==null&&U.key!=null?H(""+U.key):te.toString(36)}function Ge(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(le,le):(U.status="pending",U.then(function(te){U.status==="pending"&&(U.status="fulfilled",U.value=te)},function(te){U.status==="pending"&&(U.status="rejected",U.reason=te)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function W(U,te,ue,J,he){var ge=typeof U;(ge==="undefined"||ge==="boolean")&&(U=null);var Se=!1;if(U===null)Se=!0;else switch(ge){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(U.$$typeof){case t:case e:Se=!0;break;case y:return Se=U._init,W(Se(U._payload),te,ue,J,he)}}if(Se)return he=he(U),Se=J===""?"."+ze(U,0):J,se(he)?(ue="",Se!=null&&(ue=Se.replace(P,"$&/")+"/"),W(he,te,ue,"",function(Bn){return Bn})):he!=null&&(k(he)&&(he=L(he,ue+(he.key==null||U&&U.key===he.key?"":(""+he.key).replace(P,"$&/")+"/")+Se)),te.push(he)),1;Se=0;var mt=J===""?".":J+":";if(se(U))for(var $e=0;$e<U.length;$e++)J=U[$e],ge=mt+ze(J,$e),Se+=W(J,te,ue,ge,he);else if($e=S(U),typeof $e=="function")for(U=$e.call(U),$e=0;!(J=U.next()).done;)J=J.value,ge=mt+ze(J,$e++),Se+=W(J,te,ue,ge,he);else if(ge==="object"){if(typeof U.then=="function")return W(Ge(U),te,ue,J,he);throw te=String(U),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Se}function oe(U,te,ue){if(U==null)return U;var J=[],he=0;return W(U,J,"","",function(ge){return te.call(ue,ge,he++)}),J}function de(U){if(U._status===-1){var te=U._result;te=te(),te.then(function(ue){(U._status===0||U._status===-1)&&(U._status=1,U._result=ue)},function(ue){(U._status===0||U._status===-1)&&(U._status=2,U._result=ue)}),U._status===-1&&(U._status=0,U._result=te)}if(U._status===1)return U._result.default;throw U._result}var Ae=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Me={map:oe,forEach:function(U,te,ue){oe(U,function(){te.apply(this,arguments)},ue)},count:function(U){var te=0;return oe(U,function(){te++}),te},toArray:function(U){return oe(U,function(te){return te})||[]},only:function(U){if(!k(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return xe.Activity=v,xe.Children=Me,xe.Component=j,xe.Fragment=n,xe.Profiler=a,xe.PureComponent=F,xe.StrictMode=r,xe.Suspense=d,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,xe.__COMPILER_RUNTIME={__proto__:null,c:function(U){return I.H.useMemoCache(U)}},xe.cache=function(U){return function(){return U.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(U,te,ue){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var J=M({},U.props),he=U.key;if(te!=null)for(ge in te.key!==void 0&&(he=""+te.key),te)!x.call(te,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&te.ref===void 0||(J[ge]=te[ge]);var ge=arguments.length-2;if(ge===1)J.children=ue;else if(1<ge){for(var Se=Array(ge),mt=0;mt<ge;mt++)Se[mt]=arguments[mt+2];J.children=Se}return D(U.type,he,J)},xe.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},xe.createElement=function(U,te,ue){var J,he={},ge=null;if(te!=null)for(J in te.key!==void 0&&(ge=""+te.key),te)x.call(te,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(he[J]=te[J]);var Se=arguments.length-2;if(Se===1)he.children=ue;else if(1<Se){for(var mt=Array(Se),$e=0;$e<Se;$e++)mt[$e]=arguments[$e+2];he.children=mt}if(U&&U.defaultProps)for(J in Se=U.defaultProps,Se)he[J]===void 0&&(he[J]=Se[J]);return D(U,ge,he)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(U){return{$$typeof:h,render:U}},xe.isValidElement=k,xe.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:de}},xe.memo=function(U,te){return{$$typeof:p,type:U,compare:te===void 0?null:te}},xe.startTransition=function(U){var te=I.T,ue={};I.T=ue;try{var J=U(),he=I.S;he!==null&&he(ue,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(le,Ae)}catch(ge){Ae(ge)}finally{te!==null&&ue.types!==null&&(te.types=ue.types),I.T=te}},xe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},xe.use=function(U){return I.H.use(U)},xe.useActionState=function(U,te,ue){return I.H.useActionState(U,te,ue)},xe.useCallback=function(U,te){return I.H.useCallback(U,te)},xe.useContext=function(U){return I.H.useContext(U)},xe.useDebugValue=function(){},xe.useDeferredValue=function(U,te){return I.H.useDeferredValue(U,te)},xe.useEffect=function(U,te){return I.H.useEffect(U,te)},xe.useEffectEvent=function(U){return I.H.useEffectEvent(U)},xe.useId=function(){return I.H.useId()},xe.useImperativeHandle=function(U,te,ue){return I.H.useImperativeHandle(U,te,ue)},xe.useInsertionEffect=function(U,te){return I.H.useInsertionEffect(U,te)},xe.useLayoutEffect=function(U,te){return I.H.useLayoutEffect(U,te)},xe.useMemo=function(U,te){return I.H.useMemo(U,te)},xe.useOptimistic=function(U,te){return I.H.useOptimistic(U,te)},xe.useReducer=function(U,te,ue){return I.H.useReducer(U,te,ue)},xe.useRef=function(U){return I.H.useRef(U)},xe.useState=function(U){return I.H.useState(U)},xe.useSyncExternalStore=function(U,te,ue){return I.H.useSyncExternalStore(U,te,ue)},xe.useTransition=function(){return I.H.useTransition()},xe.version="19.2.0",xe}var db;function Xy(){return db||(db=1,ag.exports=PD()),ag.exports}var V=Xy();const si=DD(V);var og={exports:{}},zu={},lg={exports:{}},ug={};var mb;function VD(){return mb||(mb=1,(function(t){function e(W,oe){var de=W.length;W.push(oe);e:for(;0<de;){var Ae=de-1>>>1,Me=W[Ae];if(0<a(Me,oe))W[Ae]=oe,W[de]=Me,de=Ae;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var oe=W[0],de=W.pop();if(de!==oe){W[0]=de;e:for(var Ae=0,Me=W.length,U=Me>>>1;Ae<U;){var te=2*(Ae+1)-1,ue=W[te],J=te+1,he=W[J];if(0>a(ue,de))J<Me&&0>a(he,ue)?(W[Ae]=he,W[J]=de,Ae=J):(W[Ae]=ue,W[te]=de,Ae=te);else if(J<Me&&0>a(he,de))W[Ae]=he,W[J]=de,Ae=J;else break e}}return oe}function a(W,oe){var de=W.sortIndex-oe.sortIndex;return de!==0?de:W.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],y=1,v=null,T=3,S=!1,R=!1,M=!1,N=!1,j=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function ae(W){for(var oe=n(p);oe!==null;){if(oe.callback===null)r(p);else if(oe.startTime<=W)r(p),oe.sortIndex=oe.expirationTime,e(d,oe);else break;oe=n(p)}}function se(W){if(M=!1,ae(W),!R)if(n(d)!==null)R=!0,le||(le=!0,H());else{var oe=n(p);oe!==null&&Ge(se,oe.startTime-W)}}var le=!1,I=-1,x=5,D=-1;function L(){return N?!0:!(t.unstable_now()-D<x)}function k(){if(N=!1,le){var W=t.unstable_now();D=W;var oe=!0;try{e:{R=!1,M&&(M=!1,B(I),I=-1),S=!0;var de=T;try{t:{for(ae(W),v=n(d);v!==null&&!(v.expirationTime>W&&L());){var Ae=v.callback;if(typeof Ae=="function"){v.callback=null,T=v.priorityLevel;var Me=Ae(v.expirationTime<=W);if(W=t.unstable_now(),typeof Me=="function"){v.callback=Me,ae(W),oe=!0;break t}v===n(d)&&r(d),ae(W)}else r(d);v=n(d)}if(v!==null)oe=!0;else{var U=n(p);U!==null&&Ge(se,U.startTime-W),oe=!1}}break e}finally{v=null,T=de,S=!1}oe=void 0}}finally{oe?H():le=!1}}}var H;if(typeof F=="function")H=function(){F(k)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,ze=P.port2;P.port1.onmessage=k,H=function(){ze.postMessage(null)}}else H=function(){j(k,0)};function Ge(W,oe){I=j(function(){W(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(W){switch(T){case 1:case 2:case 3:var oe=3;break;default:oe=T}var de=T;T=oe;try{return W()}finally{T=de}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(W,oe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var de=T;T=W;try{return oe()}finally{T=de}},t.unstable_scheduleCallback=function(W,oe,de){var Ae=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ae+de:Ae):de=Ae,W){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=de+Me,W={id:y++,callback:oe,priorityLevel:W,startTime:de,expirationTime:Me,sortIndex:-1},de>Ae?(W.sortIndex=de,e(p,W),n(d)===null&&W===n(p)&&(M?(B(I),I=-1):M=!0,Ge(se,de-Ae))):(W.sortIndex=Me,e(d,W),R||S||(R=!0,le||(le=!0,H()))),W},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(W){var oe=T;return function(){var de=T;T=oe;try{return W.apply(this,arguments)}finally{T=de}}}})(ug)),ug}var pb;function OD(){return pb||(pb=1,lg.exports=VD()),lg.exports}var cg={exports:{}},an={};var gb;function kD(){if(gb)return an;gb=1;var t=Xy();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:p,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,an.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,y)},an.flushSync=function(d){var p=u.T,y=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=p,r.p=y,r.d.f()}},an.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},an.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},an.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:T,fetchPriority:S}):y==="script"&&r.d.X(d,{crossOrigin:v,integrity:T,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},an.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},an.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);r.d.L(d,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},an.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=h(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},an.requestFormReset=function(d){r.d.r(d)},an.unstable_batchedUpdates=function(d,p){return d(p)},an.useFormState=function(d,p,y){return u.H.useFormState(d,p,y)},an.useFormStatus=function(){return u.H.useHostTransitionStatus()},an.version="19.2.0",an}var yb;function LD(){if(yb)return cg.exports;yb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),cg.exports=kD(),cg.exports}var vb;function jD(){if(vb)return zu;vb=1;var t=OD(),e=Xy(),n=LD();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,c=s;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return d(m),i;if(g===c)return d(m),s;g=g.sibling}throw Error(r(188))}if(o.return!==c.return)o=m,c=g;else{for(var E=!1,A=m.child;A;){if(A===o){E=!0,o=m,c=g;break}if(A===c){E=!0,c=m,o=g;break}A=A.sibling}if(!E){for(A=g.child;A;){if(A===o){E=!0,o=g,c=m;break}if(A===c){E=!0,c=g,o=m;break}A=A.sibling}if(!E)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function y(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=y(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),F=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var P=Symbol.for("react.client.reference");function ze(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===P?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case j:return"Profiler";case N:return"StrictMode";case se:return"Suspense";case le:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case R:return"Portal";case F:return i.displayName||"Context";case B:return(i._context.displayName||"Context")+".Consumer";case ae:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return s=i.displayName||null,s!==null?s:ze(i.type)||"Memo";case x:s=i._payload,i=i._init;try{return ze(i(s))}catch{}}return null}var Ge=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ae=[],Me=-1;function U(i){return{current:i}}function te(i){0>Me||(i.current=Ae[Me],Ae[Me]=null,Me--)}function ue(i,s){Me++,Ae[Me]=i.current,i.current=s}var J=U(null),he=U(null),ge=U(null),Se=U(null);function mt(i,s){switch(ue(ge,s),ue(he,i),ue(J,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?PE(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=PE(s),i=VE(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}te(J),ue(J,i)}function $e(){te(J),te(he),te(ge)}function Bn(i){i.memoizedState!==null&&ue(Se,i);var s=J.current,o=VE(s,i.type);s!==o&&(ue(he,i),ue(J,o))}function fi(i){he.current===i&&(te(J),te(he)),Se.current===i&&(te(Se),Ou._currentValue=de)}var Pi,gr;function di(i){if(Pi===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Pi=s&&s[1]||"",gr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pi+i+gr}var Zr=!1;function yr(i,s){if(!i||Zr)return"";Zr=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Q){var X=Q}Reflect.construct(i,[],ie)}else{try{ie.call()}catch(Q){X=Q}i.call(ie.prototype)}}else{try{throw Error()}catch(Q){X=Q}(ie=i())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Q){if(Q&&X&&typeof Q.stack=="string")return[Q.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),E=g[0],A=g[1];if(E&&A){var O=E.split(`
`),K=A.split(`
`);for(m=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;if(c===O.length||m===K.length)for(c=O.length-1,m=K.length-1;1<=c&&0<=m&&O[c]!==K[m];)m--;for(;1<=c&&0<=m;c--,m--)if(O[c]!==K[m]){if(c!==1||m!==1)do if(c--,m--,0>m||O[c]!==K[m]){var Z=`
`+O[c].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=c&&0<=m);break}}}finally{Zr=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?di(o):""}function Jr(i,s){switch(i.tag){case 26:case 27:case 5:return di(i.type);case 16:return di("Lazy");case 13:return i.child!==s&&s!==null?di("Suspense Fallback"):di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return yr(i.type,!1);case 11:return yr(i.type.render,!1);case 1:return yr(i.type,!0);case 31:return di("Activity");default:return""}}function la(i){try{var s="",o=null;do s+=Jr(i,o),o=i,i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var _t=Object.prototype.hasOwnProperty,rt=t.unstable_scheduleCallback,Vi=t.unstable_cancelCallback,om=t.unstable_shouldYield,Gc=t.unstable_requestPaint,dn=t.unstable_now,ua=t.unstable_getCurrentPriorityLevel,jl=t.unstable_ImmediatePriority,Ul=t.unstable_UserBlockingPriority,es=t.unstable_NormalPriority,lm=t.unstable_LowPriority,Yc=t.unstable_IdlePriority,Kc=t.log,Xc=t.unstable_setDisableYieldValue,mi=null,$t=null;function Fn(i){if(typeof Kc=="function"&&Xc(i),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(mi,i)}catch{}}var St=Math.clz32?Math.clz32:Qc,$c=Math.log,fo=Math.LN2;function Qc(i){return i>>>=0,i===0?32:31-($c(i)/fo|0)|0}var Oi=256,ca=262144,Dt=4194304;function ki(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Li(i,s,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,g=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~g,c!==0?m=ki(c):(E&=A,E!==0?m=ki(E):o||(o=A&~i,o!==0&&(m=ki(o))))):(A=c&~g,A!==0?m=ki(A):E!==0?m=ki(E):o||(o=c&~i,o!==0&&(m=ki(o)))),m===0?0:s!==0&&s!==m&&(s&g)===0&&(g=m&-m,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:m}function pi(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function um(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wc(){var i=Dt;return Dt<<=1,(Dt&62914560)===0&&(Dt=4194304),i}function ji(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function ha(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function cm(i,s,o,c,m,g){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var A=i.entanglements,O=i.expirationTimes,K=i.hiddenUpdates;for(o=E&~o;0<o;){var Z=31-St(o),ie=1<<Z;A[Z]=0,O[Z]=-1;var X=K[Z];if(X!==null)for(K[Z]=null,Z=0;Z<X.length;Z++){var Q=X[Z];Q!==null&&(Q.lane&=-536870913)}o&=~ie}c!==0&&fa(i,c,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(E&~s))}function fa(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-St(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function zl(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var c=31-St(o),m=1<<c;m&s|i[c]&s&&(i[c]|=s),o&=~m}}function Bl(i,s){var o=s&-s;return o=(o&42)!==0?1:da(o),(o&(i.suspendedLanes|s))!==0?0:o}function da(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function vr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Zc(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:ib(i.type))}function gi(i,s){var o=oe.p;try{return oe.p=i,s()}finally{oe.p=o}}var yi=Math.random().toString(36).slice(2),Nt="__reactFiber$"+yi,Gt="__reactProps$"+yi,Ui="__reactContainer$"+yi,mo="__reactEvents$"+yi,hm="__reactListeners$"+yi,Jc="__reactHandles$"+yi,eh="__reactResources$"+yi,zi="__reactMarker$"+yi;function po(i){delete i[Nt],delete i[Gt],delete i[mo],delete i[hm],delete i[Jc]}function Bi(i){var s=i[Nt];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Ui]||o[Nt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=BE(i);i!==null;){if(o=i[Nt])return o;i=BE(i)}return s}i=o,o=i.parentNode}return null}function Hn(i){if(i=i[Nt]||i[Ui]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function In(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Fi(i){var s=i[eh];return s||(s=i[eh]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Mt(i){i[zi]=!0}var Fl=new Set,Hl={};function Hi(i,s){qi(i,s),qi(i+"Capture",s)}function qi(i,s){for(Hl[i]=s,i=0;i<s.length;i++)Fl.add(s[i])}var ql=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gl={},Yl={};function th(i){return _t.call(Yl,i)?!0:_t.call(Gl,i)?!1:ql.test(i)?Yl[i]=!0:(Gl[i]=!0,!1)}function go(i,s,o){if(th(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Dn(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Pt(i,s,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+c)}}function Yt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ts(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Kl(i,s,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(E){o=""+E,g.call(this,E)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Qe(i){if(!i._valueTracker){var s=ts(i)?"checked":"value";i._valueTracker=Kl(i,s,""+i[s])}}function ma(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return i&&(c=ts(i)?i.checked?"true":"false":i.value),i=c,i!==o?(s.setValue(i),!0):!1}function Gi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var pa=/[\n"\\]/g;function vn(i){return i.replace(pa,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function yo(i,s,o,c,m,g,E,A){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),s!=null?E==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Yt(s)):i.value!==""+Yt(s)&&(i.value=""+Yt(s)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),s!=null?Xl(i,E,Yt(s)):o!=null?Xl(i,E,Yt(o)):c!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+Yt(A):i.removeAttribute("name")}function nh(i,s,o,c,m,g,E,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){Qe(i);return}o=o!=null?""+Yt(o):"",s=s!=null?""+Yt(s):o,A||s===i.value||(i.value=s),i.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E),Qe(i)}function Xl(i,s,o){s==="number"&&Gi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ns(i,s,o,c){if(i=i.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=s.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Yt(o),s=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function ih(i,s,o){if(s!=null&&(s=""+Yt(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+Yt(o):""}function is(i,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(r(92));if(Ge(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Yt(s),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),Qe(i)}function _n(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var rh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $l(i,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,o):typeof o!="number"||o===0||rh.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Ql(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&o[m]!==c&&$l(i,m,c)}else for(var g in s)s.hasOwnProperty(g)&&$l(i,g,s[g])}function vo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _o(i){return rs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function vi(){}var Wl=null;function qn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ss=null,Yi=null;function ga(i){var s=Hn(i);if(s&&(i=s.stateNode)){var o=i[Gt]||null;e:switch(i=s.stateNode,s.type){case"input":if(yo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+vn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==i&&c.form===i.form){var m=c[Gt]||null;if(!m)throw Error(r(90));yo(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===i.form&&ma(c)}break e;case"textarea":ih(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ns(i,!!o.multiple,s,!1)}}}var To=!1;function as(i,s,o){if(To)return i(s,o);To=!0;try{var c=i(s);return c}finally{if(To=!1,(ss!==null||Yi!==null)&&(Zh(),ss&&(s=ss,i=Yi,Yi=ss=null,ga(s),i)))for(s=0;s<i.length;s++)ga(i[s])}}function _i(i,s){var o=i.stateNode;if(o===null)return null;var c=o[Gt]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ya=!1;if(Gn)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){ya=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{ya=!1}var Ki=null,Zl=null,va=null;function Jl(){if(va)return va;var i,s=Zl,o=s.length,c,m="value"in Ki?Ki.value:Ki.textContent,g=m.length;for(i=0;i<o&&s[i]===m[i];i++);var E=o-i;for(c=1;c<=E&&s[o-c]===m[g-c];c++);return va=m.slice(i,1<c?1-c:void 0)}function _a(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function _r(){return!0}function Ti(){return!1}function Qt(i){function s(o,c,m,g,E){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(o=i[A],this[A]=o?o(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?_r:Ti,this.isPropagationStopped=Ti,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),s}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=Qt(Tr),os=v({},Tr,{view:0,detail:0}),eu=Qt(os),ls,Eo,$i,bo=v({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:us,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==$i&&($i&&i.type==="mousemove"?(ls=i.screenX-$i.screenX,Eo=i.screenY-$i.screenY):Eo=ls=0,$i=i),ls)},movementY:function(i){return"movementY"in i?i.movementY:Eo}}),tu=Qt(bo),Ta=v({},bo,{dataTransfer:0}),ah=Qt(Ta),oh=v({},os,{relatedTarget:0}),Ea=Qt(oh),nu=v({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),lh=Qt(nu),wo=v({},Tr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),uh=Qt(wo),ch=v({},Tr,{data:0}),Qi=Qt(ch),hh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mh(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=dh[i])?!!s[i]:!1}function us(){return mh}var mn=v({},os,{key:function(i){if(i.key){var s=hh[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=_a(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?fh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:us,charCode:function(i){return i.type==="keypress"?_a(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?_a(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ph=Qt(mn),gh=v({},bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Er=Qt(gh),f=v({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:us}),_=Qt(f),b=v({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),C=Qt(b),G=v({},bo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Qt(G),ce=v({},Tr,{newState:0,oldState:0}),Ie=Qt(ce),At=[9,13,27,32],Ye=Gn&&"CompositionEvent"in window,ct=null;Gn&&"documentMode"in document&&(ct=document.documentMode);var Yn=Gn&&"TextEvent"in window&&!ct,Wi=Gn&&(!Ye||ct&&8<ct&&11>=ct),Ei=" ",bi=!1;function ba(i,s){switch(i){case"keyup":return At.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function So(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ao=!1;function eI(i,s){switch(i){case"compositionend":return So(s);case"keypress":return s.which!==32?null:(bi=!0,Ei);case"textInput":return i=s.data,i===Ei&&bi?null:i;default:return null}}function tI(i,s){if(Ao)return i==="compositionend"||!Ye&&ba(i,s)?(i=Jl(),va=Zl=Ki=null,Ao=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Wi&&s.locale!=="ko"?null:s.data;default:return null}}var nI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q0(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!nI[i.type]:s==="textarea"}function G0(i,s,o,c){ss?Yi?Yi.push(c):Yi=[c]:ss=c,s=af(s,"onChange"),0<s.length&&(o=new Xi("onChange","change",null,o,c),i.push({event:o,listeners:s}))}var iu=null,ru=null;function iI(i){xE(i,0)}function yh(i){var s=In(i);if(ma(s))return i}function Y0(i,s){if(i==="change")return s}var K0=!1;if(Gn){var fm;if(Gn){var dm="oninput"in document;if(!dm){var X0=document.createElement("div");X0.setAttribute("oninput","return;"),dm=typeof X0.oninput=="function"}fm=dm}else fm=!1;K0=fm&&(!document.documentMode||9<document.documentMode)}function $0(){iu&&(iu.detachEvent("onpropertychange",Q0),ru=iu=null)}function Q0(i){if(i.propertyName==="value"&&yh(ru)){var s=[];G0(s,ru,i,qn(i)),as(iI,s)}}function rI(i,s,o){i==="focusin"?($0(),iu=s,ru=o,iu.attachEvent("onpropertychange",Q0)):i==="focusout"&&$0()}function sI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return yh(ru)}function aI(i,s){if(i==="click")return yh(s)}function oI(i,s){if(i==="input"||i==="change")return yh(s)}function lI(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Nn=typeof Object.is=="function"?Object.is:lI;function su(i,s){if(Nn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!_t.call(s,m)||!Nn(i[m],s[m]))return!1}return!0}function W0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Z0(i,s){var o=W0(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=s&&c>=s)return{node:o,offset:s-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=W0(o)}}function J0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?J0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function e_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Gi(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Gi(i.document)}return s}function mm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var uI=Gn&&"documentMode"in document&&11>=document.documentMode,Co=null,pm=null,au=null,gm=!1;function t_(i,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;gm||Co==null||Co!==Gi(c)||(c=Co,"selectionStart"in c&&mm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),au&&su(au,c)||(au=c,c=af(pm,"onSelect"),0<c.length&&(s=new Xi("onSelect","select",null,s,o),i.push({event:s,listeners:c}),s.target=Co)))}function wa(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var xo={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionrun:wa("Transition","TransitionRun"),transitionstart:wa("Transition","TransitionStart"),transitioncancel:wa("Transition","TransitionCancel"),transitionend:wa("Transition","TransitionEnd")},ym={},n_={};Gn&&(n_=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function Sa(i){if(ym[i])return ym[i];if(!xo[i])return i;var s=xo[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in n_)return ym[i]=s[o];return i}var i_=Sa("animationend"),r_=Sa("animationiteration"),s_=Sa("animationstart"),cI=Sa("transitionrun"),hI=Sa("transitionstart"),fI=Sa("transitioncancel"),a_=Sa("transitionend"),o_=new Map,vm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vm.push("scrollEnd");function wi(i,s){o_.set(i,s),Hi(s,[i])}var vh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Kn=[],Ro=0,_m=0;function _h(){for(var i=Ro,s=_m=Ro=0;s<i;){var o=Kn[s];Kn[s++]=null;var c=Kn[s];Kn[s++]=null;var m=Kn[s];Kn[s++]=null;var g=Kn[s];if(Kn[s++]=null,c!==null&&m!==null){var E=c.pending;E===null?m.next=m:(m.next=E.next,E.next=m),c.pending=m}g!==0&&l_(o,m,g)}}function Th(i,s,o,c){Kn[Ro++]=i,Kn[Ro++]=s,Kn[Ro++]=o,Kn[Ro++]=c,_m|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Tm(i,s,o,c){return Th(i,s,o,c),Eh(i)}function Aa(i,s){return Th(i,null,null,s),Eh(i)}function l_(i,s,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&s!==null&&(m=31-St(o),i=g.hiddenUpdates,c=i[m],c===null?i[m]=[s]:c.push(s),s.lane=o|536870912),g):null}function Eh(i){if(50<Ru)throw Ru=0,Ip=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Io={};function dI(i,s,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(i,s,o,c){return new dI(i,s,o,c)}function Em(i){return i=i.prototype,!(!i||!i.isReactComponent)}function br(i,s){var o=i.alternate;return o===null?(o=Mn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function u_(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function bh(i,s,o,c,m,g){var E=0;if(c=i,typeof i=="function")Em(i)&&(E=1);else if(typeof i=="string")E=vD(i,o,J.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=Mn(31,o,s,m),i.elementType=D,i.lanes=g,i;case M:return Ca(o.children,m,g,s);case N:E=8,m|=24;break;case j:return i=Mn(12,o,s,m|2),i.elementType=j,i.lanes=g,i;case se:return i=Mn(13,o,s,m),i.elementType=se,i.lanes=g,i;case le:return i=Mn(19,o,s,m),i.elementType=le,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case F:E=10;break e;case B:E=9;break e;case ae:E=11;break e;case I:E=14;break e;case x:E=16,c=null;break e}E=29,o=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=Mn(E,o,s,m),s.elementType=i,s.type=c,s.lanes=g,s}function Ca(i,s,o,c){return i=Mn(7,i,c,s),i.lanes=o,i}function bm(i,s,o){return i=Mn(6,i,null,s),i.lanes=o,i}function c_(i){var s=Mn(18,null,null,0);return s.stateNode=i,s}function wm(i,s,o){return s=Mn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var h_=new WeakMap;function Xn(i,s){if(typeof i=="object"&&i!==null){var o=h_.get(i);return o!==void 0?o:(s={value:i,source:s,stack:la(s)},h_.set(i,s),s)}return{value:i,source:s,stack:la(s)}}var Do=[],No=0,wh=null,ou=0,$n=[],Qn=0,cs=null,Zi=1,Ji="";function wr(i,s){Do[No++]=ou,Do[No++]=wh,wh=i,ou=s}function f_(i,s,o){$n[Qn++]=Zi,$n[Qn++]=Ji,$n[Qn++]=cs,cs=i;var c=Zi;i=Ji;var m=32-St(c)-1;c&=~(1<<m),o+=1;var g=32-St(s)+m;if(30<g){var E=m-m%5;g=(c&(1<<E)-1).toString(32),c>>=E,m-=E,Zi=1<<32-St(s)+m|o<<m|c,Ji=g+i}else Zi=1<<g|o<<m|c,Ji=i}function Sm(i){i.return!==null&&(wr(i,1),f_(i,1,0))}function Am(i){for(;i===wh;)wh=Do[--No],Do[No]=null,ou=Do[--No],Do[No]=null;for(;i===cs;)cs=$n[--Qn],$n[Qn]=null,Ji=$n[--Qn],$n[Qn]=null,Zi=$n[--Qn],$n[Qn]=null}function d_(i,s){$n[Qn++]=Zi,$n[Qn++]=Ji,$n[Qn++]=cs,Zi=s.id,Ji=s.overflow,cs=i}var Wt=null,ot=null,Be=!1,hs=null,Wn=!1,Cm=Error(r(519));function fs(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw lu(Xn(s,i)),Cm}function m_(i){var s=i.stateNode,o=i.type,c=i.memoizedProps;switch(s[Nt]=i,s[Gt]=c,o){case"dialog":Ve("cancel",s),Ve("close",s);break;case"iframe":case"object":case"embed":Ve("load",s);break;case"video":case"audio":for(o=0;o<Du.length;o++)Ve(Du[o],s);break;case"source":Ve("error",s);break;case"img":case"image":case"link":Ve("error",s),Ve("load",s);break;case"details":Ve("toggle",s);break;case"input":Ve("invalid",s),nh(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ve("invalid",s);break;case"textarea":Ve("invalid",s),is(s,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||NE(s.textContent,o)?(c.popover!=null&&(Ve("beforetoggle",s),Ve("toggle",s)),c.onScroll!=null&&Ve("scroll",s),c.onScrollEnd!=null&&Ve("scrollend",s),c.onClick!=null&&(s.onclick=vi),s=!0):s=!1,s||fs(i,!0)}function p_(i){for(Wt=i.return;Wt;)switch(Wt.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:Wt=Wt.return}}function Mo(i){if(i!==Wt)return!1;if(!Be)return p_(i),Be=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||qp(i.type,i.memoizedProps)),o=!o),o&&ot&&fs(i),p_(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ot=zE(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ot=zE(i)}else s===27?(s=ot,Cs(i.type)?(i=$p,$p=null,ot=i):ot=s):ot=Wt?Jn(i.stateNode.nextSibling):null;return!0}function xa(){ot=Wt=null,Be=!1}function xm(){var i=hs;return i!==null&&(wn===null?wn=i:wn.push.apply(wn,i),hs=null),i}function lu(i){hs===null?hs=[i]:hs.push(i)}var Rm=U(null),Ra=null,Sr=null;function ds(i,s,o){ue(Rm,s._currentValue),s._currentValue=o}function Ar(i){i._currentValue=Rm.current,te(Rm)}function Im(i,s,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===o)break;i=i.return}}function Dm(i,s,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var E=m.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=m;for(var O=0;O<s.length;O++)if(A.context===s[O]){g.lanes|=o,A=g.alternate,A!==null&&(A.lanes|=o),Im(g.return,o,i),c||(E=null);break e}g=A.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(r(341));E.lanes|=o,g=E.alternate,g!==null&&(g.lanes|=o),Im(E,o,i),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===i){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function Po(i,s,o,c){i=null;for(var m=s,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var A=m.type;Nn(m.pendingProps.value,E.value)||(i!==null?i.push(A):i=[A])}}else if(m===Se.current){if(E=m.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Ou):i=[Ou])}m=m.return}i!==null&&Dm(s,i,o,c),s.flags|=262144}function Sh(i){for(i=i.firstContext;i!==null;){if(!Nn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ia(i){Ra=i,Sr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Zt(i){return g_(Ra,i)}function Ah(i,s){return Ra===null&&Ia(i),g_(i,s)}function g_(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Sr===null){if(i===null)throw Error(r(308));Sr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Sr=Sr.next=s;return o}var mI=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},pI=t.unstable_scheduleCallback,gI=t.unstable_NormalPriority,Vt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nm(){return{controller:new mI,data:new Map,refCount:0}}function uu(i){i.refCount--,i.refCount===0&&pI(gI,function(){i.controller.abort()})}var cu=null,Mm=0,Vo=0,Oo=null;function yI(i,s){if(cu===null){var o=cu=[];Mm=0,Vo=Op(),Oo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Mm++,s.then(y_,y_),s}function y_(){if(--Mm===0&&cu!==null){Oo!==null&&(Oo.status="fulfilled");var i=cu;cu=null,Vo=0,Oo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function vI(i,s){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var v_=W.S;W.S=function(i,s){tE=dn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&yI(i,s),v_!==null&&v_(i,s)};var Da=U(null);function Pm(){var i=Da.current;return i!==null?i:it.pooledCache}function Ch(i,s){s===null?ue(Da,Da.current):ue(Da,s.pool)}function __(){var i=Pm();return i===null?null:{parent:Vt._currentValue,pool:i}}var ko=Error(r(460)),Vm=Error(r(474)),xh=Error(r(542)),Rh={then:function(){}};function T_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function E_(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(vi,vi),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,w_(i),i;default:if(typeof s.status=="string")s.then(vi,vi);else{if(i=it,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,w_(i),i}throw Ma=s,ko}}function Na(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ma=o,ko):o}}var Ma=null;function b_(){if(Ma===null)throw Error(r(459));var i=Ma;return Ma=null,i}function w_(i){if(i===ko||i===xh)throw Error(r(483))}var Lo=null,hu=0;function Ih(i){var s=hu;return hu+=1,Lo===null&&(Lo=[]),E_(Lo,i,s)}function fu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Dh(i,s){throw s.$$typeof===T?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function S_(i){function s(q,z){if(i){var Y=q.deletions;Y===null?(q.deletions=[z],q.flags|=16):Y.push(z)}}function o(q,z){if(!i)return null;for(;z!==null;)s(q,z),z=z.sibling;return null}function c(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function m(q,z){return q=br(q,z),q.index=0,q.sibling=null,q}function g(q,z,Y){return q.index=Y,i?(Y=q.alternate,Y!==null?(Y=Y.index,Y<z?(q.flags|=67108866,z):Y):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function E(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function A(q,z,Y,ee){return z===null||z.tag!==6?(z=bm(Y,q.mode,ee),z.return=q,z):(z=m(z,Y),z.return=q,z)}function O(q,z,Y,ee){var ve=Y.type;return ve===M?Z(q,z,Y.props.children,ee,Y.key):z!==null&&(z.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===x&&Na(ve)===z.type)?(z=m(z,Y.props),fu(z,Y),z.return=q,z):(z=bh(Y.type,Y.key,Y.props,null,q.mode,ee),fu(z,Y),z.return=q,z)}function K(q,z,Y,ee){return z===null||z.tag!==4||z.stateNode.containerInfo!==Y.containerInfo||z.stateNode.implementation!==Y.implementation?(z=wm(Y,q.mode,ee),z.return=q,z):(z=m(z,Y.children||[]),z.return=q,z)}function Z(q,z,Y,ee,ve){return z===null||z.tag!==7?(z=Ca(Y,q.mode,ee,ve),z.return=q,z):(z=m(z,Y),z.return=q,z)}function ie(q,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=bm(""+z,q.mode,Y),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return Y=bh(z.type,z.key,z.props,null,q.mode,Y),fu(Y,z),Y.return=q,Y;case R:return z=wm(z,q.mode,Y),z.return=q,z;case x:return z=Na(z),ie(q,z,Y)}if(Ge(z)||H(z))return z=Ca(z,q.mode,Y,null),z.return=q,z;if(typeof z.then=="function")return ie(q,Ih(z),Y);if(z.$$typeof===F)return ie(q,Ah(q,z),Y);Dh(q,z)}return null}function X(q,z,Y,ee){var ve=z!==null?z.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ve!==null?null:A(q,z,""+Y,ee);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return Y.key===ve?O(q,z,Y,ee):null;case R:return Y.key===ve?K(q,z,Y,ee):null;case x:return Y=Na(Y),X(q,z,Y,ee)}if(Ge(Y)||H(Y))return ve!==null?null:Z(q,z,Y,ee,null);if(typeof Y.then=="function")return X(q,z,Ih(Y),ee);if(Y.$$typeof===F)return X(q,z,Ah(q,Y),ee);Dh(q,Y)}return null}function Q(q,z,Y,ee,ve){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return q=q.get(Y)||null,A(z,q,""+ee,ve);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case S:return q=q.get(ee.key===null?Y:ee.key)||null,O(z,q,ee,ve);case R:return q=q.get(ee.key===null?Y:ee.key)||null,K(z,q,ee,ve);case x:return ee=Na(ee),Q(q,z,Y,ee,ve)}if(Ge(ee)||H(ee))return q=q.get(Y)||null,Z(z,q,ee,ve,null);if(typeof ee.then=="function")return Q(q,z,Y,Ih(ee),ve);if(ee.$$typeof===F)return Q(q,z,Y,Ah(z,ee),ve);Dh(z,ee)}return null}function pe(q,z,Y,ee){for(var ve=null,He=null,ye=z,Ne=z=0,ke=null;ye!==null&&Ne<Y.length;Ne++){ye.index>Ne?(ke=ye,ye=null):ke=ye.sibling;var qe=X(q,ye,Y[Ne],ee);if(qe===null){ye===null&&(ye=ke);break}i&&ye&&qe.alternate===null&&s(q,ye),z=g(qe,z,Ne),He===null?ve=qe:He.sibling=qe,He=qe,ye=ke}if(Ne===Y.length)return o(q,ye),Be&&wr(q,Ne),ve;if(ye===null){for(;Ne<Y.length;Ne++)ye=ie(q,Y[Ne],ee),ye!==null&&(z=g(ye,z,Ne),He===null?ve=ye:He.sibling=ye,He=ye);return Be&&wr(q,Ne),ve}for(ye=c(ye);Ne<Y.length;Ne++)ke=Q(ye,q,Ne,Y[Ne],ee),ke!==null&&(i&&ke.alternate!==null&&ye.delete(ke.key===null?Ne:ke.key),z=g(ke,z,Ne),He===null?ve=ke:He.sibling=ke,He=ke);return i&&ye.forEach(function(Ns){return s(q,Ns)}),Be&&wr(q,Ne),ve}function Te(q,z,Y,ee){if(Y==null)throw Error(r(151));for(var ve=null,He=null,ye=z,Ne=z=0,ke=null,qe=Y.next();ye!==null&&!qe.done;Ne++,qe=Y.next()){ye.index>Ne?(ke=ye,ye=null):ke=ye.sibling;var Ns=X(q,ye,qe.value,ee);if(Ns===null){ye===null&&(ye=ke);break}i&&ye&&Ns.alternate===null&&s(q,ye),z=g(Ns,z,Ne),He===null?ve=Ns:He.sibling=Ns,He=Ns,ye=ke}if(qe.done)return o(q,ye),Be&&wr(q,Ne),ve;if(ye===null){for(;!qe.done;Ne++,qe=Y.next())qe=ie(q,qe.value,ee),qe!==null&&(z=g(qe,z,Ne),He===null?ve=qe:He.sibling=qe,He=qe);return Be&&wr(q,Ne),ve}for(ye=c(ye);!qe.done;Ne++,qe=Y.next())qe=Q(ye,q,Ne,qe.value,ee),qe!==null&&(i&&qe.alternate!==null&&ye.delete(qe.key===null?Ne:qe.key),z=g(qe,z,Ne),He===null?ve=qe:He.sibling=qe,He=qe);return i&&ye.forEach(function(ID){return s(q,ID)}),Be&&wr(q,Ne),ve}function nt(q,z,Y,ee){if(typeof Y=="object"&&Y!==null&&Y.type===M&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:e:{for(var ve=Y.key;z!==null;){if(z.key===ve){if(ve=Y.type,ve===M){if(z.tag===7){o(q,z.sibling),ee=m(z,Y.props.children),ee.return=q,q=ee;break e}}else if(z.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===x&&Na(ve)===z.type){o(q,z.sibling),ee=m(z,Y.props),fu(ee,Y),ee.return=q,q=ee;break e}o(q,z);break}else s(q,z);z=z.sibling}Y.type===M?(ee=Ca(Y.props.children,q.mode,ee,Y.key),ee.return=q,q=ee):(ee=bh(Y.type,Y.key,Y.props,null,q.mode,ee),fu(ee,Y),ee.return=q,q=ee)}return E(q);case R:e:{for(ve=Y.key;z!==null;){if(z.key===ve)if(z.tag===4&&z.stateNode.containerInfo===Y.containerInfo&&z.stateNode.implementation===Y.implementation){o(q,z.sibling),ee=m(z,Y.children||[]),ee.return=q,q=ee;break e}else{o(q,z);break}else s(q,z);z=z.sibling}ee=wm(Y,q.mode,ee),ee.return=q,q=ee}return E(q);case x:return Y=Na(Y),nt(q,z,Y,ee)}if(Ge(Y))return pe(q,z,Y,ee);if(H(Y)){if(ve=H(Y),typeof ve!="function")throw Error(r(150));return Y=ve.call(Y),Te(q,z,Y,ee)}if(typeof Y.then=="function")return nt(q,z,Ih(Y),ee);if(Y.$$typeof===F)return nt(q,z,Ah(q,Y),ee);Dh(q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,z!==null&&z.tag===6?(o(q,z.sibling),ee=m(z,Y),ee.return=q,q=ee):(o(q,z),ee=bm(Y,q.mode,ee),ee.return=q,q=ee),E(q)):o(q,z)}return function(q,z,Y,ee){try{hu=0;var ve=nt(q,z,Y,ee);return Lo=null,ve}catch(ye){if(ye===ko||ye===xh)throw ye;var He=Mn(29,ye,null,q.mode);return He.lanes=ee,He.return=q,He}finally{}}}var Pa=S_(!0),A_=S_(!1),ms=!1;function Om(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function km(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ps(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function gs(i,s,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Ke&2)!==0){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=Eh(i),l_(i,null,o),s}return Th(i,c,s,o),Eh(i)}function du(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,zl(i,o)}}function Lm(i,s){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=E:g=g.next=E,o=o.next}while(o!==null);g===null?m=g=s:g=g.next=s}else m=g=s;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var jm=!1;function mu(){if(jm){var i=Oo;if(i!==null)throw i}}function pu(i,s,o,c){jm=!1;var m=i.updateQueue;ms=!1;var g=m.firstBaseUpdate,E=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var O=A,K=O.next;O.next=null,E===null?g=K:E.next=K,E=O;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==E&&(A===null?Z.firstBaseUpdate=K:A.next=K,Z.lastBaseUpdate=O))}if(g!==null){var ie=m.baseState;E=0,Z=K=O=null,A=g;do{var X=A.lane&-536870913,Q=X!==A.lane;if(Q?(Oe&X)===X:(c&X)===X){X!==0&&X===Vo&&(jm=!0),Z!==null&&(Z=Z.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var pe=i,Te=A;X=s;var nt=o;switch(Te.tag){case 1:if(pe=Te.payload,typeof pe=="function"){ie=pe.call(nt,ie,X);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Te.payload,X=typeof pe=="function"?pe.call(nt,ie,X):pe,X==null)break e;ie=v({},ie,X);break e;case 2:ms=!0}}X=A.callback,X!==null&&(i.flags|=64,Q&&(i.flags|=8192),Q=m.callbacks,Q===null?m.callbacks=[X]:Q.push(X))}else Q={lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(K=Z=Q,O=ie):Z=Z.next=Q,E|=X;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,m.lastBaseUpdate=Q,m.shared.pending=null}}while(!0);Z===null&&(O=ie),m.baseState=O,m.firstBaseUpdate=K,m.lastBaseUpdate=Z,g===null&&(m.shared.lanes=0),Es|=E,i.lanes=E,i.memoizedState=ie}}function C_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function x_(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)C_(o[i],s)}var jo=U(null),Nh=U(0);function R_(i,s){i=Vr,ue(Nh,i),ue(jo,s),Vr=i|s.baseLanes}function Um(){ue(Nh,Vr),ue(jo,jo.current)}function zm(){Vr=Nh.current,te(jo),te(Nh)}var Pn=U(null),Zn=null;function ys(i){var s=i.alternate;ue(Ct,Ct.current&1),ue(Pn,i),Zn===null&&(s===null||jo.current!==null||s.memoizedState!==null)&&(Zn=i)}function Bm(i){ue(Ct,Ct.current),ue(Pn,i),Zn===null&&(Zn=i)}function I_(i){i.tag===22?(ue(Ct,Ct.current),ue(Pn,i),Zn===null&&(Zn=i)):vs()}function vs(){ue(Ct,Ct.current),ue(Pn,Pn.current)}function Vn(i){te(Pn),Zn===i&&(Zn=null),te(Ct)}var Ct=U(0);function Mh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Kp(o)||Xp(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Cr=0,De=null,et=null,Ot=null,Ph=!1,Uo=!1,Va=!1,Vh=0,gu=0,zo=null,_I=0;function Tt(){throw Error(r(321))}function Fm(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Nn(i[o],s[o]))return!1;return!0}function Hm(i,s,o,c,m,g){return Cr=g,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=i===null||i.memoizedState===null?fT:rp,Va=!1,g=o(c,m),Va=!1,Uo&&(g=N_(s,o,c,m)),D_(i),g}function D_(i){W.H=_u;var s=et!==null&&et.next!==null;if(Cr=0,Ot=et=De=null,Ph=!1,gu=0,zo=null,s)throw Error(r(300));i===null||kt||(i=i.dependencies,i!==null&&Sh(i)&&(kt=!0))}function N_(i,s,o,c){De=i;var m=0;do{if(Uo&&(zo=null),gu=0,Uo=!1,25<=m)throw Error(r(301));if(m+=1,Ot=et=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=dT,g=s(o,c)}while(Uo);return g}function TI(){var i=W.H,s=i.useState()[0];return s=typeof s.then=="function"?yu(s):s,i=i.useState()[0],(et!==null?et.memoizedState:null)!==i&&(De.flags|=1024),s}function qm(){var i=Vh!==0;return Vh=0,i}function Gm(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Ym(i){if(Ph){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Ph=!1}Cr=0,Ot=et=De=null,Uo=!1,gu=Vh=0,zo=null}function pn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?De.memoizedState=Ot=i:Ot=Ot.next=i,Ot}function xt(){if(et===null){var i=De.alternate;i=i!==null?i.memoizedState:null}else i=et.next;var s=Ot===null?De.memoizedState:Ot.next;if(s!==null)Ot=s,et=i;else{if(i===null)throw De.alternate===null?Error(r(467)):Error(r(310));et=i,i={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Ot===null?De.memoizedState=Ot=i:Ot=Ot.next=i}return Ot}function Oh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yu(i){var s=gu;return gu+=1,zo===null&&(zo=[]),i=E_(zo,i,s),s=De,(Ot===null?s.memoizedState:Ot.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?fT:rp),i}function kh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return yu(i);if(i.$$typeof===F)return Zt(i)}throw Error(r(438,String(i)))}function Km(i){var s=null,o=De.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=De.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Oh(),De.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),c=0;c<i;c++)o[c]=L;return s.index++,o}function xr(i,s){return typeof s=="function"?s(i):s}function Lh(i){var s=xt();return Xm(s,et,i)}function Xm(i,s,o){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var m=i.baseQueue,g=c.pending;if(g!==null){if(m!==null){var E=m.next;m.next=g.next,g.next=E}s.baseQueue=m=g,c.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{s=m.next;var A=E=null,O=null,K=s,Z=!1;do{var ie=K.lane&-536870913;if(ie!==K.lane?(Oe&ie)===ie:(Cr&ie)===ie){var X=K.revertLane;if(X===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ie===Vo&&(Z=!0);else if((Cr&X)===X){K=K.next,X===Vo&&(Z=!0);continue}else ie={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(A=O=ie,E=g):O=O.next=ie,De.lanes|=X,Es|=X;ie=K.action,Va&&o(g,ie),g=K.hasEagerState?K.eagerState:o(g,ie)}else X={lane:ie,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},O===null?(A=O=X,E=g):O=O.next=X,De.lanes|=ie,Es|=ie;K=K.next}while(K!==null&&K!==s);if(O===null?E=g:O.next=A,!Nn(g,i.memoizedState)&&(kt=!0,Z&&(o=Oo,o!==null)))throw o;i.memoizedState=g,i.baseState=E,i.baseQueue=O,c.lastRenderedState=g}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function $m(i){var s=xt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,g=s.memoizedState;if(m!==null){o.pending=null;var E=m=m.next;do g=i(g,E.action),E=E.next;while(E!==m);Nn(g,s.memoizedState)||(kt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function M_(i,s,o){var c=De,m=xt(),g=Be;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var E=!Nn((et||m).memoizedState,o);if(E&&(m.memoizedState=o,kt=!0),m=m.queue,Zm(O_.bind(null,c,m,i),[i]),m.getSnapshot!==s||E||Ot!==null&&Ot.memoizedState.tag&1){if(c.flags|=2048,Bo(9,{destroy:void 0},V_.bind(null,c,m,o,s),null),it===null)throw Error(r(349));g||(Cr&127)!==0||P_(c,s,o)}return o}function P_(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=De.updateQueue,s===null?(s=Oh(),De.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function V_(i,s,o,c){s.value=o,s.getSnapshot=c,k_(s)&&L_(i)}function O_(i,s,o){return o(function(){k_(s)&&L_(i)})}function k_(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Nn(i,o)}catch{return!0}}function L_(i){var s=Aa(i,2);s!==null&&Sn(s,i,2)}function Qm(i){var s=pn();if(typeof i=="function"){var o=i;if(i=o(),Va){Fn(!0);try{o()}finally{Fn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:i},s}function j_(i,s,o,c){return i.baseState=o,Xm(i,et,typeof c=="function"?c:xr)}function EI(i,s,o,c,m){if(zh(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};W.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,U_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function U_(i,s){var o=s.action,c=s.payload,m=i.state;if(s.isTransition){var g=W.T,E={};W.T=E;try{var A=o(m,c),O=W.S;O!==null&&O(E,A),z_(i,s,A)}catch(K){Wm(i,s,K)}finally{g!==null&&E.types!==null&&(g.types=E.types),W.T=g}}else try{g=o(m,c),z_(i,s,g)}catch(K){Wm(i,s,K)}}function z_(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){B_(i,s,c)},function(c){return Wm(i,s,c)}):B_(i,s,o)}function B_(i,s,o){s.status="fulfilled",s.value=o,F_(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,U_(i,o)))}function Wm(i,s,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,F_(s),s=s.next;while(s!==c)}i.action=null}function F_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function H_(i,s){return s}function q_(i,s){if(Be){var o=it.formState;if(o!==null){e:{var c=De;if(Be){if(ot){t:{for(var m=ot,g=Wn;m.nodeType!==8;){if(!g){m=null;break t}if(m=Jn(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){ot=Jn(m.nextSibling),c=m.data==="F!";break e}}fs(c)}c=!1}c&&(s=o[0])}}return o=pn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:H_,lastRenderedState:s},o.queue=c,o=uT.bind(null,De,c),c.dispatch=o,c=Qm(!1),g=ip.bind(null,De,!1,c.queue),c=pn(),m={state:s,dispatch:null,action:i,pending:null},c.queue=m,o=EI.bind(null,De,m,g,o),m.dispatch=o,c.memoizedState=i,[s,o,!1]}function G_(i){var s=xt();return Y_(s,et,i)}function Y_(i,s,o){if(s=Xm(i,s,H_)[0],i=Lh(xr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=yu(s)}catch(E){throw E===ko?xh:E}else c=s;s=xt();var m=s.queue,g=m.dispatch;return o!==s.memoizedState&&(De.flags|=2048,Bo(9,{destroy:void 0},bI.bind(null,m,o),null)),[c,g,i]}function bI(i,s){i.action=s}function K_(i){var s=xt(),o=et;if(o!==null)return Y_(s,o,i);xt(),s=s.memoizedState,o=xt();var c=o.queue.dispatch;return o.memoizedState=i,[s,c,!1]}function Bo(i,s,o,c){return i={tag:i,create:o,deps:c,inst:s,next:null},s=De.updateQueue,s===null&&(s=Oh(),De.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,s.lastEffect=i),i}function X_(){return xt().memoizedState}function jh(i,s,o,c){var m=pn();De.flags|=i,m.memoizedState=Bo(1|s,{destroy:void 0},o,c===void 0?null:c)}function Uh(i,s,o,c){var m=xt();c=c===void 0?null:c;var g=m.memoizedState.inst;et!==null&&c!==null&&Fm(c,et.memoizedState.deps)?m.memoizedState=Bo(s,g,o,c):(De.flags|=i,m.memoizedState=Bo(1|s,g,o,c))}function $_(i,s){jh(8390656,8,i,s)}function Zm(i,s){Uh(2048,8,i,s)}function wI(i){De.flags|=4;var s=De.updateQueue;if(s===null)s=Oh(),De.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function Q_(i){var s=xt().memoizedState;return wI({ref:s,nextImpl:i}),function(){if((Ke&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function W_(i,s){return Uh(4,2,i,s)}function Z_(i,s){return Uh(4,4,i,s)}function J_(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function eT(i,s,o){o=o!=null?o.concat([i]):null,Uh(4,4,J_.bind(null,s,i),o)}function Jm(){}function tT(i,s){var o=xt();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Fm(s,c[1])?c[0]:(o.memoizedState=[i,s],i)}function nT(i,s){var o=xt();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Fm(s,c[1]))return c[0];if(c=i(),Va){Fn(!0);try{i()}finally{Fn(!1)}}return o.memoizedState=[c,s],c}function ep(i,s,o){return o===void 0||(Cr&1073741824)!==0&&(Oe&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=iE(),De.lanes|=i,Es|=i,o)}function iT(i,s,o,c){return Nn(o,s)?o:jo.current!==null?(i=ep(i,o,c),Nn(i,s)||(kt=!0),i):(Cr&42)===0||(Cr&1073741824)!==0&&(Oe&261930)===0?(kt=!0,i.memoizedState=o):(i=iE(),De.lanes|=i,Es|=i,s)}function rT(i,s,o,c,m){var g=oe.p;oe.p=g!==0&&8>g?g:8;var E=W.T,A={};W.T=A,ip(i,!1,s,o);try{var O=m(),K=W.S;if(K!==null&&K(A,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Z=vI(O,c);vu(i,s,Z,Ln(i))}else vu(i,s,c,Ln(i))}catch(ie){vu(i,s,{then:function(){},status:"rejected",reason:ie},Ln())}finally{oe.p=g,E!==null&&A.types!==null&&(E.types=A.types),W.T=E}}function SI(){}function tp(i,s,o,c){if(i.tag!==5)throw Error(r(476));var m=sT(i).queue;rT(i,m,s,de,o===null?SI:function(){return aT(i),o(c)})}function sT(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:de},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function aT(i){var s=sT(i);s.next===null&&(s=i.alternate.memoizedState),vu(i,s.next.queue,{},Ln())}function np(){return Zt(Ou)}function oT(){return xt().memoizedState}function lT(){return xt().memoizedState}function AI(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Ln();i=ps(o);var c=gs(s,i,o);c!==null&&(Sn(c,s,o),du(c,s,o)),s={cache:Nm()},i.payload=s;return}s=s.return}}function CI(i,s,o){var c=Ln();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},zh(i)?cT(s,o):(o=Tm(i,s,o,c),o!==null&&(Sn(o,i,c),hT(o,s,c)))}function uT(i,s,o){var c=Ln();vu(i,s,o,c)}function vu(i,s,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(zh(i))cT(s,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,A=g(E,o);if(m.hasEagerState=!0,m.eagerState=A,Nn(A,E))return Th(i,s,m,0),it===null&&_h(),!1}catch{}finally{}if(o=Tm(i,s,m,c),o!==null)return Sn(o,i,c),hT(o,s,c),!0}return!1}function ip(i,s,o,c){if(c={lane:2,revertLane:Op(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},zh(i)){if(s)throw Error(r(479))}else s=Tm(i,o,c,2),s!==null&&Sn(s,i,2)}function zh(i){var s=i.alternate;return i===De||s!==null&&s===De}function cT(i,s){Uo=Ph=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function hT(i,s,o){if((o&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,zl(i,o)}}var _u={readContext:Zt,use:kh,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};_u.useEffectEvent=Tt;var fT={readContext:Zt,use:kh,useCallback:function(i,s){return pn().memoizedState=[i,s===void 0?null:s],i},useContext:Zt,useEffect:$_,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,jh(4194308,4,J_.bind(null,s,i),o)},useLayoutEffect:function(i,s){return jh(4194308,4,i,s)},useInsertionEffect:function(i,s){jh(4,2,i,s)},useMemo:function(i,s){var o=pn();s=s===void 0?null:s;var c=i();if(Va){Fn(!0);try{i()}finally{Fn(!1)}}return o.memoizedState=[c,s],c},useReducer:function(i,s,o){var c=pn();if(o!==void 0){var m=o(s);if(Va){Fn(!0);try{o(s)}finally{Fn(!1)}}}else m=s;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=CI.bind(null,De,i),[c.memoizedState,i]},useRef:function(i){var s=pn();return i={current:i},s.memoizedState=i},useState:function(i){i=Qm(i);var s=i.queue,o=uT.bind(null,De,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Jm,useDeferredValue:function(i,s){var o=pn();return ep(o,i,s)},useTransition:function(){var i=Qm(!1);return i=rT.bind(null,De,i.queue,!0,!1),pn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var c=De,m=pn();if(Be){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),it===null)throw Error(r(349));(Oe&127)!==0||P_(c,s,o)}m.memoizedState=o;var g={value:o,getSnapshot:s};return m.queue=g,$_(O_.bind(null,c,g,i),[i]),c.flags|=2048,Bo(9,{destroy:void 0},V_.bind(null,c,g,o,s),null),o},useId:function(){var i=pn(),s=it.identifierPrefix;if(Be){var o=Ji,c=Zi;o=(c&~(1<<32-St(c)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Vh++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=_I++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:np,useFormState:q_,useActionState:q_,useOptimistic:function(i){var s=pn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=ip.bind(null,De,!0,o),o.dispatch=s,[i,s]},useMemoCache:Km,useCacheRefresh:function(){return pn().memoizedState=AI.bind(null,De)},useEffectEvent:function(i){var s=pn(),o={impl:i};return s.memoizedState=o,function(){if((Ke&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},rp={readContext:Zt,use:kh,useCallback:tT,useContext:Zt,useEffect:Zm,useImperativeHandle:eT,useInsertionEffect:W_,useLayoutEffect:Z_,useMemo:nT,useReducer:Lh,useRef:X_,useState:function(){return Lh(xr)},useDebugValue:Jm,useDeferredValue:function(i,s){var o=xt();return iT(o,et.memoizedState,i,s)},useTransition:function(){var i=Lh(xr)[0],s=xt().memoizedState;return[typeof i=="boolean"?i:yu(i),s]},useSyncExternalStore:M_,useId:oT,useHostTransitionStatus:np,useFormState:G_,useActionState:G_,useOptimistic:function(i,s){var o=xt();return j_(o,et,i,s)},useMemoCache:Km,useCacheRefresh:lT};rp.useEffectEvent=Q_;var dT={readContext:Zt,use:kh,useCallback:tT,useContext:Zt,useEffect:Zm,useImperativeHandle:eT,useInsertionEffect:W_,useLayoutEffect:Z_,useMemo:nT,useReducer:$m,useRef:X_,useState:function(){return $m(xr)},useDebugValue:Jm,useDeferredValue:function(i,s){var o=xt();return et===null?ep(o,i,s):iT(o,et.memoizedState,i,s)},useTransition:function(){var i=$m(xr)[0],s=xt().memoizedState;return[typeof i=="boolean"?i:yu(i),s]},useSyncExternalStore:M_,useId:oT,useHostTransitionStatus:np,useFormState:K_,useActionState:K_,useOptimistic:function(i,s){var o=xt();return et!==null?j_(o,et,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Km,useCacheRefresh:lT};dT.useEffectEvent=Q_;function sp(i,s,o,c){s=i.memoizedState,o=o(c,s),o=o==null?s:v({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var ap={enqueueSetState:function(i,s,o){i=i._reactInternals;var c=Ln(),m=ps(c);m.payload=s,o!=null&&(m.callback=o),s=gs(i,m,c),s!==null&&(Sn(s,i,c),du(s,i,c))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var c=Ln(),m=ps(c);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=gs(i,m,c),s!==null&&(Sn(s,i,c),du(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Ln(),c=ps(o);c.tag=2,s!=null&&(c.callback=s),s=gs(i,c,o),s!==null&&(Sn(s,i,o),du(s,i,o))}};function mT(i,s,o,c,m,g,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,E):s.prototype&&s.prototype.isPureReactComponent?!su(o,c)||!su(m,g):!0}function pT(i,s,o,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==i&&ap.enqueueReplaceState(s,s.state,null)}function Oa(i,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(i=i.defaultProps){o===s&&(o=v({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function gT(i){vh(i)}function yT(i){console.error(i)}function vT(i){vh(i)}function Bh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function _T(i,s,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function op(i,s,o){return o=ps(o),o.tag=3,o.payload={element:null},o.callback=function(){Bh(i,s)},o}function TT(i){return i=ps(i),i.tag=3,i}function ET(i,s,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;i.payload=function(){return m(g)},i.callback=function(){_T(s,o,c)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){_T(s,o,c),typeof m!="function"&&(bs===null?bs=new Set([this]):bs.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function xI(i,s,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&Po(s,o,m,!0),o=Pn.current,o!==null){switch(o.tag){case 31:case 13:return Zn===null?Jh():o.alternate===null&&Et===0&&(Et=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===Rh?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Mp(i,c,m)),!1;case 22:return o.flags|=65536,c===Rh?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Mp(i,c,m)),!1}throw Error(r(435,o.tag))}return Mp(i,c,m),Jh(),!1}if(Be)return s=Pn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==Cm&&(i=Error(r(422),{cause:c}),lu(Xn(i,o)))):(c!==Cm&&(s=Error(r(423),{cause:c}),lu(Xn(s,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=Xn(c,o),m=op(i.stateNode,c,m),Lm(i,m),Et!==4&&(Et=2)),!1;var g=Error(r(520),{cause:c});if(g=Xn(g,o),xu===null?xu=[g]:xu.push(g),Et!==4&&(Et=2),s===null)return!0;c=Xn(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=op(o.stateNode,c,i),Lm(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(bs===null||!bs.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=TT(m),ET(m,i,o,c),Lm(o,m),!1}o=o.return}while(o!==null);return!1}var lp=Error(r(461)),kt=!1;function Jt(i,s,o,c){s.child=i===null?A_(s,null,o,c):Pa(s,i.child,o,c)}function bT(i,s,o,c,m){o=o.render;var g=s.ref;if("ref"in c){var E={};for(var A in c)A!=="ref"&&(E[A]=c[A])}else E=c;return Ia(s),c=Hm(i,s,o,E,g,m),A=qm(),i!==null&&!kt?(Gm(i,s,m),Rr(i,s,m)):(Be&&A&&Sm(s),s.flags|=1,Jt(i,s,c,m),s.child)}function wT(i,s,o,c,m){if(i===null){var g=o.type;return typeof g=="function"&&!Em(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,ST(i,s,g,c,m)):(i=bh(o.type,null,c,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!gp(i,m)){var E=g.memoizedProps;if(o=o.compare,o=o!==null?o:su,o(E,c)&&i.ref===s.ref)return Rr(i,s,m)}return s.flags|=1,i=br(g,c),i.ref=s.ref,i.return=s,s.child=i}function ST(i,s,o,c,m){if(i!==null){var g=i.memoizedProps;if(su(g,c)&&i.ref===s.ref)if(kt=!1,s.pendingProps=c=g,gp(i,m))(i.flags&131072)!==0&&(kt=!0);else return s.lanes=i.lanes,Rr(i,s,m)}return up(i,s,o,c,m)}function AT(i,s,o,c){var m=c.children,g=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=s.child=i.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,s.child=null;return CT(i,s,g,o,c)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ch(s,g!==null?g.cachePool:null),g!==null?R_(s,g):Um(),I_(s);else return c=s.lanes=536870912,CT(i,s,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(Ch(s,g.cachePool),R_(s,g),vs(),s.memoizedState=null):(i!==null&&Ch(s,null),Um(),vs());return Jt(i,s,m,o),s.child}function Tu(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function CT(i,s,o,c,m){var g=Pm();return g=g===null?null:{parent:Vt._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},i!==null&&Ch(s,null),Um(),I_(s),i!==null&&Po(i,s,c,!0),s.childLanes=m,null}function Fh(i,s){return s=qh({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function xT(i,s,o){return Pa(s,i.child,null,o),i=Fh(s,s.pendingProps),i.flags|=2,Vn(s),s.memoizedState=null,i}function RI(i,s,o){var c=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Be){if(c.mode==="hidden")return i=Fh(s,c),s.lanes=536870912,Tu(null,i);if(Bm(s),(i=ot)?(i=UE(i,Wn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:cs!==null?{id:Zi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},o=c_(i),o.return=s,s.child=o,Wt=s,ot=null)):i=null,i===null)throw fs(s);return s.lanes=536870912,null}return Fh(s,c)}var g=i.memoizedState;if(g!==null){var E=g.dehydrated;if(Bm(s),m)if(s.flags&256)s.flags&=-257,s=xT(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(kt||Po(i,s,o,!1),m=(o&i.childLanes)!==0,kt||m){if(c=it,c!==null&&(E=Bl(c,o),E!==0&&E!==g.retryLane))throw g.retryLane=E,Aa(i,E),Sn(c,i,E),lp;Jh(),s=xT(i,s,o)}else i=g.treeContext,ot=Jn(E.nextSibling),Wt=s,Be=!0,hs=null,Wn=!1,i!==null&&d_(s,i),s=Fh(s,c),s.flags|=4096;return s}return i=br(i.child,{mode:c.mode,children:c.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Hh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function up(i,s,o,c,m){return Ia(s),o=Hm(i,s,o,c,void 0,m),c=qm(),i!==null&&!kt?(Gm(i,s,m),Rr(i,s,m)):(Be&&c&&Sm(s),s.flags|=1,Jt(i,s,o,m),s.child)}function RT(i,s,o,c,m,g){return Ia(s),s.updateQueue=null,o=N_(s,c,o,m),D_(i),c=qm(),i!==null&&!kt?(Gm(i,s,g),Rr(i,s,g)):(Be&&c&&Sm(s),s.flags|=1,Jt(i,s,o,g),s.child)}function IT(i,s,o,c,m){if(Ia(s),s.stateNode===null){var g=Io,E=o.contextType;typeof E=="object"&&E!==null&&(g=Zt(E)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ap,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},Om(s),E=o.contextType,g.context=typeof E=="object"&&E!==null?Zt(E):Io,g.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(sp(s,o,E,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&ap.enqueueReplaceState(g,g.state,null),pu(s,c,g,m),mu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){g=s.stateNode;var A=s.memoizedProps,O=Oa(o,A);g.props=O;var K=g.context,Z=o.contextType;E=Io,typeof Z=="object"&&Z!==null&&(E=Zt(Z));var ie=o.getDerivedStateFromProps;Z=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||K!==E)&&pT(s,g,c,E),ms=!1;var X=s.memoizedState;g.state=X,pu(s,c,g,m),mu(),K=s.memoizedState,A||X!==K||ms?(typeof ie=="function"&&(sp(s,o,ie,c),K=s.memoizedState),(O=ms||mT(s,o,O,c,X,K,E))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=K),g.props=c,g.state=K,g.context=E,c=O):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,km(i,s),E=s.memoizedProps,Z=Oa(o,E),g.props=Z,ie=s.pendingProps,X=g.context,K=o.contextType,O=Io,typeof K=="object"&&K!==null&&(O=Zt(K)),A=o.getDerivedStateFromProps,(K=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==ie||X!==O)&&pT(s,g,c,O),ms=!1,X=s.memoizedState,g.state=X,pu(s,c,g,m),mu();var Q=s.memoizedState;E!==ie||X!==Q||ms||i!==null&&i.dependencies!==null&&Sh(i.dependencies)?(typeof A=="function"&&(sp(s,o,A,c),Q=s.memoizedState),(Z=ms||mT(s,o,Z,c,X,Q,O)||i!==null&&i.dependencies!==null&&Sh(i.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,Q,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,Q,O)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Q),g.props=c,g.state=Q,g.context=O,c=Z):(typeof g.componentDidUpdate!="function"||E===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),c=!1)}return g=c,Hh(i,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&c?(s.child=Pa(s,i.child,null,m),s.child=Pa(s,null,o,m)):Jt(i,s,o,m),s.memoizedState=g.state,i=s.child):i=Rr(i,s,m),i}function DT(i,s,o,c){return xa(),s.flags|=256,Jt(i,s,o,c),s.child}var cp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hp(i){return{baseLanes:i,cachePool:__()}}function fp(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=kn),i}function NT(i,s,o){var c=s.pendingProps,m=!1,g=(s.flags&128)!==0,E;if((E=g)||(E=i!==null&&i.memoizedState===null?!1:(Ct.current&2)!==0),E&&(m=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,i===null){if(Be){if(m?ys(s):vs(),(i=ot)?(i=UE(i,Wn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:cs!==null?{id:Zi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},o=c_(i),o.return=s,s.child=o,Wt=s,ot=null)):i=null,i===null)throw fs(s);return Xp(i)?s.lanes=32:s.lanes=536870912,null}var A=c.children;return c=c.fallback,m?(vs(),m=s.mode,A=qh({mode:"hidden",children:A},m),c=Ca(c,m,o,null),A.return=s,c.return=s,A.sibling=c,s.child=A,c=s.child,c.memoizedState=hp(o),c.childLanes=fp(i,E,o),s.memoizedState=cp,Tu(null,c)):(ys(s),dp(s,A))}var O=i.memoizedState;if(O!==null&&(A=O.dehydrated,A!==null)){if(g)s.flags&256?(ys(s),s.flags&=-257,s=mp(i,s,o)):s.memoizedState!==null?(vs(),s.child=i.child,s.flags|=128,s=null):(vs(),A=c.fallback,m=s.mode,c=qh({mode:"visible",children:c.children},m),A=Ca(A,m,o,null),A.flags|=2,c.return=s,A.return=s,c.sibling=A,s.child=c,Pa(s,i.child,null,o),c=s.child,c.memoizedState=hp(o),c.childLanes=fp(i,E,o),s.memoizedState=cp,s=Tu(null,c));else if(ys(s),Xp(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var K=E.dgst;E=K,c=Error(r(419)),c.stack="",c.digest=E,lu({value:c,source:null,stack:null}),s=mp(i,s,o)}else if(kt||Po(i,s,o,!1),E=(o&i.childLanes)!==0,kt||E){if(E=it,E!==null&&(c=Bl(E,o),c!==0&&c!==O.retryLane))throw O.retryLane=c,Aa(i,c),Sn(E,i,c),lp;Kp(A)||Jh(),s=mp(i,s,o)}else Kp(A)?(s.flags|=192,s.child=i.child,s=null):(i=O.treeContext,ot=Jn(A.nextSibling),Wt=s,Be=!0,hs=null,Wn=!1,i!==null&&d_(s,i),s=dp(s,c.children),s.flags|=4096);return s}return m?(vs(),A=c.fallback,m=s.mode,O=i.child,K=O.sibling,c=br(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,K!==null?A=br(K,A):(A=Ca(A,m,o,null),A.flags|=2),A.return=s,c.return=s,c.sibling=A,s.child=c,Tu(null,c),c=s.child,A=i.child.memoizedState,A===null?A=hp(o):(m=A.cachePool,m!==null?(O=Vt._currentValue,m=m.parent!==O?{parent:O,pool:O}:m):m=__(),A={baseLanes:A.baseLanes|o,cachePool:m}),c.memoizedState=A,c.childLanes=fp(i,E,o),s.memoizedState=cp,Tu(i.child,c)):(ys(s),o=i.child,i=o.sibling,o=br(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,i!==null&&(E=s.deletions,E===null?(s.deletions=[i],s.flags|=16):E.push(i)),s.child=o,s.memoizedState=null,o)}function dp(i,s){return s=qh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function qh(i,s){return i=Mn(22,i,null,s),i.lanes=0,i}function mp(i,s,o){return Pa(s,i.child,null,o),i=dp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function MT(i,s,o){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),Im(i.return,s,o)}function pp(i,s,o,c,m,g){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=c,E.tail=o,E.tailMode=m,E.treeForkCount=g)}function PT(i,s,o){var c=s.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var E=Ct.current,A=(E&2)!==0;if(A?(E=E&1|2,s.flags|=128):E&=1,ue(Ct,E),Jt(i,s,c,o),c=Be?ou:0,!A&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&MT(i,o,s);else if(i.tag===19)MT(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=s.child,m=null;o!==null;)i=o.alternate,i!==null&&Mh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),pp(s,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&Mh(i)===null){s.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}pp(s,!0,o,null,g,c);break;case"together":pp(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Rr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),Es|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(Po(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=br(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=br(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function gp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Sh(i)))}function II(i,s,o){switch(s.tag){case 3:mt(s,s.stateNode.containerInfo),ds(s,Vt,i.memoizedState.cache),xa();break;case 27:case 5:Bn(s);break;case 4:mt(s,s.stateNode.containerInfo);break;case 10:ds(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Bm(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ys(s),s.flags|=128,null):(o&s.child.childLanes)!==0?NT(i,s,o):(ys(s),i=Rr(i,s,o),i!==null?i.sibling:null);ys(s);break;case 19:var m=(i.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(Po(i,s,o,!1),c=(o&s.childLanes)!==0),m){if(c)return PT(i,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ue(Ct,Ct.current),c)break;return null;case 22:return s.lanes=0,AT(i,s,o,s.pendingProps);case 24:ds(s,Vt,i.memoizedState.cache)}return Rr(i,s,o)}function VT(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)kt=!0;else{if(!gp(i,o)&&(s.flags&128)===0)return kt=!1,II(i,s,o);kt=(i.flags&131072)!==0}else kt=!1,Be&&(s.flags&1048576)!==0&&f_(s,ou,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(i=Na(s.elementType),s.type=i,typeof i=="function")Em(i)?(c=Oa(i,c),s.tag=1,s=IT(null,s,i,c,o)):(s.tag=0,s=up(null,s,i,c,o));else{if(i!=null){var m=i.$$typeof;if(m===ae){s.tag=11,s=bT(null,s,i,c,o);break e}else if(m===I){s.tag=14,s=wT(null,s,i,c,o);break e}}throw s=ze(i)||i,Error(r(306,s,""))}}return s;case 0:return up(i,s,s.type,s.pendingProps,o);case 1:return c=s.type,m=Oa(c,s.pendingProps),IT(i,s,c,m,o);case 3:e:{if(mt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var g=s.memoizedState;m=g.element,km(i,s),pu(s,c,null,o);var E=s.memoizedState;if(c=E.cache,ds(s,Vt,c),c!==g.cache&&Dm(s,[Vt],o,!0),mu(),c=E.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=DT(i,s,c,o);break e}else if(c!==m){m=Xn(Error(r(424)),s),lu(m),s=DT(i,s,c,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ot=Jn(i.firstChild),Wt=s,Be=!0,hs=null,Wn=!0,o=A_(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(xa(),c===m){s=Rr(i,s,o);break e}Jt(i,s,c,o)}s=s.child}return s;case 26:return Hh(i,s),i===null?(o=GE(s.type,null,s.pendingProps,null))?s.memoizedState=o:Be||(o=s.type,i=s.pendingProps,c=of(ge.current).createElement(o),c[Nt]=s,c[Gt]=i,en(c,o,i),Mt(c),s.stateNode=c):s.memoizedState=GE(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Bn(s),i===null&&Be&&(c=s.stateNode=FE(s.type,s.pendingProps,ge.current),Wt=s,Wn=!0,m=ot,Cs(s.type)?($p=m,ot=Jn(c.firstChild)):ot=m),Jt(i,s,s.pendingProps.children,o),Hh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Be&&((m=c=ot)&&(c=sD(c,s.type,s.pendingProps,Wn),c!==null?(s.stateNode=c,Wt=s,ot=Jn(c.firstChild),Wn=!1,m=!0):m=!1),m||fs(s)),Bn(s),m=s.type,g=s.pendingProps,E=i!==null?i.memoizedProps:null,c=g.children,qp(m,g)?c=null:E!==null&&qp(m,E)&&(s.flags|=32),s.memoizedState!==null&&(m=Hm(i,s,TI,null,null,o),Ou._currentValue=m),Hh(i,s),Jt(i,s,c,o),s.child;case 6:return i===null&&Be&&((i=o=ot)&&(o=aD(o,s.pendingProps,Wn),o!==null?(s.stateNode=o,Wt=s,ot=null,i=!0):i=!1),i||fs(s)),null;case 13:return NT(i,s,o);case 4:return mt(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=Pa(s,null,c,o):Jt(i,s,c,o),s.child;case 11:return bT(i,s,s.type,s.pendingProps,o);case 7:return Jt(i,s,s.pendingProps,o),s.child;case 8:return Jt(i,s,s.pendingProps.children,o),s.child;case 12:return Jt(i,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,ds(s,s.type,c.value),Jt(i,s,c.children,o),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,Ia(s),m=Zt(m),c=c(m),s.flags|=1,Jt(i,s,c,o),s.child;case 14:return wT(i,s,s.type,s.pendingProps,o);case 15:return ST(i,s,s.type,s.pendingProps,o);case 19:return PT(i,s,o);case 31:return RI(i,s,o);case 22:return AT(i,s,o,s.pendingProps);case 24:return Ia(s),c=Zt(Vt),i===null?(m=Pm(),m===null&&(m=it,g=Nm(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),s.memoizedState={parent:c,cache:m},Om(s),ds(s,Vt,m)):((i.lanes&o)!==0&&(km(i,s),pu(s,null,null,o),mu()),m=i.memoizedState,g=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),ds(s,Vt,c)):(c=g.cache,ds(s,Vt,c),c!==m.cache&&Dm(s,[Vt],o,!0))),Jt(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ir(i){i.flags|=4}function yp(i,s,o,c,m){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(oE())i.flags|=8192;else throw Ma=Rh,Vm}else i.flags&=-16777217}function OT(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!QE(s))if(oE())i.flags|=8192;else throw Ma=Rh,Vm}function Gh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Wc():536870912,i.lanes|=s,Go|=s)}function Eu(i,s){if(!Be)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function lt(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(s)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,s}function DI(i,s,o){var c=s.pendingProps;switch(Am(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(s),null;case 1:return lt(s),null;case 3:return o=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ar(Vt),$e(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Mo(s)?Ir(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,xm())),lt(s),null;case 26:var m=s.type,g=s.memoizedState;return i===null?(Ir(s),g!==null?(lt(s),OT(s,g)):(lt(s),yp(s,m,null,c,o))):g?g!==i.memoizedState?(Ir(s),lt(s),OT(s,g)):(lt(s),s.flags&=-16777217):(i=i.memoizedProps,i!==c&&Ir(s),lt(s),yp(s,m,i,c,o)),null;case 27:if(fi(s),o=ge.current,m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Ir(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return lt(s),null}i=J.current,Mo(s)?m_(s):(i=FE(m,c,o),s.stateNode=i,Ir(s))}return lt(s),null;case 5:if(fi(s),m=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&Ir(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return lt(s),null}if(g=J.current,Mo(s))m_(s);else{var E=of(ge.current);switch(g){case 1:g=E.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=E.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=E.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?E.createElement("select",{is:c.is}):E.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?E.createElement(m,{is:c.is}):E.createElement(m)}}g[Nt]=s,g[Gt]=c;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)g.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=g;e:switch(en(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ir(s)}}return lt(s),yp(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&Ir(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=ge.current,Mo(s)){if(i=s.stateNode,o=s.memoizedProps,c=null,m=Wt,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[Nt]=s,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||NE(i.nodeValue,o)),i||fs(s,!0)}else i=of(i).createTextNode(c),i[Nt]=s,s.stateNode=i}return lt(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(c=Mo(s),o!==null){if(i===null){if(!c)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[Nt]=s}else xa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lt(s),i=!1}else o=xm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(Vn(s),s):(Vn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return lt(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Mo(s),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Nt]=s}else xa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lt(s),m=!1}else m=xm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Vn(s),s):(Vn(s),null)}return Vn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),Gh(s,s.updateQueue),lt(s),null);case 4:return $e(),i===null&&Up(s.stateNode.containerInfo),lt(s),null;case 10:return Ar(s.type),lt(s),null;case 19:if(te(Ct),c=s.memoizedState,c===null)return lt(s),null;if(m=(s.flags&128)!==0,g=c.rendering,g===null)if(m)Eu(c,!1);else{if(Et!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=Mh(i),g!==null){for(s.flags|=128,Eu(c,!1),i=g.updateQueue,s.updateQueue=i,Gh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)u_(o,i),o=o.sibling;return ue(Ct,Ct.current&1|2),Be&&wr(s,c.treeForkCount),s.child}i=i.sibling}c.tail!==null&&dn()>Qh&&(s.flags|=128,m=!0,Eu(c,!1),s.lanes=4194304)}else{if(!m)if(i=Mh(g),i!==null){if(s.flags|=128,m=!0,i=i.updateQueue,s.updateQueue=i,Gh(s,i),Eu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!Be)return lt(s),null}else 2*dn()-c.renderingStartTime>Qh&&o!==536870912&&(s.flags|=128,m=!0,Eu(c,!1),s.lanes=4194304);c.isBackwards?(g.sibling=s.child,s.child=g):(i=c.last,i!==null?i.sibling=g:s.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=dn(),i.sibling=null,o=Ct.current,ue(Ct,m?o&1|2:o&1),Be&&wr(s,c.treeForkCount),i):(lt(s),null);case 22:case 23:return Vn(s),zm(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(lt(s),s.subtreeFlags&6&&(s.flags|=8192)):lt(s),o=s.updateQueue,o!==null&&Gh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),i!==null&&te(Da),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ar(Vt),lt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function NI(i,s){switch(Am(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ar(Vt),$e(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return fi(s),null;case 31:if(s.memoizedState!==null){if(Vn(s),s.alternate===null)throw Error(r(340));xa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Vn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));xa()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return te(Ct),null;case 4:return $e(),null;case 10:return Ar(s.type),null;case 22:case 23:return Vn(s),zm(),i!==null&&te(Da),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ar(Vt),null;case 25:return null;default:return null}}function kT(i,s){switch(Am(s),s.tag){case 3:Ar(Vt),$e();break;case 26:case 27:case 5:fi(s);break;case 4:$e();break;case 31:s.memoizedState!==null&&Vn(s);break;case 13:Vn(s);break;case 19:te(Ct);break;case 10:Ar(s.type);break;case 22:case 23:Vn(s),zm(),i!==null&&te(Da);break;case 24:Ar(Vt)}}function bu(i,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var g=o.create,E=o.inst;c=g(),E.destroy=c}o=o.next}while(o!==m)}}catch(A){Ze(s,s.return,A)}}function _s(i,s,o){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&i)===i){var E=c.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,m=s;var O=o,K=A;try{K()}catch(Z){Ze(m,O,Z)}}}c=c.next}while(c!==g)}}catch(Z){Ze(s,s.return,Z)}}function LT(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{x_(s,o)}catch(c){Ze(i,i.return,c)}}}function jT(i,s,o){o.props=Oa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){Ze(i,s,c)}}function wu(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(m){Ze(i,s,m)}}function er(i,s){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Ze(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Ze(i,s,m)}else o.current=null}function UT(i){var s=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Ze(i,i.return,m)}}function vp(i,s,o){try{var c=i.stateNode;JI(c,i.type,o,s),c[Gt]=s}catch(m){Ze(i,i.return,m)}}function zT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Cs(i.type)||i.tag===4}function _p(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||zT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Cs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Tp(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=vi));else if(c!==4&&(c===27&&Cs(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Tp(i,s,o),i=i.sibling;i!==null;)Tp(i,s,o),i=i.sibling}function Yh(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(c!==4&&(c===27&&Cs(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Yh(i,s,o),i=i.sibling;i!==null;)Yh(i,s,o),i=i.sibling}function BT(i){var s=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);en(s,c,o),s[Nt]=i,s[Gt]=o}catch(g){Ze(i,i.return,g)}}var Dr=!1,Lt=!1,Ep=!1,FT=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function MI(i,s){if(i=i.containerInfo,Fp=mf,i=e_(i),mm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var E=0,A=-1,O=-1,K=0,Z=0,ie=i,X=null;t:for(;;){for(var Q;ie!==o||m!==0&&ie.nodeType!==3||(A=E+m),ie!==g||c!==0&&ie.nodeType!==3||(O=E+c),ie.nodeType===3&&(E+=ie.nodeValue.length),(Q=ie.firstChild)!==null;)X=ie,ie=Q;for(;;){if(ie===i)break t;if(X===o&&++K===m&&(A=E),X===g&&++Z===c&&(O=E),(Q=ie.nextSibling)!==null)break;ie=X,X=ie.parentNode}ie=Q}o=A===-1||O===-1?null:{start:A,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(Hp={focusedElem:i,selectionRange:o},mf=!1,Kt=s;Kt!==null;)if(s=Kt,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Kt=i;else for(;Kt!==null;){switch(s=Kt,g=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var pe=Oa(o.type,m);i=c.getSnapshotBeforeUpdate(pe,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(Te){Ze(o,o.return,Te)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Yp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Yp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Kt=i;break}Kt=s.return}}function HT(i,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Mr(i,o),c&4&&bu(5,o);break;case 1:if(Mr(i,o),c&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(E){Ze(o,o.return,E)}else{var m=Oa(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(E){Ze(o,o.return,E)}}c&64&&LT(o),c&512&&wu(o,o.return);break;case 3:if(Mr(i,o),c&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{x_(i,s)}catch(E){Ze(o,o.return,E)}}break;case 27:s===null&&c&4&&BT(o);case 26:case 5:Mr(i,o),s===null&&c&4&&UT(o),c&512&&wu(o,o.return);break;case 12:Mr(i,o);break;case 31:Mr(i,o),c&4&&YT(i,o);break;case 13:Mr(i,o),c&4&&KT(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=BI.bind(null,o),oD(i,o))));break;case 22:if(c=o.memoizedState!==null||Dr,!c){s=s!==null&&s.memoizedState!==null||Lt,m=Dr;var g=Lt;Dr=c,(Lt=s)&&!g?Pr(i,o,(o.subtreeFlags&8772)!==0):Mr(i,o),Dr=m,Lt=g}break;case 30:break;default:Mr(i,o)}}function qT(i){var s=i.alternate;s!==null&&(i.alternate=null,qT(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&po(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ht=null,Tn=!1;function Nr(i,s,o){for(o=o.child;o!==null;)GT(i,s,o),o=o.sibling}function GT(i,s,o){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(mi,o)}catch{}switch(o.tag){case 26:Lt||er(o,s),Nr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Lt||er(o,s);var c=ht,m=Tn;Cs(o.type)&&(ht=o.stateNode,Tn=!1),Nr(i,s,o),Mu(o.stateNode),ht=c,Tn=m;break;case 5:Lt||er(o,s);case 6:if(c=ht,m=Tn,ht=null,Nr(i,s,o),ht=c,Tn=m,ht!==null)if(Tn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(o.stateNode)}catch(g){Ze(o,s,g)}else try{ht.removeChild(o.stateNode)}catch(g){Ze(o,s,g)}break;case 18:ht!==null&&(Tn?(i=ht,LE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Jo(i)):LE(ht,o.stateNode));break;case 4:c=ht,m=Tn,ht=o.stateNode.containerInfo,Tn=!0,Nr(i,s,o),ht=c,Tn=m;break;case 0:case 11:case 14:case 15:_s(2,o,s),Lt||_s(4,o,s),Nr(i,s,o);break;case 1:Lt||(er(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&jT(o,s,c)),Nr(i,s,o);break;case 21:Nr(i,s,o);break;case 22:Lt=(c=Lt)||o.memoizedState!==null,Nr(i,s,o),Lt=c;break;default:Nr(i,s,o)}}function YT(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Jo(i)}catch(o){Ze(s,s.return,o)}}}function KT(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Jo(i)}catch(o){Ze(s,s.return,o)}}function PI(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new FT),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new FT),s;default:throw Error(r(435,i.tag))}}function Kh(i,s){var o=PI(i);s.forEach(function(c){if(!o.has(c)){o.add(c);var m=FI.bind(null,i,c);c.then(m,m)}})}function En(i,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=i,E=s,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(Cs(A.type)){ht=A.stateNode,Tn=!1;break e}break;case 5:ht=A.stateNode,Tn=!1;break e;case 3:case 4:ht=A.stateNode.containerInfo,Tn=!0;break e}A=A.return}if(ht===null)throw Error(r(160));GT(g,E,m),ht=null,Tn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)XT(s,i),s=s.sibling}var Si=null;function XT(i,s){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:En(s,i),bn(i),c&4&&(_s(3,i,i.return),bu(3,i),_s(5,i,i.return));break;case 1:En(s,i),bn(i),c&512&&(Lt||o===null||er(o,o.return)),c&64&&Dr&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Si;if(En(s,i),bn(i),c&512&&(Lt||o===null||er(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[zi]||g[Nt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),en(g,c,o),g[Nt]=i,Mt(g),c=g;break e;case"link":var E=XE("link","href",m).get(c+(o.href||""));if(E){for(var A=0;A<E.length;A++)if(g=E[A],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(A,1);break t}}g=m.createElement(c),en(g,c,o),m.head.appendChild(g);break;case"meta":if(E=XE("meta","content",m).get(c+(o.content||""))){for(A=0;A<E.length;A++)if(g=E[A],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(A,1);break t}}g=m.createElement(c),en(g,c,o),m.head.appendChild(g);break;default:throw Error(r(468,c))}g[Nt]=i,Mt(g),c=g}i.stateNode=c}else $E(m,i.type,i.stateNode);else i.stateNode=KE(m,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?$E(m,i.type,i.stateNode):KE(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&vp(i,i.memoizedProps,o.memoizedProps)}break;case 27:En(s,i),bn(i),c&512&&(Lt||o===null||er(o,o.return)),o!==null&&c&4&&vp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(En(s,i),bn(i),c&512&&(Lt||o===null||er(o,o.return)),i.flags&32){m=i.stateNode;try{_n(m,"")}catch(pe){Ze(i,i.return,pe)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,vp(i,m,o!==null?o.memoizedProps:m)),c&1024&&(Ep=!0);break;case 6:if(En(s,i),bn(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(pe){Ze(i,i.return,pe)}}break;case 3:if(cf=null,m=Si,Si=lf(s.containerInfo),En(s,i),Si=m,bn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Jo(s.containerInfo)}catch(pe){Ze(i,i.return,pe)}Ep&&(Ep=!1,$T(i));break;case 4:c=Si,Si=lf(i.stateNode.containerInfo),En(s,i),bn(i),Si=c;break;case 12:En(s,i),bn(i);break;case 31:En(s,i),bn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Kh(i,c)));break;case 13:En(s,i),bn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&($h=dn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Kh(i,c)));break;case 22:m=i.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,K=Dr,Z=Lt;if(Dr=K||m,Lt=Z||O,En(s,i),Lt=Z,Dr=K,bn(i),c&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||O||Dr||Lt||ka(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){O=o=s;try{if(g=O.stateNode,m)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=O.stateNode;var ie=O.memoizedProps.style,X=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;A.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(pe){Ze(O,O.return,pe)}}}else if(s.tag===6){if(o===null){O=s;try{O.stateNode.nodeValue=m?"":O.memoizedProps}catch(pe){Ze(O,O.return,pe)}}}else if(s.tag===18){if(o===null){O=s;try{var Q=O.stateNode;m?jE(Q,!0):jE(O.stateNode,!1)}catch(pe){Ze(O,O.return,pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Kh(i,o))));break;case 19:En(s,i),bn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Kh(i,c)));break;case 30:break;case 21:break;default:En(s,i),bn(i)}}function bn(i){var s=i.flags;if(s&2){try{for(var o,c=i.return;c!==null;){if(zT(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var m=o.stateNode,g=_p(i);Yh(i,g,m);break;case 5:var E=o.stateNode;o.flags&32&&(_n(E,""),o.flags&=-33);var A=_p(i);Yh(i,A,E);break;case 3:case 4:var O=o.stateNode.containerInfo,K=_p(i);Tp(i,K,O);break;default:throw Error(r(161))}}catch(Z){Ze(i,i.return,Z)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function $T(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;$T(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Mr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)HT(i,s.alternate,s),s=s.sibling}function ka(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:_s(4,s,s.return),ka(s);break;case 1:er(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&jT(s,s.return,o),ka(s);break;case 27:Mu(s.stateNode);case 26:case 5:er(s,s.return),ka(s);break;case 22:s.memoizedState===null&&ka(s);break;case 30:ka(s);break;default:ka(s)}i=i.sibling}}function Pr(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=i,g=s,E=g.flags;switch(g.tag){case 0:case 11:case 15:Pr(m,g,o),bu(4,g);break;case 1:if(Pr(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(K){Ze(c,c.return,K)}if(c=g,m=c.updateQueue,m!==null){var A=c.stateNode;try{var O=m.shared.hiddenCallbacks;if(O!==null)for(m.shared.hiddenCallbacks=null,m=0;m<O.length;m++)C_(O[m],A)}catch(K){Ze(c,c.return,K)}}o&&E&64&&LT(g),wu(g,g.return);break;case 27:BT(g);case 26:case 5:Pr(m,g,o),o&&c===null&&E&4&&UT(g),wu(g,g.return);break;case 12:Pr(m,g,o);break;case 31:Pr(m,g,o),o&&E&4&&YT(m,g);break;case 13:Pr(m,g,o),o&&E&4&&KT(m,g);break;case 22:g.memoizedState===null&&Pr(m,g,o),wu(g,g.return);break;case 30:break;default:Pr(m,g,o)}s=s.sibling}}function bp(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&uu(o))}function wp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&uu(i))}function Ai(i,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)QT(i,s,o,c),s=s.sibling}function QT(i,s,o,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Ai(i,s,o,c),m&2048&&bu(9,s);break;case 1:Ai(i,s,o,c);break;case 3:Ai(i,s,o,c),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&uu(i)));break;case 12:if(m&2048){Ai(i,s,o,c),i=s.stateNode;try{var g=s.memoizedProps,E=g.id,A=g.onPostCommit;typeof A=="function"&&A(E,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){Ze(s,s.return,O)}}else Ai(i,s,o,c);break;case 31:Ai(i,s,o,c);break;case 13:Ai(i,s,o,c);break;case 23:break;case 22:g=s.stateNode,E=s.alternate,s.memoizedState!==null?g._visibility&2?Ai(i,s,o,c):Su(i,s):g._visibility&2?Ai(i,s,o,c):(g._visibility|=2,Fo(i,s,o,c,(s.subtreeFlags&10256)!==0||!1)),m&2048&&bp(E,s);break;case 24:Ai(i,s,o,c),m&2048&&wp(s.alternate,s);break;default:Ai(i,s,o,c)}}function Fo(i,s,o,c,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=i,E=s,A=o,O=c,K=E.flags;switch(E.tag){case 0:case 11:case 15:Fo(g,E,A,O,m),bu(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?Fo(g,E,A,O,m):Su(g,E):(Z._visibility|=2,Fo(g,E,A,O,m)),m&&K&2048&&bp(E.alternate,E);break;case 24:Fo(g,E,A,O,m),m&&K&2048&&wp(E.alternate,E);break;default:Fo(g,E,A,O,m)}s=s.sibling}}function Su(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,c=s,m=c.flags;switch(c.tag){case 22:Su(o,c),m&2048&&bp(c.alternate,c);break;case 24:Su(o,c),m&2048&&wp(c.alternate,c);break;default:Su(o,c)}s=s.sibling}}var Au=8192;function Ho(i,s,o){if(i.subtreeFlags&Au)for(i=i.child;i!==null;)WT(i,s,o),i=i.sibling}function WT(i,s,o){switch(i.tag){case 26:Ho(i,s,o),i.flags&Au&&i.memoizedState!==null&&_D(o,Si,i.memoizedState,i.memoizedProps);break;case 5:Ho(i,s,o);break;case 3:case 4:var c=Si;Si=lf(i.stateNode.containerInfo),Ho(i,s,o),Si=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=Au,Au=16777216,Ho(i,s,o),Au=c):Ho(i,s,o));break;default:Ho(i,s,o)}}function ZT(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Cu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Kt=c,eE(c,i)}ZT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)JT(i),i=i.sibling}function JT(i){switch(i.tag){case 0:case 11:case 15:Cu(i),i.flags&2048&&_s(9,i,i.return);break;case 3:Cu(i);break;case 12:Cu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Xh(i)):Cu(i);break;default:Cu(i)}}function Xh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Kt=c,eE(c,i)}ZT(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:_s(8,s,s.return),Xh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Xh(s));break;default:Xh(s)}i=i.sibling}}function eE(i,s){for(;Kt!==null;){var o=Kt;switch(o.tag){case 0:case 11:case 15:_s(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:uu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Kt=c;else e:for(o=i;Kt!==null;){c=Kt;var m=c.sibling,g=c.return;if(qT(c),c===o){Kt=null;break e}if(m!==null){m.return=g,Kt=m;break e}Kt=g}}}var VI={getCacheForType:function(i){var s=Zt(Vt),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return Zt(Vt).controller.signal}},OI=typeof WeakMap=="function"?WeakMap:Map,Ke=0,it=null,Pe=null,Oe=0,We=0,On=null,Ts=!1,qo=!1,Sp=!1,Vr=0,Et=0,Es=0,La=0,Ap=0,kn=0,Go=0,xu=null,wn=null,Cp=!1,$h=0,tE=0,Qh=1/0,Wh=null,bs=null,Ht=0,ws=null,Yo=null,Or=0,xp=0,Rp=null,nE=null,Ru=0,Ip=null;function Ln(){return(Ke&2)!==0&&Oe!==0?Oe&-Oe:W.T!==null?Op():Zc()}function iE(){if(kn===0)if((Oe&536870912)===0||Be){var i=ca;ca<<=1,(ca&3932160)===0&&(ca=262144),kn=i}else kn=536870912;return i=Pn.current,i!==null&&(i.flags|=32),kn}function Sn(i,s,o){(i===it&&(We===2||We===9)||i.cancelPendingCommit!==null)&&(Ko(i,0),Ss(i,Oe,kn,!1)),ha(i,o),((Ke&2)===0||i!==it)&&(i===it&&((Ke&2)===0&&(La|=o),Et===4&&Ss(i,Oe,kn,!1)),tr(i))}function rE(i,s,o){if((Ke&6)!==0)throw Error(r(327));var c=!o&&(s&127)===0&&(s&i.expiredLanes)===0||pi(i,s),m=c?jI(i,s):Np(i,s,!0),g=c;do{if(m===0){qo&&!c&&Ss(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!kI(o)){m=Np(i,s,!1),g=!1;continue}if(m===2){if(g=s,i.errorRecoveryDisabledLanes&g)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var A=i;m=xu;var O=A.current.memoizedState.isDehydrated;if(O&&(Ko(A,E).flags|=256),E=Np(A,E,!1),E!==2){if(Sp&&!O){A.errorRecoveryDisabledLanes|=g,La|=g,m=4;break e}g=wn,wn=m,g!==null&&(wn===null?wn=g:wn.push.apply(wn,g))}m=E}if(g=!1,m!==2)continue}}if(m===1){Ko(i,0),Ss(i,s,0,!0);break}e:{switch(c=i,g=m,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ss(c,s,kn,!Ts);break e;case 2:wn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=$h+300-dn(),10<m)){if(Ss(c,s,kn,!Ts),Li(c,0,!0)!==0)break e;Or=s,c.timeoutHandle=OE(sE.bind(null,c,o,wn,Wh,Cp,s,kn,La,Go,Ts,g,"Throttled",-0,0),m);break e}sE(c,o,wn,Wh,Cp,s,kn,La,Go,Ts,g,null,-0,0)}}break}while(!0);tr(i)}function sE(i,s,o,c,m,g,E,A,O,K,Z,ie,X,Q){if(i.timeoutHandle=-1,ie=s.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:vi},WT(s,g,ie);var pe=(g&62914560)===g?$h-dn():(g&4194048)===g?tE-dn():0;if(pe=TD(ie,pe),pe!==null){Or=g,i.cancelPendingCommit=pe(dE.bind(null,i,s,g,o,c,m,E,A,O,Z,ie,null,X,Q)),Ss(i,g,E,!K);return}}dE(i,s,g,o,c,m,E,A,O)}function kI(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!Nn(g(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ss(i,s,o,c){s&=~Ap,s&=~La,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var m=s;0<m;){var g=31-St(m),E=1<<g;c[g]=-1,m&=~E}o!==0&&fa(i,o,s)}function Zh(){return(Ke&6)===0?(Iu(0),!1):!0}function Dp(){if(Pe!==null){if(We===0)var i=Pe.return;else i=Pe,Sr=Ra=null,Ym(i),Lo=null,hu=0,i=Pe;for(;i!==null;)kT(i.alternate,i),i=i.return;Pe=null}}function Ko(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,nD(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Or=0,Dp(),it=i,Pe=o=br(i.current,null),Oe=s,We=0,On=null,Ts=!1,qo=pi(i,s),Sp=!1,Go=kn=Ap=La=Es=Et=0,wn=xu=null,Cp=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var m=31-St(c),g=1<<m;s|=i[m],c&=~g}return Vr=s,_h(),o}function aE(i,s){De=null,W.H=_u,s===ko||s===xh?(s=b_(),We=3):s===Vm?(s=b_(),We=4):We=s===lp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,On=s,Pe===null&&(Et=1,Bh(i,Xn(s,i.current)))}function oE(){var i=Pn.current;return i===null?!0:(Oe&4194048)===Oe?Zn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?i===Zn:!1}function lE(){var i=W.H;return W.H=_u,i===null?_u:i}function uE(){var i=W.A;return W.A=VI,i}function Jh(){Et=4,Ts||(Oe&4194048)!==Oe&&Pn.current!==null||(qo=!0),(Es&134217727)===0&&(La&134217727)===0||it===null||Ss(it,Oe,kn,!1)}function Np(i,s,o){var c=Ke;Ke|=2;var m=lE(),g=uE();(it!==i||Oe!==s)&&(Wh=null,Ko(i,s)),s=!1;var E=Et;e:do try{if(We!==0&&Pe!==null){var A=Pe,O=On;switch(We){case 8:Dp(),E=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(s=!0);var K=We;if(We=0,On=null,Xo(i,A,O,K),o&&qo){E=0;break e}break;default:K=We,We=0,On=null,Xo(i,A,O,K)}}LI(),E=Et;break}catch(Z){aE(i,Z)}while(!0);return s&&i.shellSuspendCounter++,Sr=Ra=null,Ke=c,W.H=m,W.A=g,Pe===null&&(it=null,Oe=0,_h()),E}function LI(){for(;Pe!==null;)cE(Pe)}function jI(i,s){var o=Ke;Ke|=2;var c=lE(),m=uE();it!==i||Oe!==s?(Wh=null,Qh=dn()+500,Ko(i,s)):qo=pi(i,s);e:do try{if(We!==0&&Pe!==null){s=Pe;var g=On;t:switch(We){case 1:We=0,On=null,Xo(i,s,g,1);break;case 2:case 9:if(T_(g)){We=0,On=null,hE(s);break}s=function(){We!==2&&We!==9||it!==i||(We=7),tr(i)},g.then(s,s);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:T_(g)?(We=0,On=null,hE(s)):(We=0,On=null,Xo(i,s,g,7));break;case 5:var E=null;switch(Pe.tag){case 26:E=Pe.memoizedState;case 5:case 27:var A=Pe;if(E?QE(E):A.stateNode.complete){We=0,On=null;var O=A.sibling;if(O!==null)Pe=O;else{var K=A.return;K!==null?(Pe=K,ef(K)):Pe=null}break t}}We=0,On=null,Xo(i,s,g,5);break;case 6:We=0,On=null,Xo(i,s,g,6);break;case 8:Dp(),Et=6;break e;default:throw Error(r(462))}}UI();break}catch(Z){aE(i,Z)}while(!0);return Sr=Ra=null,W.H=c,W.A=m,Ke=o,Pe!==null?0:(it=null,Oe=0,_h(),Et)}function UI(){for(;Pe!==null&&!om();)cE(Pe)}function cE(i){var s=VT(i.alternate,i,Vr);i.memoizedProps=i.pendingProps,s===null?ef(i):Pe=s}function hE(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=RT(o,s,s.pendingProps,s.type,void 0,Oe);break;case 11:s=RT(o,s,s.pendingProps,s.type.render,s.ref,Oe);break;case 5:Ym(s);default:kT(o,s),s=Pe=u_(s,Vr),s=VT(o,s,Vr)}i.memoizedProps=i.pendingProps,s===null?ef(i):Pe=s}function Xo(i,s,o,c){Sr=Ra=null,Ym(s),Lo=null,hu=0;var m=s.return;try{if(xI(i,m,s,o,Oe)){Et=1,Bh(i,Xn(o,i.current)),Pe=null;return}}catch(g){if(m!==null)throw Pe=m,g;Et=1,Bh(i,Xn(o,i.current)),Pe=null;return}s.flags&32768?(Be||c===1?i=!0:qo||(Oe&536870912)!==0?i=!1:(Ts=i=!0,(c===2||c===9||c===3||c===6)&&(c=Pn.current,c!==null&&c.tag===13&&(c.flags|=16384))),fE(s,i)):ef(s)}function ef(i){var s=i;do{if((s.flags&32768)!==0){fE(s,Ts);return}i=s.return;var o=DI(s.alternate,s,Vr);if(o!==null){Pe=o;return}if(s=s.sibling,s!==null){Pe=s;return}Pe=s=i}while(s!==null);Et===0&&(Et=5)}function fE(i,s){do{var o=NI(i.alternate,i);if(o!==null){o.flags&=32767,Pe=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Pe=i;return}Pe=i=o}while(i!==null);Et=6,Pe=null}function dE(i,s,o,c,m,g,E,A,O){i.cancelPendingCommit=null;do tf();while(Ht!==0);if((Ke&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=_m,cm(i,o,g,E,A,O),i===it&&(Pe=it=null,Oe=0),Yo=s,ws=i,Or=o,xp=g,Rp=m,nE=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,HI(es,function(){return vE(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=W.T,W.T=null,m=oe.p,oe.p=2,E=Ke,Ke|=4;try{MI(i,s,o)}finally{Ke=E,oe.p=m,W.T=c}}Ht=1,mE(),pE(),gE()}}function mE(){if(Ht===1){Ht=0;var i=ws,s=Yo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var c=oe.p;oe.p=2;var m=Ke;Ke|=4;try{XT(s,i);var g=Hp,E=e_(i.containerInfo),A=g.focusedElem,O=g.selectionRange;if(E!==A&&A&&A.ownerDocument&&J0(A.ownerDocument.documentElement,A)){if(O!==null&&mm(A)){var K=O.start,Z=O.end;if(Z===void 0&&(Z=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(Z,A.value.length);else{var ie=A.ownerDocument||document,X=ie&&ie.defaultView||window;if(X.getSelection){var Q=X.getSelection(),pe=A.textContent.length,Te=Math.min(O.start,pe),nt=O.end===void 0?Te:Math.min(O.end,pe);!Q.extend&&Te>nt&&(E=nt,nt=Te,Te=E);var q=Z0(A,Te),z=Z0(A,nt);if(q&&z&&(Q.rangeCount!==1||Q.anchorNode!==q.node||Q.anchorOffset!==q.offset||Q.focusNode!==z.node||Q.focusOffset!==z.offset)){var Y=ie.createRange();Y.setStart(q.node,q.offset),Q.removeAllRanges(),Te>nt?(Q.addRange(Y),Q.extend(z.node,z.offset)):(Y.setEnd(z.node,z.offset),Q.addRange(Y))}}}}for(ie=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&ie.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ie.length;A++){var ee=ie[A];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}mf=!!Fp,Hp=Fp=null}finally{Ke=m,oe.p=c,W.T=o}}i.current=s,Ht=2}}function pE(){if(Ht===2){Ht=0;var i=ws,s=Yo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var c=oe.p;oe.p=2;var m=Ke;Ke|=4;try{HT(i,s.alternate,s)}finally{Ke=m,oe.p=c,W.T=o}}Ht=3}}function gE(){if(Ht===4||Ht===3){Ht=0,Gc();var i=ws,s=Yo,o=Or,c=nE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ht=5:(Ht=0,Yo=ws=null,yE(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(bs=null),vr(o),s=s.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(mi,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=W.T,m=oe.p,oe.p=2,W.T=null;try{for(var g=i.onRecoverableError,E=0;E<c.length;E++){var A=c[E];g(A.value,{componentStack:A.stack})}}finally{W.T=s,oe.p=m}}(Or&3)!==0&&tf(),tr(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===Ip?Ru++:(Ru=0,Ip=i):Ru=0,Iu(0)}}function yE(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,uu(s)))}function tf(){return mE(),pE(),gE(),vE()}function vE(){if(Ht!==5)return!1;var i=ws,s=xp;xp=0;var o=vr(Or),c=W.T,m=oe.p;try{oe.p=32>o?32:o,W.T=null,o=Rp,Rp=null;var g=ws,E=Or;if(Ht=0,Yo=ws=null,Or=0,(Ke&6)!==0)throw Error(r(331));var A=Ke;if(Ke|=4,JT(g.current),QT(g,g.current,E,o),Ke=A,Iu(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(mi,g)}catch{}return!0}finally{oe.p=m,W.T=c,yE(i,s)}}function _E(i,s,o){s=Xn(o,s),s=op(i.stateNode,s,2),i=gs(i,s,2),i!==null&&(ha(i,2),tr(i))}function Ze(i,s,o){if(i.tag===3)_E(i,i,o);else for(;s!==null;){if(s.tag===3){_E(s,i,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(bs===null||!bs.has(c))){i=Xn(o,i),o=TT(2),c=gs(s,o,2),c!==null&&(ET(o,c,s,i),ha(c,2),tr(c));break}}s=s.return}}function Mp(i,s,o){var c=i.pingCache;if(c===null){c=i.pingCache=new OI;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(o)||(Sp=!0,m.add(o),i=zI.bind(null,i,s,o),s.then(i,i))}function zI(i,s,o){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,it===i&&(Oe&o)===o&&(Et===4||Et===3&&(Oe&62914560)===Oe&&300>dn()-$h?(Ke&2)===0&&Ko(i,0):Ap|=o,Go===Oe&&(Go=0)),tr(i)}function TE(i,s){s===0&&(s=Wc()),i=Aa(i,s),i!==null&&(ha(i,s),tr(i))}function BI(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),TE(i,o)}function FI(i,s){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),TE(i,o)}function HI(i,s){return rt(i,s)}var nf=null,$o=null,Pp=!1,rf=!1,Vp=!1,As=0;function tr(i){i!==$o&&i.next===null&&($o===null?nf=$o=i:$o=$o.next=i),rf=!0,Pp||(Pp=!0,GI())}function Iu(i,s){if(!Vp&&rf){Vp=!0;do for(var o=!1,c=nf;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var E=c.suspendedLanes,A=c.pingedLanes;g=(1<<31-St(42|i)+1)-1,g&=m&~(E&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,SE(c,g))}else g=Oe,g=Li(c,c===it?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||pi(c,g)||(o=!0,SE(c,g));c=c.next}while(o);Vp=!1}}function qI(){EE()}function EE(){rf=Pp=!1;var i=0;As!==0&&tD()&&(i=As);for(var s=dn(),o=null,c=nf;c!==null;){var m=c.next,g=bE(c,s);g===0?(c.next=null,o===null?nf=m:o.next=m,m===null&&($o=o)):(o=c,(i!==0||(g&3)!==0)&&(rf=!0)),c=m}Ht!==0&&Ht!==5||Iu(i),As!==0&&(As=0)}function bE(i,s){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var E=31-St(g),A=1<<E,O=m[E];O===-1?((A&o)===0||(A&c)!==0)&&(m[E]=um(A,s)):O<=s&&(i.expiredLanes|=A),g&=~A}if(s=it,o=Oe,o=Li(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===s&&(We===2||We===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Vi(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||pi(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(c!==null&&Vi(c),vr(o)){case 2:case 8:o=Ul;break;case 32:o=es;break;case 268435456:o=Yc;break;default:o=es}return c=wE.bind(null,i),o=rt(o,c),i.callbackPriority=s,i.callbackNode=o,s}return c!==null&&c!==null&&Vi(c),i.callbackPriority=2,i.callbackNode=null,2}function wE(i,s){if(Ht!==0&&Ht!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(tf()&&i.callbackNode!==o)return null;var c=Oe;return c=Li(i,i===it?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(rE(i,c,s),bE(i,dn()),i.callbackNode!=null&&i.callbackNode===o?wE.bind(null,i):null)}function SE(i,s){if(tf())return null;rE(i,s,!0)}function GI(){iD(function(){(Ke&6)!==0?rt(jl,qI):EE()})}function Op(){if(As===0){var i=Vo;i===0&&(i=Oi,Oi<<=1,(Oi&261888)===0&&(Oi=256)),As=i}return As}function AE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:_o(""+i)}function CE(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function YI(i,s,o,c,m){if(s==="submit"&&o&&o.stateNode===m){var g=AE((m[Gt]||null).action),E=c.submitter;E&&(s=(s=E[Gt]||null)?AE(s.formAction):E.getAttribute("formAction"),s!==null&&(g=s,E=null));var A=new Xi("action","action",null,c,m);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(As!==0){var O=E?CE(m,E):new FormData(m);tp(o,{pending:!0,data:O,method:m.method,action:g},null,O)}}else typeof g=="function"&&(A.preventDefault(),O=E?CE(m,E):new FormData(m),tp(o,{pending:!0,data:O,method:m.method,action:g},g,O))},currentTarget:m}]})}}for(var kp=0;kp<vm.length;kp++){var Lp=vm[kp],KI=Lp.toLowerCase(),XI=Lp[0].toUpperCase()+Lp.slice(1);wi(KI,"on"+XI)}wi(i_,"onAnimationEnd"),wi(r_,"onAnimationIteration"),wi(s_,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(cI,"onTransitionRun"),wi(hI,"onTransitionStart"),wi(fI,"onTransitionCancel"),wi(a_,"onTransitionEnd"),qi("onMouseEnter",["mouseout","mouseover"]),qi("onMouseLeave",["mouseout","mouseover"]),qi("onPointerEnter",["pointerout","pointerover"]),qi("onPointerLeave",["pointerout","pointerover"]),Hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$I=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function xE(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var E=c.length-1;0<=E;E--){var A=c[E],O=A.instance,K=A.currentTarget;if(A=A.listener,O!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=K;try{g(m)}catch(Z){vh(Z)}m.currentTarget=null,g=O}else for(E=0;E<c.length;E++){if(A=c[E],O=A.instance,K=A.currentTarget,A=A.listener,O!==g&&m.isPropagationStopped())break e;g=A,m.currentTarget=K;try{g(m)}catch(Z){vh(Z)}m.currentTarget=null,g=O}}}}function Ve(i,s){var o=s[mo];o===void 0&&(o=s[mo]=new Set);var c=i+"__bubble";o.has(c)||(RE(s,i,2,!1),o.add(c))}function jp(i,s,o){var c=0;s&&(c|=4),RE(o,i,c,s)}var sf="_reactListening"+Math.random().toString(36).slice(2);function Up(i){if(!i[sf]){i[sf]=!0,Fl.forEach(function(o){o!=="selectionchange"&&($I.has(o)||jp(o,!1,i),jp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[sf]||(s[sf]=!0,jp("selectionchange",!1,s))}}function RE(i,s,o,c){switch(ib(s)){case 2:var m=wD;break;case 8:m=SD;break;default:m=eg}o=m.bind(null,s,o,i),m=void 0,!ya||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(s,o,{capture:!0,passive:m}):i.addEventListener(s,o,!0):m!==void 0?i.addEventListener(s,o,{passive:m}):i.addEventListener(s,o,!1)}function zp(i,s,o,c,m){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var A=c.stateNode.containerInfo;if(A===m)break;if(E===4)for(E=c.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;A!==null;){if(E=Bi(A),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){c=g=E;continue e}A=A.parentNode}}c=c.return}as(function(){var K=g,Z=qn(o),ie=[];e:{var X=o_.get(i);if(X!==void 0){var Q=Xi,pe=i;switch(i){case"keypress":if(_a(o)===0)break e;case"keydown":case"keyup":Q=ph;break;case"focusin":pe="focus",Q=Ea;break;case"focusout":pe="blur",Q=Ea;break;case"beforeblur":case"afterblur":Q=Ea;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=tu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=ah;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=_;break;case i_:case r_:case s_:Q=lh;break;case a_:Q=C;break;case"scroll":case"scrollend":Q=eu;break;case"wheel":Q=$;break;case"copy":case"cut":case"paste":Q=uh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Er;break;case"toggle":case"beforetoggle":Q=Ie}var Te=(s&4)!==0,nt=!Te&&(i==="scroll"||i==="scrollend"),q=Te?X!==null?X+"Capture":null:X;Te=[];for(var z=K,Y;z!==null;){var ee=z;if(Y=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||Y===null||q===null||(ee=_i(z,q),ee!=null&&Te.push(Nu(z,ee,Y))),nt)break;z=z.return}0<Te.length&&(X=new Q(X,pe,null,o,Z),ie.push({event:X,listeners:Te}))}}if((s&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",Q=i==="mouseout"||i==="pointerout",X&&o!==Wl&&(pe=o.relatedTarget||o.fromElement)&&(Bi(pe)||pe[Ui]))break e;if((Q||X)&&(X=Z.window===Z?Z:(X=Z.ownerDocument)?X.defaultView||X.parentWindow:window,Q?(pe=o.relatedTarget||o.toElement,Q=K,pe=pe?Bi(pe):null,pe!==null&&(nt=l(pe),Te=pe.tag,pe!==nt||Te!==5&&Te!==27&&Te!==6)&&(pe=null)):(Q=null,pe=K),Q!==pe)){if(Te=tu,ee="onMouseLeave",q="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(Te=Er,ee="onPointerLeave",q="onPointerEnter",z="pointer"),nt=Q==null?X:In(Q),Y=pe==null?X:In(pe),X=new Te(ee,z+"leave",Q,o,Z),X.target=nt,X.relatedTarget=Y,ee=null,Bi(Z)===K&&(Te=new Te(q,z+"enter",pe,o,Z),Te.target=Y,Te.relatedTarget=nt,ee=Te),nt=ee,Q&&pe)t:{for(Te=QI,q=Q,z=pe,Y=0,ee=q;ee;ee=Te(ee))Y++;ee=0;for(var ve=z;ve;ve=Te(ve))ee++;for(;0<Y-ee;)q=Te(q),Y--;for(;0<ee-Y;)z=Te(z),ee--;for(;Y--;){if(q===z||z!==null&&q===z.alternate){Te=q;break t}q=Te(q),z=Te(z)}Te=null}else Te=null;Q!==null&&IE(ie,X,Q,Te,!1),pe!==null&&nt!==null&&IE(ie,nt,pe,Te,!0)}}e:{if(X=K?In(K):window,Q=X.nodeName&&X.nodeName.toLowerCase(),Q==="select"||Q==="input"&&X.type==="file")var He=Y0;else if(q0(X))if(K0)He=oI;else{He=sI;var ye=rI}else Q=X.nodeName,!Q||Q.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?K&&vo(K.elementType)&&(He=Y0):He=aI;if(He&&(He=He(i,K))){G0(ie,He,o,Z);break e}ye&&ye(i,X,K),i==="focusout"&&K&&X.type==="number"&&K.memoizedProps.value!=null&&Xl(X,"number",X.value)}switch(ye=K?In(K):window,i){case"focusin":(q0(ye)||ye.contentEditable==="true")&&(Co=ye,pm=K,au=null);break;case"focusout":au=pm=Co=null;break;case"mousedown":gm=!0;break;case"contextmenu":case"mouseup":case"dragend":gm=!1,t_(ie,o,Z);break;case"selectionchange":if(uI)break;case"keydown":case"keyup":t_(ie,o,Z)}var Ne;if(Ye)e:{switch(i){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Ao?ba(i,o)&&(ke="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(ke="onCompositionStart");ke&&(Wi&&o.locale!=="ko"&&(Ao||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Ao&&(Ne=Jl()):(Ki=Z,Zl="value"in Ki?Ki.value:Ki.textContent,Ao=!0)),ye=af(K,ke),0<ye.length&&(ke=new Qi(ke,i,null,o,Z),ie.push({event:ke,listeners:ye}),Ne?ke.data=Ne:(Ne=So(o),Ne!==null&&(ke.data=Ne)))),(Ne=Yn?eI(i,o):tI(i,o))&&(ke=af(K,"onBeforeInput"),0<ke.length&&(ye=new Qi("onBeforeInput","beforeinput",null,o,Z),ie.push({event:ye,listeners:ke}),ye.data=Ne)),YI(ie,i,K,o,Z)}xE(ie,s)})}function Nu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function af(i,s){for(var o=s+"Capture",c=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=_i(i,o),m!=null&&c.unshift(Nu(i,m,g)),m=_i(i,s),m!=null&&c.push(Nu(i,m,g))),i.tag===3)return c;i=i.return}return[]}function QI(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function IE(i,s,o,c,m){for(var g=s._reactName,E=[];o!==null&&o!==c;){var A=o,O=A.alternate,K=A.stateNode;if(A=A.tag,O!==null&&O===c)break;A!==5&&A!==26&&A!==27||K===null||(O=K,m?(K=_i(o,g),K!=null&&E.unshift(Nu(o,K,O))):m||(K=_i(o,g),K!=null&&E.push(Nu(o,K,O)))),o=o.return}E.length!==0&&i.push({event:s,listeners:E})}var WI=/\r\n?/g,ZI=/\u0000|\uFFFD/g;function DE(i){return(typeof i=="string"?i:""+i).replace(WI,`
`).replace(ZI,"")}function NE(i,s){return s=DE(s),DE(i)===s}function tt(i,s,o,c,m,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||_n(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&_n(i,""+c);break;case"className":Dn(i,"class",c);break;case"tabIndex":Dn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(i,o,c);break;case"style":Ql(i,c,g);break;case"data":if(s!=="object"){Dn(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=_o(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&tt(i,s,"name",m.name,m,null),tt(i,s,"formEncType",m.formEncType,m,null),tt(i,s,"formMethod",m.formMethod,m,null),tt(i,s,"formTarget",m.formTarget,m,null)):(tt(i,s,"encType",m.encType,m,null),tt(i,s,"method",m.method,m,null),tt(i,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=_o(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=vi);break;case"onScroll":c!=null&&Ve("scroll",i);break;case"onScrollEnd":c!=null&&Ve("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=_o(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Ve("beforetoggle",i),Ve("toggle",i),go(i,"popover",c);break;case"xlinkActuate":Pt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Pt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Pt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Pt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Pt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Pt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Pt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Pt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Pt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":go(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=sh.get(o)||o,go(i,o,c))}}function Bp(i,s,o,c,m,g){switch(o){case"style":Ql(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof c=="string"?_n(i,c):(typeof c=="number"||typeof c=="bigint")&&_n(i,""+c);break;case"onScroll":c!=null&&Ve("scroll",i);break;case"onScrollEnd":c!=null&&Ve("scrollend",i);break;case"onClick":c!=null&&(i.onclick=vi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),g=i[Gt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,c,m);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):go(i,o,c)}}}function en(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",i),Ve("load",i);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var E=o[g];if(E!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:tt(i,s,g,E,o,null)}}m&&tt(i,s,"srcSet",o.srcSet,o,null),c&&tt(i,s,"src",o.src,o,null);return;case"input":Ve("invalid",i);var A=g=E=m=null,O=null,K=null;for(c in o)if(o.hasOwnProperty(c)){var Z=o[c];if(Z!=null)switch(c){case"name":m=Z;break;case"type":E=Z;break;case"checked":O=Z;break;case"defaultChecked":K=Z;break;case"value":g=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:tt(i,s,c,Z,o,null)}}nh(i,g,A,O,K,E,m,!1);return;case"select":Ve("invalid",i),c=E=g=null;for(m in o)if(o.hasOwnProperty(m)&&(A=o[m],A!=null))switch(m){case"value":g=A;break;case"defaultValue":E=A;break;case"multiple":c=A;default:tt(i,s,m,A,o,null)}s=g,o=E,i.multiple=!!c,s!=null?ns(i,!!c,s,!1):o!=null&&ns(i,!!c,o,!0);return;case"textarea":Ve("invalid",i),g=m=c=null;for(E in o)if(o.hasOwnProperty(E)&&(A=o[E],A!=null))switch(E){case"value":c=A;break;case"defaultValue":m=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:tt(i,s,E,A,o,null)}is(i,c,m,g);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(c=o[O],c!=null))switch(O){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:tt(i,s,O,c,o,null)}return;case"dialog":Ve("beforetoggle",i),Ve("toggle",i),Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":Ve("load",i);break;case"video":case"audio":for(c=0;c<Du.length;c++)Ve(Du[c],i);break;case"image":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"embed":case"source":case"link":Ve("error",i),Ve("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(c=o[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:tt(i,s,K,c,o,null)}return;default:if(vo(s)){for(Z in o)o.hasOwnProperty(Z)&&(c=o[Z],c!==void 0&&Bp(i,s,Z,c,o,void 0));return}}for(A in o)o.hasOwnProperty(A)&&(c=o[A],c!=null&&tt(i,s,A,c,o,null))}function JI(i,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,E=null,A=null,O=null,K=null,Z=null;for(Q in o){var ie=o[Q];if(o.hasOwnProperty(Q)&&ie!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":O=ie;default:c.hasOwnProperty(Q)||tt(i,s,Q,null,c,ie)}}for(var X in c){var Q=c[X];if(ie=o[X],c.hasOwnProperty(X)&&(Q!=null||ie!=null))switch(X){case"type":g=Q;break;case"name":m=Q;break;case"checked":K=Q;break;case"defaultChecked":Z=Q;break;case"value":E=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,s));break;default:Q!==ie&&tt(i,s,X,Q,c,ie)}}yo(i,E,A,O,K,Z,g,m);return;case"select":Q=E=A=X=null;for(g in o)if(O=o[g],o.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":Q=O;default:c.hasOwnProperty(g)||tt(i,s,g,null,c,O)}for(m in c)if(g=c[m],O=o[m],c.hasOwnProperty(m)&&(g!=null||O!=null))switch(m){case"value":X=g;break;case"defaultValue":A=g;break;case"multiple":E=g;default:g!==O&&tt(i,s,m,g,c,O)}s=A,o=E,c=Q,X!=null?ns(i,!!o,X,!1):!!c!=!!o&&(s!=null?ns(i,!!o,s,!0):ns(i,!!o,o?[]:"",!1));return;case"textarea":Q=X=null;for(A in o)if(m=o[A],o.hasOwnProperty(A)&&m!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:tt(i,s,A,null,c,m)}for(E in c)if(m=c[E],g=o[E],c.hasOwnProperty(E)&&(m!=null||g!=null))switch(E){case"value":X=m;break;case"defaultValue":Q=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==g&&tt(i,s,E,m,c,g)}ih(i,X,Q);return;case"option":for(var pe in o)if(X=o[pe],o.hasOwnProperty(pe)&&X!=null&&!c.hasOwnProperty(pe))switch(pe){case"selected":i.selected=!1;break;default:tt(i,s,pe,null,c,X)}for(O in c)if(X=c[O],Q=o[O],c.hasOwnProperty(O)&&X!==Q&&(X!=null||Q!=null))switch(O){case"selected":i.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:tt(i,s,O,X,c,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)X=o[Te],o.hasOwnProperty(Te)&&X!=null&&!c.hasOwnProperty(Te)&&tt(i,s,Te,null,c,X);for(K in c)if(X=c[K],Q=o[K],c.hasOwnProperty(K)&&X!==Q&&(X!=null||Q!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:tt(i,s,K,X,c,Q)}return;default:if(vo(s)){for(var nt in o)X=o[nt],o.hasOwnProperty(nt)&&X!==void 0&&!c.hasOwnProperty(nt)&&Bp(i,s,nt,void 0,c,X);for(Z in c)X=c[Z],Q=o[Z],!c.hasOwnProperty(Z)||X===Q||X===void 0&&Q===void 0||Bp(i,s,Z,X,c,Q);return}}for(var q in o)X=o[q],o.hasOwnProperty(q)&&X!=null&&!c.hasOwnProperty(q)&&tt(i,s,q,null,c,X);for(ie in c)X=c[ie],Q=o[ie],!c.hasOwnProperty(ie)||X===Q||X==null&&Q==null||tt(i,s,ie,X,c,Q)}function ME(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eD(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,E=m.initiatorType,A=m.duration;if(g&&A&&ME(E)){for(E=0,A=m.responseEnd,c+=1;c<o.length;c++){var O=o[c],K=O.startTime;if(K>A)break;var Z=O.transferSize,ie=O.initiatorType;Z&&ME(ie)&&(O=O.responseEnd,E+=Z*(O<A?1:(A-K)/(O-K)))}if(--c,s+=8*(g+E)/(m.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Fp=null,Hp=null;function of(i){return i.nodeType===9?i:i.ownerDocument}function PE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function VE(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function qp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Gp=null;function tD(){var i=window.event;return i&&i.type==="popstate"?i===Gp?!1:(Gp=i,!0):(Gp=null,!1)}var OE=typeof setTimeout=="function"?setTimeout:void 0,nD=typeof clearTimeout=="function"?clearTimeout:void 0,kE=typeof Promise=="function"?Promise:void 0,iD=typeof queueMicrotask=="function"?queueMicrotask:typeof kE<"u"?function(i){return kE.resolve(null).then(i).catch(rD)}:OE;function rD(i){setTimeout(function(){throw i})}function Cs(i){return i==="head"}function LE(i,s){var o=s,c=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(m),Jo(s);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Mu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Mu(o);for(var g=o.firstChild;g;){var E=g.nextSibling,A=g.nodeName;g[zi]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=E}}else o==="body"&&Mu(i.ownerDocument.body);o=m}while(o);Jo(s)}function jE(i,s){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function Yp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Yp(o),po(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function sD(i,s,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[zi])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Jn(i.nextSibling),i===null)break}return null}function aD(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Jn(i.nextSibling),i===null))return null;return i}function UE(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Jn(i.nextSibling),i===null))return null;return i}function Kp(i){return i.data==="$?"||i.data==="$~"}function Xp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function oD(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Jn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var $p=null;function zE(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return Jn(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function BE(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function FE(i,s,o){switch(s=of(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Mu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);po(i)}var ei=new Map,HE=new Set;function lf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var kr=oe.d;oe.d={f:lD,r:uD,D:cD,C:hD,L:fD,m:dD,X:pD,S:mD,M:gD};function lD(){var i=kr.f(),s=Zh();return i||s}function uD(i){var s=Hn(i);s!==null&&s.tag===5&&s.type==="form"?aT(s):kr.r(i)}var Qo=typeof document>"u"?null:document;function qE(i,s,o){var c=Qo;if(c&&typeof s=="string"&&s){var m=vn(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),HE.has(m)||(HE.add(m),i={rel:i,crossOrigin:o,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),en(s,"link",i),Mt(s),c.head.appendChild(s)))}}function cD(i){kr.D(i),qE("dns-prefetch",i,null)}function hD(i,s){kr.C(i,s),qE("preconnect",i,s)}function fD(i,s,o){kr.L(i,s,o);var c=Qo;if(c&&i&&s){var m='link[rel="preload"][as="'+vn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+vn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+vn(o.imageSizes)+'"]')):m+='[href="'+vn(i)+'"]';var g=m;switch(s){case"style":g=Wo(i);break;case"script":g=Zo(i)}ei.has(g)||(i=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),ei.set(g,i),c.querySelector(m)!==null||s==="style"&&c.querySelector(Pu(g))||s==="script"&&c.querySelector(Vu(g))||(s=c.createElement("link"),en(s,"link",i),Mt(s),c.head.appendChild(s)))}}function dD(i,s){kr.m(i,s);var o=Qo;if(o&&i){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+vn(c)+'"][href="'+vn(i)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Zo(i)}if(!ei.has(g)&&(i=v({rel:"modulepreload",href:i},s),ei.set(g,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Vu(g)))return}c=o.createElement("link"),en(c,"link",i),Mt(c),o.head.appendChild(c)}}}function mD(i,s,o){kr.S(i,s,o);var c=Qo;if(c&&i){var m=Fi(c).hoistableStyles,g=Wo(i);s=s||"default";var E=m.get(g);if(!E){var A={loading:0,preload:null};if(E=c.querySelector(Pu(g)))A.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},o),(o=ei.get(g))&&Qp(i,o);var O=E=c.createElement("link");Mt(O),en(O,"link",i),O._p=new Promise(function(K,Z){O.onload=K,O.onerror=Z}),O.addEventListener("load",function(){A.loading|=1}),O.addEventListener("error",function(){A.loading|=2}),A.loading|=4,uf(E,s,c)}E={type:"stylesheet",instance:E,count:1,state:A},m.set(g,E)}}}function pD(i,s){kr.X(i,s);var o=Qo;if(o&&i){var c=Fi(o).hoistableScripts,m=Zo(i),g=c.get(m);g||(g=o.querySelector(Vu(m)),g||(i=v({src:i,async:!0},s),(s=ei.get(m))&&Wp(i,s),g=o.createElement("script"),Mt(g),en(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function gD(i,s){kr.M(i,s);var o=Qo;if(o&&i){var c=Fi(o).hoistableScripts,m=Zo(i),g=c.get(m);g||(g=o.querySelector(Vu(m)),g||(i=v({src:i,async:!0,type:"module"},s),(s=ei.get(m))&&Wp(i,s),g=o.createElement("script"),Mt(g),en(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function GE(i,s,o,c){var m=(m=ge.current)?lf(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Wo(o.href),o=Fi(m).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Wo(o.href);var g=Fi(m).hoistableStyles,E=g.get(i);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,E),(g=m.querySelector(Pu(i)))&&!g._p&&(E.instance=g,E.state.loading=5),ei.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ei.set(i,o),g||yD(m,i,o,E.state))),s&&c===null)throw Error(r(528,""));return E}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Zo(o),o=Fi(m).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Wo(i){return'href="'+vn(i)+'"'}function Pu(i){return'link[rel="stylesheet"]['+i+"]"}function YE(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function yD(i,s,o,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),en(s,"link",o),Mt(s),i.head.appendChild(s))}function Zo(i){return'[src="'+vn(i)+'"]'}function Vu(i){return"script[async]"+i}function KE(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+vn(o.href)+'"]');if(c)return s.instance=c,Mt(c),c;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Mt(c),en(c,"style",m),uf(c,o.precedence,i),s.instance=c;case"stylesheet":m=Wo(o.href);var g=i.querySelector(Pu(m));if(g)return s.state.loading|=4,s.instance=g,Mt(g),g;c=YE(o),(m=ei.get(m))&&Qp(c,m),g=(i.ownerDocument||i).createElement("link"),Mt(g);var E=g;return E._p=new Promise(function(A,O){E.onload=A,E.onerror=O}),en(g,"link",c),s.state.loading|=4,uf(g,o.precedence,i),s.instance=g;case"script":return g=Zo(o.src),(m=i.querySelector(Vu(g)))?(s.instance=m,Mt(m),m):(c=o,(m=ei.get(g))&&(c=v({},o),Wp(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),Mt(m),en(m,"link",c),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,uf(c,o.precedence,i));return s.instance}function uf(i,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,E=0;E<c.length;E++){var A=c[E];if(A.dataset.precedence===s)g=A;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function Qp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Wp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var cf=null;function XE(i,s,o){if(cf===null){var c=new Map,m=cf=new Map;m.set(o,c)}else m=cf,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[zi]||g[Nt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(s)||"";E=i+E;var A=c.get(E);A?A.push(g):c.set(E,[g])}}return c}function $E(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function vD(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function QE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function _D(i,s,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Wo(c.href),g=s.querySelector(Pu(m));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=hf.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=g,Mt(g);return}g=s.ownerDocument||s,c=YE(c),(m=ei.get(m))&&Qp(c,m),g=g.createElement("link"),Mt(g);var E=g;E._p=new Promise(function(A,O){E.onload=A,E.onerror=O}),en(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=hf.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var Zp=0;function TD(i,s){return i.stylesheets&&i.count===0&&df(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&df(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+s);0<i.imgBytes&&Zp===0&&(Zp=62500*eD());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&df(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Zp?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function hf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)df(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ff=null;function df(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ff=new Map,s.forEach(ED,i),ff=null,hf.call(i))}function ED(i,s){if(!(s.state.loading&4)){var o=ff.get(i);if(o)var c=o.get(null);else{o=new Map,ff.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var E=m[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),c=E)}c&&o.set(null,c)}m=s.instance,E=m.getAttribute("data-precedence"),g=o.get(E)||c,g===c&&o.set(null,m),o.set(E,m),this.count++,c=hf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var Ou={$$typeof:F,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function bD(i,s,o,c,m,g,E,A,O){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ji(0),this.hiddenUpdates=ji(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function WE(i,s,o,c,m,g,E,A,O,K,Z,ie){return i=new bD(i,s,o,E,O,K,Z,ie,A),s=1,g===!0&&(s|=24),g=Mn(3,null,null,s),i.current=g,g.stateNode=i,s=Nm(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},Om(g),i}function ZE(i){return i?(i=Io,i):Io}function JE(i,s,o,c,m,g){m=ZE(m),c.context===null?c.context=m:c.pendingContext=m,c=ps(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=gs(i,c,s),o!==null&&(Sn(o,i,s),du(o,i,s))}function eb(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Jp(i,s){eb(i,s),(i=i.alternate)&&eb(i,s)}function tb(i){if(i.tag===13||i.tag===31){var s=Aa(i,67108864);s!==null&&Sn(s,i,67108864),Jp(i,67108864)}}function nb(i){if(i.tag===13||i.tag===31){var s=Ln();s=da(s);var o=Aa(i,s);o!==null&&Sn(o,i,s),Jp(i,s)}}var mf=!0;function wD(i,s,o,c){var m=W.T;W.T=null;var g=oe.p;try{oe.p=2,eg(i,s,o,c)}finally{oe.p=g,W.T=m}}function SD(i,s,o,c){var m=W.T;W.T=null;var g=oe.p;try{oe.p=8,eg(i,s,o,c)}finally{oe.p=g,W.T=m}}function eg(i,s,o,c){if(mf){var m=tg(c);if(m===null)zp(i,s,c,pf,o),rb(i,c);else if(CD(m,i,s,o,c))c.stopPropagation();else if(rb(i,c),s&4&&-1<AD.indexOf(i)){for(;m!==null;){var g=Hn(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=ki(g.pendingLanes);if(E!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var O=1<<31-St(E);A.entanglements[1]|=O,E&=~O}tr(g),(Ke&6)===0&&(Qh=dn()+500,Iu(0))}}break;case 31:case 13:A=Aa(g,2),A!==null&&Sn(A,g,2),Zh(),Jp(g,2)}if(g=tg(c),g===null&&zp(i,s,c,pf,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else zp(i,s,c,null,o)}}function tg(i){return i=qn(i),ng(i)}var pf=null;function ng(i){if(pf=null,i=Bi(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=u(s),i!==null)return i;i=null}else if(o===31){if(i=h(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return pf=i,null}function ib(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ua()){case jl:return 2;case Ul:return 8;case es:case lm:return 32;case Yc:return 268435456;default:return 32}default:return 32}}var ig=!1,xs=null,Rs=null,Is=null,ku=new Map,Lu=new Map,Ds=[],AD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rb(i,s){switch(i){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":ku.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lu.delete(s.pointerId)}}function ju(i,s,o,c,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},s!==null&&(s=Hn(s),s!==null&&tb(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function CD(i,s,o,c,m){switch(s){case"focusin":return xs=ju(xs,i,s,o,c,m),!0;case"dragenter":return Rs=ju(Rs,i,s,o,c,m),!0;case"mouseover":return Is=ju(Is,i,s,o,c,m),!0;case"pointerover":var g=m.pointerId;return ku.set(g,ju(ku.get(g)||null,i,s,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,Lu.set(g,ju(Lu.get(g)||null,i,s,o,c,m)),!0}return!1}function sb(i){var s=Bi(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){i.blockedOn=s,gi(i.priority,function(){nb(o)});return}}else if(s===31){if(s=h(o),s!==null){i.blockedOn=s,gi(i.priority,function(){nb(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function gf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=tg(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);Wl=c,o.target.dispatchEvent(c),Wl=null}else return s=Hn(o),s!==null&&tb(s),i.blockedOn=o,!1;s.shift()}return!0}function ab(i,s,o){gf(i)&&o.delete(s)}function xD(){ig=!1,xs!==null&&gf(xs)&&(xs=null),Rs!==null&&gf(Rs)&&(Rs=null),Is!==null&&gf(Is)&&(Is=null),ku.forEach(ab),Lu.forEach(ab)}function yf(i,s){i.blockedOn===s&&(i.blockedOn=null,ig||(ig=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,xD)))}var vf=null;function ob(i){vf!==i&&(vf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){vf===i&&(vf=null);for(var s=0;s<i.length;s+=3){var o=i[s],c=i[s+1],m=i[s+2];if(typeof c!="function"){if(ng(c||o)===null)continue;break}var g=Hn(o);g!==null&&(i.splice(s,3),s-=3,tp(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Jo(i){function s(O){return yf(O,i)}xs!==null&&yf(xs,i),Rs!==null&&yf(Rs,i),Is!==null&&yf(Is,i),ku.forEach(s),Lu.forEach(s);for(var o=0;o<Ds.length;o++){var c=Ds[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ds.length&&(o=Ds[0],o.blockedOn===null);)sb(o),o.blockedOn===null&&Ds.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],E=m[Gt]||null;if(typeof g=="function")E||ob(o);else if(E){var A=null;if(g&&g.hasAttribute("formAction")){if(m=g,E=g[Gt]||null)A=E.formAction;else if(ng(m)!==null)continue}else A=E.action;typeof A=="function"?o[c+1]=A:(o.splice(c,3),c-=3),ob(o)}}}function lb(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(E){return m=E})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function rg(i){this._internalRoot=i}_f.prototype.render=rg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,c=Ln();JE(o,c,i,s,null,null)},_f.prototype.unmount=rg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;JE(i.current,2,null,i,null,null),Zh(),s[Ui]=null}};function _f(i){this._internalRoot=i}_f.prototype.unstable_scheduleHydration=function(i){if(i){var s=Zc();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Ds.length&&s!==0&&s<Ds[o].priority;o++);Ds.splice(o,0,i),o===0&&sb(i)}};var ub=e.version;if(ub!=="19.2.0")throw Error(r(527,ub,"19.2.0"));oe.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var RD={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tf.isDisabled&&Tf.supportsFiber)try{mi=Tf.inject(RD),$t=Tf}catch{}}return zu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,c="",m=gT,g=yT,E=vT;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=WE(i,1,!1,null,null,o,c,null,m,g,E,lb),i[Ui]=s.current,Up(i),new rg(s)},zu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var c=!1,m="",g=gT,E=yT,A=vT,O=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError),o.formState!==void 0&&(O=o.formState)),s=WE(i,1,!0,s,o??null,c,m,O,g,E,A,lb),s.context=ZE(null),o=s.current,c=Ln(),c=da(c),m=ps(c),m.callback=null,gs(o,m,c),o=c,s.current.lanes=o,ha(s,o),tr(s),i[Ui]=s.current,Up(i),new _f(s)},zu.version="19.2.0",zu}var _b;function UD(){if(_b)return og.exports;_b=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),og.exports=jD(),og.exports}var zD=UD();var Tb="popstate";function BD(t={}){function e(a,l){let{pathname:u="/",search:h="",hash:d=""}=so(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Yg("",{pathname:u,search:h,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let u=a.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let d=a.location.href,p=d.indexOf("#");h=p===-1?d:d.slice(0,p)}return h+"#"+(typeof l=="string"?l:lc(l))}function r(a,l){hi(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return HD(e,n,r,t)}function gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FD(){return Math.random().toString(36).substring(2,10)}function Eb(t,e){return{usr:t.state,key:t.key,idx:e}}function Yg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?so(e):e,state:n,key:e&&e.key||r||FD()}}function lc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function so(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function HD(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,u=a.history,h="POP",d=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function v(){h="POP";let N=y(),j=N==null?null:N-p;p=N,d&&d({action:h,location:M.location,delta:j})}function T(N,j){h="PUSH";let B=Yg(M.location,N,j);n&&n(B,N),p=y()+1;let F=Eb(B,p),ae=M.createHref(B);try{u.pushState(F,"",ae)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;a.location.assign(ae)}l&&d&&d({action:h,location:M.location,delta:1})}function S(N,j){h="REPLACE";let B=Yg(M.location,N,j);n&&n(B,N),p=y();let F=Eb(B,p),ae=M.createHref(B);u.replaceState(F,"",ae),l&&d&&d({action:h,location:M.location,delta:0})}function R(N){return qD(N)}let M={get action(){return h},get location(){return t(a,u)},listen(N){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Tb,v),d=N,()=>{a.removeEventListener(Tb,v),d=null}},createHref(N){return e(a,N)},createURL:R,encodeLocation(N){let j=R(N);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:T,replace:S,go(N){return u.go(N)}};return M}function qD(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),gt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:lc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function UA(t,e,n="/"){return GD(t,e,n,!1)}function GD(t,e,n,r){let a=typeof e=="string"?so(e):e,l=Hr(a.pathname||"/",n);if(l==null)return null;let u=zA(t);YD(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=iN(l);h=tN(u[d],p,r)}return h}function zA(t,e=[],n=[],r="",a=!1){let l=(u,h,d=a,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&d)return;gt(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let v=zr([r,y.relativePath]),T=n.concat(y);u.children&&u.children.length>0&&(gt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),zA(u.children,e,T,v,d)),!(u.path==null&&!u.index)&&e.push({path:v,score:JD(v,u.index),routesMeta:T})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let d of BA(u.path))l(u,h,!0,d)}),e}function BA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let u=BA(r.join("/")),h=[];return h.push(...u.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function YD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var KD=/^:[\w-]+$/,XD=3,$D=2,QD=1,WD=10,ZD=-2,bb=t=>t==="*";function JD(t,e){let n=t.split("/"),r=n.length;return n.some(bb)&&(r+=ZD),e&&(r+=$D),n.filter(a=>!bb(a)).reduce((a,l)=>a+(KD.test(l)?XD:l===""?QD:WD),r)}function eN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function tN(t,e,n=!1){let{routesMeta:r}=t,a={},l="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",v=Qf({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},y),T=d.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=Qf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:zr([l,v.pathname]),pathnameBase:lN(zr([l,v.pathnameBase])),route:T}),v.pathnameBase!=="/"&&(l=zr([l,v.pathnameBase]))}return u}function Qf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=nN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:v},T)=>{if(y==="*"){let R=h[T]||"";u=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const S=h[T];return v&&!S?p[y]=void 0:p[y]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function nN(t,e=!1,n=!0){hi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function iN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hi(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Hr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var rN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sN=t=>rN.test(t);function aN(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?so(t):t,l;if(n)if(sN(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),hi(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=wb(n.substring(1),"/"):l=wb(n,e)}else l=e;return{pathname:l,search:uN(r),hash:cN(a)}}function wb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function hg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function FA(t){let e=oN(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function HA(t,e,n,r=!1){let a;typeof t=="string"?a=so(t):(a={...t},gt(!a.pathname||!a.pathname.includes("?"),hg("?","pathname","search",a)),gt(!a.pathname||!a.pathname.includes("#"),hg("#","pathname","hash",a)),gt(!a.search||!a.search.includes("#"),hg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=n;else{let v=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),v-=1;a.pathname=T.join("/")}h=v>=0?e[v]:"/"}let d=aN(a,h),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||y)&&(d.pathname+="/"),d}var zr=t=>t.join("/").replace(/\/\/+/g,"/"),lN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qA=["POST","PUT","PATCH","DELETE"];new Set(qA);var fN=["GET",...qA];new Set(fN);var Cl=V.createContext(null);Cl.displayName="DataRouter";var Cd=V.createContext(null);Cd.displayName="DataRouterState";V.createContext(!1);var GA=V.createContext({isTransitioning:!1});GA.displayName="ViewTransition";var dN=V.createContext(new Map);dN.displayName="Fetchers";var mN=V.createContext(null);mN.displayName="Await";var mr=V.createContext(null);mr.displayName="Navigation";var Ac=V.createContext(null);Ac.displayName="Location";var pr=V.createContext({outlet:null,matches:[],isDataRoute:!1});pr.displayName="Route";var $y=V.createContext(null);$y.displayName="RouteError";function pN(t,{relative:e}={}){gt(Cc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=V.useContext(mr),{hash:a,pathname:l,search:u}=xc(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:zr([n,l])),r.createHref({pathname:h,search:u,hash:a})}function Cc(){return V.useContext(Ac)!=null}function ao(){return gt(Cc(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Ac).location}var YA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function KA(t){V.useContext(mr).static||V.useLayoutEffect(t)}function Qy(){let{isDataRoute:t}=V.useContext(pr);return t?IN():gN()}function gN(){gt(Cc(),"useNavigate() may be used only in the context of a <Router> component.");let t=V.useContext(Cl),{basename:e,navigator:n}=V.useContext(mr),{matches:r}=V.useContext(pr),{pathname:a}=ao(),l=JSON.stringify(FA(r)),u=V.useRef(!1);return KA(()=>{u.current=!0}),V.useCallback((d,p={})=>{if(hi(u.current,YA),!u.current)return;if(typeof d=="number"){n.go(d);return}let y=HA(d,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:zr([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,l,a,t])}V.createContext(null);function yN(){let{matches:t}=V.useContext(pr),e=t[t.length-1];return e?e.params:{}}function xc(t,{relative:e}={}){let{matches:n}=V.useContext(pr),{pathname:r}=ao(),a=JSON.stringify(FA(n));return V.useMemo(()=>HA(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function vN(t,e){return XA(t,e)}function XA(t,e,n,r,a){gt(Cc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=V.useContext(mr),{matches:u}=V.useContext(pr),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",v=h&&h.route;{let B=v&&v.path||"";$A(p,!v||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let T=ao(),S;if(e){let B=typeof e=="string"?so(e):e;gt(y==="/"||B.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${B.pathname}" was given in the \`location\` prop.`),S=B}else S=T;let R=S.pathname||"/",M=R;if(y!=="/"){let B=y.replace(/^\//,"").split("/");M="/"+R.replace(/^\//,"").split("/").slice(B.length).join("/")}let N=UA(t,{pathname:M});hi(v||N!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),hi(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=wN(N&&N.map(B=>Object.assign({},B,{params:Object.assign({},d,B.params),pathname:zr([y,l.encodeLocation?l.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:zr([y,l.encodeLocation?l.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),u,n,r,a);return e&&j?V.createElement(Ac.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},j):j}function _N(){let t=RN(),e=hN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:l},"ErrorBoundary")," or"," ",V.createElement("code",{style:l},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:a},n):null,u)}var TN=V.createElement(_N,null),EN=class extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?V.createElement(pr.Provider,{value:this.props.routeContext},V.createElement($y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bN({routeContext:t,match:e,children:n}){let r=V.useContext(Cl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(pr.Provider,{value:t},n)}function wN(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let y=l.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);gt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let h=!1,d=-1;if(n)for(let y=0;y<l.length;y++){let v=l[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=y),v.route.id){let{loaderData:T,errors:S}=n,R=v.route.loader&&!T.hasOwnProperty(v.route.id)&&(!S||S[v.route.id]===void 0);if(v.route.lazy||R){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}let p=n&&r?(y,v)=>{r(y,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:v})}:void 0;return l.reduceRight((y,v,T)=>{let S,R=!1,M=null,N=null;n&&(S=u&&v.route.id?u[v.route.id]:void 0,M=v.route.errorElement||TN,h&&(d<0&&T===0?($A("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,N=null):d===T&&(R=!0,N=v.route.hydrateFallbackElement||null)));let j=e.concat(l.slice(0,T+1)),B=()=>{let F;return S?F=M:R?F=N:v.route.Component?F=V.createElement(v.route.Component,null):v.route.element?F=v.route.element:F=y,V.createElement(bN,{match:v,routeContext:{outlet:y,matches:j,isDataRoute:n!=null},children:F})};return n&&(v.route.ErrorBoundary||v.route.errorElement||T===0)?V.createElement(EN,{location:n.location,revalidation:n.revalidation,component:M,error:S,children:B(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:p}):B()},null)}function Wy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SN(t){let e=V.useContext(Cl);return gt(e,Wy(t)),e}function AN(t){let e=V.useContext(Cd);return gt(e,Wy(t)),e}function CN(t){let e=V.useContext(pr);return gt(e,Wy(t)),e}function Zy(t){let e=CN(t),n=e.matches[e.matches.length-1];return gt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function xN(){return Zy("useRouteId")}function RN(){let t=V.useContext($y),e=AN("useRouteError"),n=Zy("useRouteError");return t!==void 0?t:e.errors?.[n]}function IN(){let{router:t}=SN("useNavigate"),e=Zy("useNavigate"),n=V.useRef(!1);return KA(()=>{n.current=!0}),V.useCallback(async(a,l={})=>{hi(n.current,YA),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Sb={};function $A(t,e,n){!e&&!Sb[t]&&(Sb[t]=!0,hi(!1,n))}V.memo(DN);function DN({routes:t,future:e,state:n,unstable_onError:r}){return XA(t,void 0,n,r,e)}function el(t){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NN({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:l=!1}){gt(!Cc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=V.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=so(n));let{pathname:d="/",search:p="",hash:y="",state:v=null,key:T="default"}=n,S=V.useMemo(()=>{let R=Hr(d,u);return R==null?null:{location:{pathname:R,search:p,hash:y,state:v,key:T},navigationType:r}},[u,d,p,y,v,T,r]);return hi(S!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:V.createElement(mr.Provider,{value:h},V.createElement(Ac.Provider,{children:e,value:S}))}function MN({children:t,location:e}){return vN(Kg(t),e)}function Kg(t,e=[]){let n=[];return V.Children.forEach(t,(r,a)=>{if(!V.isValidElement(r))return;let l=[...e,a];if(r.type===V.Fragment){n.push.apply(n,Kg(r.props.children,l));return}gt(r.type===el,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Kg(r.props.children,l)),n.push(u)}),n}var Vf="get",Of="application/x-www-form-urlencoded";function xd(t){return t!=null&&typeof t.tagName=="string"}function PN(t){return xd(t)&&t.tagName.toLowerCase()==="button"}function VN(t){return xd(t)&&t.tagName.toLowerCase()==="form"}function ON(t){return xd(t)&&t.tagName.toLowerCase()==="input"}function kN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LN(t,e){return t.button===0&&(!e||e==="_self")&&!kN(t)}var Ef=null;function jN(){if(Ef===null)try{new FormData(document.createElement("form"),0),Ef=!1}catch{Ef=!0}return Ef}var UN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fg(t){return t!=null&&!UN.has(t)?(hi(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Of}"`),null):t}function zN(t,e){let n,r,a,l,u;if(VN(t)){let h=t.getAttribute("action");r=h?Hr(h,e):null,n=t.getAttribute("method")||Vf,a=fg(t.getAttribute("enctype"))||Of,l=new FormData(t)}else if(PN(t)||ON(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?Hr(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Vf,a=fg(t.getAttribute("formenctype"))||fg(h.getAttribute("enctype"))||Of,l=new FormData(h,t),!jN()){let{name:p,type:y,value:v}=t;if(y==="image"){let T=p?`${p}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else p&&l.append(p,v)}}else{if(xd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Vf,r=null,a=Of,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function BN(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Hr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function FN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function qN(t,e,n){let r=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await FN(l,n);return u.links?u.links():[]}return[]}));return XN(r.flat(1).filter(HN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Ab(t,e,n,r,a,l){let u=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>n[p].pathname!==d.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==d.params["*"];return l==="assets"?e.filter((d,p)=>u(d,p)||h(d,p)):l==="data"?e.filter((d,p)=>{let y=r.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function GN(t,e,{includeHydrateFallback:n}={}){return YN(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function YN(t){return[...new Set(t)]}function KN(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function XN(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let l=JSON.stringify(KN(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function QA(){let t=V.useContext(Cl);return Jy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function $N(){let t=V.useContext(Cd);return Jy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ev=V.createContext(void 0);ev.displayName="FrameworkContext";function WA(){let t=V.useContext(ev);return Jy(t,"You must render this element inside a <HydratedRouter> element"),t}function QN(t,e){let n=V.useContext(ev),[r,a]=V.useState(!1),[l,u]=V.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:y,onTouchStart:v}=e,T=V.useRef(null);V.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let M=j=>{j.forEach(B=>{u(B.isIntersecting)})},N=new IntersectionObserver(M,{threshold:.5});return T.current&&N.observe(T.current),()=>{N.disconnect()}}},[t]),V.useEffect(()=>{if(r){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[r]);let S=()=>{a(!0)},R=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:Bu(h,S),onBlur:Bu(d,R),onMouseEnter:Bu(p,S),onMouseLeave:Bu(y,R),onTouchStart:Bu(v,S)}]:[!1,T,{}]}function Bu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function WN({page:t,...e}){let{router:n}=QA(),r=V.useMemo(()=>UA(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?V.createElement(JN,{page:t,matches:r,...e}):null}function ZN(t){let{manifest:e,routeModules:n}=WA(),[r,a]=V.useState([]);return V.useEffect(()=>{let l=!1;return qN(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),r}function JN({page:t,matches:e,...n}){let r=ao(),{manifest:a,routeModules:l}=WA(),{basename:u}=QA(),{loaderData:h,matches:d}=$N(),p=V.useMemo(()=>Ab(t,e,d,a,r,"data"),[t,e,d,a,r]),y=V.useMemo(()=>Ab(t,e,d,a,r,"assets"),[t,e,d,a,r]),v=V.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let R=new Set,M=!1;if(e.forEach(j=>{let B=a.routes[j.route.id];!B||!B.hasLoader||(!p.some(F=>F.route.id===j.route.id)&&j.route.id in h&&l[j.route.id]?.shouldRevalidate||B.hasClientLoader?M=!0:R.add(j.route.id))}),R.size===0)return[];let N=BN(t,u,"data");return M&&R.size>0&&N.searchParams.set("_routes",e.filter(j=>R.has(j.route.id)).map(j=>j.route.id).join(",")),[N.pathname+N.search]},[u,h,r,a,p,e,t,l]),T=V.useMemo(()=>GN(y,a),[y,a]),S=ZN(y);return V.createElement(V.Fragment,null,v.map(R=>V.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),T.map(R=>V.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),S.map(({key:R,link:M})=>V.createElement("link",{key:R,nonce:n.nonce,...M})))}function eM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ZA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZA&&(window.__reactRouterVersion="7.9.6")}catch{}function tM({basename:t,children:e,window:n}){let r=V.useRef();r.current==null&&(r.current=BD({window:n,v5Compat:!0}));let a=r.current,[l,u]=V.useState({action:a.action,location:a.location}),h=V.useCallback(d=>{V.startTransition(()=>u(d))},[u]);return V.useLayoutEffect(()=>a.listen(h),[a,h]),V.createElement(NN,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var JA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ya=V.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:u,state:h,target:d,to:p,preventScrollReset:y,viewTransition:v,...T},S){let{basename:R}=V.useContext(mr),M=typeof p=="string"&&JA.test(p),N,j=!1;if(typeof p=="string"&&M&&(N=p,ZA))try{let D=new URL(window.location.href),L=p.startsWith("//")?new URL(D.protocol+p):new URL(p),k=Hr(L.pathname,R);L.origin===D.origin&&k!=null?p=k+L.search+L.hash:j=!0}catch{hi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=pN(p,{relative:a}),[F,ae,se]=QN(r,T),le=sM(p,{replace:u,state:h,target:d,preventScrollReset:y,relative:a,viewTransition:v});function I(D){e&&e(D),D.defaultPrevented||le(D)}let x=V.createElement("a",{...T,...se,href:N||B,onClick:j||l?e:I,ref:eM(S,ae),target:d,"data-discover":!M&&n==="render"?"true":void 0});return F&&!M?V.createElement(V.Fragment,null,x,V.createElement(WN,{page:B})):x});Ya.displayName="Link";var nM=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:u,viewTransition:h,children:d,...p},y){let v=xc(u,{relative:p.relative}),T=ao(),S=V.useContext(Cd),{navigator:R,basename:M}=V.useContext(mr),N=S!=null&&cM(v)&&h===!0,j=R.encodeLocation?R.encodeLocation(v).pathname:v.pathname,B=T.pathname,F=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(B=B.toLowerCase(),F=F?F.toLowerCase():null,j=j.toLowerCase()),F&&M&&(F=Hr(F,M)||F);const ae=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let se=B===j||!a&&B.startsWith(j)&&B.charAt(ae)==="/",le=F!=null&&(F===j||!a&&F.startsWith(j)&&F.charAt(j.length)==="/"),I={isActive:se,isPending:le,isTransitioning:N},x=se?e:void 0,D;typeof r=="function"?D=r(I):D=[r,se?"active":null,le?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(I):l;return V.createElement(Ya,{...p,"aria-current":x,className:D,ref:y,style:L,to:u,viewTransition:h},typeof d=="function"?d(I):d)});nM.displayName="NavLink";var iM=V.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:l,method:u=Vf,action:h,onSubmit:d,relative:p,preventScrollReset:y,viewTransition:v,...T},S)=>{let R=lM(),M=uM(h,{relative:p}),N=u.toLowerCase()==="get"?"get":"post",j=typeof h=="string"&&JA.test(h),B=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let ae=F.nativeEvent.submitter,se=ae?.getAttribute("formmethod")||u;R(ae||F.currentTarget,{fetcherKey:e,method:se,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:v})};return V.createElement("form",{ref:S,method:N,action:M,onSubmit:r?d:B,...T,"data-discover":!j&&t==="render"?"true":void 0})});iM.displayName="Form";function rM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e1(t){let e=V.useContext(Cl);return gt(e,rM(t)),e}function sM(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:u}={}){let h=Qy(),d=ao(),p=xc(t,{relative:l});return V.useCallback(y=>{if(LN(y,e)){y.preventDefault();let v=n!==void 0?n:lc(d)===lc(p);h(t,{replace:v,state:r,preventScrollReset:a,relative:l,viewTransition:u})}},[d,h,p,n,r,e,t,a,l,u])}var aM=0,oM=()=>`__${String(++aM)}__`;function lM(){let{router:t}=e1("useSubmit"),{basename:e}=V.useContext(mr),n=xN();return V.useCallback(async(r,a={})=>{let{action:l,method:u,encType:h,formData:d,body:p}=zN(r,e);if(a.navigate===!1){let y=a.fetcherKey||oM();await t.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function uM(t,{relative:e}={}){let{basename:n}=V.useContext(mr),r=V.useContext(pr);gt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...xc(t||".",{relative:e})},u=ao();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let y=h.toString();l.search=y?`?${y}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:zr([n,l.pathname])),lc(l)}function cM(t,{relative:e}={}){let n=V.useContext(GA);gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=e1("useViewTransitionState"),a=xc(t,{relative:e});if(!n.isTransitioning)return!1;let l=Hr(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Hr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Qf(a.pathname,u)!=null||Qf(a.pathname,l)!=null}const hM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fM=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Cb=t=>{const e=fM(t);return e.charAt(0).toUpperCase()+e.slice(1)},t1=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),dM=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var mM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const pM=V.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:u,...h},d)=>V.createElement("svg",{ref:d,...mM,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:t1("lucide",a),...!l&&!dM(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,y])=>V.createElement(p,y)),...Array.isArray(l)?l:[l]]));const Ft=(t,e)=>{const n=V.forwardRef(({className:r,...a},l)=>V.createElement(pM,{ref:l,iconNode:e,className:t1(`lucide-${hM(Cb(t))}`,`lucide-${t}`,r),...a}));return n.displayName=Cb(t),n};const gM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],yM=Ft("arrow-left",gM);const vM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],n1=Ft("arrow-right",vM);const _M=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],i1=Ft("circle-check-big",_M);const TM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tv=Ft("clock",TM);const EM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],bM=Ft("file-text",EM);const wM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],xb=Ft("history",wM);const SM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],r1=Ft("loader-circle",SM);const AM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Rb=Ft("lock",AM);const CM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xM=Ft("log-out",CM);const RM=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],IM=Ft("map",RM);const DM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],NM=Ft("plus",DM);const MM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],dg=Ft("search",MM);const PM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],s1=Ft("shield",PM);const VM=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],OM=Ft("store",VM);const kM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],LM=Ft("trash-2",kM);const jM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],a1=Ft("triangle-alert",jM);const UM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ib=Ft("upload",UM);const zM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],o1=Ft("user-plus",zM);const BM=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],Xg=Ft("utensils-crossed",BM);const FM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yl=Ft("x",FM),nv=V.createContext({});function iv(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}const rv=typeof window<"u",l1=rv?V.useLayoutEffect:V.useEffect,Rd=V.createContext(null);function sv(t,e){t.indexOf(e)===-1&&t.push(e)}function av(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const qr=(t,e,n)=>n>e?e:n<t?t:n;let ov=()=>{};const Gr={},u1=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function c1(t){return typeof t=="object"&&t!==null}const h1=t=>/^0[^.\s]+$/u.test(t);function lv(t){let e;return()=>(e===void 0&&(e=t()),e)}const li=t=>t,HM=(t,e)=>n=>e(t(n)),Rc=(...t)=>t.reduce(HM),uc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class uv{constructor(){this.subscriptions=[]}add(e){return sv(this.subscriptions,e),()=>av(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ir=t=>t*1e3,ai=t=>t/1e3;function f1(t,e){return e?t*(1e3/e):0}const d1=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,qM=1e-7,GM=12;function YM(t,e,n,r,a){let l,u,h=0;do u=e+(n-e)/2,l=d1(u,r,a)-t,l>0?n=u:e=u;while(Math.abs(l)>qM&&++h<GM);return u}function Ic(t,e,n,r){if(t===e&&n===r)return li;const a=l=>YM(l,0,1,t,n);return l=>l===0||l===1?l:d1(a(l),e,r)}const m1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,p1=t=>e=>1-t(1-e),g1=Ic(.33,1.53,.69,.99),cv=p1(g1),y1=m1(cv),v1=t=>(t*=2)<1?.5*cv(t):.5*(2-Math.pow(2,-10*(t-1))),hv=t=>1-Math.sin(Math.acos(t)),_1=p1(hv),T1=m1(hv),KM=Ic(.42,0,1,1),XM=Ic(0,0,.58,1),E1=Ic(.42,0,.58,1),$M=t=>Array.isArray(t)&&typeof t[0]!="number",b1=t=>Array.isArray(t)&&typeof t[0]=="number",QM={linear:li,easeIn:KM,easeInOut:E1,easeOut:XM,circIn:hv,circInOut:T1,circOut:_1,backIn:cv,backInOut:y1,backOut:g1,anticipate:v1},WM=t=>typeof t=="string",Db=t=>{if(b1(t)){ov(t.length===4);const[e,n,r,a]=t;return Ic(e,n,r,a)}else if(WM(t))return QM[t];return t},bf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ZM(t,e){let n=new Set,r=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(y){u.has(y)&&(p.schedule(y),t()),y(h)}const p={schedule:(y,v=!1,T=!1)=>{const R=T&&a?n:r;return v&&u.add(y),R.has(y)||R.add(y),y},cancel:y=>{r.delete(y),u.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(d),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const JM=40;function w1(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=bf.reduce((F,ae)=>(F[ae]=ZM(l),F),{}),{setup:h,read:d,resolveKeyframes:p,preUpdate:y,update:v,preRender:T,render:S,postRender:R}=u,M=()=>{const F=Gr.useManualTiming?a.timestamp:performance.now();n=!1,Gr.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(F-a.timestamp,JM),1)),a.timestamp=F,a.isProcessing=!0,h.process(a),d.process(a),p.process(a),y.process(a),v.process(a),T.process(a),S.process(a),R.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(M))},N=()=>{n=!0,r=!0,a.isProcessing||t(M)};return{schedule:bf.reduce((F,ae)=>{const se=u[ae];return F[ae]=(le,I=!1,x=!1)=>(n||N(),se.schedule(le,I,x)),F},{}),cancel:F=>{for(let ae=0;ae<bf.length;ae++)u[bf[ae]].cancel(F)},state:a,steps:u}}const{schedule:dt,cancel:Ys,state:tn,steps:mg}=w1(typeof requestAnimationFrame<"u"?requestAnimationFrame:li,!0);let kf;function eP(){kf=void 0}const xn={now:()=>(kf===void 0&&xn.set(tn.isProcessing||Gr.useManualTiming?tn.timestamp:performance.now()),kf),set:t=>{kf=t,queueMicrotask(eP)}},S1=t=>e=>typeof e=="string"&&e.startsWith(t),fv=S1("--"),tP=S1("var(--"),dv=t=>tP(t)?nP.test(t.split("/*")[0].trim()):!1,nP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},cc={...xl,transform:t=>qr(0,1,t)},wf={...xl,default:1},Wu=t=>Math.round(t*1e5)/1e5,mv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function iP(t){return t==null}const rP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pv=(t,e)=>n=>!!(typeof n=="string"&&rP.test(n)&&n.startsWith(t)||e&&!iP(n)&&Object.prototype.hasOwnProperty.call(n,e)),A1=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,l,u,h]=r.match(mv);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},sP=t=>qr(0,255,t),pg={...xl,transform:t=>Math.round(sP(t))},Ba={test:pv("rgb","red"),parse:A1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+pg.transform(t)+", "+pg.transform(e)+", "+pg.transform(n)+", "+Wu(cc.transform(r))+")"};function aP(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const $g={test:pv("#"),parse:aP,transform:Ba.transform},Dc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ps=Dc("deg"),rr=Dc("%"),we=Dc("px"),oP=Dc("vh"),lP=Dc("vw"),Nb={...rr,parse:t=>rr.parse(t)/100,transform:t=>rr.transform(t*100)},sl={test:pv("hsl","hue"),parse:A1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+rr.transform(Wu(e))+", "+rr.transform(Wu(n))+", "+Wu(cc.transform(r))+")"},Ut={test:t=>Ba.test(t)||$g.test(t)||sl.test(t),parse:t=>Ba.test(t)?Ba.parse(t):sl.test(t)?sl.parse(t):$g.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ba.transform(t):sl.transform(t),getAnimatableNone:t=>{const e=Ut.parse(t);return e.alpha=0,Ut.transform(e)}},uP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function cP(t){return isNaN(t)&&typeof t=="string"&&(t.match(mv)?.length||0)+(t.match(uP)?.length||0)>0}const C1="number",x1="color",hP="var",fP="var(",Mb="${}",dP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(dP,d=>(Ut.test(d)?(r.color.push(l),a.push(x1),n.push(Ut.parse(d))):d.startsWith(fP)?(r.var.push(l),a.push(hP),n.push(d)):(r.number.push(l),a.push(C1),n.push(parseFloat(d))),++l,Mb)).split(Mb);return{values:n,split:h,indexes:r,types:a}}function R1(t){return hc(t).values}function I1(t){const{split:e,types:n}=hc(t),r=e.length;return a=>{let l="";for(let u=0;u<r;u++)if(l+=e[u],a[u]!==void 0){const h=n[u];h===C1?l+=Wu(a[u]):h===x1?l+=Ut.transform(a[u]):l+=a[u]}return l}}const mP=t=>typeof t=="number"?0:Ut.test(t)?Ut.getAnimatableNone(t):t;function pP(t){const e=R1(t);return I1(t)(e.map(mP))}const Ks={test:cP,parse:R1,createTransformer:I1,getAnimatableNone:pP};function gg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function gP({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=gg(d,h,t+1/3),l=gg(d,h,t),u=gg(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:r}}function Wf(t,e){return n=>n>0?e:t}const pt=(t,e,n)=>t+(e-t)*n,yg=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},yP=[$g,Ba,sl],vP=t=>yP.find(e=>e.test(t));function Pb(t){const e=vP(t);if(!e)return!1;let n=e.parse(t);return e===sl&&(n=gP(n)),n}const Vb=(t,e)=>{const n=Pb(t),r=Pb(e);if(!n||!r)return Wf(t,e);const a={...n};return l=>(a.red=yg(n.red,r.red,l),a.green=yg(n.green,r.green,l),a.blue=yg(n.blue,r.blue,l),a.alpha=pt(n.alpha,r.alpha,l),Ba.transform(a))},Qg=new Set(["none","hidden"]);function _P(t,e){return Qg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function TP(t,e){return n=>pt(t,e,n)}function gv(t){return typeof t=="number"?TP:typeof t=="string"?dv(t)?Wf:Ut.test(t)?Vb:wP:Array.isArray(t)?D1:typeof t=="object"?Ut.test(t)?Vb:EP:Wf}function D1(t,e){const n=[...t],r=n.length,a=t.map((l,u)=>gv(l)(l,e[u]));return l=>{for(let u=0;u<r;u++)n[u]=a[u](l);return n}}function EP(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=gv(t[a])(t[a],e[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function bP(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][r[l]],h=t.values[u]??0;n[a]=h,r[l]++}return n}const wP=(t,e)=>{const n=Ks.createTransformer(e),r=hc(t),a=hc(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Qg.has(t)&&!a.values.length||Qg.has(e)&&!r.values.length?_P(t,e):Rc(D1(bP(r,a),a.values),n):Wf(t,e)};function N1(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?pt(t,e,n):gv(t)(t,e)}const SP=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>dt.update(e,n),stop:()=>Ys(e),now:()=>tn.isProcessing?tn.timestamp:xn.now()}},M1=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)r+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Zf=2e4;function yv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Zf;)e+=n,r=t.next(e);return e>=Zf?1/0:e}function AP(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(yv(r),Zf);return{type:"keyframes",ease:l=>r.next(a*l).value/e,duration:ai(a)}}const CP=5;function P1(t,e,n){const r=Math.max(e-CP,0);return f1(n-t(r),e-r)}const bt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},vg=.001;function xP({duration:t=bt.duration,bounce:e=bt.bounce,velocity:n=bt.velocity,mass:r=bt.mass}){let a,l,u=1-e;u=qr(bt.minDamping,bt.maxDamping,u),t=qr(bt.minDuration,bt.maxDuration,ai(t)),u<1?(a=p=>{const y=p*u,v=y*t,T=y-n,S=Wg(p,u),R=Math.exp(-v);return vg-T/S*R},l=p=>{const v=p*u*t,T=v*n+n,S=Math.pow(u,2)*Math.pow(p,2)*t,R=Math.exp(-v),M=Wg(Math.pow(p,2),u);return(-a(p)+vg>0?-1:1)*((T-S)*R)/M}):(a=p=>{const y=Math.exp(-p*t),v=(p-n)*t+1;return-vg+y*v},l=p=>{const y=Math.exp(-p*t),v=(n-p)*(t*t);return y*v});const h=5/t,d=IP(a,l,h);if(t=ir(t),isNaN(d))return{stiffness:bt.stiffness,damping:bt.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:t}}}const RP=12;function IP(t,e,n){let r=n;for(let a=1;a<RP;a++)r=r-t(r)/e(r);return r}function Wg(t,e){return t*Math.sqrt(1-e*e)}const DP=["duration","bounce"],NP=["stiffness","damping","mass"];function Ob(t,e){return e.some(n=>t[n]!==void 0)}function MP(t){let e={velocity:bt.velocity,stiffness:bt.stiffness,damping:bt.damping,mass:bt.mass,isResolvedFromDuration:!1,...t};if(!Ob(t,NP)&&Ob(t,DP))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*qr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:bt.mass,stiffness:a,damping:l}}else{const n=xP(t);e={...e,...n,mass:bt.mass},e.isResolvedFromDuration=!0}return e}function Jf(t=bt.visualDuration,e=bt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:p,mass:y,duration:v,velocity:T,isResolvedFromDuration:S}=MP({...n,velocity:-ai(n.velocity||0)}),R=T||0,M=p/(2*Math.sqrt(d*y)),N=u-l,j=ai(Math.sqrt(d/y)),B=Math.abs(N)<5;r||(r=B?bt.restSpeed.granular:bt.restSpeed.default),a||(a=B?bt.restDelta.granular:bt.restDelta.default);let F;if(M<1){const se=Wg(j,M);F=le=>{const I=Math.exp(-M*j*le);return u-I*((R+M*j*N)/se*Math.sin(se*le)+N*Math.cos(se*le))}}else if(M===1)F=se=>u-Math.exp(-j*se)*(N+(R+j*N)*se);else{const se=j*Math.sqrt(M*M-1);F=le=>{const I=Math.exp(-M*j*le),x=Math.min(se*le,300);return u-I*((R+M*j*N)*Math.sinh(x)+se*N*Math.cosh(x))/se}}const ae={calculatedDuration:S&&v||null,next:se=>{const le=F(se);if(S)h.done=se>=v;else{let I=se===0?R:0;M<1&&(I=se===0?ir(R):P1(F,se,le));const x=Math.abs(I)<=r,D=Math.abs(u-le)<=a;h.done=x&&D}return h.value=h.done?u:le,h},toString:()=>{const se=Math.min(yv(ae),Zf),le=M1(I=>ae.next(se*I).value,se,30);return se+"ms "+le},toTransition:()=>{}};return ae}Jf.applyToOptions=t=>{const e=AP(t,100,Jf);return t.ease=e.ease,t.duration=ir(e.duration),t.type="keyframes",t};function Zg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:d,restDelta:p=.5,restSpeed:y}){const v=t[0],T={done:!1,value:v},S=x=>h!==void 0&&x<h||d!==void 0&&x>d,R=x=>h===void 0?d:d===void 0||Math.abs(h-x)<Math.abs(d-x)?h:d;let M=n*e;const N=v+M,j=u===void 0?N:u(N);j!==N&&(M=j-v);const B=x=>-M*Math.exp(-x/r),F=x=>j+B(x),ae=x=>{const D=B(x),L=F(x);T.done=Math.abs(D)<=p,T.value=T.done?j:L};let se,le;const I=x=>{S(T.value)&&(se=x,le=Jf({keyframes:[T.value,R(T.value)],velocity:P1(F,x,T.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return I(0),{calculatedDuration:null,next:x=>{let D=!1;return!le&&se===void 0&&(D=!0,ae(x),I(x)),se!==void 0&&x>=se?le.next(x-se):(!D&&ae(x),T)}}}function PP(t,e,n){const r=[],a=n||Gr.mix||N1,l=t.length-1;for(let u=0;u<l;u++){let h=a(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||li:e;h=Rc(d,h)}r.push(h)}return r}function VP(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const l=t.length;if(ov(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=PP(e,r,a),d=h.length,p=y=>{if(u&&y<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(y<t[v+1]);v++);const T=uc(t[v],t[v+1],y);return h[v](T)};return n?y=>p(qr(t[0],t[l-1],y)):p}function OP(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=uc(0,e,r);t.push(pt(n,1,a))}}function kP(t){const e=[0];return OP(e,t.length-1),e}function LP(t,e){return t.map(n=>n*e)}function jP(t,e){return t.map(()=>e||E1).splice(0,t.length-1)}function Zu({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=$M(r)?r.map(Db):Db(r),l={done:!1,value:e[0]},u=LP(n&&n.length===e.length?n:kP(e),t),h=VP(u,e,{ease:Array.isArray(a)?a:jP(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const UP=t=>t!==null;function vv(t,{repeat:e,repeatType:n="loop"},r,a=1){const l=t.filter(UP),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||r===void 0?l[h]:r}const zP={decay:Zg,inertia:Zg,tween:Zu,keyframes:Zu,spring:Jf};function V1(t){typeof t.type=="string"&&(t.type=zP[t.type])}class _v{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const BP=t=>t/100;class Tv extends _v{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==xn.now()&&this.tick(xn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;V1(e);const{type:n=Zu,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:h}=e;const d=n||Zu;d!==Zu&&typeof h[0]!="number"&&(this.mixKeyframes=Rc(BP,N1(h[0],h[1])),h=[0,100]);const p=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=yv(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:T,repeatDelay:S,type:R,onUpdate:M,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const j=this.currentTime-p*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?j<0:j>a;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,ae=r;if(v){const x=Math.min(this.currentTime,a)/h;let D=Math.floor(x),L=x%1;!L&&x>=1&&(L=1),L===1&&D--,D=Math.min(D,v+1),!!(D%2)&&(T==="reverse"?(L=1-L,S&&(L-=S/h)):T==="mirror"&&(ae=u)),F=qr(0,1,L)*h}const se=B?{done:!1,value:y[0]}:ae.next(F);l&&(se.value=l(se.value));let{done:le}=se;!B&&d!==null&&(le=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&le);return I&&R!==Zg&&(se.value=vv(y,this.options,N,this.speed)),M&&M(se.value),I&&this.finish(),se}then(e,n){return this.finished.then(e,n)}get duration(){return ai(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ai(e)}get time(){return ai(this.currentTime)}set time(e){e=ir(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(xn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ai(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=SP,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function FP(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Fa=t=>t*180/Math.PI,Jg=t=>{const e=Fa(Math.atan2(t[1],t[0]));return ey(e)},HP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Jg,rotateZ:Jg,skewX:t=>Fa(Math.atan(t[1])),skewY:t=>Fa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ey=t=>(t=t%360,t<0&&(t+=360),t),kb=Jg,Lb=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),jb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),qP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Lb,scaleY:jb,scale:t=>(Lb(t)+jb(t))/2,rotateX:t=>ey(Fa(Math.atan2(t[6],t[5]))),rotateY:t=>ey(Fa(Math.atan2(-t[2],t[0]))),rotateZ:kb,rotate:kb,skewX:t=>Fa(Math.atan(t[4])),skewY:t=>Fa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ty(t){return t.includes("scale")?1:0}function ny(t,e){if(!t||t==="none")return ty(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=qP,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=HP,a=h}if(!a)return ty(e);const l=r[e],u=a[1].split(",").map(YP);return typeof l=="function"?l(u):u[l]}const GP=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ny(n,e)};function YP(t){return parseFloat(t.trim())}const Rl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Il=new Set(Rl),Ub=t=>t===xl||t===we,KP=new Set(["x","y","z"]),XP=Rl.filter(t=>!KP.has(t));function $P(t){const e=[];return XP.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ka={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ny(e,"x"),y:(t,{transform:e})=>ny(e,"y")};Ka.translateX=Ka.x;Ka.translateY=Ka.y;const Xa=new Set;let iy=!1,ry=!1,sy=!1;function O1(){if(ry){const t=Array.from(Xa).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=$P(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,u])=>{r.getValue(l)?.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ry=!1,iy=!1,Xa.forEach(t=>t.complete(sy)),Xa.clear()}function k1(){Xa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ry=!0)})}function QP(){sy=!0,k1(),O1(),sy=!1}class Ev{constructor(e,n,r,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Xa.add(this),iy||(iy=!0,dt.read(k1),dt.resolveKeyframes(O1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const h=r.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}FP(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Xa.delete(this)}cancel(){this.state==="scheduled"&&(Xa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const WP=t=>t.startsWith("--");function ZP(t,e,n){WP(e)?t.style.setProperty(e,n):t.style[e]=n}const JP=lv(()=>window.ScrollTimeline!==void 0),eV={};function tV(t,e){const n=lv(t);return()=>eV[e]??n()}const L1=tV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qu=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,zb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qu([0,.65,.55,1]),circOut:qu([.55,0,1,.45]),backIn:qu([.31,.01,.66,-.59]),backOut:qu([.33,1.53,.69,.99])};function j1(t,e){if(t)return typeof t=="function"?L1()?M1(t,e):"ease-out":b1(t)?qu(t):Array.isArray(t)?t.map(n=>j1(n,e)||zb.easeOut):zb[t]}function nV(t,e,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:d}={},p=void 0){const y={[e]:n};d&&(y.offset=d);const v=j1(h,a);Array.isArray(v)&&(y.easing=v);const T={delay:r,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(T.pseudoElement=p),t.animate(y,T)}function U1(t){return typeof t=="function"&&"applyToOptions"in t}function iV({type:t,...e}){return U1(t)&&L1()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class rV extends _v{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,ov(typeof e.type!="string");const p=iV(e);this.animation=nV(n,r,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=vv(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):ZP(n,r,y),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ai(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ai(e)}get time(){return ai(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ir(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&JP()?(this.animation.timeline=e,li):n(this)}}const z1={anticipate:v1,backInOut:y1,circInOut:T1};function sV(t){return t in z1}function aV(t){typeof t.ease=="string"&&sV(t.ease)&&(t.ease=z1[t.ease])}const Bb=10;class oV extends rV{constructor(e){aV(e),V1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new Tv({...u,autoplay:!1}),d=ir(this.finishedTime??this.time);n.setWithVelocity(h.sample(d-Bb).value,h.sample(d).value,Bb),h.stop()}}const Fb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ks.test(t)||t==="0")&&!t.startsWith("url("));function lV(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function uV(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=Fb(a,e),h=Fb(l,e);return!u||!h?!1:lV(t)||(n==="spring"||U1(n))&&r}function ay(t){t.duration=0,t.type="keyframes"}const cV=new Set(["opacity","clipPath","filter","transform"]),hV=lv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function fV(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return hV()&&n&&cV.has(n)&&(n!=="transform"||!p)&&!d&&!r&&a!=="mirror"&&l!==0&&u!=="inertia"}const dV=40;class mV extends _v{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:d,motionValue:p,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=xn.now();const T={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:u,name:d,motionValue:p,element:y,...v},S=y?.KeyframeResolver||Ev;this.keyframeResolver=new S(h,(R,M,N)=>this.onKeyframesResolved(R,M,T,!N),d,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:d,isHandoff:p,onUpdate:y}=r;this.resolvedAt=xn.now(),uV(e,l,u,h)||((Gr.instantAnimations||!d)&&y?.(vv(e,r,n)),e[0]=e[e.length-1],ay(r),r.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>dV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},S=!p&&fV(T)?new oV({...T,element:T.motionValue.owner.current}):new Tv(T);S.finished.then(()=>this.notifyFinished()).catch(li),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),QP()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const pV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function gV(t){const e=pV.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function B1(t,e,n=1){const[r,a]=gV(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const u=l.trim();return u1(u)?parseFloat(u):u}return dv(a)?B1(a,e,n+1):a}function bv(t,e){return t?.[e]??t?.default??t}const F1=new Set(["width","height","top","left","right","bottom",...Rl]),yV={test:t=>t==="auto",parse:t=>t},H1=t=>e=>e.test(t),q1=[xl,we,rr,Ps,lP,oP,yV],Hb=t=>q1.find(H1(t));function vV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||h1(t):!0}const _V=new Set(["brightness","contrast","saturate","opacity"]);function TV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(mv)||[];if(!r)return t;const a=n.replace(r,"");let l=_V.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+a+")"}const EV=/\b([a-z-]*)\(.*?\)/gu,oy={...Ks,getAnimatableNone:t=>{const e=t.match(EV);return e?e.map(TV).join(" "):t}},qb={...xl,transform:Math.round},bV={rotate:Ps,rotateX:Ps,rotateY:Ps,rotateZ:Ps,scale:wf,scaleX:wf,scaleY:wf,scaleZ:wf,skew:Ps,skewX:Ps,skewY:Ps,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:cc,originX:Nb,originY:Nb,originZ:we},wv={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we,...bV,zIndex:qb,fillOpacity:cc,strokeOpacity:cc,numOctaves:qb},wV={...wv,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:oy,WebkitFilter:oy},G1=t=>wV[t];function Y1(t,e){let n=G1(t);return n!==oy&&(n=Ks),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const SV=new Set(["auto","none","0"]);function AV(t,e,n){let r=0,a;for(;r<t.length&&!a;){const l=t[r];typeof l=="string"&&!SV.has(l)&&hc(l).values.length&&(a=t[r]),r++}if(a&&n)for(const l of e)t[l]=Y1(n,a)}class CV extends Ev{constructor(e,n,r,a,l){super(e,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),dv(p))){const y=B1(p,n.current);y!==void 0&&(e[d]=y),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!F1.has(r)||e.length!==2)return;const[a,l]=e,u=Hb(a),h=Hb(l);if(u!==h)if(Ub(u)&&Ub(h))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else Ka[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||vV(e[a]))&&r.push(a);r.length&&AV(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ka[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,u=r[l];r[l]=Ka[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,d])=>{e.getValue(h).set(d)}),this.resolveNoneKeyframes()}}function xV(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=n?.[t]??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const K1=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function X1(t){return c1(t)&&"offsetHeight"in t}const Gb=30,RV=t=>!isNaN(parseFloat(t));class IV{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const a=xn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=xn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=RV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new uv);const r=this.events[e].add(n);return e==="change"?()=>{r(),dt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=xn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Gb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Gb);return f1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vl(t,e){return new IV(t,e)}const{schedule:Sv}=w1(queueMicrotask,!1),Ci={x:!1,y:!1};function $1(){return Ci.x||Ci.y}function DV(t){return t==="x"||t==="y"?Ci[t]?null:(Ci[t]=!0,()=>{Ci[t]=!1}):Ci.x||Ci.y?null:(Ci.x=Ci.y=!0,()=>{Ci.x=Ci.y=!1})}function Q1(t,e){const n=xV(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function Yb(t){return!(t.pointerType==="touch"||$1())}function NV(t,e,n={}){const[r,a,l]=Q1(t,n),u=h=>{if(!Yb(h))return;const{target:d}=h,p=e(d,h);if(typeof p!="function"||!d)return;const y=v=>{Yb(v)&&(p(v),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,a)};return r.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const W1=(t,e)=>e?t===e?!0:W1(t,e.parentElement):!1,Av=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,MV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function PV(t){return MV.has(t.tagName)||t.tabIndex!==-1}const Lf=new WeakSet;function Kb(t){return e=>{e.key==="Enter"&&t(e)}}function _g(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const VV=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Kb(()=>{if(Lf.has(n))return;_g(n,"down");const a=Kb(()=>{_g(n,"up")}),l=()=>_g(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Xb(t){return Av(t)&&!$1()}function OV(t,e,n={}){const[r,a,l]=Q1(t,n),u=h=>{const d=h.currentTarget;if(!Xb(h))return;Lf.add(d);const p=e(d,h),y=(S,R)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",T),Lf.has(d)&&Lf.delete(d),Xb(S)&&typeof p=="function"&&p(S,{success:R})},v=S=>{y(S,d===window||d===document||n.useGlobalTarget||W1(d,S.target))},T=S=>{y(S,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",T,a)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),X1(h)&&(h.addEventListener("focus",p=>VV(p,a)),!PV(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function Z1(t){return c1(t)&&"ownerSVGElement"in t}function kV(t){return Z1(t)&&t.tagName==="svg"}const hn=t=>!!(t&&t.getVelocity),LV=[...q1,Ut,Ks],jV=t=>LV.find(H1(t)),Cv=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function $b(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function UV(...t){return e=>{let n=!1;const r=t.map(a=>{const l=$b(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<r.length;a++){const l=r[a];typeof l=="function"?l():$b(t[a],null)}}}}function zV(...t){return V.useCallback(UV(...t),t)}class BV extends V.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=X1(r)&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function FV({children:t,isPresent:e,anchorX:n,root:r}){const a=V.useId(),l=V.useRef(null),u=V.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=V.useContext(Cv),d=zV(l,t?.ref);return V.useInsertionEffect(()=>{const{width:p,height:y,top:v,left:T,right:S}=u.current;if(e||!l.current||!p||!y)return;const R=n==="left"?`left: ${T}`:`right: ${S}`;l.current.dataset.motionPopId=a;const M=document.createElement("style");h&&(M.nonce=h);const N=r??document.head;return N.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${R}px !important;
            top: ${v}px !important;
          }
        `),()=>{N.contains(M)&&N.removeChild(M)}},[e]),w.jsx(BV,{isPresent:e,childRef:l,sizeRef:u,children:V.cloneElement(t,{ref:d})})}const HV=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h,root:d})=>{const p=iv(qV),y=V.useId();let v=!0,T=V.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:n,custom:a,onExitComplete:S=>{p.set(S,!0);for(const R of p.values())if(!R)return;r&&r()},register:S=>(p.set(S,!1),()=>p.delete(S))}),[n,p,r]);return l&&v&&(T={...T}),V.useMemo(()=>{p.forEach((S,R)=>p.set(R,!1))},[n]),V.useEffect(()=>{!n&&!p.size&&r&&r()},[n]),u==="popLayout"&&(t=w.jsx(FV,{isPresent:n,anchorX:h,root:d,children:t})),w.jsx(Rd.Provider,{value:T,children:t})};function qV(){return new Map}function J1(t=!0){const e=V.useContext(Rd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,l=V.useId();V.useEffect(()=>{if(t)return a(l)},[t]);const u=V.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,u]:[!0]}const Sf=t=>t.key||"";function Qb(t){const e=[];return V.Children.forEach(t,n=>{V.isValidElement(n)&&e.push(n)}),e}const js=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",root:d})=>{const[p,y]=J1(u),v=V.useMemo(()=>Qb(t),[t]),T=u&&!p?[]:v.map(Sf),S=V.useRef(!0),R=V.useRef(v),M=iv(()=>new Map),[N,j]=V.useState(v),[B,F]=V.useState(v);l1(()=>{S.current=!1,R.current=v;for(let le=0;le<B.length;le++){const I=Sf(B[le]);T.includes(I)?M.delete(I):M.get(I)!==!0&&M.set(I,!1)}},[B,T.length,T.join("-")]);const ae=[];if(v!==N){let le=[...v];for(let I=0;I<B.length;I++){const x=B[I],D=Sf(x);T.includes(D)||(le.splice(I,0,x),ae.push(x))}return l==="wait"&&ae.length&&(le=ae),F(Qb(le)),j(v),null}const{forceRender:se}=V.useContext(nv);return w.jsx(w.Fragment,{children:B.map(le=>{const I=Sf(le),x=u&&!p?!1:v===B||T.includes(I),D=()=>{if(M.has(I))M.set(I,!0);else return;let L=!0;M.forEach(k=>{k||(L=!1)}),L&&(se?.(),F(R.current),u&&y?.(),r&&r())};return w.jsx(HV,{isPresent:x,initial:!S.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:d,onExitComplete:x?void 0:D,anchorX:h,children:le},I)})})},eC=V.createContext({strict:!1}),Wb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_l={};for(const t in Wb)_l[t]={isEnabled:e=>Wb[t].some(n=>!!e[n])};function GV(t){for(const e in t)_l[e]={..._l[e],...t[e]}}const YV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ed(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||YV.has(t)}let tC=t=>!ed(t);function KV(t){typeof t=="function"&&(tC=e=>e.startsWith("on")?!ed(e):t(e))}try{KV(require("@emotion/is-prop-valid").default)}catch{}function XV(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(tC(a)||n===!0&&ed(a)||!e&&!ed(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}const Id=V.createContext({});function Dd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function fc(t){return typeof t=="string"||Array.isArray(t)}const xv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Rv=["initial",...xv];function Nd(t){return Dd(t.animate)||Rv.some(e=>fc(t[e]))}function nC(t){return!!(Nd(t)||t.variants)}function $V(t,e){if(Nd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||fc(n)?n:void 0,animate:fc(r)?r:void 0}}return t.inherit!==!1?e:{}}function QV(t){const{initial:e,animate:n}=$V(t,V.useContext(Id));return V.useMemo(()=>({initial:e,animate:n}),[Zb(e),Zb(n)])}function Zb(t){return Array.isArray(t)?t.join(" "):t}const dc={};function WV(t){for(const e in t)dc[e]=t[e],fv(e)&&(dc[e].isCSSVariable=!0)}function iC(t,{layout:e,layoutId:n}){return Il.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!dc[t]||t==="opacity")}const ZV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},JV=Rl.length;function eO(t,e,n){let r="",a=!0;for(let l=0;l<JV;l++){const u=Rl[l],h=t[u];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(u.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const p=K1(h,wv[u]);if(!d){a=!1;const y=ZV[u]||u;r+=`${y}(${p}) `}n&&(e[u]=p)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function Iv(t,e,n){const{style:r,vars:a,transformOrigin:l}=t;let u=!1,h=!1;for(const d in e){const p=e[d];if(Il.has(d)){u=!0;continue}else if(fv(d)){a[d]=p;continue}else{const y=K1(p,wv[d]);d.startsWith("origin")?(h=!0,l[d]=y):r[d]=y}}if(e.transform||(u||n?r.transform=eO(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${d} ${p} ${y}`}}const Dv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rC(t,e,n){for(const r in e)!hn(e[r])&&!iC(r,n)&&(t[r]=e[r])}function tO({transformTemplate:t},e){return V.useMemo(()=>{const n=Dv();return Iv(n,e,t),Object.assign({},n.vars,n.style)},[e])}function nO(t,e){const n=t.style||{},r={};return rC(r,n,t),Object.assign(r,tO(t,e)),r}function iO(t,e){const n={},r=nO(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const rO={offset:"stroke-dashoffset",array:"stroke-dasharray"},sO={offset:"strokeDashoffset",array:"strokeDasharray"};function aO(t,e,n=1,r=0,a=!0){t.pathLength=1;const l=a?rO:sO;t[l.offset]=we.transform(-r);const u=we.transform(e),h=we.transform(n);t[l.array]=`${u} ${h}`}function sC(t,{attrX:e,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},d,p,y){if(Iv(t,h,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:T}=t;v.transform&&(T.transform=v.transform,delete v.transform),(T.transform||v.transformOrigin)&&(T.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),T.transform&&(T.transformBox=y?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),a!==void 0&&aO(v,a,l,u,!1)}const aC=()=>({...Dv(),attrs:{}}),oC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function oO(t,e,n,r){const a=V.useMemo(()=>{const l=aC();return sC(l,e,oC(r),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};rC(l,t.style,t),a.style={...l,...a.style}}return a}const lO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Nv(t){return typeof t!="string"||t.includes("-")?!1:!!(lO.indexOf(t)>-1||/[A-Z]/u.test(t))}function uO(t,e,n,{latestValues:r},a,l=!1){const h=(Nv(t)?oO:iO)(e,r,a,t),d=XV(e,typeof t=="string",l),p=t!==V.Fragment?{...d,...h,ref:n}:{},{children:y}=e,v=V.useMemo(()=>hn(y)?y.get():y,[y]);return V.createElement(t,{...p,children:v})}function Jb(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Mv(t,e,n,r){if(typeof e=="function"){const[a,l]=Jb(r);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=Jb(r);e=e(n!==void 0?n:t.custom,a,l)}return e}function jf(t){return hn(t)?t.get():t}function cO({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,a){return{latestValues:hO(n,r,a,t),renderState:e()}}function hO(t,e,n,r){const a={},l=r(t,{});for(const T in l)a[T]=jf(l[T]);let{initial:u,animate:h}=t;const d=Nd(t),p=nC(t);e&&p&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const v=y?h:u;if(v&&typeof v!="boolean"&&!Dd(v)){const T=Array.isArray(v)?v:[v];for(let S=0;S<T.length;S++){const R=Mv(t,T[S]);if(R){const{transitionEnd:M,transition:N,...j}=R;for(const B in j){let F=j[B];if(Array.isArray(F)){const ae=y?F.length-1:0;F=F[ae]}F!==null&&(a[B]=F)}for(const B in M)a[B]=M[B]}}}return a}const lC=t=>(e,n)=>{const r=V.useContext(Id),a=V.useContext(Rd),l=()=>cO(t,e,r,a);return n?l():iv(l)};function Pv(t,e,n){const{style:r}=t,a={};for(const l in r)(hn(r[l])||e.style&&hn(e.style[l])||iC(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=r[l]);return a}const fO=lC({scrapeMotionValuesFromProps:Pv,createRenderState:Dv});function uC(t,e,n){const r=Pv(t,e,n);for(const a in t)if(hn(t[a])||hn(e[a])){const l=Rl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=t[a]}return r}const dO=lC({scrapeMotionValuesFromProps:uC,createRenderState:aC}),mO=Symbol.for("motionComponentSymbol");function al(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function pO(t,e,n){return V.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):al(n)&&(n.current=r))},[e])}const Vv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gO="framerAppearId",cC="data-"+Vv(gO),hC=V.createContext({});function yO(t,e,n,r,a){const{visualElement:l}=V.useContext(Id),u=V.useContext(eC),h=V.useContext(Rd),d=V.useContext(Cv).reducedMotion,p=V.useRef(null);r=r||u.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const y=p.current,v=V.useContext(hC);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&vO(p.current,n,a,v);const T=V.useRef(!1);V.useInsertionEffect(()=>{y&&T.current&&y.update(n,h)});const S=n[cC],R=V.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return l1(()=>{y&&(T.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),R.current&&y.animationState&&y.animationState.animateChanges())}),V.useEffect(()=>{y&&(!R.current&&y.animationState&&y.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),R.current=!1),y.enteringChildren=void 0)}),y}function vO(t,e,n,r){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:p,layoutCrossfade:y}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:fC(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&al(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:d,layoutRoot:p})}function fC(t){if(t)return t.options.allowProjection!==!1?t.projection:fC(t.parent)}function Tg(t,{forwardMotionProps:e=!1}={},n,r){n&&GV(n);const a=Nv(t)?dO:fO;function l(h,d){let p;const y={...V.useContext(Cv),...h,layoutId:_O(h)},{isStatic:v}=y,T=QV(h),S=a(h,v);if(!v&&rv){TO();const R=EO(y);p=R.MeasureLayout,T.visualElement=yO(t,S,y,r,R.ProjectionNode)}return w.jsxs(Id.Provider,{value:T,children:[p&&T.visualElement?w.jsx(p,{visualElement:T.visualElement,...y}):null,uO(t,h,pO(S,T.visualElement,d),S,v,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=V.forwardRef(l);return u[mO]=t,u}function _O({layoutId:t}){const e=V.useContext(nv).id;return e&&t!==void 0?e+"-"+t:t}function TO(t,e){V.useContext(eC).strict}function EO(t){const{drag:e,layout:n}=_l;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function bO(t,e){if(typeof Proxy>"u")return Tg;const n=new Map,r=(l,u)=>Tg(l,u,t,e),a=(l,u)=>r(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?r:(n.has(u)||n.set(u,Tg(u,void 0,t,e)),n.get(u))})}function dC({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function wO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function SO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Eg(t){return t===void 0||t===1}function ly({scale:t,scaleX:e,scaleY:n}){return!Eg(t)||!Eg(e)||!Eg(n)}function Ua(t){return ly(t)||mC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function mC(t){return ew(t.x)||ew(t.y)}function ew(t){return t&&t!=="0%"}function td(t,e,n){const r=t-n,a=e*r;return n+a}function tw(t,e,n,r,a){return a!==void 0&&(t=td(t,a,r)),td(t,n,r)+e}function uy(t,e=0,n=1,r,a){t.min=tw(t.min,e,n,r,a),t.max=tw(t.max,e,n,r,a)}function pC(t,{x:e,y:n}){uy(t.x,e.translate,e.scale,e.originPoint),uy(t.y,n.translate,n.scale,n.originPoint)}const nw=.999999999999,iw=1.0000000000001;function AO(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let h=0;h<a;h++){l=n[h],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ll(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,pC(t,u)),r&&Ua(l.latestValues)&&ll(t,l.latestValues))}e.x<iw&&e.x>nw&&(e.x=1),e.y<iw&&e.y>nw&&(e.y=1)}function ol(t,e){t.min=t.min+e,t.max=t.max+e}function rw(t,e,n,r,a=.5){const l=pt(t.min,t.max,a);uy(t,e,n,l,r)}function ll(t,e){rw(t.x,e.x,e.scaleX,e.scale,e.originX),rw(t.y,e.y,e.scaleY,e.scale,e.originY)}function gC(t,e){return dC(SO(t.getBoundingClientRect(),e))}function CO(t,e,n){const r=gC(t,n),{scroll:a}=e;return a&&(ol(r.x,a.offset.x),ol(r.y,a.offset.y)),r}const sw=()=>({translate:0,scale:1,origin:0,originPoint:0}),ul=()=>({x:sw(),y:sw()}),aw=()=>({min:0,max:0}),Rt=()=>({x:aw(),y:aw()}),cy={current:null},yC={current:!1};function xO(){if(yC.current=!0,!!rv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>cy.current=t.matches;t.addEventListener("change",e),e()}else cy.current=!1}const RO=new WeakMap;function IO(t,e,n){for(const r in e){const a=e[r],l=n[r];if(hn(a))t.addValue(r,a);else if(hn(l))t.addValue(r,vl(a,{owner:t}));else if(l!==a)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(r);t.addValue(r,vl(u!==void 0?u:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const ow=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class DO{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ev,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=xn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,dt.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Nd(n),this.isVariantNode=nC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in v){const S=v[T];d[T]!==void 0&&hn(S)&&S.set(d[T])}}mount(e){this.current=e,RO.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),yC.current||xO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:cy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ys(this.notifyUpdate),Ys(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Il.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&dt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in _l){const n=_l[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ow.length;r++){const a=ow[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=IO(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=vl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(u1(r)||h1(r))?r=parseFloat(r):!jV(r)&&Ks.test(n)&&(r=Y1(e,n)),this.setBaseTarget(e,hn(r)?r.get():r)),hn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=Mv(this.props,n,this.presenceContext?.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!hn(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new uv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Sv.render(this.render)}}class vC extends DO{constructor(){super(...arguments),this.KeyframeResolver=CV}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function _C(t,{style:e,vars:n},r,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,r);for(u in n)l.setProperty(u,n[u])}function NO(t){return window.getComputedStyle(t)}class MO extends vC{constructor(){super(...arguments),this.type="html",this.renderInstance=_C}readValueFromInstance(e,n){if(Il.has(n))return this.projection?.isProjecting?ty(n):GP(e,n);{const r=NO(e),a=(fv(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return gC(e,n)}build(e,n,r){Iv(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Pv(e,n,r)}}const TC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function PO(t,e,n,r){_C(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(TC.has(a)?a:Vv(a),e.attrs[a])}class VO extends vC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Il.has(n)){const r=G1(n);return r&&r.default||0}return n=TC.has(n)?n:Vv(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return uC(e,n,r)}build(e,n,r){sC(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,a){PO(e,n,r,a)}mount(e){this.isSVGTag=oC(e.tagName),super.mount(e)}}const OO=(t,e)=>Nv(t)?new VO(e):new MO(e,{allowProjection:t!==V.Fragment});function hl(t,e,n){const r=t.getProps();return Mv(r,e,n!==void 0?n:r.custom,t)}const hy=t=>Array.isArray(t);function kO(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,vl(n))}function LO(t){return hy(t)?t[t.length-1]||0:t}function jO(t,e){const n=hl(t,e);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const u in l){const h=LO(l[u]);kO(t,u,h)}}function UO(t){return!!(hn(t)&&t.add)}function fy(t,e){const n=t.getValue("willChange");if(UO(n))return n.add(e);if(!n&&Gr.WillChange){const r=new Gr.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function EC(t){return t.props[cC]}const zO=t=>t!==null;function BO(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(zO),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const FO={type:"spring",stiffness:500,damping:25,restSpeed:10},HO=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),qO={type:"keyframes",duration:.8},GO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},YO=(t,{keyframes:e})=>e.length>2?qO:Il.has(t)?t.startsWith("scale")?HO(e[1]):FO:GO;function KO({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:d,elapsed:p,...y}){return!!Object.keys(y).length}const Ov=(t,e,n,r={},a,l)=>u=>{const h=bv(r,t)||{},d=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-ir(d);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:T=>{e.set(T),h.onUpdate&&h.onUpdate(T)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};KO(h)||Object.assign(y,YO(t,y)),y.duration&&(y.duration=ir(y.duration)),y.repeatDelay&&(y.repeatDelay=ir(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(ay(y),y.delay===0&&(v=!0)),(Gr.instantAnimations||Gr.skipAnimations)&&(v=!0,ay(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const T=BO(y.keyframes,h);if(T!==void 0){dt.update(()=>{y.onUpdate(T),y.onComplete()});return}}return h.isSync?new Tv(y):new mV(y)};function XO({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function bC(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;r&&(l=r);const d=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const y in h){const v=t.getValue(y,t.latestValues[y]??null),T=h[y];if(T===void 0||p&&XO(p,y))continue;const S={delay:n,...bv(l||{},y)},R=v.get();if(R!==void 0&&!v.isAnimating&&!Array.isArray(T)&&T===R&&!S.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const j=EC(t);if(j){const B=window.MotionHandoffAnimation(j,y,dt);B!==null&&(S.startTime=B,M=!0)}}fy(t,y),v.start(Ov(y,v,T,t.shouldReduceMotion&&F1.has(y)?{type:!1}:S,t,M));const N=v.animation;N&&d.push(N)}return u&&Promise.all(d).then(()=>{dt.update(()=>{u&&jO(t,u)})}),d}function wC(t,e,n,r=0,a=1){const l=Array.from(t).sort((p,y)=>p.sortNodePosition(y)).indexOf(e),u=t.size,h=(u-1)*r;return typeof n=="function"?n(l,u):a===1?l*r:h-l*r}function dy(t,e,n={}){const r=hl(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(bC(t,r,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=a;return $O(t,e,d,p,y,v,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[d,p]=h==="beforeChildren"?[l,u]:[u,l];return d().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function $O(t,e,n=0,r=0,a=0,l=1,u){const h=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),h.push(dy(d,e,{...u,delay:n+(typeof r=="function"?0:r)+wC(t.variantChildren,d,r,a,l)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function QO(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(l=>dy(t,l,n));r=Promise.all(a)}else if(typeof e=="string")r=dy(t,e,n);else{const a=typeof e=="function"?hl(t,e,n.custom):e;r=Promise.all(bC(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function SC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const WO=Rv.length;function AC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?AC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<WO;n++){const r=Rv[n],a=t.props[r];(fc(a)||a===!1)&&(e[r]=a)}return e}const ZO=[...xv].reverse(),JO=xv.length;function ek(t){return e=>Promise.all(e.map(({animation:n,options:r})=>QO(t,n,r)))}function tk(t){let e=ek(t),n=lw(),r=!0;const a=d=>(p,y)=>{const v=hl(t,y,d==="exit"?t.presenceContext?.custom:void 0);if(v){const{transition:T,transitionEnd:S,...R}=v;p={...p,...R,...S}}return p};function l(d){e=d(t)}function u(d){const{props:p}=t,y=AC(t.parent)||{},v=[],T=new Set;let S={},R=1/0;for(let N=0;N<JO;N++){const j=ZO[N],B=n[j],F=p[j]!==void 0?p[j]:y[j],ae=fc(F),se=j===d?B.isActive:null;se===!1&&(R=N);let le=F===y[j]&&F!==p[j]&&ae;if(le&&r&&t.manuallyAnimateOnMount&&(le=!1),B.protectedKeys={...S},!B.isActive&&se===null||!F&&!B.prevProp||Dd(F)||typeof F=="boolean")continue;const I=nk(B.prevProp,F);let x=I||j===d&&B.isActive&&!le&&ae||N>R&&ae,D=!1;const L=Array.isArray(F)?F:[F];let k=L.reduce(a(j),{});se===!1&&(k={});const{prevResolvedValues:H={}}=B,P={...H,...k},ze=oe=>{x=!0,T.has(oe)&&(D=!0,T.delete(oe)),B.needsAnimating[oe]=!0;const de=t.getValue(oe);de&&(de.liveStyle=!1)};for(const oe in P){const de=k[oe],Ae=H[oe];if(S.hasOwnProperty(oe))continue;let Me=!1;hy(de)&&hy(Ae)?Me=!SC(de,Ae):Me=de!==Ae,Me?de!=null?ze(oe):T.add(oe):de!==void 0&&T.has(oe)?ze(oe):B.protectedKeys[oe]=!0}B.prevProp=F,B.prevResolvedValues=k,B.isActive&&(S={...S,...k}),r&&t.blockInitialAnimation&&(x=!1);const Ge=le&&I;x&&(!Ge||D)&&v.push(...L.map(oe=>{const de={type:j};if(typeof oe=="string"&&r&&!Ge&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ae}=t,Me=hl(Ae,oe);if(Ae.enteringChildren&&Me){const{delayChildren:U}=Me.transition||{};de.delay=wC(Ae.enteringChildren,t,U)}}return{animation:oe,options:de}}))}if(T.size){const N={};if(typeof p.initial!="boolean"){const j=hl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);j&&j.transition&&(N.transition=j.transition)}T.forEach(j=>{const B=t.getBaseTarget(j),F=t.getValue(j);F&&(F.liveStyle=!0),N[j]=B??null}),v.push({animation:N})}let M=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(M=!1),r=!1,M?e(v):Promise.resolve()}function h(d,p){if(n[d].isActive===p)return Promise.resolve();t.variantChildren?.forEach(v=>v.animationState?.setActive(d,p)),n[d].isActive=p;const y=u(d);for(const v in n)n[v].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=lw()}}}function nk(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!SC(e,t):!1}function ja(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lw(){return{animate:ja(!0),whileInView:ja(),whileHover:ja(),whileTap:ja(),whileDrag:ja(),whileFocus:ja(),exit:ja()}}class na{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ik extends na{constructor(e){super(e),e.animationState||(e.animationState=tk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Dd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let rk=0;class sk extends na{constructor(){super(...arguments),this.id=rk++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ak={animation:{Feature:ik},exit:{Feature:sk}};function mc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Nc(t){return{point:{x:t.pageX,y:t.pageY}}}const ok=t=>e=>Av(e)&&t(e,Nc(e));function Ju(t,e,n,r){return mc(t,e,ok(n),r)}const CC=1e-4,lk=1-CC,uk=1+CC,xC=.01,ck=0-xC,hk=0+xC;function gn(t){return t.max-t.min}function fk(t,e,n){return Math.abs(t-e)<=n}function uw(t,e,n,r=.5){t.origin=r,t.originPoint=pt(e.min,e.max,t.origin),t.scale=gn(n)/gn(e),t.translate=pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=lk&&t.scale<=uk||isNaN(t.scale))&&(t.scale=1),(t.translate>=ck&&t.translate<=hk||isNaN(t.translate))&&(t.translate=0)}function ec(t,e,n,r){uw(t.x,e.x,n.x,r?r.originX:void 0),uw(t.y,e.y,n.y,r?r.originY:void 0)}function cw(t,e,n){t.min=n.min+e.min,t.max=t.min+gn(e)}function dk(t,e,n){cw(t.x,e.x,n.x),cw(t.y,e.y,n.y)}function hw(t,e,n){t.min=e.min-n.min,t.max=t.min+gn(e)}function tc(t,e,n){hw(t.x,e.x,n.x),hw(t.y,e.y,n.y)}function ni(t){return[t("x"),t("y")]}const RC=({current:t})=>t?t.ownerDocument.defaultView:null,fw=(t,e)=>Math.abs(t-e);function mk(t,e){const n=fw(t.x,e.x),r=fw(t.y,e.y);return Math.sqrt(n**2+r**2)}class IC{constructor(e,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=wg(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,R=mk(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!R)return;const{point:M}=T,{timestamp:N}=tn;this.history.push({...M,timestamp:N});const{onStart:j,onMove:B}=this.handlers;S||(j&&j(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,T)},this.handlePointerMove=(T,S)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=bg(S,this.transformPagePoint),dt.update(this.updatePoint,!0)},this.handlePointerUp=(T,S)=>{this.end();const{onEnd:R,onSessionEnd:M,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=wg(T.type==="pointercancel"?this.lastMoveEventInfo:bg(S,this.transformPagePoint),this.history);this.startEvent&&R&&R(T,j),M&&M(T,j)},!Av(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=a||window;const h=Nc(e),d=bg(h,this.transformPagePoint),{point:p}=d,{timestamp:y}=tn;this.history=[{...p,timestamp:y}];const{onSessionStart:v}=n;v&&v(e,wg(d,this.history)),this.removeListeners=Rc(Ju(this.contextWindow,"pointermove",this.handlePointerMove),Ju(this.contextWindow,"pointerup",this.handlePointerUp),Ju(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ys(this.updatePoint)}}function bg(t,e){return e?{point:e(t.point)}:t}function dw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function wg({point:t},e){return{point:t,delta:dw(t,DC(e)),offset:dw(t,pk(e)),velocity:gk(e,.1)}}function pk(t){return t[0]}function DC(t){return t[t.length-1]}function gk(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=DC(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>ir(e)));)n--;if(!r)return{x:0,y:0};const l=ai(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function yk(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?pt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?pt(n,t,r.max):Math.min(t,n)),t}function mw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function vk(t,{top:e,left:n,bottom:r,right:a}){return{x:mw(t.x,n,a),y:mw(t.y,e,r)}}function pw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function _k(t,e){return{x:pw(t.x,e.x),y:pw(t.y,e.y)}}function Tk(t,e){let n=.5;const r=gn(t),a=gn(e);return a>r?n=uc(e.min,e.max-r,t.min):r>a&&(n=uc(t.min,t.max-a,e.min)),qr(0,1,n)}function Ek(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const my=.35;function bk(t=my){return t===!1?t=0:t===!0&&(t=my),{x:gw(t,"left","right"),y:gw(t,"top","bottom")}}function gw(t,e,n){return{min:yw(t,e),max:yw(t,n)}}function yw(t,e){return typeof t=="number"?t:t[e]||0}const wk=new WeakMap;class Sk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Nc(v).point)},u=(v,T)=>{const{drag:S,dragPropagation:R,onDragStart:M}=this.getProps();if(S&&!R&&(this.openDragLock&&this.openDragLock(),this.openDragLock=DV(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ni(j=>{let B=this.getAxisMotionValue(j).get()||0;if(rr.test(B)){const{projection:F}=this.visualElement;if(F&&F.layout){const ae=F.layout.layoutBox[j];ae&&(B=gn(ae)*(parseFloat(B)/100))}}this.originPoint[j]=B}),M&&dt.postRender(()=>M(v,T)),fy(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},h=(v,T)=>{this.latestPointerEvent=v,this.latestPanInfo=T;const{dragPropagation:S,dragDirectionLock:R,onDirectionLock:M,onDrag:N}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:j}=T;if(R&&this.currentDirection===null){this.currentDirection=Ak(j),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",T.point,j),this.updateAxis("y",T.point,j),this.visualElement.render(),N&&N(v,T)},d=(v,T)=>{this.latestPointerEvent=v,this.latestPanInfo=T,this.stop(v,T),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ni(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new IC(e,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:RC(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!r)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&dt.postRender(()=>h(r,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!Af(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=yk(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&al(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=vk(r.layoutBox,e):this.constraints=!1,this.elastic=bk(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ni(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Ek(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!al(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=CO(r,a.root,this.visualElement.getTransformPagePoint());let u=_k(a.layout.layoutBox,l);if(n){const h=n(wO(u));this.hasMutatedConstraints=!!h,h&&(u=dC(h))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=ni(y=>{if(!Af(y,n,this.currentDirection))return;let v=d&&d[y]||{};u&&(v={min:0,max:0});const T=a?200:1e6,S=a?40:1e7,R={type:"inertia",velocity:r?e[y]:0,bounceStiffness:T,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,R)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return fy(this.visualElement,e),r.start(Ov(e,r,0,n,this.visualElement,!1))}stopAnimation(){ni(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ni(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ni(n=>{const{drag:r}=this.getProps();if(!Af(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];l.set(e[n]-pt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!al(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ni(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=Tk({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ni(u=>{if(!Af(u,e,null))return;const h=this.getAxisMotionValue(u),{min:d,max:p}=this.constraints[u];h.set(pt(d,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;wk.set(this.visualElement,this);const e=this.visualElement.current,n=Ju(e,"pointerdown",d=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();al(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),dt.read(r);const u=mc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(ni(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=d[y].translate,v.set(v.get()+d[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=my,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function Af(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Ak(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Ck extends na{constructor(e){super(e),this.removeGroupControls=li,this.removeListeners=li,this.controls=new Sk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||li}unmount(){this.removeGroupControls(),this.removeListeners()}}const vw=t=>(e,n)=>{t&&dt.postRender(()=>t(e,n))};class xk extends na{constructor(){super(...arguments),this.removePointerDownListener=li}onPointerDown(e){this.session=new IC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:RC(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:vw(e),onStart:vw(n),onMove:r,onEnd:(l,u)=>{delete this.session,a&&dt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Ju(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Uf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _w(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Fu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=_w(t,e.target.x),r=_w(t,e.target.y);return`${n}% ${r}%`}},Rk={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=Ks.parse(t);if(a.length>5)return r;const l=Ks.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=d;const p=pt(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}};let Sg=!1;class Ik extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=e;WV(Dk),l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),Sg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Uf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,{projection:u}=r;return u&&(u.isPresent=l,Sg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||dt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Sv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;Sg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function NC(t){const[e,n]=J1(),r=V.useContext(nv);return w.jsx(Ik,{...t,layoutGroup:r,switchLayoutGroup:V.useContext(hC),isPresent:e,safeToRemove:n})}const Dk={borderRadius:{...Fu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Fu,borderTopRightRadius:Fu,borderBottomLeftRadius:Fu,borderBottomRightRadius:Fu,boxShadow:Rk};function Nk(t,e,n){const r=hn(t)?t:vl(t);return r.start(Ov("",r,e,n)),r.animation}const Mk=(t,e)=>t.depth-e.depth;class Pk{constructor(){this.children=[],this.isDirty=!1}add(e){sv(this.children,e),this.isDirty=!0}remove(e){av(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Mk),this.isDirty=!1,this.children.forEach(e)}}function Vk(t,e){const n=xn.now(),r=({timestamp:a})=>{const l=a-n;l>=e&&(Ys(r),t(l-e))};return dt.setup(r,!0),()=>Ys(r)}const MC=["TopLeft","TopRight","BottomLeft","BottomRight"],Ok=MC.length,Tw=t=>typeof t=="string"?parseFloat(t):t,Ew=t=>typeof t=="number"||we.test(t);function kk(t,e,n,r,a,l){a?(t.opacity=pt(0,n.opacity??1,Lk(r)),t.opacityExit=pt(e.opacity??1,0,jk(r))):l&&(t.opacity=pt(e.opacity??1,n.opacity??1,r));for(let u=0;u<Ok;u++){const h=`border${MC[u]}Radius`;let d=bw(e,h),p=bw(n,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||Ew(d)===Ew(p)?(t[h]=Math.max(pt(Tw(d),Tw(p),r),0),(rr.test(p)||rr.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=pt(e.rotate||0,n.rotate||0,r))}function bw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Lk=PC(0,.5,_1),jk=PC(.5,.95,li);function PC(t,e,n){return r=>r<t?0:r>e?1:n(uc(t,e,r))}function ww(t,e){t.min=e.min,t.max=e.max}function ti(t,e){ww(t.x,e.x),ww(t.y,e.y)}function Sw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Aw(t,e,n,r,a){return t-=e,t=td(t,1/n,r),a!==void 0&&(t=td(t,1/a,r)),t}function Uk(t,e=0,n=1,r=.5,a,l=t,u=t){if(rr.test(e)&&(e=parseFloat(e),e=pt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=pt(l.min,l.max,r);t===l&&(h-=e),t.min=Aw(t.min,e,n,h,a),t.max=Aw(t.max,e,n,h,a)}function Cw(t,e,[n,r,a],l,u){Uk(t,e[n],e[r],e[a],e.scale,l,u)}const zk=["x","scaleX","originX"],Bk=["y","scaleY","originY"];function xw(t,e,n,r){Cw(t.x,e,zk,n?n.x:void 0,r?r.x:void 0),Cw(t.y,e,Bk,n?n.y:void 0,r?r.y:void 0)}function Rw(t){return t.translate===0&&t.scale===1}function VC(t){return Rw(t.x)&&Rw(t.y)}function Iw(t,e){return t.min===e.min&&t.max===e.max}function Fk(t,e){return Iw(t.x,e.x)&&Iw(t.y,e.y)}function Dw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function OC(t,e){return Dw(t.x,e.x)&&Dw(t.y,e.y)}function Nw(t){return gn(t.x)/gn(t.y)}function Mw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Hk{constructor(){this.members=[]}add(e){sv(this.members,e),e.scheduleRender()}remove(e){if(av(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qk(t,e,n){let r="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(r=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:T,skewX:S,skewY:R}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),v&&(r+=`rotateX(${v}deg) `),T&&(r+=`rotateY(${T}deg) `),S&&(r+=`skewX(${S}deg) `),R&&(r+=`skewY(${R}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(r+=`scale(${h}, ${d})`),r||"none"}const Ag=["","X","Y","Z"],Gk=1e3;let Yk=0;function Cg(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function kC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=EC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",dt,!(a||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&kC(r)}function LC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(u={},h=e?.()){this.id=Yk++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach($k),this.nodes.forEach(Jk),this.nodes.forEach(e4),this.nodes.forEach(Qk)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Pk)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new uv),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Z1(u)&&!kV(u),this.instance=u;const{layoutId:h,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let y,v=0;const T=()=>this.root.updateBlockedByResize=!1;dt.read(()=>{v=window.innerWidth}),t(u,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,y&&y(),y=Vk(T,250),Uf.hasAnimatedSinceResize&&(Uf.hasAnimatedSinceResize=!1,this.nodes.forEach(Ow)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:T,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||p.getDefaultTransition()||s4,{onLayoutAnimationStart:M,onLayoutAnimationComplete:N}=p.getProps(),j=!this.targetLayout||!OC(this.targetLayout,S),B=!v&&T;if(this.options.layoutRoot||this.resumeFrom||B||v&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...bv(R,"layout"),onPlay:M,onComplete:N};(p.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(y,B)}else v||Ow(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ys(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(t4),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Pw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Vw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Zk),this.nodes.forEach(Kk),this.nodes.forEach(Xk)):this.nodes.forEach(Vw),this.clearAllSnapshots();const h=xn.now();tn.delta=qr(0,1e3/60,h-tn.timestamp),tn.timestamp=h,tn.isProcessing=!0,mg.update.process(tn),mg.preRender.process(tn),mg.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Sv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Wk),this.sharedNodes.forEach(n4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gn(this.snapshot.measuredBox.x)&&!gn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!VC(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||Ua(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),a4(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Rt();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(o4))){const{scroll:p}=this.root;p&&(ol(h.x,p.offset.x),ol(h.y,p.offset.y))}return h}removeElementScroll(u){const h=Rt();if(ti(h,u),this.scroll?.wasRoot)return h;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&ti(h,u),ol(h.x,y.offset.x),ol(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const d=Rt();ti(d,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ll(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ua(y.latestValues)&&ll(d,y.latestValues)}return Ua(this.latestValues)&&ll(d,this.latestValues),d}removeTransform(u){const h=Rt();ti(h,u);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Ua(p.latestValues))continue;ly(p.latestValues)&&p.updateSnapshot();const y=Rt(),v=p.measurePageBox();ti(y,v),xw(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Ua(this.latestValues)&&xw(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=tn.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),tc(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),ti(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Rt(),this.targetWithTransforms=Rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),dk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ti(this.target,this.layout.layoutBox),pC(this.target,this.targetDelta)):ti(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),tc(this.relativeTargetOrigin,this.target,T.target),ti(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ly(this.parent.latestValues)||mC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(d=!1),d)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;ti(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,T=this.treeScale.y;AO(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Rt());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Sw(this.prevProjectionDelta.x,this.projectionDelta.x),Sw(this.prevProjectionDelta.y,this.projectionDelta.y)),ec(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==T||!Mw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Mw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ul(),this.projectionDelta=ul(),this.projectionDeltaWithTransform=ul()}setAnimationOrigin(u,h=!1){const d=this.snapshot,p=d?d.latestValues:{},y={...this.latestValues},v=ul();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const T=Rt(),S=d?d.source:void 0,R=this.layout?this.layout.source:void 0,M=S!==R,N=this.getStack(),j=!N||N.members.length<=1,B=!!(M&&!j&&this.options.crossfade===!0&&!this.path.some(r4));this.animationProgress=0;let F;this.mixTargetDelta=ae=>{const se=ae/1e3;kw(v.x,u.x,se),kw(v.y,u.y,se),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tc(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),i4(this.relativeTarget,this.relativeTargetOrigin,T,se),F&&Fk(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Rt()),ti(F,this.relativeTarget)),M&&(this.animationValues=y,kk(y,p,this.latestValues,se,B,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=se},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ys(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update(()=>{Uf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=vl(0)),this.currentAnimation=Nk(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Gk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:y}=u;if(!(!h||!d||!p)){if(this!==u&&this.layout&&p&&jC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||Rt();const v=gn(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+v;const T=gn(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+T}ti(h,d),ll(h,y),ec(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new Hk),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&Cg("z",u,p,this.animationValues);for(let y=0;y<Ag.length;y++)Cg(`rotate${Ag[y]}`,u,p,this.animationValues),Cg(`skew${Ag[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=jf(h?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=jf(h?.pointerEvents)||""),this.hasProjected&&!Ua(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=qk(this.projectionDeltaWithTransform,this.treeScale,y);d&&(v=d(y,v)),u.transform=v;const{x:T,y:S}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${S.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const R in dc){if(y[R]===void 0)continue;const{correct:M,applyTo:N,isCSSVariable:j}=dc[R],B=v==="none"?y[R]:M(y[R],p);if(N){const F=N.length;for(let ae=0;ae<F;ae++)u[N[ae]]=B}else j?this.options.visualElement.renderState.vars[R]=B:u[R]=B}this.options.layoutId&&(u.pointerEvents=p===this?jf(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(Pw),this.root.sharedNodes.clear()}}}function Kk(t){t.updateLayout()}function Xk(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?ni(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],T=gn(v);v.min=n[y].min,v.max=v.min+T}):jC(a,e.layoutBox,n)&&ni(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],T=gn(n[y]);v.max=v.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+T)});const u=ul();ec(u,n,e.layoutBox);const h=ul();l?ec(h,t.applyTransform(r,!0),e.measuredBox):ec(h,n,e.layoutBox);const d=!VC(u);let p=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:T}=y;if(v&&T){const S=Rt();tc(S,e.layoutBox,v.layoutBox);const R=Rt();tc(R,n,T.layoutBox),OC(S,R)||(p=!0),y.options.layoutRoot&&(t.relativeTarget=R,t.relativeTargetOrigin=S,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function $k(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Qk(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Wk(t){t.clearSnapshot()}function Pw(t){t.clearMeasurements()}function Vw(t){t.isLayoutDirty=!1}function Zk(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ow(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Jk(t){t.resolveTargetDelta()}function e4(t){t.calcProjection()}function t4(t){t.resetSkewAndRotation()}function n4(t){t.removeLeadSnapshot()}function kw(t,e,n){t.translate=pt(e.translate,0,n),t.scale=pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Lw(t,e,n,r){t.min=pt(e.min,n.min,r),t.max=pt(e.max,n.max,r)}function i4(t,e,n,r){Lw(t.x,e.x,n.x,r),Lw(t.y,e.y,n.y,r)}function r4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const s4={duration:.45,ease:[.4,0,.1,1]},jw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Uw=jw("applewebkit/")&&!jw("chrome/")?Math.round:li;function zw(t){t.min=Uw(t.min),t.max=Uw(t.max)}function a4(t){zw(t.x),zw(t.y)}function jC(t,e,n){return t==="position"||t==="preserve-aspect"&&!fk(Nw(e),Nw(n),.2)}function o4(t){return t!==t.root&&t.scroll?.wasRoot}const l4=LC({attachResizeListener:(t,e)=>mc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xg={current:void 0},UC=LC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!xg.current){const t=new l4({});t.mount(window),t.setOptions({layoutScroll:!0}),xg.current=t}return xg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),u4={pan:{Feature:xk},drag:{Feature:Ck,ProjectionNode:UC,MeasureLayout:NC}};function Bw(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&dt.postRender(()=>l(e,Nc(e)))}class c4 extends na{mount(){const{current:e}=this.node;e&&(this.unmount=NV(e,(n,r)=>(Bw(this.node,r,"Start"),a=>Bw(this.node,a,"End"))))}unmount(){}}class h4 extends na{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rc(mc(this.node.current,"focus",()=>this.onFocus()),mc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Fw(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&dt.postRender(()=>l(e,Nc(e)))}class f4 extends na{mount(){const{current:e}=this.node;e&&(this.unmount=OV(e,(n,r)=>(Fw(this.node,r,"Start"),(a,{success:l})=>Fw(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const py=new WeakMap,Rg=new WeakMap,d4=t=>{const e=py.get(t.target);e&&e(t)},m4=t=>{t.forEach(d4)};function p4({root:t,...e}){const n=t||document;Rg.has(n)||Rg.set(n,{});const r=Rg.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(m4,{root:t,...e})),r[a]}function g4(t,e,n){const r=p4(e);return py.set(t,n),r.observe(t),()=>{py.delete(t),r.unobserve(t)}}const y4={some:0,all:1};class v4 extends na{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:y4[a]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),T=p?y:v;T&&T(d)};return g4(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(_4(e,n))&&this.startObserver()}unmount(){}}function _4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const T4={inView:{Feature:v4},tap:{Feature:f4},focus:{Feature:h4},hover:{Feature:c4}},E4={layout:{ProjectionNode:UC,MeasureLayout:NC}},b4={...ak,...T4,...u4,...E4},un=bO(b4,OO),Md=({searchTerm:t,setSearchTerm:e})=>{const[n,r]=V.useState(!1),[a,l]=V.useState(!1),u=[{name:"Taco House",phone:"+91 7795815315"},{name:"Hungry House",phone:"+91 9820243177"},{name:"MFC",phone:"+91 7338334970"},{name:"Hit&Run",phone:"+91 7406330088"},{name:"Janani Canteen",phone:"+91 8660138488"},{name:"Dollar Cafe",phone:"+91 8105306109"},{name:"Kamath Cafe",phone:"+91 8217044886"},{name:"Aditya Mess",phone:"+91 7483644586"},{name:"Apoorva Mess",phone:"+91 9108888320"},{name:"FC 2",phone:"+91 8861953102"},{name:"Poornima",phone:"+91 70906 41985"},{name:"Nom Nom cafe",phone:"+91 7619422026"},{name:"Ashraya",phone:"+91 6361201519"}];return w.jsxs(w.Fragment,{children:[w.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white/10 backdrop-blur-md border-b border-white/20 shadow-lg",children:w.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"flex items-center justify-between h-16",children:[w.jsx(js,{mode:"wait",children:(!n||window.innerWidth>=768)&&w.jsx(un.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center gap-2",children:w.jsxs(Ya,{to:"/",className:"flex items-center gap-2",children:[w.jsx("div",{className:"hidden md:block p-2 bg-orange-500 rounded-lg text-white",children:w.jsx(Xg,{size:24})}),w.jsx(Ya,{to:"/admin",className:"md:hidden p-2 bg-orange-500 rounded-lg text-white",onClick:h=>h.stopPropagation(),children:w.jsx(Xg,{size:24})}),w.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent",children:"MIT Mess"})]})})}),e&&w.jsxs("div",{className:"hidden md:flex flex-1 max-w-md mx-8 relative group",children:[w.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:w.jsx(dg,{className:"h-4 w-4 text-gray-400 group-focus-within:text-orange-500 transition-colors"})}),w.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-200/50 rounded-full leading-5 bg-white/50 backdrop-blur-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500/50 sm:text-sm shadow-sm transition-all duration-300 hover:bg-white/80 focus:bg-white",placeholder:"Search messes...",value:t,onChange:h=>e(h.target.value)})]}),w.jsx(js,{children:n&&w.jsxs(un.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:"100%"},exit:{opacity:0,width:0},className:"absolute inset-0 flex items-center px-4 bg-white md:hidden z-20",children:[w.jsx(dg,{className:"text-gray-400 mr-2",size:20}),w.jsx("input",{type:"text",placeholder:"Search...",value:t,onChange:h=>e(h.target.value),className:"flex-1 bg-transparent border-none focus:ring-0 text-gray-800 placeholder-gray-500 outline-none",autoFocus:!0}),w.jsx("button",{onClick:()=>r(!1),className:"p-2 text-gray-500 hover:text-orange-600",children:w.jsx(yl,{size:20})})]})}),w.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[w.jsx("a",{href:"https://mit.nakshatramaps.com/",target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-orange-600 transition-colors",title:"Campus Map",children:w.jsx(IM,{size:20})}),w.jsx("button",{onClick:()=>l(!0),className:"md:hidden p-2 text-gray-600 hover:text-orange-600 transition-colors",title:"Restaurants",children:w.jsx(OM,{size:20})}),e&&!n&&w.jsx("button",{onClick:()=>r(!0),className:"md:hidden p-2 text-gray-600 hover:text-orange-600 transition-colors",children:w.jsx(dg,{size:20})}),w.jsx("button",{onClick:()=>l(!0),className:"hidden md:block px-4 py-2 text-sm font-medium text-gray-700 hover:text-orange-600 transition-colors",children:"Restaurants"}),w.jsx(Ya,{to:"/admin",children:w.jsx("button",{className:"hidden md:block px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-orange-500 to-red-500 rounded-full hover:shadow-lg hover:scale-105 transition-all duration-300",children:"Admin Login"})})]})]})})}),w.jsx(js,{children:a&&w.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>l(!1),children:w.jsxs(un.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},onClick:h=>h.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[80vh] overflow-hidden flex flex-col",children:[w.jsxs("div",{className:"p-6 bg-gradient-to-r from-orange-500 to-red-500 text-white flex justify-between items-center shrink-0",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-2xl font-bold",children:"Nearby Restaurants"}),w.jsx("p",{className:"text-white/80 text-sm",children:"Tap a card to call"})]}),w.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:w.jsx(yl,{size:24})})]}),w.jsx("div",{className:"p-6 overflow-y-auto",children:w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map((h,d)=>w.jsxs("a",{href:`tel:${h.phone}`,className:"block p-4 rounded-xl bg-white border border-gray-100 shadow-sm hover:shadow-md hover:border-orange-200 transition-all duration-300 group",children:[w.jsx("h4",{className:"font-bold text-gray-800 group-hover:text-orange-600 transition-colors mb-1",children:h.name}),w.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-2",children:[w.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),h.phone]})]},d))})})]})})})]})};function zC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=zC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Lr(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=zC(t))&&(r&&(r+=" "),r+=e);return r}const w4=({mess:t})=>{const[e,n]=V.useState(new Date().toLocaleDateString("en-US",{weekday:"long"})),r=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],a=t.menu[e]||t.menu.Monday,l=p=>{if([p.Breakfast,p.Lunch,p.Snacks,p.Dinner].join(" ").toLowerCase().includes("month end dinner"))return"Month End Dinner";const v=["chicken","paneer","egg","sewaiya","kebab","ice cream","semiyan","kheer","swiss roll","gulab jamun"],T=["chapati","steam rice","steamed rice","rice"],S=j=>{if(!j)return null;const B=j.split(",").map(F=>F.trim());for(const F of B){const ae=F.toLowerCase();if(v.some(se=>ae.includes(se)))return F}for(const F of B){const ae=F.toLowerCase();if(!T.some(se=>ae.includes(se)))return F}return B[0]},R=S(p.Lunch),M=S(p.Dinner),N=j=>j?v.some(B=>j.toLowerCase().includes(B)):!1;return N(R)?R:N(M)?M:R||M||"Special Meal"},u={"from-orange-500 to-red-500":{text:"text-orange-600",shadow:"hover:shadow-orange-500/40",bg:"bg-orange-50"},"from-blue-500 to-cyan-500":{text:"text-blue-600",shadow:"hover:shadow-blue-500/40",bg:"bg-blue-50"},"from-green-500 to-emerald-500":{text:"text-green-600",shadow:"hover:shadow-green-500/40",bg:"bg-green-50"},"from-purple-500 to-pink-500":{text:"text-purple-600",shadow:"hover:shadow-purple-500/40",bg:"bg-purple-50"},"from-pink-500 to-rose-500":{text:"text-pink-600",shadow:"hover:shadow-pink-500/40",bg:"bg-pink-50"}},h=u[t.color]||u["from-orange-500 to-red-500"],d=p=>p?p.toLowerCase().split(" ").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" "):"";return w.jsx(Ya,{to:`/mess/${t.id}`,className:"h-full block",children:w.jsxs(un.div,{layout:!0,whileHover:{y:-5,transition:{duration:.1}},className:Lr("relative overflow-hidden rounded-2xl bg-white/40 backdrop-blur-lg border border-white/50 shadow-xl hover:shadow-2xl transition-all duration-100 cursor-pointer group h-full flex flex-col",h.shadow),children:[w.jsxs("div",{className:Lr("px-5 py-3 bg-gradient-to-r text-white transition-all duration-300",t.color),children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("h3",{className:"text-xl font-bold group-hover:scale-105 transition-transform duration-300",children:t.name}),w.jsx("div",{className:"p-1.5 bg-white/20 rounded-full group-hover:bg-white/30 transition-colors",children:w.jsx(n1,{size:16})})]}),w.jsxs("p",{className:"mt-1 text-white/90 text-xs flex items-center gap-1",children:[w.jsx(tv,{size:12}),"Today's Special: ",(()=>{const p=()=>{const R=new Date,M=R.getDay(),N=R.getDate()-M+(M===0?-6:1),j=new Date(R.setDate(N));return j.setHours(0,0,0,0),j},y=t.lastUpdated?new Date(t.lastUpdated):null,v=p(),T=!y||y<v,S=t.menu&&Object.keys(t.menu).some(R=>{const M=t.menu[R];return M?Object.values(M).some(N=>N&&N!=="N/A"&&N.trim()!==""):!1});return T||!S?"N/A":d(l(a))})()]})]}),w.jsx("div",{className:"p-5 flex-1 flex flex-col",children:(()=>{const p=()=>{const R=new Date,M=R.getDay(),N=R.getDate()-M+(M===0?-6:1),j=new Date(R.setDate(N));return j.setHours(0,0,0,0),j},y=t.lastUpdated?new Date(t.lastUpdated):null,v=p(),T=!y||y<v,S=t.menu&&Object.keys(t.menu).some(R=>{const M=t.menu[R];return M?Object.values(M).some(N=>N&&N!=="N/A"&&N.trim()!==""):!1});return T||!S?w.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center opacity-70 min-h-[200px]",children:[w.jsx("div",{className:Lr("text-lg font-bold mb-1",h.text),children:"Menu Not Uploaded"}),w.jsx("p",{className:"text-xs text-gray-400",children:"Check back later"})]}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"flex justify-between items-center w-full mb-3",onClick:R=>R.preventDefault(),children:r.map(R=>w.jsx("button",{onClick:M=>{M.preventDefault(),M.stopPropagation(),n(R)},className:Lr("px-1.5 py-1 rounded-md text-[10px] font-medium transition-all",e===R?"bg-gray-800 text-white shadow-md":"bg-white/50 text-gray-600 hover:bg-white/80"),children:R.slice(0,3)},R))}),w.jsx("div",{className:"grid grid-cols-1 flex-1 min-h-0",children:r.map(R=>{const M=t.menu[R]||t.menu.Monday,N=e===R;return w.jsxs("div",{className:Lr("flex flex-col gap-2.5 overflow-y-auto pr-1 pb-2 custom-scrollbar scrollbar-hide transition-opacity duration-200",N?"opacity-100 z-10 pointer-events-auto":"opacity-0 z-0 pointer-events-none"),style:{gridArea:"1 / 1 / 2 / 2"},children:[w.jsx("style",{jsx:!0,children:`
                                                    .scrollbar-hide::-webkit-scrollbar {
                                                        display: none;
                                                    }
                                                    .scrollbar-hide {
                                                        -ms-overflow-style: none;
                                                        scrollbar-width: none;
                                                    }
                                                `}),w.jsxs("div",{className:"p-3 rounded-xl bg-white/60 border border-white/40 shrink-0",children:[w.jsx("h4",{className:"text-[10px] font-bold text-orange-600 uppercase tracking-wider mb-0.5",children:"Breakfast"}),w.jsx("p",{className:"text-gray-800 font-medium text-xs leading-tight break-words",children:d(M.Breakfast)})]}),w.jsxs("div",{className:"p-3 rounded-xl bg-white/60 border border-white/40 shrink-0",children:[w.jsx("h4",{className:"text-[10px] font-bold text-green-600 uppercase tracking-wider mb-0.5",children:"Lunch"}),w.jsx("p",{className:"text-gray-800 font-medium text-xs leading-tight break-words",children:d(M.Lunch)})]}),w.jsxs("div",{className:"p-3 rounded-xl bg-white/60 border border-white/40 shrink-0",children:[w.jsx("h4",{className:"text-[10px] font-bold text-yellow-600 uppercase tracking-wider mb-0.5",children:"Snacks"}),w.jsx("p",{className:"text-gray-800 font-medium text-xs leading-tight break-words",children:d(M.Snacks)})]}),w.jsxs("div",{className:"p-3 rounded-xl bg-white/60 border border-white/40 shrink-0 mb-4",children:[w.jsx("h4",{className:"text-[10px] font-bold text-blue-600 uppercase tracking-wider mb-0.5",children:"Dinner"}),w.jsx("p",{className:"text-gray-800 font-medium text-xs leading-tight break-words",children:d(M.Dinner)})]})]},R)})})]})})()})]})})},S4=()=>{};var Hw={};const BC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},A4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},FC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,d=a+2<t.length,p=d?t[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let T=(h&15)<<2|p>>6,S=p&63;d||(S=64,u||(T=64)),r.push(n[y],n[v],n[T],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):A4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||v==null)throw new C4;const T=l<<2|h>>4;if(r.push(T),p!==64){const S=h<<4&240|p>>2;if(r.push(S),v!==64){const R=p<<6&192|v;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class C4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const x4=function(t){const e=BC(t);return FC.encodeByteArray(e,!0)},nd=function(t){return x4(t).replace(/\./g,"")},HC=function(t){try{return FC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function R4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const I4=()=>R4().__FIREBASE_DEFAULTS__,D4=()=>{if(typeof process>"u"||typeof Hw>"u")return;const t=Hw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},N4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&HC(t[1]);return e&&JSON.parse(e)},Pd=()=>{try{return S4()||I4()||D4()||N4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qC=t=>Pd()?.emulatorHosts?.[t],M4=t=>{const e=qC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},GC=()=>Pd()?.config,YC=t=>Pd()?.[`_${t}`];class P4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Dl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function KC(t){return(await fetch(t,{credentials:"include"})).ok}function V4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[nd(JSON.stringify(n)),nd(JSON.stringify(u)),""].join(".")}const nc={};function O4(){const t={prod:[],emulator:[]};for(const e of Object.keys(nc))nc[e]?t.emulator.push(e):t.prod.push(e);return t}function k4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let qw=!1;function XC(t,e){if(typeof window>"u"||typeof document>"u"||!Dl(window.location.host)||nc[t]===e||nc[t]||qw)return;nc[t]=e;function n(T){return`__firebase__banner__${T}`}const r="__firebase__banner",l=O4().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function d(T,S){T.setAttribute("width","24"),T.setAttribute("id",S),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{qw=!0,u()},T}function y(T,S){T.setAttribute("id",S),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function v(){const T=k4(r),S=n("text"),R=document.getElementById(S)||document.createElement("span"),M=n("learnmore"),N=document.getElementById(M)||document.createElement("a"),j=n("preprendIcon"),B=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const F=T.element;h(F),y(N,M);const ae=p();d(B,j),F.append(B,R,N,ae),document.body.appendChild(F)}l?(R.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function L4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function j4(){const t=Pd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function U4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $C(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function z4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function B4(){const t=fn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function F4(){return!j4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QC(){try{return typeof indexedDB=="object"}catch{return!1}}function WC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}function H4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const q4="FirebaseError";class Mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=q4,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oo.prototype.create)}}class oo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?G4(l,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Mi(a,h,r)}}function G4(t,e){return t.replace(Y4,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const Y4=/\{\$([^}]+)}/g;function K4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],u=e[a];if(Gw(l)&&Gw(u)){if(!Xs(l,u))return!1}else if(l!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function Gw(t){return t!==null&&typeof t=="object"}function Mc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Yu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function X4(t,e){const n=new $4(t,e);return n.subscribe.bind(n)}class $4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Q4(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Ig),a.error===void 0&&(a.error=Ig),a.complete===void 0&&(a.complete=Ig);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Q4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ig(){}const W4=1e3,Z4=2,J4=14400*1e3,eL=.5;function Yw(t,e=W4,n=Z4){const r=e*Math.pow(n,t),a=Math.round(eL*r*(Math.random()-.5)*2);return Math.min(J4,r+a)}function yt(t){return t&&t._delegate?t._delegate:t}class Ii{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const za="[DEFAULT]";class tL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new P4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iL(e))try{this.getOrInitializeService({instanceIdentifier:za})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=za){return this.instances.has(e)}getOptions(e=za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&u.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=za){return this.component?this.component.multipleInstances?e:za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nL(t){return t===za?void 0:t}function iL(t){return t.instantiationMode==="EAGER"}class rL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const sL={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},aL=Le.INFO,oL={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},lL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=oL[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vd{constructor(e){this.name=e,this._logLevel=aL,this._logHandler=lL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const uL=(t,e)=>e.some(n=>t instanceof n);let Kw,Xw;function cL(){return Kw||(Kw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hL(){return Xw||(Xw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZC=new WeakMap,gy=new WeakMap,JC=new WeakMap,Dg=new WeakMap,kv=new WeakMap;function fL(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Bs(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&ZC.set(n,t)}).catch(()=>{}),kv.set(e,t),e}function dL(t){if(gy.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});gy.set(t,e)}let yy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mL(t){yy=t(yy)}function pL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ng(this),e,...n);return JC.set(r,e.sort?e.sort():[e]),Bs(r)}:hL().includes(t)?function(...e){return t.apply(Ng(this),e),Bs(ZC.get(this))}:function(...e){return Bs(t.apply(Ng(this),e))}}function gL(t){return typeof t=="function"?pL(t):(t instanceof IDBTransaction&&dL(t),uL(t,cL())?new Proxy(t,yy):t)}function Bs(t){if(t instanceof IDBRequest)return fL(t);if(Dg.has(t))return Dg.get(t);const e=gL(t);return e!==t&&(Dg.set(t,e),kv.set(e,t)),e}const Ng=t=>kv.get(t);function ex(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=Bs(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Bs(u.result),d.oldVersion,d.newVersion,Bs(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const yL=["get","getKey","getAll","getAllKeys","count"],vL=["put","add","delete","clear"],Mg=new Map;function $w(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mg.get(e))return Mg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=vL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||yL.includes(n)))return;const l=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&d.done]))[0]};return Mg.set(e,l),l}mL(t=>({...t,get:(e,n,r)=>$w(e,n)||t.get(e,n,r),has:(e,n)=>!!$w(e,n)||t.has(e,n)}));class _L{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function TL(t){return t.getComponent()?.type==="VERSION"}const vy="@firebase/app",Qw="0.14.6";const Yr=new Vd("@firebase/app"),EL="@firebase/app-compat",bL="@firebase/analytics-compat",wL="@firebase/analytics",SL="@firebase/app-check-compat",AL="@firebase/app-check",CL="@firebase/auth",xL="@firebase/auth-compat",RL="@firebase/database",IL="@firebase/data-connect",DL="@firebase/database-compat",NL="@firebase/functions",ML="@firebase/functions-compat",PL="@firebase/installations",VL="@firebase/installations-compat",OL="@firebase/messaging",kL="@firebase/messaging-compat",LL="@firebase/performance",jL="@firebase/performance-compat",UL="@firebase/remote-config",zL="@firebase/remote-config-compat",BL="@firebase/storage",FL="@firebase/storage-compat",HL="@firebase/firestore",qL="@firebase/ai",GL="@firebase/firestore-compat",YL="firebase",KL="12.6.0";const _y="[DEFAULT]",XL={[vy]:"fire-core",[EL]:"fire-core-compat",[wL]:"fire-analytics",[bL]:"fire-analytics-compat",[AL]:"fire-app-check",[SL]:"fire-app-check-compat",[CL]:"fire-auth",[xL]:"fire-auth-compat",[RL]:"fire-rtdb",[IL]:"fire-data-connect",[DL]:"fire-rtdb-compat",[NL]:"fire-fn",[ML]:"fire-fn-compat",[PL]:"fire-iid",[VL]:"fire-iid-compat",[OL]:"fire-fcm",[kL]:"fire-fcm-compat",[LL]:"fire-perf",[jL]:"fire-perf-compat",[UL]:"fire-rc",[zL]:"fire-rc-compat",[BL]:"fire-gcs",[FL]:"fire-gcs-compat",[HL]:"fire-fst",[GL]:"fire-fst-compat",[qL]:"fire-vertex","fire-js":"fire-js",[YL]:"fire-js-all"};const id=new Map,$L=new Map,Ty=new Map;function Ww(t,e){try{t.container.addComponent(e)}catch(n){Yr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fr(t){const e=t.name;if(Ty.has(e))return Yr.debug(`There were multiple attempts to register component ${e}.`),!1;Ty.set(e,t);for(const n of id.values())Ww(n,t);for(const n of $L.values())Ww(n,t);return!0}function lo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ii(t){return t==null?!1:t.settings!==void 0}const QL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new oo("app","Firebase",QL);class WL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}const Nl=KL;function tx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:_y,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Fs.create("bad-app-name",{appName:String(a)});if(n||(n=GC()),!n)throw Fs.create("no-options");const l=id.get(a);if(l){if(Xs(n,l.options)&&Xs(r,l.config))return l;throw Fs.create("duplicate-app",{appName:a})}const u=new rL(a);for(const d of Ty.values())u.addComponent(d);const h=new WL(n,r,u);return id.set(a,h),h}function Lv(t=_y){const e=id.get(t);if(!e&&t===_y&&GC())return tx();if(!e)throw Fs.create("no-app",{appName:t});return e}function ui(t,e,n){let r=XL[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yr.warn(u.join(" "));return}fr(new Ii(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const ZL="firebase-heartbeat-database",JL=1,pc="firebase-heartbeat-store";let Pg=null;function nx(){return Pg||(Pg=ex(ZL,JL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fs.create("idb-open",{originalErrorMessage:t.message})})),Pg}async function e6(t){try{const n=(await nx()).transaction(pc),r=await n.objectStore(pc).get(ix(t));return await n.done,r}catch(e){if(e instanceof Mi)Yr.warn(e.message);else{const n=Fs.create("idb-get",{originalErrorMessage:e?.message});Yr.warn(n.message)}}}async function Zw(t,e){try{const r=(await nx()).transaction(pc,"readwrite");await r.objectStore(pc).put(e,ix(t)),await r.done}catch(n){if(n instanceof Mi)Yr.warn(n.message);else{const r=Fs.create("idb-set",{originalErrorMessage:n?.message});Yr.warn(r.message)}}}function ix(t){return`${t.name}!${t.options.appId}`}const t6=1024,n6=30;class i6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new s6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Jw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>n6){const a=a6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Yr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Jw(),{heartbeatsToSend:n,unsentEntries:r}=r6(this._heartbeatsCache.heartbeats),a=nd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Yr.warn(e),""}}}function Jw(){return new Date().toISOString().substring(0,10)}function r6(t,e=t6){const n=[];let r=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),eS(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),eS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class s6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QC()?WC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await e6(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Zw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Zw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function eS(t){return nd(JSON.stringify({version:2,heartbeats:t})).length}function a6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function o6(t){fr(new Ii("platform-logger",e=>new _L(e),"PRIVATE")),fr(new Ii("heartbeat",e=>new i6(e),"PRIVATE")),ui(vy,Qw,t),ui(vy,Qw,"esm2020"),ui("fire-js","")}o6("");var l6="firebase",u6="12.6.0";ui(l6,u6,"app");var tS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Hs,rx;(function(){var t;function e(I,x){function D(){}D.prototype=x.prototype,I.F=x.prototype,I.prototype=new D,I.prototype.constructor=I,I.D=function(L,k,H){for(var P=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)P[ze-2]=arguments[ze];return x.prototype[k].apply(L,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(I,x,D){D||(D=0);const L=Array(16);if(typeof x=="string")for(var k=0;k<16;++k)L[k]=x.charCodeAt(D++)|x.charCodeAt(D++)<<8|x.charCodeAt(D++)<<16|x.charCodeAt(D++)<<24;else for(k=0;k<16;++k)L[k]=x[D++]|x[D++]<<8|x[D++]<<16|x[D++]<<24;x=I.g[0],D=I.g[1],k=I.g[2];let H=I.g[3],P;P=x+(H^D&(k^H))+L[0]+3614090360&4294967295,x=D+(P<<7&4294967295|P>>>25),P=H+(k^x&(D^k))+L[1]+3905402710&4294967295,H=x+(P<<12&4294967295|P>>>20),P=k+(D^H&(x^D))+L[2]+606105819&4294967295,k=H+(P<<17&4294967295|P>>>15),P=D+(x^k&(H^x))+L[3]+3250441966&4294967295,D=k+(P<<22&4294967295|P>>>10),P=x+(H^D&(k^H))+L[4]+4118548399&4294967295,x=D+(P<<7&4294967295|P>>>25),P=H+(k^x&(D^k))+L[5]+1200080426&4294967295,H=x+(P<<12&4294967295|P>>>20),P=k+(D^H&(x^D))+L[6]+2821735955&4294967295,k=H+(P<<17&4294967295|P>>>15),P=D+(x^k&(H^x))+L[7]+4249261313&4294967295,D=k+(P<<22&4294967295|P>>>10),P=x+(H^D&(k^H))+L[8]+1770035416&4294967295,x=D+(P<<7&4294967295|P>>>25),P=H+(k^x&(D^k))+L[9]+2336552879&4294967295,H=x+(P<<12&4294967295|P>>>20),P=k+(D^H&(x^D))+L[10]+4294925233&4294967295,k=H+(P<<17&4294967295|P>>>15),P=D+(x^k&(H^x))+L[11]+2304563134&4294967295,D=k+(P<<22&4294967295|P>>>10),P=x+(H^D&(k^H))+L[12]+1804603682&4294967295,x=D+(P<<7&4294967295|P>>>25),P=H+(k^x&(D^k))+L[13]+4254626195&4294967295,H=x+(P<<12&4294967295|P>>>20),P=k+(D^H&(x^D))+L[14]+2792965006&4294967295,k=H+(P<<17&4294967295|P>>>15),P=D+(x^k&(H^x))+L[15]+1236535329&4294967295,D=k+(P<<22&4294967295|P>>>10),P=x+(k^H&(D^k))+L[1]+4129170786&4294967295,x=D+(P<<5&4294967295|P>>>27),P=H+(D^k&(x^D))+L[6]+3225465664&4294967295,H=x+(P<<9&4294967295|P>>>23),P=k+(x^D&(H^x))+L[11]+643717713&4294967295,k=H+(P<<14&4294967295|P>>>18),P=D+(H^x&(k^H))+L[0]+3921069994&4294967295,D=k+(P<<20&4294967295|P>>>12),P=x+(k^H&(D^k))+L[5]+3593408605&4294967295,x=D+(P<<5&4294967295|P>>>27),P=H+(D^k&(x^D))+L[10]+38016083&4294967295,H=x+(P<<9&4294967295|P>>>23),P=k+(x^D&(H^x))+L[15]+3634488961&4294967295,k=H+(P<<14&4294967295|P>>>18),P=D+(H^x&(k^H))+L[4]+3889429448&4294967295,D=k+(P<<20&4294967295|P>>>12),P=x+(k^H&(D^k))+L[9]+568446438&4294967295,x=D+(P<<5&4294967295|P>>>27),P=H+(D^k&(x^D))+L[14]+3275163606&4294967295,H=x+(P<<9&4294967295|P>>>23),P=k+(x^D&(H^x))+L[3]+4107603335&4294967295,k=H+(P<<14&4294967295|P>>>18),P=D+(H^x&(k^H))+L[8]+1163531501&4294967295,D=k+(P<<20&4294967295|P>>>12),P=x+(k^H&(D^k))+L[13]+2850285829&4294967295,x=D+(P<<5&4294967295|P>>>27),P=H+(D^k&(x^D))+L[2]+4243563512&4294967295,H=x+(P<<9&4294967295|P>>>23),P=k+(x^D&(H^x))+L[7]+1735328473&4294967295,k=H+(P<<14&4294967295|P>>>18),P=D+(H^x&(k^H))+L[12]+2368359562&4294967295,D=k+(P<<20&4294967295|P>>>12),P=x+(D^k^H)+L[5]+4294588738&4294967295,x=D+(P<<4&4294967295|P>>>28),P=H+(x^D^k)+L[8]+2272392833&4294967295,H=x+(P<<11&4294967295|P>>>21),P=k+(H^x^D)+L[11]+1839030562&4294967295,k=H+(P<<16&4294967295|P>>>16),P=D+(k^H^x)+L[14]+4259657740&4294967295,D=k+(P<<23&4294967295|P>>>9),P=x+(D^k^H)+L[1]+2763975236&4294967295,x=D+(P<<4&4294967295|P>>>28),P=H+(x^D^k)+L[4]+1272893353&4294967295,H=x+(P<<11&4294967295|P>>>21),P=k+(H^x^D)+L[7]+4139469664&4294967295,k=H+(P<<16&4294967295|P>>>16),P=D+(k^H^x)+L[10]+3200236656&4294967295,D=k+(P<<23&4294967295|P>>>9),P=x+(D^k^H)+L[13]+681279174&4294967295,x=D+(P<<4&4294967295|P>>>28),P=H+(x^D^k)+L[0]+3936430074&4294967295,H=x+(P<<11&4294967295|P>>>21),P=k+(H^x^D)+L[3]+3572445317&4294967295,k=H+(P<<16&4294967295|P>>>16),P=D+(k^H^x)+L[6]+76029189&4294967295,D=k+(P<<23&4294967295|P>>>9),P=x+(D^k^H)+L[9]+3654602809&4294967295,x=D+(P<<4&4294967295|P>>>28),P=H+(x^D^k)+L[12]+3873151461&4294967295,H=x+(P<<11&4294967295|P>>>21),P=k+(H^x^D)+L[15]+530742520&4294967295,k=H+(P<<16&4294967295|P>>>16),P=D+(k^H^x)+L[2]+3299628645&4294967295,D=k+(P<<23&4294967295|P>>>9),P=x+(k^(D|~H))+L[0]+4096336452&4294967295,x=D+(P<<6&4294967295|P>>>26),P=H+(D^(x|~k))+L[7]+1126891415&4294967295,H=x+(P<<10&4294967295|P>>>22),P=k+(x^(H|~D))+L[14]+2878612391&4294967295,k=H+(P<<15&4294967295|P>>>17),P=D+(H^(k|~x))+L[5]+4237533241&4294967295,D=k+(P<<21&4294967295|P>>>11),P=x+(k^(D|~H))+L[12]+1700485571&4294967295,x=D+(P<<6&4294967295|P>>>26),P=H+(D^(x|~k))+L[3]+2399980690&4294967295,H=x+(P<<10&4294967295|P>>>22),P=k+(x^(H|~D))+L[10]+4293915773&4294967295,k=H+(P<<15&4294967295|P>>>17),P=D+(H^(k|~x))+L[1]+2240044497&4294967295,D=k+(P<<21&4294967295|P>>>11),P=x+(k^(D|~H))+L[8]+1873313359&4294967295,x=D+(P<<6&4294967295|P>>>26),P=H+(D^(x|~k))+L[15]+4264355552&4294967295,H=x+(P<<10&4294967295|P>>>22),P=k+(x^(H|~D))+L[6]+2734768916&4294967295,k=H+(P<<15&4294967295|P>>>17),P=D+(H^(k|~x))+L[13]+1309151649&4294967295,D=k+(P<<21&4294967295|P>>>11),P=x+(k^(D|~H))+L[4]+4149444226&4294967295,x=D+(P<<6&4294967295|P>>>26),P=H+(D^(x|~k))+L[11]+3174756917&4294967295,H=x+(P<<10&4294967295|P>>>22),P=k+(x^(H|~D))+L[2]+718787259&4294967295,k=H+(P<<15&4294967295|P>>>17),P=D+(H^(k|~x))+L[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+H&4294967295}r.prototype.v=function(I,x){x===void 0&&(x=I.length);const D=x-this.blockSize,L=this.C;let k=this.h,H=0;for(;H<x;){if(k==0)for(;H<=D;)a(this,I,H),H+=this.blockSize;if(typeof I=="string"){for(;H<x;)if(L[k++]=I.charCodeAt(H++),k==this.blockSize){a(this,L),k=0;break}}else for(;H<x;)if(L[k++]=I[H++],k==this.blockSize){a(this,L),k=0;break}}this.h=k,this.o+=x},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var D=I.length-8;D<I.length;++D)I[D]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,D=0;D<4;++D)for(let L=0;L<32;L+=8)I[x++]=this.g[D]>>>L&255;return I};function l(I,x){var D=h;return Object.prototype.hasOwnProperty.call(D,I)?D[I]:D[I]=x(I)}function u(I,x){this.h=x;const D=[];let L=!0;for(let k=I.length-1;k>=0;k--){const H=I[k]|0;L&&H==x||(D[k]=H,L=!1)}this.g=D}var h={};function d(I){return-128<=I&&I<128?l(I,function(x){return new u([x|0],x<0?-1:0)}):new u([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return v;if(I<0)return N(p(-I));const x=[];let D=1;for(let L=0;I>=D;L++)x[L]=I/D|0,D*=4294967296;return new u(x,0)}function y(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return N(y(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=p(Math.pow(x,8));let L=v;for(let H=0;H<I.length;H+=8){var k=Math.min(8,I.length-H);const P=parseInt(I.substring(H,H+k),x);k<8?(k=p(Math.pow(x,k)),L=L.j(k).add(p(P))):(L=L.j(D),L=L.add(p(P)))}return L}var v=d(0),T=d(1),S=d(16777216);t=u.prototype,t.m=function(){if(M(this))return-N(this).m();let I=0,x=1;for(let D=0;D<this.g.length;D++){const L=this.i(D);I+=(L>=0?L:4294967296+L)*x,x*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(R(this))return"0";if(M(this))return"-"+N(this).toString(I);const x=p(Math.pow(I,6));var D=this;let L="";for(;;){const k=ae(D,x).g;D=j(D,k.j(x));let H=((D.g.length>0?D.g[0]:D.h)>>>0).toString(I);if(D=k,R(D))return H+L;for(;H.length<6;)H="0"+H;L=H+L}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function R(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function M(I){return I.h==-1}t.l=function(I){return I=j(this,I),M(I)?-1:R(I)?0:1};function N(I){const x=I.g.length,D=[];for(let L=0;L<x;L++)D[L]=~I.g[L];return new u(D,~I.h).add(T)}t.abs=function(){return M(this)?N(this):this},t.add=function(I){const x=Math.max(this.g.length,I.g.length),D=[];let L=0;for(let k=0;k<=x;k++){let H=L+(this.i(k)&65535)+(I.i(k)&65535),P=(H>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);L=P>>>16,H&=65535,P&=65535,D[k]=P<<16|H}return new u(D,D[D.length-1]&-2147483648?-1:0)};function j(I,x){return I.add(N(x))}t.j=function(I){if(R(this)||R(I))return v;if(M(this))return M(I)?N(this).j(N(I)):N(N(this).j(I));if(M(I))return N(this.j(N(I)));if(this.l(S)<0&&I.l(S)<0)return p(this.m()*I.m());const x=this.g.length+I.g.length,D=[];for(var L=0;L<2*x;L++)D[L]=0;for(L=0;L<this.g.length;L++)for(let k=0;k<I.g.length;k++){const H=this.i(L)>>>16,P=this.i(L)&65535,ze=I.i(k)>>>16,Ge=I.i(k)&65535;D[2*L+2*k]+=P*Ge,B(D,2*L+2*k),D[2*L+2*k+1]+=H*Ge,B(D,2*L+2*k+1),D[2*L+2*k+1]+=P*ze,B(D,2*L+2*k+1),D[2*L+2*k+2]+=H*ze,B(D,2*L+2*k+2)}for(I=0;I<x;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=x;I<2*x;I++)D[I]=0;return new u(D,0)};function B(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function F(I,x){this.g=I,this.h=x}function ae(I,x){if(R(x))throw Error("division by zero");if(R(I))return new F(v,v);if(M(I))return x=ae(N(I),x),new F(N(x.g),N(x.h));if(M(x))return x=ae(I,N(x)),new F(N(x.g),x.h);if(I.g.length>30){if(M(I)||M(x))throw Error("slowDivide_ only works with positive integers.");for(var D=T,L=x;L.l(I)<=0;)D=se(D),L=se(L);var k=le(D,1),H=le(L,1);for(L=le(L,2),D=le(D,2);!R(L);){var P=H.add(L);P.l(I)<=0&&(k=k.add(D),H=P),L=le(L,1),D=le(D,1)}return x=j(I,k.j(x)),new F(k,x)}for(k=v;I.l(x)>=0;){for(D=Math.max(1,Math.floor(I.m()/x.m())),L=Math.ceil(Math.log(D)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),H=p(D),P=H.j(x);M(P)||P.l(I)>0;)D-=L,H=p(D),P=H.j(x);R(H)&&(H=T),k=k.add(H),I=j(I,P)}return new F(k,I)}t.B=function(I){return ae(this,I).h},t.and=function(I){const x=Math.max(this.g.length,I.g.length),D=[];for(let L=0;L<x;L++)D[L]=this.i(L)&I.i(L);return new u(D,this.h&I.h)},t.or=function(I){const x=Math.max(this.g.length,I.g.length),D=[];for(let L=0;L<x;L++)D[L]=this.i(L)|I.i(L);return new u(D,this.h|I.h)},t.xor=function(I){const x=Math.max(this.g.length,I.g.length),D=[];for(let L=0;L<x;L++)D[L]=this.i(L)^I.i(L);return new u(D,this.h^I.h)};function se(I){const x=I.g.length+1,D=[];for(let L=0;L<x;L++)D[L]=I.i(L)<<1|I.i(L-1)>>>31;return new u(D,I.h)}function le(I,x){const D=x>>5;x%=32;const L=I.g.length-D,k=[];for(let H=0;H<L;H++)k[H]=x>0?I.i(H+D)>>>x|I.i(H+D+1)<<32-x:I.i(H+D);return new u(k,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,rx=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Hs=u}).apply(typeof tS<"u"?tS:typeof self<"u"?self:typeof window<"u"?window:{});var Cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sx,Ku,ax,zf,Ey,ox,lx,ux;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cf=="object"&&Cf];for(var _=0;_<f.length;++_){var b=f[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function a(f,_){if(_)e:{var b=r;f=f.split(".");for(var C=0;C<f.length-1;C++){var G=f[C];if(!(G in b))break e;b=b[G]}f=f[f.length-1],C=b[f],_=_(C),_!=C&&_!=null&&e(b,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var b=[],C;for(C in _)Object.prototype.hasOwnProperty.call(_,C)&&b.push([C,_[C]]);return b}});var l=l||{},u=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function d(f,_,b){return f.call.apply(f.bind,arguments)}function p(f,_,b){return p=d,p.apply(null,arguments)}function y(f,_){var b=Array.prototype.slice.call(arguments,1);return function(){var C=b.slice();return C.push.apply(C,arguments),f.apply(this,C)}}function v(f,_){function b(){}b.prototype=_.prototype,f.Z=_.prototype,f.prototype=new b,f.prototype.constructor=f,f.Ob=function(C,G,$){for(var ce=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ce[Ie-2]=arguments[Ie];return _.prototype[G].apply(C,ce)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function S(f){const _=f.length;if(_>0){const b=Array(_);for(let C=0;C<_;C++)b[C]=f[C];return b}return[]}function R(f,_){for(let C=1;C<arguments.length;C++){const G=arguments[C];var b=typeof G;if(b=b!="object"?b:G?Array.isArray(G)?"array":b:"null",b=="array"||b=="object"&&typeof G.length=="number"){b=f.length||0;const $=G.length||0;f.length=b+$;for(let ce=0;ce<$;ce++)f[b+ce]=G[ce]}else f.push(G)}}class M{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function N(f){u.setTimeout(()=>{throw f},0)}function j(){var f=I;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class B{constructor(){this.h=this.g=null}add(_,b){const C=F.get();C.set(_,b),this.h?this.h.next=C:this.g=C,this.h=C}}var F=new M(()=>new ae,f=>f.reset());class ae{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let se,le=!1,I=new B,x=()=>{const f=Promise.resolve(void 0);se=()=>{f.then(D)}};function D(){for(var f;f=j();){try{f.h.call(f.g)}catch(b){N(b)}var _=F;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}le=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};u.addEventListener("test",b,_),u.removeEventListener("test",b,_)}catch{}return f})();function P(f){return/^[\s\xa0]*$/.test(f)}function ze(f,_){k.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(ze,k),ze.prototype.init=function(f,_){const b=this.type=f.type,C=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(b=="mouseover"?_=f.fromElement:b=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ze.Z.h.call(this)},ze.prototype.h=function(){ze.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ge="closure_listenable_"+(Math.random()*1e6|0),W=0;function oe(f,_,b,C,G){this.listener=f,this.proxy=null,this.src=_,this.type=b,this.capture=!!C,this.ha=G,this.key=++W,this.da=this.fa=!1}function de(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ae(f,_,b){for(const C in f)_.call(b,f[C],C,f)}function Me(f,_){for(const b in f)_.call(void 0,f[b],b,f)}function U(f){const _={};for(const b in f)_[b]=f[b];return _}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(f,_){let b,C;for(let G=1;G<arguments.length;G++){C=arguments[G];for(b in C)f[b]=C[b];for(let $=0;$<te.length;$++)b=te[$],Object.prototype.hasOwnProperty.call(C,b)&&(f[b]=C[b])}}function J(f){this.src=f,this.g={},this.h=0}J.prototype.add=function(f,_,b,C,G){const $=f.toString();f=this.g[$],f||(f=this.g[$]=[],this.h++);const ce=ge(f,_,C,G);return ce>-1?(_=f[ce],b||(_.fa=!1)):(_=new oe(_,this.src,$,!!C,G),_.fa=b,f.push(_)),_};function he(f,_){const b=_.type;if(b in f.g){var C=f.g[b],G=Array.prototype.indexOf.call(C,_,void 0),$;($=G>=0)&&Array.prototype.splice.call(C,G,1),$&&(de(_),f.g[b].length==0&&(delete f.g[b],f.h--))}}function ge(f,_,b,C){for(let G=0;G<f.length;++G){const $=f[G];if(!$.da&&$.listener==_&&$.capture==!!b&&$.ha==C)return G}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),mt={};function $e(f,_,b,C,G){if(Array.isArray(_)){for(let $=0;$<_.length;$++)$e(f,_[$],b,C,G);return null}return b=la(b),f&&f[Ge]?f.J(_,b,h(C)?!!C.capture:!1,G):Bn(f,_,b,!1,C,G)}function Bn(f,_,b,C,G,$){if(!_)throw Error("Invalid event type");const ce=h(G)?!!G.capture:!!G;let Ie=yr(f);if(Ie||(f[Se]=Ie=new J(f)),b=Ie.add(_,b,C,ce,$),b.proxy)return b;if(C=fi(),b.proxy=C,C.src=f,C.listener=b,f.addEventListener)H||(G=ce),G===void 0&&(G=!1),f.addEventListener(_.toString(),C,G);else if(f.attachEvent)f.attachEvent(di(_.toString()),C);else if(f.addListener&&f.removeListener)f.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return b}function fi(){function f(b){return _.call(f.src,f.listener,b)}const _=Zr;return f}function Pi(f,_,b,C,G){if(Array.isArray(_))for(var $=0;$<_.length;$++)Pi(f,_[$],b,C,G);else C=h(C)?!!C.capture:!!C,b=la(b),f&&f[Ge]?(f=f.i,$=String(_).toString(),$ in f.g&&(_=f.g[$],b=ge(_,b,C,G),b>-1&&(de(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete f.g[$],f.h--)))):f&&(f=yr(f))&&(_=f.g[_.toString()],f=-1,_&&(f=ge(_,b,C,G)),(b=f>-1?_[f]:null)&&gr(b))}function gr(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[Ge])he(_.i,f);else{var b=f.type,C=f.proxy;_.removeEventListener?_.removeEventListener(b,C,f.capture):_.detachEvent?_.detachEvent(di(b),C):_.addListener&&_.removeListener&&_.removeListener(C),(b=yr(_))?(he(b,f),b.h==0&&(b.src=null,_[Se]=null)):de(f)}}}function di(f){return f in mt?mt[f]:mt[f]="on"+f}function Zr(f,_){if(f.da)f=!0;else{_=new ze(_,this);const b=f.listener,C=f.ha||f.src;f.fa&&gr(f),f=b.call(C,_)}return f}function yr(f){return f=f[Se],f instanceof J?f:null}var Jr="__closure_events_fn_"+(Math.random()*1e9>>>0);function la(f){return typeof f=="function"?f:(f[Jr]||(f[Jr]=function(_){return f.handleEvent(_)}),f[Jr])}function _t(){L.call(this),this.i=new J(this),this.M=this,this.G=null}v(_t,L),_t.prototype[Ge]=!0,_t.prototype.removeEventListener=function(f,_,b,C){Pi(this,f,_,b,C)};function rt(f,_){var b,C=f.G;if(C)for(b=[];C;C=C.G)b.push(C);if(f=f.M,C=_.type||_,typeof _=="string")_=new k(_,f);else if(_ instanceof k)_.target=_.target||f;else{var G=_;_=new k(C,f),ue(_,G)}G=!0;let $,ce;if(b)for(ce=b.length-1;ce>=0;ce--)$=_.g=b[ce],G=Vi($,C,!0,_)&&G;if($=_.g=f,G=Vi($,C,!0,_)&&G,G=Vi($,C,!1,_)&&G,b)for(ce=0;ce<b.length;ce++)$=_.g=b[ce],G=Vi($,C,!1,_)&&G}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const b=f.g[_];for(let C=0;C<b.length;C++)de(b[C]);delete f.g[_],f.h--}}this.G=null},_t.prototype.J=function(f,_,b,C){return this.i.add(String(f),_,!1,b,C)},_t.prototype.K=function(f,_,b,C){return this.i.add(String(f),_,!0,b,C)};function Vi(f,_,b,C){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let G=!0;for(let $=0;$<_.length;++$){const ce=_[$];if(ce&&!ce.da&&ce.capture==b){const Ie=ce.listener,At=ce.ha||ce.src;ce.fa&&he(f.i,ce),G=Ie.call(At,C)!==!1&&G}}return G&&!C.defaultPrevented}function om(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(f,_||0)}function Gc(f){f.g=om(()=>{f.g=null,f.i&&(f.i=!1,Gc(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class dn extends L{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Gc(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ua(f){L.call(this),this.h=f,this.g={}}v(ua,L);var jl=[];function Ul(f){Ae(f.g,function(_,b){this.g.hasOwnProperty(b)&&gr(_)},f),f.g={}}ua.prototype.N=function(){ua.Z.N.call(this),Ul(this)},ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var es=u.JSON.stringify,lm=u.JSON.parse,Yc=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function Kc(){}function Xc(){}var mi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $t(){k.call(this,"d")}v($t,k);function Fn(){k.call(this,"c")}v(Fn,k);var St={},$c=null;function fo(){return $c=$c||new _t}St.Ia="serverreachability";function Qc(f){k.call(this,St.Ia,f)}v(Qc,k);function Oi(f){const _=fo();rt(_,new Qc(_))}St.STAT_EVENT="statevent";function ca(f,_){k.call(this,St.STAT_EVENT,f),this.stat=_}v(ca,k);function Dt(f){const _=fo();rt(_,new ca(_,f))}St.Ja="timingevent";function ki(f,_){k.call(this,St.Ja,f),this.size=_}v(ki,k);function Li(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},_)}function pi(){this.g=!0}pi.prototype.ua=function(){this.g=!1};function um(f,_,b,C,G,$){f.info(function(){if(f.g)if($){var ce="",Ie=$.split("&");for(let Ye=0;Ye<Ie.length;Ye++){var At=Ie[Ye].split("=");if(At.length>1){const ct=At[0];At=At[1];const Yn=ct.split("_");ce=Yn.length>=2&&Yn[1]=="type"?ce+(ct+"="+At+"&"):ce+(ct+"=redacted&")}}}else ce=null;else ce=$;return"XMLHTTP REQ ("+C+") [attempt "+G+"]: "+_+`
`+b+`
`+ce})}function Wc(f,_,b,C,G,$,ce){f.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+G+"]: "+_+`
`+b+`
`+$+" "+ce})}function ji(f,_,b,C){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+cm(f,b)+(C?" "+C:"")})}function ha(f,_){f.info(function(){return"TIMEOUT: "+_})}pi.prototype.info=function(){};function cm(f,_){if(!f.g)return _;if(!_)return null;try{const $=JSON.parse(_);if($){for(f=0;f<$.length;f++)if(Array.isArray($[f])){var b=$[f];if(!(b.length<2)){var C=b[1];if(Array.isArray(C)&&!(C.length<1)){var G=C[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ce=1;ce<C.length;ce++)C[ce]=""}}}}return es($)}catch{return _}}var fa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bl;function da(){}v(da,Kc),da.prototype.g=function(){return new XMLHttpRequest},Bl=new da;function vr(f){return encodeURIComponent(String(f))}function Zc(f){var _=1;f=f.split(":");const b=[];for(;_>0&&f.length;)b.push(f.shift()),_--;return f.length&&b.push(f.join(":")),b}function gi(f,_,b,C){this.j=f,this.i=_,this.l=b,this.S=C||1,this.V=new ua(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new yi}function yi(){this.i=null,this.g="",this.h=!1}var Nt={},Gt={};function Ui(f,_,b){f.M=1,f.A=ma(Pt(_)),f.u=b,f.R=!0,mo(f,null)}function mo(f,_){f.F=Date.now(),zi(f),f.B=Pt(f.A);var b=f.B,C=f.S;Array.isArray(C)||(C=[String(C)]),vo(b.i,"t",C),f.C=0,b=f.j.L,f.h=new yi,f.g=dh(f.j,b?_:null,!f.u),f.P>0&&(f.O=new dn(p(f.Y,f,f.g),f.P)),_=f.V,b=f.g,C=f.ba;var G="readystatechange";Array.isArray(G)||(G&&(jl[0]=G.toString()),G=jl);for(let $=0;$<G.length;$++){const ce=$e(b,G[$],C||_.handleEvent,!1,_.h||_);if(!ce)break;_.g[ce.key]=ce}_=f.J?U(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),Oi(),um(f.i,f.v,f.B,f.l,f.S,f.u)}gi.prototype.ba=function(f){f=f.target;const _=this.O;_&&Ti(f)==3?_.j():this.Y(f)},gi.prototype.Y=function(f){try{if(f==this.g)e:{const Ie=Ti(this.g),At=this.g.ya(),Ye=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||Ie!=4||At==7||(At==8||Ye<=0?Oi(3):Oi(2)),Bi(this);var _=this.g.ca();this.X=_;var b=hm(this);if(this.o=_==200,Wc(this.i,this.v,this.B,this.l,this.S,Ie,_),this.o){if(this.U&&!this.L){t:{if(this.g){var C,G=this.g;if((C=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(C)){var $=C;break t}}$=null}if(f=$)ji(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Fi(this,f);else{this.o=!1,this.m=3,Dt(12),In(this),Hn(this);break e}}if(this.R){f=!0;let ct;for(;!this.K&&this.C<b.length;)if(ct=eh(this,b),ct==Gt){Ie==4&&(this.m=4,Dt(14),f=!1),ji(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==Nt){this.m=4,Dt(15),ji(this.i,this.l,b,"[Invalid Chunk]"),f=!1;break}else ji(this.i,this.l,ct,null),Fi(this,ct);if(Jc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||b.length!=0||this.h.h||(this.m=1,Dt(16),f=!1),this.o=this.o&&f,!f)ji(this.i,this.l,b,"[Invalid Chunked Response]"),In(this),Hn(this);else if(b.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),nu(ce),ce.P=!0,Dt(11))}}else ji(this.i,this.l,b,null),Fi(this,b);Ie==4&&In(this),this.o&&!this.K&&(Ie==4?uh(this.j,this):(this.o=!1,zi(this)))}else Tr(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,Dt(12)):(this.m=0,Dt(13)),In(this),Hn(this)}}}catch{}finally{}};function hm(f){if(!Jc(f))return f.g.la();const _=Qt(f.g);if(_==="")return"";let b="";const C=_.length,G=Ti(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return In(f),Hn(f),"";f.h.i=new u.TextDecoder}for(let $=0;$<C;$++)f.h.h=!0,b+=f.h.i.decode(_[$],{stream:!(G&&$==C-1)});return _.length=0,f.h.g+=b,f.C=0,f.h.g}function Jc(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function eh(f,_){var b=f.C,C=_.indexOf(`
`,b);return C==-1?Gt:(b=Number(_.substring(b,C)),isNaN(b)?Nt:(C+=1,C+b>_.length?Gt:(_=_.slice(C,C+b),f.C=C+b,_)))}gi.prototype.cancel=function(){this.K=!0,In(this)};function zi(f){f.T=Date.now()+f.H,po(f,f.H)}function po(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Li(p(f.aa,f),_)}function Bi(f){f.D&&(u.clearTimeout(f.D),f.D=null)}gi.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(ha(this.i,this.B),this.M!=2&&(Oi(),Dt(17)),In(this),this.m=2,Hn(this)):po(this,this.T-f)};function Hn(f){f.j.I==0||f.K||uh(f.j,f)}function In(f){Bi(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,Ul(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function Fi(f,_){try{var b=f.j;if(b.I!=0&&(b.g==f||qi(b.h,f))){if(!f.L&&qi(b.h,f)&&b.I==3){try{var C=b.Ba.g.parse(_)}catch{C=null}if(Array.isArray(C)&&C.length==3){var G=C;if(G[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<f.F)wo(b),ls(b);else break e;Ea(b),Dt(18)}}else b.xa=G[1],0<b.xa-b.K&&G[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Li(p(b.Va,b),6e3));Hi(b.h)<=1&&b.ta&&(b.ta=void 0)}else Qi(b,11)}else if((f.L||b.g==f)&&wo(b),!P(_))for(G=b.Ba.g.parse(_),_=0;_<G.length;_++){let Ye=G[_];const ct=Ye[0];if(!(ct<=b.K))if(b.K=ct,Ye=Ye[1],b.I==2)if(Ye[0]=="c"){b.M=Ye[1],b.ba=Ye[2];const Yn=Ye[3];Yn!=null&&(b.ka=Yn,b.j.info("VER="+b.ka));const Wi=Ye[4];Wi!=null&&(b.za=Wi,b.j.info("SVER="+b.za));const Ei=Ye[5];Ei!=null&&typeof Ei=="number"&&Ei>0&&(C=1.5*Ei,b.O=C,b.j.info("backChannelRequestTimeoutMs_="+C)),C=b;const bi=f.g;if(bi){const ba=bi.g?bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ba){var $=C.h;$.g||ba.indexOf("spdy")==-1&&ba.indexOf("quic")==-1&&ba.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(ql($,$.h),$.h=null))}if(C.G){const So=bi.g?bi.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(C.wa=So,Qe(C.J,C.G,So))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-f.F,b.j.info("Handshake RTT: "+b.T+"ms")),C=b;var ce=f;if(C.na=fh(C,C.L?C.ba:null,C.W),ce.L){Gl(C.h,ce);var Ie=ce,At=C.O;At&&(Ie.H=At),Ie.D&&(Bi(Ie),zi(Ie)),C.g=ce}else oh(C);b.i.length>0&&$i(b)}else Ye[0]!="stop"&&Ye[0]!="close"||Qi(b,7);else b.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Qi(b,7):eu(b):Ye[0]!="noop"&&b.l&&b.l.qa(Ye),b.A=0)}}Oi(4)}catch{}}var Mt=class{constructor(f,_){this.g=f,this.map=_}};function Fl(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Hl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Hi(f){return f.h?1:f.g?f.g.size:0}function qi(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function ql(f,_){f.g?f.g.add(_):f.h=_}function Gl(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}Fl.prototype.cancel=function(){if(this.i=Yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Yl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const b of f.g.values())_=_.concat(b.G);return _}return S(f.i)}var th=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function go(f,_){if(f){f=f.split("&");for(let b=0;b<f.length;b++){const C=f[b].indexOf("=");let G,$=null;C>=0?(G=f[b].substring(0,C),$=f[b].substring(C+1)):G=f[b],_(G,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Dn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof Dn?(this.l=f.l,Yt(this,f.j),this.o=f.o,this.g=f.g,ts(this,f.u),this.h=f.h,Kl(this,sh(f.i)),this.m=f.m):f&&(_=String(f).match(th))?(this.l=!1,Yt(this,_[1]||"",!0),this.o=Gi(_[2]||""),this.g=Gi(_[3]||"",!0),ts(this,_[4]),this.h=Gi(_[5]||"",!0),Kl(this,_[6]||"",!0),this.m=Gi(_[7]||"")):(this.l=!1,this.i=new is(null,this.l))}Dn.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(pa(_,yo,!0),":");var b=this.g;return(b||_=="file")&&(f.push("//"),(_=this.o)&&f.push(pa(_,yo,!0),"@"),f.push(vr(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&f.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(pa(b,b.charAt(0)=="/"?Xl:nh,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",pa(b,ih)),f.join("")},Dn.prototype.resolve=function(f){const _=Pt(this);let b=!!f.j;b?Yt(_,f.j):b=!!f.o,b?_.o=f.o:b=!!f.g,b?_.g=f.g:b=f.u!=null;var C=f.h;if(b)ts(_,f.u);else if(b=!!f.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var G=_.h.lastIndexOf("/");G!=-1&&(C=_.h.slice(0,G+1)+C)}if(G=C,G==".."||G==".")C="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){C=G.lastIndexOf("/",0)==0,G=G.split("/");const $=[];for(let ce=0;ce<G.length;){const Ie=G[ce++];Ie=="."?C&&ce==G.length&&$.push(""):Ie==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),C&&ce==G.length&&$.push("")):($.push(Ie),C=!0)}C=$.join("/")}else C=G}return b?_.h=C:b=f.i.toString()!=="",b?Kl(_,sh(f.i)):b=!!f.m,b&&(_.m=f.m),_};function Pt(f){return new Dn(f)}function Yt(f,_,b){f.j=b?Gi(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function ts(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function Kl(f,_,b){_ instanceof is?(f.i=_,_o(f.i,f.l)):(b||(_=pa(_,ns)),f.i=new is(_,f.l))}function Qe(f,_,b){f.i.set(_,b)}function ma(f){return Qe(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Gi(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function pa(f,_,b){return typeof f=="string"?(f=encodeURI(f).replace(_,vn),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function vn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var yo=/[#\/\?@]/g,nh=/[#\?:]/g,Xl=/[#\?]/g,ns=/[#\?@]/g,ih=/#/g;function is(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function _n(f){f.g||(f.g=new Map,f.h=0,f.i&&go(f.i,function(_,b){f.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}t=is.prototype,t.add=function(f,_){_n(this),this.i=null,f=rs(this,f);let b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(_),this.h+=1,this};function rh(f,_){_n(f),_=rs(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function $l(f,_){return _n(f),_=rs(f,_),f.g.has(_)}t.forEach=function(f,_){_n(this),this.g.forEach(function(b,C){b.forEach(function(G){f.call(_,G,C,this)},this)},this)};function Ql(f,_){_n(f);let b=[];if(typeof _=="string")$l(f,_)&&(b=b.concat(f.g.get(rs(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)b=b.concat(f[_]);return b}t.set=function(f,_){return _n(this),this.i=null,f=rs(this,f),$l(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=Ql(this,f),f.length>0?String(f[0]):_):_};function vo(f,_,b){rh(f,_),b.length>0&&(f.i=null,f.g.set(rs(f,_),S(b)),f.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let C=0;C<_.length;C++){var b=_[C];const G=vr(b);b=Ql(this,b);for(let $=0;$<b.length;$++){let ce=G;b[$]!==""&&(ce+="="+vr(b[$])),f.push(ce)}}return this.i=f.join("&")};function sh(f){const _=new is;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function rs(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function _o(f,_){_&&!f.j&&(_n(f),f.i=null,f.g.forEach(function(b,C){const G=C.toLowerCase();C!=G&&(rh(this,C),vo(this,G,b))},f)),f.j=_}function vi(f,_){const b=new pi;if(u.Image){const C=new Image;C.onload=y(qn,b,"TestLoadImage: loaded",!0,_,C),C.onerror=y(qn,b,"TestLoadImage: error",!1,_,C),C.onabort=y(qn,b,"TestLoadImage: abort",!1,_,C),C.ontimeout=y(qn,b,"TestLoadImage: timeout",!1,_,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=f}else _(!1)}function Wl(f,_){const b=new pi,C=new AbortController,G=setTimeout(()=>{C.abort(),qn(b,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:C.signal}).then($=>{clearTimeout(G),$.ok?qn(b,"TestPingServer: ok",!0,_):qn(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(G),qn(b,"TestPingServer: error",!1,_)})}function qn(f,_,b,C,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),C(b)}catch{}}function ss(){this.g=new Yc}function Yi(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Yi,Kc),Yi.prototype.g=function(){return new ga(this.i,this.h)};function ga(f,_){_t.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(ga,_t),t=ga.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,_i(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,as(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,_i(this)),this.g&&(this.readyState=3,_i(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;To(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function To(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?as(this):_i(this),this.readyState==3&&To(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,as(this))},t.Na=function(f){this.g&&(this.response=f,as(this))},t.ga=function(){this.g&&as(this)};function as(f){f.readyState=4,f.l=null,f.j=null,f.B=null,_i(f)}t.setRequestHeader=function(f,_){this.A.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=_.next();return f.join(`\r
`)};function _i(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ga.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Gn(f){let _="";return Ae(f,function(b,C){_+=C,_+=":",_+=b,_+=`\r
`}),_}function ya(f,_,b){e:{for(C in b){var C=!1;break e}C=!0}C||(b=Gn(b),typeof f=="string"?b!=null&&vr(b):Qe(f,_,b))}function Je(f){_t.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Je,_t);var Ki=/^https?$/i,Zl=["POST","PUT"];t=Je.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,_,b,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bl.g(),this.g.onreadystatechange=T(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch($){va(this,$);return}if(f=b||"",b=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var G in C)b.set(G,C[G]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const $ of C.keys())b.set($,C.get($));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(b.keys()).find($=>$.toLowerCase()=="content-type"),G=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(Zl,_,void 0)>=0)||C||G||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ce]of b)this.g.setRequestHeader($,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch($){va(this,$)}};function va(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,Jl(f),_r(f)}function Jl(f){f.A||(f.A=!0,rt(f,"complete"),rt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,rt(this,"complete"),rt(this,"abort"),_r(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_r(this,!0)),Je.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?_a(this):this.Xa())},t.Xa=function(){_a(this)};function _a(f){if(f.h&&typeof l<"u"){if(f.v&&Ti(f)==4)setTimeout(f.Ca.bind(f),0);else if(rt(f,"readystatechange"),Ti(f)==4){f.h=!1;try{const $=f.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var b;if(!(b=_)){var C;if(C=$===0){let ce=String(f.D).match(th)[1]||null;!ce&&u.self&&u.self.location&&(ce=u.self.location.protocol.slice(0,-1)),C=!Ki.test(ce?ce.toLowerCase():"")}b=C}if(b)rt(f,"complete"),rt(f,"success");else{f.o=6;try{var G=Ti(f)>2?f.g.statusText:""}catch{G=""}f.l=G+" ["+f.ca()+"]",Jl(f)}}finally{_r(f)}}}}function _r(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const b=f.g;f.g=null,_||rt(f,"ready");try{b.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ti(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Ti(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),lm(_)}};function Qt(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Tr(f){const _={};f=(f.g&&Ti(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<f.length;C++){if(P(f[C]))continue;var b=Zc(f[C]);const G=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const $=_[G]||[];_[G]=$,$.push(b)}Me(_,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xi(f,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||_}function os(f){this.za=0,this.i=[],this.j=new pi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xi("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xi("baseRetryDelayMs",5e3,f),this.Za=Xi("retryDelaySeedMs",1e4,f),this.Ta=Xi("forwardChannelMaxRetries",2,f),this.va=Xi("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Fl(f&&f.concurrentRequestLimit),this.Ba=new ss,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=os.prototype,t.ka=8,t.I=1,t.connect=function(f,_,b,C){Dt(0),this.W=f,this.H=_||{},b&&C!==void 0&&(this.H.OSID=b,this.H.OAID=C),this.F=this.X,this.J=fh(this,null,this.W),$i(this)};function eu(f){if(Eo(f),f.I==3){var _=f.V++,b=Pt(f.J);if(Qe(b,"SID",f.M),Qe(b,"RID",_),Qe(b,"TYPE","terminate"),Ta(f,b),_=new gi(f,f.j,_),_.M=2,_.A=ma(Pt(b)),b=!1,u.navigator&&u.navigator.sendBeacon)try{b=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&u.Image&&(new Image().src=_.A,b=!0),b||(_.g=dh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),zi(_)}hh(f)}function ls(f){f.g&&(nu(f),f.g.cancel(),f.g=null)}function Eo(f){ls(f),f.v&&(u.clearTimeout(f.v),f.v=null),wo(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function $i(f){if(!Hl(f.h)&&!f.m){f.m=!0;var _=f.Ea;se||x(),le||(se(),le=!0),I.add(_,f),f.D=0}}function bo(f,_){return Hi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Li(p(f.Ea,f,_),ch(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const G=new gi(this,this.j,f);let $=this.o;if(this.U&&($?($=U($),ue($,this.U)):$=this.U),this.u!==null||this.R||(G.J=$,$=null),this.S)e:{for(var _=0,b=0;b<this.i.length;b++){t:{var C=this.i[b];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(_+=C,_>4096){_=b;break e}if(_===4096||b===this.i.length-1){_=b+1;break e}}_=1e3}else _=1e3;_=ah(this,G,_),b=Pt(this.J),Qe(b,"RID",f),Qe(b,"CVER",22),this.G&&Qe(b,"X-HTTP-Session-Id",this.G),Ta(this,b),$&&(this.R?_="headers="+vr(Gn($))+"&"+_:this.u&&ya(b,this.u,$)),ql(this.h,G),this.Ra&&Qe(b,"TYPE","init"),this.S?(Qe(b,"$req",_),Qe(b,"SID","null"),G.U=!0,Ui(G,b,null)):Ui(G,b,_),this.I=2}}else this.I==3&&(f?tu(this,f):this.i.length==0||Hl(this.h)||tu(this))};function tu(f,_){var b;_?b=_.l:b=f.V++;const C=Pt(f.J);Qe(C,"SID",f.M),Qe(C,"RID",b),Qe(C,"AID",f.K),Ta(f,C),f.u&&f.o&&ya(C,f.u,f.o),b=new gi(f,f.j,b,f.D+1),f.u===null&&(b.J=f.o),_&&(f.i=_.G.concat(f.i)),_=ah(f,b,1e3),b.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),ql(f.h,b),Ui(b,C,_)}function Ta(f,_){f.H&&Ae(f.H,function(b,C){Qe(_,C,b)}),f.l&&Ae({},function(b,C){Qe(_,C,b)})}function ah(f,_,b){b=Math.min(f.i.length,b);const C=f.l?p(f.l.Ka,f.l,f):null;e:{var G=f.i;let Ie=-1;for(;;){const At=["count="+b];Ie==-1?b>0?(Ie=G[0].g,At.push("ofs="+Ie)):Ie=0:At.push("ofs="+Ie);let Ye=!0;for(let ct=0;ct<b;ct++){var $=G[ct].g;const Yn=G[ct].map;if($-=Ie,$<0)Ie=Math.max(0,G[ct].g-100),Ye=!1;else try{$="req"+$+"_"||"";try{var ce=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Wi,Ei]of ce){let bi=Ei;h(Ei)&&(bi=es(Ei)),At.push($+Wi+"="+encodeURIComponent(bi))}}catch(Wi){throw At.push($+"type="+encodeURIComponent("_badmap")),Wi}}catch{C&&C(Yn)}}if(Ye){ce=At.join("&");break e}}ce=void 0}return f=f.i.splice(0,b),_.G=f,ce}function oh(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;se||x(),le||(se(),le=!0),I.add(_,f),f.A=0}}function Ea(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Li(p(f.Da,f),ch(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,lh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Li(p(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Dt(10),ls(this),lh(this))};function nu(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function lh(f){f.g=new gi(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=Pt(f.na);Qe(_,"RID","rpc"),Qe(_,"SID",f.M),Qe(_,"AID",f.K),Qe(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&Qe(_,"TO",f.ia),Qe(_,"TYPE","xmlhttp"),Ta(f,_),f.u&&f.o&&ya(_,f.u,f.o),f.O&&(f.g.H=f.O);var b=f.g;f=f.ba,b.M=1,b.A=ma(Pt(_)),b.u=null,b.R=!0,mo(b,f)}t.Va=function(){this.C!=null&&(this.C=null,ls(this),Ea(this),Dt(19))};function wo(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function uh(f,_){var b=null;if(f.g==_){wo(f),nu(f),f.g=null;var C=2}else if(qi(f.h,_))b=_.G,Gl(f.h,_),C=1;else return;if(f.I!=0){if(_.o)if(C==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var G=f.D;C=fo(),rt(C,new ki(C,b)),$i(f)}else oh(f);else if(G=_.m,G==3||G==0&&_.X>0||!(C==1&&bo(f,_)||C==2&&Ea(f)))switch(b&&b.length>0&&(_=f.h,_.i=_.i.concat(b)),G){case 1:Qi(f,5);break;case 4:Qi(f,10);break;case 3:Qi(f,6);break;default:Qi(f,2)}}}function ch(f,_){let b=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(b*=2),b*_}function Qi(f,_){if(f.j.info("Error code "+_),_==2){var b=p(f.bb,f),C=f.Ua;const G=!C;C=new Dn(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Yt(C,"https"),ma(C),G?vi(C.toString(),b):Wl(C.toString(),b)}else Dt(2);f.I=0,f.l&&f.l.pa(_),hh(f),Eo(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function hh(f){if(f.I=0,f.ja=[],f.l){const _=Yl(f.h);(_.length!=0||f.i.length!=0)&&(R(f.ja,_),R(f.ja,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.oa()}}function fh(f,_,b){var C=b instanceof Dn?Pt(b):new Dn(b);if(C.g!="")_&&(C.g=_+"."+C.g),ts(C,C.u);else{var G=u.location;C=G.protocol,_=_?_+"."+G.hostname:G.hostname,G=+G.port;const $=new Dn(null);C&&Yt($,C),_&&($.g=_),G&&ts($,G),b&&($.h=b),C=$}return b=f.G,_=f.wa,b&&_&&Qe(C,b,_),Qe(C,"VER",f.ka),Ta(f,C),C}function dh(f,_,b){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new Je(new Yi({ab:b})):new Je(f.ma),_.Fa(f.L),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mh(){}t=mh.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function us(){}us.prototype.g=function(f,_){return new mn(f,_)};function mn(f,_){_t.call(this),this.g=new os(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!P(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Er(this)}v(mn,_t),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){eu(this.g)},mn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.v&&(b={},b.__data__=es(f),f=b);_.i.push(new Mt(_.Ya++,f)),_.I==3&&$i(_)},mn.prototype.N=function(){this.g.l=null,delete this.j,eu(this.g),delete this.g,mn.Z.N.call(this)};function ph(f){$t.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const b in _){f=b;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(ph,$t);function gh(){Fn.call(this),this.status=1}v(gh,Fn);function Er(f){this.g=f}v(Er,mh),Er.prototype.ra=function(){rt(this.g,"a")},Er.prototype.qa=function(f){rt(this.g,new ph(f))},Er.prototype.pa=function(f){rt(this.g,new gh)},Er.prototype.oa=function(){rt(this.g,"b")},us.prototype.createWebChannel=us.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,ux=function(){return new us},lx=function(){return fo()},ox=St,Ey={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fa.NO_ERROR=0,fa.TIMEOUT=8,fa.HTTP_ERROR=6,zf=fa,zl.COMPLETE="complete",ax=zl,Xc.EventType=mi,mi.OPEN="a",mi.CLOSE="b",mi.ERROR="c",mi.MESSAGE="d",_t.prototype.listen=_t.prototype.J,Ku=Xc,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,sx=Je}).apply(typeof Cf<"u"?Cf:typeof self<"u"?self:typeof window<"u"?window:{});const nS="@firebase/firestore",iS="4.9.2";class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let Ml="12.3.0";const Ja=new Vd("@firebase/firestore");function tl(){return Ja.logLevel}function me(t,...e){if(Ja.logLevel<=Le.DEBUG){const n=e.map(jv);Ja.debug(`Firestore (${Ml}): ${t}`,...n)}}function Kr(t,...e){if(Ja.logLevel<=Le.ERROR){const n=e.map(jv);Ja.error(`Firestore (${Ml}): ${t}`,...n)}}function Tl(t,...e){if(Ja.logLevel<=Le.WARN){const n=e.map(jv);Ja.warn(`Firestore (${Ml}): ${t}`,...n)}}function jv(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function be(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,cx(t,r,n)}function cx(t,e,n){let r=`FIRESTORE (${Ml}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Kr(r),new Error(r)}function Xe(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||cx(e,a,r)}function Re(t,e){return t}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Br{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class hx{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class c6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ln.UNAUTHENTICATED)))}shutdown(){}}class h6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class f6{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let l=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Br,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const d=l;e.enqueueRetryable((async()=>{await d.promise,await a(this.currentUser)}))},h=d=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Br)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string",31837,{l:r}),new hx(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class d6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class m6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new d6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class rS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const r=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new rS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function g6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Uv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=g6(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%62))}return r}}function je(t,e){return t<e?-1:t>e?1:0}function by(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),l=e.charAt(r);if(a!==l)return Vg(a)===Vg(l)?je(a,l):Vg(a)?1:-1}return je(t.length,e.length)}const y6=55296,v6=57343;function Vg(t){const e=t.charCodeAt(0);return e>=y6&&e<=v6}function El(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}const sS="__name__";class nr{constructor(e,n,r){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&be(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return nr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof nr?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=nr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return je(e.length,n.length)}static compareSegments(e,n){const r=nr.isNumericId(e),a=nr.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?nr.extractNumericId(e).compare(nr.extractNumericId(n)):by(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hs.fromString(e.substring(4,e.length-2))}}class at extends nr{construct(e,n,r){return new at(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const _6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends nr{construct(e,n,r){return new rn(e,n,r)}static isValidIdentifier(e){return _6.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sS}static keyField(){return new rn([sS])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new fe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new fe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(l(),a++)}if(l(),u)throw new fe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(n)}static emptyPath(){return new rn([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(at.fromString(e))}static fromName(e){return new _e(at.fromString(e).popFirst(5))}static empty(){return new _e(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new at(e.slice()))}}function fx(t,e,n){if(!n)throw new fe(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function T6(t,e,n,r){if(e===!0&&r===!0)throw new fe(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function aS(t){if(!_e.isDocumentKey(t))throw new fe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function oS(t){if(_e.isDocumentKey(t))throw new fe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dx(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Od(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be(12329,{type:typeof t})}function Rn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Od(t);throw new fe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Bt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Pc(t,e){if(!dx(t))throw new fe(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(a&&typeof u!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new fe(ne.INVALID_ARGUMENT,n);return!0}const lS=-62135596800,uS=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*uS);return new ut(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lS)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uS}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pc(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-lS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Bt("string",ut._jsonSchemaVersion),seconds:Bt("number"),nanoseconds:Bt("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new ut(0,0))}static max(){return new Ce(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const gc=-1;function E6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Ce.fromTimestamp(r===1e9?new ut(n+1,0):new ut(n,r));return new $s(a,_e.empty(),e)}function b6(t){return new $s(t.readTime,t.key,gc)}class $s{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $s(Ce.min(),_e.empty(),gc)}static max(){return new $s(Ce.max(),_e.empty(),gc)}}function w6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:je(t.largestBatchId,e.largestBatchId))}const S6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class A6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Pl(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==S6)throw t;me("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,r)=>{n(e)}))}static reject(e){return new re(((n,r)=>{r(e)}))}static waitFor(e){return new re(((n,r)=>{let a=0,l=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&n()}),(d=>r(d)))})),u=!0,l===a&&n()}))}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next((a=>a?re.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,l)=>{r.push(n.call(this,a,l))})),this.waitFor(r)}static mapArray(e,n){return new re(((r,a)=>{const l=e.length,u=new Array(l);let h=0;for(let d=0;d<l;d++){const p=d;n(e[p]).next((y=>{u[p]=y,++h,h===l&&r(u)}),(y=>a(y)))}}))}static doWhile(e,n){return new re(((r,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):r()};l()}))}}function C6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vl(t){return t.name==="IndexedDbTransactionError"}class kd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}kd.ce=-1;const zv=-1;function Ld(t){return t==null}function rd(t){return t===0&&1/t==-1/0}function x6(t){return typeof t=="number"&&Number.isInteger(t)&&!rd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const mx="";function R6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=cS(e)),e=I6(t.get(n),e);return cS(e)}function I6(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case mx:n+="";break;default:n+=l}}return n}function cS(t){return t+mx+""}function hS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ia(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function px(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class vt{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xf(this.root,e,this.comparator,!1)}getReverseIterator(){return new xf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xf(this.root,e,this.comparator,!0)}}class xf{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??nn.RED,this.left=a??nn.EMPTY,this.right=l??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new nn(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return nn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,r,a,l){return this}insert(e,n,r){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fS(this.data.getIterator())}getIteratorFrom(e){return new fS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new qt(this.comparator);return n.data=e,n}}class fS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Un{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Un([])}unionWith(e){let n=new qt(rn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return El(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class gx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new gx("Invalid base64 string: "+l):l}})(e);return new sn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const D6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(t){if(Xe(!!t,39018),typeof t=="string"){let e=0;const n=D6.exec(t);if(Xe(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ws(t){return typeof t=="string"?sn.fromBase64String(t):sn.fromUint8Array(t)}const yx="server_timestamp",vx="__type__",_x="__previous_value__",Tx="__local_write_time__";function Bv(t){return(t?.mapValue?.fields||{})[vx]?.stringValue===yx}function jd(t){const e=t.mapValue.fields[_x];return Bv(e)?jd(e):e}function yc(t){const e=Qs(t.mapValue.fields[Tx].timestampValue);return new ut(e.seconds,e.nanos)}class N6{constructor(e,n,r,a,l,u,h,d,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=y}}const sd="(default)";class vc{constructor(e,n){this.projectId=e,this.database=n||sd}static empty(){return new vc("","")}get isDefaultDatabase(){return this.database===sd}isEqual(e){return e instanceof vc&&e.projectId===this.projectId&&e.database===this.database}}const Ex="__type__",M6="__max__",Rf={mapValue:{}},bx="__vector__",ad="value";function Zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bv(t)?4:V6(t)?9007199254740991:P6(t)?10:11:be(28295,{value:t})}function dr(t,e){if(t===e)return!0;const n=Zs(t);if(n!==Zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yc(t).isEqual(yc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Qs(a.timestampValue),h=Qs(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Ws(a.bytesValue).isEqual(Ws(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return It(a.geoPointValue.latitude)===It(l.geoPointValue.latitude)&&It(a.geoPointValue.longitude)===It(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return It(a.integerValue)===It(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=It(a.doubleValue),h=It(l.doubleValue);return u===h?rd(u)===rd(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return El(t.arrayValue.values||[],e.arrayValue.values||[],dr);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(hS(u)!==hS(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!dr(u[d],h[d])))return!1;return!0})(t,e);default:return be(52216,{left:t})}}function _c(t,e){return(t.values||[]).find((n=>dr(n,e)))!==void 0}function bl(t,e){if(t===e)return 0;const n=Zs(t),r=Zs(e);if(n!==r)return je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=It(l.integerValue||l.doubleValue),d=It(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(t,e);case 3:return dS(t.timestampValue,e.timestampValue);case 4:return dS(yc(t),yc(e));case 5:return by(t.stringValue,e.stringValue);case 6:return(function(l,u){const h=Ws(l),d=Ws(u);return h.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),d=u.split("/");for(let p=0;p<h.length&&p<d.length;p++){const y=je(h[p],d[p]);if(y!==0)return y}return je(h.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=je(It(l.latitude),It(u.latitude));return h!==0?h:je(It(l.longitude),It(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return mS(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const h=l.fields||{},d=u.fields||{},p=h[ad]?.arrayValue,y=d[ad]?.arrayValue,v=je(p?.values?.length||0,y?.values?.length||0);return v!==0?v:mS(p,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Rf.mapValue&&u===Rf.mapValue)return 0;if(l===Rf.mapValue)return 1;if(u===Rf.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),p=u.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let v=0;v<d.length&&v<y.length;++v){const T=by(d[v],y[v]);if(T!==0)return T;const S=bl(h[d[v]],p[y[v]]);if(S!==0)return S}return je(d.length,y.length)})(t.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function dS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);const n=Qs(t),r=Qs(e),a=je(n.seconds,r.seconds);return a!==0?a:je(n.nanos,r.nanos)}function mS(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=bl(n[a],r[a]);if(l)return l}return je(n.length,r.length)}function wl(t){return wy(t)}function wy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Qs(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ws(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return _e.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=wy(l);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of r)l?l=!1:a+=",",a+=`${u}:${wy(n.fields[u])}`;return a+"}"})(t.mapValue):be(61005,{value:t})}function Bf(t){switch(Zs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jd(t);return e?16+Bf(e):16;case 5:return 2*t.stringValue.length;case 6:return Ws(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+Bf(l)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return ia(r.fields,((l,u)=>{a+=l.length+Bf(u)})),a})(t.mapValue);default:throw be(13486,{value:t})}}function pS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Sy(t){return!!t&&"integerValue"in t}function Fv(t){return!!t&&"arrayValue"in t}function gS(t){return!!t&&"nullValue"in t}function yS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ff(t){return!!t&&"mapValue"in t}function P6(t){return(t?.mapValue?.fields||{})[Ex]?.stringValue===bx}function ic(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ia(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=ic(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ic(t.arrayValue.values[n]);return e}return{...t}}function V6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===M6}class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ff(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ic(n)}setAll(e){let n=rn.emptyPath(),r={},a=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=h.popLast()}u?r[h.lastSegment()]=ic(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());Ff(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Ff(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){ia(n,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new Cn(ic(this.value))}}function wx(t){const e=[];return ia(t.fields,((n,r)=>{const a=new rn([n]);if(Ff(r)){const l=wx(r.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Un(e)}class cn{constructor(e,n,r,a,l,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new cn(e,0,Ce.min(),Ce.min(),Ce.min(),Cn.empty(),0)}static newFoundDocument(e,n,r,a){return new cn(e,1,n,Ce.min(),r,a,0)}static newNoDocument(e,n){return new cn(e,2,n,Ce.min(),Ce.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,Ce.min(),Ce.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class od{constructor(e,n){this.position=e,this.inclusive=n}}function vS(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?r=_e.comparator(_e.fromName(u.referenceValue),n.key):r=bl(u,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function _S(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!dr(t.position[n],e.position[n]))return!1;return!0}class Tc{constructor(e,n="asc"){this.field=e,this.dir=n}}function O6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Sx{}class zt extends Sx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new L6(e,n,r):n==="array-contains"?new z6(e,r):n==="in"?new B6(e,r):n==="not-in"?new F6(e,r):n==="array-contains-any"?new H6(e,r):new zt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new j6(e,r):new U6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(bl(n,this.value)):n!==null&&Zs(this.value)===Zs(n)&&this.matchesComparison(bl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends Sx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Di(e,n)}matches(e){return Ax(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ax(t){return t.op==="and"}function Cx(t){return k6(t)&&Ax(t)}function k6(t){for(const e of t.filters)if(e instanceof Di)return!1;return!0}function Ay(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+wl(t.value);if(Cx(t))return t.filters.map((e=>Ay(e))).join(",");{const e=t.filters.map((n=>Ay(n))).join(",");return`${t.op}(${e})`}}function xx(t,e){return t instanceof zt?(function(r,a){return a instanceof zt&&r.op===a.op&&r.field.isEqual(a.field)&&dr(r.value,a.value)})(t,e):t instanceof Di?(function(r,a){return a instanceof Di&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,u,h)=>l&&xx(u,a.filters[h])),!0):!1})(t,e):void be(19439)}function Rx(t){return t instanceof zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${wl(n.value)}`})(t):t instanceof Di?(function(n){return n.op.toString()+" {"+n.getFilters().map(Rx).join(" ,")+"}"})(t):"Filter"}class L6 extends zt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class j6 extends zt{constructor(e,n){super(e,"in",n),this.keys=Ix("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class U6 extends zt{constructor(e,n){super(e,"not-in",n),this.keys=Ix("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Ix(t,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class z6 extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fv(n)&&_c(n.arrayValue,this.value)}}class B6 extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_c(this.value.arrayValue,n)}}class F6 extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(_c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_c(this.value.arrayValue,n)}}class H6 extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>_c(this.value.arrayValue,r)))}}class q6{constructor(e,n=null,r=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function TS(t,e=null,n=[],r=[],a=null,l=null,u=null){return new q6(t,e,n,r,a,l,u)}function Hv(t){const e=Re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Ay(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>wl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>wl(r))).join(",")),e.Te=n}return e.Te}function qv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!O6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_S(t.startAt,e.startAt)&&_S(t.endAt,e.endAt)}function Cy(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Ol{constructor(e,n=null,r=[],a=[],l=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function G6(t,e,n,r,a,l,u,h){return new Ol(t,e,n,r,a,l,u,h)}function Ud(t){return new Ol(t)}function ES(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Dx(t){return t.collectionGroup!==null}function rc(t){const e=Re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new qt(rn.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Tc(l,r))})),n.has(rn.keyField().canonicalString())||e.Ie.push(new Tc(rn.keyField(),r))}return e.Ie}function sr(t){const e=Re(t);return e.Ee||(e.Ee=Y6(e,rc(t))),e.Ee}function Y6(t,e){if(t.limitType==="F")return TS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Tc(a.field,l)}));const n=t.endAt?new od(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new od(t.startAt.position,t.startAt.inclusive):null;return TS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xy(t,e){const n=t.filters.concat([e]);return new Ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ld(t,e,n){return new Ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zd(t,e){return qv(sr(t),sr(e))&&t.limitType===e.limitType}function Nx(t){return`${Hv(sr(t))}|lt:${t.limitType}`}function nl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>Rx(a))).join(", ")}]`),Ld(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>wl(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>wl(a))).join(",")),`Target(${r})`})(sr(t))}; limitType=${t.limitType})`}function Bd(t,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):_e.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(t,e)&&(function(r,a){for(const l of rc(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(u,h,d){const p=vS(u,h,d);return u.inclusive?p<=0:p<0})(r.startAt,rc(r),a)||r.endAt&&!(function(u,h,d){const p=vS(u,h,d);return u.inclusive?p>=0:p>0})(r.endAt,rc(r),a))})(t,e)}function K6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Mx(t){return(e,n)=>{let r=!1;for(const a of rc(t)){const l=X6(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function X6(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):(function(l,u,h){const d=u.data.field(l),p=h.data.field(l);return d!==null&&p!==null?bl(d,p):be(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return be(19790,{direction:t.dir})}}class uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ia(this.inner,((n,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return px(this.inner)}size(){return this.innerSize}}const $6=new vt(_e.comparator);function Xr(){return $6}const Px=new vt(_e.comparator);function Xu(...t){let e=Px;for(const n of t)e=e.insert(n.key,n);return e}function Vx(t){let e=Px;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ha(){return sc()}function Ox(){return sc()}function sc(){return new uo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Q6=new vt(_e.comparator),W6=new qt(_e.comparator);function Ue(...t){let e=W6;for(const n of t)e=e.add(n);return e}const Z6=new qt(je);function J6(){return Z6}function Gv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rd(e)?"-0":e}}function kx(t){return{integerValue:""+t}}function e3(t,e){return x6(e)?kx(e):Gv(t,e)}class Fd{constructor(){this._=void 0}}function t3(t,e,n){return t instanceof ud?(function(a,l){const u={fields:{[vx]:{stringValue:yx},[Tx]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Bv(l)&&(l=jd(l)),l&&(u.fields[_x]=l),{mapValue:u}})(n,e):t instanceof Ec?jx(t,e):t instanceof bc?Ux(t,e):(function(a,l){const u=Lx(a,l),h=bS(u)+bS(a.Ae);return Sy(u)&&Sy(a.Ae)?kx(h):Gv(a.serializer,h)})(t,e)}function n3(t,e,n){return t instanceof Ec?jx(t,e):t instanceof bc?Ux(t,e):n}function Lx(t,e){return t instanceof cd?(function(r){return Sy(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class ud extends Fd{}class Ec extends Fd{constructor(e){super(),this.elements=e}}function jx(t,e){const n=zx(e);for(const r of t.elements)n.some((a=>dr(a,r)))||n.push(r);return{arrayValue:{values:n}}}class bc extends Fd{constructor(e){super(),this.elements=e}}function Ux(t,e){let n=zx(e);for(const r of t.elements)n=n.filter((a=>!dr(a,r)));return{arrayValue:{values:n}}}class cd extends Fd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function bS(t){return It(t.integerValue||t.doubleValue)}function zx(t){return Fv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function i3(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof Ec&&a instanceof Ec||r instanceof bc&&a instanceof bc?El(r.elements,a.elements,dr):r instanceof cd&&a instanceof cd?dr(r.Ae,a.Ae):r instanceof ud&&a instanceof ud})(t.transform,e.transform)}class r3{constructor(e,n){this.version=e,this.transformResults=n}}class ci{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hd{}function Bx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Yv(t.key,ci.none()):new Vc(t.key,t.data,ci.none());{const n=t.data,r=Cn.empty();let a=new qt(rn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?r.delete(l):r.set(l,u),a=a.add(l)}return new ra(t.key,r,new Un(a.toArray()),ci.none())}}function s3(t,e,n){t instanceof Vc?(function(a,l,u){const h=a.value.clone(),d=SS(a.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof ra?(function(a,l,u){if(!Hf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=SS(a.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(Fx(a)),d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function ac(t,e,n,r){return t instanceof Vc?(function(l,u,h,d){if(!Hf(l.precondition,u))return h;const p=l.value.clone(),y=AS(l.fieldTransforms,d,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof ra?(function(l,u,h,d){if(!Hf(l.precondition,u))return h;const p=AS(l.fieldTransforms,d,u),y=u.data;return y.setAll(Fx(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(l,u,h){return Hf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function a3(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=Lx(r.transform,a||null);l!=null&&(n===null&&(n=Cn.empty()),n.set(r.field,l))}return n||null}function wS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&El(r,a,((l,u)=>i3(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vc extends Hd{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ra extends Hd{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Fx(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function SS(t,e,n){const r=new Map;Xe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,h=e.data.field(l.field);r.set(l.field,n3(u,h,n[a]))}return r}function AS(t,e,n){const r=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);r.set(a.field,t3(l,u,e))}return r}class Yv extends Hd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class o3 extends Hd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class l3{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&s3(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ac(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ac(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Ox();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const d=Bx(u,h);d!==null&&r.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(Ce.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&El(this.mutations,e.mutations,((n,r)=>wS(n,r)))&&El(this.baseMutations,e.baseMutations,((n,r)=>wS(n,r)))}}class Kv{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){Xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return Q6})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,r[u].version);return new Kv(e,n,r,a)}}class u3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class c3{constructor(e,n){this.count=e,this.unchangedNames=n}}var jt,Fe;function h3(t){switch(t){case ne.OK:return be(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return be(15467,{code:t})}}function Hx(t){if(t===void 0)return Kr("GRPC error has no .code"),ne.UNKNOWN;switch(t){case jt.OK:return ne.OK;case jt.CANCELLED:return ne.CANCELLED;case jt.UNKNOWN:return ne.UNKNOWN;case jt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case jt.INTERNAL:return ne.INTERNAL;case jt.UNAVAILABLE:return ne.UNAVAILABLE;case jt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case jt.NOT_FOUND:return ne.NOT_FOUND;case jt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case jt.ABORTED:return ne.ABORTED;case jt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case jt.DATA_LOSS:return ne.DATA_LOSS;default:return be(39323,{code:t})}}(Fe=jt||(jt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function f3(){return new TextEncoder}const d3=new Hs([4294967295,4294967295],0);function CS(t){const e=f3().encode(t),n=new rx;return n.update(e),new Uint8Array(n.digest())}function xS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Hs([n,r],0),new Hs([a,l],0)]}class Xv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $u(`Invalid padding: ${n}`);if(r<0)throw new $u(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $u(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $u(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Hs.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Hs.fromNumber(r)));return a.compare(d3)===1&&(a=new Hs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=CS(e),[r,a]=xS(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);if(!this.we(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Xv(l,a,n);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=CS(e),[r,a]=xS(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $u extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qd{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Oc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new qd(Ce.min(),a,new vt(je),Xr(),Ue())}}class Oc{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Oc(r,n,Ue(),Ue(),Ue())}}class qf{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class qx{constructor(e,n){this.targetId=e,this.Ce=n}}class Gx{constructor(e,n,r=sn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class RS{constructor(){this.ve=0,this.Fe=IS(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),r=Ue();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:be(38017,{changeType:l})}})),new Oc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=IS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class m3{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xr(),this.Je=If(),this.He=If(),this.Ye=new vt(je)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Cy(l))if(r===0){const u=new _e(l.path);this.et(n,u,cn.newNoDocument(u,Ce.min()))}else Xe(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const h=this.ut(e),d=h?this.ct(h,e,u):1;if(d!==0){this.it(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=Ws(r).toUint8Array()}catch(d){if(d instanceof gx)return Tl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Xv(u,a,l)}catch(d){return Tl(d instanceof $u?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Cy(h.target)){const d=new _e(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,cn.newNoDocument(d,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let r=Ue();this.He.forEach(((l,u)=>{let h=!0;u.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new qd(e,n,this.Ye,this.je,r);return this.je=Xr(),this.Je=If(),this.He=If(),this.Ye=new vt(je),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new RS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new qt(je),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new qt(je),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new RS),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function If(){return new vt(_e.comparator)}function IS(){return new vt(_e.comparator)}const p3={asc:"ASCENDING",desc:"DESCENDING"},g3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},y3={and:"AND",or:"OR"};class v3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ry(t,e){return t.useProto3Json||Ld(e)?e:{value:e}}function hd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _3(t,e){return hd(t,e.toTimestamp())}function ar(t){return Xe(!!t,49232),Ce.fromTimestamp((function(n){const r=Qs(n);return new ut(r.seconds,r.nanos)})(t))}function $v(t,e){return Iy(t,e).canonicalString()}function Iy(t,e){const n=(function(a){return new at(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Kx(t){const e=at.fromString(t);return Xe(Zx(e),10190,{key:e.toString()}),e}function Dy(t,e){return $v(t.databaseId,e.path)}function Og(t,e){const n=Kx(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e($x(n))}function Xx(t,e){return $v(t.databaseId,e)}function T3(t){const e=Kx(t);return e.length===4?at.emptyPath():$x(e)}function Ny(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $x(t){return Xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function DS(t,e,n){return{name:Dy(t,e),fields:n.value.mapValue.fields}}function E3(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:be(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(Xe(y===void 0||typeof y=="string",58123),sn.fromBase64String(y||"")):(Xe(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),sn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const y=p.code===void 0?ne.UNKNOWN:Hx(p.code);return new fe(y,p.message||"")})(u);n=new Gx(r,a,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Og(t,r.document.name),l=ar(r.document.updateTime),u=r.document.createTime?ar(r.document.createTime):Ce.min(),h=new Cn({mapValue:{fields:r.document.fields}}),d=cn.newFoundDocument(a,l,u,h),p=r.targetIds||[],y=r.removedTargetIds||[];n=new qf(p,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Og(t,r.document),l=r.readTime?ar(r.readTime):Ce.min(),u=cn.newNoDocument(a,l),h=r.removedTargetIds||[];n=new qf([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Og(t,r.document),l=r.removedTargetIds||[];n=new qf([],l,a,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,u=new c3(a,l),h=r.targetId;n=new qx(h,u)}}return n}function b3(t,e){let n;if(e instanceof Vc)n={update:DS(t,e.key,e.value)};else if(e instanceof Yv)n={delete:Dy(t,e.key)};else if(e instanceof ra)n={update:DS(t,e.key,e.data),updateMask:N3(e.fieldMask)};else{if(!(e instanceof o3))return be(16599,{Vt:e.type});n={verify:Dy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(l,u){const h=u.transform;if(h instanceof ud)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ec)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof bc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof cd)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw be(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:_3(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:be(27497)})(t,e.precondition)),n}function w3(t,e){return t&&t.length>0?(Xe(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?ar(a.updateTime):ar(l);return u.isEqual(Ce.min())&&(u=ar(l)),new r3(u,a.transformResults||[])})(n,e)))):[]}function S3(t,e){return{documents:[Xx(t,e.path)]}}function A3(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Xx(t,a);const l=(function(p){if(p.length!==0)return Wx(Di.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(T){return{field:il(T.field),direction:R3(T.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Ry(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function C3(t){let e=T3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Xe(r===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(v){const T=Qx(v);return T instanceof Di&&Cx(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(v){return v.map((T=>(function(R){return new Tc(rl(R.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(T)))})(n.orderBy));let h=null;n.limit&&(h=(function(v){let T;return T=typeof v=="object"?v.value:v,Ld(T)?null:T})(n.limit));let d=null;n.startAt&&(d=(function(v){const T=!!v.before,S=v.values||[];return new od(S,T)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const T=!v.before,S=v.values||[];return new od(S,T)})(n.endAt)),G6(e,a,u,l,h,"F",d,p)}function x3(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Qx(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=rl(n.unaryFilter.field);return zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=rl(n.unaryFilter.field);return zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=rl(n.unaryFilter.field);return zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=rl(n.unaryFilter.field);return zt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(t):t.fieldFilter!==void 0?(function(n){return zt.create(rl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Di.create(n.compositeFilter.filters.map((r=>Qx(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(t):be(30097,{filter:t})}function R3(t){return p3[t]}function I3(t){return g3[t]}function D3(t){return y3[t]}function il(t){return{fieldPath:t.canonicalString()}}function rl(t){return rn.fromServerFormat(t.fieldPath)}function Wx(t){return t instanceof zt?(function(n){if(n.op==="=="){if(yS(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NAN"}};if(gS(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yS(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NOT_NAN"}};if(gS(n.value))return{unaryFilter:{field:il(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(n.field),op:I3(n.op),value:n.value}}})(t):t instanceof Di?(function(n){const r=n.getFilters().map((a=>Wx(a)));return r.length===1?r[0]:{compositeFilter:{op:D3(n.op),filters:r}}})(t):be(54877,{filter:t})}function N3(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Zx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Us{constructor(e,n,r,a,l=Ce.min(),u=Ce.min(),h=sn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class M3{constructor(e){this.yt=e}}function P3(t){const e=C3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ld(e,e.limit,"L"):e}class V3{constructor(){this.Cn=new O3}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve($s.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve($s.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class O3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new qt(at.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new qt(at.comparator)).toArray()}}const NS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jx=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(Jx,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class Sl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Sl(0)}static cr(){return new Sl(-1)}}const MS="LruGarbageCollector",k3=1048576;function PS([t,e],[n,r]){const a=je(t,n);return a===0?je(e,r):a}class L3{constructor(e){this.Ir=e,this.buffer=new qt(PS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();PS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class j3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(MS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vl(n)?me(MS,"Ignoring IndexedDB error during garbage collection: ",n):await Pl(n)}await this.Vr(3e5)}))}}class U3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(kd.ce);const r=new L3(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(NS)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NS):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,l,u,h,d,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(r=v,h=Date.now(),this.removeTargets(e,r,n)))).next((v=>(l=v,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(p=Date.now(),tl()<=Le.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-y}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function z3(t,e){return new U3(t,e)}class B3{constructor(){this.changes=new uo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class F3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class H3{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&ac(r.mutation,a,Un.empty(),ut.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ue()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ue()){const a=Ha();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((l=>{let u=Xu();return l.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const r=Ha();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ue())))}populateOverlays(e,n,r){const a=[];return r.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,r,a){let l=Xr();const u=sc(),h=(function(){return sc()})();return n.forEach(((d,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof ra)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),ac(y.mutation,p,y.mutation.getFieldMask(),ut.now())):u.set(p.key,Un.empty())})),this.recalculateAndSaveOverlays(e,l).next((d=>(d.forEach(((p,y)=>u.set(p,y))),n.forEach(((p,y)=>h.set(p,new F3(y,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const r=sc();let a=new vt(((u,h)=>u-h)),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let y=r.get(d)||Un.empty();y=h.applyToLocalView(p,y),r.set(d,y);const v=(a.get(h.batchId)||Ue()).add(d);a=a.insert(h.batchId,v)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,y=d.value,v=Ox();y.forEach((T=>{if(!l.has(T)){const S=Bx(n.get(T),r.get(T));S!==null&&v.set(T,S),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return re.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Dx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):re.resolve(Ha());let h=gc,d=l;return u.next((p=>re.forEach(p,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?re.resolve():this.remoteDocumentCache.getEntry(e,y).next((T=>{d=d.insert(y,T)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,d,p,Ue()))).next((y=>({batchId:h,changes:Vx(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((r=>{let a=Xu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let u=Xu();return this.indexManager.getCollectionParents(e,l).next((h=>re.forEach(h,(d=>{const p=(function(v,T){return new Ol(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((y=>{y.forEach(((v,T)=>{u=u.insert(v,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a)))).next((u=>{l.forEach(((d,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,cn.newInvalidDocument(y)))}));let h=Xu();return u.forEach(((d,p)=>{const y=l.get(d);y!==void 0&&ac(y.mutation,p,Un.empty(),ut.now()),Bd(n,p)&&(h=h.insert(d,p))})),h}))}}class q3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ar(a.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:P3(a.bundledQuery),readTime:ar(a.readTime)}})(n)),re.resolve()}}class G3{constructor(){this.overlays=new vt(_e.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ha();return re.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,l)=>{this.St(e,n,l)})),re.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const a=Ha(),l=n.length+1,u=new _e(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>r&&a.set(d.getKey(),d)}return re.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new vt(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=Ha(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=Ha(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=a)););return re.resolve(h)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new u3(n,r));let l=this.qr.get(n);l===void 0&&(l=Ue(),this.qr.set(n,l)),this.qr.set(n,l.add(r.key))}}class Y3{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}class Qv{constructor(){this.Qr=new qt(Xt.$r),this.Ur=new qt(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Xt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Xt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new _e(new at([])),r=new Xt(n,e),a=new Xt(n,e+1),l=[];return this.Ur.forEachInRange([r,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new at([])),r=new Xt(n,e),a=new Xt(n,e+1);let l=Ue();return this.Ur.forEachInRange([r,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new Xt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||je(e.Yr,n.Yr)}static Kr(e,n){return je(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}class K3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new qt(Xt.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new l3(l,n,r,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new Xt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return re.resolve(u)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),l=a<0?0:a;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?zv:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xt(n,0),a=new Xt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(u=>{const h=this.Xr(u.Yr);l.push(h)})),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qt(je);return n.forEach((a=>{const l=new Xt(a,0),u=new Xt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(h=>{r=r.add(h.Yr)}))})),re.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;_e.isDocumentKey(l)||(l=l.child(""));const u=new Xt(new _e(l),0);let h=new qt(je);return this.Zr.forEachWhile((d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Yr)),!0)}),u),re.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return re.forEach(n.mutations,(a=>{const l=new Xt(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Xt(n,0),a=this.Zr.firstAfterOrEqual(r);return re.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class X3{constructor(e){this.ri=e,this.docs=(function(){return new vt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let r=Xr();return n.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():cn.newInvalidDocument(a))})),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=Xr();const u=n.path,h=new _e(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||w6(b6(y),r)<=0||(a.has(y.key)||Bd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,n,r,a){be(9500)}ii(e,n){return re.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new $3(this)}getSize(e){return re.resolve(this.size)}}class $3 extends B3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class Q3{constructor(e){this.persistence=e,this.si=new uo((n=>Hv(n)),qv),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new Qv,this.targetCount=0,this.ai=Sl.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Sl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),re.waitFor(l).next((()=>a))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),re.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}class eR{constructor(e,n){this.ui={},this.overlays={},this.ci=new kd(0),this.li=!1,this.li=!0,this.hi=new Y3,this.referenceDelegate=e(this),this.Pi=new Q3(this),this.indexManager=new V3,this.remoteDocumentCache=(function(a){return new X3(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new M3(n),this.Ii=new q3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new G3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new K3(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const a=new W3(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return re.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class W3 extends A6{constructor(e){super(),this.currentSequenceNumber=e}}class Wv{constructor(e){this.persistence=e,this.Ri=new Qv,this.Vi=null}static mi(e){return new Wv(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(r=>{const a=_e.fromPath(r);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ce.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class fd{constructor(e,n){this.persistence=e,this.pi=new uo((r=>R6(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=z3(this,n)}static mi(e,n){return new fd(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return re.forEach(this.pi,((r,a)=>this.br(e,r,a).next((l=>l?re.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((h=>{h||(r++,l.removeEntry(u,Ce.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Bf(e.data.value)),n}br(e,n,r){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return re.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Zv{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=Ue(),a=Ue();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Zv(e,n.fromCache,r,a)}}class Z3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class J3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return F4()?8:C6(fn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,r).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new Z3;return this.Ss(e,n,u).next((h=>{if(l.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>l.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(tl()<=Le.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",nl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(tl()<=Le.DEBUG&&me("QueryEngine","Query:",nl(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(tl()<=Le.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",nl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sr(n))):re.resolve())}ys(e,n){if(ES(n))return re.resolve(null);let r=sr(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=ld(n,null,"F"),r=sr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const u=Ue(...l);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((d=>{const p=this.Ds(n,h);return this.Cs(n,p,u,d.readTime)?this.ys(e,ld(n,null,"F")):this.vs(e,p,n,d)}))))})))))}ws(e,n,r,a){return ES(n)||a.isEqual(Ce.min())?re.resolve(null):this.ps.getDocuments(e,r).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,r,a)?re.resolve(null):(tl()<=Le.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),nl(n)),this.vs(e,u,n,E6(a,gc)).next((h=>h)))}))}Ds(e,n){let r=new qt(Mx(e));return n.forEach(((a,l)=>{Bd(e,l)&&(r=r.add(l))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,r){return tl()<=Le.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",nl(n)),this.ps.getDocumentsMatchingQuery(e,n,$s.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const Jv="LocalStore",e5=3e8;class t5{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new vt(je),this.xs=new uo((l=>Hv(l)),qv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function n5(t,e,n,r){return new t5(t,e,n,r)}async function tR(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const u=[],h=[];let d=Ue();for(const p of a){u.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}return n.localDocuments.getDocuments(r,d).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function i5(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,p,y){const v=p.batch,T=v.keys();let S=re.resolve();return T.forEach((R=>{S=S.next((()=>y.getEntry(d,R))).next((M=>{const N=p.docVersions.get(R);Xe(N!==null,48541),M.version.compareTo(N)<0&&(v.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),y.addEntry(M)))}))})),S.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(n,r,e,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=Ue();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function nR(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function r5(t,e){const n=Re(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((y,v)=>{const T=a.get(v);if(!T)return;h.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,v))));let S=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(sn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,r)),a=a.insert(v,S),(function(M,N,j){return M.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=e5?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(T,S,y)&&h.push(n.Pi.updateTargetData(l,S))}));let d=Xr(),p=Ue();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(s5(l,u,e.documentUpdates).next((y=>{d=y.ks,p=y.qs}))),!r.isEqual(Ce.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((v=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));h.push(y)}return re.waitFor(h).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,d,p))).next((()=>d))})).then((l=>(n.Ms=a,l)))}function s5(t,e,n){let r=Ue(),a=Ue();return n.forEach((l=>r=r.add(l))),e.getEntries(t,r).next((l=>{let u=Xr();return n.forEach(((h,d)=>{const p=l.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Ce.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):me(Jv,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)})),{ks:u,qs:a}}))}function a5(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=zv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function o5(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((l=>l?(a=l,re.resolve(a)):n.Pi.allocateTargetId(r).next((u=>(a=new Us(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function My(t,e,n){const r=Re(t),a=r.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(u=>r.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Vl(u))throw u;me(Jv,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function VS(t,e,n){const r=Re(t);let a=Ce.min(),l=Ue();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,p,y){const v=Re(d),T=v.xs.get(y);return T!==void 0?re.resolve(v.Ms.get(T)):v.Pi.getTargetData(p,y)})(r,u,sr(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((d=>{l=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,n?a:Ce.min(),n?l:Ue()))).next((h=>(l5(r,K6(e),h),{documents:h,Qs:l})))))}function l5(t,e,n){let r=t.Os.get(e)||Ce.min();n.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),t.Os.set(e,r)}class OS{constructor(){this.activeTargetIds=J6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class u5{constructor(){this.Mo=new OS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new OS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class c5{Oo(e){}shutdown(){}}const kS="ConnectivityMonitor";class LS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(kS,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(kS,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Df=null;function Py(){return Df===null?Df=(function(){return 268435456+Math.round(2147483648*Math.random())})():Df++,"0x"+Df.toString(16)}const kg="RestConnection",h5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class f5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===sd?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,l){const u=Py(),h=this.zo(e,n.toUriEncodedString());me(kg,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,a,l);const{host:p}=new URL(h),y=Dl(p);return this.Jo(e,h,d,r,y).then((v=>(me(kg,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw Tl(kg,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",r),v}))}Ho(e,n,r,a,l,u){return this.Go(e,n,r,a,l)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ml})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const r=h5[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class d5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const on="WebChannelConnection";class m5 extends f5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,l){const u=Py();return new Promise(((h,d)=>{const p=new sx;p.setWithCredentials(!0),p.listenOnce(ax.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case zf.NO_ERROR:const v=p.getResponseJson();me(on,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case zf.TIMEOUT:me(on,`RPC '${e}' ${u} timed out`),d(new fe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case zf.HTTP_ERROR:const T=p.getStatus();if(me(on,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const R=S?.error;if(R&&R.status&&R.message){const M=(function(j){const B=j.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(B)>=0?B:ne.UNKNOWN})(R.status);d(new fe(M,R.message))}else d(new fe(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new fe(ne.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{me(on,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(a);me(on,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",y,r,15)}))}T_(e,n,r){const a=Py(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=ux(),h=lx(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const y=l.join("");me(on,`Creating RPC '${e}' stream ${a}: ${y}`,d);const v=u.createWebChannel(y,d);this.I_(v);let T=!1,S=!1;const R=new d5({Yo:N=>{S?me(on,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(T||(me(on,`Opening RPC '${e}' stream ${a} transport.`),v.open(),T=!0),me(on,`RPC '${e}' stream ${a} sending:`,N),v.send(N))},Zo:()=>v.close()}),M=(N,j,B)=>{N.listen(j,(F=>{try{B(F)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return M(v,Ku.EventType.OPEN,(()=>{S||(me(on,`RPC '${e}' stream ${a} transport opened.`),R.o_())})),M(v,Ku.EventType.CLOSE,(()=>{S||(S=!0,me(on,`RPC '${e}' stream ${a} transport closed`),R.a_(),this.E_(v))})),M(v,Ku.EventType.ERROR,(N=>{S||(S=!0,Tl(on,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),R.a_(new fe(ne.UNAVAILABLE,"The operation could not be completed")))})),M(v,Ku.EventType.MESSAGE,(N=>{if(!S){const j=N.data[0];Xe(!!j,16349);const B=j,F=B?.error||B[0]?.error;if(F){me(on,`RPC '${e}' stream ${a} received error:`,F);const ae=F.status;let se=(function(x){const D=jt[x];if(D!==void 0)return Hx(D)})(ae),le=F.message;se===void 0&&(se=ne.INTERNAL,le="Unknown error status: "+ae+" with message "+F.message),S=!0,R.a_(new fe(se,le)),v.close()}else me(on,`RPC '${e}' stream ${a} received:`,j),R.u_(j)}})),M(h,ox.STAT_EVENT,(N=>{N.stat===Ey.PROXY?me(on,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===Ey.NOPROXY&&me(on,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Lg(){return typeof document<"u"?document:null}function Gd(t){return new v3(t,!0)}class iR{constructor(e,n,r=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const jS="PersistentStream";class rR{constructor(e,n,r,a,l,u,h,d){this.Mi=e,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iR(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Kr(n.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new fe(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(jS,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(jS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class p5 extends rR{constructor(e,n,r,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=E3(this.serializer,e),r=(function(l){if(!("targetChange"in l))return Ce.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ce.min():u.readTime?ar(u.readTime):Ce.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Ny(this.serializer),n.addTarget=(function(l,u){let h;const d=u.target;if(h=Cy(d)?{documents:S3(l,d)}:{query:A3(l,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=Yx(l,u.resumeToken);const p=Ry(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ce.min())>0){h.readTime=hd(l,u.snapshotVersion.toTimestamp());const p=Ry(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=x3(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Ny(this.serializer),n.removeTarget=e,this.q_(n)}}class g5 extends rR{constructor(e,n,r,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=w3(e.writeResults,e.commitTime),r=ar(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ny(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>b3(this.serializer,r)))};this.q_(n)}}class y5{}class v5 extends y5{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Iy(n,r),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(ne.UNKNOWN,l.toString())}))}Ho(e,n,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,Iy(n,r),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ne.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class _5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Kr(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const eo="RemoteStore";class T5{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{co(this)&&(me(eo,"Restarting streams for network reachability change."),await(async function(d){const p=Re(d);p.Ea.add(4),await kc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Yd(p)})(this))}))})),this.Ra=new _5(r,a)}}async function Yd(t){if(co(t))for(const e of t.da)await e(!0)}async function kc(t){for(const e of t.da)await e(!1)}function sR(t,e){const n=Re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),i0(n)?n0(n):kl(n).O_()&&t0(n,e))}function e0(t,e){const n=Re(t),r=kl(n);n.Ia.delete(e),r.O_()&&aR(n,e),n.Ia.size===0&&(r.O_()?r.L_():co(n)&&n.Ra.set("Unknown"))}function t0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}kl(t).Y_(e)}function aR(t,e){t.Va.Ue(e),kl(t).Z_(e)}function n0(t){t.Va=new m3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),kl(t).start(),t.Ra.ua()}function i0(t){return co(t)&&!kl(t).x_()&&t.Ia.size>0}function co(t){return Re(t).Ea.size===0}function oR(t){t.Va=void 0}async function E5(t){t.Ra.set("Online")}async function b5(t){t.Ia.forEach(((e,n)=>{t0(t,e)}))}async function w5(t,e){oR(t),i0(t)?(t.Ra.ha(e),n0(t)):t.Ra.set("Unknown")}async function S5(t,e,n){if(t.Ra.set("Online"),e instanceof Gx&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(r){me(eo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dd(t,r)}else if(e instanceof qf?t.Va.Ze(e):e instanceof qx?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ce.min()))try{const r=await nR(t.localStore);n.compareTo(r)>=0&&await(function(l,u){const h=l.Va.Tt(u);return h.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,p)=>{const y=l.Ia.get(d);if(!y)return;l.Ia.set(d,y.withResumeToken(sn.EMPTY_BYTE_STRING,y.snapshotVersion)),aR(l,d);const v=new Us(y.target,d,p,y.sequenceNumber);t0(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(r){me(eo,"Failed to raise snapshot:",r),await dd(t,r)}}async function dd(t,e,n){if(!Vl(e))throw e;t.Ea.add(1),await kc(t),t.Ra.set("Offline"),n||(n=()=>nR(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(eo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Yd(t)}))}function lR(t,e){return e().catch((n=>dd(t,n,e)))}async function Kd(t){const e=Re(t),n=Js(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zv;for(;A5(e);)try{const a=await a5(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,C5(e,a)}catch(a){await dd(e,a)}uR(e)&&cR(e)}function A5(t){return co(t)&&t.Ta.length<10}function C5(t,e){t.Ta.push(e);const n=Js(t);n.O_()&&n.X_&&n.ea(e.mutations)}function uR(t){return co(t)&&!Js(t).x_()&&t.Ta.length>0}function cR(t){Js(t).start()}async function x5(t){Js(t).ra()}async function R5(t){const e=Js(t);for(const n of t.Ta)e.ea(n.mutations)}async function I5(t,e,n){const r=t.Ta.shift(),a=Kv.from(r,e,n);await lR(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Kd(t)}async function D5(t,e){e&&Js(t).X_&&await(async function(r,a){if((function(u){return h3(u)&&u!==ne.ABORTED})(a.code)){const l=r.Ta.shift();Js(r).B_(),await lR(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Kd(r)}})(t,e),uR(t)&&cR(t)}async function US(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),me(eo,"RemoteStore received new credentials");const r=co(n);n.Ea.add(3),await kc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Yd(n)}async function N5(t,e){const n=Re(t);e?(n.Ea.delete(2),await Yd(n)):e||(n.Ea.add(2),await kc(n),n.Ra.set("Unknown"))}function kl(t){return t.ma||(t.ma=(function(n,r,a){const l=Re(n);return l.sa(),new p5(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:E5.bind(null,t),t_:b5.bind(null,t),r_:w5.bind(null,t),H_:S5.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),i0(t)?n0(t):t.Ra.set("Unknown")):(await t.ma.stop(),oR(t))}))),t.ma}function Js(t){return t.fa||(t.fa=(function(n,r,a){const l=Re(n);return l.sa(),new g5(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:x5.bind(null,t),r_:D5.bind(null,t),ta:R5.bind(null,t),na:I5.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Kd(t)):(await t.fa.stop(),t.Ta.length>0&&(me(eo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class r0{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const u=Date.now()+r,h=new r0(e,n,u,a,l);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function s0(t,e){if(Kr("AsyncQueue",`${e}: ${t}`),Vl(t))return new fe(ne.UNAVAILABLE,`${e}: ${t}`);throw t}class fl{static emptySet(e){return new fl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=Xu(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class zS{constructor(){this.ga=new vt(_e.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Al{constructor(e,n,r,a,l,u,h,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,a,l){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Al(e,n,fl.emptySet(n),u,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class M5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class P5{constructor(){this.queries=BS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Re(n),l=a.queries;a.queries=BS(),l.forEach(((u,h)=>{for(const d of h.Sa)d.onError(r)}))})(this,new fe(ne.ABORTED,"Firestore shutting down"))}}function BS(){return new uo((t=>Nx(t)),zd)}async function a0(t,e){const n=Re(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(r=2):(l=new M5,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=s0(u,`Initialization of query '${nl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&l0(n)}async function o0(t,e){const n=Re(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function V5(t,e){const n=Re(t);let r=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.Sa)h.Fa(a)&&(r=!0);u.wa=a}}r&&l0(n)}function O5(t,e,n){const r=Re(t),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);r.queries.delete(e)}function l0(t){t.Ca.forEach((e=>{e.next()}))}var Vy,FS;(FS=Vy||(Vy={})).Ma="default",FS.Cache="cache";class u0{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Al(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Vy.Cache}}class hR{constructor(e){this.key=e}}class fR{constructor(e){this.key=e}}class k5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=Mx(e),this.tu=new fl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new zS,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const T=a.get(y),S=Bd(this.query,v)?v:null,R=!!T&&this.mutatedKeys.has(T.key),M=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let N=!1;T&&S?T.data.isEqual(S.data)?R!==M&&(r.track({type:3,doc:S}),N=!0):this.su(T,S)||(r.track({type:2,doc:S}),N=!0,(d&&this.eu(S,d)>0||p&&this.eu(S,p)<0)&&(h=!0)):!T&&S?(r.track({type:0,doc:S}),N=!0):T&&!S&&(r.track({type:1,doc:T}),N=!0,(d||p)&&(h=!0)),N&&(S?(u=u.add(S),l=M?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{tu:u,iu:r,Cs:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,v)=>(function(S,R){const M=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:N})}};return M(S)-M(R)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(r),a=a??!1;const h=n&&!a?this._u():[],d=this.Xa.size===0&&this.current&&!a?1:0,p=d!==this.Za;return this.Za=d,u.length!==0||p?{snapshot:new Al(this.query,e.tu,l,u,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new zS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new fR(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new hR(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const c0="SyncEngine";class L5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class j5{constructor(e){this.key=e,this.hu=!1}}class U5{constructor(e,n,r,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new uo((h=>Nx(h)),zd),this.Iu=new Map,this.Eu=new Set,this.du=new vt(_e.comparator),this.Au=new Map,this.Ru=new Qv,this.Vu={},this.mu=new Map,this.fu=Sl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function z5(t,e,n=!0){const r=vR(t);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await dR(r,e,n,!0),a}async function B5(t,e){const n=vR(t);await dR(n,e,!0,!1)}async function dR(t,e,n,r){const a=await o5(t.localStore,sr(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return r&&(h=await F5(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&sR(t.remoteStore,a),h}async function F5(t,e,n,r,a){t.pu=(v,T,S)=>(async function(M,N,j,B){let F=N.view.ru(j);F.Cs&&(F=await VS(M.localStore,N.query,!1).then((({documents:I})=>N.view.ru(I,F))));const ae=B&&B.targetChanges.get(N.targetId),se=B&&B.targetMismatches.get(N.targetId)!=null,le=N.view.applyChanges(F,M.isPrimaryClient,ae,se);return qS(M,N.targetId,le.au),le.snapshot})(t,v,T,S);const l=await VS(t.localStore,e,!0),u=new k5(e,l.Qs),h=u.ru(l.documents),d=Oc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),p=u.applyChanges(h,t.isPrimaryClient,d);qS(t,n,p.au);const y=new L5(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function H5(t,e,n){const r=Re(t),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((u=>!zd(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await My(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&e0(r.remoteStore,a.targetId),Oy(r,a.targetId)})).catch(Pl)):(Oy(r,a.targetId),await My(r.localStore,a.targetId,!0))}async function q5(t,e){const n=Re(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),e0(n.remoteStore,r.targetId))}async function G5(t,e,n){const r=Z5(t);try{const a=await(function(u,h){const d=Re(u),p=ut.now(),y=h.reduce(((S,R)=>S.add(R.key)),Ue());let v,T;return d.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let R=Xr(),M=Ue();return d.Ns.getEntries(S,y).next((N=>{R=N,R.forEach(((j,B)=>{B.isValidDocument()||(M=M.add(j))}))})).next((()=>d.localDocuments.getOverlayedDocuments(S,R))).next((N=>{v=N;const j=[];for(const B of h){const F=a3(B,v.get(B.key).overlayedDocument);F!=null&&j.push(new ra(B.key,F,wx(F.value.mapValue),ci.exists(!0)))}return d.mutationQueue.addMutationBatch(S,p,j,h)})).next((N=>{T=N;const j=N.applyToLocalDocumentSet(v,M);return d.documentOverlayCache.saveOverlays(S,N.batchId,j)}))})).then((()=>({batchId:T.batchId,changes:Vx(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(u,h,d){let p=u.Vu[u.currentUser.toKey()];p||(p=new vt(je)),p=p.insert(h,d),u.Vu[u.currentUser.toKey()]=p})(r,a.batchId,n),await Lc(r,a.changes),await Kd(r.remoteStore)}catch(a){const l=s0(a,"Failed to persist write");n.reject(l)}}async function mR(t,e){const n=Re(t);try{const r=await r5(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(Xe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Xe(u.hu,14607):a.removedDocuments.size>0&&(Xe(u.hu,42227),u.hu=!1))})),await Lc(n,r,e)}catch(r){await Pl(r)}}function HS(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const d=Re(u);d.onlineState=h;let p=!1;d.queries.forEach(((y,v)=>{for(const T of v.Sa)T.va(h)&&(p=!0)})),p&&l0(d)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Y5(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),l=a&&a.key;if(l){let u=new vt(_e.comparator);u=u.insert(l,cn.newNoDocument(l,Ce.min()));const h=Ue().add(l),d=new qd(Ce.min(),new Map,new vt(je),u,h);await mR(r,d),r.du=r.du.remove(l),r.Au.delete(e),h0(r)}else await My(r.localStore,e,!1).then((()=>Oy(r,e,n))).catch(Pl)}async function K5(t,e){const n=Re(t),r=e.batch.batchId;try{const a=await i5(n.localStore,e);gR(n,r,null),pR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Lc(n,a)}catch(a){await Pl(a)}}async function X5(t,e,n){const r=Re(t);try{const a=await(function(u,h){const d=Re(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return d.mutationQueue.lookupMutationBatch(p,h).next((v=>(Xe(v!==null,37113),y=v.keys(),d.mutationQueue.removeMutationBatch(p,v)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>d.localDocuments.getDocuments(p,y)))}))})(r.localStore,e);gR(r,e,n),pR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Lc(r,a)}catch(a){await Pl(a)}}function pR(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function gR(t,e,n){const r=Re(t);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function Oy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||yR(t,r)}))}function yR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(e0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),h0(t))}function qS(t,e,n){for(const r of n)r instanceof hR?(t.Ru.addReference(r.key,e),$5(t,r)):r instanceof fR?(me(c0,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||yR(t,r.key)):be(19791,{wu:r})}function $5(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(me(c0,"New document in limbo: "+n),t.Eu.add(r),h0(t))}function h0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new _e(at.fromString(e)),r=t.fu.next();t.Au.set(r,new j5(n)),t.du=t.du.insert(n,r),sR(t.remoteStore,new Us(sr(Ud(n.path)),r,"TargetPurposeLimboResolution",kd.ce))}}async function Lc(t,e,n){const r=Re(t),a=[],l=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{u.push(r.pu(d,e,n).then((p=>{if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){a.push(p);const y=Zv.As(d.targetId,p);l.push(y)}})))})),await Promise.all(u),r.Pu.H_(a),await(async function(d,p){const y=Re(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>re.forEach(p,(T=>re.forEach(T.Es,(S=>y.persistence.referenceDelegate.addReference(v,T.targetId,S))).next((()=>re.forEach(T.ds,(S=>y.persistence.referenceDelegate.removeReference(v,T.targetId,S)))))))))}catch(v){if(!Vl(v))throw v;me(Jv,"Failed to update sequence numbers: "+v)}for(const v of p){const T=v.targetId;if(!v.fromCache){const S=y.Ms.get(T),R=S.snapshotVersion,M=S.withLastLimboFreeSnapshotVersion(R);y.Ms=y.Ms.insert(T,M)}}})(r.localStore,l))}async function Q5(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){me(c0,"User change. New user:",e.toKey());const r=await tR(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((d=>{d.reject(new fe(ne.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Lc(n,r.Ls)}}function W5(t,e){const n=Re(t),r=n.Au.get(e);if(r&&r.hu)return Ue().add(r.key);{let a=Ue();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function vR(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=W5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Y5.bind(null,e),e.Pu.H_=V5.bind(null,e.eventManager),e.Pu.yu=O5.bind(null,e.eventManager),e}function Z5(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=K5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=X5.bind(null,e),e}class md{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return n5(this.persistence,new J3,e.initialUser,this.serializer)}Cu(e){return new eR(Wv.mi,this.serializer)}Du(e){return new u5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}md.provider={build:()=>new md};class J5 extends md{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof fd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new j3(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new eR((r=>fd.mi(r,n)),this.serializer)}}class ky{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>HS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Q5.bind(null,this.syncEngine),await N5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new P5})()}createDatastore(e){const n=Gd(e.databaseInfo.databaseId),r=(function(l){return new m5(l)})(e.databaseInfo);return(function(l,u,h,d){return new v5(l,u,h,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,l,u,h){return new T5(r,a,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>HS(this.syncEngine,n,0)),(function(){return LS.v()?new LS:new c5})())}createSyncEngine(e,n){return(function(a,l,u,h,d,p,y){const v=new U5(a,l,u,h,d,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Re(n);me(eo,"RemoteStore shutting down."),r.Ea.add(5),await kc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ky.provider={build:()=>new ky};class f0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Kr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ea="FirestoreClient";class ej{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=ln.UNAUTHENTICATED,this.clientId=Uv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async u=>{me(ea,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(me(ea,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=s0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function jg(t,e){t.asyncQueue.verifyOperationInProgress(),me(ea,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await tR(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function GS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await tj(t);me(ea,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>US(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>US(e.remoteStore,a))),t._onlineComponents=e}async function tj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(ea,"Using user provided OfflineComponentProvider");try{await jg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Tl("Error using user provided cache. Falling back to memory cache: "+n),await jg(t,new md)}}else me(ea,"Using default OfflineComponentProvider"),await jg(t,new J5(void 0));return t._offlineComponents}async function _R(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(ea,"Using user provided OnlineComponentProvider"),await GS(t,t._uninitializedComponentsProvider._online)):(me(ea,"Using default OnlineComponentProvider"),await GS(t,new ky))),t._onlineComponents}function nj(t){return _R(t).then((e=>e.syncEngine))}async function pd(t){const e=await _R(t),n=e.eventManager;return n.onListen=z5.bind(null,e.syncEngine),n.onUnlisten=H5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=B5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=q5.bind(null,e.syncEngine),n}function ij(t,e,n={}){const r=new Br;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,p){const y=new f0({next:T=>{y.Nu(),u.enqueueAndForget((()=>o0(l,v)));const S=T.docs.has(h);!S&&T.fromCache?p.reject(new fe(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&T.fromCache&&d&&d.source==="server"?p.reject(new fe(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),v=new u0(Ud(h.path),y,{includeMetadataChanges:!0,qa:!0});return a0(l,v)})(await pd(t),t.asyncQueue,e,n,r))),r.promise}function rj(t,e,n={}){const r=new Br;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,d,p){const y=new f0({next:T=>{y.Nu(),u.enqueueAndForget((()=>o0(l,v))),T.fromCache&&d.source==="server"?p.reject(new fe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),v=new u0(h,y,{includeMetadataChanges:!0,qa:!0});return a0(l,v)})(await pd(t),t.asyncQueue,e,n,r))),r.promise}function TR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const YS=new Map;const ER="firestore.googleapis.com",KS=!0;class XS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ER,this.ssl=KS}else this.host=e.host,this.ssl=e.ssl??KS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Jx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<k3)throw new fe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}T6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TR(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xd{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new c6;switch(r.type){case"firstParty":return new m6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=YS.get(n);r&&(me("ComponentProvider","Removing Datastore"),YS.delete(n),r.terminate())})(this),Promise.resolve()}}function sj(t,e,n,r={}){t=Rn(t,Xd);const a=Dl(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(KC(`https://${h}`),XC("Firestore",!0)),l.host!==ER&&l.host!==h&&Tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...l,host:h,ssl:a,emulatorOptions:r};if(!Xs(d,u)&&(t._setSettings(d),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=ln.MOCK_USER;else{p=V4(r.mockUserToken,t._app?.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new fe(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new ln(v)}t._authCredentials=new h6(new hx(p,y))}}class Wr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wr(this.firestore,e,this._query)}}class wt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wt(this.firestore,e,this._key)}toJSON(){return{type:wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Pc(n,wt._jsonSchema))return new wt(e,r||null,new _e(at.fromString(n.referencePath)))}}wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:Bt("string",wt._jsonSchemaVersion),referencePath:Bt("string")};class qs extends Wr{constructor(e,n,r){super(e,n,Ud(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new _e(e))}withConverter(e){return new qs(this.firestore,e,this._path)}}function qa(t,e,...n){if(t=yt(t),fx("collection","path",e),t instanceof Xd){const r=at.fromString(e,...n);return oS(r),new qs(t,null,r)}{if(!(t instanceof wt||t instanceof qs))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return oS(r),new qs(t.firestore,null,r)}}function $a(t,e,...n){if(t=yt(t),arguments.length===1&&(e=Uv.newId()),fx("doc","path",e),t instanceof Xd){const r=at.fromString(e,...n);return aS(r),new wt(t,null,new _e(r))}{if(!(t instanceof wt||t instanceof qs))throw new fe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return aS(r),new wt(t.firestore,t instanceof qs?t.converter:null,new _e(r))}}const $S="AsyncQueue";class QS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iR(this,"async_queue_retry"),this._c=()=>{const r=Lg();r&&me($S,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Lg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Lg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Br;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Vl(e))throw e;me($S,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Kr("INTERNAL UNHANDLED ERROR: ",WS(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=r0.createAndSchedule(this,e,n,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&be(47125,{Pc:WS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function WS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function ZS(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(t,["next","error","complete"])}class $r extends Xd{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new QS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new QS(e),this._firestoreClient=void 0,await e}}}function aj(t,e){const n=typeof t=="object"?t:Lv(),r=typeof t=="string"?t:sd,a=lo(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=M4("firestore");l&&sj(a,...l)}return a}function $d(t){if(t._terminated)throw new fe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||oj(t),t._firestoreClient}function oj(t){const e=t._freezeSettings(),n=(function(a,l,u,h){return new N6(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,TR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new ej(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ri(sn.fromBase64String(e))}catch(n){throw new fe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ri(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pc(e,ri._jsonSchema))return ri.fromBase64String(e.bytes)}}ri._jsonSchemaVersion="firestore/bytes/1.0",ri._jsonSchema={type:Bt("string",ri._jsonSchemaVersion),bytes:Bt("string")};class Qd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class d0{constructor(e){this._methodName=e}}class or{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:or._jsonSchemaVersion}}static fromJSON(e){if(Pc(e,or._jsonSchema))return new or(e.latitude,e.longitude)}}or._jsonSchemaVersion="firestore/geoPoint/1.0",or._jsonSchema={type:Bt("string",or._jsonSchemaVersion),latitude:Bt("number"),longitude:Bt("number")};class lr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:lr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pc(e,lr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new lr(e.vectorValues);throw new fe(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}lr._jsonSchemaVersion="firestore/vectorValue/1.0",lr._jsonSchema={type:Bt("string",lr._jsonSchemaVersion),vectorValues:Bt("object")};const lj=/^__.*__$/;class uj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ra(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vc(e,this.data,n,this.fieldTransforms)}}class bR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ra(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:t})}}class m0{constructor(e,n,r,a,l,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new m0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(wR(this.Ac)&&lj.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class cj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gd(e)}Cc(e,n,r,a=!1){return new m0({Ac:e,methodName:n,Dc:r,path:rn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wd(t){const e=t._freezeSettings(),n=Gd(t._databaseId);return new cj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function SR(t,e,n,r,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);p0("Data must be an object, but it was:",u,r);const h=AR(r,u);let d,p;if(l.merge)d=new Un(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const T=Ly(e,v,n);if(!u.contains(T))throw new fe(ne.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);xR(y,T)||y.push(T)}d=new Un(y),p=u.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,p=u.fieldTransforms;return new uj(new Cn(h),d,p)}class Zd extends d0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zd}}function hj(t,e,n,r){const a=t.Cc(1,e,n);p0("Data must be an object, but it was:",a,r);const l=[],u=Cn.empty();ia(r,((d,p)=>{const y=g0(e,d,n);p=yt(p);const v=a.yc(y);if(p instanceof Zd)l.push(y);else{const T=jc(p,v);T!=null&&(l.push(y),u.set(y,T))}}));const h=new Un(l);return new bR(u,h,a.fieldTransforms)}function fj(t,e,n,r,a,l){const u=t.Cc(1,e,n),h=[Ly(e,r,n)],d=[a];if(l.length%2!=0)throw new fe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)h.push(Ly(e,l[T])),d.push(l[T+1]);const p=[],y=Cn.empty();for(let T=h.length-1;T>=0;--T)if(!xR(p,h[T])){const S=h[T];let R=d[T];R=yt(R);const M=u.yc(S);if(R instanceof Zd)p.push(S);else{const N=jc(R,M);N!=null&&(p.push(S),y.set(S,N))}}const v=new Un(p);return new bR(y,v,u.fieldTransforms)}function dj(t,e,n,r=!1){return jc(n,t.Cc(r?4:3,e))}function jc(t,e){if(CR(t=yt(t)))return p0("Unsupported field value:",e,t),AR(t,e);if(t instanceof d0)return(function(r,a){if(!wR(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let u=0;for(const h of r){let d=jc(h,a.wc(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}})(t,e)}return(function(r,a){if((r=yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return e3(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=ut.fromDate(r);return{timestampValue:hd(a.serializer,l)}}if(r instanceof ut){const l=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hd(a.serializer,l)}}if(r instanceof or)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ri)return{bytesValue:Yx(a.serializer,r._byteString)};if(r instanceof wt){const l=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:$v(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof lr)return(function(u,h){return{mapValue:{fields:{[Ex]:{stringValue:bx},[ad]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return Gv(h.serializer,p)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${Od(r)}`)})(t,e)}function AR(t,e){const n={};return px(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ia(t,((r,a)=>{const l=jc(a,e.mc(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function CR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof or||t instanceof ri||t instanceof wt||t instanceof d0||t instanceof lr)}function p0(t,e,n){if(!CR(n)||!dx(n)){const r=Od(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Ly(t,e,n){if((e=yt(e))instanceof Qd)return e._internalPath;if(typeof e=="string")return g0(t,e);throw gd("Field path arguments must be of type string or ",t,!1,void 0,n)}const mj=new RegExp("[~\\*/\\[\\]]");function g0(t,e,n){if(e.search(mj)>=0)throw gd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qd(...e.split("."))._internalPath}catch{throw gd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gd(t,e,n,r,a){const l=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${r}`),u&&(d+=` in document ${a}`),d+=")"),new fe(ne.INVALID_ARGUMENT,h+t+d)}function xR(t,e){return t.some((n=>n.isEqual(e)))}class RR{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(y0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pj extends RR{data(){return super.data()}}function y0(t,e){return typeof e=="string"?g0(t,e):e instanceof Qd?e._internalPath:e._delegate._internalPath}function IR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class v0{}class _0 extends v0{}function gj(t,e,...n){let r=[];e instanceof v0&&r.push(e),r=r.concat(n),(function(l){const u=l.filter((d=>d instanceof E0)).length,h=l.filter((d=>d instanceof T0)).length;if(u>1||u>0&&h>0)throw new fe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class T0 extends _0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new T0(e,n,r)}_apply(e){const n=this._parse(e);return DR(e._query,n),new Wr(e.firestore,e.converter,xy(e._query,n))}_parse(e){const n=Wd(e.firestore);return(function(l,u,h,d,p,y,v){let T;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){eA(v,y);const R=[];for(const M of v)R.push(JS(d,l,M));T={arrayValue:{values:R}}}else T=JS(d,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||eA(v,y),T=dj(h,u,v,y==="in"||y==="not-in");return zt.create(p,y,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class E0 extends v0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new E0(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Di.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const h=l.getFlattenedFilters();for(const d of h)DR(u,d),u=xy(u,d)})(e._query,n),new Wr(e.firestore,e.converter,xy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class b0 extends _0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new b0(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new fe(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tc(l,u)})(e._query,this._field,this._direction);return new Wr(e.firestore,e.converter,(function(a,l){const u=a.explicitOrderBy.concat([l]);return new Ol(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function yj(t,e="asc"){const n=e,r=y0("orderBy",t);return b0._create(r,n)}class w0 extends _0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new w0(e,n,r)}_apply(e){return new Wr(e.firestore,e.converter,ld(e._query,this._limit,this._limitType))}}function vj(t){return w0._create("limit",t,"F")}function JS(t,e,n){if(typeof(n=yt(n))=="string"){if(n==="")throw new fe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dx(e)&&n.indexOf("/")!==-1)throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(at.fromString(n));if(!_e.isDocumentKey(r))throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pS(t,new _e(r))}if(n instanceof wt)return pS(t,n._key);throw new fe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Od(n)}.`)}function eA(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DR(t,e){const n=(function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _j{convertValue(e,n="none"){switch(Zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ia(e,((a,l)=>{r[a]=this.convertValue(l,n)})),r}convertVectorValue(e){const n=e.fields?.[ad].arrayValue?.values?.map((r=>It(r.doubleValue)));return new lr(n)}convertGeoPoint(e){return new or(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yc(e));default:return null}}convertTimestamp(e){const n=Qs(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=at.fromString(e);Xe(Zx(r),9688,{name:e});const a=new vc(r.get(1),r.get(3)),l=new _e(r.popFirst(5));return a.isEqual(n)||Kr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function NR(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Qu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qa extends RR{constructor(e,n,r,a,l,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(y0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qa._jsonSchema={type:Bt("string",Qa._jsonSchemaVersion),bundleSource:Bt("string","DocumentSnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class Gf extends Qa{data(e={}){return super.data(e)}}class Wa{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Qu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Gf(this._firestore,this._userDataWriter,r.key,r,new Qu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const d=new Gf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Qu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const d=new Gf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Qu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:Tj(h.type),doc:d,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Uv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Tj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:t})}}function MR(t){t=Rn(t,wt);const e=Rn(t.firestore,$r);return ij($d(e),t._key).then((n=>OR(e,t,n)))}Wa._jsonSchemaVersion="firestore/querySnapshot/1.0",Wa._jsonSchema={type:Bt("string",Wa._jsonSchemaVersion),bundleSource:Bt("string","QuerySnapshot"),bundleName:Bt("string"),bundle:Bt("string")};class S0 extends _j{constructor(e){super(),this.firestore=e}convertBytes(e){return new ri(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,n)}}function yd(t){t=Rn(t,Wr);const e=Rn(t.firestore,$r),n=$d(e),r=new S0(e);return IR(t._query),rj(n,t._query).then((a=>new Wa(e,r,t,a)))}function PR(t,e,n){t=Rn(t,wt);const r=Rn(t.firestore,$r),a=NR(t.converter,e);return Jd(r,[SR(Wd(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,ci.none())])}function Ej(t,e,n,...r){t=Rn(t,wt);const a=Rn(t.firestore,$r),l=Wd(a);let u;return u=typeof(e=yt(e))=="string"||e instanceof Qd?fj(l,"updateDoc",t._key,e,n,r):hj(l,"updateDoc",t._key,e),Jd(a,[u.toMutation(t._key,ci.exists(!0))])}function VR(t){return Jd(Rn(t.firestore,$r),[new Yv(t._key,ci.none())])}function tA(t,e){const n=Rn(t.firestore,$r),r=$a(t),a=NR(t.converter,e);return Jd(n,[SR(Wd(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,ci.exists(!1))]).then((()=>r))}function bj(t,...e){t=yt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||ZS(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(ZS(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let l,u,h;if(t instanceof wt)u=Rn(t.firestore,$r),h=Ud(t._key.path),l={next:d=>{e[r]&&e[r](OR(u,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Rn(t,Wr);u=Rn(d.firestore,$r),h=d._query;const p=new S0(u);l={next:y=>{e[r]&&e[r](new Wa(u,p,d,y))},error:e[r+1],complete:e[r+2]},IR(t._query)}return(function(p,y,v,T){const S=new f0(T),R=new u0(y,S,v);return p.asyncQueue.enqueueAndForget((async()=>a0(await pd(p),R))),()=>{S.Nu(),p.asyncQueue.enqueueAndForget((async()=>o0(await pd(p),R)))}})($d(u),h,a,l)}function Jd(t,e){return(function(r,a){const l=new Br;return r.asyncQueue.enqueueAndForget((async()=>G5(await nj(r),a,l))),l.promise})($d(t),e)}function OR(t,e,n){const r=n.docs.get(e._key),a=new S0(t);return new Qa(t,a,e._key,r,new Qu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Ml=a})(Nl),fr(new Ii("firestore",((r,{instanceIdentifier:a,options:l})=>{const u=r.getProvider("app").getImmediate(),h=new $r(new f6(r.getProvider("auth-internal")),new p6(u,r.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new fe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vc(p.options.projectId,y)})(u,a),u);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),ui(nS,iS,e),ui(nS,iS,"esm2020")})();function kR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wj=kR,LR=new oo("auth","Firebase",kR());const vd=new Vd("@firebase/auth");function Sj(t,...e){vd.logLevel<=Le.WARN&&vd.warn(`Auth (${Nl}): ${t}`,...e)}function Yf(t,...e){vd.logLevel<=Le.ERROR&&vd.error(`Auth (${Nl}): ${t}`,...e)}function Ni(t,...e){throw A0(t,...e)}function ur(t,...e){return A0(t,...e)}function jR(t,e,n){const r={...wj(),[e]:n};return new oo("auth","Firebase",r).create(e,{appName:t.name})}function Fr(t){return jR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function A0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return LR.create(t,...e)}function Ee(t,e,...n){if(!t)throw A0(e,...n)}function jr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yf(e),new Error(e)}function Qr(t,e){t||jr(e)}function jy(){return typeof self<"u"&&self.location?.href||""}function Aj(){return nA()==="http:"||nA()==="https:"}function nA(){return typeof self<"u"&&self.location?.protocol||null}function Cj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Aj()||$C()||"connection"in navigator)?navigator.onLine:!0}function xj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Uc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qr(n>e,"Short delay should be less than long delay!"),this.isMobile=L4()||z4()}get(){return Cj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function C0(t,e){Qr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class UR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Rj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Ij=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Dj=new Uc(3e4,6e4);function sa(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function aa(t,e,n,r,a={}){return zR(t,a,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const h=Mc({key:t.config.apiKey,...u}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:d,...l};return U4()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Dl(t.emulatorConfig.host)&&(p.credentials="include"),UR.fetch()(await BR(t,t.config.apiHost,n,h),p)})}async function zR(t,e,n){t._canInitEmulator=!1;const r={...Rj,...e};try{const a=new Mj(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Nf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nf(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Nf(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw Nf(t,"user-disabled",u);const y=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw jR(t,y,p);Ni(t,y)}}catch(a){if(a instanceof Mi)throw a;Ni(t,"network-request-failed",{message:String(a)})}}async function zc(t,e,n,r,a={}){const l=await aa(t,e,n,r,a);return"mfaPendingCredential"in l&&Ni(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function BR(t,e,n,r){const a=`${e}${n}?${r}`,l=t,u=l.config.emulator?C0(t.config,a):`${t.config.apiScheme}://${a}`;return Ij.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function Nj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Mj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ur(this.auth,"network-request-failed")),Dj.get())})}}function Nf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=ur(t,e,r);return a.customData._tokenResponse=n,a}function iA(t){return t!==void 0&&t.enterprise!==void 0}class Pj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Nj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Vj(t,e){return aa(t,"GET","/v2/recaptchaConfig",sa(t,e))}async function Oj(t,e){return aa(t,"POST","/v1/accounts:delete",e)}async function _d(t,e){return aa(t,"POST","/v1/accounts:lookup",e)}function oc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kj(t,e=!1){const n=yt(t),r=await n.getIdToken(e),a=x0(r);Ee(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:r,authTime:oc(Ug(a.auth_time)),issuedAtTime:oc(Ug(a.iat)),expirationTime:oc(Ug(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Ug(t){return Number(t)*1e3}function x0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yf("JWT malformed, contained fewer than 3 sections"),null;try{const a=HC(n);return a?JSON.parse(a):(Yf("Failed to decode base64 JWT payload"),null)}catch(a){return Yf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function rA(t){const e=x0(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function wc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mi&&Lj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Lj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class jj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Uy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=oc(this.lastLoginAt),this.creationTime=oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Td(t){const e=t.auth,n=await t.getIdToken(),r=await wc(t,_d(e,{idToken:n}));Ee(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?FR(a.providerUserInfo):[],u=zj(t.providerData,l),h=t.isAnonymous,d=!(t.email&&a.passwordHash)&&!u?.length,p=h?d:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Uy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function Uj(t){const e=yt(t);await Td(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zj(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function FR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Bj(t,e){const n=await zR(t,{},async()=>{const r=Mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await BR(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return t.emulatorConfig&&Dl(t.emulatorConfig.host)&&(d.credentials="include"),UR.fetch()(u,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Fj(t,e){return aa(t,"POST","/v2/accounts:revokeToken",sa(t,e))}class dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=rA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await Bj(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,u=new dl;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(Ee(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ee(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dl,this.toJSON())}_performRefresh(){return jr("not implemented")}}function Ms(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ri{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new jj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Uy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await wc(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kj(this,e)}reload(){return Uj(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Td(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(Fr(this.auth));const e=await this.getIdToken();return await wc(this,Oj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,d=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:v,emailVerified:T,isAnonymous:S,providerData:R,stsTokenManager:M}=n;Ee(v&&M,e,"internal-error");const N=dl.fromJSON(this.name,M);Ee(typeof v=="string",e,"internal-error"),Ms(r,e.name),Ms(a,e.name),Ee(typeof T=="boolean",e,"internal-error"),Ee(typeof S=="boolean",e,"internal-error"),Ms(l,e.name),Ms(u,e.name),Ms(h,e.name),Ms(d,e.name),Ms(p,e.name),Ms(y,e.name);const j=new Ri({uid:v,auth:e,email:a,emailVerified:T,displayName:r,isAnonymous:S,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:N,createdAt:p,lastLoginAt:y});return R&&Array.isArray(R)&&(j.providerData=R.map(B=>({...B}))),d&&(j._redirectEventId=d),j}static async _fromIdTokenResponse(e,n,r=!1){const a=new dl;a.updateFromServerResponse(n);const l=new Ri({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Td(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Ee(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?FR(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new dl;h.updateFromIdToken(r);const d=new Ri({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Uy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(d,p),d}}const sA=new Map;function Ur(t){Qr(t instanceof Function,"Expected a class definition");let e=sA.get(t);return e?(Qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sA.set(t,e),e)}class HR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}HR.type="NONE";const aA=HR;function Kf(t,e,n){return`firebase:${t}:${e}:${n}`}class ml{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Kf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Kf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _d(this.auth,{idToken:e}).catch(()=>{});return n?Ri._fromGetAccountInfoResponse(this.auth,n,e):null}return Ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ml(Ur(aA),e,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Ur(aA);const u=Kf(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const y=await p._get(u);if(y){let v;if(typeof y=="string"){const T=await _d(e,{idToken:y}).catch(()=>{});if(!T)break;v=await Ri._fromGetAccountInfoResponse(e,T,y)}else v=Ri._fromJSON(e,y);p!==l&&(h=v),l=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new ml(l,e,r):(l=d[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new ml(l,e,r))}}function oA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($R(e))return"Blackberry";if(QR(e))return"Webos";if(GR(e))return"Safari";if((e.includes("chrome/")||YR(e))&&!e.includes("edge/"))return"Chrome";if(XR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function qR(t=fn()){return/firefox\//i.test(t)}function GR(t=fn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YR(t=fn()){return/crios\//i.test(t)}function KR(t=fn()){return/iemobile/i.test(t)}function XR(t=fn()){return/android/i.test(t)}function $R(t=fn()){return/blackberry/i.test(t)}function QR(t=fn()){return/webos/i.test(t)}function R0(t=fn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Hj(t=fn()){return R0(t)&&!!window.navigator?.standalone}function qj(){return B4()&&document.documentMode===10}function WR(t=fn()){return R0(t)||XR(t)||QR(t)||$R(t)||/windows phone/i.test(t)||KR(t)}function ZR(t,e=[]){let n;switch(t){case"Browser":n=oA(fn());break;case"Worker":n=`${oA(fn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Nl}/${r}`}class Gj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((u,h)=>{try{const d=e(l);u(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Yj(t,e={}){return aa(t,"GET","/v2/passwordPolicy",sa(t,e))}const Kj=6;class Xj{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Kj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class $j{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lA(this),this.idTokenSubscription=new lA(this),this.beforeStateQueue=new Gj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ur(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ml.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _d(this,{idToken:e}),r=await Ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ii(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(r=h.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Td(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(Fr(this));const n=e?yt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(Fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(Fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Yj(this),n=new Xj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new oo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Fj(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ur(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await ml.create(this,[Ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Sj(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ho(t){return yt(t)}class lA{constructor(e){this.auth=e,this.observer=null,this.addObserver=X4(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let em={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Qj(t){em=t}function JR(t){return em.loadJS(t)}function Wj(){return em.recaptchaEnterpriseScript}function Zj(){return em.gapiScript}function Jj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class eU{constructor(){this.enterprise=new tU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nU="recaptcha-enterprise",e2="NO_RECAPTCHA";class iU{constructor(e){this.type=nU,this.auth=ho(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{Vj(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new Pj(d);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(d=>{h(d)})})}function a(l,u,h){const d=window.grecaptcha;iA(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(e2)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eU().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{r(this.auth).then(h=>{if(!n&&iA(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Wj();d.length!==0&&(d+=h),JR(d).then(()=>{a(h,l,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function uA(t,e,n,r=!1,a=!1){const l=new iU(t);let u;if(a)u=e2;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function zy(t,e,n,r,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await uA(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await uA(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(l)})}function rU(t,e){const n=lo(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Xs(l,e??{}))return a;Ni(a,"already-initialized")}return n.initialize({options:e})}function sU(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ur);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function aU(t,e,n){const r=ho(t);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=t2(e),{host:u,port:h}=oU(e),d=h===null?"":`:${h}`,p={url:`${l}//${u}${d}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(Xs(p,r.config.emulator)&&Xs(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Dl(u)?(KC(`${l}//${u}${d}`),XC("Auth",!0)):lU()}function t2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function oU(t){const e=t2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:cA(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:cA(u)}}}function cA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class I0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return jr("not implemented")}_getIdTokenResponse(e){return jr("not implemented")}_linkToIdToken(e,n){return jr("not implemented")}_getReauthenticationResolver(e){return jr("not implemented")}}async function uU(t,e){return aa(t,"POST","/v1/accounts:signUp",e)}async function cU(t,e){return zc(t,"POST","/v1/accounts:signInWithPassword",sa(t,e))}async function hU(t,e){return zc(t,"POST","/v1/accounts:signInWithEmailLink",sa(t,e))}async function fU(t,e){return zc(t,"POST","/v1/accounts:signInWithEmailLink",sa(t,e))}class Sc extends I0{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Sc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Sc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zy(e,n,"signInWithPassword",cU);case"emailLink":return hU(e,{email:this._email,oobCode:this._password});default:Ni(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zy(e,r,"signUpPassword",uU);case"emailLink":return fU(e,{idToken:n,email:this._email,oobCode:this._password});default:Ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function pl(t,e){return zc(t,"POST","/v1/accounts:signInWithIdp",sa(t,e))}const dU="http://localhost";class to extends I0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new to(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=n;if(!r||!a)return null;const u=new to(r,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return pl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,pl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pl(e,n)}buildRequest(){const e={requestUri:dU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Mc(n)}return e}}function mU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pU(t){const e=Gu(Yu(t)).link,n=e?Gu(Yu(e)).deep_link_id:null,r=Gu(Yu(t)).deep_link_id;return(r?Gu(Yu(r)).link:null)||r||n||e||t}class D0{constructor(e){const n=Gu(Yu(e)),r=n.apiKey??null,a=n.oobCode??null,l=mU(n.mode??null);Ee(r&&a&&l,"argument-error"),this.apiKey=r,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=pU(e);try{return new D0(n)}catch{return null}}}class Ll{constructor(){this.providerId=Ll.PROVIDER_ID}static credential(e,n){return Sc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=D0.parseLink(n);return Ee(r,"argument-error"),Sc._fromEmailAndCode(e,r.code,r.tenantId)}}Ll.PROVIDER_ID="password";Ll.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ll.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class n2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Bc extends n2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Vs extends Bc{constructor(){super("facebook.com")}static credential(e){return to._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vs.PROVIDER_ID="facebook.com";class Os extends Bc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return to._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Os.credential(n,r)}catch{return null}}}Os.GOOGLE_SIGN_IN_METHOD="google.com";Os.PROVIDER_ID="google.com";class ks extends Bc{constructor(){super("github.com")}static credential(e){return to._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.GITHUB_SIGN_IN_METHOD="github.com";ks.PROVIDER_ID="github.com";class Ls extends Bc{constructor(){super("twitter.com")}static credential(e,n){return to._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ls.credential(n,r)}catch{return null}}}Ls.TWITTER_SIGN_IN_METHOD="twitter.com";Ls.PROVIDER_ID="twitter.com";async function gU(t,e){return zc(t,"POST","/v1/accounts:signUp",sa(t,e))}class no{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await Ri._fromIdTokenResponse(e,r,a),u=hA(r);return new no({user:l,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=hA(r);return new no({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function hA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Ed extends Mi{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Ed.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Ed(e,n,r,a)}}function i2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ed._fromErrorAndOperation(t,l,e,r):l})}async function yU(t,e,n=!1){const r=await wc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return no._forOperation(t,"link",r)}async function vU(t,e,n=!1){const{auth:r}=t;if(ii(r.app))return Promise.reject(Fr(r));const a="reauthenticate";try{const l=await wc(t,i2(r,a,e,t),n);Ee(l.idToken,r,"internal-error");const u=x0(l.idToken);Ee(u,r,"internal-error");const{sub:h}=u;return Ee(t.uid===h,r,"user-mismatch"),no._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ni(r,"user-mismatch"),l}}async function r2(t,e,n=!1){if(ii(t.app))return Promise.reject(Fr(t));const r="signIn",a=await i2(t,r,e),l=await no._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}async function _U(t,e){return r2(ho(t),e)}async function s2(t){const e=ho(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function a2(t,e,n){if(ii(t.app))return Promise.reject(Fr(t));const r=ho(t),u=await zy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gU).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&s2(t),d}),h=await no._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function TU(t,e,n){return ii(t.app)?Promise.reject(Fr(t)):_U(yt(t),Ll.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&s2(t),r})}function EU(t,e){return yt(t).setPersistence(e)}function bU(t,e,n,r){return yt(t).onIdTokenChanged(e,n,r)}function wU(t,e,n){return yt(t).beforeAuthStateChanged(e,n)}function o2(t,e,n,r){return yt(t).onAuthStateChanged(e,n,r)}function By(t){return yt(t).signOut()}const bd="__sak";class l2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bd,"1"),this.storage.removeItem(bd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const SU=1e3,AU=10;class u2 extends l2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);qj()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,AU):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},SU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}u2.type="LOCAL";const c2=u2;class h2 extends l2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}h2.type="SESSION";const f2=h2;function CU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class tm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new tm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async p=>p(n.origin,l)),d=await CU(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tm.receivers=[];function N0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class xU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,d)=>{const p=N0("",20);a.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(v){const T=v;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(T.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function cr(){return window}function RU(t){cr().location.href=t}function d2(){return typeof cr().WorkerGlobalScope<"u"&&typeof cr().importScripts=="function"}async function IU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DU(){return navigator?.serviceWorker?.controller||null}function NU(){return d2()?self:null}const m2="firebaseLocalStorageDb",MU=1,wd="firebaseLocalStorage",p2="fbase_key";class Fc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nm(t,e){return t.transaction([wd],e?"readwrite":"readonly").objectStore(wd)}function PU(){const t=indexedDB.deleteDatabase(m2);return new Fc(t).toPromise()}function Fy(){const t=indexedDB.open(m2,MU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wd,{keyPath:p2})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wd)?e(r):(r.close(),await PU(),e(await Fy()))})})}async function fA(t,e,n){const r=nm(t,!0).put({[p2]:e,value:n});return new Fc(r).toPromise()}async function VU(t,e){const n=nm(t,!1).get(e),r=await new Fc(n).toPromise();return r===void 0?null:r.value}function dA(t,e){const n=nm(t,!0).delete(e);return new Fc(n).toPromise()}const OU=800,kU=3;class g2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return d2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tm._getInstance(NU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await IU(),!this.activeServiceWorker)return;this.sender=new xU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fy();return await fA(e,bd,"1"),await dA(e,bd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>VU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=nm(a,!1).getAll();return new Fc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}g2.type="LOCAL";const LU=g2;new Uc(3e4,6e4);function jU(t,e){return e?Ur(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class M0 extends I0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function UU(t){return r2(t.auth,new M0(t),t.bypassAuthState)}function zU(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),vU(n,new M0(t),t.bypassAuthState)}async function BU(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),yU(n,new M0(t),t.bypassAuthState)}class y2{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UU;case"linkViaPopup":case"linkViaRedirect":return BU;case"reauthViaPopup":case"reauthViaRedirect":return zU;default:Ni(this.auth,"internal-error")}}resolve(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const FU=new Uc(2e3,1e4);class cl extends y2{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,cl.currentPopupAction&&cl.currentPopupAction.cancel(),cl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Qr(this.filter.length===1,"Popup operations only handle one event");const e=N0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FU.get())};e()}}cl.currentPopupAction=null;const HU="pendingRedirect",Xf=new Map;class qU extends y2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xf.get(this.auth._key());if(!e){try{const r=await GU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xf.set(this.auth._key(),e)}return this.bypassAuthState||Xf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GU(t,e){const n=XU(e),r=KU(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function YU(t,e){Xf.set(t._key(),e)}function KU(t){return Ur(t._redirectPersistence)}function XU(t){return Kf(HU,t.config.apiKey,t.name)}async function $U(t,e,n=!1){if(ii(t.app))return Promise.reject(Fr(t));const r=ho(t),a=jU(r,e),u=await new qU(r,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}const QU=600*1e3;class WU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!v2(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ur(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QU&&this.cachedEventUids.clear(),this.cachedEventUids.has(mA(e))}saveEventToCache(e){this.cachedEventUids.add(mA(e)),this.lastProcessedEventTime=Date.now()}}function mA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function v2({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function ZU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v2(t);default:return!1}}async function JU(t,e={}){return aa(t,"GET","/v1/projects",e)}const e9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t9=/^https?/;async function n9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await JU(t);for(const n of e)try{if(i9(n))return}catch{}Ni(t,"unauthorized-domain")}function i9(t){const e=jy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!t9.test(n))return!1;if(e9.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const r9=new Uc(3e4,6e4);function pA(){const t=cr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function s9(t){return new Promise((e,n)=>{function r(){pA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pA(),n(ur(t,"network-request-failed"))},timeout:r9.get()})}if(cr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(cr().gapi?.load)r();else{const a=Jj("iframefcb");return cr()[a]=()=>{gapi.load?r():n(ur(t,"network-request-failed"))},JR(`${Zj()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw $f=null,e})}let $f=null;function a9(t){return $f=$f||s9(t),$f}const o9=new Uc(5e3,15e3),l9="__/auth/iframe",u9="emulator/auth/iframe",c9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function f9(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?C0(e,u9):`https://${t.config.authDomain}/${l9}`,r={apiKey:e.apiKey,appName:t.name,v:Nl},a=h9.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Mc(r).slice(1)}`}async function d9(t){const e=await a9(t),n=cr().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:f9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c9,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const u=ur(t,"network-request-failed"),h=cr().setTimeout(()=>{l(u)},o9.get());function d(){cr().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{l(u)})}))}const m9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p9=500,g9=600,y9="_blank",v9="http://localhost";class gA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _9(t,e,n,r=p9,a=g9){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d={...m9,width:r.toString(),height:a.toString(),top:l,left:u},p=fn().toLowerCase();n&&(h=YR(p)?y9:n),qR(p)&&(e=e||v9,d.scrollbars="yes");const y=Object.entries(d).reduce((T,[S,R])=>`${T}${S}=${R},`,"");if(Hj(p)&&h!=="_self")return T9(e||"",h),new gA(null);const v=window.open(e||"",h,y);Ee(v,t,"popup-blocked");try{v.focus()}catch{}return new gA(v)}function T9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const E9="__/auth/handler",b9="emulator/auth/handler",w9=encodeURIComponent("fac");async function yA(t,e,n,r,a,l){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Nl,eventId:a};if(e instanceof n2){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",K4(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(e instanceof Bc){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await t._getAppCheckToken(),p=d?`#${w9}=${encodeURIComponent(d)}`:"";return`${S9(t)}?${Mc(h).slice(1)}${p}`}function S9({config:t}){return t.emulator?C0(t,b9):`https://${t.authDomain}/${E9}`}const zg="webStorageSupport";class A9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f2,this._completeRedirectFn=$U,this._overrideRedirectResult=YU}async _openPopup(e,n,r,a){Qr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await yA(e,n,r,jy(),a);return _9(e,l,N0())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await yA(e,n,r,jy(),a);return RU(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Qr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await d9(e),r=new WU(e);return n.register("authEvent",a=>(Ee(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zg,{type:zg},a=>{const l=a?.[0]?.[zg];l!==void 0&&n(!!l),Ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=n9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WR()||GR()||R0()}}const C9=A9;var vA="@firebase/auth",_A="1.11.1";class x9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function R9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I9(t){fr(new Ii("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ee(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZR(t)},p=new $j(r,a,l,d);return sU(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fr(new Ii("auth-internal",e=>{const n=ho(e.getProvider("auth").getImmediate());return(r=>new x9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ui(vA,_A,R9(t)),ui(vA,_A,"esm2020")}const D9=300,N9=YC("authIdTokenMaxAge")||D9;let TA=null;const M9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>N9)return;const a=n?.token;TA!==a&&(TA=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function P9(t=Lv()){const e=lo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=rU(t,{popupRedirectResolver:C9,persistence:[LU,c2,f2]}),r=YC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=M9(l.toString());wU(n,u,()=>u(n.currentUser)),bU(n,h=>u(h))}}const a=qC("auth");return a&&aU(n,`http://${a}`),n}function V9(){return document.getElementsByTagName("head")?.[0]??document}Qj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=ur("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",V9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I9("Browser");const _2="@firebase/installations",P0="0.6.19";const T2=1e4,E2=`w:${P0}`,b2="FIS_v2",O9="https://firebaseinstallations.googleapis.com/v1",k9=3600*1e3,L9="installations",j9="Installations";const U9={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},io=new oo(L9,j9,U9);function w2(t){return t instanceof Mi&&t.code.includes("request-failed")}function S2({projectId:t}){return`${O9}/projects/${t}/installations`}function A2(t){return{token:t.token,requestStatus:2,expiresIn:B9(t.expiresIn),creationTime:Date.now()}}async function C2(t,e){const r=(await e.json()).error;return io.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function x2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function z9(t,{refreshToken:e}){const n=x2(t);return n.append("Authorization",F9(e)),n}async function R2(t){const e=await t();return e.status>=500&&e.status<600?t():e}function B9(t){return Number(t.replace("s","000"))}function F9(t){return`${b2} ${t}`}async function H9({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=S2(t),a=x2(t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={fid:n,authVersion:b2,appId:t.appId,sdkVersion:E2},h={method:"POST",headers:a,body:JSON.stringify(u)},d=await R2(()=>fetch(r,h));if(d.ok){const p=await d.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:A2(p.authToken)}}else throw await C2("Create Installation",d)}function I2(t){return new Promise(e=>{setTimeout(e,t)})}function q9(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const G9=/^[cdef][\w-]{21}$/,Hy="";function Y9(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=K9(t);return G9.test(n)?n:Hy}catch{return Hy}}function K9(t){return q9(t).substr(0,22)}function im(t){return`${t.appName}!${t.appId}`}const D2=new Map;function N2(t,e){const n=im(t);M2(n,e),X9(n,e)}function M2(t,e){const n=D2.get(t);if(n)for(const r of n)r(e)}function X9(t,e){const n=$9();n&&n.postMessage({key:t,fid:e}),Q9()}let Ga=null;function $9(){return!Ga&&"BroadcastChannel"in self&&(Ga=new BroadcastChannel("[Firebase] FID Change"),Ga.onmessage=t=>{M2(t.data.key,t.data.fid)}),Ga}function Q9(){D2.size===0&&Ga&&(Ga.close(),Ga=null)}const W9="firebase-installations-database",Z9=1,ro="firebase-installations-store";let Bg=null;function V0(){return Bg||(Bg=ex(W9,Z9,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ro)}}})),Bg}async function Sd(t,e){const n=im(t),a=(await V0()).transaction(ro,"readwrite"),l=a.objectStore(ro),u=await l.get(n);return await l.put(e,n),await a.done,(!u||u.fid!==e.fid)&&N2(t,e.fid),e}async function P2(t){const e=im(t),r=(await V0()).transaction(ro,"readwrite");await r.objectStore(ro).delete(e),await r.done}async function rm(t,e){const n=im(t),a=(await V0()).transaction(ro,"readwrite"),l=a.objectStore(ro),u=await l.get(n),h=e(u);return h===void 0?await l.delete(n):await l.put(h,n),await a.done,h&&(!u||u.fid!==h.fid)&&N2(t,h.fid),h}async function O0(t){let e;const n=await rm(t.appConfig,r=>{const a=J9(r),l=ez(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===Hy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function J9(t){const e=t||{fid:Y9(),registrationStatus:0};return V2(e)}function ez(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(io.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=tz(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:nz(t)}:{installationEntry:e}}async function tz(t,e){try{const n=await H9(t,e);return Sd(t.appConfig,n)}catch(n){throw w2(n)&&n.customData.serverCode===409?await P2(t.appConfig):await Sd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function nz(t){let e=await EA(t.appConfig);for(;e.registrationStatus===1;)await I2(100),e=await EA(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await O0(t);return r||n}return e}function EA(t){return rm(t,e=>{if(!e)throw io.create("installation-not-found");return V2(e)})}function V2(t){return iz(t)?{fid:t.fid,registrationStatus:0}:t}function iz(t){return t.registrationStatus===1&&t.registrationTime+T2<Date.now()}async function rz({appConfig:t,heartbeatServiceProvider:e},n){const r=sz(t,n),a=z9(t,n),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={installation:{sdkVersion:E2,appId:t.appId}},h={method:"POST",headers:a,body:JSON.stringify(u)},d=await R2(()=>fetch(r,h));if(d.ok){const p=await d.json();return A2(p)}else throw await C2("Generate Auth Token",d)}function sz(t,{fid:e}){return`${S2(t)}/${e}/authTokens:generate`}async function k0(t,e=!1){let n;const r=await rm(t.appConfig,l=>{if(!O2(l))throw io.create("not-registered");const u=l.authToken;if(!e&&lz(u))return l;if(u.requestStatus===1)return n=az(t,e),l;{if(!navigator.onLine)throw io.create("app-offline");const h=cz(l);return n=oz(t,h),h}});return n?await n:r.authToken}async function az(t,e){let n=await bA(t.appConfig);for(;n.authToken.requestStatus===1;)await I2(100),n=await bA(t.appConfig);const r=n.authToken;return r.requestStatus===0?k0(t,e):r}function bA(t){return rm(t,e=>{if(!O2(e))throw io.create("not-registered");const n=e.authToken;return hz(n)?{...e,authToken:{requestStatus:0}}:e})}async function oz(t,e){try{const n=await rz(t,e),r={...e,authToken:n};return await Sd(t.appConfig,r),n}catch(n){if(w2(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await P2(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Sd(t.appConfig,r)}throw n}}function O2(t){return t!==void 0&&t.registrationStatus===2}function lz(t){return t.requestStatus===2&&!uz(t)}function uz(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+k9}function cz(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function hz(t){return t.requestStatus===1&&t.requestTime+T2<Date.now()}async function fz(t){const e=t,{installationEntry:n,registrationPromise:r}=await O0(e);return r?r.catch(console.error):k0(e).catch(console.error),n.fid}async function dz(t,e=!1){const n=t;return await mz(n),(await k0(n,e)).token}async function mz(t){const{registrationPromise:e}=await O0(t);e&&await e}function pz(t){if(!t||!t.options)throw Fg("App Configuration");if(!t.name)throw Fg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Fg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Fg(t){return io.create("missing-app-config-values",{valueName:t})}const k2="installations",gz="installations-internal",yz=t=>{const e=t.getProvider("app").getImmediate(),n=pz(e),r=lo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},vz=t=>{const e=t.getProvider("app").getImmediate(),n=lo(e,k2).getImmediate();return{getId:()=>fz(n),getToken:a=>dz(n,a)}};function _z(){fr(new Ii(k2,yz,"PUBLIC")),fr(new Ii(gz,vz,"PRIVATE"))}_z();ui(_2,P0);ui(_2,P0,"esm2020");const Ad="analytics",Tz="firebase_id",Ez="origin",bz=60*1e3,wz="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",L0="https://www.googletagmanager.com/gtag/js";const yn=new Vd("@firebase/analytics");const Sz={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},zn=new oo("analytics","Analytics",Sz);function Az(t){if(!t.startsWith(L0)){const e=zn.create("invalid-gtag-resource",{gtagURL:t});return yn.warn(e.message),""}return t}function L2(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Cz(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function xz(t,e){const n=Cz("firebase-js-sdk-policy",{createScriptURL:Az}),r=document.createElement("script"),a=`${L0}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function Rz(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Iz(t,e,n,r,a,l){const u=r[a];try{if(u)await e[u];else{const d=(await L2(n)).find(p=>p.measurementId===a);d&&await e[d.appId]}}catch(h){yn.error(h)}t("config",a,l)}async function Dz(t,e,n,r,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const h=await L2(n);for(const d of u){const p=h.find(v=>v.measurementId===d),y=p&&e[p.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",r,a||{})}catch(l){yn.error(l)}}function Nz(t,e,n,r){async function a(l,...u){try{if(l==="event"){const[h,d]=u;await Dz(t,e,n,h,d)}else if(l==="config"){const[h,d]=u;await Iz(t,e,n,r,h,d)}else if(l==="consent"){const[h,d]=u;t("consent",h,d)}else if(l==="get"){const[h,d,p]=u;t("get",h,d,p)}else if(l==="set"){const[h]=u;t("set",h)}else t(l,...u)}catch(h){yn.error(h)}}return a}function Mz(t,e,n,r,a){let l=function(...u){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=Nz(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function Pz(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(L0)&&n.src.includes(t))return n;return null}const Vz=30,Oz=1e3;class kz{constructor(e={},n=Oz){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const j2=new kz;function Lz(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function jz(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:Lz(n)},a=wz.replace("{app-id}",e),l=await fetch(a,r);if(l.status!==200&&l.status!==304){let u="";try{const h=await l.json();h.error?.message&&(u=h.error.message)}catch{}throw zn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function Uz(t,e=j2,n){const{appId:r,apiKey:a,measurementId:l}=t.options;if(!r)throw zn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:r};throw zn.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new Fz;return setTimeout(async()=>{h.abort()},bz),U2({appId:r,apiKey:a,measurementId:l},u,h,e)}async function U2(t,{throttleEndTimeMillis:e,backoffCount:n},r,a=j2){const{appId:l,measurementId:u}=t;try{await zz(r,e)}catch(h){if(u)return yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:l,measurementId:u};throw h}try{const h=await jz(t);return a.deleteThrottleMetadata(l),h}catch(h){const d=h;if(!Bz(d)){if(a.deleteThrottleMetadata(l),u)return yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:u};throw h}const p=Number(d?.customData?.httpStatus)===503?Yw(n,a.intervalMillis,Vz):Yw(n,a.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return a.setThrottleMetadata(l,y),yn.debug(`Calling attemptFetch again in ${p} millis`),U2(t,y,r,a)}}function zz(t,e){return new Promise((n,r)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),r(zn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Bz(t){if(!(t instanceof Mi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Fz{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Hz(t,e,n,r,a){if(a&&a.global){t("event",n,r);return}else{const l=await e,u={...r,send_to:l};t("event",n,u)}}async function qz(t,e,n,r){if(r&&r.global){const a={};for(const l of Object.keys(n))a[`user_properties.${l}`]=n[l];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}async function Gz(){if(QC())try{await WC()}catch(t){return yn.warn(zn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return yn.warn(zn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Yz(t,e,n,r,a,l,u){const h=Uz(t);h.then(T=>{n[T.measurementId]=T.appId,t.options.measurementId&&T.measurementId!==t.options.measurementId&&yn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>yn.error(T)),e.push(h);const d=Gz().then(T=>{if(T)return r.getId()}),[p,y]=await Promise.all([h,d]);Pz(l)||xz(l,p.measurementId),a("js",new Date);const v=u?.config??{};return v[Ez]="firebase",v.update=!0,y!=null&&(v[Tz]=y),a("config",p.measurementId,v),p.measurementId}class Kz{constructor(e){this.app=e}_delete(){return delete gl[this.app.options.appId],Promise.resolve()}}let gl={},wA=[];const SA={};let Hg="dataLayer",Xz="gtag",AA,j0,CA=!1;function $z(){const t=[];if($C()&&t.push("This is a browser extension environment."),H4()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,a)=>`(${a+1}) ${r}`).join(" "),n=zn.create("invalid-analytics-context",{errorInfo:e});yn.warn(n.message)}}function Qz(t,e,n){$z();const r=t.options.appId;if(!r)throw zn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw zn.create("no-api-key");if(gl[r]!=null)throw zn.create("already-exists",{id:r});if(!CA){Rz(Hg);const{wrappedGtag:l,gtagCore:u}=Mz(gl,wA,SA,Hg,Xz);j0=l,AA=u,CA=!0}return gl[r]=Yz(t,wA,SA,e,AA,Hg,n),new Kz(t)}function Wz(t=Lv()){t=yt(t);const e=lo(t,Ad);return e.isInitialized()?e.getImmediate():Zz(t)}function Zz(t,e={}){const n=lo(t,Ad);if(n.isInitialized()){const a=n.getImmediate();if(Xs(e,n.getOptions()))return a;throw zn.create("already-initialized")}return n.initialize({options:e})}function Jz(t,e,n){t=yt(t),qz(j0,gl[t.app.options.appId],e,n).catch(r=>yn.error(r))}function eB(t,e,n,r){t=yt(t),Hz(j0,gl[t.app.options.appId],e,n,r).catch(a=>yn.error(a))}const xA="@firebase/analytics",RA="0.10.19";function tB(){fr(new Ii(Ad,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return Qz(r,a,n)},"PUBLIC")),fr(new Ii("analytics-internal",t,"PRIVATE")),ui(xA,RA),ui(xA,RA,"esm2020");function t(e){try{const n=e.getProvider(Ad).getImmediate();return{logEvent:(r,a,l)=>eB(n,r,a,l),setUserProperties:(r,a)=>Jz(n,r,a)}}catch(n){throw zn.create("interop-component-reg-failed",{reason:n})}}}tB();const nB={apiKey:"AIzaSyD-GIU-_XMDNkFNyYpBGfrcuAqypNCboxk",authDomain:"mit-mess-23f98.firebaseapp.com",projectId:"mit-mess-23f98",storageBucket:"mit-mess-23f98.firebasestorage.app",messagingSenderId:"286644195454",appId:"1:286644195454:web:97f456209765291e37082f",measurementId:"G-2TSYYR3ZYM"},U0=tx(nB),jn=aj(U0),hr=P9(U0);Wz(U0);const iB=()=>{const[t,e]=V.useState(""),[n,r]=V.useState([]),[a,l]=V.useState(!0);V.useEffect(()=>{const d=bj(qa(jn,"messes"),p=>{const y=p.docs.map(v=>({id:v.id,...v.data()}));r(y),l(!1)});return()=>d()},[]);const h=[...n.filter(d=>{const p=t.toLowerCase();return d.name.toLowerCase().includes(p)?!0:d.menu?Object.values(d.menu).some(y=>Object.values(y).some(v=>v&&v.toLowerCase().includes(p))):!1})].sort((d,p)=>{const y=localStorage.getItem("lastViewedMess");return y?d.id===y?-1:p.id===y?1:0:0});return w.jsxs("div",{className:"min-h-screen bg-gray-50 relative selection:bg-orange-200 selection:text-orange-900",children:[w.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[w.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),w.jsx("div",{className:"absolute top-0 -left-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"}),w.jsx("div",{className:"absolute -bottom-40 left-20 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-4000"})]}),w.jsx(Md,{searchTerm:t,setSearchTerm:e}),w.jsxs("main",{className:"relative z-10 pt-20 pb-12 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto flex flex-col min-h-[calc(100vh-80px)]",children:[w.jsx("div",{className:"flex-grow",children:a?w.jsx("div",{className:"flex justify-center items-center h-64",children:w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):w.jsxs(un.div,{layout:!0,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-8",children:[h.map(d=>w.jsx(w4,{mess:d},d.id)),h.length===0&&w.jsx("div",{className:"col-span-full text-center py-12",children:w.jsx("p",{className:"text-gray-500 text-lg",children:"No messes found matching your search."})})]})}),w.jsxs("footer",{className:"text-center py-8 mt-8 border-t border-gray-200/50",children:[w.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 tracking-tight mb-2",children:["What's on the ",w.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-red-600",children:"Menu?"})]}),w.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto px-4",children:"Daily menus for all hostel messes. Click a card for the full weekly schedule."})]})]})]})};var oi=function(t,e){return Number(t.toFixed(e))},rB=function(t,e){return e},ft=function(t,e,n){n&&typeof n=="function"&&n(t,e)},sB=function(t){return-Math.cos(t*Math.PI)/2+.5},aB=function(t){return t},oB=function(t){return t*t},lB=function(t){return t*(2-t)},uB=function(t){return t<.5?2*t*t:-1+(4-2*t)*t},cB=function(t){return t*t*t},hB=function(t){return--t*t*t+1},fB=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},dB=function(t){return t*t*t*t},mB=function(t){return 1- --t*t*t*t},pB=function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},gB=function(t){return t*t*t*t*t},yB=function(t){return 1+--t*t*t*t*t},vB=function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},z2={easeOut:sB,linear:aB,easeInQuad:oB,easeOutQuad:lB,easeInOutQuad:uB,easeInCubic:cB,easeOutCubic:hB,easeInOutCubic:fB,easeInQuart:dB,easeOutQuart:mB,easeInOutQuart:pB,easeInQuint:gB,easeOutQuint:yB,easeInOutQuint:vB},B2=function(t){typeof t=="number"&&cancelAnimationFrame(t)},xi=function(t){t.mounted&&(B2(t.animation),t.animate=!1,t.animation=null,t.velocity=null)};function F2(t,e,n,r){if(t.mounted){var a=new Date().getTime(),l=1;xi(t),t.animation=function(){if(!t.mounted)return B2(t.animation);var u=new Date().getTime()-a,h=u/n,d=z2[e],p=d(h);u>=n?(r(l),t.animation=null):t.animation&&(r(p),requestAnimationFrame(t.animation))},requestAnimationFrame(t.animation)}}function _B(t){var e=t.scale,n=t.positionX,r=t.positionY;return!(Number.isNaN(e)||Number.isNaN(n)||Number.isNaN(r))}function oa(t,e,n,r){var a=_B(e);if(!(!t.mounted||!a)){var l=t.setTransformState,u=t.transformState,h=u.scale,d=u.positionX,p=u.positionY,y=e.scale-h,v=e.positionX-d,T=e.positionY-p;n===0?l(e.scale,e.positionX,e.positionY):F2(t,r,n,function(S){var R=h+y*S,M=d+v*S,N=p+T*S;l(R,M,N)})}}function TB(t,e,n){var r=t.offsetWidth,a=t.offsetHeight,l=e.offsetWidth,u=e.offsetHeight,h=l*n,d=u*n,p=r-h,y=a-d;return{wrapperWidth:r,wrapperHeight:a,newContentWidth:h,newDiffWidth:p,newContentHeight:d,newDiffHeight:y}}var EB=function(t,e,n,r,a,l,u){var h=t>e?n*(u?1:.5):0,d=r>a?l*(u?1:.5):0,p=t-e-h,y=h,v=r-a-d,T=d;return{minPositionX:p,maxPositionX:y,minPositionY:v,maxPositionY:T}},z0=function(t,e){var n=t.wrapperComponent,r=t.contentComponent,a=t.setup.centerZoomedOut;if(!n||!r)throw new Error("Components are not mounted");var l=TB(n,r,e),u=l.wrapperWidth,h=l.wrapperHeight,d=l.newContentWidth,p=l.newDiffWidth,y=l.newContentHeight,v=l.newDiffHeight,T=EB(u,d,p,h,y,v,!!a);return T},qy=function(t,e,n,r){return r?t<e?oi(e,2):t>n?oi(n,2):oi(t,2):oi(t,2)},Za=function(t,e){var n=z0(t,e);return t.bounds=n,n};function Hc(t,e,n,r,a,l,u){var h=n.minPositionX,d=n.minPositionY,p=n.maxPositionX,y=n.maxPositionY,v=0,T=0;u&&(v=a,T=l);var S=qy(t,h-v,p+v,r),R=qy(e,d-T,y+T,r);return{x:S,y:R}}function sm(t,e,n,r,a,l){var u=t.transformState,h=u.scale,d=u.positionX,p=u.positionY,y=r-h;if(typeof e!="number"||typeof n!="number")return console.error("Mouse X and Y position were not provided!"),{x:d,y:p};var v=d-e*y,T=p-n*y,S=Hc(v,T,a,l,0,0,null);return S}function qc(t,e,n,r,a){var l=a?r:0,u=e-l;return!Number.isNaN(n)&&t>=n?n:!Number.isNaN(e)&&t<=u?u:t}var IA=function(t,e){var n=t.setup.panning.excluded,r=t.isInitialized,a=t.wrapperComponent,l=e.target,u="shadowRoot"in l&&"composedPath"in e,h=u?e.composedPath().some(function(y){return y instanceof Element?a?.contains(y):!1}):a?.contains(l),d=r&&l&&h;if(!d)return!1;var p=am(l,n);return!p},DA=function(t){var e=t.isInitialized,n=t.isPanning,r=t.setup,a=r.panning.disabled,l=e&&n&&!a;return!!l},bB=function(t,e){var n=t.transformState,r=n.positionX,a=n.positionY;t.isPanning=!0;var l=e.clientX,u=e.clientY;t.startCoords={x:l-r,y:u-a}},wB=function(t,e){var n=e.touches,r=t.transformState,a=r.positionX,l=r.positionY;t.isPanning=!0;var u=n.length===1;if(u){var h=n[0].clientX,d=n[0].clientY;t.startCoords={x:h-a,y:d-l}}};function SB(t){var e=t.transformState,n=e.positionX,r=e.positionY,a=e.scale,l=t.setup,u=l.disabled,h=l.limitToBounds,d=l.centerZoomedOut,p=t.wrapperComponent;if(!(u||!p||!t.bounds)){var y=t.bounds,v=y.maxPositionX,T=y.minPositionX,S=y.maxPositionY,R=y.minPositionY,M=n>v||n<T,N=r>S||r<R,j=n>v?p.offsetWidth:t.setup.minPositionX||0,B=r>S?p.offsetHeight:t.setup.minPositionY||0,F=sm(t,j,B,a,t.bounds,h||d),ae=F.x,se=F.y;return{scale:a,positionX:M?ae:n,positionY:N?se:r}}}function H2(t,e,n,r,a){var l=t.setup.limitToBounds,u=t.wrapperComponent,h=t.bounds,d=t.transformState,p=d.scale,y=d.positionX,v=d.positionY;if(!(u===null||h===null||e===y&&n===v)){var T=Hc(e,n,h,l,r,a,u),S=T.x,R=T.y;t.setTransformState(p,S,R)}}var AB=function(t,e,n){var r=t.startCoords,a=t.transformState,l=t.setup.panning,u=l.lockAxisX,h=l.lockAxisY,d=a.positionX,p=a.positionY;if(!r)return{x:d,y:p};var y=e-r.x,v=n-r.y,T=u?d:y,S=h?p:v;return{x:T,y:S}},ta=function(t,e){var n=t.setup,r=t.transformState,a=r.scale,l=n.minScale,u=n.disablePadding;return e>0&&a>=l&&!u?e:0},CB=function(t){var e=t.mounted,n=t.setup,r=n.disabled,a=n.velocityAnimation,l=t.transformState.scale,u=a.disabled,h=!u||l>1||!r||e;return!!h},xB=function(t){var e=t.mounted,n=t.velocity,r=t.bounds,a=t.setup,l=a.disabled,u=a.velocityAnimation,h=t.transformState.scale,d=u.disabled,p=!d||h>1||!l||e;return!(!p||!n||!r)};function RB(t,e){var n=t.setup.velocityAnimation,r=n.equalToMove,a=n.animationTime,l=n.sensitivity;return r?a*e*l:a}function NA(t,e,n,r,a,l,u,h,d,p){if(a){if(e>u&&n>u){var y=u+(t-u)*p;return y>d?d:y<u?u:y}if(e<l&&n<l){var y=l+(t-l)*p;return y<h?h:y>l?l:y}}return r?e:qy(t,l,u,a)}function IB(t,e){var n=1;return e?Math.min(n,t.offsetWidth/window.innerWidth):n}function DB(t,e){var n=CB(t);if(n){var r=t.lastMousePosition,a=t.velocityTime,l=t.setup,u=t.wrapperComponent,h=l.velocityAnimation.equalToMove,d=Date.now();if(r&&a&&u){var p=IB(u,h),y=e.x-r.x,v=e.y-r.y,T=y/p,S=v/p,R=d-a,M=y*y+v*v,N=Math.sqrt(M)/R;t.velocity={velocityX:T,velocityY:S,total:N}}t.lastMousePosition=e,t.velocityTime=d}}function NB(t){var e=t.velocity,n=t.bounds,r=t.setup,a=t.wrapperComponent,l=xB(t);if(!(!l||!e||!n||!a)){var u=e.velocityX,h=e.velocityY,d=e.total,p=n.maxPositionX,y=n.minPositionX,v=n.maxPositionY,T=n.minPositionY,S=r.limitToBounds,R=r.alignmentAnimation,M=r.zoomAnimation,N=r.panning,j=N.lockAxisY,B=N.lockAxisX,F=M.animationType,ae=R.sizeX,se=R.sizeY,le=R.velocityAlignmentTime,I=le,x=RB(t,d),D=Math.max(x,I),L=ta(t,ae),k=ta(t,se),H=L*a.offsetWidth/100,P=k*a.offsetHeight/100,ze=p+H,Ge=y-H,W=v+P,oe=T-P,de=t.transformState,Ae=new Date().getTime();F2(t,F,D,function(Me){var U=t.transformState,te=U.scale,ue=U.positionX,J=U.positionY,he=new Date().getTime()-Ae,ge=he/I,Se=z2[R.animationType],mt=1-Se(Math.min(1,ge)),$e=1-Me,Bn=ue+u*$e,fi=J+h*$e,Pi=NA(Bn,de.positionX,ue,B,S,y,p,Ge,ze,mt),gr=NA(fi,de.positionY,J,j,S,T,v,oe,W,mt);(ue!==Bn||J!==fi)&&t.setTransformState(te,Pi,gr)})}}function MA(t,e){var n=t.transformState.scale;xi(t),Za(t,n),window.TouchEvent!==void 0&&e instanceof TouchEvent?wB(t,e):bB(t,e)}function B0(t,e){var n=t.transformState.scale,r=t.setup,a=r.minScale,l=r.alignmentAnimation,u=l.disabled,h=l.sizeX,d=l.sizeY,p=l.animationTime,y=l.animationType,v=u||n<a||!h&&!d;if(!v){var T=SB(t);T&&oa(t,T,e??p,y)}}function PA(t,e,n){var r=t.startCoords,a=t.setup,l=a.alignmentAnimation,u=l.sizeX,h=l.sizeY;if(r){var d=AB(t,e,n),p=d.x,y=d.y,v=ta(t,u),T=ta(t,h);DB(t,{x:p,y}),H2(t,p,y,v,T)}}function MB(t){if(t.isPanning){var e=t.setup.panning.velocityDisabled,n=t.velocity,r=t.wrapperComponent,a=t.contentComponent;t.isPanning=!1,t.animate=!1,t.animation=null;var l=r?.getBoundingClientRect(),u=a?.getBoundingClientRect(),h=l?.width||0,d=l?.height||0,p=u?.width||0,y=u?.height||0,v=h<p||d<y,T=!e&&n&&n?.total>.1&&v;T?NB(t):B0(t)}}function F0(t,e,n,r){var a=t.setup,l=a.minScale,u=a.maxScale,h=a.limitToBounds,d=qc(oi(e,2),l,u,0,!1),p=Za(t,d),y=sm(t,n,r,d,p,h),v=y.x,T=y.y;return{scale:d,positionX:v,positionY:T}}function q2(t,e,n){var r=t.transformState.scale,a=t.wrapperComponent,l=t.setup,u=l.minScale,h=l.limitToBounds,d=l.zoomAnimation,p=d.disabled,y=d.animationTime,v=d.animationType,T=p||r>=u;if((r>=1||h)&&B0(t),!(T||!a||!t.mounted)){var S=e||a.offsetWidth/2,R=n||a.offsetHeight/2,M=F0(t,u,S,R);M&&oa(t,M,y,v)}}var Gs=function(){return Gs=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Gs.apply(this,arguments)};function VA(t,e,n){for(var r=0,a=e.length,l;r<a;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return t.concat(l||Array.prototype.slice.call(e))}var Mf={scale:1,positionX:0,positionY:0},Hu={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},Gy={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},G2=function(t){var e,n,r,a;return{previousScale:(e=t.initialScale)!==null&&e!==void 0?e:Mf.scale,scale:(n=t.initialScale)!==null&&n!==void 0?n:Mf.scale,positionX:(r=t.initialPositionX)!==null&&r!==void 0?r:Mf.positionX,positionY:(a=t.initialPositionY)!==null&&a!==void 0?a:Mf.positionY}},OA=function(t){var e=Gs({},Hu);return Object.keys(t).forEach(function(n){var r=typeof t[n]<"u",a=typeof Hu[n]<"u";if(a&&r){var l=Object.prototype.toString.call(Hu[n]),u=l==="[object Object]",h=l==="[object Array]";u?e[n]=Gs(Gs({},Hu[n]),t[n]):h?e[n]=VA(VA([],Hu[n],!0),t[n]):e[n]=t[n]}}),e},Y2=function(t,e,n){var r=t.transformState.scale,a=t.wrapperComponent,l=t.setup,u=l.maxScale,h=l.minScale,d=l.zoomAnimation,p=l.smooth,y=d.size;if(!a)throw new Error("Wrapper is not mounted");var v=p?r*Math.exp(e*n):r+e*n,T=qc(oi(v,3),h,u,y,!1);return T};function K2(t,e,n,r,a){var l=t.wrapperComponent,u=t.transformState,h=u.scale,d=u.positionX,p=u.positionY;if(!l)return console.error("No WrapperComponent found");var y=l.offsetWidth,v=l.offsetHeight,T=(y/2-d)/h,S=(v/2-p)/h,R=Y2(t,e,n),M=F0(t,R,T,S);if(!M)return console.error("Error during zoom event. New transformation state was not calculated.");oa(t,M,r,a)}function X2(t,e,n,r){var a=t.setup,l=t.wrapperComponent,u=a.limitToBounds,h=G2(t.props),d=t.transformState,p=d.scale,y=d.positionX,v=d.positionY;if(l){var T=z0(t,h.scale),S=Hc(h.positionX,h.positionY,T,u,0,0,l),R={scale:h.scale,positionX:S.x,positionY:S.y};p===h.scale&&y===h.positionX&&v===h.positionY||(r?.(),oa(t,R,e,n))}}function PB(t,e,n,r){var a=t.getBoundingClientRect(),l=e.getBoundingClientRect(),u=n.getBoundingClientRect(),h=l.x*r.scale,d=l.y*r.scale;return{x:(a.x-u.x+h)/r.scale,y:(a.y-u.y+d)/r.scale}}function VB(t,e,n){var r=t.wrapperComponent,a=t.contentComponent,l=t.transformState,u=t.setup,h=u.limitToBounds,d=u.minScale,p=u.maxScale;if(!r||!a)return l;var y=r.getBoundingClientRect(),v=e.getBoundingClientRect(),T=PB(e,r,a,l),S=T.x,R=T.y,M=v.width/l.scale,N=v.height/l.scale,j=r.offsetWidth/M,B=r.offsetHeight/N,F=qc(n||Math.min(j,B),d,p,0,!1),ae=(y.width-M*F)/2,se=(y.height-N*F)/2,le=(y.left-S)*F+ae,I=(y.top-R)*F+se,x=z0(t,F),D=Hc(le,I,x,h,0,0,r),L=D.x,k=D.y;return{positionX:L,positionY:k,scale:F}}var OB=function(t){return function(e,n,r){e===void 0&&(e=.5),n===void 0&&(n=300),r===void 0&&(r="easeOut"),K2(t,1,e,n,r)}},kB=function(t){return function(e,n,r){e===void 0&&(e=.5),n===void 0&&(n=300),r===void 0&&(r="easeOut"),K2(t,-1,e,n,r)}},LB=function(t){return function(e,n,r,a,l){a===void 0&&(a=300),l===void 0&&(l="easeOut");var u=t.transformState,h=u.positionX,d=u.positionY,p=u.scale,y=t.wrapperComponent,v=t.contentComponent,T=t.setup.disabled;if(!(T||!y||!v)){var S={positionX:Number.isNaN(e)?h:e,positionY:Number.isNaN(n)?d:n,scale:Number.isNaN(r)?p:r};oa(t,S,a,l)}}},jB=function(t){return function(e,n){e===void 0&&(e=200),n===void 0&&(n="easeOut"),X2(t,e,n)}},UB=function(t){return function(e,n,r){n===void 0&&(n=200),r===void 0&&(r="easeOut");var a=t.transformState,l=t.wrapperComponent,u=t.contentComponent;if(l&&u){var h=$2(e||a.scale,l,u);oa(t,h,n,r)}}},zB=function(t){return function(e,n,r,a){r===void 0&&(r=600),a===void 0&&(a="easeOut"),xi(t);var l=t.wrapperComponent,u=typeof e=="string"?document.getElementById(e):e;if(l&&u&&l.contains(u)){var h=VB(t,u,n);oa(t,h,r,a)}}},Yy=function(t){return{instance:t,zoomIn:OB(t),zoomOut:kB(t),setTransform:LB(t),resetTransform:jB(t),centerView:UB(t),zoomToElement:zB(t)}},BB=function(t){return{instance:t,state:t.transformState}},st=function(t){var e={};return Object.assign(e,BB(t)),Object.assign(e,Yy(t)),e},qg=!1;function Gg(){try{var t={get passive(){return qg=!0,!1}};return t}catch{return qg=!1,qg}}var Pf=".".concat(Gy.wrapperClass),am=function(t,e){return e.some(function(n){return t.matches("".concat(Pf," ").concat(n,", ").concat(Pf," .").concat(n,", ").concat(Pf," ").concat(n," *, ").concat(Pf," .").concat(n," *"))})},Ky=function(t){t&&clearTimeout(t)},FB=function(t,e,n){return"translate(".concat(t,"px, ").concat(e,"px) scale(").concat(n,")")},$2=function(t,e,n){var r=n.offsetWidth*t,a=n.offsetHeight*t,l=(e.offsetWidth-r)/2,u=(e.offsetHeight-a)/2;return{scale:t,positionX:l,positionY:u}};function HB(t){return function(e){t.forEach(function(n){typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var qB=function(t,e){var n=t.setup.wheel,r=n.disabled,a=n.wheelDisabled,l=n.touchPadDisabled,u=n.excluded,h=t.isInitialized,d=t.isPanning,p=e.target,y=h&&!d&&!r&&p;if(!y||a&&!e.ctrlKey||l&&e.ctrlKey)return!1;var v=am(p,u);return!v},GB=function(t){return t?t.deltaY<0?1:-1:0};function YB(t,e){var n=GB(t),r=rB(e,n);return r}function Q2(t,e,n){var r=e.getBoundingClientRect(),a=0,l=0;if("clientX"in t)a=(t.clientX-r.left)/n,l=(t.clientY-r.top)/n;else{var u=t.touches[0];a=(u.clientX-r.left)/n,l=(u.clientY-r.top)/n}return(Number.isNaN(a)||Number.isNaN(l))&&console.error("No mouse or touch offset found"),{x:a,y:l}}var KB=function(t,e,n,r,a){var l=t.transformState.scale,u=t.wrapperComponent,h=t.setup,d=h.maxScale,p=h.minScale,y=h.zoomAnimation,v=h.disablePadding,T=y.size,S=y.disabled;if(!u)throw new Error("Wrapper is not mounted");var R=l+e*n,M=r?!1:!S,N=qc(oi(R,3),p,d,T,M&&!v);return N},XB=function(t,e){var n=t.previousWheelEvent,r=t.transformState.scale,a=t.setup,l=a.maxScale,u=a.minScale;return n?r<l||r>u||Math.sign(n.deltaY)!==Math.sign(e.deltaY)||n.deltaY>0&&n.deltaY<e.deltaY||n.deltaY<0&&n.deltaY>e.deltaY||Math.sign(n.deltaY)!==Math.sign(e.deltaY):!1},$B=function(t,e){var n=t.setup.pinch,r=n.disabled,a=n.excluded,l=t.isInitialized,u=e.target,h=l&&!r&&u;if(!h)return!1;var d=am(u,a);return!d},QB=function(t){var e=t.setup.pinch.disabled,n=t.isInitialized,r=t.pinchStartDistance,a=n&&!e&&r;return!!a},WB=function(t,e,n){var r=n.getBoundingClientRect(),a=t.touches,l=oi(a[0].clientX-r.left,5),u=oi(a[0].clientY-r.top,5),h=oi(a[1].clientX-r.left,5),d=oi(a[1].clientY-r.top,5);return{x:(l+h)/2/e,y:(u+d)/2/e}},W2=function(t){return Math.sqrt(Math.pow(t.touches[0].pageX-t.touches[1].pageX,2)+Math.pow(t.touches[0].pageY-t.touches[1].pageY,2))},ZB=function(t,e){var n=t.pinchStartScale,r=t.pinchStartDistance,a=t.setup,l=a.maxScale,u=a.minScale,h=a.zoomAnimation,d=a.disablePadding,p=h.size,y=h.disabled;if(!n||r===null||!e)throw new Error("Pinch touches distance was not provided");if(e<0)return t.transformState.scale;var v=e/r,T=v*n;return qc(oi(T,2),u,l,p,!y&&!d)},JB=160,e8=100,t8=function(t,e){var n=t.props,r=n.onWheelStart,a=n.onZoomStart;t.wheelStopEventTimer||(xi(t),ft(st(t),e,r),ft(st(t),e,a))},n8=function(t,e){var n=t.props,r=n.onWheel,a=n.onZoom,l=t.contentComponent,u=t.setup,h=t.transformState,d=h.scale,p=u.limitToBounds,y=u.centerZoomedOut,v=u.zoomAnimation,T=u.wheel,S=u.disablePadding,R=u.smooth,M=v.size,N=v.disabled,j=T.step,B=T.smoothStep;if(!l)throw new Error("Component not mounted");e.preventDefault(),e.stopPropagation();var F=YB(e,null),ae=R?B*Math.abs(e.deltaY):j,se=KB(t,F,ae,!e.ctrlKey);if(d!==se){var le=Za(t,se),I=Q2(e,l,d),x=N||M===0||y||S,D=p&&x,L=sm(t,I.x,I.y,se,le,D),k=L.x,H=L.y;t.previousWheelEvent=e,t.setTransformState(se,k,H),ft(st(t),e,r),ft(st(t),e,a)}},i8=function(t,e){var n=t.props,r=n.onWheelStop,a=n.onZoomStop;Ky(t.wheelAnimationTimer),t.wheelAnimationTimer=setTimeout(function(){t.mounted&&(q2(t,e.x,e.y),t.wheelAnimationTimer=null)},e8);var l=XB(t,e);l&&(Ky(t.wheelStopEventTimer),t.wheelStopEventTimer=setTimeout(function(){t.mounted&&(t.wheelStopEventTimer=null,ft(st(t),e,r),ft(st(t),e,a))},JB))},Z2=function(t){for(var e=0,n=0,r=0;r<2;r+=1)e+=t.touches[r].clientX,n+=t.touches[r].clientY;var a=e/2,l=n/2;return{x:a,y:l}},r8=function(t,e){var n=W2(e);t.pinchStartDistance=n,t.lastDistance=n,t.pinchStartScale=t.transformState.scale,t.isPanning=!1;var r=Z2(e);t.pinchLastCenterX=r.x,t.pinchLastCenterY=r.y,xi(t)},s8=function(t,e){var n=t.contentComponent,r=t.pinchStartDistance,a=t.wrapperComponent,l=t.transformState.scale,u=t.setup,h=u.limitToBounds,d=u.centerZoomedOut,p=u.zoomAnimation,y=u.alignmentAnimation,v=p.disabled,T=p.size;if(!(r===null||!n)){var S=WB(e,l,n);if(!(!Number.isFinite(S.x)||!Number.isFinite(S.y))){var R=W2(e),M=ZB(t,R),N=Z2(e),j=N.x-(t.pinchLastCenterX||0),B=N.y-(t.pinchLastCenterY||0);if(!(M===l&&j===0&&B===0)){t.pinchLastCenterX=N.x,t.pinchLastCenterY=N.y;var F=Za(t,M),ae=v||T===0||d,se=h&&ae,le=sm(t,S.x,S.y,M,F,se),I=le.x,x=le.y;t.pinchMidpoint=S,t.lastDistance=R;var D=y.sizeX,L=y.sizeY,k=ta(t,D),H=ta(t,L),P=I+j,ze=x+B,Ge=Hc(P,ze,F,h,k,H,a),W=Ge.x,oe=Ge.y;t.setTransformState(M,W,oe)}}}},a8=function(t){var e=t.pinchMidpoint;t.velocity=null,t.lastDistance=null,t.pinchMidpoint=null,t.pinchStartScale=null,t.pinchStartDistance=null,q2(t,e?.x,e?.y)},J2=function(t,e){var n=t.props.onZoomStop,r=t.setup.doubleClick.animationTime;Ky(t.doubleClickStopEventTimer),t.doubleClickStopEventTimer=setTimeout(function(){t.doubleClickStopEventTimer=null,ft(st(t),e,n)},r)},o8=function(t,e){var n=t.props,r=n.onZoomStart,a=n.onZoom,l=t.setup.doubleClick,u=l.animationTime,h=l.animationType;ft(st(t),e,r),X2(t,u,h,function(){return ft(st(t),e,a)}),J2(t,e)};function l8(t,e){return t==="toggle"?e===1?1:-1:t==="zoomOut"?-1:1}function u8(t,e){var n=t.setup,r=t.doubleClickStopEventTimer,a=t.transformState,l=t.contentComponent,u=a.scale,h=t.props,d=h.onZoomStart,p=h.onZoom,y=n.doubleClick,v=y.disabled,T=y.mode,S=y.step,R=y.animationTime,M=y.animationType;if(!v&&!r){if(T==="reset")return o8(t,e);if(!l)return console.error("No ContentComponent found");var N=l8(T,t.transformState.scale),j=Y2(t,N,S);if(u!==j){ft(st(t),e,d);var B=Q2(e,l,u),F=F0(t,j,B.x,B.y);if(!F)return console.error("Error during zoom event. New transformation state was not calculated.");ft(st(t),e,p),oa(t,F,R,M),J2(t,e)}}}var c8=function(t,e){var n=t.isInitialized,r=t.setup,a=t.wrapperComponent,l=r.doubleClick,u=l.disabled,h=l.excluded,d=e.target,p=a?.contains(d),y=n&&d&&p&&!u;if(!y)return!1;var v=am(d,h);return!v},h8=(function(){function t(e){var n=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){n.initializeWindowEvents()},this.unmount=function(){n.cleanupWindowEvents()},this.update=function(r){n.props=r,Za(n,n.transformState.scale),n.setup=OA(r)},this.initializeWindowEvents=function(){var r,a,l=Gg(),u=(r=n.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,h=u?.defaultView;(a=n.wrapperComponent)===null||a===void 0||a.addEventListener("wheel",n.onWheelPanning,l),h?.addEventListener("mousedown",n.onPanningStart,l),h?.addEventListener("mousemove",n.onPanning,l),h?.addEventListener("mouseup",n.onPanningStop,l),u?.addEventListener("mouseleave",n.clearPanning,l),h?.addEventListener("keyup",n.setKeyUnPressed,l),h?.addEventListener("keydown",n.setKeyPressed,l)},this.cleanupWindowEvents=function(){var r,a,l=Gg(),u=(r=n.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,h=u?.defaultView;h?.removeEventListener("mousedown",n.onPanningStart,l),h?.removeEventListener("mousemove",n.onPanning,l),h?.removeEventListener("mouseup",n.onPanningStop,l),u?.removeEventListener("mouseleave",n.clearPanning,l),h?.removeEventListener("keyup",n.setKeyUnPressed,l),h?.removeEventListener("keydown",n.setKeyPressed,l),document.removeEventListener("mouseleave",n.clearPanning,l),xi(n),(a=n.observer)===null||a===void 0||a.disconnect()},this.handleInitializeWrapperEvents=function(r){var a=Gg();r.addEventListener("wheel",n.onWheelZoom,a),r.addEventListener("dblclick",n.onDoubleClick,a),r.addEventListener("touchstart",n.onTouchPanningStart,a),r.addEventListener("touchmove",n.onTouchPanning,a),r.addEventListener("touchend",n.onTouchPanningStop,a)},this.handleInitialize=function(r,a){var l=!1,u=n.setup.centerOnInit,h=function(d,p){for(var y=0,v=d;y<v.length;y++){var T=v[y];if(T.target===p)return!0}return!1};n.applyTransformation(),n.onInitCallbacks.forEach(function(d){d(st(n))}),n.observer=new ResizeObserver(function(d){if(h(d,r)||h(d,a))if(u&&!l){var p=a.offsetWidth,y=a.offsetHeight;(p>0||y>0)&&(l=!0,n.setCenter())}else xi(n),Za(n,n.transformState.scale),B0(n,0)}),n.observer.observe(r),n.observer.observe(a)},this.onWheelZoom=function(r){var a=n.setup.disabled;if(!a){var l=qB(n,r);if(l){var u=n.isPressingKeys(n.setup.wheel.activationKeys);u&&(t8(n,r),n8(n,r),i8(n,r))}}},this.onWheelPanning=function(r){var a=n.setup,l=a.disabled,u=a.wheel,h=a.panning;if(!(!n.wrapperComponent||!n.contentComponent||l||!u.wheelDisabled||h.disabled||!h.wheelPanning||r.ctrlKey)){r.preventDefault(),r.stopPropagation();var d=n.transformState,p=d.positionX,y=d.positionY,v=p-r.deltaX,T=y-r.deltaY,S=h.lockAxisX?p:v,R=h.lockAxisY?y:T,M=n.setup.alignmentAnimation,N=M.sizeX,j=M.sizeY,B=ta(n,N),F=ta(n,j);S===p&&R===y||H2(n,S,R,B,F)}},this.onPanningStart=function(r){var a=n.setup.disabled,l=n.props.onPanningStart;if(!a){var u=IA(n,r);if(u){var h=n.isPressingKeys(n.setup.panning.activationKeys);h&&(r.button===0&&!n.setup.panning.allowLeftClickPan||r.button===1&&!n.setup.panning.allowMiddleClickPan||r.button===2&&!n.setup.panning.allowRightClickPan||(r.preventDefault(),r.stopPropagation(),xi(n),MA(n,r),ft(st(n),r,l)))}}},this.onPanning=function(r){var a=n.setup.disabled,l=n.props.onPanning;if(!a){var u=DA(n);if(u){var h=n.isPressingKeys(n.setup.panning.activationKeys);h&&(r.preventDefault(),r.stopPropagation(),PA(n,r.clientX,r.clientY),ft(st(n),r,l))}}},this.onPanningStop=function(r){var a=n.props.onPanningStop;n.isPanning&&(MB(n),ft(st(n),r,a))},this.onPinchStart=function(r){var a=n.setup.disabled,l=n.props,u=l.onPinchingStart,h=l.onZoomStart;if(!a){var d=$B(n,r);d&&(r8(n,r),xi(n),ft(st(n),r,u),ft(st(n),r,h))}},this.onPinch=function(r){var a=n.setup.disabled,l=n.props,u=l.onPinching,h=l.onZoom;if(!a){var d=QB(n);d&&(r.preventDefault(),r.stopPropagation(),s8(n,r),ft(st(n),r,u),ft(st(n),r,h))}},this.onPinchStop=function(r){var a=n.props,l=a.onPinchingStop,u=a.onZoomStop;n.pinchStartScale&&(a8(n),ft(st(n),r,l),ft(st(n),r,u))},this.onTouchPanningStart=function(r){var a=n.setup.disabled,l=n.props.onPanningStart;if(!a){var u=IA(n,r);if(u){var h=n.lastTouch&&+new Date-n.lastTouch<200&&r.touches.length===1;if(!h){n.lastTouch=+new Date,xi(n);var d=r.touches,p=d.length===1,y=d.length===2;p&&(xi(n),MA(n,r),ft(st(n),r,l)),y&&n.onPinchStart(r)}}}},this.onTouchPanning=function(r){var a=n.setup.disabled,l=n.props.onPanning;if(n.isPanning&&r.touches.length===1){if(a)return;var u=DA(n);if(!u)return;r.preventDefault(),r.stopPropagation();var h=r.touches[0];PA(n,h.clientX,h.clientY),ft(st(n),r,l)}else r.touches.length>1&&n.onPinch(r)},this.onTouchPanningStop=function(r){n.onPanningStop(r),n.onPinchStop(r)},this.onDoubleClick=function(r){var a=n.setup.disabled;if(!a){var l=c8(n,r);l&&u8(n,r)}},this.clearPanning=function(r){n.isPanning&&n.onPanningStop(r)},this.setKeyPressed=function(r){n.pressedKeys[r.key]=!0},this.setKeyUnPressed=function(r){n.pressedKeys[r.key]=!1},this.isPressingKeys=function(r){return r.length?!!r.find(function(a){return n.pressedKeys[a]}):!0},this.setTransformState=function(r,a,l){var u=n.props.onTransformed;if(!Number.isNaN(r)&&!Number.isNaN(a)&&!Number.isNaN(l)){r!==n.transformState.scale&&(n.transformState.previousScale=n.transformState.scale,n.transformState.scale=r),n.transformState.positionX=a,n.transformState.positionY=l,n.applyTransformation();var h=st(n);n.onChangeCallbacks.forEach(function(d){return d(h)}),ft(h,{scale:r,positionX:a,positionY:l},u)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(n.wrapperComponent&&n.contentComponent){var r=$2(n.transformState.scale,n.wrapperComponent,n.contentComponent);n.setTransformState(r.scale,r.positionX,r.positionY)}},this.handleTransformStyles=function(r,a,l){return n.props.customTransform?n.props.customTransform(r,a,l):FB(r,a,l)},this.applyTransformation=function(){if(!(!n.mounted||!n.contentComponent)){var r=n.transformState,a=r.scale,l=r.positionX,u=r.positionY,h=n.handleTransformStyles(l,u,a);n.contentComponent.style.transform=h}},this.getContext=function(){return st(n)},this.onChange=function(r){return n.onChangeCallbacks.has(r)||n.onChangeCallbacks.add(r),function(){n.onChangeCallbacks.delete(r)}},this.onInit=function(r){return n.onInitCallbacks.has(r)||n.onInitCallbacks.add(r),function(){n.onInitCallbacks.delete(r)}},this.init=function(r,a){n.cleanupWindowEvents(),n.wrapperComponent=r,n.contentComponent=a,Za(n,n.transformState.scale),n.handleInitializeWrapperEvents(r),n.handleInitialize(r,a),n.initializeWindowEvents(),n.isInitialized=!0;var l=st(n);ft(l,void 0,n.props.onInit)},this.props=e,this.setup=OA(this.props),this.transformState=G2(this.props)}return t})(),H0=si.createContext(null),f8=function(t,e){return typeof t=="function"?t(e):t},d8=si.forwardRef(function(t,e){var n=V.useRef(new h8(t)).current,r=f8(t.children,Yy(n));return V.useImperativeHandle(e,function(){return Yy(n)},[n]),V.useEffect(function(){n.update(t)},[n,t]),si.createElement(H0.Provider,{value:n},r)});si.forwardRef(function(t,e){var n=V.useRef(null),r=V.useContext(H0);return V.useEffect(function(){return r.onChange(function(a){if(n.current){var l=0,u=0;n.current.style.transform=r.handleTransformStyles(l,u,1/a.instance.transformState.scale)}})},[r]),si.createElement("div",Gs({},t,{ref:HB([n,e])}))});function m8(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",n==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}}var p8=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,kA={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};m8(p8);var g8=function(t){var e=t.children,n=t.wrapperClass,r=n===void 0?"":n,a=t.contentClass,l=a===void 0?"":a,u=t.wrapperStyle,h=t.contentStyle,d=t.wrapperProps,p=d===void 0?{}:d,y=t.contentProps,v=y===void 0?{}:y,T=V.useContext(H0),S=T.init,R=T.cleanupWindowEvents,M=V.useRef(null),N=V.useRef(null);return V.useEffect(function(){var j=M.current,B=N.current;return j!==null&&B!==null&&S&&S?.(j,B),function(){R?.()}},[]),si.createElement("div",Gs({},p,{ref:M,className:"".concat(Gy.wrapperClass," ").concat(kA.wrapper," ").concat(r),style:u}),si.createElement("div",Gs({},v,{ref:N,className:"".concat(Gy.contentClass," ").concat(kA.content," ").concat(l),style:h}),e))};const y8=()=>{const{id:t}=yN(),[e,n]=V.useState(null),[r,a]=V.useState(!0),l=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],u=si.useRef(null),[h,d]=si.useState(window.innerWidth<768),[p,y]=si.useState(!1);return V.useEffect(()=>{(async()=>{try{const T=$a(jn,"messes",t),S=await MR(T);S.exists()&&n({id:S.id,...S.data()})}catch(T){console.error("Error fetching mess:",T)}finally{a(!1)}})()},[t]),si.useEffect(()=>{const v=()=>d(window.innerWidth<768);return window.addEventListener("resize",v),t&&localStorage.setItem("lastViewedMess",t),()=>window.removeEventListener("resize",v)},[t]),r?w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:w.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):e?w.jsxs("div",{className:"min-h-screen bg-gray-50 relative",children:[w.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[w.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),w.jsx("div",{className:"absolute top-0 -left-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"})]}),w.jsx(Md,{}),w.jsxs("main",{className:"relative z-10 pt-20 pb-4 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto h-[calc(100vh-20px)] flex flex-col",children:[w.jsxs(Ya,{to:"/",className:"inline-flex items-center text-gray-600 hover:text-orange-600 mb-2 transition-colors text-sm",children:[w.jsx(yM,{size:16,className:"mr-1"}),"Back"]}),w.jsxs(un.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/60 backdrop-blur-xl rounded-2xl shadow-2xl overflow-hidden border border-white/50 flex flex-col flex-1 min-h-0",children:[w.jsx("div",{className:Lr("px-4 py-2 md:px-6 md:py-3 bg-gradient-to-r text-white shrink-0",e.color),children:w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-2 md:gap-0",children:[w.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:e.name}),w.jsxs("div",{className:"flex items-center gap-2 md:gap-3 w-full md:w-auto",children:[w.jsxs("button",{onClick:()=>u.current?.resetTransform(),className:"flex-1 md:flex-none justify-center px-3 py-1 bg-white/20 hover:bg-white/30 text-white rounded-full text-[10px] md:text-xs font-medium transition-colors backdrop-blur-sm border border-white/20 flex items-center gap-1 cursor-pointer",title:"Click to reset view",children:[w.jsx(tv,{size:12}),"Weekly Menu"]}),w.jsxs("button",{onClick:()=>y(!0),className:"flex-1 md:flex-none justify-center px-3 py-1 bg-white/20 hover:bg-white/30 text-white rounded-full text-[10px] md:text-xs font-medium transition-colors backdrop-blur-sm border border-white/20 flex items-center gap-1",children:[w.jsx(Xg,{size:12}),"Today's Menu"]})]})]})}),w.jsx("div",{className:Lr("flex-1 relative bg-gray-50/50",h?"overflow-hidden":"overflow-auto"),children:(()=>{const v=()=>{const N=new Date,j=N.getDay(),B=N.getDate()-j+(j===0?-6:1),F=new Date(N.setDate(B));return F.setHours(0,0,0,0),F},T=e.lastUpdated?new Date(e.lastUpdated):null,S=v(),R=!T||T<S,M=e.menu&&Object.keys(e.menu).some(N=>{const j=e.menu[N];return j?Object.values(j).some(B=>B&&B!=="N/A"&&B.trim()!==""):!1});return R||!M?w.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[w.jsx("div",{className:Lr("text-3xl md:text-4xl font-bold mb-2 bg-clip-text text-transparent bg-gradient-to-r",e.color),children:"Menu Not Uploaded"}),w.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:"Check back later for this week's menu"})]}):h?w.jsx(d8,{ref:u,initialScale:1,minScale:.5,maxScale:3,centerOnInit:!1,wheel:{step:.1},limitToBounds:!1,children:w.jsx(g8,{wrapperClass:"!w-full !h-full",contentClass:"!w-full",children:w.jsx(LA,{days:l,mess:e})})}):w.jsx(LA,{days:l,mess:e})})()})]})]}),w.jsx(js,{children:p&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:()=>y(!1),children:w.jsxs(un.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},onClick:v=>v.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden",children:[w.jsxs("div",{className:Lr("p-4 bg-gradient-to-r text-white flex justify-between items-center",e.color),children:[w.jsxs("h3",{className:"text-lg font-bold",children:["Today's Menu (",new Date().toLocaleDateString("en-US",{weekday:"long"}),")"]}),w.jsx("button",{onClick:()=>y(!1),className:"p-1 hover:bg-white/20 rounded-full transition-colors",children:w.jsx(yl,{size:20})})]}),w.jsx("div",{className:"p-6 space-y-4",children:(()=>{const v=()=>{const B=new Date,F=B.getDay(),ae=B.getDate()-F+(F===0?-6:1),se=new Date(B.setDate(ae));return se.setHours(0,0,0,0),se},T=e.lastUpdated?new Date(e.lastUpdated):null,S=v(),R=!T||T<S,M=e.menu&&Object.keys(e.menu).some(B=>{const F=e.menu[B];return F?Object.values(F).some(ae=>ae&&ae!=="N/A"&&ae.trim()!==""):!1});if(R||!M)return w.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[w.jsx("div",{className:"text-xl font-bold text-gray-400 mb-2",children:"Menu Not Uploaded"}),w.jsx("p",{className:"text-sm text-gray-400",children:"Check back later"})]});const N=new Date().toLocaleDateString("en-US",{weekday:"long"}),j=e.menu[N]||e.menu.Monday;return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"p-3 rounded-xl bg-orange-50 border border-orange-100",children:[w.jsx("h4",{className:"text-xs font-bold text-orange-600 uppercase tracking-wider mb-1",children:"Breakfast"}),w.jsx("p",{className:"text-gray-800 text-sm",children:zs(j.Breakfast)})]}),w.jsxs("div",{className:"p-3 rounded-xl bg-green-50 border border-green-100",children:[w.jsx("h4",{className:"text-xs font-bold text-green-600 uppercase tracking-wider mb-1",children:"Lunch"}),w.jsx("p",{className:"text-gray-800 text-sm",children:zs(j.Lunch)})]}),w.jsxs("div",{className:"p-3 rounded-xl bg-yellow-50 border border-yellow-100",children:[w.jsx("h4",{className:"text-xs font-bold text-yellow-600 uppercase tracking-wider mb-1",children:"Snacks"}),w.jsx("p",{className:"text-gray-800 text-sm",children:zs(j.Snacks)})]}),w.jsxs("div",{className:"p-3 rounded-xl bg-blue-50 border border-blue-100",children:[w.jsx("h4",{className:"text-xs font-bold text-blue-600 uppercase tracking-wider mb-1",children:"Dinner"}),w.jsx("p",{className:"text-gray-800 text-sm",children:zs(j.Dinner)})]})]})})()})]})})})]}):w.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Mess not found"})},zs=t=>t?t.toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"",LA=({days:t,mess:e})=>w.jsxs("table",{className:"w-full text-left border-collapse min-w-[600px] bg-white origin-top-left h-full",children:[w.jsx("thead",{className:"bg-white/95 backdrop-blur-sm shadow-sm sticky top-0 z-10",children:w.jsxs("tr",{className:"border-b border-gray-200",children:[w.jsx("th",{className:"py-2 px-3 font-bold text-gray-500 uppercase tracking-wider text-[10px]",children:"Day"}),w.jsx("th",{className:"py-2 px-3 font-bold text-orange-600 uppercase tracking-wider text-[10px]",children:"Breakfast"}),w.jsx("th",{className:"py-2 px-3 font-bold text-green-600 uppercase tracking-wider text-[10px]",children:"Lunch"}),w.jsx("th",{className:"py-2 px-3 font-bold text-yellow-600 uppercase tracking-wider text-[10px]",children:"Snacks"}),w.jsx("th",{className:"py-2 px-3 font-bold text-blue-600 uppercase tracking-wider text-[10px]",children:"Dinner"})]})}),w.jsx("tbody",{className:"divide-y divide-gray-100",children:t.map(n=>w.jsxs("tr",{id:`row-${n}`,className:"hover:bg-gray-50 transition-colors group duration-300",children:[w.jsx("td",{className:"py-1.5 px-3 font-bold text-gray-800 text-[10px]",children:n}),w.jsx("td",{className:"py-1.5 px-3 text-gray-600 group-hover:text-gray-900 text-[10px] leading-tight",children:zs(e.menu[n]?.Breakfast)}),w.jsx("td",{className:"py-1.5 px-3 text-gray-600 group-hover:text-gray-900 text-[10px] leading-tight",children:zs(e.menu[n]?.Lunch)}),w.jsx("td",{className:"py-1.5 px-3 text-gray-600 group-hover:text-gray-900 text-[10px] leading-tight",children:zs(e.menu[n]?.Snacks)}),w.jsx("td",{className:"py-1.5 px-3 text-gray-600 group-hover:text-gray-900 text-[10px] leading-tight",children:zs(e.menu[n]?.Dinner)})]},n))})]}),v8=()=>{const[t,e]=V.useState("admin@mitmess.com"),[n,r]=V.useState(""),[a,l]=V.useState(""),[u,h]=V.useState(!0),d=Qy();V.useEffect(()=>{const v=o2(hr,T=>{T?d("/admin/dashboard"):h(!1)});return()=>v()},[d]);const p=async v=>{v.preventDefault(),h(!0),l("");try{await EU(hr,c2),await TU(hr,t,n)}catch(T){console.error("Login error:",T),l("Invalid password"),h(!1)}},y=v=>{window.innerWidth<768&&v.target===v.currentTarget&&d("/")};return w.jsxs("div",{className:"min-h-screen bg-gray-50 relative flex flex-col",children:[w.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[w.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),w.jsx("div",{className:"absolute top-0 -left-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"})]}),w.jsx(Md,{}),w.jsx("div",{className:"flex-1 flex items-center justify-center relative z-10 px-4 cursor-pointer md:cursor-default",onClick:y,children:w.jsxs(un.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-xl p-8 rounded-2xl shadow-2xl w-full max-w-md border border-white/50 cursor-default",onClick:v=>v.stopPropagation(),children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsx("div",{className:"bg-orange-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:w.jsx(Rb,{className:"text-orange-600",size:32})}),w.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Admin Login"}),w.jsx("p",{className:"text-gray-500 mt-2",children:"Enter your password to access the dashboard"})]}),w.jsxs("form",{onSubmit:p,className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 ml-1",children:"Access Code"}),w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:w.jsx(Rb,{className:"h-5 w-5 text-gray-400"})}),w.jsx("input",{type:"password",value:n,onChange:v=>{r(v.target.value);const T=v.target.value.trim().replace(/\s+/g,"_");e(`${T}@mitmess.com`)},className:"w-full pl-10 px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-all bg-white/50",placeholder:"Enter your secret code",autoFocus:!0})]}),a&&w.jsx("p",{className:"text-red-500 text-sm mt-2 ml-1",children:a})]}),w.jsx("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-orange-600 to-red-600 text-white py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:u?w.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):w.jsxs(w.Fragment,{children:["Access Dashboard ",w.jsx(n1,{size:20})]})})]})]})})]})},_8="modulepreload",T8=function(t,e){return new URL(t,e).href},jA={},E8=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let p=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};const u=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),d=h?.nonce||h?.getAttribute("nonce");a=p(n.map(y=>{if(y=T8(y,r),y in jA)return;jA[y]=!0;const v=y.endsWith(".css"),T=v?'[rel="stylesheet"]':"";if(r)for(let R=u.length-1;R>=0;R--){const M=u[R];if(M.href===y&&(!v||M.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${y}"]${T}`))return;const S=document.createElement("link");if(S.rel=v?"stylesheet":_8,v||(S.as="script"),S.crossOrigin="",S.href=y,d&&S.setAttribute("nonce",d),document.head.appendChild(S),v)return new Promise((R,M)=>{S.addEventListener("load",R),S.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})},b8=({onClose:t})=>{const[e,n]=V.useState([]),[r,a]=V.useState(""),[l,u]=V.useState("mess_admin"),[h,d]=V.useState(""),[p,y]=V.useState(!1),[v,T]=V.useState("");V.useEffect(()=>{(async()=>{const N=(await yd(qa(jn,"messes"))).docs.map(j=>({id:j.id,...j.data()}));n(N),N.length>0&&d(N[0].id)})()},[]);const S=async R=>{if(R.preventDefault(),!!r&&window.confirm("WARNING: Creating a new account requires logging out of the current session. You will need to log back in as Super Admin afterwards. Continue?")){y(!0),T("");try{const N=`${r.trim().replace(/\s+/g,"_")}@mitmess.com`;await a2(hr,N,r),await PR($a(jn,"users",N),{email:N,role:l,messId:l==="mess_admin"?h:null,createdAt:new Date().toISOString()}),alert(`Success! Access Code "${r}" created. You will now be logged out.`),await By(hr),window.location.reload()}catch(M){console.error("Creation Error:",M),T(M.message),y(!1),await By(hr)}}};return w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:w.jsxs(un.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:[w.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(s1,{className:"text-orange-600",size:24}),w.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Create Access Code"})]}),w.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:w.jsx(yl,{size:24})})]}),w.jsxs("div",{className:"p-6",children:[w.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 flex gap-3",children:[w.jsx(a1,{className:"text-yellow-600 shrink-0",size:20}),w.jsxs("p",{className:"text-sm text-yellow-800",children:["Creating a new code will ",w.jsx("strong",{children:"log you out"}),". You'll need to sign back in with your Super Admin code afterwards."]})]}),w.jsxs("form",{onSubmit:S,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Access Code"}),w.jsx("input",{type:"text",value:r,onChange:R=>a(R.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",placeholder:"e.g. AdityaBoss123",required:!0}),w.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be both the login code and password."})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),w.jsxs("select",{value:l,onChange:R=>u(R.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",children:[w.jsx("option",{value:"mess_admin",children:"Mess Admin"}),w.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),l==="mess_admin"&&w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign Mess"}),w.jsx("select",{value:h,onChange:R=>d(R.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",children:e.map(R=>w.jsx("option",{value:R.id,children:R.name},R.id))})]}),v&&w.jsx("p",{className:"text-red-600 text-sm bg-red-50 p-2 rounded",children:v}),w.jsx("button",{type:"submit",disabled:p,className:"w-full bg-orange-600 text-white py-3 rounded-lg font-semibold shadow-lg hover:bg-orange-700 transition-all flex items-center justify-center gap-2 disabled:opacity-70",children:p?w.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):w.jsxs(w.Fragment,{children:["Create & Logout ",w.jsx(o1,{size:20})]})})]})]})]})})},w8=()=>{const[t,e]=V.useState([]),[n,r]=V.useState(""),[a,l]=V.useState(!1),[u,h]=V.useState("idle"),[d,p]=V.useState(""),[y,v]=V.useState(null),[T,S]=V.useState(null),[R,M]=V.useState(!1),[N,j]=V.useState(""),[B,F]=V.useState("from-orange-500 to-red-500"),[ae,se]=V.useState(!1),[le,I]=V.useState([]),[x,D]=V.useState(!1),[L,k]=V.useState(!1),H=Qy(),P=async()=>{try{await By(hr),H("/admin")}catch(J){console.error("Error logging out:",J)}},ze=async(J,he,ge=null)=>{try{await tA(qa(jn,"audit_logs"),{timestamp:new Date().toISOString(),action:J,details:he,messId:ge,adminEmail:hr.currentUser?.email||"unknown"})}catch(Se){console.error("Failed to log action:",Se)}},Ge=async()=>{const he=(await yd(qa(jn,"messes"))).docs.map(ge=>({id:ge.id,...ge.data()}));e(he),T?r(T):he.length>0&&!n&&r(he[0].id)},W=async J=>{if(J)try{const he=await MR($a(jn,"users",J.email));if(he.exists()){const ge=he.data();v(ge.role),S(ge.messId),ge.role==="mess_admin"&&ge.messId&&r(ge.messId)}else console.warn("User not found in users collection, defaulting to restricted access."),v("mess_admin")}catch(he){console.error("Error fetching user role:",he)}},oe=async()=>{D(!0);try{const J=gj(qa(jn,"audit_logs"),yj("timestamp","desc"),vj(50)),ge=(await yd(J)).docs.map(Se=>({id:Se.id,...Se.data()}));I(ge)}catch(J){console.error("Error fetching history:",J)}finally{D(!1)}};V.useEffect(()=>{const J=o2(hr,async he=>{he?(await W(he),Ge()):H("/admin")});return()=>J()},[H,T]);const de=J=>{J.preventDefault(),l(!0)},Ae=()=>{l(!1)},Me=J=>{J.preventDefault(),l(!1);const he=J.dataTransfer.files;he.length>0&&ue(he[0])},U=async J=>{if(J.preventDefault(),!!N)try{const he={Monday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Tuesday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Wednesday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Thursday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Friday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Saturday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"},Sunday:{Breakfast:"N/A",Lunch:"N/A",Snacks:"N/A",Dinner:"N/A"}},ge=await tA(qa(jn,"messes"),{name:N,color:B,menu:he,lastUpdated:new Date().toISOString()});await ze("CREATE_MESS",`Created mess: ${N}`,ge.id),j(""),M(!1),await Ge(),r(ge.id),alert("Mess added successfully!")}catch(he){console.error("Error adding mess: ",he),alert("Failed to add mess.")}},te=async()=>{if(n&&window.confirm("Are you sure you want to delete this mess? This action cannot be undone."))try{const J=t.find(he=>he.id===n)?.name||n;await VR($a(jn,"messes",n)),await ze("DELETE_MESS",`Deleted mess: ${J}`,n),await Ge(),t.length>1?r(t[0].id===n?t[1].id:t[0].id):r(""),alert("Mess deleted successfully.")}catch(J){console.error("Error deleting mess: ",J),alert("Failed to delete mess.")}},ue=async J=>{h("uploading"),p("");try{const he=new FileReader;he.readAsDataURL(J),he.onload=async()=>{const ge=he.result.split(",")[1];h("processing");try{console.log("VERSION: GEMINI-2.0-FLASH-FINAL");const{GoogleGenerativeAI:Se}=await E8(async()=>{const{GoogleGenerativeAI:rt}=await import("./index-eZp-A-GY.js");return{GoogleGenerativeAI:rt}},[],import.meta.url),$e=new Se("AIzaSyBiZukqBjGS2nd2lyyVTCle02aHth6jrLQ").getGenerativeModel({model:"gemini-2.0-flash"}),Bn=`
                    Extract the weekly menu from this image and return it as a strictly valid JSON object.
                    
                    CRITICAL INSTRUCTION: You must extract EVERY SINGLE DISH listed for each meal. 
                    - Do NOT summarize. 
                    - Do NOT truncate. 
                    - List all items separated by commas exactly as they appear in the image.
                    - If there are multiple items (e.g., "Rice, Dal, Curd"), include ALL of them.
                    - **IMPORTANT: Format all text in Sentence case (e.g., "Paneer butter masala", "Mix veg paratha"). Do NOT use ALL CAPS.**

                    The JSON structure must be exactly like this:
                    {
                        "Monday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Tuesday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Wednesday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Thursday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Friday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Saturday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." },
                        "Sunday": { "Breakfast": "...", "Lunch": "...", "Snacks": "...", "Dinner": "..." }
                    }
                    If a meal is missing, use "N/A".
                    Do not include any markdown formatting (like \`\`\`json), just the raw JSON string.
                    `,fi=new Promise((rt,Vi)=>setTimeout(()=>Vi(new Error("Request timed out (30s)")),3e4)),Pi=$e.generateContent([Bn,{inlineData:{data:ge,mimeType:J.type}}]),Zr=(await(await Promise.race([Pi,fi])).response).text();console.log("Gemini Response:",Zr);const yr=Zr.replace(/```json/g,"").replace(/```/g,"").trim();let Jr;try{Jr=JSON.parse(yr)}catch(rt){throw console.error("JSON Parse Error:",rt),new Error("AI returned invalid data. Try a clearer image.")}const la=$a(jn,"messes",n);await Ej(la,{menu:Jr,lastUpdated:new Date().toISOString()});const _t=t.find(rt=>rt.id===n)?.name||n;await ze("UPDATE_MENU",`Updated menu for ${_t}`,n),h("success")}catch(Se){console.error("Gemini/Firestore Error:",Se),h("error"),p(Se.message||"Unknown error occurred")}}}catch(he){console.error("File Reading Error:",he),h("error"),p("Failed to read the file.")}};return w.jsxs("div",{className:"min-h-screen bg-gray-50 relative",children:[w.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[w.jsx("div",{className:"absolute -top-40 -right-40 w-96 h-96 bg-orange-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),w.jsx("div",{className:"absolute top-0 -left-40 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"})]}),w.jsx(Md,{}),w.jsx("main",{className:"relative z-10 pt-24 pb-12 px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto",children:w.jsxs(un.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/50 overflow-hidden",children:[w.jsxs("div",{className:"p-8 border-b border-gray-100 flex justify-between items-center",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Menu Dashboard"}),w.jsx("p",{className:"text-gray-500 mt-2",children:"Update weekly menus using AI-powered image recognition"})]}),w.jsxs("div",{className:"flex gap-2",children:[y==="super_admin"&&w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>k(!0),className:"p-2 text-gray-500 hover:text-orange-600 hover:bg-orange-50 rounded-full transition-all",title:"Manage Access Codes",children:w.jsx(o1,{size:24})}),w.jsx("button",{onClick:()=>{se(!0),oe()},className:"p-2 text-gray-500 hover:text-orange-600 hover:bg-orange-50 rounded-full transition-all",title:"View History",children:w.jsx(xb,{size:24})})]}),w.jsx("button",{onClick:P,className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-full transition-all",title:"Logout",children:w.jsx(xM,{size:24})})]})]}),w.jsxs("div",{className:"p-8",children:[w.jsxs("div",{className:"mb-8 flex items-end gap-4",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Mess"}),w.jsx("select",{value:n,onChange:J=>r(J.target.value),disabled:y==="mess_admin",className:`w-full px-4 py-3 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none bg-white/50 ${y==="mess_admin"?"opacity-70 cursor-not-allowed":""}`,children:t.map(J=>w.jsx("option",{value:J.id,children:J.name},J.id))})]}),y==="super_admin"&&w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>M(!0),className:"p-3 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",title:"Add New Mess",children:w.jsx(NM,{size:24})}),w.jsx("button",{onClick:te,className:"p-3 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",title:"Delete Selected Mess",children:w.jsx(LM,{size:24})})]})]}),w.jsxs(js,{mode:"wait",children:[u==="idle"&&w.jsxs(un.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`border-3 border-dashed rounded-2xl p-12 text-center transition-all duration-300 ${a?"border-orange-500 bg-orange-50":"border-gray-300 hover:border-orange-400 hover:bg-gray-50"}`,onDragOver:de,onDragLeave:Ae,onDrop:Me,children:[w.jsx("div",{className:"bg-orange-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:w.jsx(Ib,{className:"text-orange-600",size:40})}),w.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Drag & Drop Menu Image"}),w.jsx("p",{className:"text-gray-500 mb-6",children:"or click to browse files"}),w.jsx("input",{type:"file",id:"file-upload",className:"hidden",onChange:J=>{J.target.files.length>0&&ue(J.target.files[0])},accept:"image/*"}),w.jsx("label",{htmlFor:"file-upload",className:"px-6 py-2 bg-white border border-gray-200 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors shadow-sm cursor-pointer",children:"Browse Files"})]}),(u==="uploading"||u==="processing")&&w.jsxs(un.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0},className:"border rounded-2xl p-12 text-center bg-white/50",children:[w.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-6",children:[w.jsx("div",{className:"absolute inset-0 border-4 border-orange-100 rounded-full"}),w.jsx("div",{className:"absolute inset-0 border-4 border-orange-500 rounded-full border-t-transparent animate-spin"}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u==="uploading"?w.jsx(Ib,{className:"text-orange-500 animate-pulse",size:32}):w.jsx(bM,{className:"text-orange-500 animate-pulse",size:32})})]}),w.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:u==="uploading"?"Uploading Image...":"AI Processing..."}),w.jsx("p",{className:"text-gray-500",children:u==="uploading"?"Sending to server":"Extracting menu items from image"})]}),u==="success"&&w.jsxs(un.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"border border-green-200 bg-green-50/50 rounded-2xl p-12 text-center",children:[w.jsx("div",{className:"bg-green-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:w.jsx(i1,{className:"text-green-600",size:40})}),w.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Menu Updated Successfully!"}),w.jsxs("p",{className:"text-gray-600 mb-6",children:["The menu for ",w.jsx("span",{className:"font-semibold",children:t.find(J=>J.id===n)?.name})," has been updated."]}),w.jsx("button",{onClick:()=>h("idle"),className:"px-6 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors shadow-lg",children:"Upload Another"})]}),u==="error"&&w.jsxs(un.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"border border-red-200 bg-red-50/50 rounded-2xl p-8 text-center",children:[w.jsx("h3",{className:"text-xl font-semibold text-red-900 mb-2",children:"Upload Failed"}),w.jsx("p",{className:"text-red-600 mb-6 font-mono text-sm bg-red-100 p-3 rounded",children:d}),w.jsx("button",{onClick:()=>h("idle"),className:"px-6 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700 transition-colors shadow-lg",children:"Try Again"})]})]})]})]})}),w.jsx(js,{children:R&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:w.jsxs(un.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden",children:[w.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:[w.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add New Mess"}),w.jsx("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-gray-600",children:w.jsx(yl,{size:24})})]}),w.jsxs("form",{onSubmit:U,className:"p-6 space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mess Name"}),w.jsx("input",{type:"text",value:N,onChange:J=>j(J.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",placeholder:"e.g., New Hostel Mess",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Theme Color"}),w.jsxs("select",{value:B,onChange:J=>F(J.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-orange-500 outline-none",children:[w.jsx("option",{value:"from-orange-500 to-red-500",children:"Orange (Default)"}),w.jsx("option",{value:"from-blue-500 to-cyan-500",children:"Blue"}),w.jsx("option",{value:"from-green-500 to-emerald-500",children:"Green"}),w.jsx("option",{value:"from-purple-500 to-pink-500",children:"Purple"}),w.jsx("option",{value:"from-pink-500 to-rose-500",children:"Pink"})]})]}),w.jsxs("div",{className:"pt-4 flex gap-3",children:[w.jsx("button",{type:"button",onClick:()=>M(!1),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),w.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg font-medium hover:bg-orange-700 transition-colors",children:"Create Mess"})]})]})]})})}),w.jsx(js,{children:ae&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:w.jsxs(un.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[80vh]",children:[w.jsxs("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center shrink-0",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(xb,{className:"text-orange-600",size:24}),w.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Activity History"})]}),w.jsx("button",{onClick:()=>se(!1),className:"text-gray-400 hover:text-gray-600",children:w.jsx(yl,{size:24})})]}),w.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:x?w.jsx("div",{className:"flex justify-center py-8",children:w.jsx(r1,{className:"animate-spin text-orange-500",size:32})}):le.length===0?w.jsx("p",{className:"text-center text-gray-500 py-8",children:"No activity recorded yet."}):w.jsx("div",{className:"space-y-4",children:le.map(J=>w.jsxs("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[w.jsx("div",{className:"mt-1",children:w.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm",children:w.jsx(tv,{size:16,className:"text-gray-500"})})}),w.jsxs("div",{children:[w.jsx("p",{className:"font-medium text-gray-900",children:J.details}),w.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500",children:[w.jsx("span",{className:"font-semibold text-orange-600",children:J.adminEmail}),w.jsx("span",{children:""}),w.jsx("span",{children:new Date(J.timestamp).toLocaleString()})]})]})]},J.id))})})]})})}),w.jsx(js,{children:L&&w.jsx(b8,{onClose:()=>k(!1)})})]})};class S8 extends si.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){this.setState({error:e,errorInfo:n}),console.error("Uncaught error:",e,n)}render(){return this.state.hasError?w.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:w.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl max-w-lg w-full border border-red-100",children:[w.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),w.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg overflow-auto max-h-64 mb-4 text-sm font-mono text-gray-800",children:[this.state.error&&this.state.error.toString(),w.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]}),w.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Reload Page"})]})}):this.props.children}}const A8=()=>{const[t,e]=V.useState(""),[n,r]=V.useState("idle"),[a,l]=V.useState(""),u=async h=>{if(h.preventDefault(),!!t){r("processing"),l("Starting system reset...");try{l("Removing existing user roles...");const d=qa(jn,"users"),y=(await yd(d)).docs.map(S=>VR(S.ref));await Promise.all(y),l("Creating Super Admin privileges...");const T=`${t.trim().replace(/\s+/g,"_")}@mitmess.com`;await PR($a(jn,"users",T),{email:T,role:"super_admin",createdAt:new Date().toISOString()}),l("Setting up authentication...");try{await a2(hr,T,t),l("System reset complete! Super Admin created.")}catch(S){if(S.code==="auth/email-already-in-use")l("System reset complete! (Admin account already existed, permissions restored).");else throw S}r("success")}catch(d){console.error("Reset failed:",d),r("error"),l(`Failed: ${d.message}`)}}};return w.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:w.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl overflow-hidden border border-red-100",children:[w.jsxs("div",{className:"bg-red-50 p-6 border-b border-red-100 flex items-center gap-4",children:[w.jsx("div",{className:"p-3 bg-red-100 text-red-600 rounded-full",children:w.jsx(a1,{size:24})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-xl font-bold text-red-900",children:"System Reset"}),w.jsx("p",{className:"text-red-600 text-sm",children:"Emergency Recovery Tool"})]})]}),w.jsxs("div",{className:"p-6",children:[w.jsxs("p",{className:"text-gray-600 mb-6 text-sm",children:["This tool will ",w.jsx("strong",{children:"delete all existing user roles"})," from the database and allow you to create a new Super Admin account.",w.jsx("br",{}),w.jsx("br",{}),"Use this if you have lost access to the Super Admin account."]}),n==="success"?w.jsxs("div",{className:"text-center py-6",children:[w.jsx("div",{className:"w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:w.jsx(i1,{size:32})}),w.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Reset Successful"}),w.jsx("p",{className:"text-gray-600 mb-6",children:a}),w.jsx("a",{href:"/admin",className:"inline-block w-full py-3 px-4 bg-gray-900 text-white rounded-xl font-medium hover:bg-gray-800 transition-colors",children:"Go to Login"})]}):w.jsxs("form",{onSubmit:u,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Super Admin Access Code"}),w.jsxs("div",{className:"relative",children:[w.jsx(s1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),w.jsx("input",{type:"text",value:t,onChange:h=>e(h.target.value),className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-red-500 outline-none transition-all",placeholder:"Enter new code (e.g. admin123)",required:!0,disabled:n==="processing"})]})]}),n==="error"&&w.jsx("div",{className:"p-3 bg-red-50 text-red-600 text-sm rounded-lg",children:a}),w.jsx("button",{type:"submit",disabled:n==="processing"||!t,className:"w-full py-3 px-4 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:n==="processing"?w.jsxs(w.Fragment,{children:[w.jsx(r1,{className:"animate-spin",size:20}),"Resetting..."]}):"Reset System & Create Admin"})]})]})]})})};function C8(){return w.jsx(S8,{children:w.jsx(tM,{children:w.jsxs(MN,{children:[w.jsx(el,{path:"/",element:w.jsx(iB,{})}),w.jsx(el,{path:"/mess/:id",element:w.jsx(y8,{})}),w.jsx(el,{path:"/admin",element:w.jsx(v8,{})}),w.jsx(el,{path:"/admin/dashboard",element:w.jsx(w8,{})}),w.jsx(el,{path:"/system-reset",element:w.jsx(A8,{})})]})})})}zD.createRoot(document.getElementById("root")).render(w.jsx(V.StrictMode,{children:w.jsx(C8,{})}));
